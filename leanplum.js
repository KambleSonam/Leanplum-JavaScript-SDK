!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Leanplum=t():e.Leanplum=t()}(self,(()=>(()=>{var e={739:function(e){e.exports=function(){"use strict";var e=0;function t(t){return"__private_"+e+++"_"+t}function i(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}const n="clevertap-prod.com",o="https:";var r=t("accountId"),s=t("region"),a=t("targetDomain"),l=t("dcSdkversion"),c=t("token");class d{constructor(){let{id:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";Object.defineProperty(this,r,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:""}),Object.defineProperty(this,a,{writable:!0,value:n}),Object.defineProperty(this,l,{writable:!0,value:""}),Object.defineProperty(this,c,{writable:!0,value:""}),this.id=e,t&&(this.region=t),i&&(this.targetDomain=i),o&&(this.token=o)}get id(){return i(this,r)[r]}set id(e){i(this,r)[r]=e}get region(){return i(this,s)[s]}set region(e){i(this,s)[s]=e}get dcSDKVersion(){return i(this,l)[l]}set dcSDKVersion(e){i(this,l)[l]=e}get targetDomain(){return i(this,a)[a]}set targetDomain(e){i(this,a)[a]=e}get token(){return i(this,c)[c]}set token(e){i(this,c)[c]=e}get finalTargetDomain(){return this.region?"".concat(this.region,".").concat(this.targetDomain):this.targetDomain===n?"".concat("eu1",".").concat(this.targetDomain):this.targetDomain}get dataPostPEURL(){return"".concat(o,"//").concat(this.finalTargetDomain,"/defineVars")}get dataPostURL(){return"".concat(o,"//").concat(this.finalTargetDomain,"/a?t=96")}get recorderURL(){return"".concat(o,"//").concat(this.finalTargetDomain,"/r?r=1")}get emailURL(){return"".concat(o,"//").concat(this.finalTargetDomain,"/e?r=1")}}const u=new RegExp("^\\s+|\\.|:|\\$|'|\"|\\\\|\\s+$","g"),h=new RegExp("^\\s+|'|\"|\\\\|\\s+$","g"),p=new RegExp("'","g"),g="clear",f="Charged ID",v="WZRK_CHARGED_ID",b="WZRK_G",m="WZRK_K",y="WZRK_CAMP",w="WZRK_CAMP_G",S="WZRK_EV",_="WZRK_META",C="WZRK_PR",k="WZRK_ARP",E="WZRK_L",A="global",I="display",P="optOut",O="useIP",T="WZRK_X",x="isOUL",R="push",M=31536e3,D="cUsY",N="wzrk_",L="wzrk_id",U="Notification Viewed",j="Notification Clicked",F="WZRK_FPU",V="WZRK_PSD",q="$incr",B="$add",z="$remove",H="$delete",K="WZRK_INBOX_CONFIG",W="WZRK_INBOX",G=1e3,Y="wzrk_fetch",J=["Stayed","UTM Visited","App Launched","Notification Sent",U,j],$=e=>"string"==typeof e||e instanceof String,Z=e=>"[object Object]"===Object.prototype.toString.call(e),Q=e=>"object"==typeof e&&e instanceof Date,X=e=>{for(const t in e)if(e.hasOwnProperty(t))return!1;return!0},ee=e=>!isNaN(parseFloat(e))&&isFinite(e),te=e=>/^-?[\d.]+(?:e-?\d+)?$/.test(e)&&"number"==typeof e,ie=e=>null!=e&&"undefined"!==e,ne=(e,t)=>{if("object"!=typeof e){let i;return $(e)?(i=oe(e,h),i.length>1024&&(i=i.substring(0,1024),t.reportError(521,i+"... length exceeded 1024 chars. Trimmed."))):i=e,i}for(const i in e)if(e.hasOwnProperty(i)){const n=ne(e[i],t);let o;o=oe(i,u),o.length>1024&&(o=o.substring(0,1024),t.reportError(520,o+"... length exceeded 1024 chars. Trimmed.")),delete e[i],e[o]=n}return e},oe=(e,t)=>e.replace(t,""),re=()=>{const e=new Date;return e.getFullYear()+""+e.getMonth()+e.getDay()},se=()=>Math.floor((new Date).getTime()/1e3),ae=e=>"$D_"+Math.round(e.getTime()/1e3),le=e=>{if(ce(e))return"$D_"+e},ce=e=>{const t=/^(\d{4})(\d{2})(\d{2})$/.exec(e);if(null==t)return!1;const i=t[3],n=t[2]-1,o=t[1],r=new Date(o,n,i);return r.getDate()==i&&r.getMonth()==n&&r.getFullYear()==o};class de{static save(e,t){return!(!e||!t)&&(this._isLocalStorageSupported()?(localStorage.setItem(e,"string"==typeof t?t:JSON.stringify(t)),!0):void 0)}static read(e){if(!e)return!1;let t=null;if(this._isLocalStorageSupported()&&(t=localStorage.getItem(e)),null!=t)try{t=JSON.parse(t)}catch(e){}return t}static remove(e){return!!e&&(this._isLocalStorageSupported()?(localStorage.removeItem(e),!0):void 0)}static removeCookie(e,t){let i=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;";t&&(i=i+" domain="+t+"; path=/"),document.cookie=i}static createCookie(e,t,i,n){let o="",r="";if(i){const e=new Date;e.setTime(e.getTime()+1e3*i),o="; expires="+e.toGMTString()}n&&(r="; domain="+n),t=encodeURIComponent(t),document.cookie=e+"="+t+o+r+"; path=/"}static readCookie(e){const t=e+"=",i=document.cookie.split(";");for(let e=0;e<i.length;e++){let n=i[e];for(;" "===n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return decodeURIComponent(n.substring(t.length,n.length))}return null}static _isLocalStorageSupported(){return"localStorage"in window&&null!==window.localStorage&&"function"==typeof window.localStorage.setItem}static saveToLSorCookie(e,t){if(null!=t)try{this._isLocalStorageSupported()?this.save(e,encodeURIComponent(JSON.stringify(t))):e===b?this.createCookie(e,encodeURIComponent(t),0,window.location.hostname):this.createCookie(e,encodeURIComponent(JSON.stringify(t)),0,window.location.hostname),ue.globalCache[e]=t}catch(e){}}static readFromLSorCookie(e){let t;if(ue.globalCache.hasOwnProperty(e))return ue.globalCache[e];if(t=this._isLocalStorageSupported()?this.read(e):this.readCookie(e),null!=t&&("function"!=typeof t.trim||""!==t.trim())){let i;try{i=JSON.parse(decodeURIComponent(t))}catch(e){i=decodeURIComponent(t)}return ue.globalCache[e]=i,i}}static createBroadCookie(e,t,i,n){if(n){let r=ue.broadDomain;if(null==r){const s=n.split(".");let a="";for(let n=s.length-1;n>=0;n--){if(a=0===n?s[n]+a:"."+s[n]+a,this.readCookie(e)){var o="test_"+e+n;if(this.createCookie(o,t,10,a),!this.readCookie(o))continue;this.removeCookie(o,a)}if(this.createCookie(e,t,i,a),this.readCookie(e)==t){r=a,ue.broadDomain=r;break}}}else this.createCookie(e,t,i,r)}else this.createCookie(e,t,i,n)}static getMetaProp(e){const t=this.readFromLSorCookie(_);if(null!=t)return t[e]}static setMetaProp(e,t){if(this._isLocalStorageSupported()){let i=this.readFromLSorCookie(_);null==i&&(i={}),void 0===t?delete i[e]:i[e]=t,this.saveToLSorCookie(_,i)}}static getAndClearMetaProp(e){const t=this.getMetaProp(e);return this.setMetaProp(e,void 0),t}static setInstantDeleteFlagInK(){let e=this.readFromLSorCookie(m);null==e&&(e={}),e.flag=!0,this.saveToLSorCookie(m,e)}static backupEvent(e,t,i){let n=this.readFromLSorCookie(E);void 0===n&&(n={}),n[t]={q:e},this.saveToLSorCookie(E,n),i.debug("stored in ".concat(E," reqNo : ").concat(t," -> ").concat(e))}static removeBackup(e,t){const i=this.readFromLSorCookie(E);null!=i&&void 0!==i[e]&&(t.debug("del event: ".concat(e," data-> ").concat(i[e].q)),delete i[e],this.saveToLSorCookie(E,i))}}const ue={globalCache:{gcookie:null,REQ_N:0,RESP_N:0},LRU_CACHE:null,globalProfileMap:void 0,globalEventsMap:void 0,blockRequest:!1,isOptInRequest:!1,broadDomain:null,webPushEnabled:null,campaignDivMap:{},currentSessionId:null,wiz_counter:0,notifApi:{notifEnabledFromApi:!1},unsubGroups:[],updatedCategoryLong:null,inbox:null,isPrivacyArrPushed:!1,privacyArray:[],offline:!1,location:null,dismissSpamControl:!1,globalUnsubscribe:!0,flutterVersion:null,variableStore:{}};var he=t("keyOrder"),pe=t("deleteFromObject");class ge{constructor(e){Object.defineProperty(this,pe,{value:fe}),Object.defineProperty(this,he,{writable:!0,value:void 0}),this.max=e;let t=de.readFromLSorCookie(T);if(t){const e={};i(this,he)[he]=[],t=t.cache;for(const n in t)t.hasOwnProperty(n)&&(e[t[n][0]]=t[n][1],i(this,he)[he].push(t[n][0]));this.cache=e}else this.cache={},i(this,he)[he]=[]}get(e){const t=this.cache[e];return t&&(this.cache=i(this,pe)[pe](e,this.cache),this.cache[e]=t,i(this,he)[he].push(e)),this.saveCacheToLS(this.cache),t}set(e,t){const n=this.cache[e],o=i(this,he)[he];null!=n?this.cache=i(this,pe)[pe](e,this.cache):o.length===this.max&&(this.cache=i(this,pe)[pe](o[0],this.cache)),this.cache[e]=t,i(this,he)[he][i(this,he)[he]-1]!==e&&i(this,he)[he].push(e),this.saveCacheToLS(this.cache)}saveCacheToLS(e){const t=[],n=i(this,he)[he];for(const i in n)if(n.hasOwnProperty(i)){const o=[];o.push(n[i]),o.push(e[n[i]]),t.push(o)}de.saveToLSorCookie(T,{cache:t})}getKey(e){if(null===e)return null;const t=i(this,he)[he];for(const i in t)if(t.hasOwnProperty(i)&&this.cache[t[i]]===e)return t[i];return null}getSecondLastKey(){const e=i(this,he)[he];return null!=e&&e.length>1?e[e.length-2]:-1}getLastKey(){const e=i(this,he)[he].length;if(e)return i(this,he)[he][e-1]}}var fe=function(e,t){const n=JSON.parse(JSON.stringify(i(this,he)[he])),o={};let r;for(const i in n)n.hasOwnProperty(i)&&(n[i]!==e?o[n[i]]=t[n[i]]:r=i);return n.splice(r,1),i(this,he)[he]=JSON.parse(JSON.stringify(n)),o},ve=t("logger"),be=t("request"),me=t("device"),ye=t("session");class we{constructor(e){let{logger:t,request:n,device:o,session:r}=e;Object.defineProperty(this,ve,{writable:!0,value:void 0}),Object.defineProperty(this,be,{writable:!0,value:void 0}),Object.defineProperty(this,me,{writable:!0,value:void 0}),Object.defineProperty(this,ye,{writable:!0,value:void 0}),i(this,ve)[ve]=t,i(this,be)[be]=n,i(this,me)[me]=o,i(this,ye)[ye]=r}s(e,t,n,o,r){let s=!1,a=!1;if(window.isOULInProgress&&(n||"undefined"!==o&&o===window.oulReqN)&&(window.isOULInProgress=!1,s=!0),void 0===o&&(o=0),de.removeBackup(o,i(this,ve)[ve]),o>ue.globalCache.REQ_N)return;if(ie(i(this,me)[me].gcookie)||e&&(a=!0),!ie(i(this,me)[me].gcookie)||n||"boolean"==typeof r){const o=i(this,ye)[ye].getSessionCookieObject();if(window.isOULInProgress||o.s&&t<o.s)return;if(i(this,ve)[ve].debug("Cookie was ".concat(i(this,me)[me].gcookie," set to ").concat(e)),i(this,me)[me].gcookie=e,ie(i(this,me)[me].gcookie)||de.getAndClearMetaProp(O),e&&de._isLocalStorageSupported()){null==ue.LRU_CACHE&&(ue.LRU_CACHE=new ge(100));const t=de.readFromLSorCookie(m);let o;null!=t&&t.id&&(o=ue.LRU_CACHE.cache[t.id],n&&(o||(de.saveToLSorCookie(F,!0),ue.LRU_CACHE.set(t.id,e)))),de.saveToLSorCookie(b,e);const r=ue.LRU_CACHE.getSecondLastKey();if(de.readFromLSorCookie(F)&&-1!==r){const e=ue.LRU_CACHE.cache[r];i(this,be)[be].unregisterTokenForGuid(e)}}de.createBroadCookie(b,e,M,window.location.hostname),de.saveToLSorCookie(b,e)}de._isLocalStorageSupported()&&i(this,ye)[ye].manageSession(t);const l=i(this,ye)[ye].getSessionCookieObject();(void 0===l.s||l.s<=t)&&(l.s=t,l.t=se(),i(this,ye)[ye].setSessionCookieObject(l)),ie(i(this,me)[me].gcookie)&&(ue.blockRequest=!1),!s&&!a||i(this,be)[be].processingBackup||i(this,be)[be].processBackupEvents(),ue.globalCache.RESP_N=o}}var Se=t("logger");class _e{constructor(e){let{logger:t}=e;Object.defineProperty(this,Se,{writable:!0,value:void 0}),this.gcookie=void 0,i(this,Se)[Se]=t,this.gcookie=this.getGuid()}getGuid(){let e=null;if(ie(this.gcookie))return this.gcookie;if(de._isLocalStorageSupported()){const t=de.read(b);if(ie(t)){try{e=JSON.parse(decodeURIComponent(t))}catch(n){i(this,Se)[Se].debug("Cannot parse Gcookie from localstorage - must be encoded "+t),32===t.length?(e=t,de.saveToLSorCookie(b,t)):i(this,Se)[Se].error("Illegal guid "+t)}ie(e)&&de.createBroadCookie(b,e,M,window.location.hostname)}}return ie(e)||(e=de.readCookie(b),!ie(e)||0!==e.indexOf("%")&&0!==e.indexOf("'")&&0!==e.indexOf('"')||(e=null),ie(e)&&de.saveToLSorCookie(b,e)),e}}const Ce="This property has been ignored.",ke="CleverTap error:",Ee="".concat(ke," Incorrect embed script."),Ae="".concat(ke," Event structure not valid. ").concat(Ce),Ie="".concat(ke," Gender value should be either M or F. ").concat(Ce),Pe="".concat(ke," Employed value should be either Y or N. ").concat(Ce),Oe="".concat(ke," Married value should be either Y or N. ").concat(Ce),Te="".concat(ke," Education value should be either School, College or Graduate. ").concat(Ce),xe="".concat(ke," Age value should be a number. ").concat(Ce),Re="".concat(ke," DOB value should be a Date Object"),Me="".concat(ke," setEnum(value). value should be a string or a number"),De="".concat(ke," Phone number should be formatted as +[country code][number]");let Ne;const Le=e=>{if(Z(e)){for(var t in e)if(e.hasOwnProperty(t)){if(Z(e[t])||Array.isArray(e[t]))return!1;Q(e[t])&&(e[t]=ae(e[t]))}return!0}return!1},Ue=(e,t)=>{if(Z(e)){for(var i in e)if(e.hasOwnProperty(i))if("Items"===i){if(!Array.isArray(e[i]))return!1;for(var n in e[i].length>50&&t.reportError(522,"Charged Items exceed 50 limit. Actual count: "+e[i].length),e[i])if(e[i].hasOwnProperty(n)&&(!Z(e[i][n])||!Le(e[i][n])))return!1}else{if(Z(e[i])||Array.isArray(e[i]))return!1;Q(e[i])&&(e[i]=ae(e[i]))}if($(e[f])||te(e[f])){const i=e[f]+"";if(void 0===Ne&&(Ne=de.readFromLSorCookie(v)),void 0!==Ne&&Ne.trim()===i.trim())return t.error("Duplicate charged Id - Dropped"+e),!1;Ne=i,de.saveToLSorCookie(v,i)}return!0}return!1};var je=t("logger"),Fe=t("oldValues"),Ve=t("request"),qe=t("isPersonalisationActive"),Be=t("processEventArray");class ze extends Array{constructor(e,t){let{logger:n,request:o,isPersonalisationActive:r}=e;super(),Object.defineProperty(this,Be,{value:He}),Object.defineProperty(this,je,{writable:!0,value:void 0}),Object.defineProperty(this,Fe,{writable:!0,value:void 0}),Object.defineProperty(this,Ve,{writable:!0,value:void 0}),Object.defineProperty(this,qe,{writable:!0,value:void 0}),i(this,je)[je]=n,i(this,Fe)[Fe]=t,i(this,Ve)[Ve]=o,i(this,qe)[qe]=r}push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(this,Be)[Be](t),0}_processOldValues(){i(this,Fe)[Fe]&&i(this,Be)[Be](i(this,Fe)[Fe]),i(this,Fe)[Fe]=null}getDetails(e){if(!i(this,qe)[qe]())return;if(void 0===ue.globalEventsMap&&(ue.globalEventsMap=de.readFromLSorCookie(S)),void 0===ue.globalEventsMap)return;const t=ue.globalEventsMap[e],n={};return void 0!==t?(n.firstTime=new Date(1e3*t[1]),n.lastTime=new Date(1e3*t[2]),n.count=t[0],n):void 0}}var He=function(e){if(Array.isArray(e))for(;e.length>0;){var t=e.shift();if(!$(t)){i(this,je)[je].error(Ae);continue}if(t.length>1024&&(t=t.substring(0,1024),i(this,je)[je].reportError(510,t+"... length exceeded 1024 chars. Trimmed.")),J.includes(t)){i(this,je)[je].reportError(513,t+" is a restricted system event. It cannot be used as an event name.");continue}const n={type:"event"};if(n.evtName=oe(t,u),0!==e.length){const o=e.shift();if(Z(o)){if("Charged"===t){if(!Ue(o,i(this,je)[je])){i(this,je)[je].reportError(511,"Charged event structure invalid. Not sent.");continue}}else if(!Le(o)){i(this,je)[je].reportError(512,t+" event structure invalid. Not sent.");continue}n.evtData=o}else e.unshift(o)}i(this,Ve)[Ve].processEvent(n)}};const Ke=e=>{const t={},i=e.indexOf("?");if(i>1){const n=e.substring(i+1);let o;const r=/\+/g,s=/([^&=]+)=?([^&]*)/g,a=function(e){let t=e.replace(r," ");try{t=decodeURIComponent(t)}catch(e){}return t};for(o=s.exec(n);o;)t[a(o[1])]=a(o[2]),o=s.exec(n)}return t},We=(e,t,i)=>e+"&"+t+"="+encodeURIComponent(i),Ge=()=>window.location.hostname,Ye=(e,t)=>(t&&"function"==typeof t.debug&&t.debug("dobj:"+e),$e(e)),Je=(()=>{let e="",t=0;for(t=0;t<=25;t++)e+=String.fromCharCode(t+65);for(t=0;t<=25;t++)e+=String.fromCharCode(t+97);for(t=0;t<10;t++)e+=t;return e+"+/="})(),$e=e=>{if(null==e)return"";var t,i,n,o,r,s,a,l="",c=0;for(e=(e=>{if(null==e)return"";let t,i,n,o={},r={},s="",a="",l="",c=2,d=3,u=2,h="",p=0,g=0,f=String.fromCharCode;for(n=0;n<e.length;n+=1)if(s=e.charAt(n),Object.prototype.hasOwnProperty.call(o,s)||(o[s]=d++,r[s]=!0),a=l+s,Object.prototype.hasOwnProperty.call(o,a))l=a;else{if(Object.prototype.hasOwnProperty.call(r,l)){if(l.charCodeAt(0)<256){for(t=0;t<u;t++)p<<=1,15==g?(g=0,h+=f(p),p=0):g++;for(i=l.charCodeAt(0),t=0;t<8;t++)p=p<<1|1&i,15==g?(g=0,h+=f(p),p=0):g++,i>>=1}else{for(i=1,t=0;t<u;t++)p=p<<1|i,15==g?(g=0,h+=f(p),p=0):g++,i=0;for(i=l.charCodeAt(0),t=0;t<16;t++)p=p<<1|1&i,15==g?(g=0,h+=f(p),p=0):g++,i>>=1}c--,0==c&&(c=Math.pow(2,u),u++),delete r[l]}else for(i=o[l],t=0;t<u;t++)p=p<<1|1&i,15==g?(g=0,h+=f(p),p=0):g++,i>>=1;c--,0==c&&(c=Math.pow(2,u),u++),o[a]=d++,l=String(s)}if(""!==l){if(Object.prototype.hasOwnProperty.call(r,l)){if(l.charCodeAt(0)<256){for(t=0;t<u;t++)p<<=1,15==g?(g=0,h+=f(p),p=0):g++;for(i=l.charCodeAt(0),t=0;t<8;t++)p=p<<1|1&i,15==g?(g=0,h+=f(p),p=0):g++,i>>=1}else{for(i=1,t=0;t<u;t++)p=p<<1|i,15==g?(g=0,h+=f(p),p=0):g++,i=0;for(i=l.charCodeAt(0),t=0;t<16;t++)p=p<<1|1&i,15==g?(g=0,h+=f(p),p=0):g++,i>>=1}c--,0==c&&(c=Math.pow(2,u),u++),delete r[l]}else for(i=o[l],t=0;t<u;t++)p=p<<1|1&i,15==g?(g=0,h+=f(p),p=0):g++,i>>=1;c--,0==c&&(c=Math.pow(2,u),u++)}for(i=2,t=0;t<u;t++)p=p<<1|1&i,15==g?(g=0,h+=f(p),p=0):g++,i>>=1;for(;;){if(p<<=1,15==g){h+=f(p);break}g++}return h})(e);c<2*e.length;)c%2==0?(t=e.charCodeAt(c/2)>>8,i=255&e.charCodeAt(c/2),n=c/2+1<e.length?e.charCodeAt(c/2+1)>>8:NaN):(t=255&e.charCodeAt((c-1)/2),(c+1)/2<e.length?(i=e.charCodeAt((c+1)/2)>>8,n=255&e.charCodeAt((c+1)/2)):i=n=NaN),c+=3,o=t>>2,r=(3&t)<<4|i>>4,s=(15&i)<<2|n>>6,a=63&n,isNaN(i)?s=a=64:isNaN(n)&&(a=64),l=l+Je.charAt(o)+Je.charAt(r)+Je.charAt(s)+Je.charAt(a);return l};var Ze=t("fireRequest"),Qe=t("dropRequestDueToOptOut"),Xe=t("addUseIPToRequest"),et=t("addARPToRequest");class tt{constructor(){this.networkRetryCount=0,this.minDelayFrequency=0}static fireRequest(e,t,n,o){i(this,Ze)[Ze](e,1,t,n,o)}getDelayFrequency(){if(this.logger.debug("Network retry #"+this.networkRetryCount),this.networkRetryCount<10)return this.logger.debug(this.account.id,"Failure count is "+this.networkRetryCount+". Setting delay frequency to 1s"),this.minDelayFrequency=G,this.minDelayFrequency;if(null==this.account.region)return this.logger.debug(this.account.id,"Setting delay frequency to 1s"),G;{const e=1e3*(Math.floor(10*Math.random())+1);return this.minDelayFrequency+=e,this.minDelayFrequency<6e5?(this.logger.debug(this.account.id,"Setting delay frequency to "+this.minDelayFrequency),this.minDelayFrequency):(this.minDelayFrequency=G,this.logger.debug(this.account.id,"Setting delay frequency to "+this.minDelayFrequency),this.minDelayFrequency)}}}tt.logger=void 0,tt.device=void 0,tt.account=void 0,Object.defineProperty(tt,Ze,{value:function(e,t,n,o,r){var s,a;if(i(this,Qe)[Qe]())return void this.logger.debug("req dropped due to optout cookie: "+this.device.gcookie);if(ie(this.device.gcookie)||(ue.blockRequest=!0),r&&r===Y)!ie(this.device.gcookie)&&ue.globalCache.RESP_N<ue.globalCache.REQ_N-1&&setTimeout((()=>{this.logger.debug("retrying fire request for url: ".concat(e,", tries: ").concat(this.networkRetryCount)),i(this,Ze)[Ze](e,void 0,n,o)}),this.getDelayFrequency());else if(!ie(this.device.gcookie)&&ue.globalCache.RESP_N<ue.globalCache.REQ_N-1&&t<200)return void setTimeout((()=>{this.logger.debug("retrying fire request for url: ".concat(e,", tries: ").concat(t)),i(this,Ze)[Ze](e,t+1,n,o)}),50);if(o?window.isOULInProgress=!0:(ie(this.device.gcookie)&&(e=We(e,"gc",this.device.gcookie)),e=i(this,et)[et](e,n)),e=We(e,"tries",t),e=i(this,Xe)[Xe](e),e=We(e,"r",(new Date).getTime()),(null===(s=window.clevertap)||void 0===s?void 0:s.hasOwnProperty("plugin"))||(null===(a=window.wizrocket)||void 0===a?void 0:a.hasOwnProperty("plugin"))){const t=window.clevertap.plugin||window.wizrocket.plugin;e=We(e,"ct_pl",t)}-1!==e.indexOf("chrome-extension:")&&(e=e.replace("chrome-extension:","https:"));for(var l=document.getElementsByClassName("ct-jp-cb");l[0]&&l[0].parentNode;)l[0].parentNode.removeChild(l[0]);const c=document.createElement("script");c.setAttribute("type","text/javascript"),c.setAttribute("src",e),c.setAttribute("class","ct-jp-cb"),c.setAttribute("rel","nofollow"),c.async=!0,document.getElementsByTagName("head")[0].appendChild(c),this.logger.debug("req snt -> url: "+e)}}),Object.defineProperty(tt,Qe,{value:function(){return!ue.isOptInRequest&&ie(this.device.gcookie)&&$(this.device.gcookie)?":OO"===this.device.gcookie.slice(-3):(ue.isOptInRequest=!1,!1)}}),Object.defineProperty(tt,Xe,{value:function(e){var t=de.getMetaProp(O);return"boolean"!=typeof t&&(t=!1),We(e,O,t?"true":"false")}}),Object.defineProperty(tt,et,{value:function(e,t){if(!0===t){const t={skipResARP:!0};return We(e,"arp",Ye(JSON.stringify(t),this.logger))}return de._isLocalStorageSupported()&&void 0!==localStorage.getItem(k)&&null!==localStorage.getItem(k)?We(e,"arp",Ye(JSON.stringify(de.readFromLSorCookie(k)),this.logger)):e}});const it=()=>{let e={};if(de._isLocalStorageSupported()){let t=de.read(y);null!=t?(t=JSON.parse(decodeURIComponent(t).replace(p,'"')),t.hasOwnProperty("global")?e.wp=t:e=t):e={}}return e},nt=e=>{if(de._isLocalStorageSupported()){const t={...it(),...e},i=JSON.stringify(t);de.save(y,encodeURIComponent(i)),ot()}},ot=()=>{if(de._isLocalStorageSupported()){let i=de.read(b);if(ie(i))try{i=JSON.parse(decodeURIComponent(de.read(b)));const n=de.read(w)?JSON.parse(decodeURIComponent(de.read(w))):{};if(i&&de._isLocalStorageSupported()){var e={},t=it();Object.keys(t).forEach((o=>{const r=i in n&&Object.keys(n[i]).length&&n[i][o]?n[i][o]:{},s=t[o].global,a=re(),l=t[o][a];if(void 0!==s){const e=Object.keys(s);for(const t in e){let i=[];if(e.hasOwnProperty(t)){let n=0,o=0;const a=e[t];if("tc"===a)continue;void 0!==l&&void 0!==l[a]&&(n=l[a]),void 0!==s&&void 0!==s[a]&&(o=s[a]),i=[a,n,o],r[a]=i}}}e={...e,[o]:r}})),n[i]=e,de.save(w,encodeURIComponent(JSON.stringify(n)))}}catch(e){console.error("Invalid clevertap Id "+e)}}},rt=()=>{const e=JSON.parse(decodeURIComponent(de.read(b)));let t={};if(de._isLocalStorageSupported()){let i={};t=it();const n=de.read(w),o=n?decodeURIComponent(n):null,r=o?JSON.parse(o):null,s=e&&null!=n&&r&&r[e]&&r[e].wp?Object.values(r[e].wp):[],a=e&&null!=n&&r&&r[e]&&r[e].wi?Object.values(r[e].wi):[],l=re();let c=0,d=0;return t.wp&&t.wp[l]&&"undefined"!==t.wp[l].tc&&(c=t.wp[l].tc),t.wi&&t.wi[l]&&"undefined"!==t.wi[l].tc&&(d=t.wi[l].tc),i={wmp:c,wimp:d,tlc:s,witlc:a},i}},st=(e,t)=>{let{logger:i}=t,n=!1;if(Z(e))for(const t in e)if(e.hasOwnProperty(t)){n=!0;let o=e[t];if(null==o){delete e[t];continue}"Gender"!==t||o.match(/^M$|^F$/)||(n=!1,i.error(Ie)),"Employed"!==t||o.match(/^Y$|^N$/)||(n=!1,i.error(Pe)),"Married"!==t||o.match(/^Y$|^N$/)||(n=!1,i.error(Oe)),"Education"!==t||o.match(/^School$|^College$|^Graduate$/)||(n=!1,i.error(Te)),"Age"===t&&null!=o&&(ee(o)?e.Age=+o:(n=!1,i.error(xe))),"DOB"===t?(/^\$D_/.test(o)&&11===(o+"").length||Q(o)||(n=!1,i.error(Re)),Q(o)&&(e[t]=ae(o))):Q(o)&&(e[t]=ae(o)),"Phone"!==t||X(o)||(o.length>8&&"+"===o.charAt(0)?(o=o.substring(1,o.length),ee(o)?e.Phone=+o:(n=!1,i.error(De+". Removed."))):(n=!1,i.error(De+". Removed."))),n||delete e[t]}return n},at=e=>{const t={};t.Name=e.name,null!=e.id&&(t.FBID=e.id+""),"male"===e.gender?t.Gender="M":"female"===e.gender?t.Gender="F":t.Gender="O";null!=e.relationship_status&&(t.Married="N","Married"===e.relationship_status&&(t.Married="Y"));const i=function(e){if(null!=e){let t="",i="";for(let n=0;n<e.length;n++){const o=e[n];if(null!=o.type){const e=o.type;if("Graduate School"===e)return"Graduate";"College"===e?t="1":"High School"===e&&(i="1")}}if("1"===t)return"College";if("1"===i)return"School"}}(e.education);null!=i&&(t.Education=i);const n=null!=e.work?e.work.length:0;if(t.Employed=n>0?"Y":"N",null!=e.email&&(t.Email=e.email),null!=e.birthday){const i=e.birthday.split("/");t.DOB=le(i[2]+i[0]+i[1])}return t},lt=(e,t)=>{let{logger:i}=t;const n={};if(null!=e.displayName&&(n.Name=e.displayName),null!=e.id&&(n.GPID=e.id+""),null!=e.gender&&("male"===e.gender?n.Gender="M":"female"===e.gender?n.Gender="F":"other"===e.gender&&(n.Gender="O")),null!=e.image&&!1===e.image.isDefault&&(n.Photo=e.image.url.split("?sz")[0]),null!=e.emails)for(let t=0;t<e.emails.length;t++){const i=e.emails[t];"account"===i.type&&(n.Email=i.value)}if(null!=e.organizations){n.Employed="N";for(let t=0;t<e.organizations.length;t++)"work"===e.organizations[t].type&&(n.Employed="Y")}if(null!=e.birthday){const t=e.birthday.split("-");n.DOB=le(t[0]+t[1]+t[2])}return null!=e.relationshipStatus&&(n.Married="N","married"===e.relationshipStatus&&(n.Married="Y")),i.debug("gplus usr profile "+JSON.stringify(n)),n},ct=(e,t)=>{if(de._isLocalStorageSupported()){if(null==ue.globalProfileMap&&(ue.globalProfileMap=de.readFromLSorCookie(C),null==ue.globalProfileMap&&(ue.globalProfileMap={})),null!=e._custom){const t=e._custom;for(const i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);delete e._custom}for(const i in e)if(e.hasOwnProperty(i)){if(ue.globalProfileMap.hasOwnProperty(i)&&!t)continue;ue.globalProfileMap[i]=e[i]}null!=ue.globalProfileMap._custom&&delete ue.globalProfileMap._custom,de.saveToLSorCookie(C,ue.globalProfileMap)}},dt=(e,t,i)=>{if(null!=e&&"-1"!==e&&de._isLocalStorageSupported()){const t=it();let n=t.wp[i];null==n&&(n={},t[i]=n),n[e]="dnd",nt(t)}if(null!=ue.campaignDivMap){const t=ue.campaignDivMap[e];null!=t&&(document.getElementById(t).style.display="none","intentPreview"===t&&null!=document.getElementById("intentOpacityDiv")&&(document.getElementById("intentOpacityDiv").style.display="none"))}};var ut=t("logger"),ht=t("request"),pt=t("account"),gt=t("oldValues"),ft=t("isPersonalisationActive"),vt=t("processProfileArray");class bt extends Array{constructor(e,t){let{logger:n,request:o,account:r,isPersonalisationActive:s}=e;super(),Object.defineProperty(this,vt,{value:mt}),Object.defineProperty(this,ut,{writable:!0,value:void 0}),Object.defineProperty(this,ht,{writable:!0,value:void 0}),Object.defineProperty(this,pt,{writable:!0,value:void 0}),Object.defineProperty(this,gt,{writable:!0,value:void 0}),Object.defineProperty(this,ft,{writable:!0,value:void 0}),i(this,ut)[ut]=n,i(this,ht)[ht]=o,i(this,pt)[pt]=r,i(this,gt)[gt]=t,i(this,ft)[ft]=s}push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(this,vt)[vt](t),0}_processOldValues(){i(this,gt)[gt]&&i(this,vt)[vt](i(this,gt)[gt]),i(this,gt)[gt]=null}getAttribute(e){if(i(this,ft)[ft]())return null==ue.globalProfileMap&&(ue.globalProfileMap=de.readFromLSorCookie(C)),null!=ue.globalProfileMap?ue.globalProfileMap[e]:void 0}_handleIncrementDecrementValue(e,t,n){var o;if(null==ue.globalProfileMap&&(ue.globalProfileMap=de.readFromLSorCookie(C)),null!=ue.globalProfileMap||(null===(o=ue.globalProfileMap)||void 0===o?void 0:o.hasOwnProperty(e)))if(!t||"number"!=typeof t||t<=0)console.error("Value should be a number greater than 0");else{ue.globalProfileMap[e]=n===q?ue.globalProfileMap[e]+t:ue.globalProfileMap[e]-t,de.saveToLSorCookie(C,ue.globalProfileMap);let o={};const r={};o.type="profile",r[e]={[n]:t},null==r.tz&&(r.tz=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1]),o.profile=r,o=i(this,ht)[ht].addSystemDataToObject(o,!0),i(this,ht)[ht].addFlags(o);const s=Ye(JSON.stringify(o),i(this,ut)[ut]);let a=i(this,pt)[pt].dataPostURL;a=We(a,"type",R),a=We(a,"d",s),i(this,ht)[ht].saveAndFireRequest(a,ue.blockRequest)}else console.error("Kindly create profile with required proprty to increment/decrement.")}_handleMultiValueSet(e,t,i){const n=[];for(let e=0;e<t.length;e++)"number"!=typeof t[e]||n.includes(t[e])?"string"!=typeof t[e]||n.includes(t[e].toLowerCase())?console.error("array supports only string or number type values"):n.push(t[e].toLowerCase()):n.push(t[e]);var o;null==ue.globalProfileMap&&(ue.globalProfileMap=null!==(o=de.readFromLSorCookie(C))&&void 0!==o?o:{}),ue.globalProfileMap[e]=n,de.saveToLSorCookie(C,ue.globalProfileMap),this.sendMultiValueData(e,t,i)}_handleMultiValueAdd(e,t,i){var n=[];if(null==ue.globalProfileMap&&(ue.globalProfileMap=de.readFromLSorCookie(C)||{}),"string"==typeof t||"number"==typeof t)ue.globalProfileMap.hasOwnProperty(e)?(n=ue.globalProfileMap[e]).push("number"==typeof t?t:t.toLowerCase()):ue.globalProfileMap[e]=t;else{ue.globalProfileMap.hasOwnProperty(e)&&(n=Array.isArray(ue.globalProfileMap[e])?ue.globalProfileMap[e]:[ue.globalProfileMap[e]]);for(var o=0;o<t.length;o++)"number"!=typeof t[o]||n.includes(t[o])?"string"!=typeof t[o]||n.includes(t[o].toLowerCase())?"number"==typeof t[o]&&n.includes(t[o])||"string"==typeof t[o]&&n.includes(t[o].toLowerCase())?console.error("Values already included"):console.error("Array supports only string or number type values"):n.push(t[o].toLowerCase()):n.push(t[o]);ue.globalProfileMap[e]=n}de.saveToLSorCookie(C,ue.globalProfileMap),this.sendMultiValueData(e,t,i)}_handleMultiValueRemove(e,t,i){var n;if(null==ue.globalProfileMap&&(ue.globalProfileMap=de.readFromLSorCookie(C)),null==ue||null===(n=ue.globalProfileMap)||void 0===n?void 0:n.hasOwnProperty(e))if("string"==typeof t||"number"==typeof t){var o=ue.globalProfileMap[e].indexOf(t);-1!==o&&ue.globalProfileMap[e].splice(o,1)}else for(var r=0;r<t.length;r++){var s=ue.globalProfileMap[e].indexOf(t[r]);-1!==s&&ue.globalProfileMap[e].splice(s,1)}else console.error("The property ".concat(e," does not exist."));de.saveToLSorCookie(C,ue.globalProfileMap),this.sendMultiValueData(e,t,i)}_handleMultiValueDelete(e,t){var i;null==ue.globalProfileMap&&(ue.globalProfileMap=de.readFromLSorCookie(C)),(null==ue||null===(i=ue.globalProfileMap)||void 0===i?void 0:i.hasOwnProperty(e))?delete ue.globalProfileMap[e]:console.error("The property ".concat(e," does not exist.")),de.saveToLSorCookie(C,ue.globalProfileMap),this.sendMultiValueData(e,null,t)}sendMultiValueData(e,t,n){let o={};const r={};o.type="profile",r[e]={[n]:n===H||t},null==r.tz&&(r.tz=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1]),o.profile=r,o=i(this,ht)[ht].addSystemDataToObject(o,!0),i(this,ht)[ht].addFlags(o);const s=Ye(JSON.stringify(o),i(this,ut)[ut]);let a=i(this,pt)[pt].dataPostURL;a=We(a,"type",R),a=We(a,"d",s),i(this,ht)[ht].saveAndFireRequest(a,ue.blockRequest)}}var mt=function(e){if(Array.isArray(e)&&e.length>0)for(const t in e)if(e.hasOwnProperty(t)){const n=e[t];let o,r={};if(null!=n.Site){if(o=n.Site,X(o)||!st(o,{logger:i(this,ut)[ut]}))return}else if(null!=n.Facebook){const e=n.Facebook;X(e)||e.error||(o=at(e))}else if(null!=n["Google Plus"]){const e=n["Google Plus"];X(e)||e.error||(o=lt(e,{logger:i(this,ut)[ut]}))}if(null!=o&&!X(o)){r.type="profile",null==o.tz&&(o.tz=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1]),r.profile=o,ct(o,!0),r=i(this,ht)[ht].addSystemDataToObject(r,void 0),i(this,ht)[ht].addFlags(r);const e=Ye(JSON.stringify(r),i(this,ut)[ut]);let t=i(this,pt)[pt].dataPostURL;t=We(t,"type",R),t=We(t,"d",e),i(this,ht)[ht].saveAndFireRequest(t,ue.blockRequest)}}},yt=t("request"),wt=t("logger"),St=t("account"),_t=t("session"),Ct=t("oldValues"),kt=t("device"),Et=t("processOUL"),At=t("handleCookieFromCache"),It=t("deleteUser"),Pt=t("processLoginArray");class Ot extends Array{constructor(e,t){let{request:n,account:o,session:r,logger:s,device:a}=e;super(),Object.defineProperty(this,Pt,{value:Mt}),Object.defineProperty(this,It,{value:Rt}),Object.defineProperty(this,At,{value:xt}),Object.defineProperty(this,Et,{value:Tt}),Object.defineProperty(this,yt,{writable:!0,value:void 0}),Object.defineProperty(this,wt,{writable:!0,value:void 0}),Object.defineProperty(this,St,{writable:!0,value:void 0}),Object.defineProperty(this,_t,{writable:!0,value:void 0}),Object.defineProperty(this,Ct,{writable:!0,value:void 0}),Object.defineProperty(this,kt,{writable:!0,value:void 0}),i(this,yt)[yt]=n,i(this,St)[St]=o,i(this,_t)[_t]=r,i(this,wt)[wt]=s,i(this,Ct)[Ct]=t,i(this,kt)[kt]=a}clear(){i(this,wt)[wt].debug("clear called. Reset flag has been set."),i(this,It)[It](),de.setMetaProp(g,!0)}push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(this,Pt)[Pt](t),0}_processOldValues(){i(this,Ct)[Ct]&&i(this,Pt)[Pt](i(this,Ct)[Ct]),i(this,Ct)[Ct]=null}}var Tt=function(e){let t=!0;de.saveToLSorCookie(F,t);const n=e=>{let n=de.readFromLSorCookie(m);const o=de.readFromLSorCookie(b);let r;if(null==n)n={},r=e;else{r=n.id;let s=!1,a=!1;if(null==r&&(r=e[0],s=!0),null==ue.LRU_CACHE&&de._isLocalStorageSupported()&&(ue.LRU_CACHE=new ge(100)),s)null!=o&&(ue.LRU_CACHE.set(r,o),ue.blockRequest=!1);else for(const t in e)if(e.hasOwnProperty(t)){const i=e[t];if(ue.LRU_CACHE.cache[i]){r=i,a=!0;break}}if(a){r!==ue.LRU_CACHE.getLastKey()?i(this,At)[At]():(t=!1,de.saveToLSorCookie(F,t));const e=ue.LRU_CACHE.get(r);ue.LRU_CACHE.set(r,e),de.saveToLSorCookie(b,e),i(this,kt)[kt].gcookie=e;const n=ue.LRU_CACHE.getSecondLastKey();if(de.readFromLSorCookie(F)&&-1!==n){const e=ue.LRU_CACHE.cache[n];i(this,yt)[yt].unregisterTokenForGuid(e)}}else s?null!=o&&(i(this,kt)[kt].gcookie=o,de.saveToLSorCookie(b,o),t=!1):this.clear(),de.saveToLSorCookie(F,!1),r=e[0]}n.id=r,de.saveToLSorCookie(m,n)};if(Array.isArray(e)&&e.length>0)for(const o in e)if(e.hasOwnProperty(o)){const r=e[o];let s,a={};if(null!=r.Site){if(s=r.Site,X(s)||!st(s,{logger:i(this,wt)[wt]}))return}else if(null!=r.Facebook){const e=r.Facebook;X(e)||e.error||(s=at(e))}else if(null!=r["Google Plus"]){const e=r["Google Plus"];X(e)&&!e.error&&(s=lt(e,{logger:i(this,wt)[wt]}))}if(null!=s&&!X(s)){a.type="profile",null==s.tz&&(s.tz=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1]),a.profile=s;const e=[];de._isLocalStorageSupported()&&(s.Identity&&e.push(s.Identity),s.Email&&e.push(s.Email),s.GPID&&e.push("GP:"+s.GPID),s.FBID&&e.push("FB:"+s.FBID),e.length>0&&n(e)),ct(s,!0),a=i(this,yt)[yt].addSystemDataToObject(a,void 0),i(this,yt)[yt].addFlags(a),t&&(a[x]=!0);const o=Ye(JSON.stringify(a),i(this,wt)[wt]);let r=i(this,St)[St].dataPostURL;r=We(r,"type",R),r=We(r,"d",o),i(this,yt)[yt].saveAndFireRequest(r,ue.blockRequest,t)}}},xt=function(){ue.blockRequest=!1,console.debug("Block request is false"),de._isLocalStorageSupported()&&(delete localStorage[C],delete localStorage[S],delete localStorage[_],delete localStorage[k],delete localStorage[y],delete localStorage[v]),de.removeCookie(y,Ge()),de.removeCookie(i(this,_t)[_t].cookieName,ue.broadDomain),de.removeCookie(k,ue.broadDomain),i(this,_t)[_t].setSessionCookieObject("")},Rt=function(){ue.blockRequest=!0,i(this,wt)[wt].debug("Block request is true"),ue.globalCache={gcookie:null,REQ_N:0,RESP_N:0},de._isLocalStorageSupported()&&(delete localStorage[b],delete localStorage[m],delete localStorage[C],delete localStorage[S],delete localStorage[_],delete localStorage[k],delete localStorage[y],delete localStorage[v]),de.removeCookie(b,ue.broadDomain),de.removeCookie(y,Ge()),de.removeCookie(m,Ge()),de.removeCookie(i(this,_t)[_t].cookieName,ue.broadDomain),de.removeCookie(k,ue.broadDomain),i(this,kt)[kt].gcookie=null,i(this,_t)[_t].setSessionCookieObject("")},Mt=function(e){if(Array.isArray(e)&&e.length>0){const t=e.pop();if(null!=t&&Z(t)&&(null!=t.Site&&Object.keys(t.Site).length>0||null!=t.Facebook&&Object.keys(t.Facebook).length>0||null!=t["Google Plus"]&&Object.keys(t["Google Plus"]).length>0)){de.setInstantDeleteFlagInK();try{i(this,Et)[Et]([t])}catch(e){i(this,wt)[wt].debug(e)}}else i(this,wt)[wt].error("Profile object is in incorrect format")}};class Dt extends HTMLElement{constructor(){super(),this._details=null,this.shadow=null,this.shadow=this.attachShadow({mode:"open"})}get details(){return this._details||""}set details(e){null===this._details&&(this._details=e,this.renderBanner())}renderBanner(){this.shadow.innerHTML=this.getBannerContent(),!1!==this.trackClick&&this.addEventListener("click",(()=>{const e=this.details.onClick;e&&(this.details.window?window.open(e,"_blank"):window.parent.location.href=e),window.clevertap.renderNotificationClicked({msgId:this.msgId,pivotId:this.pivotId})})),window.clevertap.renderNotificationViewed({msgId:this.msgId,pivotId:this.pivotId})}getBannerContent(){return'\n      <style type="text/css">\n        .banner {\n          position: relative;\n          cursor: '.concat(this.details.onClick?"pointer":"","\n        }\n        img {\n          height: ").concat(this.divHeight?this.divHeight:"auto",";\n          width: 100%;\n        }\n        .wrapper:is(.left, .right, .center) {\n          display: flex;\n          justify-content: center;\n          flex-direction: column;\n          align-items: center;\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          overflow: auto;\n          top: 0;\n        }\n        ").concat(this.details.css?this.details.css:"",'\n      </style>\n      <div class="banner">\n        <picture>\n          <source media="(min-width:480px)" srcset="').concat(this.details.desktopImageURL,'">\n          <source srcset="').concat(this.details.mobileImageURL,'">\n          <img src="').concat(this.details.desktopImageURL,'" alt="Please upload a picture" style="width:100%;" part="banner__img">\n        </picture>\n        ').concat(this.details.html?this.details.html:"","\n      </div>\n    ")}}class Nt extends HTMLElement{constructor(){super(),this._target=null,this._carousel=null,this.shadow=null,this.slides=0,this.previouslySelectedItem=-1,this.selectedItem=1,this.autoSlide=null,this.stopAutoSlideTimeout=null,this.shadow=this.attachShadow({mode:"open"}),void 0===customElements.get("ct-web-personalisation-banner")&&customElements.define("ct-web-personalisation-banner",Dt)}get target(){return this._target||""}set target(e){null===this._target&&(this._target=e,this.renderCarousel())}get details(){return this.target.display.details}get display(){return this.target.display}renderCarousel(){this.slides=this.details.length,this.shadow.innerHTML=this.getStyles();const e=this.getCarouselContent();this.display.showNavBtns&&e.insertAdjacentHTML("beforeend",this.display.navBtnsHtml),this.display.showNavArrows&&(e.insertAdjacentHTML("beforeend",this.display.leftNavArrowHtml),e.insertAdjacentHTML("beforeend",this.display.rightNavArrowHtml)),this._carousel=e,this.shadow.appendChild(e),this.setupClick(),this.updateSelectedItem(),this.startAutoSlide(),this.setupOnHover(),window.clevertap.renderNotificationViewed({msgId:this.target.wzrk_id,pivotId:this.target.wzrk_pivot})}setupClick(){this._carousel.addEventListener("click",(e=>{const t=e.target.id;if(t.startsWith("carousel__button")){const e=+t.split("-")[1];e!==this.selectedItem&&(this.previouslySelectedItem=this.selectedItem,this.selectedItem=e,this.updateSelectedItem(),this.startAutoSlide())}else if(t.startsWith("carousel__arrow"))t.endsWith("right")?this.goToNext():this.goToPrev(),this.startAutoSlide();else if(t.indexOf("-")>-1){const e=+t.split("-")[1],i=e-1;window.parent.clevertap&&window.clevertap.renderNotificationClicked({msgId:this.target.wzrk_id,pivotId:this.target.wzrk_pivot,wzrk_slideNo:e});const n=this.details[i].onClick;""!==n&&(this.details[i].window?window.open(n,"_blank"):window.location.href=n)}}))}setupOnHover(){this._carousel.addEventListener("mouseenter",(e=>{this.stopAutoSlideTimeout=setTimeout((()=>{this.autoSlide=clearInterval(this.autoSlide)}),500)})),this._carousel.addEventListener("mouseleave",(e=>{clearTimeout(this.stopAutoSlideTimeout),void 0===this.autoSlide&&this.startAutoSlide()}))}getCarouselContent(){const e=document.createElement("div");return e.setAttribute("class","carousel"),this.details.forEach(((t,i)=>{const n=document.createElement("ct-web-personalisation-banner");n.classList.add("carousel__item"),n.trackClick=!1,n.setAttribute("id","carousel__item-".concat(i+1)),n.details=t,e.appendChild(n)})),e}getStyles(){var e,t;return"\n      <style>\n      .carousel {\n        position: relative;\n      }\n\n      .carousel__item {\n        display: none;\n        background-repeat: no-repeat;\n        background-size: cover;\n      }\n\n      ct-web-personalisation-banner::part(banner__img) {\n        height: ".concat((null==this||null===(e=this.target)||void 0===e||null===(t=e.display)||void 0===t?void 0:t.divHeight)?this.target.display.divHeight:"auto",";\n        width: 100%;\n        transition: 2s;\n      }\n\n      .carousel__item--selected {\n        display: block;\n      }\n      ").concat(this.display.navBtnsCss,"\n      ").concat(this.display.navArrowsCss,"\n      </style>\n  ")}updateSelectedItem(){if(-1!==this.previouslySelectedItem){const e=this.shadow.getElementById("carousel__item-".concat(this.previouslySelectedItem)),t=this.shadow.getElementById("carousel__button-".concat(this.previouslySelectedItem));e.classList.remove("carousel__item--selected"),t&&t.classList.remove("carousel__button--selected")}const e=this.shadow.getElementById("carousel__item-".concat(this.selectedItem)),t=this.shadow.getElementById("carousel__button-".concat(this.selectedItem));e.classList.add("carousel__item--selected"),t&&t.classList.add("carousel__button--selected")}startAutoSlide(){clearInterval(this.autoSlide),this.autoSlide=setInterval((()=>{this.goToNext()}),this.display.sliderTime?1e3*this.display.sliderTime:3e3)}goToNext(){this.goTo(this.selectedItem,(this.selectedItem+1)%this.slides)}goToPrev(){this.goTo(this.selectedItem,this.selectedItem-1)}goTo(e,t){this.previouslySelectedItem=e,this.selectedItem=t,0===t&&(this.selectedItem=this.slides),this.updateSelectedItem()}}class Lt extends HTMLElement{constructor(){super(),this._target=null,this._session=null,this.shadow=null,this.popup=null,this.container=null,this.resizeObserver=null,this.shadow=this.attachShadow({mode:"open"})}get target(){return this._target||""}set target(e){null===this._target&&(this._target=e,this.renderImageOnlyPopup())}get session(){return this._session||""}set session(e){this._session=e}get msgId(){return this.target.wzrk_id}get pivotId(){return this.target.wzrk_pivot}get onClickUrl(){return this.target.display.onClickUrl}renderImageOnlyPopup(){const e=this.target.wzrk_id.split("_")[0],t=this.session.sessionId;this.shadow.innerHTML=this.getImageOnlyPopupContent(),this.popup=this.shadowRoot.getElementById("imageOnlyPopup"),this.container=this.shadowRoot.getElementById("container"),this.closeIcon=this.shadowRoot.getElementById("close"),this.popup.addEventListener("load",this.updateImageAndContainerWidth()),this.resizeObserver=new ResizeObserver((()=>this.handleResize(this.popup,this.container))),this.resizeObserver.observe(this.popup),this.closeIcon.addEventListener("click",(()=>{if(this.resizeObserver.unobserve(this.popup),document.getElementById("wzrkImageOnlyDiv").style.display="none",this.remove(),null!=e&&"-1"!==e&&de._isLocalStorageSupported()){const i=it();let n=i.wp[t];null==n&&(n={},i[t]=n),n[e]="dnd",nt(i)}})),window.clevertap.renderNotificationViewed({msgId:this.msgId,pivotId:this.pivotId}),this.onClickUrl&&this.popup.addEventListener("click",(()=>{this.target.display.window?window.open(this.onClickUrl,"_blank"):window.parent.location.href=this.onClickUrl,window.clevertap.renderNotificationClicked({msgId:this.msgId,pivotId:this.pivotId})}))}handleResize(e,t){const i=this.getRenderedImageWidth(e);t.style.setProperty("width","".concat(i,"px"))}getImageOnlyPopupContent(){return"\n        ".concat(this.target.msgContent.css,"\n        ").concat(this.target.msgContent.html,"\n      ")}updateImageAndContainerWidth(){return()=>{const e=this.getRenderedImageWidth(this.popup);this.popup.style.setProperty("width","".concat(e,"px")),this.container.style.setProperty("width","".concat(e,"px")),this.container.style.setProperty("height","auto"),this.container.style.setProperty("position","fixed"),this.popup.style.setProperty("visibility","visible"),this.closeIcon.style.setProperty("visibility","visible"),document.getElementById("wzrkImageOnlyDiv").style.visibility="visible"}}getRenderedImageWidth(e){const t=e.naturalWidth/e.naturalHeight;return e.height*t}}class Ut extends HTMLElement{constructor(e,t){super(),this.wrapper=null,this.snackBar=null,this.shadow=this.attachShadow({mode:"open"}),this.config=e,this.message=t,this.renderMessage(t)}get pivotId(){return this.message.wzrk_pivot}get campaignId(){return this.message.wzrk_id}createEl(e,t,i){const n=document.createElement(e);return n.setAttribute("id",t),n.setAttribute("part",i||t),n}renderMessage(e){switch(this.wrapper=this.createEl("div","messageWrapper"),e.templateType){case"text-only":case"text-with-icon":case"text-with-icon-and-image":{const t=this.prepareBasicMessage(e.msg[0]);this.wrapper.appendChild(t)}}const t=this.createEl("div","timeStamp");if(t.innerHTML="<span>".concat(Gt(e.id.split("_")[1]),"<span>"),!e.viewed){const e=this.createEl("span","unreadMarker");t.appendChild(e)}this.wrapper.appendChild(t),this.shadow.appendChild(this.wrapper)}prepareBasicMessage(e){const t=this.createEl("div","message");if(e.imageUrl){const i=this.addImage(e.imageUrl,"mainImg");t.appendChild(i)}const i=this.createEl("div","iconTitleDescWrapper");if(e.iconUrl){const t=this.addImage(e.iconUrl,"iconImg");i.appendChild(t)}const n=this.createEl("div","titleDescWrapper");if(e.title){const t=this.createEl("div","title");t.innerText=e.title,n.appendChild(t)}if(e.description){const t=this.createEl("div","description");t.innerText=e.description,n.appendChild(t)}if((e.title||e.description)&&i.appendChild(n),(e.iconUrl||e.title||e.description)&&t.appendChild(i),e.buttons&&e.buttons.length){const i=this.addButtons(e.buttons);t.appendChild(i)}return t}addButtons(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=this.createEl("div","buttonsContainer");let i=!1;return e.forEach(((e,n)=>{const o=this.createEl("button","button-".concat(n),"button");o.innerText=e.text,n>0&&(o.style.cssText+="margin-left: 2px;"),"copy"===e.action&&(i=!0),t.appendChild(o)})),i&&this.addSnackbar(t),t}addSnackbar(e){this.snackBar=this.createEl("div","snackbar-".concat(this.campaignId),"snackbar"),this.snackBar.innerHTML=$t;const t=this.createEl("span","snackbar-msg-".concat(this.campaignId),"snackbar-msg");t.innerText="Copied to clipboard",this.snackBar.appendChild(t),e.appendChild(this.snackBar)}addImage(e,t){const i=this.createEl("div","".concat(t,"Container")),n=this.createEl("img",t);return n.setAttribute("src",e),n.setAttribute("loading","lazy"),i.appendChild(n),i}raiseClickedEvent(e,t){switch(this.message.templateType){case"text-only":case"text-with-icon":case"text-with-icon-and-image":this.raiseClickedForBasicTemplates(e,t)}}raiseClickedForBasicTemplates(e,t){const i=this.message.msg[0],n={msgId:this.campaignId,pivotId:this.pivotId};if("BUTTON"===e.tagName){const t=e.id.split("-")[1],o=i.buttons[t];n.kv={wzrk_c2a:o.text},"url"===o.action?o.openUrlInNewTab?window.open(o.url,"_blank"):window.location=o.url:"copy"===o.action&&(window.focus(),navigator.clipboard.writeText(o.clipboardText),this.snackBar.style.setProperty("display","flex","important"),setTimeout((()=>{this.snackBar.style.setProperty("display","none","important")}),2e3))}else"CT-INBOX-MESSAGE"===e.tagName&&i.onClickUrl&&(i.openUrlInNewTab?window.open(i.onClickUrl,"_blank"):window.location=i.onClickUrl);t?console.log("Notifiction clicked event will be raised at run time with payload ::",n):window.clevertap.renderNotificationClicked(n)}}class jt extends HTMLElement{constructor(e){super(),this.isInboxOpen=!1,this.isInboxFromFlutter=!1,this.selectedCategory=null,this.unviewedMessages={},this.unviewedCounter=0,this.isPreview=!1,this.inboxConfigForPreview={},this.inboxSelector=null,this.inbox=null,this.emptyInboxMsg=null,this.inboxCard=null,this.unviewedBadge=null,this.observer=null,this.selectedCategoryRef=null,this.addClickListenerOnDocument=(()=>e=>{if(e.composedPath().includes(this.inbox)){const t=e.path||e.composedPath&&e.composedPath();if(t.length){const e=t[0].id;if("closeInbox"===e)this.toggleInbox();else if(e.startsWith("category-"))this.prevCategoryRef=this.selectedCategoryRef,this.selectedCategoryRef=t[0],this.updateActiveCategory(t[0].innerText);else{const e=t.filter((e=>{var t;return(null===(t=e.id)||void 0===t?void 0:t.startsWith("button-"))||"CT-INBOX-MESSAGE"===e.tagName}));e.length&&e[e.length-1].raiseClickedEvent(e[0],this.isPreview)}}}else(this.inboxSelector.contains(e.target)||this.isInboxOpen)&&(this.isInboxFromFlutter?this.isInboxFromFlutter=!1:this.toggleInbox(e))})(),this.setBadgeStyle=e=>{null!==this.unviewedBadge&&(this.unviewedBadge.innerText=e>9?"9+":e,this.unviewedBadge.style.display=e>0?"flex":"none")},this.logger=e,this.shadow=this.attachShadow({mode:"open"})}get incomingMessages(){return[]}set incomingMessages(e){void 0===e&&(e=[]),e.length>0&&this.inbox&&this.updateInboxMessages(e)}get incomingMessagesForPreview(){return[]}set incomingMessagesForPreview(e){void 0===e&&(e=[]);const t={};e.length>0&&this.inbox&&(this.isPreview=!0,this.unviewedCounter=0,e.forEach((e=>{const i="".concat(e.wzrk_id.split("_")[0],"_").concat(Date.now());e.id=i,t[i]=e,this.unviewedMessages[i]=e,this.unviewedCounter++})),this.buildUIForMessages(t),this.updateUnviewedBadgeCounter())}connectedCallback(){this.init()}init(){this.config=this.isPreview?this.inboxConfigForPreview:de.readFromLSorCookie(K)||{},0!==Object.keys(this.config).length&&(this.inboxSelector=document.getElementById(this.config.inboxSelector),null!==this.inboxSelector&&(this.config.styles.notificationsBadge?this.addUnviewedBadge():this.unviewedBadge&&this.unviewedBadge.remove(),this.createinbox(),document.removeEventListener("click",this.addClickListenerOnDocument),document.addEventListener("click",this.addClickListenerOnDocument),this.config.categories.length&&this.updateActiveCategory(this.selectedCategoryRef.innerText),this.shadow.innerHTML=this.getInboxStyles(),this.shadow.appendChild(this.inbox)))}addMsgsToInboxFromLS(){const e=this.deleteExpiredAndGetUnexpiredMsgs(!1),t=e?Object.keys(e):[];0!==t.length&&(t.forEach((t=>{e[t].viewed||(this.unviewedMessages[t]=e[t],this.unviewedCounter++)})),this.buildUIForMessages(e),this.updateUnviewedBadgeCounter())}deleteExpiredAndGetUnexpiredMsgs(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Bt();const i=Math.floor(Date.now()/1e3);for(const n in t)if(t[n].wzrk_ttl&&t[n].wzrk_ttl>0&&t[n].wzrk_ttl<i){if(e){const e=this.shadowRoot.getElementById(t[n].id);e&&e.remove(),t[n].viewed||(this.unviewedCounter--,this.updateUnviewedBadgeCounter())}delete t[n]}return t&&t.length>0&&(t=Object.values(t).sort(((e,t)=>t.date-e.date)).reduce(((e,t)=>(e[t.id]=t,e)),{})),zt(t),t}updateInboxMessages(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=this.deleteExpiredAndGetUnexpiredMsgs(),i=Date.now(),n={};e.forEach(((e,o)=>{const r="".concat(e.wzrk_id.split("_")[0],"_").concat(Date.now());e.id=r,e.date=i-o,e.viewed=0,t[r]=e,n[r]=e,this.unviewedMessages[r]=e,this.unviewedCounter++})),zt(t),this.buildUIForMessages(n),this.updateUnviewedBadgeCounter()}createEl(e,t,i){const n=document.createElement(e);return n.setAttribute("id",t),n.setAttribute("part",i||t),n}addUnviewedBadge(){this.unviewedBadge||(this.unviewedBadge=this.createEl("div","unviewedBadge"),this.unviewedBadge.style.cssText="display: none; position: absolute; height: 16px; width: 26px; border-radius: 8px; background-color: ".concat(this.config.styles.notificationsBadge.backgroundColor,"; font-size: 12px; color: ").concat(this.config.styles.notificationsBadge.textColor,"; font-weight: bold; align-items: center; justify-content: center;"),document.body.appendChild(this.unviewedBadge)),this.updateUnviewedBadgePosition(),window.addEventListener("resize",(()=>{this.updateUnviewedBadgePosition()}))}updateUnviewedBadgePosition(){const{top:e,right:t}=this.inboxSelector.getBoundingClientRect();this.unviewedBadge.style.top="".concat(e-8,"px"),this.unviewedBadge.style.left="".concat(t-8,"px")}createinbox(){this.inbox=this.createEl("div","inbox");const e=this.createEl("div","header"),t=this.createEl("div","headerTitle");t.innerText=this.config.title;const i=this.createEl("div","closeInbox");if(i.innerHTML="&times",e.appendChild(t),e.appendChild(i),this.inbox.appendChild(e),this.config.categories.length){const e=this.createCategories();this.inbox.appendChild(e)}this.inboxCard=this.createEl("div","inboxCard"),this.inbox.appendChild(this.inboxCard),this.emptyInboxMsg=this.createEl("div","emptyInboxMsg"),this.emptyInboxMsg.innerText="All messages will be displayed here.",this.inboxCard.appendChild(this.emptyInboxMsg);const n={root:this.inboxCard,rootMargin:"0px",threshold:.5};this.observer=new IntersectionObserver(((e,t)=>{this.handleMessageViewed(e)}),n),this.addMsgsToInboxFromLS()}createCategories(){const e=this.createEl("div","categoriesContainer"),t=this.createEl("div","leftArrow");t.innerHTML=Jt,t.children[0].style="transform: rotate(180deg)",t.addEventListener("click",(()=>{this.shadowRoot.getElementById("categoriesWrapper").scrollBy(-70,0)})),e.appendChild(t);const i=this.createEl("div","categoriesWrapper");["All",...this.config.categories].forEach(((e,t)=>{const n=this.createEl("div","category-".concat(t),"category");n.innerText=e,0===t&&(this.selectedCategoryRef=n),i.appendChild(n)})),e.appendChild(i);const n=this.createEl("div","rightArrow");n.innerHTML=Jt,n.addEventListener("click",(()=>{this.shadowRoot.getElementById("categoriesWrapper").scrollBy(70,0)})),e.appendChild(n);const o={root:e,threshold:.9},r=i.children[0],s=i.children[this.config.categories.length];return new IntersectionObserver((e=>{this.categoryObserverCb(t,e[0].intersectionRatio>=.9)}),o).observe(r),new IntersectionObserver((e=>{this.categoryObserverCb(n,e[0].intersectionRatio>=.9)}),o).observe(s),e}categoryObserverCb(e,t){e&&(e.style.display=t?"none":"flex")}updateActiveCategory(e){this.selectedCategory=e,this.inboxCard.scrollTop=0;let t=0;this.prevCategoryRef&&this.prevCategoryRef.setAttribute("selected","false"),this.selectedCategoryRef.setAttribute("selected","true"),this.inboxCard.childNodes.forEach((e=>{"emptyInboxMsg"!==e.getAttribute("id")&&(e.style.display="All"===this.selectedCategory||e.getAttribute("category")===this.selectedCategory?"block":"none","block"===e.style.display&&t++)})),0===t?(this.emptyInboxMsg.innerText="".concat(e," messages will be displayed here."),this.emptyInboxMsg.style.display="block"):this.emptyInboxMsg.style.display="none"}buildUIForMessages(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!this.isPreview&&this.updateTSForRenderedMsgs(),this.inboxCard.scrollTop=0;const i=null!==(e=this.config.maxMsgsInInbox)&&void 0!==e?e:15,n=this.inboxCard.firstChild,o=Object.values(t).sort(((e,t)=>t.date-e.date)).map((e=>e.id));for(const e of o){const i=new Ut(this.config,t[e]);i.setAttribute("id",t[e].id),i.setAttribute("pivot",t[e].wzrk_pivot),i.setAttribute("part","ct-inbox-message"),this.config.categories.length>0?(i.setAttribute("category",t[e].tags[0]||""),i.style.display="All"===this.selectedCategory||t[e].category===this.selectedCategory?"block":"none"):i.style.display="block",this.inboxCard.insertBefore(i,n),this.observer.observe(i)}let r=this.inboxCard.querySelectorAll("ct-inbox-message").length;for(;r>i;){const e=this.inboxCard.querySelectorAll("ct-inbox-message");e.length>0&&e[e.length-1].remove(),r--}const s=this.inboxCard.querySelectorAll('ct-inbox-message[style*="display: block"]').length;this.emptyInboxMsg.style.display=s?"none":"block"}handleMessageViewed(e){const t=!this.isPreview;this.isInboxOpen&&e.forEach((e=>{e.isIntersecting&&this.unviewedMessages.hasOwnProperty(e.target.id)&&0===e.target.message.viewed&&(e.target.message.viewed=1,t?(window.clevertap.renderNotificationViewed({msgId:e.target.campaignId,pivotId:e.target.pivotId}),this.updateMessageInLS(e.target.id,{...e.target.message,viewed:1}),setTimeout((()=>{e.target.shadowRoot.getElementById("unreadMarker").style.display="none"}),1e3)):console.log("Notifiction viewed event will be raised at run time with payload ::",{msgId:e.target.campaignId,pivotId:e.target.pivotId}),this.unviewedCounter--,this.updateUnviewedBadgeCounter(),delete this.unviewedMessages[e.target.id])}))}updateMessageInLS(e,t){if(!this.isPreview){const i=Bt();i[e]=t,zt(i)}}toggleInbox(e){this.isInboxOpen=!this.isInboxOpen,this.isInboxFromFlutter=!!(null==e?void 0:e.rect),this.isInboxOpen?(this.inboxCard.scrollTop=0,!this.isPreview&&this.deleteExpiredAndGetUnexpiredMsgs(),this.inbox.style.display="block",this.inbox.style.zIndex="2147483647",this.config.categories.length&&(this.selectedCategoryRef.setAttribute("selected","false"),this.selectedCategoryRef=this.shadowRoot.getElementById("category-0"),this.updateActiveCategory(this.selectedCategoryRef.innerText),this.shadowRoot.getElementById("categoriesWrapper").scrollLeft-=this.shadowRoot.getElementById("categoriesWrapper").scrollWidth),this.setInboxPosition(e)):this.inbox.style.display="none"}setInboxPosition(e){const t=window.outerWidth,i=getComputedStyle(ue.inbox),n=i.getPropertyValue("--inbox-top"),o=i.getPropertyValue("--inbox-bottom"),r=i.getPropertyValue("--inbox-left"),s=i.getPropertyValue("--inbox-right");if(t>481&&!(n||o||r||s)){const t=Wt(e,this.inbox.clientHeight,this.inbox.clientWidth),i=t.xPos,n=t.yPos;this.inbox.style.top=n+"px",this.inbox.style.left=i+"px"}}updateUnviewedBadgeCounter(){if(this.isPreview)return void this.setBadgeStyle(this.unviewedCounter);let e=0;this.inboxCard.querySelectorAll("ct-inbox-message").forEach((t=>{const i=Bt();i[t.id]&&0===i[t.id].viewed&&e++})),this.setBadgeStyle(e)}updateTSForRenderedMsgs(){this.inboxCard.querySelectorAll("ct-inbox-message").forEach((e=>{const t=e.id.split("_")[1];e.shadow.getElementById("timeStamp").firstChild.innerText=Gt(t)}))}getInboxStyles(){const e=this.config.categories.length?64:16,t={panelBackgroundColor:this.config.styles.panelBackgroundColor,panelBorderColor:this.config.styles.panelBorderColor,headerBackgroundColor:this.config.styles.header.backgroundColor,headerTitleColor:this.config.styles.header.titleColor,closeIconColor:this.config.styles.closeIconColor,categoriesTabColor:this.config.styles.categories.tabColor,categoriesTitleColor:this.config.styles.categories.titleColor,selectedCategoryTabColor:this.config.styles.categories.selectedTab.tabColor,selectedCategoryTitleColor:this.config.styles.categories.selectedTab.titleColor,headerCategoryHeight:36+e};this.config.styles.categories.borderColor&&(t.categoriesBorderColor=this.config.styles.categories.borderColor),this.config.styles.categories.selectedTab.borderColor&&(t.selectedCategoryBorderColor=this.config.styles.categories.selectedTab.borderColor);const i=(e=>{let{panelBackgroundColor:t,panelBorderColor:i,headerBackgroundColor:n,headerTitleColor:o,closeIconColor:r,categoriesTabColor:s,categoriesTitleColor:a,categoriesBorderColor:l,selectedCategoryTabColor:c,selectedCategoryTitleColor:d,selectedCategoryBorderColor:u,headerCategoryHeight:h}=e;return'\n      <style id="webInboxStyles">\n        #inbox {\n          width: 100%;\n          position: fixed;\n          background-color: #fff; \n          display: none; \n          box-shadow: 0px 2px 10px 0px #d7d7d791;\n          background-color: '.concat(t,"; \n          border: 1px solid ").concat(i,";\n          top: 0;\n          left: 0;\n          height: 100%;\n          overflow: auto;\n          z-index: 1;\n          box-sizing: content-box;\n          border-radius: 4px;\n        }\n  \n        #emptyInboxMsg {\n          display: block;\n          padding: 10px;\n          text-align: center;\n          color: black;\n        }\n  \n        #header {\n          height: 36px; \n          width: 100%; \n          display: flex; \n          justify-content: center; \n          align-items: center; \n          background-color: ").concat(n,"; \n          background-color: var(--card-bg, ").concat(n,");\n          color: ").concat(o,"\n        }\n  \n        #closeInbox {\n          font-size: 20px; \n          margin-right: 12px; \n          color: ").concat(r,"; \n          cursor: pointer;\n        }\n  \n        #headerTitle {\n          font-size: 14px; \n          line-height: 20px; \n          flex-grow: 1; \n          font-weight: 700; \n          text-align: center;\n          flex-grow: 1;\n          text-align: center;\n        }\n  \n        #categoriesContainer {\n          padding: 16px 16px 0 16px; \n          height: 32px; \n          display: flex;\n          scroll-behavior: smooth;\n          position: relative;\n        }\n\n        #categoriesWrapper {\n          height: 32px; \n          overflow-x: scroll;\n          display: flex;\n          white-space: nowrap;\n          scrollbar-width: none;\n        }\n\n        #categoriesWrapper::-webkit-scrollbar {\n          display: none;\n        }\n  \n        #leftArrow, #rightArrow {\n          height: 32px;\n          align-items: center;\n          font-weight: 700;\n          position: absolute;\n          z-index: 2;\n          pointer-events: auto;\n          cursor: pointer;\n          display: none;\n        }\n\n        #leftArrow {\n          left: 0;\n          padding-left: 4px;\n          padding-right: 16px;\n          background: linear-gradient(90deg, ").concat(t," 0%, ").concat(t,"99 80%, ").concat(t,"0d 100%);\n        }\n\n        #rightArrow {\n          right: 0;\n          padding-right: 4px;\n          padding-left: 16px;\n          background: linear-gradient(-90deg, ").concat(t," 0%, ").concat(t,"99 80%, ").concat(t,'0d 100%);\n        }\n\n        [id^="category-"] {\n          display: flex; \n          flex: 1 1 0; \n          justify-content: center; \n          align-items: center; \n          font-size: 14px; \n          line-height: 20px; \n          background-color: ').concat(s,"; \n          color: ").concat(a,"; \n          cursor: pointer;\n          padding: 6px 24px;\n          margin: 0 3px;\n          border-radius: 16px;\n          border: ").concat(l?"1px solid "+l:"none",';\n        }\n\n        [id^="category-"][selected="true"] {\n          background-color: ').concat(c,"; \n          color: ").concat(d,"; \n          border: ").concat(u?"1px solid "+u:"none","\n        }\n  \n        #inboxCard {\n          padding: 0 16px 0 16px;\n          overflow-y: auto;\n          box-sizing: border-box;\n          margin-top: 16px;\n        }\n\n        @media only screen and (min-width: 480px) {\n          #inbox {\n            width: var(--inbox-width, 392px);\n            height: var(--inbox-height, 546px);\n            position: var(--inbox-position, fixed);\n            right: var(--inbox-right, unset);\n            bottom: var(--inbox-bottom, unset);\n            top: var(--inbox-top, unset);\n            left: var(--inbox-left, unset);\n          }\n  \n          #inboxCard {\n            height: calc(var(--inbox-height, 546px) - ").concat(h,"px); \n          }\n  \n        }\n      </style>\n      ")})(t),n=this.config.styles.cards;return i+(e=>{let{backgroundColor:t,borderColor:i,titleColor:n,descriptionColor:o,buttonColor:r,buttonTextColor:s,unreadMarkerColor:a}=e;return'\n    <style id="messageStyles">\n      ct-inbox-message::part(messageWrapper) {\n        margin-bottom: 16px; \n      }\n      ct-inbox-message::part(message) {\n        background-color: '.concat(t,"; \n        border: 1px solid ").concat(i,";\n        border-radius: 4px; \n        overflow: hidden;\n        min-height: 40px;\n      }\n      ct-inbox-message::part(message):hover {\n        box-shadow: 0px 4px 8px rgb(0 0 0 / 10%);\n        cursor: pointer;\n      }\n      ct-inbox-message::part(iconTitleDescWrapper) {\n        display: flex; \n        padding: 16px;\n      }\n      ct-inbox-message::part(titleDescWrapper) {\n        display: flex; \n        flex-direction: column;\n      }\n      ct-inbox-message::part(iconImgContainer) {\n        display: flex; \n        margin-right: 16px;\n      }\n      ct-inbox-message::part(mainImgContainer) {\n        line-height: 0;\n      }\n      ct-inbox-message::part(mainImg) {\n        width: 100%; \n        background: #b2b1ae;\n      }\n      ct-inbox-message::part(iconImg) {\n        height: 40px; \n        width: 40px;\n      }\n      ct-inbox-message::part(title) {\n        font-size: 14px !important; \n        line-height: 20px; \n        font-weight: 600; \n        color: ").concat(n,"\n      }\n      ct-inbox-message::part(description) {\n        font-size: 14px !important; \n        line-height: 20px; \n        font-weight: 400; \n        color: ").concat(o,"\n      }\n      ct-inbox-message::part(button) {\n        background-color: ").concat(r,"; \n        color: ").concat(s,"; \n        padding: 8px 16px; \n        font-size: 12px; \n        line-height: 16px; \n        font-weight: 600; \n        flex: 1; \n        border-radius: 0px; \n        text-transform: capitalize; \n        cursor: pointer; \n        border: none;\n      }\n      ct-inbox-message::part(buttonsContainer) {\n        display: flex;\n        position: relative;\n      }\n      ct-inbox-message::part(snackbar) {\n        position: absolute;\n        top: calc(-100% - 12px);\n        left: 50%;\n        transform: translate(-50%, 0px);\n        font-size: 14px;\n        font-weight: 400;\n        background: #FFFFFF;\n        border: 1px solid #ECEDF2;\n        box-shadow: 0px 4px 8px rgb(0 0 0 / 6%), 0px 0px 2px rgb(0 0 0 / 4%);\n        border-radius: 4px;\n        z-index: 2;\n        display: none;\n        width: max-content;\n        align-items: center;\n        padding: 8px 16px;\n        justify-content: center;\n      }\n\n      ct-inbox-message::part(snackbar-msg) {\n        color: black;\n        margin-left: 8px;\n      }\n\n      ct-inbox-message::part(timeStamp) {\n        display: flex; \n        justify-content: end; \n        align-items: center; \n        margin-top: 4px; \n        font-size: 12px !important; \n        line-height: 16px; \n        color: black;\n      }\n      ct-inbox-message::part(unreadMarker) {\n        height: 8px; \n        width: 8px; \n        border-radius: 50%; \n        background-color: ").concat(a,"; \n        margin-left: 8px;\n      }\n      @media only screen and (min-width: 420px) {\n        ct-inbox-message::part(mainImg) {\n          height: 180px;\n        }\n      }\n    </style>\n  ")})({backgroundColor:n.backgroundColor,borderColor:n.borderColor,titleColor:n.titleColor,descriptionColor:n.descriptionColor,buttonColor:n.buttonColor,buttonTextColor:n.buttonTextColor,unreadMarkerColor:n.unreadMarkerColor})}}const Ft=e=>{e.inbox_preview?ue.inbox.incomingMessagesForPreview=e.inbox_notifs:ue.inbox.incomingMessages=e},Vt=e=>{Kt(),ue.inbox=new jt({logger:e}),document.body.appendChild(ue.inbox)},qt=e=>{const t=de.readFromLSorCookie(W)||{};if(Object.keys(t).length>0&&Object.keys(t)[0].includes("_")){const i={};return i[e]=t,de.saveToLSorCookie(W,i),i}return t},Bt=()=>{const e=JSON.parse(decodeURIComponent(de.read(b)));if(!ie(e))return{};const t=qt(e);return t.hasOwnProperty(e)?t[e]:{}},zt=e=>{const t=JSON.parse(decodeURIComponent(de.read(b)));if(!ie(t))return;const i={...qt(t),[t]:e};de.saveToLSorCookie(W,i)},Ht=e=>new Promise(((t,i)=>{if("complete"===document.readyState)Vt(e),t();else{const i=de.readFromLSorCookie(K)||{},n=()=>{null===ue.inbox&&Vt(e),t()};window.addEventListener("load",(()=>{if(document.getElementById(i.inboxSelector))n();else{let o=0;if(o<20){const r=setInterval((()=>{document.getElementById(i.inboxSelector)?(n(),clearInterval(r),t()):o>=20&&(clearInterval(r),e.debug("Failed to add inbox")),o++}),500)}}}))}})),Kt=()=>{void 0===customElements.get("ct-web-inbox")&&(customElements.define("ct-web-inbox",jt),customElements.define("ct-inbox-message",Ut))},Wt=(e,t,i)=>{const n=document.scrollingElement.scrollLeft,o=document.scrollingElement.scrollTop,r=window.innerWidth+n,s=window.innerHeight+o,a=e.rect||e.target.getBoundingClientRect(),l=a.x+n,c=a.y+o,d=a.left+n,u=a.right+n,h=a.top+o,p=a.bottom,g=a.height,f=l+a.width/2;let v,b,m=!1;const y=16;if(p+t<=s){const e=s-(p+t);b=e>=y?p+y:p+e}else if(h-t>=o){const e=h-t;b=e>=y?h-t-y:h-t-e}else m=!0,b=c+g/2-t/2,b<o?b=o:b+t>s&&(b=s-t);if(m){const e=u+i;if(e<=r)v=u+(e+y<=r?y:r-e);else{const e=d-i;v=e-(e-y>=n?y:e-n)}}else v=f-i/2,v<n?v=d+i<=r?d:n:v+i>r&&(v=u-i>=n?u-i:r-i);return{xPos:v,yPos:b}},Gt=e=>{const t=Date.now();let i=Math.floor((t-e)/6e4);return i<5?"Just now":i<60?"".concat(i," minute").concat(i>1?"s":""," ago"):(i=Math.floor(i/60),i<24?"".concat(i," hour").concat(i>1?"s":""," ago"):(i=Math.floor(i/24),"".concat(i," day").concat(i>1?"s":""," ago")))},Yt=()=>Object.keys(de.readFromLSorCookie(K)||{}).length>0,Jt='<svg width="6" height="10" viewBox="0 0 6 10" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M0.258435 9.74751C-0.0478584 9.44825 -0.081891 8.98373 0.156337 8.64775L0.258435 8.52836L3.87106 5L0.258435 1.47164C-0.0478588 1.17239 -0.0818914 0.707867 0.156337 0.371887L0.258435 0.252494C0.564728 -0.0467585 1.04018 -0.0800085 1.38407 0.152743L1.50627 0.252494L5.74156 4.39042C6.04786 4.68968 6.08189 5.1542 5.84366 5.49018L5.74156 5.60957L1.50627 9.74751C1.16169 10.0842 0.603015 10.0842 0.258435 9.74751Z" fill="#63698F"/>\n</svg>\n',$t='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16C12.4183 16 16 12.4183 16 8ZM9.6839 5.93602C9.97083 5.55698 10.503 5.48833 10.8725 5.78269C11.2135 6.0544 11.2968 6.54044 11.0819 6.91173L11.0219 7.00198L8.09831 10.864C7.80581 11.2504 7.26654 11.3086 6.90323 11.0122L6.82822 10.9433L5.04597 9.10191C4.71635 8.76136 4.71826 8.21117 5.05023 7.87303C5.35666 7.5609 5.83722 7.53855 6.16859 7.80482L6.24814 7.87739L7.35133 9.01717L9.6839 5.93602Z" fill="#03A387"/>\n</svg>\n',Zt="https://d2r1yp2w7bby2u.cloudfront.net/js/lib-overlay/style.css",Qt=e=>{var t,i;e.data&&e.data.message&&("Dashboard"===e.data.message&&e.data.url?Xt(e.data.url,null!==(t=e.data.variant)&&void 0!==t?t:null,null!==(i=e.data.details)&&void 0!==i?i:{}):"Overlay"===e.data.message&&ni(e.data,!0))},Xt=(e,t,i)=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>ii(e,t,i))):ii(e,t,i)};let ei,ti=!1;function ii(e,t,i){var n;ti||(document.body.innerHTML="",ei=document.createElement("div"),ei.id="overlayDiv",ei.style.position="relative",ei.style.display="flex",document.body.appendChild(ei),function(e,t,i,n){return new Promise(((o,r)=>{var s=document.createElement("script");s.type="module",s.src=e,s.onload=function(){"function"==typeof window.Overlay?(window.Overlay({id:"#overlayDiv",url:t,variant:i,details:n}),o()):r(new Error("ContentLayout not found in overlay.js"))},s.onerror=function(e){r(e)},document.head.appendChild(s)}))}("https://d2r1yp2w7bby2u.cloudfront.net/js/lib-overlay/overlay.js",e,t,i).then((()=>{console.log("Overlay script loaded successfully."),ti=!0})).catch((e=>{console.error("Error loading overlay script:",e)})),(n=document.createElement("link")).rel="stylesheet",n.type="text/css",n.href=Zt,document.head.appendChild(n),function(){const e={kitId:"eqj6nom",scriptTimeout:3e3,async:!0},t=document.documentElement,i=setTimeout((function(){t.className=t.className.replace(/\bwf-loading\b/g,"")+" wf-inactive"}),e.scriptTimeout),n=document.createElement("script");let o=!1;const r=document.getElementsByTagName("script")[0];let s;t.className+=" wf-loading",n.src="https://use.typekit.net/"+e.kitId+".js",n.async=!0,n.onload=n.onreadystatechange=function(){if(s=this.readyState,!(o||s&&"complete"!==s&&"loaded"!==s)){o=!0,clearTimeout(i);try{Typekit.load(e)}catch(e){}}},r.parentNode.insertBefore(n,r)}())}const ni=(e,t)=>{const i=t?e.details[0]:e.display.details[0],n=Object.keys(i)[0],o=i[n];let r=!1;if(n===window.location.href.split("?")[0]){for(const t in o){const i=document.querySelector(t);if(i)o[t].html?i.outerHTML=o[t].html:oi(e,o[t]),r=!0;else{let i=0;const n=setInterval((()=>{const s=document.querySelector(t);s?(o[t].html?s.outerHTML=o[t].html:oi(e,o[t]),r=!0,clearInterval(n)):(i++,i>=20&&(console.log("No element present on DOM with selector '".concat(t,"'.")),clearInterval(n)))}),500)}}r&&!t&&window.clevertap.renderNotificationViewed({msgId:e.wzrk_id,pivotId:e.wzrk_pivot})}};function oi(e,t){const i={};i.msgId=e.wzrk_id,e.wzrk_pivot&&(i.pivotId=e.wzrk_pivot),null!=t.json&&(i.json=t.json);const n=new CustomEvent("CT_web_native_display_buider",{detail:i});document.dispatchEvent(n)}const ri=(e,t)=>{let{device:i,session:n,request:o,logger:r}=t;const s=i,a=n,l=o,c=r;let d=0;const u=t=>{const i=t.wzrk_id.split("_")[0],n=re(),o=(e,t,i)=>{let n=0,o=0;null!=e[t]&&(n=e[t]),n++,null!=e.tc&&(o=e.tc),i<0&&o++,e.tc=o,e[t]=n};if(de._isLocalStorageSupported()){delete sessionStorage[y];var r={};const e=it();r=3===t.display.wtarget_type&&e.hasOwnProperty("wi")?e.wi:0!==t.display.wtarget_type&&1!==t.display.wtarget_type||!e.hasOwnProperty("wp")?{}:e.wp,e.hasOwnProperty("global")&&(r.wp=e),null==t[I].wmc&&(t[I].wmc=1),null==t[I].wimc&&(t[I].wimc=1);var d=-1;let o=-1,s=-1,l=-1,c=-1,g=-1,f=-1;null!=t[I].efc&&(d=parseInt(t[I].efc,10)),null!=t[I].mdc&&(o=parseInt(t[I].mdc,10)),null!=t[I].tdc&&(s=parseInt(t[I].tdc,10)),null!=t[I].tlc&&(l=parseInt(t[I].tlc,10)),null!=t[I].wmp&&(c=parseInt(t[I].wmp,10)),null!=t[I].wmc&&(g=parseInt(t[I].wmc,10)),null!=t[I].wimc&&(f=parseInt(t[I].wimc,10));var u=r[a.sessionId];if(u){const e=u[i],n=u.tc;if("dnd"===e&&!ue.dismissSpamControl)return!1;if(3===t[I].wtarget_type){if(f>0&&n>=f&&d<0)return!1}else if(g>0&&n>=g&&d<0)return!1;if(o>0&&e>=o)return!1}else u={},r[a.sessionId]=u;var h=r[n];if(null!=h){const e=h[i],t=h.tc;if(c>0&&t>=c&&d<0)return!1;if(s>0&&e>=s)return!1}else h={},r[n]=h;var p=r[A];if(null!=p){const e=p[i];if(l>0&&e>=l)return!1}else p={},r[A]=p}if(null!=t[I].delay&&t[I].delay>0){const i=t[I].delay;return t[I].delay=0,setTimeout(ri,1e3*i,e,{device:s,session:a,request:l,logger:c}),!1}o(u,i,d),o(h,i,d),o(p,i,d);let g="wp";3===t[I].wtarget_type&&(g="wi");const f={};f[a.sessionId]=u,f[n]=h,f[A]=p,nt({[g]:f})},h=()=>{const e=s.getGuid(),t=a.getSessionCookieObject();return"&t=wc&d="+encodeURIComponent($e(e+"|"+t.p+"|"+t.s))},p=(e,t)=>{const i=window.parent[e];"function"==typeof i&&(null!=t.display.kv?i(t.display.kv):i())},g=(e,t,i,n,o)=>{f(t),((e,t,i,n,o)=>{if(""!==e&&null!=e){let n,r;o?n=i:null!==i&&(r=i.getElementsByClassName("jsCT_CTA"),null!=r&&1===r.length&&(n=r[0]));const s=t.display.jsFunc,l=t.display.preview;null==l&&(e+=h()),null!=n&&(n.onclick=()=>{if(null!=s)return null==l&&tt.fireRequest(e),p(s,t),void dt("-1",0,a.sessionId);1===t.display.window?window.open(e,"_blank"):window.location=e})}})(e,t,i,0,o)},f=e=>{const t={type:"event"};t.evtName=U,t.evtData={[L]:e.wzrk_id},e.wzrk_pivot&&(t.evtData={...t.evtData,wzrk_pivot:e.wzrk_pivot}),l.processEvent(t)},v=e=>{var t;void 0===customElements.get("ct-web-personalisation-banner")&&customElements.define("ct-web-personalisation-banner",Dt);const i=null!==(t=e.display.divId)&&void 0!==t?t:e.display.divSelector,n=document.createElement("ct-web-personalisation-banner");n.msgId=e.wzrk_id,n.pivotId=e.wzrk_pivot,n.divHeight=e.display.divHeight,n.details=e.display.details[0];const o=e.display.divId?document.getElementById(i):document.querySelector(i);o.innerHTML="",o.appendChild(n)},m=e=>{var t;void 0===customElements.get("ct-web-personalisation-carousel")&&customElements.define("ct-web-personalisation-carousel",Nt);const i=null!==(t=e.display.divId)&&void 0!==t?t:e.display.divSelector,n=document.createElement("ct-web-personalisation-carousel");n.target=e;const o=e.display.divId?document.getElementById(i):document.querySelector(i);o.innerHTML="",o.appendChild(n)},_=e=>{const t=e.wzrk_id.split("_")[0],i=e.display;if(2===i.wtarget_type&&1===e.msgContent.type){const t={};t.msgId=e.wzrk_id,e.wzrk_pivot&&(t.pivotId=e.wzrk_pivot),null!=e.msgContent.kv&&(t.kv=e.msgContent.kv);const i=new CustomEvent("CT_web_native_display",{detail:t});return void document.dispatchEvent(i)}if(1===i.layout)return T(void 0,e);if(3===i.layout){const t="wzrkImageOnlyDiv";if(!1===u(e))return;if(ue.dismissSpamControl&&null!=document.getElementById(t)&&document.getElementById(t).remove(),null!=document.getElementById(t)||null!=document.getElementById("intentPreview"))return;const i=document.createElement("div");return i.id=t,document.body.appendChild(i),void 0===customElements.get("ct-web-popup-imageonly")&&customElements.define("ct-web-popup-imageonly",Lt),(e=>{const t=document.createElement("ct-web-popup-imageonly");t.session=a,t.target=e;const i=document.getElementById("wzrkImageOnlyDiv");i.innerHTML="",i.style.visibility="hidden",i.appendChild(t)})(e)}if(!1===u(e))return;const n="wizParDiv"+i.layout;if(ue.dismissSpamControl&&null!=document.getElementById(n)&&document.getElementById(n).remove(),null!=document.getElementById(n))return;ue.campaignDivMap[t]=n;const o=2===i.layout,r=document.createElement("div");r.id=n;const s=window.innerHeight,l=window.innerWidth;let c=!1;if(o)r.setAttribute("style",i.iFrameStyle);else{var d=10;let e=5*l/100,t=d+5*s/100,n=30*l/100+20,o="width:30%;";(/mobile/i.test(navigator.userAgent)||/mini/i.test(navigator.userAgent))&&!1===/iPad/i.test(navigator.userAgent)?(n=85*l/100+20,e=5*l/100,t=5*s/100,o="width:80%;"):("ontouchstart"in window||/tablet/i.test(navigator.userAgent))&&(n=50*l/100+20,e=5*l/100,t=5*s/100,o="width:50%;"),null==i.proto?(c=!0,r.setAttribute("style","display:block;overflow:hidden; bottom:"+t+"px !important;width:"+n+"px !important;right:"+e+"px !important;position:fixed;z-index:2147483647;")):r.setAttribute("style",o+i.iFrameStyle)}document.body.appendChild(r);const h=document.createElement("iframe"),p=!1===i.br?"0":"8";h.frameborder="0px",h.marginheight="0px",h.marginwidth="0px",h.scrolling="no",h.id="wiz-iframe";const f=e.display.onClick;let v,b="";if(""!==f&&null!=f&&(b="cursor:pointer;"),i.preview&&i["custom-editor"]&&(h.sandbox="allow-scripts allow-popups allow-popups-to-escape-sandbox"),1===e.msgContent.type)v=e.msgContent.html,v=v.replace(/##campaignId##/g,t),v=v.replace(/##campaignId_batchId##/g,e.wzrk_id);else{const i='<style type="text/css">body{margin:0;padding:0;}#contentDiv.wzrk{overflow:hidden;padding:0;text-align:center;'+b+"}#contentDiv.wzrk td{padding:15px 10px;}.wzrkPPtitle{font-weight: bold;font-size: 16px;font-family:arial;padding-bottom:10px;word-break: break-word;}.wzrkPPdscr{font-size: 14px;font-family:arial;line-height:16px;word-break: break-word;display:inline-block;}.PL15{padding-left:15px;}.wzrkPPwarp{margin:20px 20px 0 5px;padding:0px;border-radius: "+p+"px;box-shadow: 1px 1px 5px #888888;}a.wzrkClose{cursor:pointer;position: absolute;top: 11px;right: 11px;z-index: 2147483647;font-size:19px;font-family:arial;font-weight:bold;text-decoration: none;width: 25px;/*height: 25px;*/text-align: center; -webkit-appearance: none; line-height: 25px;background: #353535;border: #fff 2px solid;border-radius: 100%;box-shadow: #777 2px 2px 2px;color:#fff;}a:hover.wzrkClose{background-color:#d1914a !important;color:#fff !important; -webkit-appearance: none;}td{vertical-align:top;}td.imgTd{border-top-left-radius:8px;border-bottom-left-radius:8px;}</style>";let o,r,s,a,l;"dark"===e.display.theme?(o="#2d2d2e",r="#eaeaea",s="#353535",a="#353535",l="#ffffff"):(o="#ffffff",r="#000000",a="#f4f4f4",s="#a5a6a6",l="#ffffff");const c=e.msgContent.title,d=e.msgContent.description;let u="";null!=e.msgContent.imageUrl&&""!==e.msgContent.imageUrl&&(u="<td class='imgTd' style='background-color:"+a+"'><img src='"+e.msgContent.imageUrl+"' height='60' width='60'></td>"),v=i+"<div class='wzrkPPwarp' style='color:"+r+";background-color:"+o+";'><a href='javascript:void(0);' onclick=parent.$WZRK_WR.closeIframe("+t+",'"+n+"'); class='wzrkClose' style='background-color:"+s+";color:"+l+"'>&times;</a><div id='contentDiv' class='wzrk'><table cellpadding='0' cellspacing='0' border='0'><tr>"+u+"<td style='vertical-align:top;'><div class='wzrkPPtitle' style='color:"+r+"'>"+c+"</div><div class='wzrkPPdscr' style='color:"+r+"'>"+d+"<div></td></tr></table></div>"}h.setAttribute("style","z-index: 2147483647; display:block; width: 100% !important; border:0px !important; border-color:none !important;"),r.appendChild(h);const m=new Event("CT_campaign_rendered");document.dispatchEvent(m),i["custom-editor"]&&(v=C(e,v)),h.srcdoc=v;const y=()=>{d=document.getElementById("wiz-iframe").contentDocument.getElementById("contentDiv").scrollHeight,!0===i["custom-editor"]||o||(d+=25),document.getElementById("wiz-iframe").contentDocument.body.style.margin="0px",document.getElementById("wiz-iframe").style.height=d+"px"},w=navigator.userAgent.toLowerCase();if(-1!==w.indexOf("safari"))if(w.indexOf("chrome")>-1)h.onload=()=>{y();const t=document.getElementById("wiz-iframe").contentDocument.getElementById("contentDiv");g(f,e,t,0,c)};else{let t=h.contentDocument||h.contentWindow;t.document&&(t=t.document),y();const i=setInterval((()=>{if("complete"===t.readyState){clearInterval(i),y();const t=document.getElementById("wiz-iframe").contentDocument.getElementById("contentDiv");g(f,e,t,0,c)}}),10)}else h.onload=()=>{y();const t=document.getElementById("wiz-iframe").contentDocument.getElementById("contentDiv");g(f,e,t,0,c)}},C=(e,t)=>{const i="<script>\n      const ct__camapignId = '".concat(e.wzrk_id,"';\n      const ct__formatVal = (v) => {\n          return v && v.trim().substring(0, 20);\n      }\n      const ct__parentOrigin =  window.parent.origin;\n      document.body.addEventListener('click', (event) => {\n        const elem = event.target.closest?.('a[wzrk_c2a], button[wzrk_c2a]');\n        if (elem) {\n            const {innerText, id, name, value, href} = elem;\n            const clickAttr = elem.getAttribute('onclick') || elem.getAttribute('click');\n            const onclickURL = clickAttr?.match(/(window.open)[(](\"|')(.*)(\"|',)/)?.[3] || clickAttr?.match(/(location.href *= *)(\"|')(.*)(\"|')/)?.[3];\n            const props = {innerText, id, name, value};\n            let msgCTkv = Object.keys(props).reduce((acc, c) => {\n                const formattedVal = ct__formatVal(props[c]);\n                formattedVal && (acc['wzrk_click_' + c] = formattedVal);\n                return acc;\n            }, {});\n            if(onclickURL) { msgCTkv['wzrk_click_' + 'url'] = onclickURL; }\n            if(href) { msgCTkv['wzrk_click_' + 'c2a'] = href; }\n            const notifData = { msgId: ct__camapignId, msgCTkv, pivotId: '").concat(e.wzrk_pivot,"' };\n            window.parent.clevertap.renderNotificationClicked(notifData);\n        }\n      });\n      <\/script>\n    ");return t.replace(/(<\s*\/\s*body)/,"".concat(i,"\n$1"))};let E=!1;const P=e=>{let t=e.display.onClick;if(window.clevertap.hasOwnProperty("notificationCallback")&&void 0!==window.clevertap.notificationCallback&&"function"==typeof window.clevertap.notificationCallback){const i=window.clevertap.notificationCallback;if(!E){const n={};n.msgContent=e.msgContent,n.msgId=e.wzrk_id,e.wzrk_pivot&&(n.pivotId=e.wzrk_pivot),null!=e.display.kv&&(n.kv=e.display.kv),window.clevertap.raiseNotificationClicked=()=>{if(""!==t&&null!=t){const i=e.display.jsFunc;if(t+=h(),null!=i)return tt.fireRequest(t),void p(i,e);1===e.display.window?window.open(t,"_blank"):window.location=t}},window.clevertap.raiseNotificationViewed=()=>{f(e)},i(n),E=!0}}else if(window.clevertap.popupCurrentWzrkId=e.wzrk_id,_(e),window.clevertap.hasOwnProperty("popupCallbacks")&&void 0!==window.clevertap.popupCallbacks&&"function"==typeof window.clevertap.popupCallbacks[e.wzrk_id]){const t=window.clevertap.popupCallbacks[e.wzrk_id],o={};o.msgContent=e.msgContent,o.msgId=e.wzrk_id,e.wzrk_pivot&&(o.pivotId=e.wzrk_pivot);var i=[];for(var n in e)if(n.startsWith(N)&&n!==L){const t={[n]:e[n]};i.push(t)}i.length>0&&(o.msgCTkv=i),null!=e.display.kv&&(o.kv=e.display.kv),window.clevertap.raisePopupNotificationClicked=t=>{if(!t||!t.msgId)return;const i={type:"event"};if(i.evtName=j,i.evtData={[L]:t.msgId},e.wzrk_pivot&&(i.evtData={...i.evtData,wzrk_pivot:t.pivotId}),t.msgCTkv)for(var n of t.msgCTkv)i.evtData={...i.evtData,...n};l.processEvent(i)},t(o)}};let O;const T=(e,t)=>{let i;if(null!=e&&e.clientY>0)return;if(i=null==t?O:t,ue.dismissSpamControl&&0===i.display.wtarget_type&&null!=document.getElementById("intentPreview")&&null!=document.getElementById("intentOpacityDiv")&&(document.getElementById("intentPreview").remove(),document.getElementById("intentOpacityDiv").remove()),null!=document.getElementById("intentPreview")||null!=document.getElementById("wzrkImageOnlyDiv"))return;if(null==i.display.layout&&(/mobile/i.test(navigator.userAgent)||/mini/i.test(navigator.userAgent)||/iPad/i.test(navigator.userAgent)||"ontouchstart"in window||/tablet/i.test(navigator.userAgent)))return;if(!1===u(i))return;const n=i.wzrk_id.split("_")[0];ue.campaignDivMap[n]="intentPreview";let o=!1;const r=document.createElement("div");r.id="intentOpacityDiv";const s=i.display.opacity||.7,a="rgba(0,0,0,".concat(s,")");r.setAttribute("style","position: fixed;top: 0;bottom: 0;left: 0;width: 100%;height: 100%;z-index: 2147483646;background: ".concat(a,";")),document.body.appendChild(r);const l=document.createElement("div");l.id="intentPreview",null==i.display.proto?(o=!0,l.setAttribute("style","display:block;overflow:hidden;top:55% !important;left:50% !important;position:fixed;z-index:2147483647;width:600px !important;height:600px !important;margin:-300px 0 0 -300px !important;")):l.setAttribute("style",i.display.iFrameStyle),document.body.appendChild(l);const c=document.createElement("iframe"),d=!1===i.display.br?"0":"8";c.frameborder="0px",c.marginheight="0px",c.marginwidth="0px",c.scrolling="no",c.id="wiz-iframe-intent";const h=i.display.onClick;let p,f="";if(""!==h&&null!=h&&(f="cursor:pointer;"),i.display.preview&&i.display["custom-editor"]&&(c.sandbox="allow-scripts allow-popups allow-popups-to-escape-sandbox"),1===i.msgContent.type)p=i.msgContent.html,p=p.replace(/##campaignId##/g,n),p=p.replace(/##campaignId_batchId##/g,i.wzrk_id);else{const e='<style type="text/css">body{margin:0;padding:0;}#contentDiv.wzrk{overflow:hidden;padding:0 0 20px 0;text-align:center;'+f+"}#contentDiv.wzrk td{padding:15px 10px;}.wzrkPPtitle{font-weight: bold;font-size: 24px;font-family:arial;word-break: break-word;padding-top:20px;}.wzrkPPdscr{font-size: 14px;font-family:arial;line-height:16px;word-break: break-word;display:inline-block;padding:20px 20px 0 20px;line-height:20px;}.PL15{padding-left:15px;}.wzrkPPwarp{margin:20px 20px 0 5px;padding:0px;border-radius: "+d+"px;box-shadow: 1px 1px 5px #888888;}a.wzrkClose{cursor:pointer;position: absolute;top: 11px;right: 11px;z-index: 2147483647;font-size:19px;font-family:arial;font-weight:bold;text-decoration: none;width: 25px;/*height: 25px;*/text-align: center; -webkit-appearance: none; line-height: 25px;background: #353535;border: #fff 2px solid;border-radius: 100%;box-shadow: #777 2px 2px 2px;color:#fff;}a:hover.wzrkClose{background-color:#d1914a !important;color:#fff !important; -webkit-appearance: none;}#contentDiv .button{padding-top:20px;}#contentDiv .button a{font-size: 14px;font-weight:bold;font-family:arial;text-align:center;display:inline-block;text-decoration:none;padding:0 30px;height:40px;line-height:40px;background:#ea693b;color:#fff;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;}</style>";let t,o,r,s;"dark"===i.display.theme?(t="#2d2d2e",o="#eaeaea",r="#353535",s="#ffffff"):(t="#ffffff",o="#000000",r="#a5a6a6",s="#ffffff");const a=i.msgContent.title,l=i.msgContent.description;let c="";null!=i.msgContent.ctaText&&""!==i.msgContent.ctaText&&(c="<div class='button'><a href='#'>"+i.msgContent.ctaText+"</a></div>");let u="";null!=i.msgContent.imageUrl&&""!==i.msgContent.imageUrl&&(u="<div style='padding-top:20px;'><img src='"+i.msgContent.imageUrl+"' width='500' alt="+a+" /></div>"),p=e+"<div class='wzrkPPwarp' style='color:"+o+";background-color:"+t+";'><a href='javascript:void(0);' onclick=parent.$WZRK_WR.closeIframe("+n+",'intentPreview'); class='wzrkClose' style='background-color:"+r+";color:"+s+"'>&times;</a><div id='contentDiv' class='wzrk'><div class='wzrkPPtitle' style='color:"+o+"'>"+a+"</div><div class='wzrkPPdscr' style='color:"+o+"'>"+l+"</div>"+u+c+"</div></div>"}c.setAttribute("style","z-index: 2147483647; display:block; height: 100% !important; width: 100% !important;min-height:80px !important;border:0px !important; border-color:none !important;"),l.appendChild(c);const v=new Event("CT_campaign_rendered");document.dispatchEvent(v),i.display["custom-editor"]&&(p=C(i,p)),c.srcdoc=p,c.onload=()=>{const e=document.getElementById("wiz-iframe-intent").contentDocument.getElementById("contentDiv");g(h,i,e,0,o)}};if(!document.body)return void(d<6&&(d++,setTimeout(ri,1e3,e,{device:s,session:a,request:l,logger:c})));const R=e=>{Object.keys(e).map((t=>{var i,n;e[t].display.divId?(i=e[t].display.divId,n=document.getElementById(i)):(i=e[t].display.divSelector,n=document.querySelector(i)),null!==n&&(2===e[t].msgContent.type?v(e[t]):m(e[t]),delete e[t])}))};if(null!=e.inapp_notifs){const t={};for(let i=0;i<e.inapp_notifs.length;i++){const n=e.inapp_notifs[i];null==n.display.wtarget_type||0===n.display.wtarget_type?P(n):1===n.display.wtarget_type?(O=n,window.document.body.onmouseleave=T):2===n.display.wtarget_type&&(2===n.msgContent.type||3===n.msgContent.type?null!==(n.display.divId?document.getElementById(n.display.divId):document.querySelector(n.display.divSelector))?2===n.msgContent.type?v(n):m(n):t[n.wzrk_id.split("_")[0]]=n:4===n.msgContent.type?ni(n,!1):P(n))}Object.keys(t).length&&("complete"===document.readyState?R(t):(e=>{window.addEventListener("load",(()=>{let t=0;if(t<20){const i=setInterval((()=>{R(e),0!==Object.keys(e).length&&20!==t||(clearInterval(i),e={}),t++}),500)}}))})(t))}const M=()=>{if(e.inbox_preview)Ft(e);else if(e.inbox_notifs){const t=[];for(let i=0;i<e.inbox_notifs.length;i++)!1!==u(e.inbox_notifs[i])&&t.push(e.inbox_notifs[i]);Ft(t)}};if((e.webInboxSetting||null!=e.inbox_notifs)&&(Yt()&&Kt(),null===ue.inbox?(e.webInboxSetting&&function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=de.readFromLSorCookie(K)||{};t?(ue.inbox.inboxConfigForPreview=e,ue.inbox.isPreview=!0,ue.inbox&&ue.inbox.init()):JSON.stringify(i)!==JSON.stringify(e)&&(de.saveToLSorCookie(K,e),ue.inbox&&ue.inbox.init())}(e.webInboxSetting),Ht(c).then((()=>{M()})).catch((e=>{}))):M()),e.vars)return void ue.variableStore.mergeVariables(e.vars);const D=(e,t)=>{const i=it(),n=i[t].global;if(null!=n&&t)for(const i in e)if(e.hasOwnProperty(i)&&(delete n[e[i]],de.read(w))){const n=JSON.parse(decodeURIComponent(de.read(w))),o=JSON.parse(decodeURIComponent(de.read(b)));n[o]&&n[o][t]&&n[o][t][e[i]]&&(delete n[o][t][e[i]],de.save(w,encodeURIComponent(JSON.stringify(n))))}nt(i)};if(de._isLocalStorageSupported())try{if(null!=e.evpr){const t=e.evpr.events,i=e.evpr.profile,n=e.evpr.expires_in,o=se();de.setMetaProp("lsTime",o),de.setMetaProp("exTs",n),(e=>{if(null!=ue.globalEventsMap||(ue.globalEventsMap=de.readFromLSorCookie(S),null!=ue.globalEventsMap)){for(const t in e)if(e.hasOwnProperty(t)){const i=ue.globalEventsMap[t],n=e[t];null!=ue.globalEventsMap[t]?null!=n[0]&&n[0]>i[0]&&(ue.globalEventsMap[t]=n):ue.globalEventsMap[t]=n}}else ue.globalEventsMap=e})(t),de.saveToLSorCookie(S,ue.globalEventsMap),null==ue.globalProfileMap?ct(i,!0):ct(i,!1)}null!=e.arp&&(e=>{if(null!=e.skipResARP&&e.skipResARP)return console.debug("Update ARP Request rejected",e),null;const t=!0===e[x];if(de._isLocalStorageSupported())try{let i=de.readFromLSorCookie(k);if(null==i||t){i={};for(const t in e)e.hasOwnProperty(t)&&(-1===e[t]?delete i[t]:i[t]=e[t]);de.saveToLSorCookie(k,i)}}catch(e){console.error("Unable to parse ARP JSON: "+e)}})(e.arp),null!=e.inapp_stale&&e.inapp_stale.length>0&&D(e.inapp_stale,"wp"),null!=e.inbox_stale&&e.inbox_stale.length>0&&D(e.inbox_stale,"wi")}catch(e){c.error("Unable to persist evrp/arp: "+e)}};var si=t("isPersonalisationActive");class ai{constructor(e){let{isPersonalisationActive:t}=e;Object.defineProperty(this,si,{writable:!0,value:void 0}),i(this,si)[si]=t}getTotalVisits(){if(!i(this,si)[si]())return;let e=de.getMetaProp("sc");return null==e&&(e=1),e}getLastVisit(){if(!i(this,si)[si]())return;const e=de.getMetaProp("ps");return null!=e?new Date(1e3*e):void 0}}const li=1,ci=2,di=3,ui=4;var hi=t("logLevel"),pi=t("log"),gi=t("isLegacyDebug");class fi{constructor(e){Object.defineProperty(this,gi,{get:bi,set:void 0}),Object.defineProperty(this,pi,{value:vi}),Object.defineProperty(this,hi,{writable:!0,value:void 0}),this.wzrkError={},i(this,hi)[hi]=null==e?e:ci,this.wzrkError={}}get logLevel(){return i(this,hi)[hi]}set logLevel(e){i(this,hi)[hi]=e}error(e){i(this,hi)[hi]>=li&&i(this,pi)[pi]("error",e)}info(e){i(this,hi)[hi]>=ci&&i(this,pi)[pi]("log",e)}debug(e){(i(this,hi)[hi]>=di||i(this,gi)[gi])&&i(this,pi)[pi]("debug",e)}debugPE(e){i(this,hi)[hi]>=ui&&i(this,pi)[pi]("debug_pe",e)}reportError(e,t){this.wzrkError.c=e,this.wzrkError.d=t,this.error("".concat(ke," ").concat(e,": ").concat(t))}}var vi=function(e,t){if(window.console)try{const i=(new Date).getTime();console[e]("CleverTap [".concat(i,"]: ").concat(t))}catch(e){}},bi=function(){return"undefined"!=typeof sessionStorage&&""===sessionStorage.WZRK_D},mi=t("logger"),yi=t("sessionId"),wi=t("isPersonalisationActive");class Si{constructor(e){let{logger:t,isPersonalisationActive:n}=e;Object.defineProperty(this,mi,{writable:!0,value:void 0}),Object.defineProperty(this,yi,{writable:!0,value:void 0}),Object.defineProperty(this,wi,{writable:!0,value:void 0}),this.cookieName=void 0,this.scookieObj=void 0,this.sessionId=de.getMetaProp("cs"),i(this,mi)[mi]=t,i(this,wi)[wi]=n}get sessionId(){return i(this,yi)[yi]}set sessionId(e){i(this,yi)[yi]=e}getSessionCookieObject(){let e=de.readCookie(this.cookieName),t={};if(null!=e)if(e=e.replace(p,'"'),t=JSON.parse(e),Z(t)){if(void 0!==t.t){const e=t.t;se()-e>1260&&(t={})}}else t={};return this.scookieObj=t,t}setSessionCookieObject(e){const t=JSON.stringify(e);de.createBroadCookie(this.cookieName,t,1200,Ge())}manageSession(e){if(void 0===this.sessionId||this.sessionId!==e){const t=de.getMetaProp("cs");if(void 0===t)de.setMetaProp("ps",e),de.setMetaProp("cs",e),de.setMetaProp("sc",1);else if(t!==e){de.setMetaProp("ps",t),de.setMetaProp("cs",e);let i=de.getMetaProp("sc");void 0===i&&(i=0),de.setMetaProp("sc",i+1)}this.sessionId=e}}getTimeElapsed(){if(!i(this,wi)[wi]())return;null!=this.scookieObj&&(this.scookieObj=this.getSessionCookieObject());const e=this.scookieObj.s;if(null!=e){const t=se();return Math.floor(t-e)}}getPageCount(){if(i(this,wi)[wi]())return null!=this.scookieObj&&(this.scookieObj=this.getSessionCookieObject()),this.scookieObj.p}}let _i=0,Ci=0;var ki=t("logger"),Ei=t("account"),Ai=t("device"),Ii=t("session"),Pi=t("isPersonalisationActive"),Oi=t("clearCookie"),Ti=t("addToLocalEventMap");class xi{constructor(e){let{logger:t,account:n,device:o,session:r,isPersonalisationActive:s}=e;Object.defineProperty(this,Ti,{value:Ri}),Object.defineProperty(this,ki,{writable:!0,value:void 0}),Object.defineProperty(this,Ei,{writable:!0,value:void 0}),Object.defineProperty(this,Ai,{writable:!0,value:void 0}),Object.defineProperty(this,Ii,{writable:!0,value:void 0}),Object.defineProperty(this,Pi,{writable:!0,value:void 0}),Object.defineProperty(this,Oi,{writable:!0,value:!1}),this.processingBackup=!1,i(this,ki)[ki]=t,i(this,Ei)[Ei]=n,i(this,Ai)[Ai]=o,i(this,Ii)[Ii]=r,i(this,Pi)[Pi]=s,tt.logger=t,tt.device=o,tt.account=n}processBackupEvents(){const e=de.readFromLSorCookie(E);if(null!=e){this.processingBackup=!0;for(const t in e)if(e.hasOwnProperty(t)){const n=e[t];void 0===n.fired&&(i(this,ki)[ki].debug("Processing backup event : "+n.q),void 0!==n.q&&tt.fireRequest(n.q),n.fired=!0)}de.saveToLSorCookie(E,e),this.processingBackup=!1}}addSystemDataToObject(e,t){void 0===t&&(e=ne(e,i(this,ki)[ki])),X(i(this,ki)[ki].wzrkError)||(e.wzrk_error=i(this,ki)[ki].wzrkError,i(this,ki)[ki].wzrkError={}),e.id=i(this,Ei)[Ei].id,ie(i(this,Ai)[Ai].gcookie)&&(e.g=i(this,Ai)[Ai].gcookie);const n=i(this,Ii)[Ii].getSessionCookieObject();e.s=n.s,e.pg=void 0===n.p?1:n.p;let o=document.location.protocol;return o=o.replace(":",""),e.af={...e.af,lib:"web-sdk-v1.8.2",protocol:o,...ue.flutterVersion},sessionStorage.hasOwnProperty("WZRK_D")&&(e.debug=!0),e}addFlags(e){if(i(this,Oi)[Oi]=de.getAndClearMetaProp(g),void 0!==i(this,Oi)[Oi]&&i(this,Oi)[Oi]&&(e.rc=!0,i(this,ki)[ki].debug("reset cookie sent in request and cleared from meta for future requests.")),i(this,Pi)[Pi]()){const t=de.getMetaProp("lsTime"),i=de.getMetaProp("exTs");if(void 0===t||void 0===i)return void(e.dsync=!0);t+i<se()&&(e.dsync=!0)}}saveAndFireRequest(e,t,n,o){const r=se(),s=(e=We(e,"rn",++ue.globalCache.REQ_N))+"&i="+r+"&sn="+_i;de.backupEvent(s,ue.globalCache.REQ_N,i(this,ki)[ki]),ue.offline||(t&&(void 0===i(this,Oi)[Oi]||!i(this,Oi)[Oi])||window.isOULInProgress?i(this,ki)[ki].debug("Not fired due to override - ".concat(ue.blockRequest," or clearCookie - ").concat(i(this,Oi)[Oi]," or OUL request in progress - ").concat(window.isOULInProgress)):(r===Ci?_i++:(Ci=r,_i=0),window.oulReqN=ue.globalCache.REQ_N,tt.fireRequest(s,!1,n,o)))}unregisterTokenForGuid(e){const t=de.readFromLSorCookie(V);if(t){const t={type:"data"};ie(e)&&(t.g=e),t.action="unregister",t.id=i(this,Ei)[Ei].id;const n=i(this,Ii)[Ii].getSessionCookieObject();t.s=n.s;const o=Ye(JSON.stringify(t),i(this,ki)[ki]);let r=i(this,Ei)[Ei].dataPostURL;r=We(r,"type","data"),r=We(r,"d",o),tt.fireRequest(r,!0),de.saveToLSorCookie(F,!1)}this.registerToken(t)}registerToken(e){if(!e)return;e=this.addSystemDataToObject(e,!0),e=JSON.stringify(e);let t=i(this,Ei)[Ei].dataPostURL;t=We(t,"type","data"),t=We(t,"d",Ye(e,i(this,ki)[ki])),tt.fireRequest(t),de.save("WZRK_WPR","ok")}processEvent(e){i(this,Ti)[Ti](e.evtName),e=this.addSystemDataToObject(e,void 0),this.addFlags(e),e[y]=rt();const t=Ye(JSON.stringify(e),i(this,ki)[ki]);let n=i(this,Ei)[Ei].dataPostURL;n=We(n,"type",R),n=We(n,"d",t),this.saveAndFireRequest(n,ue.blockRequest,!1,e.evtName)}post(e,t){return fetch(e,{method:"post",headers:{"Content-Type":"application/json"},body:t}).then((e=>{if(e.ok)return e.json();throw e})).then((e=>(i(this,ki)[ki].debug("Sync data successful",e),e))).catch((e=>{throw i(this,ki)[ki].debug("Error in syncing variables",e),e}))}}var Ri=function(e){if(de._isLocalStorageSupported()){void 0===ue.globalEventsMap&&(ue.globalEventsMap=de.readFromLSorCookie(S),void 0===ue.globalEventsMap&&(ue.globalEventsMap={}));const t=se();let i=ue.globalEventsMap[e];void 0!==i?(i[2]=t,i[0]++):(i=[],i.push(1),i.push(t),i.push(t)),ue.globalEventsMap[e]=i,de.saveToLSorCookie(S,ue.globalEventsMap)}},Mi=t("request"),Di=t("account"),Ni=t("oldValues"),Li=t("logger"),Ui=t("processPrivacyArray");class ji extends Array{constructor(e,t){let{request:n,account:o,logger:r}=e;super(),Object.defineProperty(this,Ui,{value:Fi}),Object.defineProperty(this,Mi,{writable:!0,value:void 0}),Object.defineProperty(this,Di,{writable:!0,value:void 0}),Object.defineProperty(this,Ni,{writable:!0,value:void 0}),Object.defineProperty(this,Li,{writable:!0,value:void 0}),i(this,Li)[Li]=r,i(this,Mi)[Mi]=n,i(this,Di)[Di]=o,i(this,Ni)[Ni]=t}push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ue.isPrivacyArrPushed?i(this,Ui)[Ui](ue.privacyArray.length>0?ue.privacyArray:t):ue.privacyArray.push(...t),0}_processOldValues(){i(this,Ni)[Ni]&&i(this,Ui)[Ui](i(this,Ni)[Ni]),i(this,Ni)[Ni]=null}}var Fi=function(e){if(Array.isArray(e)&&e.length>0){const n=e.reduce(((e,t)=>({...e,...t})),{});let o={};const r={};var t=!1;if(n.hasOwnProperty(P)&&"boolean"==typeof(t=n[P])&&(r.ct_optout=t,ue.isOptInRequest=!t),n.hasOwnProperty(O)){const e=n[O],t="boolean"==typeof e&&e;de.setMetaProp(O,t)}if(!X(r)){o.type="profile",o.profile=r,o=i(this,Mi)[Mi].addSystemDataToObject(o,void 0);const n=Ye(JSON.stringify(o),i(this,Li)[Li]);let s=i(this,Di)[Di].dataPostURL;s=We(s,"type",R),s=We(s,"d",n),s=We(s,P,t?"true":"false"),i(this,Mi)[Mi].saveAndFireRequest(s,ue.blockRequest),e.splice(0,e.length)}}},Vi=t("oldValues"),qi=t("logger"),Bi=t("request"),zi=t("account"),Hi=t("wizAlertJSPath"),Ki=t("fcmPublicKey"),Wi=t("setUpWebPush"),Gi=t("setUpWebPushNotifications"),Yi=t("setApplicationServerKey"),Ji=t("setUpSafariNotifications"),$i=t("setUpChromeFirefoxNotifications"),Zi=t("addWizAlertJS"),Qi=t("removeWizAlertJS"),Xi=t("handleNotificationRegistration");class en extends Array{constructor(e,t){let{logger:n,session:o,request:r,account:s}=e;super(),Object.defineProperty(this,Xi,{value:cn}),Object.defineProperty(this,Qi,{value:ln}),Object.defineProperty(this,Zi,{value:an}),Object.defineProperty(this,$i,{value:sn}),Object.defineProperty(this,Ji,{value:rn}),Object.defineProperty(this,Yi,{value:on}),Object.defineProperty(this,Gi,{value:nn}),Object.defineProperty(this,Wi,{value:tn}),Object.defineProperty(this,Vi,{writable:!0,value:void 0}),Object.defineProperty(this,qi,{writable:!0,value:void 0}),Object.defineProperty(this,Bi,{writable:!0,value:void 0}),Object.defineProperty(this,zi,{writable:!0,value:void 0}),Object.defineProperty(this,Hi,{writable:!0,value:void 0}),Object.defineProperty(this,Ki,{writable:!0,value:void 0}),i(this,Hi)[Hi]="https://d2r1yp2w7bby2u.cloudfront.net/js/wzrk_dialog.min.js",i(this,Ki)[Ki]=null,i(this,Vi)[Vi]=t,i(this,qi)[qi]=n,i(this,Bi)[Bi]=r,i(this,zi)[zi]=s}push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(this,Wi)[Wi](t),0}_processOldValues(){i(this,Vi)[Vi]&&i(this,Wi)[Wi](i(this,Vi)[Vi]),i(this,Vi)[Vi]=null}_enableWebPush(e,t){ue.webPushEnabled=e,null!=t&&i(this,Yi)[Yi](t),ue.webPushEnabled&&ue.notifApi.notifEnabledFromApi?i(this,Xi)[Xi](ue.notifApi.displayArgs):!ue.webPushEnabled&&ue.notifApi.notifEnabledFromApi&&i(this,qi)[qi].error("Ensure that web push notifications are fully enabled and integrated before requesting them")}}var tn=function(e){ue.webPushEnabled&&e.length>0?i(this,Xi)[Xi](e):null==ue.webPushEnabled&&e.length>0?(ue.notifApi.notifEnabledFromApi=!0,ue.notifApi.displayArgs=e.slice()):!1===ue.webPushEnabled&&e.length>0&&i(this,qi)[qi].error("Make sure push notifications are fully enabled and integrated")},nn=function(e,t,n,o){-1!==navigator.userAgent.indexOf("Chrome")||-1!==navigator.userAgent.indexOf("Firefox")?i(this,$i)[$i](e,t):-1!==navigator.userAgent.indexOf("Safari")&&i(this,Ji)[Ji](e,n,o)},on=function(e){i(this,Ki)[Ki]=e},rn=function(e,t,n){void 0===t&&i(this,qi)[qi].error("Ensure that APNS Web Push ID is supplied"),void 0===n&&i(this,qi)[qi].error("Ensure that APNS Web Push service path is supplied"),"safari"in window&&"pushNotification"in window.safari&&window.safari.pushNotification.requestPermission(n,t,{},(e=>{if("granted"===e.permission){const t=JSON.parse(JSON.stringify(e));t.endpoint=e.deviceToken,t.browser="Safari",de.saveToLSorCookie(V,t),i(this,Bi)[Bi].registerToken(t),i(this,qi)[qi].info("Safari Web Push registered. Device Token: "+e.deviceToken)}else"denied"===e.permission&&i(this,qi)[qi].info("Error subscribing to Safari web push")}))},sn=function(e,t){let n="";"serviceWorker"in navigator&&navigator.serviceWorker.register(t).then((e=>"undefined"!=typeof __wzrk_account_id?new Promise((t=>setTimeout((()=>t(e)),5e3))):(n=e.scope,/^(\.?)(\/?)([^/]*).js$/.test(t)?navigator.serviceWorker.ready:-1!==navigator.userAgent.indexOf("Chrome")?new Promise((t=>setTimeout((()=>t(e)),5e3))):navigator.serviceWorker.getRegistrations()))).then((t=>{-1!==navigator.userAgent.indexOf("Firefox")&&Array.isArray(t)&&(t=t.filter((e=>e.scope===n))[0]);const o={userVisibleOnly:!0};null!=i(this,Ki)[Ki]&&(o.applicationServerKey=(e=>{let t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(t),n=[];for(let e=0;e<i.length;e++)n.push(i.charCodeAt(e));return new Uint8Array(n)})(i(this,Ki)[Ki])),t.pushManager.subscribe(o).then((t=>{i(this,qi)[qi].info("Service Worker registered. Endpoint: "+t.endpoint);const n=JSON.parse(JSON.stringify(t));-1!==navigator.userAgent.indexOf("Chrome")?(n.endpoint=n.endpoint.split("/").pop(),n.browser="Chrome"):-1!==navigator.userAgent.indexOf("Firefox")&&(n.endpoint=n.endpoint.split("/").pop(),n.browser="Firefox"),de.saveToLSorCookie(V,n),i(this,Bi)[Bi].registerToken(n),void 0!==e&&"function"==typeof e&&e()})).catch((e=>{i(this,qi)[qi].error("Error subscribing: "+e),t.pushManager.getSubscription().then((e=>{null!==e&&e.unsubscribe().then((e=>{i(this,qi)[qi].info("Unsubscription successful")})).catch((e=>{i(this,qi)[qi].error("Error unsubscribing: "+e)}))}))}))})).catch((e=>{i(this,qi)[qi].error("error registering service worker: "+e)}))},an=function(){const e=document.createElement("script");return e.setAttribute("type","text/javascript"),e.setAttribute("id","wzrk-alert-js"),e.setAttribute("src",i(this,Hi)[Hi]),document.getElementsByTagName("body")[0].appendChild(e),e},ln=function(){const e=document.getElementById("wzrk-alert-js");e.parentNode.removeChild(e)},cn=function(e){let t,n,o,r,s,a,l,c,d,u,h,p,g,f,v;if(1===e.length){if(Z(e[0])){const i=e[0];t=i.titleText,n=i.bodyText,o=i.okButtonText,r=i.rejectButtonText,s=i.okButtonColor,a=i.skipDialog,l=i.askAgainTimeInSeconds,c=i.okCallback,d=i.rejectCallback,u=i.subscriptionCallback,h=i.serviceWorkerPath,p=i.httpsPopupPath,g=i.httpsIframePath,f=i.apnsWebPushId,v=i.apnsWebPushServiceUrl}}else t=e[0],n=e[1],o=e[2],r=e[3],s=e[4],a=e[5],l=e[6];if(null==a&&(a=!1),null==h&&(h="/clevertap_sw.js"),void 0===navigator.serviceWorker)return;const b=null!=p&&null!=g;if("https:"!==window.location.protocol&&"localhost"!==document.location.hostname&&!b)return void i(this,qi)[qi].error("Make sure you are https or localhost to register for notifications");if(-1!==navigator.userAgent.indexOf("Chrome")){const e=navigator.userAgent.match(/Chrome\/(\d+)/);if(null==e||parseInt(e[1],10)<50)return}else if(-1!==navigator.userAgent.indexOf("Firefox")){const e=navigator.userAgent.match(/Firefox\/(\d+)/);if(null==e||parseInt(e[1],10)<50)return}else{if(-1===navigator.userAgent.indexOf("Safari"))return;{const e=navigator.userAgent.match(/Safari\/(\d+)/);if(null==e||parseInt(e[1],10)<50)return}}if(!b){if(null==Notification)return;if("granted"===Notification.permission)return void i(this,Gi)[Gi](u,h,f,v);if("denied"===Notification.permission)return;if(a)return void i(this,Gi)[Gi](u,h,f,v)}if(!(t&&n&&o&&r))return void i(this,qi)[qi].error("Missing input parameters; please specify title, body, ok button and cancel button text");null!=s&&s.match(/^#[a-f\d]{6}$/i)||(s="#f28046");const m=(new Date).getTime()/1e3;if(null==de.getMetaProp("notif_last_time"))de.setMetaProp("notif_last_time",m);else{if(null==l&&(l=604800),m-de.getMetaProp("notif_last_time")<l)return;de.setMetaProp("notif_last_time",m)}if(b){const e=document.createElement("iframe");e.setAttribute("style","display:none;"),e.setAttribute("src",g),document.body.appendChild(e),window.addEventListener("message",(e=>{if(null!=e.data){let a={};try{a=JSON.parse(e.data)}catch(e){return}null!=a.state&&"ct"===a.from&&"not"===a.state&&(i(this,Zi)[Zi]().onload=()=>{window.wzrkPermissionPopup.wizAlert({title:t,body:n,confirmButtonText:o,confirmButtonColor:s,rejectButtonText:r},(e=>{e?("function"==typeof c&&c(),window.open(p)):"function"==typeof d&&d(),i(this,Qi)[Qi]()}))})}}),!1)}else i(this,Zi)[Zi]().onload=()=>{window.wzrkPermissionPopup.wizAlert({title:t,body:n,confirmButtonText:o,confirmButtonColor:s,rejectButtonText:r},(e=>{e?("function"==typeof c&&c(),i(this,Gi)[Gi](u,h,f,v)):"function"==typeof d&&d(),i(this,Qi)[Qi]()}))}},dn=t("variableStore");class un{constructor(e){let{variableStore:t}=e;Object.defineProperty(this,dn,{writable:!0,value:void 0}),this.name=null,this.defaultValue=null,this.value=null,this.type=null,this.hadStarted=!1,this.valueChangedCallbacks=[],i(this,dn)[dn]=t}getValue(){return this.value}getdefaultValue(){return this.defaultValue}static define(e,t,i){if(!e||"string"!=typeof e)return console.error("Empty or invalid name parameter provided."),null;if(e.startsWith(".")||e.endsWith("."))return console.error("Variable name starts or ends with a `.` which is not allowed: "+e),null;const n=typeof t;if("string"!==n&&"number"!==n&&"boolean"!==n)return console.error("Only primitive types (string, number, boolean) are accepted as value"),null;const o=i.getVariable(e);if(o)return o;const r=new un({variableStore:i});try{r.name=e,r.defaultValue=t,r.value=t,r.type=n,i.registerVariable(r),r.update(t)}catch(e){console.error(e)}return r}update(e){const t=this.value;this.value=e,null===e&&null===t||null!==e&&e===t&&this.hadStarted||i(this,dn)[dn].hasVarsRequestCompleted()&&(this.hadStarted=!0,this.triggerValueChanged())}triggerValueChanged(){this.valueChangedCallbacks.forEach((e=>{e(this)}))}addValueChangedCallback(e){e?(this.valueChangedCallbacks.push(e),i(this,dn)[dn].hasVarsRequestCompleted()&&e(this)):console.log("Invalid callback parameter provided.")}removeValueChangedCallback(e){const t=this.valueChangedCallbacks.indexOf(e);-1!==t&&this.valueChangedCallbacks.splice(t,1)}clearStartFlag(){this.hadStarted=!1}}var hn=t("logger"),pn=t("account"),gn=t("request"),fn=t("event"),vn=t("variables"),bn=t("remoteVariables"),mn=t("fetchCallback"),yn=t("variablesChangedCallbacks"),wn=t("oneTimeVariablesChangedCallbacks"),Sn=t("hasVarsRequestCompleted"),_n=t("runVariablesChangedCallback");class Cn{constructor(e){let{logger:t,request:n,account:o,event:r}=e;Object.defineProperty(this,_n,{value:kn}),Object.defineProperty(this,hn,{writable:!0,value:void 0}),Object.defineProperty(this,pn,{writable:!0,value:void 0}),Object.defineProperty(this,gn,{writable:!0,value:void 0}),Object.defineProperty(this,fn,{writable:!0,value:void 0}),Object.defineProperty(this,vn,{writable:!0,value:void 0}),Object.defineProperty(this,bn,{writable:!0,value:void 0}),Object.defineProperty(this,mn,{writable:!0,value:void 0}),Object.defineProperty(this,yn,{writable:!0,value:void 0}),Object.defineProperty(this,wn,{writable:!0,value:void 0}),Object.defineProperty(this,Sn,{writable:!0,value:!1}),i(this,hn)[hn]=t,i(this,pn)[pn]=o,i(this,gn)[gn]=n,i(this,fn)[fn]=r,i(this,vn)[vn]={},i(this,bn)[bn]={},i(this,yn)[yn]=[],i(this,wn)[wn]=[],ue.variableStore=this}registerVariable(e){const{name:t}=e;i(this,vn)[vn][t]=e,console.log("registerVariable",i(this,vn)[vn])}getVariable(e){return i(this,vn)[vn][e]}hasVarsRequestCompleted(){return i(this,Sn)[Sn]}syncVariables(e,t){if(!i(this,pn)[pn].token){const e="Account token is missing.";return i(this,hn)[hn].error(e),Promise.reject(new Error(e))}const n={type:"varsPayload",vars:{}};for(const e in i(this,vn)[vn])n.vars[e]={defaultValue:i(this,vn)[vn][e].defaultValue,type:i(this,vn)[vn][e].type};if(0===Object.keys(n.vars).length){const e="No variables are defined.";return i(this,hn)[hn].error(e),Promise.reject(new Error(e))}let o={};o=i(this,gn)[gn].addSystemDataToObject(o,void 0),o.tk=i(this,pn)[pn].token,o.type="meta";const r=JSON.stringify([o,n]),s=i(this,pn)[pn].dataPostPEURL;return i(this,gn)[gn].post(s,r).then((t=>(e&&"function"==typeof e&&e(t),t))).catch((e=>{throw t&&"function"==typeof t&&t(e),400===e.status?i(this,hn)[hn].error("Invalid sync payload or clear the existing draft"):401===e.status?i(this,hn)[hn].error("This is not a test profile"):i(this,hn)[hn].error("Sync variable failed"),e}))}fetchVariables(e){i(this,fn)[fn].push(Y,{t:4}),e&&"function"==typeof e&&(i(this,mn)[mn]=e)}mergeVariables(e){console.log("msg vars is ",e),i(this,Sn)[Sn]=!0,de.saveToLSorCookie("WZRK_PE",e),i(this,bn)[bn]=e;for(const t in i(this,vn)[vn])e.hasOwnProperty(t)&&i(this,vn)[vn][t].update(e[t]);i(this,mn)[mn]&&i(this,mn)[mn](),i(this,_n)[_n]()}addVariablesChangedCallback(e){e&&"function"==typeof e?(i(this,yn)[yn].push(e),this.hasVarsRequestCompleted()&&e()):i(this,hn)[hn].error("callback is not a function")}addOneTimeVariablesChangedCallback(e){e&&"function"==typeof e&&(this.hasVarsRequestCompleted()?e():i(this,wn)[wn].push(e))}removeVariablesChangedCallback(e){const t=i(this,yn)[yn].indexOf(e);-1!==t&&i(this,yn)[yn].splice(t,1)}removeOneTimeVariablesChangedCallback(e){const t=i(this,wn)[wn].indexOf(e);-1!==t&&i(this,wn)[wn].splice(t,1)}}var kn=function(){for(var e of i(this,yn)[yn])e();for(var t of i(this,wn)[wn])t();i(this,wn)[wn].length=0},En=t("logger"),An=t("api"),In=t("onloadcalled"),Pn=t("device"),On=t("session"),Tn=t("account"),xn=t("request"),Rn=t("variableStore"),Mn=t("isSpa"),Dn=t("previousUrl"),Nn=t("boundCheckPageChanged"),Ln=t("dismissSpamControl"),Un=t("processOldValues"),jn=t("debounce"),Fn=t("checkPageChanged"),Vn=t("pingRequest"),qn=t("isPingContinuous"),Bn=t("overrideDSyncFlag"),zn=t("sendLocationData");var Hn=function(){this.onUserLogin._processOldValues(),this.privacy._processOldValues(),this.event._processOldValues(),this.profile._processOldValues(),this.notifications._processOldValues()},Kn=function(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){clearTimeout(t),t=setTimeout(e,i)}},Wn=function(){i(this,jn)[jn]((()=>{i(this,Dn)[Dn]!==location.href&&this.pageChanged()}))()},Gn=function(){let e=i(this,Tn)[Tn].dataPostURL,t={};t=i(this,xn)[xn].addSystemDataToObject(t,void 0),e=We(e,"type","ping"),e=We(e,"d",Ye(JSON.stringify(t),i(this,En)[En])),i(this,xn)[xn].saveAndFireRequest(e,ue.blockRequest)},Yn=function(){return void 0!==window.wzrk_d&&"continuous"===window.wzrk_d.ping},Jn=function(e){this._isPersonalisationActive()&&(e.dsync=!0)},$n=function(e){let t={af:{}};const n={};t.type="profile",null==n.tz&&(n.tz=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1]),t.profile=n,e&&Object.keys(e).forEach((i=>{t.af[i]=e[i]})),ue.location&&(t.af={...t.af,...ue.location}),t=i(this,xn)[xn].addSystemDataToObject(t,!0),i(this,xn)[xn].addFlags(t);const o=Ye(JSON.stringify(t),i(this,En)[En]);let r=i(this,Tn)[Tn].dataPostURL;r=We(r,"type",R),r=We(r,"d",o),i(this,xn)[xn].saveAndFireRequest(r,ue.blockRequest)};const Zn=new class{get spa(){return i(this,Mn)[Mn]}set spa(e){const t=!0===e;i(this,Mn)[Mn]!==t&&1===i(this,In)[In]&&(t?document.addEventListener("click",i(this,Nn)[Nn]):document.removeEventListener("click",i(this,Nn)[Nn])),i(this,Mn)[Mn]=t}get dismissSpamControl(){return i(this,Ln)[Ln]}set dismissSpamControl(e){const t=!0===e;i(this,Ln)[Ln]=t,ue.dismissSpamControl=t}constructor(){var e,t,n,o,r;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.defineProperty(this,zn,{value:$n}),Object.defineProperty(this,Bn,{value:Jn}),Object.defineProperty(this,qn,{value:Yn}),Object.defineProperty(this,Vn,{value:Gn}),Object.defineProperty(this,Fn,{value:Wn}),Object.defineProperty(this,jn,{value:Kn}),Object.defineProperty(this,Un,{value:Hn}),Object.defineProperty(this,En,{writable:!0,value:void 0}),Object.defineProperty(this,An,{writable:!0,value:void 0}),Object.defineProperty(this,In,{writable:!0,value:void 0}),Object.defineProperty(this,Pn,{writable:!0,value:void 0}),Object.defineProperty(this,On,{writable:!0,value:void 0}),Object.defineProperty(this,Tn,{writable:!0,value:void 0}),Object.defineProperty(this,xn,{writable:!0,value:void 0}),Object.defineProperty(this,Rn,{writable:!0,value:void 0}),Object.defineProperty(this,Mn,{writable:!0,value:void 0}),Object.defineProperty(this,Dn,{writable:!0,value:void 0}),Object.defineProperty(this,Nn,{writable:!0,value:i(this,Fn)[Fn].bind(this)}),Object.defineProperty(this,Ln,{writable:!0,value:void 0}),this.enablePersonalization=void 0,this.popupCallbacks={},this.popupCurrentWzrkId="",i(this,In)[In]=0,this._isPersonalisationActive=this._isPersonalisationActive.bind(this),this.raiseNotificationClicked=()=>{},i(this,En)[En]=new fi(ci),i(this,Tn)[Tn]=new d(null===(e=s.account)||void 0===e?void 0:e[0],s.region||(null===(t=s.account)||void 0===t?void 0:t[1]),s.targetDomain||(null===(n=s.account)||void 0===n?void 0:n[2]),s.token||(null===(o=s.account)||void 0===o?void 0:o[3])),i(this,Pn)[Pn]=new _e({logger:i(this,En)[En]}),i(this,Ln)[Ln]=s.dismissSpamControl||!1,this.shpfyProxyPath=s.shpfyProxyPath||"",i(this,On)[On]=new Si({logger:i(this,En)[En],isPersonalisationActive:this._isPersonalisationActive}),i(this,xn)[xn]=new xi({logger:i(this,En)[En],account:i(this,Tn)[Tn],device:i(this,Pn)[Pn],session:i(this,On)[On],isPersonalisationActive:this._isPersonalisationActive}),this.enablePersonalization=s.enablePersonalization||!1,this.event=new ze({logger:i(this,En)[En],request:i(this,xn)[xn],isPersonalisationActive:this._isPersonalisationActive},s.event),this.profile=new bt({logger:i(this,En)[En],request:i(this,xn)[xn],account:i(this,Tn)[Tn],isPersonalisationActive:this._isPersonalisationActive},s.profile),this.onUserLogin=new Ot({request:i(this,xn)[xn],account:i(this,Tn)[Tn],session:i(this,On)[On],logger:i(this,En)[En],device:i(this,Pn)[Pn]},s.onUserLogin),this.privacy=new ji({request:i(this,xn)[xn],account:i(this,Tn)[Tn],logger:i(this,En)[En]},s.privacy),this.notifications=new en({logger:i(this,En)[En],request:i(this,xn)[xn],account:i(this,Tn)[Tn]},s.notifications),i(this,Rn)[Rn]=new Cn({logger:i(this,En)[En],request:i(this,xn)[xn],account:i(this,Tn)[Tn],event:this.event}),i(this,An)[An]=new we({logger:i(this,En)[En],request:i(this,xn)[xn],device:i(this,Pn)[Pn],session:i(this,On)[On]}),this.spa=s.spa,this.dismissSpamControl=s.dismissSpamControl,this.user=new ai({isPersonalisationActive:this._isPersonalisationActive}),this.session={getTimeElapsed:()=>i(this,On)[On].getTimeElapsed(),getPageCount:()=>i(this,On)[On].getPageCount()},this.logout=()=>{i(this,En)[En].debug("logout called"),de.setInstantDeleteFlagInK()},this.clear=()=>{this.onUserLogin.clear()},this.getCleverTapID=()=>i(this,Pn)[Pn].getGuid(),this.getAccountID=()=>i(this,Tn)[Tn].id,this.getSCDomain=()=>i(this,Tn)[Tn].finalTargetDomain,this.setLibrary=(e,t)=>{ue.flutterVersion={[e]:t}},this.setSCSDKVersion=e=>{i(this,Tn)[Tn].scSDKVersion=e;const t={};t.af={scv:"sc-sdk-v"+i(this,Tn)[Tn].scSDKVersion};let n=i(this,Tn)[Tn].dataPostURL;n=We(n,"type","page"),n=We(n,"d",Ye(JSON.stringify(t),i(this,En)[En])),i(this,xn)[xn].saveAndFireRequest(n,ue.blockRequest)},Yt()&&(Kt(),Ht(i(this,En)[En])),this.getInboxMessageCount=()=>{const e=Bt();return Object.keys(e).length},this.getInboxMessageUnreadCount=()=>{if(ue.inbox)return ue.inbox.unviewedCounter;i(this,En)[En].debug("No unread messages")},this.getAllInboxMessages=()=>Bt(),this.getUnreadInboxMessages=()=>{if(ue.inbox)return ue.inbox.unviewedMessages;i(this,En)[En].debug("No unread messages")},this.getInboxMessageForId=e=>{const t=Bt();if((null!==e||""!==e)&&t.hasOwnProperty(e))return t[e];i(this,En)[En].error("No message available for message Id "+e)},this.deleteInboxMessage=e=>{const t=Bt();if(null===e&&""===e||!t.hasOwnProperty(e))i(this,En)[En].error("No message available for message Id "+e);else{const i=document.querySelector("ct-web-inbox").shadowRoot.getElementById(e);0===t[e].viewed&&(ue.inbox.unviewedCounter--,delete ue.inbox.unviewedMessages[e],document.getElementById("unviewedBadge").innerText=ue.inbox.unviewedCounter,document.getElementById("unviewedBadge").style.display=ue.inbox.unviewedCounter>0?"flex":"none"),i&&i.remove(),delete t[e],zt(t)}},this.markReadInboxMessage=e=>{const t=ue.inbox.unviewedMessages,n=Bt();if(null===e&&""===e||!t.hasOwnProperty(e))i(this,En)[En].error("No message available for message Id "+e);else{const t=document.querySelector("ct-web-inbox").shadowRoot.getElementById(e);if(null!==t&&(t.shadowRoot.getElementById("unreadMarker").style.display="none"),n[e].viewed=1,document.getElementById("unviewedBadge")){var o=parseInt(document.getElementById("unviewedBadge").innerText)-1;document.getElementById("unviewedBadge").innerText=o,document.getElementById("unviewedBadge").style.display=o>0?"flex":"none"}window.clevertap.renderNotificationViewed({msgId:n[e].wzrk_id,pivotId:n[e].pivotId}),ue.inbox.unviewedCounter--,delete ue.inbox.unviewedMessages[e],zt(n)}},this.markReadInboxMessagesForIds=e=>{if(Array.isArray(e))for(var t=0;t<e.length;t++)this.markReadInboxMessage(e[t])},this.markReadAllInboxMessage=()=>{const e=ue.inbox.unviewedMessages,t=Bt();Object.keys(e).length>0?(Object.keys(e).forEach((e=>{const i=document.querySelector("ct-web-inbox").shadowRoot.getElementById(e);null!==i&&(i.shadowRoot.getElementById("unreadMarker").style.display="none"),t[e].viewed=1,window.clevertap.renderNotificationViewed({msgId:t[e].wzrk_id,pivotId:t[e].wzrk_pivot})})),document.getElementById("unviewedBadge").innerText=0,document.getElementById("unviewedBadge").style.display="none",zt(t),ue.inbox.unviewedCounter=0,ue.inbox.unviewedMessages={}):i(this,En)[En].debug("All messages are already read")},this.toggleInbox=e=>{var t;return null===(t=ue.inbox)||void 0===t?void 0:t.toggleInbox(e)},this.renderNotificationViewed=e=>{a(U,e)},this.renderNotificationClicked=e=>{a(j,e)};const a=(e,t)=>{if(!t||!t.msgId)return;const n={type:"event"};if(n.evtName=e,n.evtData={[L]:t.msgId},t.pivotId&&(n.evtData={...n.evtData,wzrk_pivot:t.pivotId}),t.wzrk_slideNo&&(n.evtData={...n.evtData,wzrk_slideNo:t.wzrk_slideNo}),t.kv&&null!==t.kv&&void 0!==t.kv)for(const e in t.kv)e.startsWith(N)&&(n.evtData={...n.evtData,[e]:t.kv[e]});if(t.msgCTkv&&null!==t.msgCTkv&&void 0!==t.msgCTkv)for(const e in t.msgCTkv)e.startsWith(N)&&(n.evtData={...n.evtData,[e]:t.msgCTkv[e]});i(this,xn)[xn].processEvent(n)};this.setLogLevel=e=>{i(this,En)[En].logLevel=Number(e),3===e?sessionStorage.WZRK_D="":delete sessionStorage.WZRK_D},this.handleIncrementValue=(e,t)=>{this.profile._handleIncrementDecrementValue(e,t,q)},this.handleDecrementValue=(e,t)=>{this.profile._handleIncrementDecrementValue(e,t,"$decr")},this.setMultiValuesForKey=(e,t)=>{Array.isArray(t)?this.profile._handleMultiValueSet(e,t,"$set"):console.error("setMultiValuesForKey should be called with a value of type array")},this.addMultiValueForKey=(e,t)=>{"string"==typeof t||"number"==typeof t?this.profile._handleMultiValueAdd(e,t,B):console.error("addMultiValueForKey should be called with a value of type string or number.")},this.addMultiValuesForKey=(e,t)=>{Array.isArray(t)?this.profile._handleMultiValueAdd(e,t,B):console.error("addMultiValuesForKey should be called with a value of type array.")},this.removeMultiValueForKey=(e,t)=>{"string"==typeof t||"number"==typeof t?this.profile._handleMultiValueRemove(e,t,z):console.error("removeMultiValueForKey should be called with a value of type string or number.")},this.removeMultiValuesForKey=(e,t)=>{Array.isArray(t)?this.profile._handleMultiValueRemove(e,t,z):console.error("removeMultiValuesForKey should be called with a value of type array.")},this.removeValueForKey=e=>{this.profile._handleMultiValueDelete(e,H)};const l=(e,t,n)=>{((e,t,i,n,o)=>{const r=Ke(location.href),s=r.e,a=r.p,l=r.page_type;if(void 0!==s){const r={};r.id=n.id,r.unsubGroups=ue.unsubGroups,ue.updatedCategoryLong&&(r[D]=ue.updatedCategoryLong);let c=n.emailURL;i&&(c=We(c,"fetchGroups",i)),t&&(c=We(c,"encoded",t)),c=We(c,"e",s),c=We(c,"d",Ye(JSON.stringify(r),o)),a&&(c=We(c,"p",a)),"-1"!==e&&(c=We(c,"sub",e)),l&&(ue.globalUnsubscribe=l===A,c=We(c,"page_type",l)),tt.fireRequest(c)}})(e,t,n,i(this,Tn)[Tn],i(this,En)[En])};function c(e){var t=e.coords.latitude,n=e.coords.longitude;ue.location={Latitude:t,Longitude:n},i(this,zn)[zn]({Latitude:t,Longitude:n})}function u(e){switch(e.code){case e.PERMISSION_DENIED:console.log("User denied the request for Geolocation.");break;case e.POSITION_UNAVAILABLE:console.log("Location information is unavailable.");break;case e.TIMEOUT:console.log("The request to get user location timed out.");break;case e.UNKNOWN_ERROR:console.log("An unknown error occurred.")}}this.getLocation=function(e,t){if(e&&"number"!=typeof e||t&&"number"!=typeof t)console.log("Latitude and Longitude must be of number type");else if(e&&t){if(e<=-90||e>90)return void console.log("A vaid latitude must range between -90 and 90");if(t<=-180||t>180)return void console.log("A valid longitude must range between -180 and 180");ue.location={Latitude:e,Longitude:t},i(this,zn)[zn]({Latitude:e,Longitude:t})}else navigator.geolocation?navigator.geolocation.getCurrentPosition(c.bind(this),u):console.log("Geolocation is not supported by this browser.")};const h=i(this,An)[An];h.logout=this.logout,h.clear=this.clear,h.closeIframe=(e,t)=>{dt(e,0,i(this,On)[On].sessionId)},h.enableWebPush=(e,t)=>{this.notifications._enableWebPush(e,t)},h.tr=e=>{ri(e,{device:i(this,Pn)[Pn],session:i(this,On)[On],request:i(this,xn)[xn],logger:i(this,En)[En]})},h.setEnum=e=>{((e,t)=>{if($(e)||te(e))return"$E_"+e;t.error(Me)})(e,i(this,En)[En])},h.is_onloadcalled=()=>1===i(this,In)[In],h.subEmail=e=>{l("1",e)},h.getEmail=(e,t)=>{l("-1",e,t)},h.unSubEmail=e=>{l("0",e)},h.unsubEmailGroups=e=>{ue.unsubGroups=[];const t=document.getElementsByClassName("ct-unsub-group-input-item");for(let e=0;e<t.length;e++){const i=t[e];if(i.name){const e={name:i.name,isUnsubscribed:i.checked};ue.unsubGroups.push(e)}}l("2",e)},h.setSubscriptionGroups=e=>{ue.unsubGroups=e},h.getSubscriptionGroups=()=>ue.unsubGroups,h.changeSubscriptionGroups=(e,t)=>{h.setSubscriptionGroups(t),l("2",e)},h.isGlobalUnsubscribe=()=>ue.globalUnsubscribe,h.setIsGlobalUnsubscribe=e=>{ue.globalUnsubscribe=e},h.setUpdatedCategoryLong=e=>{e[D]&&(ue.updatedCategoryLong=e[D])},window.$CLTP_WR=window.$WZRK_WR=h,(null===(r=s.account)||void 0===r?void 0:r[0].id)&&this.init()}init(e,t,n,o){if(1===i(this,In)[In])return;if((e=>{const t=window.location.search,i=window.opener;if("?ctBuilder"===t)return e.debug("open in visual builder mode"),window.addEventListener("message",Qt,!1),void(i&&i.postMessage("builder","*"));"?ctBuilderPreview"===t&&(window.addEventListener("message",Qt,!1),i&&i.postMessage("preview","*"))})(i(this,En)[En]),de.removeCookie("WZRK_P",window.location.hostname),!i(this,Tn)[Tn].id){if(!e)return void i(this,En)[En].error(Ee);i(this,Tn)[Tn].id=e}i(this,On)[On].cookieName="WZRK_S_"+i(this,Tn)[Tn].id,t&&(i(this,Tn)[Tn].region=t),n&&(i(this,Tn)[Tn].targetDomain=n),o&&(i(this,Tn)[Tn].token=o);const r=location.href,s=Ke(r.toLowerCase());if(void 0!==s.e&&"0"==s.wzrk_ex)return;ue.isPrivacyArrPushed=!0,ue.privacyArray.length>0&&this.privacy.push(ue.privacyArray),i(this,Un)[Un](),this.pageChanged();const a=setInterval((()=>{i(this,Pn)[Pn].gcookie&&(clearInterval(a),i(this,xn)[xn].processBackupEvents())}),3e3);i(this,Mn)[Mn]?document.addEventListener("click",i(this,Nn)[Nn]):document.removeEventListener("click",i(this,Nn)[Nn]),i(this,In)[In]=1}pageChanged(){const e=window.location.href,t=Ke(e.toLowerCase()),n=i(this,On)[On].getSessionCookieObject();let o=void 0===n.p?0:n.p;n.p=++o,i(this,On)[On].setSessionCookieObject(n);let r={},s=(e=>{if(""===e)return"";var t=document.createElement("a");return t.href=e,t.hostname})(document.referrer);if(window.location.hostname!==s){const e=120;""!==s&&(s=s.length>e?s.substring(0,e):s,r.referrer=s);let i=t.utm_source||t.wzrk_source;void 0!==i&&(i=i.length>e?i.substring(0,e):i,r.us=i);let n=t.utm_medium||t.wzrk_medium;void 0!==n&&(n=n.length>e?n.substring(0,e):n,r.um=n);let o=t.utm_campaign||t.wzrk_campaign;if(void 0!==o&&(o=o.length>e?o.substring(0,e):o,r.uc=o),void 0!==t.wzrk_medium){const e=t.wzrk_medium;e.match(/^email$|^social$|^search$/)&&(r.wm=e)}}r=i(this,xn)[xn].addSystemDataToObject(r,void 0),r.cpg=e,r[y]=rt();let a=i(this,Tn)[Tn].dataPostURL;i(this,xn)[xn].addFlags(r),1===parseInt(r.pg)&&i(this,Bn)[Bn](r),a=We(a,"type","page"),a=We(a,"d",Ye(JSON.stringify(r),i(this,En)[En])),i(this,xn)[xn].saveAndFireRequest(a,ue.blockRequest),1===parseInt(r.pg)&&this.event.push(Y,{t:4}),i(this,Dn)[Dn]=e,setTimeout((()=>{o<=3&&i(this,Vn)[Vn](),i(this,qn)[qn]()&&setInterval((()=>{i(this,Vn)[Vn]()}),3e5)}),12e4)}_isPersonalisationActive(){return de._isLocalStorageSupported()&&this.enablePersonalization}set popupCallback(e){this.popupCallbacks[this.popupCurrentWzrkId]=e}setOffline(e){"boolean"==typeof e?(ue.offline=e,e||i(this,xn)[xn].processBackupEvents()):console.error("setOffline should be called with a value of type boolean")}getSDKVersion(){return"web-sdk-v1.8.2"}defineVariable(e,t){return un.define(e,t,i(this,Rn)[Rn])}syncVariables(e,t){if(4===i(this,En)[En].logLevel)return i(this,Rn)[Rn].syncVariables(e,t);{const e="App log level is not set to 4";return i(this,En)[En].error(e),Promise.reject(new Error(e))}}fetchVariables(e){i(this,Rn)[Rn].fetchVariables(e)}addVariablesChangedCallback(e){i(this,Rn)[Rn].addVariablesChangedCallback(e)}addOneTimeVariablesChangedCallback(e){i(this,Rn)[Rn].addOneTimeVariablesChangedCallback(e)}}(window.clevertap);return window.clevertap=window.wizrocket=Zn,Zn}()},307:(e,t,i)=>{e=i.nmd(e);var n="__lodash_hash_undefined__",o=9007199254740991,r="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Function]",u="[object Map]",h="[object Number]",p="[object Object]",g="[object Promise]",f="[object RegExp]",v="[object Set]",b="[object String]",m="[object WeakMap]",y="[object ArrayBuffer]",w="[object DataView]",S=/^\[object .+?Constructor\]$/,_=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[r]=C[s]=C[y]=C[a]=C[w]=C[l]=C[c]=C[d]=C[u]=C[h]=C[p]=C[f]=C[v]=C[b]=C[m]=!1;var k="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,E="object"==typeof self&&self&&self.Object===Object&&self,A=k||E||Function("return this")(),I=t&&!t.nodeType&&t,P=I&&e&&!e.nodeType&&e,O=P&&P.exports===I,T=O&&k.process,x=function(){try{return T&&T.binding&&T.binding("util")}catch(e){}}(),R=x&&x.isTypedArray;function M(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}function D(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i}function N(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}var L,U,j,F=Array.prototype,V=Function.prototype,q=Object.prototype,B=A["__core-js_shared__"],z=V.toString,H=q.hasOwnProperty,K=(L=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"",W=q.toString,G=RegExp("^"+z.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=O?A.Buffer:void 0,J=A.Symbol,$=A.Uint8Array,Z=q.propertyIsEnumerable,Q=F.splice,X=J?J.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=Y?Y.isBuffer:void 0,ie=(U=Object.keys,j=Object,function(e){return U(j(e))}),ne=Pe(A,"DataView"),oe=Pe(A,"Map"),re=Pe(A,"Promise"),se=Pe(A,"Set"),ae=Pe(A,"WeakMap"),le=Pe(Object,"create"),ce=Re(ne),de=Re(oe),ue=Re(re),he=Re(se),pe=Re(ae),ge=J?J.prototype:void 0,fe=ge?ge.valueOf:void 0;function ve(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function be(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function me(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function ye(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new me;++t<i;)this.add(e[t])}function we(e){var t=this.__data__=new be(e);this.size=t.size}function Se(e,t){for(var i=e.length;i--;)if(Me(e[i][0],t))return i;return-1}function _e(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":X&&X in Object(e)?function(e){var t=H.call(e,X),i=e[X];try{e[X]=void 0;var n=!0}catch(e){}var o=W.call(e);return n&&(t?e[X]=i:delete e[X]),o}(e):function(e){return W.call(e)}(e)}function Ce(e){return Ve(e)&&_e(e)==r}function ke(e,t,i,n,o){return e===t||(null==e||null==t||!Ve(e)&&!Ve(t)?e!=e&&t!=t:function(e,t,i,n,o,d){var g=Ne(e),m=Ne(t),S=g?s:Te(e),_=m?s:Te(t),C=(S=S==r?p:S)==p,k=(_=_==r?p:_)==p,E=S==_;if(E&&Le(e)){if(!Le(t))return!1;g=!0,C=!1}if(E&&!C)return d||(d=new we),g||qe(e)?Ee(e,t,i,n,o,d):function(e,t,i,n,o,r,s){switch(i){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case y:return!(e.byteLength!=t.byteLength||!r(new $(e),new $(t)));case a:case l:case h:return Me(+e,+t);case c:return e.name==t.name&&e.message==t.message;case f:case b:return e==t+"";case u:var d=D;case v:var p=1&n;if(d||(d=N),e.size!=t.size&&!p)return!1;var g=s.get(e);if(g)return g==t;n|=2,s.set(e,t);var m=Ee(d(e),d(t),n,o,r,s);return s.delete(e),m;case"[object Symbol]":if(fe)return fe.call(e)==fe.call(t)}return!1}(e,t,S,i,n,o,d);if(!(1&i)){var A=C&&H.call(e,"__wrapped__"),I=k&&H.call(t,"__wrapped__");if(A||I){var P=A?e.value():e,O=I?t.value():t;return d||(d=new we),o(P,O,i,n,d)}}return!!E&&(d||(d=new we),function(e,t,i,n,o,r){var s=1&i,a=Ae(e),l=a.length;if(l!=Ae(t).length&&!s)return!1;for(var c=l;c--;){var d=a[c];if(!(s?d in t:H.call(t,d)))return!1}var u=r.get(e);if(u&&r.get(t))return u==t;var h=!0;r.set(e,t),r.set(t,e);for(var p=s;++c<l;){var g=e[d=a[c]],f=t[d];if(n)var v=s?n(f,g,d,t,e,r):n(g,f,d,e,t,r);if(!(void 0===v?g===f||o(g,f,i,n,r):v)){h=!1;break}p||(p="constructor"==d)}if(h&&!p){var b=e.constructor,m=t.constructor;b==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m||(h=!1)}return r.delete(e),r.delete(t),h}(e,t,i,n,o,d))}(e,t,i,n,ke,o))}function Ee(e,t,i,n,o,r){var s=1&i,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=r.get(e);if(c&&r.get(t))return c==t;var d=-1,u=!0,h=2&i?new ye:void 0;for(r.set(e,t),r.set(t,e);++d<a;){var p=e[d],g=t[d];if(n)var f=s?n(g,p,d,t,e,r):n(p,g,d,e,t,r);if(void 0!==f){if(f)continue;u=!1;break}if(h){if(!M(t,(function(e,t){if(s=t,!h.has(s)&&(p===e||o(p,e,i,n,r)))return h.push(t);var s}))){u=!1;break}}else if(p!==g&&!o(p,g,i,n,r)){u=!1;break}}return r.delete(e),r.delete(t),u}function Ae(e){return function(e,t,i){var n=t(e);return Ne(e)?n:function(e,t){for(var i=-1,n=t.length,o=e.length;++i<n;)e[o+i]=t[i];return e}(n,i(e))}(e,Be,Oe)}function Ie(e,t){var i,n,o=e.__data__;return("string"==(n=typeof(i=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?o["string"==typeof t?"string":"hash"]:o.map}function Pe(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Fe(e)||function(e){return!!K&&K in e}(e))&&(Ue(e)?G:S).test(Re(e))}(i)?i:void 0}ve.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},ve.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ve.prototype.get=function(e){var t=this.__data__;if(le){var i=t[e];return i===n?void 0:i}return H.call(t,e)?t[e]:void 0},ve.prototype.has=function(e){var t=this.__data__;return le?void 0!==t[e]:H.call(t,e)},ve.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=le&&void 0===t?n:t,this},be.prototype.clear=function(){this.__data__=[],this.size=0},be.prototype.delete=function(e){var t=this.__data__,i=Se(t,e);return!(i<0||(i==t.length-1?t.pop():Q.call(t,i,1),--this.size,0))},be.prototype.get=function(e){var t=this.__data__,i=Se(t,e);return i<0?void 0:t[i][1]},be.prototype.has=function(e){return Se(this.__data__,e)>-1},be.prototype.set=function(e,t){var i=this.__data__,n=Se(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this},me.prototype.clear=function(){this.size=0,this.__data__={hash:new ve,map:new(oe||be),string:new ve}},me.prototype.delete=function(e){var t=Ie(this,e).delete(e);return this.size-=t?1:0,t},me.prototype.get=function(e){return Ie(this,e).get(e)},me.prototype.has=function(e){return Ie(this,e).has(e)},me.prototype.set=function(e,t){var i=Ie(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this},ye.prototype.add=ye.prototype.push=function(e){return this.__data__.set(e,n),this},ye.prototype.has=function(e){return this.__data__.has(e)},we.prototype.clear=function(){this.__data__=new be,this.size=0},we.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},we.prototype.get=function(e){return this.__data__.get(e)},we.prototype.has=function(e){return this.__data__.has(e)},we.prototype.set=function(e,t){var i=this.__data__;if(i instanceof be){var n=i.__data__;if(!oe||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new me(n)}return i.set(e,t),this.size=i.size,this};var Oe=ee?function(e){return null==e?[]:(e=Object(e),function(t,i){for(var n=-1,o=null==t?0:t.length,r=0,s=[];++n<o;){var a=t[n];l=a,Z.call(e,l)&&(s[r++]=a)}var l;return s}(ee(e)))}:function(){return[]},Te=_e;function xe(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||_.test(e))&&e>-1&&e%1==0&&e<t}function Re(e){if(null!=e){try{return z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Me(e,t){return e===t||e!=e&&t!=t}(ne&&Te(new ne(new ArrayBuffer(1)))!=w||oe&&Te(new oe)!=u||re&&Te(re.resolve())!=g||se&&Te(new se)!=v||ae&&Te(new ae)!=m)&&(Te=function(e){var t=_e(e),i=t==p?e.constructor:void 0,n=i?Re(i):"";if(n)switch(n){case ce:return w;case de:return u;case ue:return g;case he:return v;case pe:return m}return t});var De=Ce(function(){return arguments}())?Ce:function(e){return Ve(e)&&H.call(e,"callee")&&!Z.call(e,"callee")},Ne=Array.isArray,Le=te||function(){return!1};function Ue(e){if(!Fe(e))return!1;var t=_e(e);return t==d||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function je(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Fe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ve(e){return null!=e&&"object"==typeof e}var qe=R?function(e){return function(t){return e(t)}}(R):function(e){return Ve(e)&&je(e.length)&&!!C[_e(e)]};function Be(e){return null!=(t=e)&&je(t.length)&&!Ue(t)?function(e,t){var i=Ne(e),n=!i&&De(e),o=!i&&!n&&Le(e),r=!i&&!n&&!o&&qe(e),s=i||n||o||r,a=s?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],l=a.length;for(var c in e)!t&&!H.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||xe(c,l))||a.push(c);return a}(e):function(e){if(i=(t=e)&&t.constructor,t!==("function"==typeof i&&i.prototype||q))return ie(e);var t,i,n=[];for(var o in Object(e))H.call(e,o)&&"constructor"!=o&&n.push(o);return n}(e);var t}e.exports=function(e,t){return ke(e,t)}},600:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(749)),r=function(){function e(){this.argString="",this.argValues={}}return e.prototype.add=function(e,t){if(void 0===t)return this;this.argString&&(this.argString+="&");var i;return i=t instanceof Array?JSON.stringify(t):encodeURIComponent(t),this.argString+="".concat(e,"=").concat(i),this.argValues[e]=t,this},e.prototype.body=function(e){return e?(this._body=e,this):this._body},e.prototype.attachApiKeys=function(e,t){return this.add(o.default.PARAMS.APP_ID,e).add(o.default.PARAMS.CLIENT,o.default.CLIENT).add(o.default.PARAMS.CLIENT_KEY,t)},e.prototype.build=function(){return this.argString},e.prototype.buildDict=function(){return this.argValues},e}();t.default=r},266:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.browser=this.searchString(this.getBrowserData(e))||"Unknown Browser",this.version=this.searchVersion(e.navigator.userAgent)||this.searchVersion(e.navigator.appVersion)||"Unknown Version",this.OS=this.searchString(this.getOSData(e))||"Unknown OS"}return e.prototype.searchString=function(e){for(var t=0;t<e.length;t++){var i=e[t].string,n=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,i){if(-1!==i.indexOf(e[t].subString))return e[t].identity}else if(n)return e[t].identity}},e.prototype.searchVersion=function(e){if(e){var t=e.indexOf(this.versionSearchString);if(-1!==t)return parseFloat(e.substring(t+this.versionSearchString.length+1))}},e.prototype.getBrowserData=function(e){return[{string:e.navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:e.navigator.userAgent,subString:"OmniWeb",identity:"OmniWeb",versionSearch:"OmniWeb/"},{string:e.navigator.userAgent,subString:"CriOS",identity:"Chrome",versionSearch:"CriOS"},{string:e.navigator.userAgent,subString:"FxiOS",identity:"Firefox",versionSearch:"FxiOS"},{string:e.navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:e.opera,identity:"Opera",versionSearch:"Version"},{string:e.navigator.vendor,subString:"iCab",identity:"iCab"},{string:e.navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:e.navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:e.navigator.vendor,subString:"Camino",identity:"Camino"},{string:e.navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:e.navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:e.navigator.userAgent,subString:"Android",identity:"Android Browser",versionSearch:"Version"},{string:e.navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:e.navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}]},e.prototype.getOSData=function(e){return[{string:e.navigator.platform,subString:"Win",identity:"Windows"},{string:e.navigator.platform,subString:"Mac",identity:"Mac OS"},{string:e.navigator.platform,subString:"iPad",identity:"iOS"},{string:e.navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:e.navigator.userAgent,subString:"Android",identity:"Android"},{string:e.navigator.platform,subString:"Linux",identity:"Linux"}]},e}();t.default=i},749:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={METHODS:{START:"start",STOP:"stop",ADVANCE:"advance",TRACK:"track",PAUSE_SESSION:"pauseSession",RESUME_SESSION:"resumeSession",PAUSE_STATE:"pauseState",RESUME_STATE:"resumeState",DOWNLOAD_FILE:"downloadFile",MULTI:"multi",SET_VARS:"setVars",GET_VARS:"getVars",SET_USER_ATTRIBUTES:"setUserAttributes",SET_DEVICE_ATTRIBUTES:"setDeviceAttributes",UPLOAD_FILE:"uploadFile",REGISTER_DEVICE:"registerDevice"},SDK_VERSION:"1.12.0",CLIENT:"js",PARAMS:{ACTION:"action",APP_ID:"appId",CLIENT:"client",CLIENT_KEY:"clientKey",CT:"ct",CURRENCY_CODE:"currencyCode",DEVICE_ID:"deviceId",SDK_VERSION:"sdkVersion",USER_ID:"userId",NEW_USER_ID:"newUserId",DEV_MODE:"devMode",VERSION_NAME:"versionName",SYSTEM_NAME:"systemName",SYSTEM_VERSION:"systemVersion",BROWSER_NAME:"browserName",BROWSER_VERSION:"browserVersion",DEVICE_NAME:"deviceName",DEVICE_MODEL:"deviceModel",USER_ATTRIBUTES:"userAttributes",LOCALE:"locale",COUNTRY:"country",REGION:"region",CITY:"city",LOCATION:"location",STATE:"state",INFO:"info",EVENT:"event",VALUE:"value",FILENAME:"filename",TIME:"time",DATA:"data",VARS:"vars",FILE:"file",SIZE:"size",VARIATION:"variation",HASH:"hash",EMAIL:"email",VARIABLES:"vars",ACTION_DEFINITIONS:"actionDefinitions",PARAMS:"params",INCLUDE_DEFAULTS:"includeDefaults",INCLUDE_VARIANT_DEBUG_INFO:"includeVariantDebugInfo",NEWSFEED_MESSAGES:"newsfeedMessages",MESSAGE_ID:"messageId",WEB_PUSH_SUBSCRIPTION:"webPushSubscription"},KEYS:{IS_REGISTERED:"isRegistered",LATEST_VERSION:"latestVersion",SYNC_INBOX:"syncNewsfeed",MESSAGES:"messages",VARS:"vars",VARIANTS:"variants",VARIANT_DEBUG_INFO:"variantDebugInfo",ACTION_DEFINITIONS:"actionDefinitions",TOKEN:"token"},DEFAULT_KEYS:{COUNT:"__leanplum_unsynced",ITEM:"__leanplum_unsynced_",VARIABLES:"__leanplum_variables",VARIANTS:"__leanplum_variants",VARIANT_DEBUG_INFO:"__leanplum_variant_debug_info",ACTION_DEFINITIONS:"__leanplum_action_definitions",HOST_CONFIG:"__leanplum_hosts",INBOX_MESSAGES:"__leanplum_inbox_messages",TOKEN:"__leanplum_token",DEVICE_ID:"__leanplum_device_id",USER_ID:"__leanplum_user_id",SESSION:"__leanplum_session",MESSAGE_OCCURRENCES:"__leanplum_message_occurrences",MESSAGE_CACHE:"__leanplum_message_cache",MIGRATION_STATE:"__leanplum_migration_state",PUSH_SUBSCRIPTION:"__leanplum_push_subscription"},VALUES:{DETECT:"(detect)",DEFAULT_PUSH_ACTION:"Open action"}}},565:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.handlers=[]}return e.prototype.on=function(e,t){this.handlers.push({eventName:e,callback:t})},e.prototype.off=function(e,t){this.handlers=this.handlers.filter((function(i){return i.eventName!==e||i.callback!==t}))},e.prototype.emit=function(e,t){this.handlers.forEach((function(i){i.eventName===e&&i.callback(t)}))},e}();t.default=i},157:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.startHandlers=[],this.devMode=!1,this.hasStarted=!1,this.startSuccessful=!1,this.variantDebugInfoEnabled=!1}return e.prototype.addStartResponseHandler=function(e){this.startHandlers.push(e),this.hasStarted&&e(this.startSuccessful)},e.prototype.removeStartResponseHandler=function(e){var t=this.startHandlers.indexOf(e);t>=0&&this.startHandlers.splice(t,1)},e.prototype.triggerStartHandlers=function(){for(var e=0;e<this.startHandlers.length;e++)this.startHandlers[e](this.startSuccessful)},e}();t.default=i},876:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(749)),r=n(i(642)),s=function(){function e(){}return e.setApiPath=function(t){e._lp.setApiPath(t)},e.setEmail=function(){},e.setNetworkTimeout=function(t){e._lp.setNetworkTimeout(t)},e.setAppIdForDevelopmentMode=function(t,i){e._lp.setAppIdForDevelopmentMode(t,i)},e.setAppIdForProductionMode=function(t,i){e._lp.setAppIdForProductionMode(t,i)},e.setSocketHost=function(t){e._lp.setSocketHost(t)},e.setDeviceId=function(t){e._lp.setDeviceId(t)},e.setLocale=function(t){e._lp.setLocale(t)},e.setAppVersion=function(t){e._lp.setAppVersion(t)},e.setDeviceName=function(t){e._lp.setDeviceName(t)},e.setDeviceModel=function(t){e._lp.setDeviceModel(t)},e.setRequestBatching=function(t,i){e._lp.setRequestBatching(t,i)},e.setSystemName=function(t){e._lp.setSystemName(t)},e.setSystemVersion=function(t){e._lp.setSystemVersion(t)},e.setVariables=function(t){e._lp.setVariables(t)},e.setVariantDebugInfoEnabled=function(t){e._lp.setVariantDebugInfoEnabled(t)},e.enableRichInAppMessages=function(t){e._lp.enableRichInAppMessages(t)},e.processMessageEvent=function(t,i){e._lp.processMessageEvent(t,i)},e.getVariantDebugInfo=function(){return e._lp.getVariantDebugInfo()},e.getVariables=function(){return e._lp.getVariables()},e.getVariable=function(){for(var t,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return(t=e._lp).getVariable.apply(t,i)},e.getVariants=function(){return e._lp.getVariants()},e.inbox=function(){return e._lp.inbox()},e.addStartResponseHandler=function(t){e._lp.addStartResponseHandler(t)},e.removeStartResponseHandler=function(t){e._lp.removeStartResponseHandler(t)},e.addVariablesChangedHandler=function(t){e._lp.addVariablesChangedHandler(t)},e.removeVariablesChangedHandler=function(t){e._lp.removeVariablesChangedHandler(t)},e.forceContentUpdate=function(t){e._lp.forceContentUpdate(t)},e.useSessionLength=function(t){e._lp.useSessionLength(t)},e.start=function(t,i,n){e._lp.start(t,i,n)},e.startFromCache=function(t,i,n){e._lp.startFromCache(t,i,n)},e.stop=function(){e._lp.stop()},e.pauseSession=function(){e._lp.pauseSession()},e.resumeSession=function(){e._lp.resumeSession()},e.pauseState=function(){e._lp.pauseState()},e.resumeState=function(){e._lp.resumeState()},e.getUserId=function(){return this._lp.getUserId()},e.setUserId=function(t){e.setUserAttributes(t)},e.setUserAttributes=function(t,i){e._lp.setUserAttributes(t,i)},e.track=function(t,i,n,o){e._lp.track(t,i,n,o)},e.trackPurchase=function(t,i,n,o){void 0===o&&(o="Purchase"),e._lp.trackPurchase(t,i,n,o)},e.advanceTo=function(t,i,n){e._lp.advanceTo(t,i,n)},e.isWebPushSupported=function(){return e._lp.isWebPushSupported()},e.isWebPushSubscribed=function(){return e._lp.isWebPushSubscribed()},e.setWebPushOptions=function(t){return e._lp.setWebPushOptions(t)},e.registerForWebPush=function(t){return e._lp.registerForWebPush(t)},e.unregisterFromWebPush=function(){return e._lp.unregisterFromWebPush()},e.clearUserContent=function(){e._lp.clearUserContent()},e.defineAction=function(t){e._lp.defineAction(t)},e.applyQueue=function(t){e._lp.applyQueue(t)},e.on=function(t,i){e._lp.on(t,i)},e.off=function(t,i){e._lp.off(t,i)},e.getFileUrl=function(t){return e._lp.getFileUrl(t)},e.__destroy=function(){this._lp=new r.default(window)},e._lp=new r.default(window),e.VERSION=o.default.SDK_VERSION,e}();t.default=s},234:function(e,t,i){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LeanplumInboxMessage=void 0;var r=o(i(600)),s=o(i(749)),a=o(i(88)),l=function(e){return Object.keys(e).map((function(t){return e[t]}))},c=function(){function e(e,t){this.createRequest=e,this.onAction=t,this.messageMap={},this.changeHandlers=[],this.load()}return e.prototype.downloadMessages=function(){var e=this;this.createRequest("getNewsfeedMessages",void 0,{queued:!0,sendNow:!0,response:function(t){var i=null==t?void 0:t.response[0];i&&i.newsfeedMessages&&(e.messageMap=i.newsfeedMessages,e.triggerChangeHandlers())}})},e.prototype.markAsRead=function(e){var t=this.messageMap[e];if(t&&!t.isRead){t.isRead=!0,this.triggerChangeHandlers();var i=new r.default;i.add("newsfeedMessageId",e),this.createRequest("markNewsfeedMessageAsRead",i,{})}},e.prototype.read=function(e){this.markAsRead(e);var t=this.message(e),i=e.split("##")[0],n=(null==t?void 0:t.openAction())||null;this.onAction(i,n)},e.prototype.remove=function(e){if(this.messageMap[e]){delete this.messageMap[e],this.triggerChangeHandlers();var t=new r.default;t.add("newsfeedMessageId",e),this.createRequest("deleteNewsfeedMessage",t,{})}},e.prototype.onChanged=function(e){var t=this;return this.changeHandlers.push(e),function(){return t.changeHandlers=t.changeHandlers.filter((function(t){return t!==e}))}},e.prototype.triggerChangeHandlers=function(){this.changeHandlers.forEach((function(e){return e()})),this.save()},e.prototype.save=function(){a.default.save(s.default.DEFAULT_KEYS.INBOX_MESSAGES,JSON.stringify(this.messageMap),"session")},e.prototype.load=function(){var e=a.default.get(s.default.DEFAULT_KEYS.INBOX_MESSAGES,"session");try{this.messageMap=JSON.parse(e)||{}}catch(e){this.messageMap={}}},e.prototype.count=function(){return l(this.messageMap).length},e.prototype.unreadCount=function(){return l(this.messageMap).filter((function(e){return!e.isRead})).length},e.prototype.messages=function(e){var t=[];for(var i in this.messageMap){var n=this.messageMap[i];e(n)&&t.push(d.create(i,n))}return t},e.prototype.allMessages=function(){return this.messages((function(){return!0}))},e.prototype.unreadMessages=function(){return this.messages((function(e){return!e.isRead}))},e.prototype.messageIds=function(){return Object.keys(this.messageMap)},e.prototype.message=function(e){var t=this.messageMap[e];return t?d.create(e,t):null},e}();t.default=c;var d=function(){function e(e,t,i,n,o,r,s,a){this._id=e,this._title=t,this._subtitle=i,this._data=n,this._timestamp=o,this._isRead=r,this._imageUrl=s,this._openAction=a}return e.create=function(t,i){var o,r,a,l,c,d,u,h,p,g,f,v=null===(o=i.messageData)||void 0===o?void 0:o.parentCampaignId,b=n(n({},null===(a=null===(r=i.messageData)||void 0===r?void 0:r.vars)||void 0===a?void 0:a[s.default.VALUES.DEFAULT_PUSH_ACTION]),{parentCampaignId:v});return new e(t,null===(c=null===(l=i.messageData)||void 0===l?void 0:l.vars)||void 0===c?void 0:c.Title,null===(u=null===(d=i.messageData)||void 0===d?void 0:d.vars)||void 0===u?void 0:u.Subtitle,null===(p=null===(h=i.messageData)||void 0===h?void 0:h.vars)||void 0===p?void 0:p.Data,i.deliveryTimestamp,i.isRead,null===(f=null===(g=i.messageData)||void 0===g?void 0:g.vars)||void 0===f?void 0:f.Image,b)},e.prototype.id=function(){return this._id},e.prototype.title=function(){return this._title},e.prototype.subtitle=function(){return this._subtitle},e.prototype.data=function(){return this._data},e.prototype.timestamp=function(){return this._timestamp},e.prototype.isRead=function(){return this._isRead},e.prototype.imageUrl=function(){return this._imageUrl},e.prototype.openAction=function(){return this._openAction},e}();t.LeanplumInboxMessage=d},642:function(e,t,i){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(i(600)),s=o(i(266)),a=o(i(749)),l=o(i(157)),c=o(i(234)),d=o(i(343)),u=o(i(34)),h=o(i(88)),p=o(i(95)),g=o(i(14)),f=o(i(565)),v=o(i(316)),b=i(772),m=i(205),y=o(i(816)),w=a.default.DEFAULT_KEYS.SESSION,S=function(){function e(e){var t=this;this.wnd=e,this._migration=new v.default(this.createRequest.bind(this)),this._events=new f.default,this._internalState=new l.default,this._lpInbox=new c.default(this.createRequest.bind(this),this.onInboxAction.bind(this)),this._lpRequest=new d.default(this._events),this._varCache=new y.default(this.createRequest.bind(this)),this._lpSocket=new u.default(this._varCache,this.createRequest.bind(this),this._lpRequest.getLastResponse.bind(this._lpRequest),this._events),this._pushManager=new p.default(this.createRequest.bind(this)),this._messages=new g.default(this._events,this.createRequest.bind(this),this.getFileUrl.bind(this)),this._browserDetector=new s.default(e),this._events.on("navigationChange",(function(e){var i=!1;t._events.emit("openUrl",{preventDefault:function(){return i=!0},url:e}),i||t.wnd.location.assign(e)})),this._events.on("registerForPush",(function(){return t.registerForWebPush()})),this._events.on("updateDevServerHost",(function(e){return t.setSocketHost(e)})),this._events.on("migrateStateReceived",(function(e){return t._migration.verifyState(e)}))}return e.prototype.setApiPath=function(e){this._lpRequest.apiPath&&(this._lpRequest.apiPath=e)},e.prototype.setNetworkTimeout=function(e){this._lpRequest.setNetworkTimeout(e),this._lpSocket.setNetworkTimeout(e)},e.prototype.setAppIdForDevelopmentMode=function(e,t){this._lpRequest.appId=e,this._lpRequest.clientKey=t,this._internalState.devMode=!0},e.prototype.setAppIdForProductionMode=function(e,t){this._lpRequest.appId=e,this._lpRequest.clientKey=t,this._internalState.devMode=!1},e.prototype.setSocketHost=function(e){this._lpSocket.setSocketHost(e)},e.prototype.setDeviceId=function(e){this._lpRequest.deviceId=e},e.prototype.setLocale=function(e){this._locale=e},e.prototype.setAppVersion=function(e){this._lpRequest.versionName=e},e.prototype.setDeviceName=function(e){this._deviceName=e},e.prototype.setDeviceModel=function(e){this._deviceModel=e},e.prototype.setRequestBatching=function(e,t){this._lpRequest.batchEnabled=e,this._lpRequest.batchCooldown=t},e.prototype.setSystemName=function(e){this._systemName=e},e.prototype.setSystemVersion=function(e){this._systemVersion=e},e.prototype.setVariables=function(e){this._varCache.setVariables(e)},e.prototype.setVariantDebugInfoEnabled=function(e){this._internalState.variantDebugInfoEnabled=e},e.prototype.enableRichInAppMessages=function(e){this._messages.enableRichInAppMessages(e)},e.prototype.processMessageEvent=function(e,t){this._messages.processMessageEvent(e,t)},e.prototype.getVariantDebugInfo=function(){return this._varCache.getVariantDebugInfo()},e.prototype.getVariables=function(){return this._varCache.getVariables()},e.prototype.getVariable=function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return(e=this._varCache).getVariable.apply(e,t)},e.prototype.getVariants=function(){return this._varCache.variants||[]},e.prototype.inbox=function(){return this._lpInbox},e.prototype.on=function(e,t){this._events.on(e,t)},e.prototype.off=function(e,t){this._events.off(e,t)},e.prototype.onInboxAction=function(e,t){var i=this;this._messages.trackMessage(e,{event:"Open"},(function(){return t&&i._messages.onAction(t)}))},e.prototype.defineAction=function(e){this._varCache.registerActionDefinition(n({kind:b.MessageKind.Template},e))},e.prototype.addStartResponseHandler=function(e){this._internalState.addStartResponseHandler(e)},e.prototype.removeStartResponseHandler=function(e){this._internalState.removeStartResponseHandler(e)},e.prototype.addVariablesChangedHandler=function(e){this._varCache.addVariablesChangedHandler(e)},e.prototype.removeVariablesChangedHandler=function(e){this._varCache.removeVariablesChangedHandler(e)},e.prototype.getFileUrl=function(e){return this._lpRequest.getFileUrl(e)},e.prototype.forceContentUpdate=function(e){var t=this,i=(new r.default).add(a.default.PARAMS.INCLUDE_DEFAULTS,!1).add(a.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,this._internalState.variantDebugInfoEnabled);this.createRequest(a.default.METHODS.GET_VARS,i,{queued:!1,sendNow:!0,response:function(i){var n=t._lpRequest.getLastResponse(i),o=t._lpRequest.isResponseSuccess(n);o&&(t._varCache.applyDiffs(n[a.default.KEYS.VARS],n[a.default.KEYS.VARIANTS],n[a.default.KEYS.ACTION_DEFINITIONS]),t._varCache.setVariantDebugInfo(n[a.default.KEYS.VARIANT_DEBUG_INFO]),t._events.emit("messagesReceived",n[a.default.KEYS.MESSAGES])),e&&e(o)}})},e.prototype.useSessionLength=function(e){this._sessionLength=e},e.prototype.start=function(e,t,i){var n=this;if("function"==typeof e?(i=e,t={},e=null):"object"==typeof e&&null!=e?(i=t,t=e,e=null):"function"==typeof t&&(i=t,t={}),this.hasActiveSession()&&!this._internalState.devMode)return this.startFromCache(e,t,i);this._migration.getState((function(o){o===m.MigrationState.DUPLICATE?n._ct=n._migration.initCleverTap():o===m.MigrationState.CLEVERTAP&&(n._ct=n._migration.initCleverTap(),n.migratePushToken(),Object.values(a.default.DEFAULT_KEYS).filter((function(e){return![a.default.DEFAULT_KEYS.USER_ID,a.default.DEFAULT_KEYS.DEVICE_ID,a.default.DEFAULT_KEYS.TOKEN,a.default.DEFAULT_KEYS.MIGRATION_STATE].includes(e)})).forEach((function(e){return h.default.remove(e)})),n._messages.cleanup()),n._lpRequest.userId=e,e&&n._migration.identity.setUserId(e),i&&n.addStartResponseHandler(i),n._varCache.onUpdate=function(){n._varCache.triggerVariablesChangedHandlers()};var s=(new r.default).add(a.default.PARAMS.USER_ATTRIBUTES,JSON.stringify(t)).add(a.default.PARAMS.COUNTRY,a.default.VALUES.DETECT).add(a.default.PARAMS.REGION,a.default.VALUES.DETECT).add(a.default.PARAMS.CITY,a.default.VALUES.DETECT).add(a.default.PARAMS.LOCATION,a.default.VALUES.DETECT).add(a.default.PARAMS.SYSTEM_NAME,n._systemName||n._browserDetector.OS).add(a.default.PARAMS.SYSTEM_VERSION,(n._systemVersion||"").toString()).add(a.default.PARAMS.BROWSER_NAME,n._browserDetector.browser).add(a.default.PARAMS.BROWSER_VERSION,n._browserDetector.version.toString()).add(a.default.PARAMS.LOCALE,n._locale||a.default.VALUES.DETECT).add(a.default.PARAMS.DEVICE_NAME,n._deviceName||"".concat(n._browserDetector.browser," ").concat(n._browserDetector.version)).add(a.default.PARAMS.DEVICE_MODEL,n._deviceModel||"Web Browser").add(a.default.PARAMS.NEWSFEED_MESSAGES,n._lpInbox.messageIds()).add(a.default.PARAMS.INCLUDE_DEFAULTS,!1).add(a.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,n._internalState.variantDebugInfoEnabled);n.createRequest(a.default.METHODS.START,s,{queued:!0,sendNow:!0,response:function(e){n._internalState.hasStarted=!0;var t=n._lpRequest.getLastResponse(e),i=n._lpRequest.isResponseSuccess(t);if(n._internalState.startSuccessful=i,i){n.updateSession();var o=t[a.default.KEYS.MESSAGES];if(t.actionDefinitions&&(o.actionDefinitions=t.actionDefinitions),n._events.emit("messagesReceived",o),t[a.default.KEYS.SYNC_INBOX]&&n._lpInbox.downloadMessages(),n._internalState.devMode){var r=t[a.default.KEYS.LATEST_VERSION];r&&console.log("A newer version of the Leanplum SDK, ".concat(r,', is available.\n  Use "npm update leanplum-sdk" or go to https://docs.leanplum.com/reference#javascript-setup to download it.')),n.connectSocket()}n._varCache.applyDiffs(t[a.default.KEYS.VARS],t[a.default.KEYS.VARIANTS],t[a.default.KEYS.ACTION_DEFINITIONS]),n._varCache.setVariantDebugInfo(t[a.default.KEYS.VARIANT_DEBUG_INFO]),n._varCache.token=t[a.default.KEYS.TOKEN]}else n._varCache.loadDiffs();n._events.emit("start",{success:i}),n._internalState.triggerStartHandlers()}})}))},e.prototype.startFromCache=function(e,t,i){var n=this;"function"==typeof e?(i=e,t={},e=null):"object"==typeof e&&null!=e?(i=t,t=e,e=null):"function"==typeof t&&(i=t,t={}),this.updateSession(),this._lpRequest.userId=e,i&&this.addStartResponseHandler(i),this._internalState.hasStarted=!0,this._internalState.startSuccessful=!0,this._migration.getState((function(e){e!==m.MigrationState.DUPLICATE&&e!==m.MigrationState.CLEVERTAP||(n._ct=n._migration.initCleverTap())})),this._internalState.devMode&&this.connectSocket(),this._varCache.loadDiffs(),this._events.emit("resume"),this._internalState.triggerStartHandlers()},e.prototype.stop=function(){this.createRequest(a.default.METHODS.STOP,void 0,{sendNow:!0,queued:!0,response:function(){h.default.remove(w)}})},e.prototype.pauseSession=function(){this.createRequest(a.default.METHODS.PAUSE_SESSION,void 0,{sendNow:!0,queued:!0})},e.prototype.resumeSession=function(){this._events.emit("resume"),this.createRequest(a.default.METHODS.RESUME_SESSION,void 0,{sendNow:!0,queued:!0})},e.prototype.pauseState=function(){this.createRequest(a.default.METHODS.PAUSE_STATE,void 0,{queued:!0})},e.prototype.resumeState=function(){this.createRequest(a.default.METHODS.RESUME_STATE,void 0,{queued:!0})},e.prototype.getUserId=function(){return this._lpRequest.userId},e.prototype.setUserId=function(e){this.setUserAttributes(e)},e.prototype.setUserAttributes=function(e,t){if(void 0===t)if("object"==typeof e)t=e,e=void 0;else if("string"!=typeof e)return void console.log("Leanplum: setUserAttributes expects a string or an object");var i=(new r.default).add(a.default.PARAMS.USER_ATTRIBUTES,t?JSON.stringify(t):void 0).add(a.default.PARAMS.NEW_USER_ID,e);this._events.emit("setUserAttribute",t),this.createRequest(a.default.METHODS.SET_USER_ATTRIBUTES,i,{queued:!0}),e&&(this._lpRequest.userId=e,h.default.save(a.default.DEFAULT_KEYS.USER_ID,this._lpRequest.userId))},e.prototype.track=function(e,t,i,n){var o=this;"object"==typeof t&&null!=t?(n=t,i=void 0,t=void 0):"string"==typeof t?(n=i,i=t,t=void 0):"object"==typeof i&&null!=i&&(n=i,i=void 0);var s=(new r.default).add(a.default.PARAMS.EVENT,e).add(a.default.PARAMS.VALUE,t||0).add(a.default.PARAMS.INFO,i).add(a.default.PARAMS.PARAMS,JSON.stringify(n));this._events.emit("track",{eventName:e,params:n}),this.createRequest(a.default.METHODS.TRACK,s,{queued:!0,response:function(){return o.updateSession()}})},e.prototype.trackPurchase=function(e,t,i,n){void 0===n&&(n="Purchase");var o=(new r.default).add(a.default.PARAMS.EVENT,n).add(a.default.PARAMS.VALUE,e||0).add(a.default.PARAMS.PARAMS,JSON.stringify(i));t&&o.add(a.default.PARAMS.CURRENCY_CODE,t),this._events.emit("track",{eventName:n}),this.createRequest(a.default.METHODS.TRACK,o,{queued:!0,isPurchase:!0})},e.prototype.advanceTo=function(e,t,i){"object"==typeof t&&null!=t&&(i=t,t=void 0);var n=(new r.default).add(a.default.PARAMS.STATE,e).add(a.default.PARAMS.INFO,t).add(a.default.PARAMS.PARAMS,JSON.stringify(i));this._events.emit("advanceState",{state:e,params:i}),this.createRequest(a.default.METHODS.ADVANCE,n,{queued:!0})},e.prototype.isWebPushSupported=function(){return this._pushManager.isWebPushSupported()},e.prototype.isWebPushSubscribed=function(){var e,t=(null===(e=this._webPushOptions)||void 0===e?void 0:e.clientUrl)||"";return this._pushManager.isWebPushSubscribed(t)},e.prototype.setWebPushOptions=function(e){this._webPushOptions=n({},e)},e.prototype.registerForWebPush=function(e){var t=this;if(this._pushManager.isWebPushSupported()){var i=this._webPushOptions||{},n=e||i.serviceWorkerUrl,o=i&&i.scope?{scope:i.scope}:null;return this._pushManager.register(n,o,(function(e){return e?Promise.resolve(!0):t._pushManager.subscribeUser()}))}return Promise.reject("Leanplum: WebPush is not supported.")},e.prototype.unregisterFromWebPush=function(){var e,t=(null===(e=this._webPushOptions)||void 0===e?void 0:e.clientUrl)||"";return this._pushManager.unsubscribeUser(t)},e.prototype.clearUserContent=function(){this._varCache.clearUserContent()},e.prototype.applyQueue=function(e){var t=this;e.forEach((function(e){return t[e.name].apply(t,e.args)}))},e.prototype.createRequest=function(e,t,i){void 0===i&&(i={}),this._migration.duplicateRequest(e,t,i)||this._lpRequest.request(e,t,n({devMode:this._internalState.devMode},i))},e.prototype.connectSocket=function(){this._lpSocket.connect({appId:this._lpRequest.appId,deviceId:this._lpRequest.deviceId})},e.prototype.hasActiveSession=function(){if(!this._sessionLength)return!1;var e=Date.now(),t=parseInt(h.default.get(w));return!isNaN(t)&&e-t<1e3*this._sessionLength},e.prototype.updateSession=function(){h.default.save(w,String(Date.now()))},e.prototype.migratePushToken=function(){var e=this;h.default.get(a.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION)&&this.isWebPushSubscribed().then((function(t){var i;if(t){e._pushManager.unsubscribeUser();var o=null===(i=e._webPushOptions)||void 0===i?void 0:i.serviceWorkerUrl,r=o?{serviceWorkerPath:o}:{};e._ct&&e._ct.notifications.push(n({titleText:"",bodyText:"",okButtonText:"",rejectButtonText:""},r))}}))},e}();t.default=S},343:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(600)),r=n(i(749)),s=n(i(88)),a=n(i(967)),l=function(){function e(e,t){void 0===t&&(t=new a.default),this.events=e,this.network=t,this.cooldownTimeout=null,this.lastRequestTime=void 0,this.userIdValue=void 0,this.apiPath="https://api.leanplum.com/api",this.batchCooldown=5,this.batchEnabled=!0,this.loadHostConfig()}return Object.defineProperty(e.prototype,"userId",{get:function(){var e,t;return null!==(t=null!==(e=this.userIdValue)&&void 0!==e?e:this.loadLocal(r.default.DEFAULT_KEYS.USER_ID))&&void 0!==t?t:this.deviceId},set:function(e){this.userIdValue=e},enumerable:!1,configurable:!0}),e.prototype.request=function(e,t,i){var n=this;if(void 0===i&&(i={}),i=i||{},t=t||new o.default,this.deviceId||(this.deviceId=this.loadLocal(r.default.DEFAULT_KEYS.DEVICE_ID)),!this.deviceId){for(var s="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=0;l<16;l++)s+=a.charAt(Math.floor(Math.random()*a.length));this.deviceId=s,this.saveLocal(r.default.DEFAULT_KEYS.DEVICE_ID,s)}this.saveLocal(r.default.DEFAULT_KEYS.USER_ID,this.userId);var c=t.attachApiKeys(this.appId,this.clientKey).add(r.default.PARAMS.SDK_VERSION,r.default.SDK_VERSION).add(r.default.PARAMS.DEVICE_ID,this.deviceId).add(r.default.PARAMS.USER_ID,this.userId).add(r.default.PARAMS.ACTION,e).add(r.default.PARAMS.VERSION_NAME,this.versionName).add(r.default.PARAMS.DEV_MODE,i.devMode).add(r.default.PARAMS.TIME,((new Date).getTime()/1e3).toString()),d=i.success||i.response,u=i.error||i.response;if(!this.appId||!this.clientKey){var h="Leanplum App ID and client key are not set. Make sure you are calling setAppIdForDevelopmentMode or setAppIdForProductionMode before issuing API calls.";return console.error(h),void(u&&u(h))}if(t.body())this.sendRequest("?".concat(c.build()),t.body(),d,u,i.queued);else{var p=i.devMode||i.sendNow||!this.batchEnabled,g=function(){var e=n.popUnsentRequests();if(e.length>0){var t=JSON.stringify({data:e}),s=(new o.default).attachApiKeys(n.appId,n.clientKey).add(r.default.PARAMS.SDK_VERSION,r.default.SDK_VERSION).add(r.default.PARAMS.ACTION,r.default.METHODS.MULTI).add(r.default.PARAMS.TIME,((new Date).getTime()/1e3).toString().toString()).build();n.sendRequest("?".concat(s),t,d,u,i.queued)}};if(!p&&this.batchCooldown){var f=(new Date).getTime()/1e3;!this.lastRequestTime||f-this.lastRequestTime>=this.batchCooldown?(p=!0,this.lastRequestTime=f):this.cooldownTimeout||(this.cooldownTimeout=setTimeout((function(){n.cooldownTimeout=null,n.lastRequestTime=(new Date).getTime()/1e3,g()}),1e3*(this.batchCooldown-(f-this.lastRequestTime))))}this.saveRequestForLater(c.buildDict()),p&&g()}},e.prototype.getFileUrl=function(e){if(!e)return"";if(/^https?:/.test(e))return e;var t=(new o.default).attachApiKeys(this.appId,this.clientKey).add(r.default.PARAMS.SDK_VERSION,r.default.SDK_VERSION).add(r.default.PARAMS.ACTION,"downloadFile").add("filename",e);return"".concat(this.apiPath,"?").concat(t.build())},e.prototype.setNetworkTimeout=function(e){this.network.setNetworkTimeout(e)},e.prototype.getLastResponse=function(e){var t,i,n,o=null!==(i=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.length)&&void 0!==i?i:0;return o>0?null===(n=null==e?void 0:e.response)||void 0===n?void 0:n[o-1]:null},e.prototype.getFirstResponse=function(e){var t,i,n;return(null!==(i=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.length)&&void 0!==i?i:0)>0?null===(n=null==e?void 0:e.response)||void 0===n?void 0:n[0]:null},e.prototype.isResponseSuccess=function(e){return Boolean(null==e?void 0:e.success)},e.prototype.saveRequestForLater=function(e){var t=this.loadLocal(r.default.DEFAULT_KEYS.COUNT)||0,i=r.default.DEFAULT_KEYS.ITEM+t;this.saveLocal(i,JSON.stringify(e)),t++,this.saveLocal(r.default.DEFAULT_KEYS.COUNT,t)},e.prototype.sendRequest=function(e,t,i,n,o){var s=this;this.network.ajax("POST","".concat(this.apiPath).concat(e),t,(function(a){var l,c=s.getFirstResponse(a),d=(null===(l=a.migrateState)||void 0===l?void 0:l.sha256)||c.sha256;if(/\bgetMigrateState\b/.test(t)||s.events.emit("migrateStateReceived",d),!c.success&&c.apiHost){var u=c.apiHost,h=c.apiPath,p=c.devServerHost;s.saveLocal(r.default.DEFAULT_KEYS.HOST_CONFIG,JSON.stringify({apiHost:u,apiPath:h,devServerHost:p})),s.apiPath="https://".concat(u,"/").concat(h),s.sendRequest(e,t,i,n,o),s.events.emit("updateDevServerHost",p)}else i&&i(a)}),n,o)},e.prototype.popUnsentRequests=function(){var e=[],t=this.loadLocal(r.default.DEFAULT_KEYS.COUNT)||0;this.removeLocal(r.default.DEFAULT_KEYS.COUNT);for(var i=0;i<t;i++){var n=r.default.DEFAULT_KEYS.ITEM+i;try{e.push(JSON.parse(this.loadLocal(n)))}catch(e){}this.removeLocal(n)}return e},e.prototype.loadHostConfig=function(){var e=JSON.parse(this.loadLocal(r.default.DEFAULT_KEYS.HOST_CONFIG)||"null");if(e){var t=e.apiHost,i=e.apiPath,n=e.devServerHost;this.apiPath="https://".concat(t,"/").concat(i),this.events.emit("updateDevServerHost",n)}},e.prototype.loadLocal=function(e){return s.default.get(e)},e.prototype.saveLocal=function(e,t){s.default.save(e,t)},e.prototype.removeLocal=function(e){s.default.remove(e)},e}();t.default=l},34:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(307)),r=n(i(600)),s=n(i(749)),a=n(i(897)),l=function(){function e(e,t,i,n){this.cache=e,this.createRequest=t,this.getLastResponse=i,this.events=n,this.networkTimeoutSeconds=10,this.socketClient=null,this.socketHost="dev.leanplum.com",this.auth=null}return e.prototype.connect=function(e){var t=this;if(WebSocket){this.auth=e;var i=!1;this.socketClient=new a.default,this.socketClient.setNetworkTimeout(this.networkTimeoutSeconds),this.socketClient.onopen=function(){var n;i||(console.log("Leanplum: Connected to development server."),t.socketClient.send("auth",((n={})[s.default.PARAMS.APP_ID]=e.appId,n[s.default.PARAMS.DEVICE_ID]=e.deviceId,n)),i=!0)},this.socketClient.onerror=function(e){console.log("Leanplum: Socket error",e)},this.socketClient.onmessage=this.onMessageReceived.bind(this),this.socketClient.onclose=function(){console.log("Leanplum: Disconnected from development server."),i=!1},this.socketClient.connect(this.socketHost),setInterval((function(){t.socketClient.connected||t.socketClient.connecting||t.socketClient.connect(t.socketHost)}),5e3)}else console.log("Your browser doesn't support WebSockets.")},e.prototype.setSocketHost=function(e){this.socketHost=e,this.socketClient.connected&&(this.socketClient.disconnect(),this.connect(this.auth))},e.prototype.setNetworkTimeout=function(e){var t;this.networkTimeoutSeconds=e,null===(t=this.socketClient)||void 0===t||t.setNetworkTimeout(e)},e.prototype.onMessageReceived=function(e,t){var i=this;if("updateVars"===e){var n=(new r.default).add(s.default.PARAMS.INCLUDE_DEFAULTS,!1);this.createRequest(s.default.METHODS.GET_VARS,n,{queued:!1,sendNow:!0,response:function(e){var t=i.getLastResponse(e),n=t[s.default.KEYS.VARS],r=t[s.default.KEYS.VARIANTS],a=t[s.default.KEYS.ACTION_DEFINITIONS];(0,o.default)(n,i.cache.diffs)||i.cache.applyDiffs(n,r,a)}})}else if("getVariables"===e)this.cache.sendVariables(),this.socketClient.send("getContentResponse",{updated:!0});else if("getActions"===e){var a=this.cache.sendActions();this.socketClient.send("getContentResponse",{updated:a})}else if("registerDevice"===e){var l=t[0];alert("Your device has been registered to ".concat(l.email,"."))}else"trigger"===e&&(l=t[0],this.events.emit("previewRequest",l))},e}();t.default=l},14:function(e,t,i){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(i(749)),s=o(i(600)),a=o(i(967)),l=o(i(307)),c=o(i(88)),d=o(i(375)),u=function(){function e(){this.session={},this.triggers={},this.occurrences={}}return e.prototype.recordOccurrence=function(e){var t=(this.session[e]||0)+1;this.session[e]=t;var i=this.occurrences[e]||[];i.push(Date.now()),this.occurrences[e]=i,this.save()},e.prototype.recordTriggerOccurrence=function(e){var t=this.triggers[e]||[];return t.push(Date.now()),this.triggers[e]=t,this.save(),t.length},e.prototype.getSessionOccurranceCount=function(e){return this.session[e]||0},e.prototype.getOccurrences=function(e){return this.occurrences[e]||[]},e.prototype.clearSession=function(){this.session={}},e.prototype.load=function(){var e=c.default.get(r.default.DEFAULT_KEYS.MESSAGE_OCCURRENCES);if(e){var t=h(e);t&&(this.session=t.session,this.triggers=t.triggers,this.occurrences=t.occurrences)}},e.prototype.save=function(){var e=r.default.DEFAULT_KEYS.MESSAGE_OCCURRENCES;c.default.save(e,JSON.stringify({session:this.session,triggers:this.triggers,occurrences:this.occurrences}))},e}(),h=function(e){try{return JSON.parse(e)}catch(e){return}},p=function(){function e(e,t,i){var n=this;this.events=e,this.createRequest=t,this.getFileUrl=i,this._messageCache={},this.occurrenceTracker=new u,this._showRichIAM=!1,e.on("previewRequest",this.onMessagePreview.bind(this)),e.on("messagesReceived",this.onMessagesReceived.bind(this)),e.on("start",(function(){n.occurrenceTracker.load(),n.occurrenceTracker.clearSession(),n.onTrigger({trigger:"start"})})),e.on("resume",(function(){var e=r.default.DEFAULT_KEYS.MESSAGE_CACHE,t=h(c.default.get(e));n._messageCache=t||n._messageCache,n.occurrenceTracker.load(),n.onTrigger({trigger:"resume"})})),e.on("track",(function(e){n.onTrigger({trigger:"event",eventName:e.eventName,params:e.params||{}})})),e.on("advanceState",(function(e){return n.onTrigger({trigger:"state",state:e.state,params:e.params||{}})})),e.on("setUserAttribute",(function(e){return n.onTrigger({trigger:"userAttribute",attributes:e})}))}return e.prototype.cleanup=function(){c.default.remove(r.default.DEFAULT_KEYS.MESSAGE_CACHE),this._messageCache={},this.onTrigger=function(){}},e.prototype.enableRichInAppMessages=function(e){this._showRichIAM=e},e.prototype.onTrigger=function(e){var t=this,i=this.getMessages();Object.keys(i).filter((function(n){return t.shouldShowMessage(n,i[n],e)})).slice(0,1).forEach((function(e){return t.showMessage(e,i[e])}))},e.prototype.onMessagePreview=function(e){var t=e.action,i={track:function(t){var i=t?"event '".concat(t,"'"):"impression";console.log("Tracking ".concat(i," for ").concat(e.messageId))},runActionNamed:function(e){return console.log("Running untracked action '".concat(e,"'"))},runTrackedActionNamed:function(e){return console.log("Running tracked action '".concat(e,"'"))}};this.handleMessage({isPreview:!0,message:this.addDefaults(n({messageId:e.messageId},t)),context:i})},e.prototype.onMessagesReceived=function(e){var t=e||{};this._messageCache=t,c.default.save(r.default.DEFAULT_KEYS.MESSAGE_CACHE,JSON.stringify(t))},e.prototype.shouldShowMessage=function(e,t,i){var n=Date.now(),o=this.matchesTrigger(t.whenTriggers,i),r=this.matchesTrigger(t.unlessTriggers,i);if(!o||r)return!1;var s=this.occurrenceTracker.recordTriggerOccurrence(e);return!!this.matchesLimits(e,t.whenLimits,s)&&!(t.startTime&&t.endTime&&(n<t.startTime||t.endTime<n))},e.prototype.showMessage=function(e,t){var i=this,o=this.addDefaults(n({},t.vars)),r={track:function(t,n,o,r){i.occurrenceTracker.recordOccurrence(e),i.trackMessage(e,{event:t,value:n,info:o,params:r})},runActionNamed:function(t){return i.onAction(o[t],e)},runTrackedActionNamed:function(t){var n=t.replace(/ action$/,"");i.trackMessage(e,{event:n},(function(){return i.onAction(o[t],e)}))}};this.handleMessage({context:r,message:n({messageId:e},o)})},e.prototype.processMessageEvent=function(e,t){var i=document.getElementById("lp-message-".concat(e));if(i){var n=t.replace(/^http:\/\/leanplum\//,"").split("?"),o=n[0],r=n[1],s=(void 0===r?"":r).split("&").reduce((function(e,t){var i=t.split("="),n=i[0],o=i[1];return e[n]=decodeURIComponent(o),e}),{}),a=i.metadata,l=a.message,c=a.context;switch(o){case"loadFinished":if(i.style.visibility="visible",i.style.left="0",l["HTML Height"]>0){var d=l["HTML Width"];i.style.height="".concat(l["HTML Height"],"px"),i.style.width=d,i.style.left="calc((100% - ".concat(d,") / 2)");var u=l["HTML Align"].toLowerCase(),p="top"===u?"bottom":"top";i.style[u]="0",i.style[p]=""}else i.style.top="0";i.contentWindow.focus(),c.track();break;case"track":c.track(s.event,parseFloat(s.value),s.info,h(s.parameters));break;case"runAction":case"runTrackedAction":c["".concat(o,"Named")](s.action);case"close":i.metadata=null,i.parentNode.removeChild(i)}}else console.log("message closed, skipping event processing")},e.prototype.handleMessage=function(e){var t=this;if(this._showRichIAM&&"HTML"===e.message.__name__){this.resolveFiles(e.message);var i=e.message.Template||"";(new a.default).ajax("get",i.replace("-10.html","-11.html"),"",(function(i){return t.renderRichInAppMessage(i,e)}),(function(){}),!1,!0)}else this.events.emit("showMessage",this.resolveFields(e))},e.prototype.renderRichInAppMessage=function(e,t){var i=t.message.messageId,n=JSON.stringify(t.message),o=document.createElement("iframe");o.setAttribute("id","lp-message-".concat(i)),o.setAttribute("title","Popup"),o.setAttribute("aria-modal","true"),o.style.cssText=["border-width: 0","position: fixed","top: -100%","left: -100%","width: 100%","height: 100%","visibility: hidden","z-index: 100000"].join(";"),document.body.insertBefore(o,document.body.firstChild),o.metadata=t,o.contentWindow.messageId=i;var r=e.replace("##Vars##",n).replace("<body>","<body><script>window.messageId='".concat(i,"'<\/script>"));if("srcdoc"in o)o.srcdoc=r;else{var s=o.contentWindow.document;s.open(),s.write(r),s.close()}},e.prototype.trackMessage=function(e,t,i){void 0===t&&(t={event:null}),void 0===i&&(i=function(){});var n=(new s.default).add(r.default.PARAMS.MESSAGE_ID,e),o=function(e){return void 0!==e};t.event&&n.add(r.default.PARAMS.EVENT,t.event),o(t.value)&&n.add(r.default.PARAMS.VALUE,t.value||0),o(t.info)&&n.add(r.default.PARAMS.INFO,t.info),o(t.params)&&n.add(r.default.PARAMS.PARAMS,JSON.stringify(t.params)),this.createRequest(r.default.METHODS.TRACK,n,{queued:!0,sendNow:!0,response:i})},e.prototype.onAction=function(e,t){var i=this;if(void 0===t&&(t=""),e){var n=this._messageCache;if("Chain to Existing Message"!==e.__name__){var o=function(){var n=e.__name__;"Open URL"===e.__name__?i.events.emit("navigationChange",e.URL):"Register For Push"===e.__name__?i.events.emit("registerForPush"):n&&i.showMessage(t,{messageId:t,action:n,vars:e})},r=this.messageIdFromAction(e);r?this.trackMessage(r,{event:null},o):o()}else{var s=e["Chained message"],a=n[s];"Open URL"===a.action?this.trackMessage(s,{event:"View"},(function(){return i.onAction(a.vars,s)})):"Register For Push"===a.action?this.events.emit("registerForPush"):this.showMessage(s,a)}}},e.prototype.getMessages=function(){return this._messageCache||{}},e.prototype.addDefaults=function(e){var t=this,i=(this.getMessages().actionDefinitions||{})[e.__name__],o=null==i?void 0:i.kinds;if(!i)return e;var r=function(e,i,n){void 0===n&&(n="");for(var s=0,a=Object.keys(i);s<a.length;s++){var l=a[s],c=i[l];"object"==typeof c?e[l]=r(e[l]||{},c,"".concat(n).concat(l,".")):void 0===e[l]&&(e[l]=c),"FILE"===o["".concat(n).concat(l)]&&(e[l]=t.getFileUrl(e[l]))}return e};return r(n({},e),i.values)},e.prototype.resolveFiles=function(e){var t=/^__file__/;for(var i in e)t.test(i)?e[i.replace(t,"")]=this.getFileUrl(e[i]):"object"==typeof e[i]&&(e[i]=this.resolveFiles(e[i]));return e},e.prototype.resolveFields=function(e){var t=/\bcolor/i,i=/^__file__/;for(var n in e)i.test(n)?e[n.replace(i,"")+" URL"]=this.getFileUrl(e[n]):t.test(n)?e[n]=d.default.decodeColor(e[n]):"object"==typeof e[n]&&(e[n]=this.resolveFields(e[n]));return e},e.prototype.messageIdFromAction=function(e){var t=this._messageCache,i=n({},e);delete i.parentCampaignId;for(var o=0,r=Object.keys(t);o<r.length;o++){var s=r[o],a=t[s];if(a.parentCampaignId===e.parentCampaignId&&(0,l.default)(a.vars,i))return s}},e.prototype.matchesTrigger=function(e,t){if(!e)return!1;var i=function(e,t){return void 0===t&&(t=""),0===e.toString().localeCompare(t.toString(),void 0,{sensitivity:"accent"})},n=function(e,t,n){var o=e===n.noun;if("triggers"===n.verb)return o;if("triggersWithParameter"===n.verb){var r=n.objects,s=r[0],a=r[1],l=s in t&&i(a,t[s]);return o&&l}};return e.children.some((function(e){var o=e.subject;switch(t.trigger){case"start":return"start"===o||"resume"===o;case"resume":return"resume"===o;case"event":return"event"===o&&n(t.eventName,t.params,e);case"userAttribute":if("userAttribute"!==o)return!1;var r=e.noun in t.attributes;if("changes"===e.verb)return r;if("changesTo"===e.verb){if(!r)return!1;var s=t.attributes[e.noun];return e.objects.some((function(e){return null===e&&null===s||e&&s&&i(e,s)}))}break;case"state":return"state"===o&&n(t.state,t.params,e)}return!1}))},e.prototype.matchesLimits=function(e,t,i){var n=this;return!t||t.children.every((function(t){var o=t.subject,r=t.verb,s=parseInt(t.noun.toString());if("times"===o){if("limitSession"===r)return n.occurrenceTracker.getSessionOccurranceCount(e)+1===s;if("limitUser"===r)return(a=n.occurrenceTracker.getOccurrences(e).length)+1<=s;var a,l=parseInt(t.objects[0].toString())||1,c=function(e){switch(e){case"limitSecond":return 1e3;case"limitMinute":return 6e4;case"limitHour":return 36e5;case"limitDay":return 864e5}}(r)*l,d=(a=n.occurrenceTracker.getOccurrences(e)).length;return d<s||a.slice(d-s,d)[0]<Date.now()-c}return"onNthOccurrence"===o?i===s:"everyNthOccurrence"===o&&i%s==0}))},e}();t.default=p},316:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IdentityManager=t.IdentityState=void 0;var o,r=n(i(739)),s=i(205),a=n(i(88)),l=n(i(749)),c=n(i(600)),d=function(){},u=function(e){switch(null==e?void 0:e.sdk){case"lp":return s.MigrationState.LEANPLUM;case"lp+ct":return s.MigrationState.DUPLICATE;case"ct":return s.MigrationState.CLEVERTAP;default:return s.MigrationState.UNKNOWN}},h=function(){function e(e){var t;this.createRequest=e,this.response=null,this._fetching=null;var i=a.default.get(l.default.DEFAULT_KEYS.MIGRATION_STATE),n=a.default.get(l.default.DEFAULT_KEYS.DEVICE_ID),o=null!==(t=a.default.get(l.default.DEFAULT_KEYS.USER_ID))&&void 0!==t?t:n;this.identity=new p(o,n),i&&(this.response=JSON.parse(i))}return e.prototype.getState=function(e){void 0===e&&(e=d);var t=this.response,i=u(this.response);t&&i!==s.MigrationState.UNKNOWN?e(i):this.getMigrationState(e)},e.prototype.verifyState=function(e){var t,i=this;e&&(null===(t=this.response)||void 0===t?void 0:t.sha256)!==e&&this.getMigrationState((function(e){e!==s.MigrationState.DUPLICATE&&e!==s.MigrationState.CLEVERTAP||(i.initCleverTap(),i.identity.isAnonymous||r.default.onUserLogin.push({Site:i.identity.profile}))}))},e.prototype.initCleverTap=function(){var e,t=null===(e=this.response)||void 0===e?void 0:e.ct;if(t)return r.default.init(t.accountId,t.regionCode),r.default},e.prototype.duplicateRequest=function(e,t,i){var n=u(this.response);if(n===s.MigrationState.LEANPLUM)return!1;t||(t=new c.default),n===s.MigrationState.DUPLICATE&&t.add(l.default.PARAMS.CT,!0);var o=(null==t?void 0:t.buildDict())||{},a=o[l.default.PARAMS.USER_ID];switch(a&&this.identity.setUserId(a),e){case l.default.METHODS.START:this.identity.isAnonymous||r.default.onUserLogin.push({Site:this.identity.profile});break;case l.default.METHODS.TRACK:this.eventPush(o,i);break;case l.default.METHODS.ADVANCE:o.event="state_".concat(o.state),this.eventPush(o,i);break;case l.default.METHODS.SET_USER_ATTRIBUTES:this.profilePush(o)}return n===s.MigrationState.CLEVERTAP},e.prototype.profilePush=function(e){var t=e[l.default.PARAMS.NEW_USER_ID],i=this.mapAttributes(this.convertArrays(JSON.parse(e.userAttributes||"{}")));t?(this.identity.setUserId(t),Object.assign(i,this.identity.profile),r.default.onUserLogin.push({Site:i})):r.default.profile.push({Site:i})},e.prototype.eventPush=function(e,t){var i=e[l.default.PARAMS.MESSAGE_ID],n=t.isPurchase?"Charged":e.event;if(n&&!i){var o={};if(e.params){var s=this.convertArrays(JSON.parse(e.params));Object.assign(o,s)}e.value&&Object.assign(o,{value:e.value}),e.info&&Object.assign(o,{info:e.info}),t.isPurchase&&e.currencyCode&&Object.assign(o,{currencyCode:e.currencyCode}),r.default.event.push(n,o)}},e.prototype.convertArrays=function(e){return Object.keys(e).reduce((function(t,i){if(Array.isArray(e[i])){var n=e[i];t[i]="[".concat(n.join(","),"]")}else t[i]=e[i];return t}),{})},e.prototype.mapAttributes=function(e){var t,i,n=null===(i=null===(t=this.response)||void 0===t?void 0:t.ct)||void 0===i?void 0:i.attributeMappings;return n?Object.keys(e).reduce((function(t,i){return n[i]?t[n[i]]=e[i]:t[i]=e[i],t}),{}):e},e.prototype.getMigrationState=function(e){var t=this;null===this._fetching&&(this._fetching=new Promise((function(e){return t.createRequest("getMigrateState",new c.default,{sendNow:!0,response:function(i){var n,o=null===(n=null==i?void 0:i.response)||void 0===n?void 0:n[0],r=u(o);r&&r!==s.MigrationState.UNKNOWN&&(a.default.save(l.default.DEFAULT_KEYS.MIGRATION_STATE,JSON.stringify(o)),t.response=o),e(r)}})}))),this._fetching.then(e).then((function(){return t._fetching=null}))},e}();t.default=h,function(e){e.ANONYMOUS="anonymous",e.IDENTIFIED="identified"}(o=t.IdentityState||(t.IdentityState={}));var p=function(){function e(e,t){this.userId=e,this.deviceId=t,this.state=o.ANONYMOUS,this.identify()}return e.prototype.setUserId=function(e){this.state===o.ANONYMOUS&&(this.state=o.IDENTIFIED),this.userId=e},e.prototype.identify=function(){this.isAnonymous?this.state=o.ANONYMOUS:this.identifyNonAnonymous()},e.prototype.identifyNonAnonymous=function(){this.state=o.IDENTIFIED},Object.defineProperty(e.prototype,"profile",{get:function(){return{Identity:this.userId}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAnonymous",{get:function(){return this.userId===this.deviceId},enumerable:!1,configurable:!0}),e}();t.IdentityManager=p},967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.networkTimeoutSeconds=10,this.requestQueue=[],this.runningRequest=!1}return e.prototype.setNetworkTimeout=function(e){this.networkTimeoutSeconds=e},e.prototype.ajax=function(e,t,i,n,o,r,s){var a=this;if(r){if(this.runningRequest)return this.enqueueRequest(arguments);this.runningRequest=!0}if("undefined"!=typeof XDomainRequest)return"http:"===location.protocol&&0===t.indexOf("https:")&&(t="http:".concat(t.substring(6))),this.ajaxIE8(e,t,i,n,o,r,s);var l=!1,c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState){if(l)return;var e;l=!0;var t=!1;if(s)e=c.responseText;else try{e=JSON.parse(c.responseText)}catch(e){setTimeout((function(){o&&o(null,c)}),0),t=!0}t||(c.status>=200&&c.status<300?setTimeout((function(){n&&n(e,c)}),0):setTimeout((function(){o&&o(e,c)}),0)),r&&(a.runningRequest=!1,a.dequeueRequest())}};var d=!1;c.onerror=c.ontimeout=function(){0===c.status&&(d=!0,a.requestQueue.splice(0,a.requestQueue.length))},d||(c.open(e,t,!0),c.setRequestHeader("Content-Type","text/plain"),c.send(i),setTimeout((function(){l||c.abort()}),1e3*this.networkTimeoutSeconds))},e.prototype.ajaxIE8=function(e,t,i,n,o,r,s){var a=this,l=new XDomainRequest;l.onload=function(){var e,t=!1;if(s)e=l.responseText;else try{e=JSON.parse(l.responseText)}catch(e){setTimeout((function(){o&&o(null,l)}),0),t=!0}t||setTimeout((function(){n&&n(e,l)}),0),r&&(a.runningRequest=!1,a.dequeueRequest())},l.onerror=l.ontimeout=function(){setTimeout((function(){o&&o(null,l)}),0),r&&(a.runningRequest=!1,a.dequeueRequest())},l.onprogress=function(){},l.open(e,t),l.timeout=1e3*this.networkTimeoutSeconds,l.send(i)},e.prototype.enqueueRequest=function(e){this.requestQueue.push(e)},e.prototype.dequeueRequest=function(){var e=this.requestQueue.shift();e&&this.ajax.apply(this,e)},e}();t.default=i},95:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(l){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(i(600)),a=r(i(749)),l=r(i(88)),c=function(){function e(e){this.createRequest=e,this.serviceWorkerRegistration=null}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return window.navigator.serviceWorker},enumerable:!1,configurable:!0}),e.prototype.isWebPushSupported=function(){return Boolean(void 0!==(null===window||void 0===window?void 0:window.navigator)&&"serviceWorker"in window.navigator&&"PushManager"in window)},e.prototype.isWebPushSubscribed=function(e){return void 0===e&&(e=""),n(this,void 0,Promise,(function(){var t,i,n;return o(this,(function(o){switch(o.label){case 0:return this.isWebPushSupported()?[4,this.getServiceWorkerRegistration(e)]:[2,!1];case 1:return(t=o.sent())?[4,t.pushManager.getSubscription()]:[2,!1];case 2:return i=o.sent(),(n=null!==i)&&this.updateNewSubscriptionOnServer(i),[2,n]}}))}))},e.prototype.register=function(e,t,i){return n(this,void 0,Promise,(function(){var n,r,s,a;return o(this,(function(o){switch(o.label){case 0:if(!this.isWebPushSupported())return console.log("Leanplum: Push messaging is not supported."),[2,i(!1)];o.label=1;case 1:return o.trys.push([1,4,,5]),n=this,[4,this.serviceWorker.register(e||"/sw.min.js",t)];case 2:return n.serviceWorkerRegistration=o.sent(),[4,this.serviceWorkerRegistration.pushManager.getSubscription()];case 3:return r=o.sent(),(s=null!==r)&&this.updateNewSubscriptionOnServer(r),[2,i(s)];case 4:return a=o.sent(),console.log("Leanplum: Service Worker Error: ",a),[2,i(!1)];case 5:return[2]}}))}))},e.prototype.subscribeUser=function(){return n(this,void 0,Promise,(function(){var e,t,i;return o(this,(function(n){switch(n.label){case 0:e=this.urlB64ToUint8Array("BInWPpWntfR39rgXSP04pqdmEdDGa50z6zqbMvxyxJCwzXIuSpSh8C888-CfJ82WELl7Xe8cjAnfCt-3vK0Ci68"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})];case 2:if(!(t=n.sent()))throw new Error;return this.updateNewSubscriptionOnServer(t),[3,4];case 3:throw i=n.sent(),new Error("Leanplum: Failed to subscribe the user: ".concat(i));case 4:return[2,!0]}}))}))},e.prototype.unsubscribeUser=function(e){return void 0===e&&(e=""),n(this,void 0,Promise,(function(){var t,i;return o(this,(function(n){switch(n.label){case 0:return[4,this.isWebPushSubscribed(e)];case 1:if(!n.sent())return[3,6];n.label=2;case 2:return n.trys.push([2,5,,6]),[4,this.serviceWorkerRegistration.pushManager.getSubscription()];case 3:if(!(t=n.sent()))throw new Error;return[4,t.unsubscribe()];case 4:return n.sent(),[3,6];case 5:throw i=n.sent(),new Error("Leanplum: Error unsubscribing: ".concat(i));case 6:return[2]}}))}))},e.prototype.getServiceWorkerRegistration=function(e){return void 0===e&&(e=""),n(this,void 0,Promise,(function(){var t;return o(this,(function(i){switch(i.label){case 0:return this.serviceWorkerRegistration?[3,2]:(t=this,[4,this.serviceWorker.getRegistration(e)]);case 1:t.serviceWorkerRegistration=i.sent(),i.label=2;case 2:return[2,this.serviceWorkerRegistration]}}))}))},e.prototype.urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),i=this.decodeData(t),n=new Uint8Array(i.length),o=0;o<i.length;++o)n[o]=i.charCodeAt(o);return n},e.prototype.updateNewSubscriptionOnServer=function(e){if(e){var t=this.prepareSubscription(e),i=JSON.stringify(t);l.default.get(a.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION)!==i&&(l.default.save(a.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION,i),this.setSubscription(i))}},e.prototype.prepareSubscription=function(e){var t="getKey"in e?e.getKey("p256dh"):[],i="getKey"in e?e.getKey("auth"):[],n=this.encodeData(String.fromCharCode.apply(null,new Uint8Array(t))),o=this.encodeData(String.fromCharCode.apply(null,new Uint8Array(i)));return{endpoint:e.endpoint,key:n,auth:o}},e.prototype.setSubscription=function(e){if(e){var t=(new s.default).add(a.default.PARAMS.WEB_PUSH_SUBSCRIPTION,e);this.createRequest(a.default.METHODS.SET_DEVICE_ATTRIBUTES,t,{queued:!1,sendNow:!0})}},e.prototype.encodeData=function(e){return window.btoa(e)},e.prototype.decodeData=function(e){return window.atob(e)},e}();t.default=c},897:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(967)),r=function(){function e(){this.network=new o.default,this.connected=!1,this.connecting=!1,this.connected=!1,this.connecting=!1}return e.prototype.connect=function(e){var t=this;this.connecting=!0,this.network.ajax("POST","https://".concat(e,"/socket.io/1"),"",(function(i){var n=i.split(":"),o=n[0],r=parseInt(n[1])/2*1e3;t.socket=new WebSocket("wss://".concat(e,"/socket.io/1/websocket/").concat(o));var s=null;t.socket.onopen=function(){t.connected=!0,t.connecting=!1,t.onopen&&t.onopen(),s=setInterval((function(){t.socket.send("2:::")}),r)},t.socket.onclose=function(){t.connected=!1,clearInterval(s),t.onclose&&t.onclose()},t.socket.onmessage=function(e){var i=e.data.split(":"),n=parseInt(i[0]);if(2===n)t.socket.send("2::");else if(5===n){var o=i[1],r=JSON.parse(i.slice(3).join(":")),s=r.name,a=r.args;o&&t.socket.send("6:::".concat(o)),t.onmessage&&t.onmessage(s,a)}else 7===n&&console.log("Socket error: ".concat(e.data))},t.socket.onerror=function(e){t.socket.close(),t.onerror&&t.onerror(e)}}),null,!1,!0)},e.prototype.disconnect=function(){this.socket.close(),this.connected=!1,this.connecting=!1},e.prototype.send=function(e,t){if(this.connected){var i=JSON.stringify({name:e,args:t});this.socket.send("5:::".concat(i))}else console.log("Leanplum: Socket is not connected.")},e.prototype.setNetworkTimeout=function(e){this.network.setNetworkTimeout(e)},e}();t.default=r},88:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={local:!0,session:!0},n={local:{},session:{}},o=function(){function e(){}return e.get=function(e,t){if(void 0===t&&(t="local"),!i[t])return n[t][e];try{return"local"===t?localStorage[e]:sessionStorage.getItem(e)}catch(o){return i[t]=!1,n[t][e]}},e.save=function(e,t,o){if(void 0===o&&(o="local"),i[o])try{"local"===o?localStorage[e]=t:sessionStorage.setItem(e,t)}catch(r){i[o]=!1,n[o][e]=t}else n[o][e]=t},e.remove=function(e,t){if(void 0===t&&(t="local"),i[t])try{"local"===t?localStorage.removeItem(e):sessionStorage.removeItem(e)}catch(o){i[t]=!1,delete n[t][e]}else delete n[t][e]},e}();t.default=o},375:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.decodeColor=function(e){var t=255&e,i=255&(e>>=8),n=255&(e>>=8),o=(255&(e>>=8))/255;return"rgba(".concat(n,",").concat(i,",").concat(t,",").concat(o,")")},e.encodeColor=function(e){if("number"==typeof e)return e;var t=/^rgba\((\d+),(\d+),(\d+),(\d+(\.\d+)?)\)$/.exec(e);if(t)return(255*parseInt(t[4],10)<<24)+((255&parseInt(t[1],10))<<16)+((255&parseInt(t[2],10))<<8)+(255&parseInt(t[3],10));var i=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e);if(i)return(255<<24)+((255&parseInt(i[1],16))<<16)+((255&parseInt(i[2],16))<<8)+(255&parseInt(i[3],16));throw new Error('Could not parse color "'.concat(e,'"'))},e}();t.default=i},816:function(e,t,i){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(i(600)),s=o(i(749)),a=o(i(88)),l=o(i(375)),c=function(){function e(e){this.createRequest=e,this.actionDefinitions={},this.hasReceivedDiffs=!1,this.merged=void 0,this.variables=null,this.variablesChangedHandlers=[],this.variantDebugInfo={},this.diffs=void 0,this.token="",this.variants=[]}return e.prototype.applyDiffs=function(e,t,i){var o;this.diffs=e,this.variants=t,this.actionDefinitions=n(n({},this.actionDefinitions),(o=i)?Object.keys(o).reduce((function(e,t){e[t]=n({},o[t]);var i=o[t].kinds;return i&&(e[t].kinds=Object.keys(i).reduce((function(n,o){var r=i[o].toLowerCase();return n[o]=r,"action"===r&&(e[t].values[o]=""),n}),{})),e}),{}):o),this.hasReceivedDiffs=!0,this.merged=h(this.variables,e),this.saveDiffs(),this.onUpdate&&this.onUpdate()},e.prototype.loadDiffs=function(){try{this.applyDiffs(JSON.parse(this.loadLocal(s.default.DEFAULT_KEYS.VARIABLES)||null),JSON.parse(this.loadLocal(s.default.DEFAULT_KEYS.VARIANTS)||null),JSON.parse(this.loadLocal(s.default.DEFAULT_KEYS.ACTION_DEFINITIONS)||null)),this.token=this.loadLocal(s.default.DEFAULT_KEYS.TOKEN),this.variantDebugInfo=this.loadLocal(s.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO)}catch(e){console.log("Leanplum: Invalid diffs: ".concat(e))}},e.prototype.saveDiffs=function(){this.saveLocal(s.default.DEFAULT_KEYS.VARIABLES,JSON.stringify(this.diffs||{})),this.saveLocal(s.default.DEFAULT_KEYS.VARIANTS,JSON.stringify(this.variants||[])),this.saveLocal(s.default.DEFAULT_KEYS.ACTION_DEFINITIONS,JSON.stringify(this.actionDefinitions||{})),this.saveLocal(s.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO,JSON.stringify(this.variantDebugInfo||{})),this.saveLocal(s.default.DEFAULT_KEYS.TOKEN,this.token)},e.prototype.getVariable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this.getVariables();if(i)for(var n=0;n<e.length;n++)i=i[e[n]];return i},e.prototype.getVariables=function(){return void 0!==this.merged?this.merged:this.variables},e.prototype.setVariables=function(e){this.variables=e},e.prototype.addVariablesChangedHandler=function(e){this.variablesChangedHandlers.push(e),this.hasReceivedDiffs&&e()},e.prototype.removeVariablesChangedHandler=function(e){var t=this.variablesChangedHandlers.indexOf(e);t>=0&&this.variablesChangedHandlers.splice(t,1)},e.prototype.triggerVariablesChangedHandlers=function(){for(var e=0;e<this.variablesChangedHandlers.length;e++)this.variablesChangedHandlers[e]()},e.prototype.getVariantDebugInfo=function(){return this.variantDebugInfo},e.prototype.setVariantDebugInfo=function(e){this.variantDebugInfo=e},e.prototype.sendActions=function(){var e;return!!Object.keys(this.actionDefinitions).length&&(this.setVars(((e={})[s.default.PARAMS.ACTION_DEFINITIONS]=this.actionDefinitions,e)),!0)},e.prototype.sendVariables=function(){var e;this.setVars(((e={})[s.default.PARAMS.VARIABLES]=this.variables,e))},e.prototype.setVars=function(e){var t=(new r.default).body(JSON.stringify(e));this.createRequest(s.default.METHODS.SET_VARS,t,{sendNow:!0})},e.prototype.clearUserContent=function(){this.diffs=void 0,this.variables=null,this.variants=[],this.variantDebugInfo={},this.merged=void 0},e.prototype.registerActionDefinition=function(e){this.actionDefinitions[e.name]=function(e){return{kind:e.kind||3,options:null,values:d(e.args),kinds:u(e.args)}}(e)},e.prototype.loadLocal=function(e){return a.default.get(e)},e.prototype.saveLocal=function(e,t){a.default.save(e,t)},e}();function d(e){return e.reduce((function(e,t){return t.value instanceof Array?e[t.name]=d(t.value):"action"===t.type?e[t.name]="":"color"===t.type?e[t.name]=l.default.encodeColor(t.value):e[t.name]=t.value,e}),{})}function u(e,t){return void 0===t&&(t=""),e.reduce((function(e,i){var o,r="".concat(t).concat(i.name);return i.value instanceof Array?e=n(((o={})[r]="group",o),u(i.value,"".concat(r,"."))):e[r]=i.type.toLowerCase(),e}),{})}function h(e,t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t)return t;if(null==t)return e;var i=function(e){return function(t){if(e instanceof Array)for(var i=0;i<e.length;i++)t(e[i]);else for(var n in e)({}).hasOwnProperty.call(e,n)&&t(n)}},n=i(e),o=i(t),r=!1;if(null===e&&!(t instanceof Array))for(var s in r=null,t)if(t.hasOwnProperty(s)){if(null===r&&(r=!0),"string"!=typeof s){r=!1;break}if(s.length<3||"["!==s.charAt(0)||"]"!==s.charAt(s.length-1)){r=!1;break}}if(e instanceof Array||r){var a=[];return n((function(e){a.push(e)})),o((function(e){for(var i=parseInt(e.substring(1,e.length-1)),n=t[e];i>=a.length;)a.push(null);a[i]=h(a[i],n)})),a}var l={};return n((function(i){null!==t[i]&&void 0!==t[i]||(l[i]=e[i])})),o((function(i){l[i]=h(null===e?null:e[i]||{},t[i])})),l}t.default=c},804:(e,t,i)=>{var n=i(876);e.exports=n.default},205:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.MigrationState=void 0,(i=t.MigrationState||(t.MigrationState={})).UNKNOWN="unknown",i.LEANPLUM="lp",i.DUPLICATE="lp+ct",i.CLEVERTAP="ct"},772:(e,t)=>{"use strict";var i,n;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageKind=t.ActionParameterType=void 0,(n=t.ActionParameterType||(t.ActionParameterType={})).Integer="integer",n.Color="color",n.Float="float",n.Decimal="decimal",n.Number="number",n.Boolean="bool",n.String="string",n.Text="text",n.HTML="html",n.File="file",n.List="list",n.Group="group",n.Action="action",n.Unknown="",(i=t.MessageKind||(t.MessageKind={}))[i.Action=2]="Action",i[i.Template=3]="Template"}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}return i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i(804)})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QW9CLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9MZWFucGx1bS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvY2xldmVydGFwLXdlYi1zZGsvY2xldmVydGFwLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC5pc2VxdWFsL2luZGV4LmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0FyZ3NCdWlsZGVyLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0Jyb3dzZXJEZXRlY3Rvci50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9Db25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvRXZlbnRFbWl0dGVyLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0ludGVybmFsU3RhdGUudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTGVhbnBsdW0udHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTGVhbnBsdW1JbmJveC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9MZWFucGx1bUludGVybmFsLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0xlYW5wbHVtUmVxdWVzdC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9MZWFucGx1bVNvY2tldC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9NZXNzYWdlcy50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9NaWdyYXRpb25NYW5hZ2VyLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL05ldHdvcmsudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvUHVzaE1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvU29ja2V0SW9DbGllbnQudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvU3RvcmFnZU1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvVmFsdWVUcmFuc2Zvcm1zLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL1ZhckNhY2hlLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL2J1bmRsZXMvbGVhbnBsdW0uZnVsbC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy90eXBlcy9pbnRlcm5hbC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy90eXBlcy9wdWJsaWMudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9MZWFucGx1bS93ZWJwYWNrL3J1bnRpbWUvbm9kZSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL0xlYW5wbHVtL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJMZWFucGx1bVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJMZWFucGx1bVwiXSA9IGZhY3RvcnkoKTtcbn0pKHNlbGYsICgpID0+IHtcbnJldHVybiAiLCIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gIChnbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogZ2xvYmFsIHx8IHNlbGYsIGdsb2JhbC5jbGV2ZXJ0YXAgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGlkID0gMDtcblxuICBmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShuYW1lKSB7XG4gICAgcmV0dXJuIFwiX19wcml2YXRlX1wiICsgaWQrKyArIFwiX1wiICsgbmFtZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShyZWNlaXZlciwgcHJpdmF0ZUtleSkge1xuICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlY2VpdmVyLCBwcml2YXRlS2V5KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byB1c2UgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlY2VpdmVyO1xuICB9XG5cbiAgY29uc3QgVEFSR0VUX0RPTUFJTiA9ICdjbGV2ZXJ0YXAtcHJvZC5jb20nO1xuICBjb25zdCBUQVJHRVRfUFJPVE9DT0wgPSAnaHR0cHM6JztcbiAgY29uc3QgREVGQVVMVF9SRUdJT04gPSAnZXUxJztcblxuICB2YXIgX2FjY291bnRJZCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYWNjb3VudElkXCIpO1xuXG4gIHZhciBfcmVnaW9uID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJyZWdpb25cIik7XG5cbiAgdmFyIF90YXJnZXREb21haW4gPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInRhcmdldERvbWFpblwiKTtcblxuICB2YXIgX2RjU2RrdmVyc2lvbiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZGNTZGt2ZXJzaW9uXCIpO1xuXG4gIHZhciBfdG9rZW4gPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInRva2VuXCIpO1xuXG4gIGNsYXNzIEFjY291bnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgbGV0IHtcbiAgICAgICAgaWRcbiAgICAgIH0gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgICAgbGV0IHJlZ2lvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XG4gICAgICBsZXQgdGFyZ2V0RG9tYWluID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBUQVJHRVRfRE9NQUlOO1xuICAgICAgbGV0IHRva2VuID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAnJztcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfYWNjb3VudElkLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcmVnaW9uLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogJydcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF90YXJnZXREb21haW4sIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBUQVJHRVRfRE9NQUlOXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfZGNTZGt2ZXJzaW9uLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogJydcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF90b2tlbiwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6ICcnXG4gICAgICB9KTtcbiAgICAgIHRoaXMuaWQgPSBpZDtcblxuICAgICAgaWYgKHJlZ2lvbikge1xuICAgICAgICB0aGlzLnJlZ2lvbiA9IHJlZ2lvbjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRhcmdldERvbWFpbikge1xuICAgICAgICB0aGlzLnRhcmdldERvbWFpbiA9IHRhcmdldERvbWFpbjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgaWQoKSB7XG4gICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50SWQpW19hY2NvdW50SWRdO1xuICAgIH1cblxuICAgIHNldCBpZChhY2NvdW50SWQpIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudElkKVtfYWNjb3VudElkXSA9IGFjY291bnRJZDtcbiAgICB9XG5cbiAgICBnZXQgcmVnaW9uKCkge1xuICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVnaW9uKVtfcmVnaW9uXTtcbiAgICB9XG5cbiAgICBzZXQgcmVnaW9uKHJlZ2lvbikge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZWdpb24pW19yZWdpb25dID0gcmVnaW9uO1xuICAgIH1cblxuICAgIGdldCBkY1NES1ZlcnNpb24oKSB7XG4gICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kY1Nka3ZlcnNpb24pW19kY1Nka3ZlcnNpb25dO1xuICAgIH1cblxuICAgIHNldCBkY1NES1ZlcnNpb24oZGNTREtWZXJzaW9uKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RjU2RrdmVyc2lvbilbX2RjU2RrdmVyc2lvbl0gPSBkY1NES1ZlcnNpb247XG4gICAgfVxuXG4gICAgZ2V0IHRhcmdldERvbWFpbigpIHtcbiAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3RhcmdldERvbWFpbilbX3RhcmdldERvbWFpbl07XG4gICAgfVxuXG4gICAgc2V0IHRhcmdldERvbWFpbih0YXJnZXREb21haW4pIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdGFyZ2V0RG9tYWluKVtfdGFyZ2V0RG9tYWluXSA9IHRhcmdldERvbWFpbjtcbiAgICB9XG5cbiAgICBnZXQgdG9rZW4oKSB7XG4gICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF90b2tlbilbX3Rva2VuXTtcbiAgICB9XG5cbiAgICBzZXQgdG9rZW4odG9rZW4pIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdG9rZW4pW190b2tlbl0gPSB0b2tlbjtcbiAgICB9XG5cbiAgICBnZXQgZmluYWxUYXJnZXREb21haW4oKSB7XG4gICAgICBpZiAodGhpcy5yZWdpb24pIHtcbiAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHRoaXMucmVnaW9uLCBcIi5cIikuY29uY2F0KHRoaXMudGFyZ2V0RG9tYWluKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldERvbWFpbiA9PT0gVEFSR0VUX0RPTUFJTikge1xuICAgICAgICAgIHJldHVybiBcIlwiLmNvbmNhdChERUZBVUxUX1JFR0lPTiwgXCIuXCIpLmNvbmNhdCh0aGlzLnRhcmdldERvbWFpbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXREb21haW47XG4gICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGRhdGFQb3N0UEVVUkwoKSB7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQoVEFSR0VUX1BST1RPQ09MLCBcIi8vXCIpLmNvbmNhdCh0aGlzLmZpbmFsVGFyZ2V0RG9tYWluLCBcIi9kZWZpbmVWYXJzXCIpO1xuICAgIH1cblxuICAgIGdldCBkYXRhUG9zdFVSTCgpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdChUQVJHRVRfUFJPVE9DT0wsIFwiLy9cIikuY29uY2F0KHRoaXMuZmluYWxUYXJnZXREb21haW4sIFwiL2E/dD05NlwiKTtcbiAgICB9XG5cbiAgICBnZXQgcmVjb3JkZXJVUkwoKSB7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQoVEFSR0VUX1BST1RPQ09MLCBcIi8vXCIpLmNvbmNhdCh0aGlzLmZpbmFsVGFyZ2V0RG9tYWluLCBcIi9yP3I9MVwiKTtcbiAgICB9XG5cbiAgICBnZXQgZW1haWxVUkwoKSB7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQoVEFSR0VUX1BST1RPQ09MLCBcIi8vXCIpLmNvbmNhdCh0aGlzLmZpbmFsVGFyZ2V0RG9tYWluLCBcIi9lP3I9MVwiKTtcbiAgICB9XG5cbiAgfVxuXG4gIGNvbnN0IHVuc3VwcG9ydGVkS2V5Q2hhclJlZ2V4ID0gbmV3IFJlZ0V4cCgnXlxcXFxzK3xcXFxcXFwufFxcOnxcXFxcXFwkfFxcJ3xcXFwifFxcXFxcXFxcfFxcXFxzKyQnLCAnZycpO1xuICBjb25zdCB1bnN1cHBvcnRlZFZhbHVlQ2hhclJlZ2V4ID0gbmV3IFJlZ0V4cChcIl5cXFxccyt8XFwnfFxcXCJ8XFxcXFxcXFx8XFxcXHMrJFwiLCAnZycpO1xuICBjb25zdCBzaW5nbGVRdW90ZVJlZ2V4ID0gbmV3IFJlZ0V4cCgnXFwnJywgJ2cnKTtcbiAgY29uc3QgQ0xFQVIgPSAnY2xlYXInO1xuICBjb25zdCBDSEFSR0VEX0lEID0gJ0NoYXJnZWQgSUQnO1xuICBjb25zdCBDSEFSR0VESURfQ09PS0lFX05BTUUgPSAnV1pSS19DSEFSR0VEX0lEJztcbiAgY29uc3QgR0NPT0tJRV9OQU1FID0gJ1daUktfRyc7XG4gIGNvbnN0IEtDT09LSUVfTkFNRSA9ICdXWlJLX0snO1xuICBjb25zdCBDQU1QX0NPT0tJRV9OQU1FID0gJ1daUktfQ0FNUCc7XG4gIGNvbnN0IENBTVBfQ09PS0lFX0cgPSAnV1pSS19DQU1QX0cnOyAvLyBjb29raWUgZm9yIHN0b3JpbmcgY2FtcGFpZ24gZGV0YWlscyBhZ2FpbnN0IGd1aWRcblxuICBjb25zdCBTQ09PS0lFX1BSRUZJWCA9ICdXWlJLX1MnO1xuICBjb25zdCBTQ09PS0lFX0VYUF9USU1FX0lOX1NFQ1MgPSA2MCAqIDIwOyAvLyAyMCBtaW5zXG5cbiAgY29uc3QgRVZfQ09PS0lFID0gJ1daUktfRVYnO1xuICBjb25zdCBNRVRBX0NPT0tJRSA9ICdXWlJLX01FVEEnO1xuICBjb25zdCBQUl9DT09LSUUgPSAnV1pSS19QUic7XG4gIGNvbnN0IEFSUF9DT09LSUUgPSAnV1pSS19BUlAnO1xuICBjb25zdCBMQ09PS0lFX05BTUUgPSAnV1pSS19MJztcbiAgY29uc3QgR0xPQkFMID0gJ2dsb2JhbCc7IC8vIHVzZWQgZm9yIGVtYWlsIHVuc3Vic2NyaWJlIGFsc29cbiAgY29uc3QgRElTUExBWSA9ICdkaXNwbGF5JztcbiAgY29uc3QgV0VCUFVTSF9MU19LRVkgPSAnV1pSS19XUFInO1xuICBjb25zdCBPUFRPVVRfS0VZID0gJ29wdE91dCc7XG4gIGNvbnN0IENUX09QVE9VVF9LRVkgPSAnY3Rfb3B0b3V0JztcbiAgY29uc3QgT1BUT1VUX0NPT0tJRV9FTkRTV0lUSCA9ICc6T08nO1xuICBjb25zdCBVU0VJUF9LRVkgPSAndXNlSVAnO1xuICBjb25zdCBMUlVfQ0FDSEUgPSAnV1pSS19YJztcbiAgY29uc3QgTFJVX0NBQ0hFX1NJWkUgPSAxMDA7XG4gIGNvbnN0IElTX09VTCA9ICdpc09VTCc7XG4gIGNvbnN0IEVWVF9QVVNIID0gJ3B1c2gnO1xuICBjb25zdCBFVlRfUElORyA9ICdwaW5nJztcbiAgY29uc3QgQ09PS0lFX0VYUElSWSA9IDg2NDAwICogMzY1OyAvLyAxIFllYXIgaW4gc2Vjb25kc1xuXG4gIGNvbnN0IE1BWF9UUklFUyA9IDIwMDsgLy8gQVBJIHRyaWVzXG5cbiAgY29uc3QgRklSU1RfUElOR19GUkVRX0lOX01JTExJUyA9IDIgKiA2MCAqIDEwMDA7IC8vIDIgbWluc1xuXG4gIGNvbnN0IENPTlRJTlVPVVNfUElOR19GUkVRX0lOX01JTExJUyA9IDUgKiA2MCAqIDEwMDA7IC8vIDUgbWluc1xuXG4gIGNvbnN0IEdST1VQX1NVQlNDUklQVElPTl9SRVFVRVNUX0lEID0gJzInO1xuICBjb25zdCBjYXRlZ29yeUxvbmdLZXkgPSAnY1VzWSc7XG4gIGNvbnN0IFdaUktfUFJFRklYID0gJ3d6cmtfJztcbiAgY29uc3QgV1pSS19JRCA9ICd3enJrX2lkJztcbiAgY29uc3QgTk9USUZJQ0FUSU9OX1ZJRVdFRCA9ICdOb3RpZmljYXRpb24gVmlld2VkJztcbiAgY29uc3QgTk9USUZJQ0FUSU9OX0NMSUNLRUQgPSAnTm90aWZpY2F0aW9uIENsaWNrZWQnO1xuICBjb25zdCBGSVJFX1BVU0hfVU5SRUdJU1RFUkVEID0gJ1daUktfRlBVJztcbiAgY29uc3QgUFVTSF9TVUJTQ1JJUFRJT05fREFUQSA9ICdXWlJLX1BTRCc7IC8vIFBVU0ggU1VCU0NSSVBUSU9OIERBVEEgRk9SIFJFR0lTVEVSL1VOUkVHSVNURVIgVE9LRU5cblxuICBjb25zdCBDT01NQU5EX0lOQ1JFTUVOVCA9ICckaW5jcic7XG4gIGNvbnN0IENPTU1BTkRfREVDUkVNRU5UID0gJyRkZWNyJztcbiAgY29uc3QgQ09NTUFORF9TRVQgPSAnJHNldCc7XG4gIGNvbnN0IENPTU1BTkRfQUREID0gJyRhZGQnO1xuICBjb25zdCBDT01NQU5EX1JFTU9WRSA9ICckcmVtb3ZlJztcbiAgY29uc3QgQ09NTUFORF9ERUxFVEUgPSAnJGRlbGV0ZSc7XG4gIGNvbnN0IFdFQklOQk9YX0NPTkZJRyA9ICdXWlJLX0lOQk9YX0NPTkZJRyc7XG4gIGNvbnN0IFdFQklOQk9YID0gJ1daUktfSU5CT1gnO1xuICBjb25zdCBNQVhfSU5CT1hfTVNHID0gMTU7XG4gIGNvbnN0IFZBUklBQkxFUyA9ICdXWlJLX1BFJztcbiAgY29uc3QgUFVTSF9ERUxBWV9NUyA9IDEwMDA7XG4gIGNvbnN0IE1BWF9ERUxBWV9GUkVRVUVOQ1kgPSAxMDAwICogNjAgKiAxMDtcbiAgY29uc3QgV1pSS19GRVRDSCA9ICd3enJrX2ZldGNoJztcbiAgY29uc3QgU1lTVEVNX0VWRU5UUyA9IFsnU3RheWVkJywgJ1VUTSBWaXNpdGVkJywgJ0FwcCBMYXVuY2hlZCcsICdOb3RpZmljYXRpb24gU2VudCcsIE5PVElGSUNBVElPTl9WSUVXRUQsIE5PVElGSUNBVElPTl9DTElDS0VEXTtcblxuICBjb25zdCBpc1N0cmluZyA9IGlucHV0ID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCBpbnB1dCBpbnN0YW5jZW9mIFN0cmluZztcbiAgfTtcbiAgY29uc3QgaXNPYmplY3QgPSBpbnB1dCA9PiB7XG4gICAgLy8gVE9ETzogcmVmaW5lXG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuICB9O1xuICBjb25zdCBpc0RhdGVPYmplY3QgPSBpbnB1dCA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgJiYgaW5wdXQgaW5zdGFuY2VvZiBEYXRlO1xuICB9O1xuICBjb25zdCBpc09iamVjdEVtcHR5ID0gb2JqID0+IHtcbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gb2JqKSB7XG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgY29uc3QgaXNDb252ZXJ0aWJsZVRvTnVtYmVyID0gbiA9PiB7XG4gICAgcmV0dXJuICFpc05hTihwYXJzZUZsb2F0KG4pKSAmJiBpc0Zpbml0ZShuKTtcbiAgfTtcbiAgY29uc3QgaXNOdW1iZXIgPSBuID0+IHtcbiAgICByZXR1cm4gL14tP1tcXGQuXSsoPzplLT9cXGQrKT8kLy50ZXN0KG4pICYmIHR5cGVvZiBuID09PSAnbnVtYmVyJztcbiAgfTtcbiAgY29uc3QgaXNWYWx1ZVZhbGlkID0gdmFsdWUgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBjb25zdCByZW1vdmVVbnN1cHBvcnRlZENoYXJzID0gKG8sIGxvZ2dlcikgPT4ge1xuICAgIC8vIGtleXMgY2FuJ3QgYmUgZ3JlYXRlciB0aGFuIDEwMjQgY2hhcnMsIHZhbHVlcyBjYW4ndCBiZSBncmVhdGVyIHRoYW4gMTAyNCBjaGFyc1xuICAgIGlmICh0eXBlb2YgbyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG8pIHtcbiAgICAgICAgaWYgKG8uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGNvbnN0IHNhbml0aXplZFZhbCA9IHJlbW92ZVVuc3VwcG9ydGVkQ2hhcnMob1trZXldLCBsb2dnZXIpO1xuICAgICAgICAgIGxldCBzYW5pdGl6ZWRLZXk7XG4gICAgICAgICAgc2FuaXRpemVkS2V5ID0gc2FuaXRpemUoa2V5LCB1bnN1cHBvcnRlZEtleUNoYXJSZWdleCk7XG5cbiAgICAgICAgICBpZiAoc2FuaXRpemVkS2V5Lmxlbmd0aCA+IDEwMjQpIHtcbiAgICAgICAgICAgIHNhbml0aXplZEtleSA9IHNhbml0aXplZEtleS5zdWJzdHJpbmcoMCwgMTAyNCk7XG4gICAgICAgICAgICBsb2dnZXIucmVwb3J0RXJyb3IoNTIwLCBzYW5pdGl6ZWRLZXkgKyAnLi4uIGxlbmd0aCBleGNlZWRlZCAxMDI0IGNoYXJzLiBUcmltbWVkLicpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRlbGV0ZSBvW2tleV07XG4gICAgICAgICAgb1tzYW5pdGl6ZWRLZXldID0gc2FuaXRpemVkVmFsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCB2YWw7XG5cbiAgICAgIGlmIChpc1N0cmluZyhvKSkge1xuICAgICAgICB2YWwgPSBzYW5pdGl6ZShvLCB1bnN1cHBvcnRlZFZhbHVlQ2hhclJlZ2V4KTtcblxuICAgICAgICBpZiAodmFsLmxlbmd0aCA+IDEwMjQpIHtcbiAgICAgICAgICB2YWwgPSB2YWwuc3Vic3RyaW5nKDAsIDEwMjQpO1xuICAgICAgICAgIGxvZ2dlci5yZXBvcnRFcnJvcig1MjEsIHZhbCArICcuLi4gbGVuZ3RoIGV4Y2VlZGVkIDEwMjQgY2hhcnMuIFRyaW1tZWQuJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbCA9IG87XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuXG4gICAgcmV0dXJuIG87XG4gIH07XG4gIGNvbnN0IHNhbml0aXplID0gKGlucHV0LCByZWdleCkgPT4ge1xuICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKHJlZ2V4LCAnJyk7XG4gIH07XG5cbiAgY29uc3QgZ2V0VG9kYXkgPSAoKSA9PiB7XG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgIHJldHVybiB0b2RheS5nZXRGdWxsWWVhcigpICsgJycgKyB0b2RheS5nZXRNb250aCgpICsgJycgKyB0b2RheS5nZXREYXkoKTtcbiAgfTtcbiAgY29uc3QgZ2V0Tm93ID0gKCkgPT4ge1xuICAgIHJldHVybiBNYXRoLmZsb29yKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCk7XG4gIH07XG4gIGNvbnN0IGNvbnZlcnRUb1daUktEYXRlID0gZGF0ZU9iaiA9PiB7XG4gICAgcmV0dXJuICckRF8nICsgTWF0aC5yb3VuZChkYXRlT2JqLmdldFRpbWUoKSAvIDEwMDApO1xuICB9O1xuICBjb25zdCBzZXREYXRlID0gZHQgPT4ge1xuICAgIC8vIGV4cGVjdGluZyAgeXl5eW1tZGQgZm9ybWF0IGVpdGhlciBhcyBhIG51bWJlciBvciBhIHN0cmluZ1xuICAgIGlmIChpc0RhdGVWYWxpZChkdCkpIHtcbiAgICAgIHJldHVybiAnJERfJyArIGR0O1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaXNEYXRlVmFsaWQgPSBkYXRlID0+IHtcbiAgICBjb25zdCBtYXRjaGVzID0gL14oXFxkezR9KShcXGR7Mn0pKFxcZHsyfSkkLy5leGVjKGRhdGUpO1xuICAgIGlmIChtYXRjaGVzID09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBkID0gbWF0Y2hlc1szXTtcbiAgICBjb25zdCBtID0gbWF0Y2hlc1syXSAtIDE7XG4gICAgY29uc3QgeSA9IG1hdGNoZXNbMV07XG4gICAgY29uc3QgY29tcG9zZWREYXRlID0gbmV3IERhdGUoeSwgbSwgZCk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblxuICAgIHJldHVybiBjb21wb3NlZERhdGUuZ2V0RGF0ZSgpID09IGQgJiYgY29tcG9zZWREYXRlLmdldE1vbnRoKCkgPT0gbSAmJiBjb21wb3NlZERhdGUuZ2V0RnVsbFllYXIoKSA9PSB5O1xuICB9O1xuXG4gIGNsYXNzIFN0b3JhZ2VNYW5hZ2VyIHtcbiAgICBzdGF0aWMgc2F2ZShrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoIWtleSB8fCAhdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyByZWFkKGtleSkge1xuICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBsZXQgZGF0YSA9IG51bGw7XG5cbiAgICAgIGlmICh0aGlzLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAgIGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGF0YSAhPSBudWxsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIHN0YXRpYyByZW1vdmUoa2V5KSB7XG4gICAgICBpZiAoIWtleSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyByZW1vdmVDb29raWUobmFtZSwgZG9tYWluKSB7XG4gICAgICBsZXQgY29va2llU3RyID0gbmFtZSArICc9OyBleHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDEgR01UOyc7XG5cbiAgICAgIGlmIChkb21haW4pIHtcbiAgICAgICAgY29va2llU3RyID0gY29va2llU3RyICsgJyBkb21haW49JyArIGRvbWFpbiArICc7IHBhdGg9Lyc7XG4gICAgICB9XG5cbiAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZVN0cjtcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlQ29va2llKG5hbWUsIHZhbHVlLCBzZWNvbmRzLCBkb21haW4pIHtcbiAgICAgIGxldCBleHBpcmVzID0gJyc7XG4gICAgICBsZXQgZG9tYWluU3RyID0gJyc7XG5cbiAgICAgIGlmIChzZWNvbmRzKSB7XG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyBzZWNvbmRzICogMTAwMCk7XG4gICAgICAgIGV4cGlyZXMgPSAnOyBleHBpcmVzPScgKyBkYXRlLnRvR01UU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkb21haW4pIHtcbiAgICAgICAgZG9tYWluU3RyID0gJzsgZG9tYWluPScgKyBkb21haW47XG4gICAgICB9XG5cbiAgICAgIHZhbHVlID0gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcbiAgICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyAnPScgKyB2YWx1ZSArIGV4cGlyZXMgKyBkb21haW5TdHIgKyAnOyBwYXRoPS8nO1xuICAgIH1cblxuICAgIHN0YXRpYyByZWFkQ29va2llKG5hbWUpIHtcbiAgICAgIGNvbnN0IG5hbWVFUSA9IG5hbWUgKyAnPSc7XG4gICAgICBjb25zdCBjYSA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpO1xuXG4gICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBjYS5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGxldCBjID0gY2FbaWR4XTtcblxuICAgICAgICB3aGlsZSAoYy5jaGFyQXQoMCkgPT09ICcgJykge1xuICAgICAgICAgIGMgPSBjLnN1YnN0cmluZygxLCBjLmxlbmd0aCk7XG4gICAgICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXG5cbiAgICAgICAgaWYgKGMuaW5kZXhPZihuYW1lRVEpID09IDApIHtcbiAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGMuc3Vic3RyaW5nKG5hbWVFUS5sZW5ndGgsIGMubGVuZ3RoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgc3RhdGljIF9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpIHtcbiAgICAgIHJldHVybiAnbG9jYWxTdG9yYWdlJyBpbiB3aW5kb3cgJiYgd2luZG93LmxvY2FsU3RvcmFnZSAhPT0gbnVsbCAmJiB0eXBlb2Ygd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtID09PSAnZnVuY3Rpb24nO1xuICAgIH1cblxuICAgIHN0YXRpYyBzYXZlVG9MU29yQ29va2llKHByb3BlcnR5LCB2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBpZiAodGhpcy5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgIHRoaXMuc2F2ZShwcm9wZXJ0eSwgZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHZhbHVlKSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChwcm9wZXJ0eSA9PT0gR0NPT0tJRV9OQU1FKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUNvb2tpZShwcm9wZXJ0eSwgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSwgMCwgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVDb29raWUocHJvcGVydHksIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh2YWx1ZSkpLCAwLCB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgICRjdC5nbG9iYWxDYWNoZVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuXG4gICAgc3RhdGljIHJlYWRGcm9tTFNvckNvb2tpZShwcm9wZXJ0eSkge1xuICAgICAgbGV0IGRhdGE7XG5cbiAgICAgIGlmICgkY3QuZ2xvYmFsQ2FjaGUuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG4gICAgICAgIHJldHVybiAkY3QuZ2xvYmFsQ2FjaGVbcHJvcGVydHldO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgICBkYXRhID0gdGhpcy5yZWFkKHByb3BlcnR5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGEgPSB0aGlzLnJlYWRDb29raWUocHJvcGVydHkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGF0YSAhPT0gbnVsbCAmJiBkYXRhICE9PSB1bmRlZmluZWQgJiYgISh0eXBlb2YgZGF0YS50cmltID09PSAnZnVuY3Rpb24nICYmIGRhdGEudHJpbSgpID09PSAnJykpIHtcbiAgICAgICAgbGV0IHZhbHVlO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFsdWUgPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChkYXRhKSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHZhbHVlID0gZGVjb2RlVVJJQ29tcG9uZW50KGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgJGN0Lmdsb2JhbENhY2hlW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZUJyb2FkQ29va2llKG5hbWUsIHZhbHVlLCBzZWNvbmRzLCBkb21haW4pIHtcbiAgICAgIC8vIHNldHMgY29va2llIG9uIHRoZSBiYXNlIGRvbWFpbi4gZS5nLiBpZiBkb21haW4gaXMgYmF6LmZvby5iYXIuY29tLCBzZXQgY29va2llIG9uIFwiLmJhci5jb21cIlxuICAgICAgLy8gVG8gdXBkYXRlIGFuIGV4aXN0aW5nIFwiYnJvYWQgZG9tYWluXCIgY29va2llLCB3ZSBuZWVkIHRvIGtub3cgd2hhdCBkb21haW4gaXQgd2FzIGFjdHVhbGx5IHNldCBvbi5cbiAgICAgIC8vIHNpbmNlIGEgcmV0cmlldmVkIGNvb2tpZSBuZXZlciB0ZWxscyB3aGljaCBkb21haW4gaXQgd2FzIHNldCBvbiwgd2UgbmVlZCB0byBzZXQgYW5vdGhlciB0ZXN0IGNvb2tpZVxuICAgICAgLy8gdG8gZmluZCBvdXQgd2hpY2ggXCJicm9hZGVzdFwiIGRvbWFpbiB0aGUgY29va2llIHdhcyBzZXQgb24uIFRoZW4gZGVsZXRlIHRoZSB0ZXN0IGNvb2tpZSwgYW5kIHVzZSB0aGF0IGRvbWFpblxuICAgICAgLy8gZm9yIHVwZGF0aW5nIHRoZSBhY3R1YWwgY29va2llLlxuICAgICAgaWYgKGRvbWFpbikge1xuICAgICAgICBsZXQgYnJvYWREb21haW4gPSAkY3QuYnJvYWREb21haW47XG5cbiAgICAgICAgaWYgKGJyb2FkRG9tYWluID09IG51bGwpIHtcbiAgICAgICAgICAvLyBpZiB3ZSBkb24ndCBrbm93IHRoZSBicm9hZERvbWFpbiB5ZXQsIHRoZW4gZmluZCBvdXRcbiAgICAgICAgICBjb25zdCBkb21haW5QYXJ0cyA9IGRvbWFpbi5zcGxpdCgnLicpO1xuICAgICAgICAgIGxldCB0ZXN0QnJvYWREb21haW4gPSAnJztcblxuICAgICAgICAgIGZvciAobGV0IGlkeCA9IGRvbWFpblBhcnRzLmxlbmd0aCAtIDE7IGlkeCA+PSAwOyBpZHgtLSkge1xuICAgICAgICAgICAgaWYgKGlkeCA9PT0gMCkge1xuICAgICAgICAgICAgICB0ZXN0QnJvYWREb21haW4gPSBkb21haW5QYXJ0c1tpZHhdICsgdGVzdEJyb2FkRG9tYWluO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGVzdEJyb2FkRG9tYWluID0gJy4nICsgZG9tYWluUGFydHNbaWR4XSArIHRlc3RCcm9hZERvbWFpbjtcbiAgICAgICAgICAgIH0gLy8gb25seSBuZWVkZWQgaWYgdGhlIGNvb2tpZSBhbHJlYWR5IGV4aXN0cyBhbmQgbmVlZHMgdG8gYmUgdXBkYXRlZC4gU2VlIG5vdGUgYWJvdmUuXG5cblxuICAgICAgICAgICAgaWYgKHRoaXMucmVhZENvb2tpZShuYW1lKSkge1xuICAgICAgICAgICAgICAvLyBubyBndWFyYW50ZWUgdGhhdCBicm93c2VyIHdpbGwgZGVsZXRlIGNvb2tpZSwgaGVuY2UgY3JlYXRlIHNob3J0IGxpdmVkIGNvb2tpZXNcbiAgICAgICAgICAgICAgdmFyIHRlc3RDb29raWVOYW1lID0gJ3Rlc3RfJyArIG5hbWUgKyBpZHg7XG4gICAgICAgICAgICAgIHRoaXMuY3JlYXRlQ29va2llKHRlc3RDb29raWVOYW1lLCB2YWx1ZSwgMTAsIHRlc3RCcm9hZERvbWFpbik7IC8vIHNlbGYtZGVzdHJ1Y3QgYWZ0ZXIgMTAgc2Vjb25kc1xuXG4gICAgICAgICAgICAgIGlmICghdGhpcy5yZWFkQ29va2llKHRlc3RDb29raWVOYW1lKSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRlc3QgY29va2llIG5vdCBzZXQsIHRoZW4gdGhlIGFjdHVhbCBjb29raWUgd291bGRuJ3QgaGF2ZSBiZWVuIHNldCBvbiB0aGlzIGRvbWFpbiBlaXRoZXIuXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZWxzZSBpZiBjb29raWUgc2V0LCB0aGVuIGRlbGV0ZSB0aGUgdGVzdCBhbmQgdGhlIG9yaWdpbmFsIGNvb2tpZVxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ29va2llKHRlc3RDb29raWVOYW1lLCB0ZXN0QnJvYWREb21haW4pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQ29va2llKG5hbWUsIHZhbHVlLCBzZWNvbmRzLCB0ZXN0QnJvYWREb21haW4pO1xuICAgICAgICAgICAgY29uc3QgdGVtcENvb2tpZSA9IHRoaXMucmVhZENvb2tpZShuYW1lKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXG4gICAgICAgICAgICBpZiAodGVtcENvb2tpZSA9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICBicm9hZERvbWFpbiA9IHRlc3RCcm9hZERvbWFpbjtcbiAgICAgICAgICAgICAgJGN0LmJyb2FkRG9tYWluID0gYnJvYWREb21haW47XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmNyZWF0ZUNvb2tpZShuYW1lLCB2YWx1ZSwgc2Vjb25kcywgYnJvYWREb21haW4pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNyZWF0ZUNvb2tpZShuYW1lLCB2YWx1ZSwgc2Vjb25kcywgZG9tYWluKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0TWV0YVByb3AocHJvcGVydHkpIHtcbiAgICAgIGNvbnN0IG1ldGFPYmogPSB0aGlzLnJlYWRGcm9tTFNvckNvb2tpZShNRVRBX0NPT0tJRSk7XG5cbiAgICAgIGlmIChtZXRhT2JqICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG1ldGFPYmpbcHJvcGVydHldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBzZXRNZXRhUHJvcChwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAgIGxldCB3enJrTWV0YU9iaiA9IHRoaXMucmVhZEZyb21MU29yQ29va2llKE1FVEFfQ09PS0lFKTtcblxuICAgICAgICBpZiAod3pya01ldGFPYmogPT0gbnVsbCkge1xuICAgICAgICAgIHd6cmtNZXRhT2JqID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGRlbGV0ZSB3enJrTWV0YU9ialtwcm9wZXJ0eV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd3pya01ldGFPYmpbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNhdmVUb0xTb3JDb29raWUoTUVUQV9DT09LSUUsIHd6cmtNZXRhT2JqKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0QW5kQ2xlYXJNZXRhUHJvcChwcm9wZXJ0eSkge1xuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldE1ldGFQcm9wKHByb3BlcnR5KTtcbiAgICAgIHRoaXMuc2V0TWV0YVByb3AocHJvcGVydHksIHVuZGVmaW5lZCk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgc3RhdGljIHNldEluc3RhbnREZWxldGVGbGFnSW5LKCkge1xuICAgICAgbGV0IGsgPSB0aGlzLnJlYWRGcm9tTFNvckNvb2tpZShLQ09PS0lFX05BTUUpO1xuXG4gICAgICBpZiAoayA9PSBudWxsKSB7XG4gICAgICAgIGsgPSB7fTtcbiAgICAgIH1cblxuICAgICAgay5mbGFnID0gdHJ1ZTtcbiAgICAgIHRoaXMuc2F2ZVRvTFNvckNvb2tpZShLQ09PS0lFX05BTUUsIGspO1xuICAgIH1cblxuICAgIHN0YXRpYyBiYWNrdXBFdmVudChkYXRhLCByZXFObywgbG9nZ2VyKSB7XG4gICAgICBsZXQgYmFja3VwQXJyID0gdGhpcy5yZWFkRnJvbUxTb3JDb29raWUoTENPT0tJRV9OQU1FKTtcblxuICAgICAgaWYgKHR5cGVvZiBiYWNrdXBBcnIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGJhY2t1cEFyciA9IHt9O1xuICAgICAgfVxuXG4gICAgICBiYWNrdXBBcnJbcmVxTm9dID0ge1xuICAgICAgICBxOiBkYXRhXG4gICAgICB9O1xuICAgICAgdGhpcy5zYXZlVG9MU29yQ29va2llKExDT09LSUVfTkFNRSwgYmFja3VwQXJyKTtcbiAgICAgIGxvZ2dlci5kZWJ1ZyhcInN0b3JlZCBpbiBcIi5jb25jYXQoTENPT0tJRV9OQU1FLCBcIiByZXFObyA6IFwiKS5jb25jYXQocmVxTm8sIFwiIC0+IFwiKS5jb25jYXQoZGF0YSkpO1xuICAgIH1cblxuICAgIHN0YXRpYyByZW1vdmVCYWNrdXAocmVzcE5vLCBsb2dnZXIpIHtcbiAgICAgIGNvbnN0IGJhY2t1cE1hcCA9IHRoaXMucmVhZEZyb21MU29yQ29va2llKExDT09LSUVfTkFNRSk7XG5cbiAgICAgIGlmICh0eXBlb2YgYmFja3VwTWFwICE9PSAndW5kZWZpbmVkJyAmJiBiYWNrdXBNYXAgIT09IG51bGwgJiYgdHlwZW9mIGJhY2t1cE1hcFtyZXNwTm9dICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBsb2dnZXIuZGVidWcoXCJkZWwgZXZlbnQ6IFwiLmNvbmNhdChyZXNwTm8sIFwiIGRhdGEtPiBcIikuY29uY2F0KGJhY2t1cE1hcFtyZXNwTm9dLnEpKTtcbiAgICAgICAgZGVsZXRlIGJhY2t1cE1hcFtyZXNwTm9dO1xuICAgICAgICB0aGlzLnNhdmVUb0xTb3JDb29raWUoTENPT0tJRV9OQU1FLCBiYWNrdXBNYXApO1xuICAgICAgfVxuICAgIH1cblxuICB9XG4gIGNvbnN0ICRjdCA9IHtcbiAgICBnbG9iYWxDYWNoZToge1xuICAgICAgZ2Nvb2tpZTogbnVsbCxcbiAgICAgIFJFUV9OOiAwLFxuICAgICAgUkVTUF9OOiAwXG4gICAgfSxcbiAgICBMUlVfQ0FDSEU6IG51bGwsXG4gICAgZ2xvYmFsUHJvZmlsZU1hcDogdW5kZWZpbmVkLFxuICAgIGdsb2JhbEV2ZW50c01hcDogdW5kZWZpbmVkLFxuICAgIGJsb2NrUmVxdWVzdDogZmFsc2UsXG4gICAgaXNPcHRJblJlcXVlc3Q6IGZhbHNlLFxuICAgIGJyb2FkRG9tYWluOiBudWxsLFxuICAgIHdlYlB1c2hFbmFibGVkOiBudWxsLFxuICAgIGNhbXBhaWduRGl2TWFwOiB7fSxcbiAgICBjdXJyZW50U2Vzc2lvbklkOiBudWxsLFxuICAgIHdpel9jb3VudGVyOiAwLFxuICAgIC8vIHRvIGtlZXAgdHJhY2sgb2YgbnVtYmVyIG9mIHRpbWVzIHdlIGxvYWQgdGhlIGJvZHlcbiAgICBub3RpZkFwaToge1xuICAgICAgbm90aWZFbmFibGVkRnJvbUFwaTogZmFsc2VcbiAgICB9LFxuICAgIC8vIGhlbHBlciB2YXJpYWJsZSB0byBoYW5kbGUgcmFjZSBjb25kaXRpb24gYW5kIGNoZWNrIHdoZW4gbm90aWZpY2F0aW9ucyB3ZXJlIGNhbGxlZFxuICAgIHVuc3ViR3JvdXBzOiBbXSxcbiAgICB1cGRhdGVkQ2F0ZWdvcnlMb25nOiBudWxsLFxuICAgIGluYm94OiBudWxsLFxuICAgIGlzUHJpdmFjeUFyclB1c2hlZDogZmFsc2UsXG4gICAgcHJpdmFjeUFycmF5OiBbXSxcbiAgICBvZmZsaW5lOiBmYWxzZSxcbiAgICBsb2NhdGlvbjogbnVsbCxcbiAgICBkaXNtaXNzU3BhbUNvbnRyb2w6IGZhbHNlLFxuICAgIGdsb2JhbFVuc3Vic2NyaWJlOiB0cnVlLFxuICAgIGZsdXR0ZXJWZXJzaW9uOiBudWxsLFxuICAgIHZhcmlhYmxlU3RvcmU6IHt9IC8vIGRvbWFpbjogd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLCB1cmwgLT4gZ2V0SG9zdE5hbWUoKVxuICAgIC8vIGdjb29raWU6IC0+IGRldmljZVxuXG4gIH07XG5cbiAgdmFyIF9rZXlPcmRlciA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwia2V5T3JkZXJcIik7XG5cbiAgdmFyIF9kZWxldGVGcm9tT2JqZWN0ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJkZWxldGVGcm9tT2JqZWN0XCIpO1xuXG4gIGNsYXNzIExSVUNhY2hlIHtcbiAgICBjb25zdHJ1Y3RvcihtYXgpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfZGVsZXRlRnJvbU9iamVjdCwge1xuICAgICAgICB2YWx1ZTogX2RlbGV0ZUZyb21PYmplY3QyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfa2V5T3JkZXIsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgdGhpcy5tYXggPSBtYXg7XG4gICAgICBsZXQgbHJ1Q2FjaGUgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoTFJVX0NBQ0hFKTtcblxuICAgICAgaWYgKGxydUNhY2hlKSB7XG4gICAgICAgIGNvbnN0IHRlbXBMcnVDYWNoZSA9IHt9O1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2tleU9yZGVyKVtfa2V5T3JkZXJdID0gW107XG4gICAgICAgIGxydUNhY2hlID0gbHJ1Q2FjaGUuY2FjaGU7XG5cbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBpbiBscnVDYWNoZSkge1xuICAgICAgICAgIGlmIChscnVDYWNoZS5oYXNPd25Qcm9wZXJ0eShlbnRyeSkpIHtcbiAgICAgICAgICAgIHRlbXBMcnVDYWNoZVtscnVDYWNoZVtlbnRyeV1bMF1dID0gbHJ1Q2FjaGVbZW50cnldWzFdO1xuXG4gICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2tleU9yZGVyKVtfa2V5T3JkZXJdLnB1c2gobHJ1Q2FjaGVbZW50cnldWzBdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhY2hlID0gdGVtcExydUNhY2hlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jYWNoZSA9IHt9O1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2tleU9yZGVyKVtfa2V5T3JkZXJdID0gW107XG4gICAgICB9XG4gICAgfVxuXG4gICAgZ2V0KGtleSkge1xuICAgICAgY29uc3QgaXRlbSA9IHRoaXMuY2FjaGVba2V5XTtcblxuICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgdGhpcy5jYWNoZSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGVsZXRlRnJvbU9iamVjdClbX2RlbGV0ZUZyb21PYmplY3RdKGtleSwgdGhpcy5jYWNoZSk7XG4gICAgICAgIHRoaXMuY2FjaGVba2V5XSA9IGl0ZW07XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9rZXlPcmRlcilbX2tleU9yZGVyXS5wdXNoKGtleSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2F2ZUNhY2hlVG9MUyh0aGlzLmNhY2hlKTtcbiAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cblxuICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICBjb25zdCBpdGVtID0gdGhpcy5jYWNoZVtrZXldO1xuXG4gICAgICBjb25zdCBhbGxLZXlzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9rZXlPcmRlcilbX2tleU9yZGVyXTtcblxuICAgICAgaWYgKGl0ZW0gIT0gbnVsbCkge1xuICAgICAgICB0aGlzLmNhY2hlID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZWxldGVGcm9tT2JqZWN0KVtfZGVsZXRlRnJvbU9iamVjdF0oa2V5LCB0aGlzLmNhY2hlKTtcbiAgICAgIH0gZWxzZSBpZiAoYWxsS2V5cy5sZW5ndGggPT09IHRoaXMubWF4KSB7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RlbGV0ZUZyb21PYmplY3QpW19kZWxldGVGcm9tT2JqZWN0XShhbGxLZXlzWzBdLCB0aGlzLmNhY2hlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYWNoZVtrZXldID0gdmFsdWU7XG5cbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2tleU9yZGVyKVtfa2V5T3JkZXJdW19jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfa2V5T3JkZXIpW19rZXlPcmRlcl0gLSAxXSAhPT0ga2V5KSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfa2V5T3JkZXIpW19rZXlPcmRlcl0ucHVzaChrZXkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNhdmVDYWNoZVRvTFModGhpcy5jYWNoZSk7XG4gICAgfVxuXG4gICAgc2F2ZUNhY2hlVG9MUyhjYWNoZSkge1xuICAgICAgY29uc3Qgb2JqVG9BcnJheSA9IFtdO1xuXG4gICAgICBjb25zdCBhbGxLZXlzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9rZXlPcmRlcilbX2tleU9yZGVyXTtcblxuICAgICAgZm9yIChjb25zdCBpbmRleCBpbiBhbGxLZXlzKSB7XG4gICAgICAgIGlmIChhbGxLZXlzLmhhc093blByb3BlcnR5KGluZGV4KSkge1xuICAgICAgICAgIGNvbnN0IHRlbXAgPSBbXTtcbiAgICAgICAgICB0ZW1wLnB1c2goYWxsS2V5c1tpbmRleF0pO1xuICAgICAgICAgIHRlbXAucHVzaChjYWNoZVthbGxLZXlzW2luZGV4XV0pO1xuICAgICAgICAgIG9ialRvQXJyYXkucHVzaCh0ZW1wKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKExSVV9DQUNIRSwge1xuICAgICAgICBjYWNoZTogb2JqVG9BcnJheVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0S2V5KHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFsbEtleXMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2tleU9yZGVyKVtfa2V5T3JkZXJdO1xuXG4gICAgICBmb3IgKGNvbnN0IGluZGV4IGluIGFsbEtleXMpIHtcbiAgICAgICAgaWYgKGFsbEtleXMuaGFzT3duUHJvcGVydHkoaW5kZXgpKSB7XG4gICAgICAgICAgaWYgKHRoaXMuY2FjaGVbYWxsS2V5c1tpbmRleF1dID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFsbEtleXNbaW5kZXhdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBnZXRTZWNvbmRMYXN0S2V5KCkge1xuICAgICAgY29uc3Qga2V5c0FyciA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfa2V5T3JkZXIpW19rZXlPcmRlcl07XG5cbiAgICAgIGlmIChrZXlzQXJyICE9IG51bGwgJiYga2V5c0Fyci5sZW5ndGggPiAxKSB7XG4gICAgICAgIHJldHVybiBrZXlzQXJyW2tleXNBcnIubGVuZ3RoIC0gMl07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICBnZXRMYXN0S2V5KCkge1xuICAgICAgY29uc3Qga2V5c0xlbmd0aCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfa2V5T3JkZXIpW19rZXlPcmRlcl0ubGVuZ3RoO1xuXG4gICAgICBpZiAoa2V5c0xlbmd0aCkge1xuICAgICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9rZXlPcmRlcilbX2tleU9yZGVyXVtrZXlzTGVuZ3RoIC0gMV07XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICB2YXIgX2RlbGV0ZUZyb21PYmplY3QyID0gZnVuY3Rpb24gX2RlbGV0ZUZyb21PYmplY3QyKGtleSwgb2JqKSB7XG4gICAgY29uc3QgYWxsS2V5cyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9rZXlPcmRlcilbX2tleU9yZGVyXSkpO1xuICAgIGNvbnN0IG5ld0NhY2hlID0ge307XG4gICAgbGV0IGluZGV4VG9EZWxldGU7XG5cbiAgICBmb3IgKGNvbnN0IGluZGV4IGluIGFsbEtleXMpIHtcbiAgICAgIGlmIChhbGxLZXlzLmhhc093blByb3BlcnR5KGluZGV4KSkge1xuICAgICAgICBpZiAoYWxsS2V5c1tpbmRleF0gIT09IGtleSkge1xuICAgICAgICAgIG5ld0NhY2hlW2FsbEtleXNbaW5kZXhdXSA9IG9ialthbGxLZXlzW2luZGV4XV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5kZXhUb0RlbGV0ZSA9IGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgYWxsS2V5cy5zcGxpY2UoaW5kZXhUb0RlbGV0ZSwgMSk7XG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9rZXlPcmRlcilbX2tleU9yZGVyXSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYWxsS2V5cykpO1xuICAgIHJldHVybiBuZXdDYWNoZTtcbiAgfTtcblxuICB2YXIgX2xvZ2dlciA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwibG9nZ2VyXCIpO1xuXG4gIHZhciBfcmVxdWVzdCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicmVxdWVzdFwiKTtcblxuICB2YXIgX2RldmljZSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZGV2aWNlXCIpO1xuXG4gIHZhciBfc2Vzc2lvbiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwic2Vzc2lvblwiKTtcblxuICBjbGFzcyBDbGV2ZXJUYXBBUEkge1xuICAgIGNvbnN0cnVjdG9yKF9yZWYpIHtcbiAgICAgIGxldCB7XG4gICAgICAgIGxvZ2dlcixcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgZGV2aWNlLFxuICAgICAgICBzZXNzaW9uXG4gICAgICB9ID0gX3JlZjtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfbG9nZ2VyLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcmVxdWVzdCwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2RldmljZSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3Nlc3Npb24sIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIpW19sb2dnZXJdID0gbG9nZ2VyO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0KVtfcmVxdWVzdF0gPSByZXF1ZXN0O1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UpW19kZXZpY2VdID0gZGV2aWNlO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uKVtfc2Vzc2lvbl0gPSBzZXNzaW9uO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBnbG9iYWwgZ2Nvb2tpZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzZXNzaW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSByZXN1bWUgc2VudCB0cnVlIGluIGNhc2Ugb2YgYW4gT1VMIHJlcXVlc3QgZnJvbSBjbGllbnQgc2lkZSwgd2hpY2ggaXMgcmV0dXJuZWQgYXMgaXQgaXMgYnkgc2VydmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc3BOdW1iZXIgdGhlIGluZGV4IG9mIHRoZSByZXF1ZXN0IGluIGJhY2t1cG1hbmFnZXJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdE91dFJlc3BvbnNlXG4gICAgICogQHJldHVybnNcbiAgICAgKi9cblxuXG4gICAgcyhnbG9iYWwsIHNlc3Npb24sIHJlc3VtZSwgcmVzcE51bWJlciwgb3B0T3V0UmVzcG9uc2UpIHtcbiAgICAgIGxldCBvdWxSZXEgPSBmYWxzZTtcbiAgICAgIGxldCBuZXdHdWlkID0gZmFsc2U7IC8vIGZvciBhIHNjZW5hcmlvIHdoZW4gT1VMIHJlcXVlc3QgaXMgdHJ1ZSBmcm9tIGNsaWVudCBzaWRlXG4gICAgICAvLyBidXQgcmVzdW1lIGlzIHJldHVybmVkIGFzIGZhbHNlIGZyb20gc2VydmVyIGVuZFxuICAgICAgLy8gd2UgbWFpbnRhbiBhIE91bFJlcU4gdmFyIGluIHRoZSB3aW5kb3cgb2JqZWN0XG4gICAgICAvLyBhbmQgY29tcGFyZSB3aXRoIHJlc3BOdW1iZXIgdG8gZGV0ZXJtaW5lIHRoZSByZXNwb25zZSBvZiBhbiBPVUwgcmVxdWVzdFxuXG4gICAgICBpZiAod2luZG93LmlzT1VMSW5Qcm9ncmVzcykge1xuICAgICAgICBpZiAocmVzdW1lIHx8IHJlc3BOdW1iZXIgIT09ICd1bmRlZmluZWQnICYmIHJlc3BOdW1iZXIgPT09IHdpbmRvdy5vdWxSZXFOKSB7XG4gICAgICAgICAgd2luZG93LmlzT1VMSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICAgIG91bFJlcSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gY2FsbCBiYWNrIGZ1bmN0aW9uIHVzZWQgdG8gc3RvcmUgZ2xvYmFsIGFuZCBzZXNzaW9uIGlkcyBmb3IgdGhlIHVzZXJcblxuXG4gICAgICBpZiAodHlwZW9mIHJlc3BOdW1iZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJlc3BOdW1iZXIgPSAwO1xuICAgICAgfVxuXG4gICAgICBTdG9yYWdlTWFuYWdlci5yZW1vdmVCYWNrdXAocmVzcE51bWJlciwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIpW19sb2dnZXJdKTtcblxuICAgICAgaWYgKHJlc3BOdW1iZXIgPiAkY3QuZ2xvYmFsQ2FjaGUuUkVRX04pIHtcbiAgICAgICAgLy8gcmVxdWVzdCBmb3Igc29tZSBvdGhlciB1c2VyIHNvIGlnbm9yZVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNWYWx1ZVZhbGlkKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlKVtfZGV2aWNlXS5nY29va2llKSkge1xuICAgICAgICBpZiAoZ2xvYmFsKSB7XG4gICAgICAgICAgbmV3R3VpZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFpc1ZhbHVlVmFsaWQoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UpW19kZXZpY2VdLmdjb29raWUpIHx8IHJlc3VtZSB8fCB0eXBlb2Ygb3B0T3V0UmVzcG9uc2UgPT09ICdib29sZWFuJykge1xuICAgICAgICBjb25zdCBzZXNzaW9uT2JqID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uKVtfc2Vzc2lvbl0uZ2V0U2Vzc2lvbkNvb2tpZU9iamVjdCgpO1xuICAgICAgICAvKiAgSWYgdGhlIHJlY2VpdmVkIHNlc3Npb24gaXMgbGVzcyB0aGFuIHRoZSBzZXNzaW9uIGluIHRoZSBjb29raWUsXG4gICAgICAgICAgICB0aGVuIGRvbid0IHVwZGF0ZSBndWlkIGFzIGl0IHdpbGwgYmUgcmVzcG9uc2UgZm9yIG9sZCByZXF1ZXN0XG4gICAgICAgICovXG5cblxuICAgICAgICBpZiAod2luZG93LmlzT1VMSW5Qcm9ncmVzcyB8fCBzZXNzaW9uT2JqLnMgJiYgc2Vzc2lvbiA8IHNlc3Npb25PYmoucykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyKVtfbG9nZ2VyXS5kZWJ1ZyhcIkNvb2tpZSB3YXMgXCIuY29uY2F0KF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlKVtfZGV2aWNlXS5nY29va2llLCBcIiBzZXQgdG8gXCIpLmNvbmNhdChnbG9iYWwpKTtcblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSlbX2RldmljZV0uZ2Nvb2tpZSA9IGdsb2JhbDtcblxuICAgICAgICBpZiAoIWlzVmFsdWVWYWxpZChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSlbX2RldmljZV0uZ2Nvb2tpZSkpIHtcbiAgICAgICAgICAvLyBjbGVhciB1c2VJUCBtZXRhIHByb3BcbiAgICAgICAgICBTdG9yYWdlTWFuYWdlci5nZXRBbmRDbGVhck1ldGFQcm9wKFVTRUlQX0tFWSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2xvYmFsICYmIFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgaWYgKCRjdC5MUlVfQ0FDSEUgPT0gbnVsbCkge1xuICAgICAgICAgICAgJGN0LkxSVV9DQUNIRSA9IG5ldyBMUlVDYWNoZShMUlVfQ0FDSEVfU0laRSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3Qga0lkRnJvbUxTID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKEtDT09LSUVfTkFNRSk7XG4gICAgICAgICAgbGV0IGd1aWRGcm9tTFJVQ2FjaGU7XG5cbiAgICAgICAgICBpZiAoa0lkRnJvbUxTICE9IG51bGwgJiYga0lkRnJvbUxTLmlkKSB7XG4gICAgICAgICAgICBndWlkRnJvbUxSVUNhY2hlID0gJGN0LkxSVV9DQUNIRS5jYWNoZVtrSWRGcm9tTFMuaWRdO1xuXG4gICAgICAgICAgICBpZiAocmVzdW1lKSB7XG4gICAgICAgICAgICAgIGlmICghZ3VpZEZyb21MUlVDYWNoZSkge1xuICAgICAgICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoRklSRV9QVVNIX1VOUkVHSVNURVJFRCwgdHJ1ZSk7IC8vIHJlcGxhY2UgbG9naW4gaWRlbnRpdHkgaW4gT1VMIHJlcXVlc3RcbiAgICAgICAgICAgICAgICAvLyB3aXRoIHRoZSBnY29va2llIHJldHVybmVkIGluIGV4Y2hhbmdlXG5cbiAgICAgICAgICAgICAgICAkY3QuTFJVX0NBQ0hFLnNldChrSWRGcm9tTFMuaWQsIGdsb2JhbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEdDT09LSUVfTkFNRSwgZ2xvYmFsKTsgLy8gbGFzdGsgcHJvdmlkZXMgdGhlIGd1aWRcblxuICAgICAgICAgIGNvbnN0IGxhc3RLID0gJGN0LkxSVV9DQUNIRS5nZXRTZWNvbmRMYXN0S2V5KCk7XG5cbiAgICAgICAgICBpZiAoU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKEZJUkVfUFVTSF9VTlJFR0lTVEVSRUQpICYmIGxhc3RLICE9PSAtMSkge1xuICAgICAgICAgICAgY29uc3QgbGFzdEdVSUQgPSAkY3QuTFJVX0NBQ0hFLmNhY2hlW2xhc3RLXTsgLy8gZmlyZSB0aGUgcmVxdWVzdCBkaXJlY3RseSB2aWEgZmlyZVJlcXVlc3QgdG8gdW5yZWdpc3RlciB0aGUgdG9rZW5cbiAgICAgICAgICAgIC8vIHRoZW4gb3RoZXIgcmVxdWVzdHMgd2l0aCB0aGUgdXBkYXRlZCBndWlkIHNob3VsZCBmb2xsb3dcblxuICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0KVtfcmVxdWVzdF0udW5yZWdpc3RlclRva2VuRm9yR3VpZChsYXN0R1VJRCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgU3RvcmFnZU1hbmFnZXIuY3JlYXRlQnJvYWRDb29raWUoR0NPT0tJRV9OQU1FLCBnbG9iYWwsIENPT0tJRV9FWFBJUlksIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSk7XG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoR0NPT0tJRV9OQU1FLCBnbG9iYWwpO1xuICAgICAgfVxuXG4gICAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uKVtfc2Vzc2lvbl0ubWFuYWdlU2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgIH0gLy8gc2Vzc2lvbiBjb29raWVcblxuXG4gICAgICBjb25zdCBvYmogPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24pW19zZXNzaW9uXS5nZXRTZXNzaW9uQ29va2llT2JqZWN0KCk7IC8vIGZvciB0aGUgcmFjZS1jb25kaXRpb24gd2hlcmUgdHdvIHJlc3BvbnNlcyBjb21lIGJhY2sgd2l0aCBkaWZmZXJlbnQgc2Vzc2lvbiBpZHMuIGRvbid0IHdyaXRlIHRoZSBvbGRlciBzZXNzaW9uIGlkLlxuXG5cbiAgICAgIGlmICh0eXBlb2Ygb2JqLnMgPT09ICd1bmRlZmluZWQnIHx8IG9iai5zIDw9IHNlc3Npb24pIHtcbiAgICAgICAgb2JqLnMgPSBzZXNzaW9uO1xuICAgICAgICBvYmoudCA9IGdldE5vdygpOyAvLyB0aW1lIG9mIGxhc3QgcmVzcG9uc2UgZnJvbSBzZXJ2ZXJcblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24pW19zZXNzaW9uXS5zZXRTZXNzaW9uQ29va2llT2JqZWN0KG9iaik7XG4gICAgICB9IC8vIHNldCBibG9ja1JlcXVlc3QgdG8gZmFsc2Ugb25seSBpZiB0aGUgZGV2aWNlIGhhcyBhIHZhbGlkIGdjb29raWVcblxuXG4gICAgICBpZiAoaXNWYWx1ZVZhbGlkKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlKVtfZGV2aWNlXS5nY29va2llKSkge1xuICAgICAgICAkY3QuYmxvY2tSZXF1ZXN0ID0gZmFsc2U7XG4gICAgICB9IC8vIG9ubHkgcHJvY2VzcyB0aGUgYmFja3VwIGV2ZW50cyBhZnRlciBhbiBPVUwgcmVxdWVzdCBvciBhIG5ldyBndWlkIGlzIHJlY2lldmVkXG5cblxuICAgICAgaWYgKChvdWxSZXEgfHwgbmV3R3VpZCkgJiYgIV9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdClbX3JlcXVlc3RdLnByb2Nlc3NpbmdCYWNrdXApIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0KVtfcmVxdWVzdF0ucHJvY2Vzc0JhY2t1cEV2ZW50cygpO1xuICAgICAgfVxuXG4gICAgICAkY3QuZ2xvYmFsQ2FjaGUuUkVTUF9OID0gcmVzcE51bWJlcjtcbiAgICB9XG5cbiAgfVxuXG4gIHZhciBfbG9nZ2VyJDEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImxvZ2dlclwiKTtcblxuICBjbGFzcyBEZXZpY2VNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcihfcmVmKSB7XG4gICAgICBsZXQge1xuICAgICAgICBsb2dnZXJcbiAgICAgIH0gPSBfcmVmO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9sb2dnZXIkMSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICB0aGlzLmdjb29raWUgPSB2b2lkIDA7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQxKVtfbG9nZ2VyJDFdID0gbG9nZ2VyO1xuICAgICAgdGhpcy5nY29va2llID0gdGhpcy5nZXRHdWlkKCk7XG4gICAgfVxuXG4gICAgZ2V0R3VpZCgpIHtcbiAgICAgIGxldCBndWlkID0gbnVsbDtcblxuICAgICAgaWYgKGlzVmFsdWVWYWxpZCh0aGlzLmdjb29raWUpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdjb29raWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWQoR0NPT0tJRV9OQU1FKTtcblxuICAgICAgICBpZiAoaXNWYWx1ZVZhbGlkKHZhbHVlKSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBndWlkID0gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQxKVtfbG9nZ2VyJDFdLmRlYnVnKCdDYW5ub3QgcGFyc2UgR2Nvb2tpZSBmcm9tIGxvY2Fsc3RvcmFnZSAtIG11c3QgYmUgZW5jb2RlZCAnICsgdmFsdWUpOyAvLyBhc3N1bW1pbmcgZ3VpZHMgYXJlIG9mIHNpemUgMzIuIHN1cHBvcnRpbmcgYm90aCBmb3JtYXRzLlxuICAgICAgICAgICAgLy8gZ3VpZCBjYW4gaGF2ZSBlbmNvZGVkVVJJQ29tcG9uZW50IG9yIGJlIHdpdGhvdXQgaXQuXG4gICAgICAgICAgICAvLyAxLjU2ZTQwNzhlZDE1NzQ5OTI4YzA0MjQ3OWVjMmI0ZDQ3IC0gYnJlYWtzIG9uIEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KCkpXG4gICAgICAgICAgICAvLyAyLiUyMjU2ZTQwNzhlZDE1NzQ5OTI4YzA0MjQ3OWVjMmI0ZDQ3JTIyXG5cblxuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMzIpIHtcbiAgICAgICAgICAgICAgZ3VpZCA9IHZhbHVlO1xuICAgICAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEdDT09LSUVfTkFNRSwgdmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkMSlbX2xvZ2dlciQxXS5lcnJvcignSWxsZWdhbCBndWlkICcgKyB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBQZXJzaXN0IHRvIGNvb2tpZSBzdG9yYWdlIGlmIG5vdCBwcmVzZW50IHRoZXJlLlxuXG5cbiAgICAgICAgICBpZiAoaXNWYWx1ZVZhbGlkKGd1aWQpKSB7XG4gICAgICAgICAgICBTdG9yYWdlTWFuYWdlci5jcmVhdGVCcm9hZENvb2tpZShHQ09PS0lFX05BTUUsIGd1aWQsIENPT0tJRV9FWFBJUlksIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNWYWx1ZVZhbGlkKGd1aWQpKSB7XG4gICAgICAgIGd1aWQgPSBTdG9yYWdlTWFuYWdlci5yZWFkQ29va2llKEdDT09LSUVfTkFNRSk7XG5cbiAgICAgICAgaWYgKGlzVmFsdWVWYWxpZChndWlkKSAmJiAoZ3VpZC5pbmRleE9mKCclJykgPT09IDAgfHwgZ3VpZC5pbmRleE9mKCdcXCcnKSA9PT0gMCB8fCBndWlkLmluZGV4T2YoJ1wiJykgPT09IDApKSB7XG4gICAgICAgICAgZ3VpZCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNWYWx1ZVZhbGlkKGd1aWQpKSB7XG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShHQ09PS0lFX05BTUUsIGd1aWQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBndWlkO1xuICAgIH1cblxuICB9XG5cbiAgY29uc3QgREFUQV9OT1RfU0VOVF9URVhUID0gJ1RoaXMgcHJvcGVydHkgaGFzIGJlZW4gaWdub3JlZC4nO1xuICBjb25zdCBDTEVWRVJUQVBfRVJST1JfUFJFRklYID0gJ0NsZXZlclRhcCBlcnJvcjonOyAvLyBGb3JtZXJseSB3enJrX2Vycm9yX3R4dFxuXG4gIGNvbnN0IEVNQkVEX0VSUk9SID0gXCJcIi5jb25jYXQoQ0xFVkVSVEFQX0VSUk9SX1BSRUZJWCwgXCIgSW5jb3JyZWN0IGVtYmVkIHNjcmlwdC5cIik7XG4gIGNvbnN0IEVWRU5UX0VSUk9SID0gXCJcIi5jb25jYXQoQ0xFVkVSVEFQX0VSUk9SX1BSRUZJWCwgXCIgRXZlbnQgc3RydWN0dXJlIG5vdCB2YWxpZC4gXCIpLmNvbmNhdChEQVRBX05PVF9TRU5UX1RFWFQpO1xuICBjb25zdCBHRU5ERVJfRVJST1IgPSBcIlwiLmNvbmNhdChDTEVWRVJUQVBfRVJST1JfUFJFRklYLCBcIiBHZW5kZXIgdmFsdWUgc2hvdWxkIGJlIGVpdGhlciBNIG9yIEYuIFwiKS5jb25jYXQoREFUQV9OT1RfU0VOVF9URVhUKTtcbiAgY29uc3QgRU1QTE9ZRURfRVJST1IgPSBcIlwiLmNvbmNhdChDTEVWRVJUQVBfRVJST1JfUFJFRklYLCBcIiBFbXBsb3llZCB2YWx1ZSBzaG91bGQgYmUgZWl0aGVyIFkgb3IgTi4gXCIpLmNvbmNhdChEQVRBX05PVF9TRU5UX1RFWFQpO1xuICBjb25zdCBNQVJSSUVEX0VSUk9SID0gXCJcIi5jb25jYXQoQ0xFVkVSVEFQX0VSUk9SX1BSRUZJWCwgXCIgTWFycmllZCB2YWx1ZSBzaG91bGQgYmUgZWl0aGVyIFkgb3IgTi4gXCIpLmNvbmNhdChEQVRBX05PVF9TRU5UX1RFWFQpO1xuICBjb25zdCBFRFVDQVRJT05fRVJST1IgPSBcIlwiLmNvbmNhdChDTEVWRVJUQVBfRVJST1JfUFJFRklYLCBcIiBFZHVjYXRpb24gdmFsdWUgc2hvdWxkIGJlIGVpdGhlciBTY2hvb2wsIENvbGxlZ2Ugb3IgR3JhZHVhdGUuIFwiKS5jb25jYXQoREFUQV9OT1RfU0VOVF9URVhUKTtcbiAgY29uc3QgQUdFX0VSUk9SID0gXCJcIi5jb25jYXQoQ0xFVkVSVEFQX0VSUk9SX1BSRUZJWCwgXCIgQWdlIHZhbHVlIHNob3VsZCBiZSBhIG51bWJlci4gXCIpLmNvbmNhdChEQVRBX05PVF9TRU5UX1RFWFQpO1xuICBjb25zdCBET0JfRVJST1IgPSBcIlwiLmNvbmNhdChDTEVWRVJUQVBfRVJST1JfUFJFRklYLCBcIiBET0IgdmFsdWUgc2hvdWxkIGJlIGEgRGF0ZSBPYmplY3RcIik7XG4gIGNvbnN0IEVOVU1fRk9STUFUX0VSUk9SID0gXCJcIi5jb25jYXQoQ0xFVkVSVEFQX0VSUk9SX1BSRUZJWCwgXCIgc2V0RW51bSh2YWx1ZSkuIHZhbHVlIHNob3VsZCBiZSBhIHN0cmluZyBvciBhIG51bWJlclwiKTtcbiAgY29uc3QgUEhPTkVfRk9STUFUX0VSUk9SID0gXCJcIi5jb25jYXQoQ0xFVkVSVEFQX0VSUk9SX1BSRUZJWCwgXCIgUGhvbmUgbnVtYmVyIHNob3VsZCBiZSBmb3JtYXR0ZWQgYXMgK1tjb3VudHJ5IGNvZGVdW251bWJlcl1cIik7XG5cbiAgbGV0IF9nbG9iYWxDaGFyZ2VkSWQ7XG5cbiAgY29uc3QgaXNFdmVudFN0cnVjdHVyZUZsYXQgPSBldmVudE9iaiA9PiB7XG4gICAgLy8gRXZlbnRzIGNhbm5vdCBoYXZlIG5lc3RlZCBzdHJ1Y3R1cmUgb3IgQXJyYXlzXG4gICAgaWYgKGlzT2JqZWN0KGV2ZW50T2JqKSkge1xuICAgICAgZm9yICh2YXIga2V5IGluIGV2ZW50T2JqKSB7XG4gICAgICAgIGlmIChldmVudE9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgaWYgKGlzT2JqZWN0KGV2ZW50T2JqW2tleV0pIHx8IEFycmF5LmlzQXJyYXkoZXZlbnRPYmpba2V5XSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzRGF0ZU9iamVjdChldmVudE9ialtrZXldKSkge1xuICAgICAgICAgICAgZXZlbnRPYmpba2V5XSA9IGNvbnZlcnRUb1daUktEYXRlKGV2ZW50T2JqW2tleV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIGNvbnN0IGlzQ2hhcmdlZEV2ZW50U3RydWN0dXJlVmFsaWQgPSAoY2hhcmdlZE9iaiwgbG9nZ2VyKSA9PiB7XG4gICAgaWYgKGlzT2JqZWN0KGNoYXJnZWRPYmopKSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gY2hhcmdlZE9iaikge1xuICAgICAgICBpZiAoY2hhcmdlZE9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ0l0ZW1zJykge1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGNoYXJnZWRPYmpba2V5XSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2hhcmdlZE9ialtrZXldLmxlbmd0aCA+IDUwKSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5yZXBvcnRFcnJvcig1MjIsICdDaGFyZ2VkIEl0ZW1zIGV4Y2VlZCA1MCBsaW1pdC4gQWN0dWFsIGNvdW50OiAnICsgY2hhcmdlZE9ialtrZXldLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIGl0ZW1LZXkgaW4gY2hhcmdlZE9ialtrZXldKSB7XG4gICAgICAgICAgICAgIGlmIChjaGFyZ2VkT2JqW2tleV0uaGFzT3duUHJvcGVydHkoaXRlbUtleSkpIHtcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSBkZWZhdWx0IGFycmF5IGltcGxlbWVudGF0aW9uIGNvdWxkIGJlIG92ZXJyaWRkZW4gLSBlLmcuIFRlYWJveCBzaXRlXG4gICAgICAgICAgICAgICAgaWYgKCFpc09iamVjdChjaGFyZ2VkT2JqW2tleV1baXRlbUtleV0pIHx8ICFpc0V2ZW50U3RydWN0dXJlRmxhdChjaGFyZ2VkT2JqW2tleV1baXRlbUtleV0pKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChpc09iamVjdChjaGFyZ2VkT2JqW2tleV0pIHx8IEFycmF5LmlzQXJyYXkoY2hhcmdlZE9ialtrZXldKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzRGF0ZU9iamVjdChjaGFyZ2VkT2JqW2tleV0pKSB7XG4gICAgICAgICAgICAgIGNoYXJnZWRPYmpba2V5XSA9IGNvbnZlcnRUb1daUktEYXRlKGNoYXJnZWRPYmpba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1N0cmluZyhjaGFyZ2VkT2JqW0NIQVJHRURfSURdKSB8fCBpc051bWJlcihjaGFyZ2VkT2JqW0NIQVJHRURfSURdKSkge1xuICAgICAgICAvLyBzYXZlIGNoYXJnZWQgSWRcbiAgICAgICAgY29uc3QgY2hhcmdlZElkID0gY2hhcmdlZE9ialtDSEFSR0VEX0lEXSArICcnOyAvLyBjYXN0aW5nIGNoYXJnZWRJZCB0byBzdHJpbmdcblxuICAgICAgICBpZiAodHlwZW9mIF9nbG9iYWxDaGFyZ2VkSWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgX2dsb2JhbENoYXJnZWRJZCA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShDSEFSR0VESURfQ09PS0lFX05BTUUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBfZ2xvYmFsQ2hhcmdlZElkICE9PSAndW5kZWZpbmVkJyAmJiBfZ2xvYmFsQ2hhcmdlZElkLnRyaW0oKSA9PT0gY2hhcmdlZElkLnRyaW0oKSkge1xuICAgICAgICAgIC8vIGRyb3AgZXZlbnQtIGR1cGxpY2F0ZSBjaGFyZ2VkIGlkXG4gICAgICAgICAgbG9nZ2VyLmVycm9yKCdEdXBsaWNhdGUgY2hhcmdlZCBJZCAtIERyb3BwZWQnICsgY2hhcmdlZE9iaik7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgX2dsb2JhbENoYXJnZWRJZCA9IGNoYXJnZWRJZDtcbiAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShDSEFSR0VESURfQ09PS0lFX05BTUUsIGNoYXJnZWRJZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gLy8gaWYgb2JqZWN0IChjaGFyZ2VkT2JqZWN0KVxuXG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgdmFyIF9sb2dnZXIkMiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwibG9nZ2VyXCIpO1xuXG4gIHZhciBfb2xkVmFsdWVzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJvbGRWYWx1ZXNcIik7XG5cbiAgdmFyIF9yZXF1ZXN0JDEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInJlcXVlc3RcIik7XG5cbiAgdmFyIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiaXNQZXJzb25hbGlzYXRpb25BY3RpdmVcIik7XG5cbiAgdmFyIF9wcm9jZXNzRXZlbnRBcnJheSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicHJvY2Vzc0V2ZW50QXJyYXlcIik7XG5cbiAgY2xhc3MgRXZlbnRIYW5kbGVyIGV4dGVuZHMgQXJyYXkge1xuICAgIGNvbnN0cnVjdG9yKF9yZWYsIHZhbHVlcykge1xuICAgICAgbGV0IHtcbiAgICAgICAgbG9nZ2VyLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZVxuICAgICAgfSA9IF9yZWY7XG4gICAgICBzdXBlcigpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9wcm9jZXNzRXZlbnRBcnJheSwge1xuICAgICAgICB2YWx1ZTogX3Byb2Nlc3NFdmVudEFycmF5MlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2xvZ2dlciQyLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfb2xkVmFsdWVzLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcmVxdWVzdCQxLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkMilbX2xvZ2dlciQyXSA9IGxvZ2dlcjtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzKVtfb2xkVmFsdWVzXSA9IHZhbHVlcztcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQxKVtfcmVxdWVzdCQxXSA9IHJlcXVlc3Q7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlKVtfaXNQZXJzb25hbGlzYXRpb25BY3RpdmVdID0gaXNQZXJzb25hbGlzYXRpb25BY3RpdmU7XG4gICAgfVxuXG4gICAgcHVzaCgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBldmVudHNBcnIgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGV2ZW50c0Fycltfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wcm9jZXNzRXZlbnRBcnJheSlbX3Byb2Nlc3NFdmVudEFycmF5XShldmVudHNBcnIpO1xuXG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBfcHJvY2Vzc09sZFZhbHVlcygpIHtcbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcylbX29sZFZhbHVlc10pIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wcm9jZXNzRXZlbnRBcnJheSlbX3Byb2Nlc3NFdmVudEFycmF5XShfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcylbX29sZFZhbHVlc10pO1xuICAgICAgfVxuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcylbX29sZFZhbHVlc10gPSBudWxsO1xuICAgIH1cblxuICAgIGdldERldGFpbHMoZXZ0TmFtZSkge1xuICAgICAgaWYgKCFfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlKVtfaXNQZXJzb25hbGlzYXRpb25BY3RpdmVdKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mICRjdC5nbG9iYWxFdmVudHNNYXAgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICRjdC5nbG9iYWxFdmVudHNNYXAgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoRVZfQ09PS0lFKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiAkY3QuZ2xvYmFsRXZlbnRzTWFwID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGV2dE9iaiA9ICRjdC5nbG9iYWxFdmVudHNNYXBbZXZ0TmFtZV07XG4gICAgICBjb25zdCByZXNwT2JqID0ge307XG5cbiAgICAgIGlmICh0eXBlb2YgZXZ0T2JqICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXNwT2JqLmZpcnN0VGltZSA9IG5ldyBEYXRlKGV2dE9ialsxXSAqIDEwMDApO1xuICAgICAgICByZXNwT2JqLmxhc3RUaW1lID0gbmV3IERhdGUoZXZ0T2JqWzJdICogMTAwMCk7XG4gICAgICAgIHJlc3BPYmouY291bnQgPSBldnRPYmpbMF07XG4gICAgICAgIHJldHVybiByZXNwT2JqO1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgdmFyIF9wcm9jZXNzRXZlbnRBcnJheTIgPSBmdW5jdGlvbiBfcHJvY2Vzc0V2ZW50QXJyYXkyKGV2ZW50c0Fycikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGV2ZW50c0FycikpIHtcbiAgICAgIHdoaWxlIChldmVudHNBcnIubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgZXZlbnROYW1lID0gZXZlbnRzQXJyLnNoaWZ0KCk7XG5cbiAgICAgICAgaWYgKCFpc1N0cmluZyhldmVudE5hbWUpKSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkMilbX2xvZ2dlciQyXS5lcnJvcihFVkVOVF9FUlJPUik7XG5cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudE5hbWUubGVuZ3RoID4gMTAyNCkge1xuICAgICAgICAgIGV2ZW50TmFtZSA9IGV2ZW50TmFtZS5zdWJzdHJpbmcoMCwgMTAyNCk7XG5cbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQyKVtfbG9nZ2VyJDJdLnJlcG9ydEVycm9yKDUxMCwgZXZlbnROYW1lICsgJy4uLiBsZW5ndGggZXhjZWVkZWQgMTAyNCBjaGFycy4gVHJpbW1lZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChTWVNURU1fRVZFTlRTLmluY2x1ZGVzKGV2ZW50TmFtZSkpIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQyKVtfbG9nZ2VyJDJdLnJlcG9ydEVycm9yKDUxMywgZXZlbnROYW1lICsgJyBpcyBhIHJlc3RyaWN0ZWQgc3lzdGVtIGV2ZW50LiBJdCBjYW5ub3QgYmUgdXNlZCBhcyBhbiBldmVudCBuYW1lLicpO1xuXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRhID0ge307XG4gICAgICAgIGRhdGEudHlwZSA9ICdldmVudCc7XG4gICAgICAgIGRhdGEuZXZ0TmFtZSA9IHNhbml0aXplKGV2ZW50TmFtZSwgdW5zdXBwb3J0ZWRLZXlDaGFyUmVnZXgpO1xuXG4gICAgICAgIGlmIChldmVudHNBcnIubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgY29uc3QgZXZlbnRPYmogPSBldmVudHNBcnIuc2hpZnQoKTtcblxuICAgICAgICAgIGlmICghaXNPYmplY3QoZXZlbnRPYmopKSB7XG4gICAgICAgICAgICAvLyBwdXQgaXQgYmFjayBpZiBpdCBpcyBub3QgYW4gb2JqZWN0XG4gICAgICAgICAgICBldmVudHNBcnIudW5zaGlmdChldmVudE9iaik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIENoYXJnZWQgRXZlbnQgdnMuIG90aGVyIGV2ZW50cy5cbiAgICAgICAgICAgIGlmIChldmVudE5hbWUgPT09ICdDaGFyZ2VkJykge1xuICAgICAgICAgICAgICBpZiAoIWlzQ2hhcmdlZEV2ZW50U3RydWN0dXJlVmFsaWQoZXZlbnRPYmosIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDIpW19sb2dnZXIkMl0pKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkMilbX2xvZ2dlciQyXS5yZXBvcnRFcnJvcig1MTEsICdDaGFyZ2VkIGV2ZW50IHN0cnVjdHVyZSBpbnZhbGlkLiBOb3Qgc2VudC4nKTtcblxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoIWlzRXZlbnRTdHJ1Y3R1cmVGbGF0KGV2ZW50T2JqKSkge1xuICAgICAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDIpW19sb2dnZXIkMl0ucmVwb3J0RXJyb3IoNTEyLCBldmVudE5hbWUgKyAnIGV2ZW50IHN0cnVjdHVyZSBpbnZhbGlkLiBOb3Qgc2VudC4nKTtcblxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRhdGEuZXZ0RGF0YSA9IGV2ZW50T2JqO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQxKVtfcmVxdWVzdCQxXS5wcm9jZXNzRXZlbnQoZGF0YSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldFVSTFBhcmFtcyA9IHVybCA9PiB7XG4gICAgY29uc3QgdXJsUGFyYW1zID0ge307XG4gICAgY29uc3QgaWR4ID0gdXJsLmluZGV4T2YoJz8nKTtcblxuICAgIGlmIChpZHggPiAxKSB7XG4gICAgICBjb25zdCB1cmkgPSB1cmwuc3Vic3RyaW5nKGlkeCArIDEpO1xuICAgICAgbGV0IG1hdGNoO1xuICAgICAgY29uc3QgcGwgPSAvXFwrL2c7IC8vIFJlZ2V4IGZvciByZXBsYWNpbmcgYWRkaXRpb24gc3ltYm9sIHdpdGggYSBzcGFjZVxuXG4gICAgICBjb25zdCBzZWFyY2ggPSAvKFteJj1dKyk9PyhbXiZdKikvZztcblxuICAgICAgY29uc3QgZGVjb2RlID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgbGV0IHJlcGxhY2VtZW50ID0gcy5yZXBsYWNlKHBsLCAnICcpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVwbGFjZW1lbnQgPSBkZWNvZGVVUklDb21wb25lbnQocmVwbGFjZW1lbnQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7Ly8gZWF0XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVwbGFjZW1lbnQ7XG4gICAgICB9O1xuXG4gICAgICBtYXRjaCA9IHNlYXJjaC5leGVjKHVyaSk7XG5cbiAgICAgIHdoaWxlIChtYXRjaCkge1xuICAgICAgICB1cmxQYXJhbXNbZGVjb2RlKG1hdGNoWzFdKV0gPSBkZWNvZGUobWF0Y2hbMl0pO1xuICAgICAgICBtYXRjaCA9IHNlYXJjaC5leGVjKHVyaSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHVybFBhcmFtcztcbiAgfTtcbiAgY29uc3QgZ2V0RG9tYWluID0gdXJsID0+IHtcbiAgICBpZiAodXJsID09PSAnJykgcmV0dXJuICcnO1xuICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGEuaHJlZiA9IHVybDtcbiAgICByZXR1cm4gYS5ob3N0bmFtZTtcbiAgfTtcbiAgY29uc3QgYWRkVG9VUkwgPSAodXJsLCBrLCB2KSA9PiB7XG4gICAgcmV0dXJuIHVybCArICcmJyArIGsgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodik7XG4gIH07XG4gIGNvbnN0IGdldEhvc3ROYW1lID0gKCkgPT4ge1xuICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7XG4gIH07XG5cbiAgLyogZXNsaW50LWRpc2FibGUgKi9cbiAgY29uc3QgdXJsQmFzZTY0VG9VaW50OEFycmF5ID0gYmFzZTY0U3RyaW5nID0+IHtcbiAgICBsZXQgcGFkZGluZyA9ICc9Jy5yZXBlYXQoKDQgLSBiYXNlNjRTdHJpbmcubGVuZ3RoICUgNCkgJSA0KTtcbiAgICBsZXQgYmFzZTY0ID0gKGJhc2U2NFN0cmluZyArIHBhZGRpbmcpLnJlcGxhY2UoL1xcLS9nLCAnKycpLnJlcGxhY2UoL18vZywgJy8nKTtcbiAgICBsZXQgcmF3RGF0YSA9IHdpbmRvdy5hdG9iKGJhc2U2NCk7XG4gICAgbGV0IHByb2Nlc3NlZERhdGEgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmF3RGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgcHJvY2Vzc2VkRGF0YS5wdXNoKHJhd0RhdGEuY2hhckNvZGVBdChpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHByb2Nlc3NlZERhdGEpO1xuICB9O1xuICBjb25zdCBjb21wcmVzc0RhdGEgPSAoZGF0YU9iamVjdCwgbG9nZ2VyKSA9PiB7XG4gICAgbG9nZ2VyICYmIHR5cGVvZiBsb2dnZXIuZGVidWcgPT09ICdmdW5jdGlvbicgJiYgbG9nZ2VyLmRlYnVnKCdkb2JqOicgKyBkYXRhT2JqZWN0KTtcbiAgICByZXR1cm4gY29tcHJlc3NUb0Jhc2U2NChkYXRhT2JqZWN0KTtcbiAgfTtcbiAgY29uc3QgY29tcHJlc3MgPSB1bmNvbXByZXNzZWQgPT4ge1xuICAgIGlmICh1bmNvbXByZXNzZWQgPT0gbnVsbCkgcmV0dXJuICcnO1xuICAgIGxldCBpLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgY29udGV4dF9kaWN0aW9uYXJ5ID0ge30sXG4gICAgICAgIGNvbnRleHRfZGljdGlvbmFyeVRvQ3JlYXRlID0ge30sXG4gICAgICAgIGNvbnRleHRfYyA9ICcnLFxuICAgICAgICBjb250ZXh0X3djID0gJycsXG4gICAgICAgIGNvbnRleHRfdyA9ICcnLFxuICAgICAgICBjb250ZXh0X2VubGFyZ2VJbiA9IDIsXG4gICAgICAgIC8vIENvbXBlbnNhdGUgZm9yIHRoZSBmaXJzdCBlbnRyeSB3aGljaCBzaG91bGQgbm90IGNvdW50XG4gICAgY29udGV4dF9kaWN0U2l6ZSA9IDMsXG4gICAgICAgIGNvbnRleHRfbnVtQml0cyA9IDIsXG4gICAgICAgIGNvbnRleHRfZGF0YV9zdHJpbmcgPSAnJyxcbiAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IDAsXG4gICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9IDAsXG4gICAgICAgIGlpLFxuICAgICAgICBmID0gU3RyaW5nLmZyb21DaGFyQ29kZTtcblxuICAgIGZvciAoaWkgPSAwOyBpaSA8IHVuY29tcHJlc3NlZC5sZW5ndGg7IGlpICs9IDEpIHtcbiAgICAgIGNvbnRleHRfYyA9IHVuY29tcHJlc3NlZC5jaGFyQXQoaWkpO1xuXG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjb250ZXh0X2RpY3Rpb25hcnksIGNvbnRleHRfYykpIHtcbiAgICAgICAgY29udGV4dF9kaWN0aW9uYXJ5W2NvbnRleHRfY10gPSBjb250ZXh0X2RpY3RTaXplKys7XG4gICAgICAgIGNvbnRleHRfZGljdGlvbmFyeVRvQ3JlYXRlW2NvbnRleHRfY10gPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0X3djID0gY29udGV4dF93ICsgY29udGV4dF9jO1xuXG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbnRleHRfZGljdGlvbmFyeSwgY29udGV4dF93YykpIHtcbiAgICAgICAgY29udGV4dF93ID0gY29udGV4dF93YztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY29udGV4dF9kaWN0aW9uYXJ5VG9DcmVhdGUsIGNvbnRleHRfdykpIHtcbiAgICAgICAgICBpZiAoY29udGV4dF93LmNoYXJDb2RlQXQoMCkgPCAyNTYpIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb250ZXh0X251bUJpdHM7IGkrKykge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gY29udGV4dF9kYXRhX3ZhbCA8PCAxO1xuXG4gICAgICAgICAgICAgIGlmIChjb250ZXh0X2RhdGFfcG9zaXRpb24gPT0gMTUpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9zdHJpbmcgKz0gZihjb250ZXh0X2RhdGFfdmFsKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gMDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWx1ZSA9IGNvbnRleHRfdy5jaGFyQ29kZUF0KDApO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSBjb250ZXh0X2RhdGFfdmFsIDw8IDEgfCB2YWx1ZSAmIDE7XG5cbiAgICAgICAgICAgICAgaWYgKGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9PSAxNSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3N0cmluZyArPSBmKGNvbnRleHRfZGF0YV92YWwpO1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAwO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbisrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA+PiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IDE7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb250ZXh0X251bUJpdHM7IGkrKykge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gY29udGV4dF9kYXRhX3ZhbCA8PCAxIHwgdmFsdWU7XG5cbiAgICAgICAgICAgICAgaWYgKGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9PSAxNSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3N0cmluZyArPSBmKGNvbnRleHRfZGF0YV92YWwpO1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAwO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbisrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdmFsdWUgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWx1ZSA9IGNvbnRleHRfdy5jaGFyQ29kZUF0KDApO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gY29udGV4dF9kYXRhX3ZhbCA8PCAxIHwgdmFsdWUgJiAxO1xuXG4gICAgICAgICAgICAgIGlmIChjb250ZXh0X2RhdGFfcG9zaXRpb24gPT0gMTUpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9zdHJpbmcgKz0gZihjb250ZXh0X2RhdGFfdmFsKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gMDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgPj4gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0X2VubGFyZ2VJbi0tO1xuXG4gICAgICAgICAgaWYgKGNvbnRleHRfZW5sYXJnZUluID09IDApIHtcbiAgICAgICAgICAgIGNvbnRleHRfZW5sYXJnZUluID0gTWF0aC5wb3coMiwgY29udGV4dF9udW1CaXRzKTtcbiAgICAgICAgICAgIGNvbnRleHRfbnVtQml0cysrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRlbGV0ZSBjb250ZXh0X2RpY3Rpb25hcnlUb0NyZWF0ZVtjb250ZXh0X3ddO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlID0gY29udGV4dF9kaWN0aW9uYXJ5W2NvbnRleHRfd107XG5cbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29udGV4dF9udW1CaXRzOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSBjb250ZXh0X2RhdGFfdmFsIDw8IDEgfCB2YWx1ZSAmIDE7XG5cbiAgICAgICAgICAgIGlmIChjb250ZXh0X2RhdGFfcG9zaXRpb24gPT0gMTUpIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uID0gMDtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3N0cmluZyArPSBmKGNvbnRleHRfZGF0YV92YWwpO1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbisrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlID4+IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dF9lbmxhcmdlSW4tLTtcblxuICAgICAgICBpZiAoY29udGV4dF9lbmxhcmdlSW4gPT0gMCkge1xuICAgICAgICAgIGNvbnRleHRfZW5sYXJnZUluID0gTWF0aC5wb3coMiwgY29udGV4dF9udW1CaXRzKTtcbiAgICAgICAgICBjb250ZXh0X251bUJpdHMrKztcbiAgICAgICAgfSAvLyBBZGQgd2MgdG8gdGhlIGRpY3Rpb25hcnkuXG5cblxuICAgICAgICBjb250ZXh0X2RpY3Rpb25hcnlbY29udGV4dF93Y10gPSBjb250ZXh0X2RpY3RTaXplKys7XG4gICAgICAgIGNvbnRleHRfdyA9IFN0cmluZyhjb250ZXh0X2MpO1xuICAgICAgfVxuICAgIH0gLy8gT3V0cHV0IHRoZSBjb2RlIGZvciB3LlxuXG5cbiAgICBpZiAoY29udGV4dF93ICE9PSAnJykge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjb250ZXh0X2RpY3Rpb25hcnlUb0NyZWF0ZSwgY29udGV4dF93KSkge1xuICAgICAgICBpZiAoY29udGV4dF93LmNoYXJDb2RlQXQoMCkgPCAyNTYpIHtcbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29udGV4dF9udW1CaXRzOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSBjb250ZXh0X2RhdGFfdmFsIDw8IDE7XG5cbiAgICAgICAgICAgIGlmIChjb250ZXh0X2RhdGFfcG9zaXRpb24gPT0gMTUpIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uID0gMDtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3N0cmluZyArPSBmKGNvbnRleHRfZGF0YV92YWwpO1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbisrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhbHVlID0gY29udGV4dF93LmNoYXJDb2RlQXQoMCk7XG5cbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gY29udGV4dF9kYXRhX3ZhbCA8PCAxIHwgdmFsdWUgJiAxO1xuXG4gICAgICAgICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IDE1KSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9zdHJpbmcgKz0gZihjb250ZXh0X2RhdGFfdmFsKTtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA+PiAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZSA9IDE7XG5cbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29udGV4dF9udW1CaXRzOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSBjb250ZXh0X2RhdGFfdmFsIDw8IDEgfCB2YWx1ZTtcblxuICAgICAgICAgICAgaWYgKGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9PSAxNSkge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfc3RyaW5nICs9IGYoY29udGV4dF9kYXRhX3ZhbCk7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhbHVlID0gMDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YWx1ZSA9IGNvbnRleHRfdy5jaGFyQ29kZUF0KDApO1xuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSBjb250ZXh0X2RhdGFfdmFsIDw8IDEgfCB2YWx1ZSAmIDE7XG5cbiAgICAgICAgICAgIGlmIChjb250ZXh0X2RhdGFfcG9zaXRpb24gPT0gMTUpIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uID0gMDtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3N0cmluZyArPSBmKGNvbnRleHRfZGF0YV92YWwpO1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbisrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlID4+IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dF9lbmxhcmdlSW4tLTtcblxuICAgICAgICBpZiAoY29udGV4dF9lbmxhcmdlSW4gPT0gMCkge1xuICAgICAgICAgIGNvbnRleHRfZW5sYXJnZUluID0gTWF0aC5wb3coMiwgY29udGV4dF9udW1CaXRzKTtcbiAgICAgICAgICBjb250ZXh0X251bUJpdHMrKztcbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBjb250ZXh0X2RpY3Rpb25hcnlUb0NyZWF0ZVtjb250ZXh0X3ddO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBjb250ZXh0X2RpY3Rpb25hcnlbY29udGV4dF93XTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29udGV4dF9udW1CaXRzOyBpKyspIHtcbiAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gY29udGV4dF9kYXRhX3ZhbCA8PCAxIHwgdmFsdWUgJiAxO1xuXG4gICAgICAgICAgaWYgKGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9PSAxNSkge1xuICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uID0gMDtcbiAgICAgICAgICAgIGNvbnRleHRfZGF0YV9zdHJpbmcgKz0gZihjb250ZXh0X2RhdGFfdmFsKTtcbiAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAwO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlID4+IDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29udGV4dF9lbmxhcmdlSW4tLTtcblxuICAgICAgaWYgKGNvbnRleHRfZW5sYXJnZUluID09IDApIHtcbiAgICAgICAgY29udGV4dF9lbmxhcmdlSW4gPSBNYXRoLnBvdygyLCBjb250ZXh0X251bUJpdHMpO1xuICAgICAgICBjb250ZXh0X251bUJpdHMrKztcbiAgICAgIH1cbiAgICB9IC8vIE1hcmsgdGhlIGVuZCBvZiB0aGUgc3RyZWFtXG5cblxuICAgIHZhbHVlID0gMjtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBjb250ZXh0X251bUJpdHM7IGkrKykge1xuICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IGNvbnRleHRfZGF0YV92YWwgPDwgMSB8IHZhbHVlICYgMTtcblxuICAgICAgaWYgKGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9PSAxNSkge1xuICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24gPSAwO1xuICAgICAgICBjb250ZXh0X2RhdGFfc3RyaW5nICs9IGYoY29udGV4dF9kYXRhX3ZhbCk7XG4gICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgICB9XG5cbiAgICAgIHZhbHVlID0gdmFsdWUgPj4gMTtcbiAgICB9IC8vIEZsdXNoIHRoZSBsYXN0IGNoYXJcblxuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnRleHRfZGF0YV92YWwgPSBjb250ZXh0X2RhdGFfdmFsIDw8IDE7XG5cbiAgICAgIGlmIChjb250ZXh0X2RhdGFfcG9zaXRpb24gPT0gMTUpIHtcbiAgICAgICAgY29udGV4dF9kYXRhX3N0cmluZyArPSBmKGNvbnRleHRfZGF0YV92YWwpO1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGV4dF9kYXRhX3N0cmluZztcbiAgfTtcbiAgY29uc3QgZ2V0S2V5U3RyID0gKCkgPT4ge1xuICAgIGxldCBrZXkgPSAnJztcbiAgICBsZXQgaSA9IDA7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDw9IDI1OyBpKyspIHtcbiAgICAgIGtleSA9IGtleSArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSArIDY1KTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDw9IDI1OyBpKyspIHtcbiAgICAgIGtleSA9IGtleSArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSArIDk3KTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAga2V5ID0ga2V5ICsgaTtcbiAgICB9XG5cbiAgICByZXR1cm4ga2V5ICsgJysvPSc7XG4gIH07XG5cbiAgY29uc3QgX2tleVN0ciA9IGdldEtleVN0cigpO1xuICBjb25zdCBjb21wcmVzc1RvQmFzZTY0ID0gaW5wdXQgPT4ge1xuICAgIGlmIChpbnB1dCA9PSBudWxsKSByZXR1cm4gJyc7XG4gICAgdmFyIG91dHB1dCA9ICcnO1xuICAgIHZhciBjaHIxLCBjaHIyLCBjaHIzLCBlbmMxLCBlbmMyLCBlbmMzLCBlbmM0O1xuICAgIHZhciBpID0gMDtcbiAgICBpbnB1dCA9IGNvbXByZXNzKGlucHV0KTtcblxuICAgIHdoaWxlIChpIDwgaW5wdXQubGVuZ3RoICogMikge1xuICAgICAgaWYgKGkgJSAyID09IDApIHtcbiAgICAgICAgY2hyMSA9IGlucHV0LmNoYXJDb2RlQXQoaSAvIDIpID4+IDg7XG4gICAgICAgIGNocjIgPSBpbnB1dC5jaGFyQ29kZUF0KGkgLyAyKSAmIDI1NTtcbiAgICAgICAgaWYgKGkgLyAyICsgMSA8IGlucHV0Lmxlbmd0aCkgY2hyMyA9IGlucHV0LmNoYXJDb2RlQXQoaSAvIDIgKyAxKSA+PiA4O2Vsc2UgY2hyMyA9IE5hTjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNocjEgPSBpbnB1dC5jaGFyQ29kZUF0KChpIC0gMSkgLyAyKSAmIDI1NTtcblxuICAgICAgICBpZiAoKGkgKyAxKSAvIDIgPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICBjaHIyID0gaW5wdXQuY2hhckNvZGVBdCgoaSArIDEpIC8gMikgPj4gODtcbiAgICAgICAgICBjaHIzID0gaW5wdXQuY2hhckNvZGVBdCgoaSArIDEpIC8gMikgJiAyNTU7XG4gICAgICAgIH0gZWxzZSBjaHIyID0gY2hyMyA9IE5hTjtcbiAgICAgIH1cblxuICAgICAgaSArPSAzO1xuICAgICAgZW5jMSA9IGNocjEgPj4gMjtcbiAgICAgIGVuYzIgPSAoY2hyMSAmIDMpIDw8IDQgfCBjaHIyID4+IDQ7XG4gICAgICBlbmMzID0gKGNocjIgJiAxNSkgPDwgMiB8IGNocjMgPj4gNjtcbiAgICAgIGVuYzQgPSBjaHIzICYgNjM7XG5cbiAgICAgIGlmIChpc05hTihjaHIyKSkge1xuICAgICAgICBlbmMzID0gZW5jNCA9IDY0O1xuICAgICAgfSBlbHNlIGlmIChpc05hTihjaHIzKSkge1xuICAgICAgICBlbmM0ID0gNjQ7XG4gICAgICB9XG5cbiAgICAgIG91dHB1dCA9IG91dHB1dCArIF9rZXlTdHIuY2hhckF0KGVuYzEpICsgX2tleVN0ci5jaGFyQXQoZW5jMikgKyBfa2V5U3RyLmNoYXJBdChlbmMzKSArIF9rZXlTdHIuY2hhckF0KGVuYzQpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH07XG5cbiAgdmFyIF9maXJlUmVxdWVzdCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZmlyZVJlcXVlc3RcIik7XG5cbiAgdmFyIF9kcm9wUmVxdWVzdER1ZVRvT3B0T3V0ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJkcm9wUmVxdWVzdER1ZVRvT3B0T3V0XCIpO1xuXG4gIHZhciBfYWRkVXNlSVBUb1JlcXVlc3QgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImFkZFVzZUlQVG9SZXF1ZXN0XCIpO1xuXG4gIHZhciBfYWRkQVJQVG9SZXF1ZXN0ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJhZGRBUlBUb1JlcXVlc3RcIik7XG5cbiAgY2xhc3MgUmVxdWVzdERpc3BhdGNoZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgdGhpcy5uZXR3b3JrUmV0cnlDb3VudCA9IDA7XG4gICAgICB0aGlzLm1pbkRlbGF5RnJlcXVlbmN5ID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAgICAgKiBAcGFyYW0geyp9IHNraXBBUlBcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNlbmRPVUxGbGFnXG4gICAgICovXG4gICAgc3RhdGljIGZpcmVSZXF1ZXN0KHVybCwgc2tpcEFSUCwgc2VuZE9VTEZsYWcsIGV2dE5hbWUpIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZmlyZVJlcXVlc3QpW19maXJlUmVxdWVzdF0odXJsLCAxLCBza2lwQVJQLCBzZW5kT1VMRmxhZywgZXZ0TmFtZSk7XG4gICAgfVxuXG4gICAgZ2V0RGVsYXlGcmVxdWVuY3koKSB7XG4gICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnTmV0d29yayByZXRyeSAjJyArIHRoaXMubmV0d29ya1JldHJ5Q291bnQpOyAvLyBSZXRyeSB3aXRoIGRlbGF5IGFzIDFzIGZvciBmaXJzdCAxMCByZXRyaWVzXG5cbiAgICAgIGlmICh0aGlzLm5ldHdvcmtSZXRyeUNvdW50IDwgMTApIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcodGhpcy5hY2NvdW50LmlkLCAnRmFpbHVyZSBjb3VudCBpcyAnICsgdGhpcy5uZXR3b3JrUmV0cnlDb3VudCArICcuIFNldHRpbmcgZGVsYXkgZnJlcXVlbmN5IHRvIDFzJyk7XG4gICAgICAgIHRoaXMubWluRGVsYXlGcmVxdWVuY3kgPSBQVVNIX0RFTEFZX01TOyAvLyBSZXNldCBtaW5pbXVtIGRlbGF5IHRvIDFzXG5cbiAgICAgICAgcmV0dXJuIHRoaXMubWluRGVsYXlGcmVxdWVuY3k7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmFjY291bnQucmVnaW9uID09IG51bGwpIHtcbiAgICAgICAgLy8gUmV0cnkgd2l0aCBkZWxheSBhcyAxcyBpZiByZWdpb24gaXMgbnVsbCBpbiBjYXNlIG9mIGV1MVxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmFjY291bnQuaWQsICdTZXR0aW5nIGRlbGF5IGZyZXF1ZW5jeSB0byAxcycpO1xuICAgICAgICByZXR1cm4gUFVTSF9ERUxBWV9NUztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJldHJ5IHdpdGggZGVsYXkgYXMgbWluaW11bSBkZWxheSBmcmVxdWVuY3kgYW5kIGFkZCByYW5kb20gbnVtYmVyIG9mIHNlY29uZHMgdG8gc2NhdHRlciB0cmFmZmljXG4gICAgICAgIGNvbnN0IHJhbmRvbURlbGF5ID0gKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSArIDEpICogMTAwMDtcbiAgICAgICAgdGhpcy5taW5EZWxheUZyZXF1ZW5jeSArPSByYW5kb21EZWxheTtcblxuICAgICAgICBpZiAodGhpcy5taW5EZWxheUZyZXF1ZW5jeSA8IE1BWF9ERUxBWV9GUkVRVUVOQ1kpIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmFjY291bnQuaWQsICdTZXR0aW5nIGRlbGF5IGZyZXF1ZW5jeSB0byAnICsgdGhpcy5taW5EZWxheUZyZXF1ZW5jeSk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubWluRGVsYXlGcmVxdWVuY3k7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5taW5EZWxheUZyZXF1ZW5jeSA9IFBVU0hfREVMQVlfTVM7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmFjY291bnQuaWQsICdTZXR0aW5nIGRlbGF5IGZyZXF1ZW5jeSB0byAnICsgdGhpcy5taW5EZWxheUZyZXF1ZW5jeSk7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbkRlbGF5RnJlcXVlbmN5O1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgdmFyIF9hZGRBUlBUb1JlcXVlc3QyID0gZnVuY3Rpb24gX2FkZEFSUFRvUmVxdWVzdDIodXJsLCBza2lwUmVzQVJQKSB7XG4gICAgaWYgKHNraXBSZXNBUlAgPT09IHRydWUpIHtcbiAgICAgIGNvbnN0IF9hcnAgPSB7fTtcbiAgICAgIF9hcnAuc2tpcFJlc0FSUCA9IHRydWU7XG4gICAgICByZXR1cm4gYWRkVG9VUkwodXJsLCAnYXJwJywgY29tcHJlc3NEYXRhKEpTT04uc3RyaW5naWZ5KF9hcnApLCB0aGlzLmxvZ2dlcikpO1xuICAgIH1cblxuICAgIGlmIChTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSAmJiB0eXBlb2YgbG9jYWxTdG9yYWdlLmdldEl0ZW0oQVJQX0NPT0tJRSkgIT09ICd1bmRlZmluZWQnICYmIGxvY2FsU3RvcmFnZS5nZXRJdGVtKEFSUF9DT09LSUUpICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gYWRkVG9VUkwodXJsLCAnYXJwJywgY29tcHJlc3NEYXRhKEpTT04uc3RyaW5naWZ5KFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShBUlBfQ09PS0lFKSksIHRoaXMubG9nZ2VyKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVybDtcbiAgfTtcblxuICB2YXIgX2FkZFVzZUlQVG9SZXF1ZXN0MiA9IGZ1bmN0aW9uIF9hZGRVc2VJUFRvUmVxdWVzdDIocGFnZUxvYWRVcmwpIHtcbiAgICB2YXIgdXNlSVAgPSBTdG9yYWdlTWFuYWdlci5nZXRNZXRhUHJvcChVU0VJUF9LRVkpO1xuXG4gICAgaWYgKHR5cGVvZiB1c2VJUCAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB1c2VJUCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBhZGRUb1VSTChwYWdlTG9hZFVybCwgVVNFSVBfS0VZLCB1c2VJUCA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICB9O1xuXG4gIHZhciBfZHJvcFJlcXVlc3REdWVUb09wdE91dDIgPSBmdW5jdGlvbiBfZHJvcFJlcXVlc3REdWVUb09wdE91dDIoKSB7XG4gICAgaWYgKCRjdC5pc09wdEluUmVxdWVzdCB8fCAhaXNWYWx1ZVZhbGlkKHRoaXMuZGV2aWNlLmdjb29raWUpIHx8ICFpc1N0cmluZyh0aGlzLmRldmljZS5nY29va2llKSkge1xuICAgICAgJGN0LmlzT3B0SW5SZXF1ZXN0ID0gZmFsc2U7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZGV2aWNlLmdjb29raWUuc2xpY2UoLTMpID09PSBPUFRPVVRfQ09PS0lFX0VORFNXSVRIO1xuICB9O1xuXG4gIHZhciBfZmlyZVJlcXVlc3QyID0gZnVuY3Rpb24gX2ZpcmVSZXF1ZXN0Mih1cmwsIHRyaWVzLCBza2lwQVJQLCBzZW5kT1VMRmxhZywgZXZ0TmFtZSkge1xuICAgIHZhciBfd2luZG93JGNsZXZlcnRhcCwgX3dpbmRvdyR3aXpyb2NrZXQ7XG5cbiAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kcm9wUmVxdWVzdER1ZVRvT3B0T3V0KVtfZHJvcFJlcXVlc3REdWVUb09wdE91dF0oKSkge1xuICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ3JlcSBkcm9wcGVkIGR1ZSB0byBvcHRvdXQgY29va2llOiAnICsgdGhpcy5kZXZpY2UuZ2Nvb2tpZSk7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBzZXQgYSByZXF1ZXN0IGluIHByb2dyZXNzXG4gICAgLy8gc28gdGhhdCBpZiBnY29va2llIGlzIG5vdCBwcmVzZW50LCBubyBvdGhlciByZXF1ZXN0IGNhbiBiZSBtYWRlIGFzeW5jaHJvbnVzbHlcblxuXG4gICAgaWYgKCFpc1ZhbHVlVmFsaWQodGhpcy5kZXZpY2UuZ2Nvb2tpZSkpIHtcbiAgICAgICRjdC5ibG9ja1JlcXVlc3QgPSB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBpZiB0aGUgZ2Nvb2tpZSBpcyBudWxsXG4gICAgICogYW5kIHRoZSByZXF1ZXN0IGlzIG5vdCB0aGUgZmlyc3QgcmVxdWVzdFxuICAgICAqIGFuZCB0aGUgdHJpZXMgYXJlIGxlc3MgdGhhbiBtYXggdHJpZXNcbiAgICAgKiBrZWVwIHJldHJ5aW5nXG4gICAgICovXG5cblxuICAgIGlmIChldnROYW1lICYmIGV2dE5hbWUgPT09IFdaUktfRkVUQ0gpIHtcbiAgICAgIC8vIE5ldyByZXRyeSBtZWNoYW5pc21cbiAgICAgIGlmICghaXNWYWx1ZVZhbGlkKHRoaXMuZGV2aWNlLmdjb29raWUpICYmICRjdC5nbG9iYWxDYWNoZS5SRVNQX04gPCAkY3QuZ2xvYmFsQ2FjaGUuUkVRX04gLSAxKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKFwicmV0cnlpbmcgZmlyZSByZXF1ZXN0IGZvciB1cmw6IFwiLmNvbmNhdCh1cmwsIFwiLCB0cmllczogXCIpLmNvbmNhdCh0aGlzLm5ldHdvcmtSZXRyeUNvdW50KSk7XG5cbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2ZpcmVSZXF1ZXN0KVtfZmlyZVJlcXVlc3RdKHVybCwgdW5kZWZpbmVkLCBza2lwQVJQLCBzZW5kT1VMRmxhZyk7XG4gICAgICAgIH0sIHRoaXMuZ2V0RGVsYXlGcmVxdWVuY3koKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghaXNWYWx1ZVZhbGlkKHRoaXMuZGV2aWNlLmdjb29raWUpICYmICRjdC5nbG9iYWxDYWNoZS5SRVNQX04gPCAkY3QuZ2xvYmFsQ2FjaGUuUkVRX04gLSAxICYmIHRyaWVzIDwgTUFYX1RSSUVTKSB7XG4gICAgICAgIC8vIGlmIG9uZ29pbmcgRmlyc3QgUmVxdWVzdCBpcyBpbiBwcm9ncmVzcywgaW5pdGlhdGUgcmV0cnlcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoXCJyZXRyeWluZyBmaXJlIHJlcXVlc3QgZm9yIHVybDogXCIuY29uY2F0KHVybCwgXCIsIHRyaWVzOiBcIikuY29uY2F0KHRyaWVzKSk7XG5cbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2ZpcmVSZXF1ZXN0KVtfZmlyZVJlcXVlc3RdKHVybCwgdHJpZXMgKyAxLCBza2lwQVJQLCBzZW5kT1VMRmxhZyk7XG4gICAgICAgIH0sIDUwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gLy8gc2V0IGlzT1VMSW5Qcm9ncmVzcyB0byB0cnVlXG4gICAgLy8gd2hlbiBzZW5kT1VMRmxhZyBpcyBzZXQgdG8gdHJ1ZVxuXG5cbiAgICBpZiAoIXNlbmRPVUxGbGFnKSB7XG4gICAgICBpZiAoaXNWYWx1ZVZhbGlkKHRoaXMuZGV2aWNlLmdjb29raWUpKSB7XG4gICAgICAgIC8vIGFkZCBnY29va2llIHRvIHVybFxuICAgICAgICB1cmwgPSBhZGRUb1VSTCh1cmwsICdnYycsIHRoaXMuZGV2aWNlLmdjb29raWUpO1xuICAgICAgfVxuXG4gICAgICB1cmwgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FkZEFSUFRvUmVxdWVzdClbX2FkZEFSUFRvUmVxdWVzdF0odXJsLCBza2lwQVJQKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93LmlzT1VMSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgfVxuXG4gICAgdXJsID0gYWRkVG9VUkwodXJsLCAndHJpZXMnLCB0cmllcyk7IC8vIEFkZCB0cmllcyB0byBVUkxcblxuICAgIHVybCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWRkVXNlSVBUb1JlcXVlc3QpW19hZGRVc2VJUFRvUmVxdWVzdF0odXJsKTtcbiAgICB1cmwgPSBhZGRUb1VSTCh1cmwsICdyJywgbmV3IERhdGUoKS5nZXRUaW1lKCkpOyAvLyBhZGQgZXBvY2ggdG8gYmVhdCBjYWNoaW5nIG9mIHRoZSBVUkxcbiAgICAvLyBUT0RPOiBGaWd1cmUgb3V0IGEgYmV0dGVyIHdheSB0byBoYW5kbGUgcGx1Z2luIGNoZWNrXG5cbiAgICBpZiAoKChfd2luZG93JGNsZXZlcnRhcCA9IHdpbmRvdy5jbGV2ZXJ0YXApID09PSBudWxsIHx8IF93aW5kb3ckY2xldmVydGFwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfd2luZG93JGNsZXZlcnRhcC5oYXNPd25Qcm9wZXJ0eSgncGx1Z2luJykpIHx8ICgoX3dpbmRvdyR3aXpyb2NrZXQgPSB3aW5kb3cud2l6cm9ja2V0KSA9PT0gbnVsbCB8fCBfd2luZG93JHdpenJvY2tldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3dpbmRvdyR3aXpyb2NrZXQuaGFzT3duUHJvcGVydHkoJ3BsdWdpbicpKSkge1xuICAgICAgLy8gdXNlZCB0byBhZGQgcGx1Z2luIG5hbWUgaW4gcmVxdWVzdCBwYXJhbWV0ZXJcbiAgICAgIGNvbnN0IHBsdWdpbiA9IHdpbmRvdy5jbGV2ZXJ0YXAucGx1Z2luIHx8IHdpbmRvdy53aXpyb2NrZXQucGx1Z2luO1xuICAgICAgdXJsID0gYWRkVG9VUkwodXJsLCAnY3RfcGwnLCBwbHVnaW4pO1xuICAgIH1cblxuICAgIGlmICh1cmwuaW5kZXhPZignY2hyb21lLWV4dGVuc2lvbjonKSAhPT0gLTEpIHtcbiAgICAgIHVybCA9IHVybC5yZXBsYWNlKCdjaHJvbWUtZXh0ZW5zaW9uOicsICdodHRwczonKTtcbiAgICB9IC8vIFRPRE86IFRyeSB1c2luZyBGdW5jdGlvbiBjb25zdHJ1Y3RvciBpbnN0ZWFkIG9mIGFwcGVuZGluZyBzY3JpcHQuXG5cblxuICAgIHZhciBjdENiU2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2N0LWpwLWNiJyk7XG5cbiAgICB3aGlsZSAoY3RDYlNjcmlwdHNbMF0gJiYgY3RDYlNjcmlwdHNbMF0ucGFyZW50Tm9kZSkge1xuICAgICAgY3RDYlNjcmlwdHNbMF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjdENiU2NyaXB0c1swXSk7XG4gICAgfVxuXG4gICAgY29uc3QgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIHMuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvamF2YXNjcmlwdCcpO1xuICAgIHMuc2V0QXR0cmlidXRlKCdzcmMnLCB1cmwpO1xuICAgIHMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjdC1qcC1jYicpO1xuICAgIHMuc2V0QXR0cmlidXRlKCdyZWwnLCAnbm9mb2xsb3cnKTtcbiAgICBzLmFzeW5jID0gdHJ1ZTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHMpO1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdyZXEgc250IC0+IHVybDogJyArIHVybCk7XG4gIH07XG5cbiAgUmVxdWVzdERpc3BhdGNoZXIubG9nZ2VyID0gdm9pZCAwO1xuICBSZXF1ZXN0RGlzcGF0Y2hlci5kZXZpY2UgPSB2b2lkIDA7XG4gIFJlcXVlc3REaXNwYXRjaGVyLmFjY291bnQgPSB2b2lkIDA7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXF1ZXN0RGlzcGF0Y2hlciwgX2ZpcmVSZXF1ZXN0LCB7XG4gICAgdmFsdWU6IF9maXJlUmVxdWVzdDJcbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXF1ZXN0RGlzcGF0Y2hlciwgX2Ryb3BSZXF1ZXN0RHVlVG9PcHRPdXQsIHtcbiAgICB2YWx1ZTogX2Ryb3BSZXF1ZXN0RHVlVG9PcHRPdXQyXG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVxdWVzdERpc3BhdGNoZXIsIF9hZGRVc2VJUFRvUmVxdWVzdCwge1xuICAgIHZhbHVlOiBfYWRkVXNlSVBUb1JlcXVlc3QyXG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVxdWVzdERpc3BhdGNoZXIsIF9hZGRBUlBUb1JlcXVlc3QsIHtcbiAgICB2YWx1ZTogX2FkZEFSUFRvUmVxdWVzdDJcbiAgfSk7XG5cbiAgLy8gQ2xldmVyVGFwIHNwZWNpZmljIHV0aWxpdGllc1xuICBjb25zdCBnZXRDYW1wYWlnbk9iamVjdCA9ICgpID0+IHtcbiAgICBsZXQgZmluYWxjYW1wT2JqID0ge307XG5cbiAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgIGxldCBjYW1wT2JqID0gU3RvcmFnZU1hbmFnZXIucmVhZChDQU1QX0NPT0tJRV9OQU1FKTtcblxuICAgICAgaWYgKGNhbXBPYmogIT0gbnVsbCkge1xuICAgICAgICBjYW1wT2JqID0gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoY2FtcE9iaikucmVwbGFjZShzaW5nbGVRdW90ZVJlZ2V4LCAnXFxcIicpKTtcblxuICAgICAgICBpZiAoY2FtcE9iai5oYXNPd25Qcm9wZXJ0eSgnZ2xvYmFsJykpIHtcbiAgICAgICAgICBmaW5hbGNhbXBPYmoud3AgPSBjYW1wT2JqO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZpbmFsY2FtcE9iaiA9IGNhbXBPYmo7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbmFsY2FtcE9iaiA9IHt9O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmaW5hbGNhbXBPYmo7XG4gIH07XG4gIGNvbnN0IHNhdmVDYW1wYWlnbk9iamVjdCA9IGNhbXBhaWduT2JqID0+IHtcbiAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgIGNvbnN0IG5ld09iaiA9IHsgLi4uZ2V0Q2FtcGFpZ25PYmplY3QoKSxcbiAgICAgICAgLi4uY2FtcGFpZ25PYmpcbiAgICAgIH07XG4gICAgICBjb25zdCBjYW1wT2JqID0gSlNPTi5zdHJpbmdpZnkobmV3T2JqKTtcbiAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmUoQ0FNUF9DT09LSUVfTkFNRSwgZW5jb2RlVVJJQ29tcG9uZW50KGNhbXBPYmopKTsgLy8gVXBkYXRlIHRoZSBDQU1QX0NPT0tJRV9HIHRvIGJlIGluIHN5bmMgd2l0aCBDQU1QX0NPT0tJRV9OQU1FXG5cbiAgICAgIHNldENhbXBhaWduT2JqZWN0Rm9yR3VpZCgpO1xuICAgIH1cbiAgfTsgLy8gc2V0IENhbXBhaWduIE9iamVjdCBhZ2FpbnN0IHRoZSBndWlkLCB3aXRoIGRhaWx5IGNvdW50IGFuZCB0b3RhbCBjb3VudCBkZXRhaWxzXG5cbiAgY29uc3Qgc2V0Q2FtcGFpZ25PYmplY3RGb3JHdWlkID0gKCkgPT4ge1xuICAgIGlmIChTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgbGV0IGd1aWQgPSBTdG9yYWdlTWFuYWdlci5yZWFkKEdDT09LSUVfTkFNRSk7XG5cbiAgICAgIGlmIChpc1ZhbHVlVmFsaWQoZ3VpZCkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBndWlkID0gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoU3RvcmFnZU1hbmFnZXIucmVhZChHQ09PS0lFX05BTUUpKSk7XG4gICAgICAgICAgY29uc3QgZ3VpZENhbXBPYmogPSBTdG9yYWdlTWFuYWdlci5yZWFkKENBTVBfQ09PS0lFX0cpID8gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoU3RvcmFnZU1hbmFnZXIucmVhZChDQU1QX0NPT0tJRV9HKSkpIDoge307XG5cbiAgICAgICAgICBpZiAoZ3VpZCAmJiBTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgdmFyIGZpbmFsQ2FtcE9iaiA9IHt9O1xuICAgICAgICAgICAgdmFyIGNhbXBPYmogPSBnZXRDYW1wYWlnbk9iamVjdCgpO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoY2FtcE9iaikuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBjYW1wS2V5T2JqID0gZ3VpZCBpbiBndWlkQ2FtcE9iaiAmJiBPYmplY3Qua2V5cyhndWlkQ2FtcE9ialtndWlkXSkubGVuZ3RoICYmIGd1aWRDYW1wT2JqW2d1aWRdW2tleV0gPyBndWlkQ2FtcE9ialtndWlkXVtrZXldIDoge307XG4gICAgICAgICAgICAgIGNvbnN0IGdsb2JhbE9iaiA9IGNhbXBPYmpba2V5XS5nbG9iYWw7XG4gICAgICAgICAgICAgIGNvbnN0IHRvZGF5ID0gZ2V0VG9kYXkoKTtcbiAgICAgICAgICAgICAgY29uc3QgZGFpbHlPYmogPSBjYW1wT2JqW2tleV1bdG9kYXldO1xuXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgZ2xvYmFsT2JqICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbXBhaWduSWRBcnJheSA9IE9iamVjdC5rZXlzKGdsb2JhbE9iaik7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGluZGV4IGluIGNhbXBhaWduSWRBcnJheSkge1xuICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdE9iaiA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoY2FtcGFpZ25JZEFycmF5Lmhhc093blByb3BlcnR5KGluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZGFpbHlDID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRvdGFsQyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbXBhaWduSWQgPSBjYW1wYWlnbklkQXJyYXlbaW5kZXhdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW1wYWlnbklkID09PSAndGMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhaWx5T2JqICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZGFpbHlPYmpbY2FtcGFpZ25JZF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZGFpbHlDID0gZGFpbHlPYmpbY2FtcGFpZ25JZF07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGdsb2JhbE9iaiAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGdsb2JhbE9ialtjYW1wYWlnbklkXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICB0b3RhbEMgPSBnbG9iYWxPYmpbY2FtcGFpZ25JZF07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXN1bHRPYmogPSBbY2FtcGFpZ25JZCwgZGFpbHlDLCB0b3RhbENdO1xuICAgICAgICAgICAgICAgICAgICBjYW1wS2V5T2JqW2NhbXBhaWduSWRdID0gcmVzdWx0T2JqO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGZpbmFsQ2FtcE9iaiA9IHsgLi4uZmluYWxDYW1wT2JqLFxuICAgICAgICAgICAgICAgIFtrZXldOiBjYW1wS2V5T2JqXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGd1aWRDYW1wT2JqW2d1aWRdID0gZmluYWxDYW1wT2JqO1xuICAgICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZShDQU1QX0NPT0tJRV9HLCBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoZ3VpZENhbXBPYmopKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignSW52YWxpZCBjbGV2ZXJ0YXAgSWQgJyArIGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBnZXRDYW1wYWlnbk9iakZvckxjID0gKCkgPT4ge1xuICAgIC8vIGJlZm9yZSBwcmVwYXJpbmcgZGF0YSB0byBzZW5kIHRvIExDICwgY2hlY2sgaWYgdGhlIGVudHJ5IGZvciB0aGUgZ3VpZCBpcyBhbHJlYWR5IHRoZXJlIGluIENBTVBfQ09PS0lFX0dcbiAgICBjb25zdCBndWlkID0gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoU3RvcmFnZU1hbmFnZXIucmVhZChHQ09PS0lFX05BTUUpKSk7XG4gICAgbGV0IGNhbXBPYmogPSB7fTtcblxuICAgIGlmIChTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgbGV0IHJlc3VsdE9iaiA9IHt9O1xuICAgICAgY2FtcE9iaiA9IGdldENhbXBhaWduT2JqZWN0KCk7XG4gICAgICBjb25zdCBzdG9yYWdlVmFsdWUgPSBTdG9yYWdlTWFuYWdlci5yZWFkKENBTVBfQ09PS0lFX0cpO1xuICAgICAgY29uc3QgZGVjb2RlZFZhbHVlID0gc3RvcmFnZVZhbHVlID8gZGVjb2RlVVJJQ29tcG9uZW50KHN0b3JhZ2VWYWx1ZSkgOiBudWxsO1xuICAgICAgY29uc3QgcGFyc2VkVmFsdWUgPSBkZWNvZGVkVmFsdWUgPyBKU09OLnBhcnNlKGRlY29kZWRWYWx1ZSkgOiBudWxsO1xuICAgICAgY29uc3QgcmVzdWx0T2JqV1AgPSAhIWd1aWQgJiYgc3RvcmFnZVZhbHVlICE9PSB1bmRlZmluZWQgJiYgc3RvcmFnZVZhbHVlICE9PSBudWxsICYmIHBhcnNlZFZhbHVlICYmIHBhcnNlZFZhbHVlW2d1aWRdICYmIHBhcnNlZFZhbHVlW2d1aWRdLndwID8gT2JqZWN0LnZhbHVlcyhwYXJzZWRWYWx1ZVtndWlkXS53cCkgOiBbXTtcbiAgICAgIGNvbnN0IHJlc3VsdE9ialdJID0gISFndWlkICYmIHN0b3JhZ2VWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIHN0b3JhZ2VWYWx1ZSAhPT0gbnVsbCAmJiBwYXJzZWRWYWx1ZSAmJiBwYXJzZWRWYWx1ZVtndWlkXSAmJiBwYXJzZWRWYWx1ZVtndWlkXS53aSA/IE9iamVjdC52YWx1ZXMocGFyc2VkVmFsdWVbZ3VpZF0ud2kpIDogW107XG4gICAgICBjb25zdCB0b2RheSA9IGdldFRvZGF5KCk7XG4gICAgICBsZXQgdG9kYXlDd3AgPSAwO1xuICAgICAgbGV0IHRvZGF5Q3dpID0gMDtcblxuICAgICAgaWYgKGNhbXBPYmoud3AgJiYgY2FtcE9iai53cFt0b2RheV0gJiYgY2FtcE9iai53cFt0b2RheV0udGMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRvZGF5Q3dwID0gY2FtcE9iai53cFt0b2RheV0udGM7XG4gICAgICB9XG5cbiAgICAgIGlmIChjYW1wT2JqLndpICYmIGNhbXBPYmoud2lbdG9kYXldICYmIGNhbXBPYmoud2lbdG9kYXldLnRjICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0b2RheUN3aSA9IGNhbXBPYmoud2lbdG9kYXldLnRjO1xuICAgICAgfVxuXG4gICAgICByZXN1bHRPYmogPSB7XG4gICAgICAgIHdtcDogdG9kYXlDd3AsXG4gICAgICAgIHdpbXA6IHRvZGF5Q3dpLFxuICAgICAgICB0bGM6IHJlc3VsdE9ialdQLFxuICAgICAgICB3aXRsYzogcmVzdWx0T2JqV0lcbiAgICAgIH07XG4gICAgICByZXR1cm4gcmVzdWx0T2JqO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaXNQcm9maWxlVmFsaWQgPSAocHJvZmlsZU9iaiwgX3JlZikgPT4ge1xuICAgIGxldCB7XG4gICAgICBsb2dnZXJcbiAgICB9ID0gX3JlZjtcbiAgICBsZXQgdmFsaWQgPSBmYWxzZTtcblxuICAgIGlmIChpc09iamVjdChwcm9maWxlT2JqKSkge1xuICAgICAgZm9yIChjb25zdCBwcm9maWxlS2V5IGluIHByb2ZpbGVPYmopIHtcbiAgICAgICAgaWYgKHByb2ZpbGVPYmouaGFzT3duUHJvcGVydHkocHJvZmlsZUtleSkpIHtcbiAgICAgICAgICB2YWxpZCA9IHRydWU7XG4gICAgICAgICAgbGV0IHByb2ZpbGVWYWwgPSBwcm9maWxlT2JqW3Byb2ZpbGVLZXldO1xuXG4gICAgICAgICAgaWYgKHByb2ZpbGVWYWwgPT0gbnVsbCkge1xuICAgICAgICAgICAgZGVsZXRlIHByb2ZpbGVPYmpbcHJvZmlsZUtleV07XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocHJvZmlsZUtleSA9PT0gJ0dlbmRlcicgJiYgIXByb2ZpbGVWYWwubWF0Y2goL15NJHxeRiQvKSkge1xuICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihHRU5ERVJfRVJST1IpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwcm9maWxlS2V5ID09PSAnRW1wbG95ZWQnICYmICFwcm9maWxlVmFsLm1hdGNoKC9eWSR8Xk4kLykpIHtcbiAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoRU1QTE9ZRURfRVJST1IpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwcm9maWxlS2V5ID09PSAnTWFycmllZCcgJiYgIXByb2ZpbGVWYWwubWF0Y2goL15ZJHxeTiQvKSkge1xuICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihNQVJSSUVEX0VSUk9SKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocHJvZmlsZUtleSA9PT0gJ0VkdWNhdGlvbicgJiYgIXByb2ZpbGVWYWwubWF0Y2goL15TY2hvb2wkfF5Db2xsZWdlJHxeR3JhZHVhdGUkLykpIHtcbiAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoRURVQ0FUSU9OX0VSUk9SKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocHJvZmlsZUtleSA9PT0gJ0FnZScgJiYgcHJvZmlsZVZhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoaXNDb252ZXJ0aWJsZVRvTnVtYmVyKHByb2ZpbGVWYWwpKSB7XG4gICAgICAgICAgICAgIHByb2ZpbGVPYmouQWdlID0gK3Byb2ZpbGVWYWw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoQUdFX0VSUk9SKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vIGRvYiB3aWxsIGNvbWUgaW4gbGlrZSB0aGlzIC0gJGR0XzE5NDcwODE1IG9yIGRhdGVPYmplY3RcblxuXG4gICAgICAgICAgaWYgKHByb2ZpbGVLZXkgPT09ICdET0InKSB7XG4gICAgICAgICAgICBpZiAoKCEvXlxcJERfLy50ZXN0KHByb2ZpbGVWYWwpIHx8IChwcm9maWxlVmFsICsgJycpLmxlbmd0aCAhPT0gMTEpICYmICFpc0RhdGVPYmplY3QocHJvZmlsZVZhbCkpIHtcbiAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKERPQl9FUlJPUik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc0RhdGVPYmplY3QocHJvZmlsZVZhbCkpIHtcbiAgICAgICAgICAgICAgcHJvZmlsZU9ialtwcm9maWxlS2V5XSA9IGNvbnZlcnRUb1daUktEYXRlKHByb2ZpbGVWYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNEYXRlT2JqZWN0KHByb2ZpbGVWYWwpKSB7XG4gICAgICAgICAgICBwcm9maWxlT2JqW3Byb2ZpbGVLZXldID0gY29udmVydFRvV1pSS0RhdGUocHJvZmlsZVZhbCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHByb2ZpbGVLZXkgPT09ICdQaG9uZScgJiYgIWlzT2JqZWN0RW1wdHkocHJvZmlsZVZhbCkpIHtcbiAgICAgICAgICAgIGlmIChwcm9maWxlVmFsLmxlbmd0aCA+IDggJiYgcHJvZmlsZVZhbC5jaGFyQXQoMCkgPT09ICcrJykge1xuICAgICAgICAgICAgICAvLyB2YWxpZCBwaG9uZSBudW1iZXJcbiAgICAgICAgICAgICAgcHJvZmlsZVZhbCA9IHByb2ZpbGVWYWwuc3Vic3RyaW5nKDEsIHByb2ZpbGVWYWwubGVuZ3RoKTtcblxuICAgICAgICAgICAgICBpZiAoaXNDb252ZXJ0aWJsZVRvTnVtYmVyKHByb2ZpbGVWYWwpKSB7XG4gICAgICAgICAgICAgICAgcHJvZmlsZU9iai5QaG9uZSA9ICtwcm9maWxlVmFsO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKFBIT05FX0ZPUk1BVF9FUlJPUiArICcuIFJlbW92ZWQuJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihQSE9ORV9GT1JNQVRfRVJST1IgKyAnLiBSZW1vdmVkLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghdmFsaWQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBwcm9maWxlT2JqW3Byb2ZpbGVLZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB2YWxpZDtcbiAgfTtcbiAgY29uc3QgcHJvY2Vzc0ZCVXNlck9iaiA9IHVzZXIgPT4ge1xuICAgIGNvbnN0IHByb2ZpbGVEYXRhID0ge307XG4gICAgcHJvZmlsZURhdGEuTmFtZSA9IHVzZXIubmFtZTtcblxuICAgIGlmICh1c2VyLmlkICE9IG51bGwpIHtcbiAgICAgIHByb2ZpbGVEYXRhLkZCSUQgPSB1c2VyLmlkICsgJyc7XG4gICAgfSAvLyBGZWIgMjAxNCAtIEZCIGFubm91bmNlZCBvdmVyIDU4IGdlbmRlciBvcHRpb25zLCBoZW5jZSB3ZSBzcGVjaWZpY2FsbHkgbG9vayBmb3IgbWFsZSBvciBmZW1hbGUuIFJlc3Qgd2UgZG9uJ3QgY2FyZS5cblxuXG4gICAgaWYgKHVzZXIuZ2VuZGVyID09PSAnbWFsZScpIHtcbiAgICAgIHByb2ZpbGVEYXRhLkdlbmRlciA9ICdNJztcbiAgICB9IGVsc2UgaWYgKHVzZXIuZ2VuZGVyID09PSAnZmVtYWxlJykge1xuICAgICAgcHJvZmlsZURhdGEuR2VuZGVyID0gJ0YnO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9maWxlRGF0YS5HZW5kZXIgPSAnTyc7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0SGlnaGVzdEVkdWNhdGlvbiA9IGZ1bmN0aW9uIChlZHVBcnIpIHtcbiAgICAgIGlmIChlZHVBcnIgIT0gbnVsbCkge1xuICAgICAgICBsZXQgY29sbGVnZSA9ICcnO1xuICAgICAgICBsZXQgaGlnaHNjaG9vbCA9ICcnO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWR1QXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgZWR1ID0gZWR1QXJyW2ldO1xuXG4gICAgICAgICAgaWYgKGVkdS50eXBlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBlZHUudHlwZTtcblxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdHcmFkdWF0ZSBTY2hvb2wnKSB7XG4gICAgICAgICAgICAgIHJldHVybiAnR3JhZHVhdGUnO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnQ29sbGVnZScpIHtcbiAgICAgICAgICAgICAgY29sbGVnZSA9ICcxJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0hpZ2ggU2Nob29sJykge1xuICAgICAgICAgICAgICBoaWdoc2Nob29sID0gJzEnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb2xsZWdlID09PSAnMScpIHtcbiAgICAgICAgICByZXR1cm4gJ0NvbGxlZ2UnO1xuICAgICAgICB9IGVsc2UgaWYgKGhpZ2hzY2hvb2wgPT09ICcxJykge1xuICAgICAgICAgIHJldHVybiAnU2Nob29sJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAodXNlci5yZWxhdGlvbnNoaXBfc3RhdHVzICE9IG51bGwpIHtcbiAgICAgIHByb2ZpbGVEYXRhLk1hcnJpZWQgPSAnTic7XG5cbiAgICAgIGlmICh1c2VyLnJlbGF0aW9uc2hpcF9zdGF0dXMgPT09ICdNYXJyaWVkJykge1xuICAgICAgICBwcm9maWxlRGF0YS5NYXJyaWVkID0gJ1knO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGVkdSA9IGdldEhpZ2hlc3RFZHVjYXRpb24odXNlci5lZHVjYXRpb24pO1xuXG4gICAgaWYgKGVkdSAhPSBudWxsKSB7XG4gICAgICBwcm9maWxlRGF0YS5FZHVjYXRpb24gPSBlZHU7XG4gICAgfVxuXG4gICAgY29uc3Qgd29yayA9IHVzZXIud29yayAhPSBudWxsID8gdXNlci53b3JrLmxlbmd0aCA6IDA7XG5cbiAgICBpZiAod29yayA+IDApIHtcbiAgICAgIHByb2ZpbGVEYXRhLkVtcGxveWVkID0gJ1knO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9maWxlRGF0YS5FbXBsb3llZCA9ICdOJztcbiAgICB9XG5cbiAgICBpZiAodXNlci5lbWFpbCAhPSBudWxsKSB7XG4gICAgICBwcm9maWxlRGF0YS5FbWFpbCA9IHVzZXIuZW1haWw7XG4gICAgfVxuXG4gICAgaWYgKHVzZXIuYmlydGhkYXkgIT0gbnVsbCkge1xuICAgICAgY29uc3QgbW1kZHl5ID0gdXNlci5iaXJ0aGRheS5zcGxpdCgnLycpOyAvLyBjb21lcyBpbiBhcyBcIjA4LzE1LzE5NDdcIlxuXG4gICAgICBwcm9maWxlRGF0YS5ET0IgPSBzZXREYXRlKG1tZGR5eVsyXSArIG1tZGR5eVswXSArIG1tZGR5eVsxXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb2ZpbGVEYXRhO1xuICB9O1xuICBjb25zdCBwcm9jZXNzR1BsdXNVc2VyT2JqID0gKHVzZXIsIF9yZWYyKSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGxvZ2dlclxuICAgIH0gPSBfcmVmMjtcbiAgICBjb25zdCBwcm9maWxlRGF0YSA9IHt9O1xuXG4gICAgaWYgKHVzZXIuZGlzcGxheU5hbWUgIT0gbnVsbCkge1xuICAgICAgcHJvZmlsZURhdGEuTmFtZSA9IHVzZXIuZGlzcGxheU5hbWU7XG4gICAgfVxuXG4gICAgaWYgKHVzZXIuaWQgIT0gbnVsbCkge1xuICAgICAgcHJvZmlsZURhdGEuR1BJRCA9IHVzZXIuaWQgKyAnJztcbiAgICB9XG5cbiAgICBpZiAodXNlci5nZW5kZXIgIT0gbnVsbCkge1xuICAgICAgaWYgKHVzZXIuZ2VuZGVyID09PSAnbWFsZScpIHtcbiAgICAgICAgcHJvZmlsZURhdGEuR2VuZGVyID0gJ00nO1xuICAgICAgfSBlbHNlIGlmICh1c2VyLmdlbmRlciA9PT0gJ2ZlbWFsZScpIHtcbiAgICAgICAgcHJvZmlsZURhdGEuR2VuZGVyID0gJ0YnO1xuICAgICAgfSBlbHNlIGlmICh1c2VyLmdlbmRlciA9PT0gJ290aGVyJykge1xuICAgICAgICBwcm9maWxlRGF0YS5HZW5kZXIgPSAnTyc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHVzZXIuaW1hZ2UgIT0gbnVsbCkge1xuICAgICAgaWYgKHVzZXIuaW1hZ2UuaXNEZWZhdWx0ID09PSBmYWxzZSkge1xuICAgICAgICBwcm9maWxlRGF0YS5QaG90byA9IHVzZXIuaW1hZ2UudXJsLnNwbGl0KCc/c3onKVswXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXNlci5lbWFpbHMgIT0gbnVsbCkge1xuICAgICAgZm9yIChsZXQgZW1haWxJZHggPSAwOyBlbWFpbElkeCA8IHVzZXIuZW1haWxzLmxlbmd0aDsgZW1haWxJZHgrKykge1xuICAgICAgICBjb25zdCBlbWFpbE9iaiA9IHVzZXIuZW1haWxzW2VtYWlsSWR4XTtcblxuICAgICAgICBpZiAoZW1haWxPYmoudHlwZSA9PT0gJ2FjY291bnQnKSB7XG4gICAgICAgICAgcHJvZmlsZURhdGEuRW1haWwgPSBlbWFpbE9iai52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1c2VyLm9yZ2FuaXphdGlvbnMgIT0gbnVsbCkge1xuICAgICAgcHJvZmlsZURhdGEuRW1wbG95ZWQgPSAnTic7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXNlci5vcmdhbml6YXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG9yZ09iaiA9IHVzZXIub3JnYW5pemF0aW9uc1tpXTtcblxuICAgICAgICBpZiAob3JnT2JqLnR5cGUgPT09ICd3b3JrJykge1xuICAgICAgICAgIHByb2ZpbGVEYXRhLkVtcGxveWVkID0gJ1knO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHVzZXIuYmlydGhkYXkgIT0gbnVsbCkge1xuICAgICAgY29uc3QgeXl5eW1tZGQgPSB1c2VyLmJpcnRoZGF5LnNwbGl0KCctJyk7IC8vIGNvbWVzIGluIGFzIFwiMTk3Ni0wNy0yN1wiXG5cbiAgICAgIHByb2ZpbGVEYXRhLkRPQiA9IHNldERhdGUoeXl5eW1tZGRbMF0gKyB5eXl5bW1kZFsxXSArIHl5eXltbWRkWzJdKTtcbiAgICB9XG5cbiAgICBpZiAodXNlci5yZWxhdGlvbnNoaXBTdGF0dXMgIT0gbnVsbCkge1xuICAgICAgcHJvZmlsZURhdGEuTWFycmllZCA9ICdOJztcblxuICAgICAgaWYgKHVzZXIucmVsYXRpb25zaGlwU3RhdHVzID09PSAnbWFycmllZCcpIHtcbiAgICAgICAgcHJvZmlsZURhdGEuTWFycmllZCA9ICdZJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsb2dnZXIuZGVidWcoJ2dwbHVzIHVzciBwcm9maWxlICcgKyBKU09OLnN0cmluZ2lmeShwcm9maWxlRGF0YSkpO1xuICAgIHJldHVybiBwcm9maWxlRGF0YTtcbiAgfTtcbiAgY29uc3QgYWRkVG9Mb2NhbFByb2ZpbGVNYXAgPSAocHJvZmlsZU9iaiwgb3ZlcnJpZGUpID0+IHtcbiAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9PSBudWxsKSB7XG4gICAgICAgICRjdC5nbG9iYWxQcm9maWxlTWFwID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKFBSX0NPT0tJRSk7XG5cbiAgICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwID09IG51bGwpIHtcbiAgICAgICAgICAkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9IHt9O1xuICAgICAgICB9XG4gICAgICB9IC8vIE1vdmUgcHJvcHMgZnJvbSBjdXN0b20gYnVja2V0IHRvIG91dHNpZGUuXG5cblxuICAgICAgaWYgKHByb2ZpbGVPYmouX2N1c3RvbSAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBwcm9maWxlT2JqLl9jdXN0b207XG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4ga2V5cykge1xuICAgICAgICAgIGlmIChrZXlzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIHByb2ZpbGVPYmpba2V5XSA9IGtleXNba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgcHJvZmlsZU9iai5fY3VzdG9tO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IHByb3AgaW4gcHJvZmlsZU9iaikge1xuICAgICAgICBpZiAocHJvZmlsZU9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcC5oYXNPd25Qcm9wZXJ0eShwcm9wKSAmJiAhb3ZlcnJpZGUpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICRjdC5nbG9iYWxQcm9maWxlTWFwW3Byb3BdID0gcHJvZmlsZU9ialtwcm9wXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoJGN0Lmdsb2JhbFByb2ZpbGVNYXAuX2N1c3RvbSAhPSBudWxsKSB7XG4gICAgICAgIGRlbGV0ZSAkY3QuZ2xvYmFsUHJvZmlsZU1hcC5fY3VzdG9tO1xuICAgICAgfVxuXG4gICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKFBSX0NPT0tJRSwgJGN0Lmdsb2JhbFByb2ZpbGVNYXApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgY2xvc2VJZnJhbWUgPSAoY2FtcGFpZ25JZCwgZGl2SWRJZ25vcmVkLCBjdXJyZW50U2Vzc2lvbklkKSA9PiB7XG4gICAgaWYgKGNhbXBhaWduSWQgIT0gbnVsbCAmJiBjYW1wYWlnbklkICE9PSAnLTEnKSB7XG4gICAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgY29uc3QgY2FtcGFpZ25PYmogPSBnZXRDYW1wYWlnbk9iamVjdCgpO1xuICAgICAgICBsZXQgc2Vzc2lvbkNhbXBhaWduT2JqID0gY2FtcGFpZ25PYmoud3BbY3VycmVudFNlc3Npb25JZF07XG5cbiAgICAgICAgaWYgKHNlc3Npb25DYW1wYWlnbk9iaiA9PSBudWxsKSB7XG4gICAgICAgICAgc2Vzc2lvbkNhbXBhaWduT2JqID0ge307XG4gICAgICAgICAgY2FtcGFpZ25PYmpbY3VycmVudFNlc3Npb25JZF0gPSBzZXNzaW9uQ2FtcGFpZ25PYmo7XG4gICAgICAgIH1cblxuICAgICAgICBzZXNzaW9uQ2FtcGFpZ25PYmpbY2FtcGFpZ25JZF0gPSAnZG5kJztcbiAgICAgICAgc2F2ZUNhbXBhaWduT2JqZWN0KGNhbXBhaWduT2JqKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoJGN0LmNhbXBhaWduRGl2TWFwICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGRpdklkID0gJGN0LmNhbXBhaWduRGl2TWFwW2NhbXBhaWduSWRdO1xuXG4gICAgICBpZiAoZGl2SWQgIT0gbnVsbCkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaXZJZCkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICBpZiAoZGl2SWQgPT09ICdpbnRlbnRQcmV2aWV3Jykge1xuICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW50ZW50T3BhY2l0eURpdicpICE9IG51bGwpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnRlbnRPcGFjaXR5RGl2Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IGFycCA9IGpzb25NYXAgPT4ge1xuICAgIC8vIEZvciB1bnJlZ2lzdGVyIGNhbGxzIGRvbnQgc2V0IGFycCBpbiBMU1xuICAgIGlmIChqc29uTWFwLnNraXBSZXNBUlAgIT0gbnVsbCAmJiBqc29uTWFwLnNraXBSZXNBUlApIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoJ1VwZGF0ZSBBUlAgUmVxdWVzdCByZWplY3RlZCcsIGpzb25NYXApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgaXNPVUxBUlAgPSBqc29uTWFwW0lTX09VTF0gPT09IHRydWU7XG5cbiAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgIC8vIFVwZGF0ZSBhcnAgb25seSBpZiBpdCBpcyBudWxsIG9yIGFuIG91bCByZXF1ZXN0XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgYXJwRnJvbVN0b3JhZ2UgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoQVJQX0NPT0tJRSk7XG5cbiAgICAgICAgaWYgKGFycEZyb21TdG9yYWdlID09IG51bGwgfHwgaXNPVUxBUlApIHtcbiAgICAgICAgICBhcnBGcm9tU3RvcmFnZSA9IHt9O1xuXG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4ganNvbk1hcCkge1xuICAgICAgICAgICAgaWYgKGpzb25NYXAuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICBpZiAoanNvbk1hcFtrZXldID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBhcnBGcm9tU3RvcmFnZVtrZXldO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFycEZyb21TdG9yYWdlW2tleV0gPSBqc29uTWFwW2tleV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEFSUF9DT09LSUUsIGFycEZyb21TdG9yYWdlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdVbmFibGUgdG8gcGFyc2UgQVJQIEpTT046ICcgKyBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHNldEVudW0gPSAoZW51bVZhbCwgbG9nZ2VyKSA9PiB7XG4gICAgaWYgKGlzU3RyaW5nKGVudW1WYWwpIHx8IGlzTnVtYmVyKGVudW1WYWwpKSB7XG4gICAgICByZXR1cm4gJyRFXycgKyBlbnVtVmFsO1xuICAgIH1cblxuICAgIGxvZ2dlci5lcnJvcihFTlVNX0ZPUk1BVF9FUlJPUik7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUVtYWlsU3Vic2NyaXB0aW9uID0gKHN1YnNjcmlwdGlvbiwgcmVFbmNvZGVkLCBmZXRjaEdyb3VwcywgYWNjb3VudCwgbG9nZ2VyKSA9PiB7XG4gICAgY29uc3QgdXJsUGFyYW1zQXNJcyA9IGdldFVSTFBhcmFtcyhsb2NhdGlvbi5ocmVmKTsgLy8gY2FuJ3QgdXNlIHVybF9wYXJhbXMgYXMgaXQgaXMgaW4gbG93ZXJjYXNlIGFib3ZlXG5cbiAgICBjb25zdCBlbmNvZGVkRW1haWxJZCA9IHVybFBhcmFtc0FzSXMuZTtcbiAgICBjb25zdCBlbmNvZGVkUHJvZmlsZVByb3BzID0gdXJsUGFyYW1zQXNJcy5wO1xuICAgIGNvbnN0IHBhZ2VUeXBlID0gdXJsUGFyYW1zQXNJcy5wYWdlX3R5cGU7XG5cbiAgICBpZiAodHlwZW9mIGVuY29kZWRFbWFpbElkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3QgZGF0YSA9IHt9O1xuICAgICAgZGF0YS5pZCA9IGFjY291bnQuaWQ7IC8vIGFjY291bnRJZFxuXG4gICAgICBkYXRhLnVuc3ViR3JvdXBzID0gJGN0LnVuc3ViR3JvdXBzOyAvLyB1bnN1YnNjcmliZSBncm91cHNcblxuICAgICAgaWYgKCRjdC51cGRhdGVkQ2F0ZWdvcnlMb25nKSB7XG4gICAgICAgIGRhdGFbY2F0ZWdvcnlMb25nS2V5XSA9ICRjdC51cGRhdGVkQ2F0ZWdvcnlMb25nO1xuICAgICAgfVxuXG4gICAgICBsZXQgdXJsID0gYWNjb3VudC5lbWFpbFVSTDtcblxuICAgICAgaWYgKGZldGNoR3JvdXBzKSB7XG4gICAgICAgIHVybCA9IGFkZFRvVVJMKHVybCwgJ2ZldGNoR3JvdXBzJywgZmV0Y2hHcm91cHMpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVFbmNvZGVkKSB7XG4gICAgICAgIHVybCA9IGFkZFRvVVJMKHVybCwgJ2VuY29kZWQnLCByZUVuY29kZWQpO1xuICAgICAgfVxuXG4gICAgICB1cmwgPSBhZGRUb1VSTCh1cmwsICdlJywgZW5jb2RlZEVtYWlsSWQpO1xuICAgICAgdXJsID0gYWRkVG9VUkwodXJsLCAnZCcsIGNvbXByZXNzRGF0YShKU09OLnN0cmluZ2lmeShkYXRhKSwgbG9nZ2VyKSk7XG5cbiAgICAgIGlmIChlbmNvZGVkUHJvZmlsZVByb3BzKSB7XG4gICAgICAgIHVybCA9IGFkZFRvVVJMKHVybCwgJ3AnLCBlbmNvZGVkUHJvZmlsZVByb3BzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN1YnNjcmlwdGlvbiAhPT0gJy0xJykge1xuICAgICAgICB1cmwgPSBhZGRUb1VSTCh1cmwsICdzdWInLCBzdWJzY3JpcHRpb24pO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFnZVR5cGUpIHtcbiAgICAgICAgJGN0Lmdsb2JhbFVuc3Vic2NyaWJlID0gcGFnZVR5cGUgPT09IEdMT0JBTDtcbiAgICAgICAgdXJsID0gYWRkVG9VUkwodXJsLCAncGFnZV90eXBlJywgcGFnZVR5cGUpO1xuICAgICAgfVxuXG4gICAgICBSZXF1ZXN0RGlzcGF0Y2hlci5maXJlUmVxdWVzdCh1cmwpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgX2xvZ2dlciQzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJsb2dnZXJcIik7XG5cbiAgdmFyIF9yZXF1ZXN0JDIgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInJlcXVlc3RcIik7XG5cbiAgdmFyIF9hY2NvdW50ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJhY2NvdW50XCIpO1xuXG4gIHZhciBfb2xkVmFsdWVzJDEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcIm9sZFZhbHVlc1wiKTtcblxuICB2YXIgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImlzUGVyc29uYWxpc2F0aW9uQWN0aXZlXCIpO1xuXG4gIHZhciBfcHJvY2Vzc1Byb2ZpbGVBcnJheSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicHJvY2Vzc1Byb2ZpbGVBcnJheVwiKTtcblxuICBjbGFzcyBQcm9maWxlSGFuZGxlciBleHRlbmRzIEFycmF5IHtcbiAgICBjb25zdHJ1Y3RvcihfcmVmLCB2YWx1ZXMpIHtcbiAgICAgIGxldCB7XG4gICAgICAgIGxvZ2dlcixcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgYWNjb3VudCxcbiAgICAgICAgaXNQZXJzb25hbGlzYXRpb25BY3RpdmVcbiAgICAgIH0gPSBfcmVmO1xuICAgICAgc3VwZXIoKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcHJvY2Vzc1Byb2ZpbGVBcnJheSwge1xuICAgICAgICB2YWx1ZTogX3Byb2Nlc3NQcm9maWxlQXJyYXkyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfbG9nZ2VyJDMsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9yZXF1ZXN0JDIsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9hY2NvdW50LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfb2xkVmFsdWVzJDEsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQxLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDMpW19sb2dnZXIkM10gPSBsb2dnZXI7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMilbX3JlcXVlc3QkMl0gPSByZXF1ZXN0O1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50KVtfYWNjb3VudF0gPSBhY2NvdW50O1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMkMSlbX29sZFZhbHVlcyQxXSA9IHZhbHVlcztcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMSlbX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDFdID0gaXNQZXJzb25hbGlzYXRpb25BY3RpdmU7XG4gICAgfVxuXG4gICAgcHVzaCgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBwcm9maWxlc0FyciA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgcHJvZmlsZXNBcnJbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcHJvY2Vzc1Byb2ZpbGVBcnJheSlbX3Byb2Nlc3NQcm9maWxlQXJyYXldKHByb2ZpbGVzQXJyKTtcblxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgX3Byb2Nlc3NPbGRWYWx1ZXMoKSB7XG4gICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMkMSlbX29sZFZhbHVlcyQxXSkge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Byb2Nlc3NQcm9maWxlQXJyYXkpW19wcm9jZXNzUHJvZmlsZUFycmF5XShfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQxKVtfb2xkVmFsdWVzJDFdKTtcbiAgICAgIH1cblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMkMSlbX29sZFZhbHVlcyQxXSA9IG51bGw7XG4gICAgfVxuXG4gICAgZ2V0QXR0cmlidXRlKHByb3BOYW1lKSB7XG4gICAgICBpZiAoIV9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMSlbX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDFdKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPT0gbnVsbCkge1xuICAgICAgICAkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShQUl9DT09LSUUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoJGN0Lmdsb2JhbFByb2ZpbGVNYXAgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJGN0Lmdsb2JhbFByb2ZpbGVNYXBbcHJvcE5hbWVdO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHthbnl9IGtleVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb21tYW5kXG4gICAgICogaW5jcmVhc2VzIG9yIGRlY3JlYXNlcyB2YWx1ZSBvZiB0aGUgbnVtYmVyIHR5cGUgcHJvcGVydGllcyBpbiBwcm9maWxlIG9iamVjdFxuICAgICAqL1xuICAgIF9oYW5kbGVJbmNyZW1lbnREZWNyZW1lbnRWYWx1ZShrZXksIHZhbHVlLCBjb21tYW5kKSB7XG4gICAgICB2YXIgXyRjdCRnbG9iYWxQcm9maWxlTWFwO1xuXG4gICAgICAvLyBDaGVjayBpZiB0aGUgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIDBcbiAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9PSBudWxsKSB7XG4gICAgICAgICRjdC5nbG9iYWxQcm9maWxlTWFwID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKFBSX0NPT0tJRSk7XG4gICAgICB9XG5cbiAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9PSBudWxsICYmICEoKF8kY3QkZ2xvYmFsUHJvZmlsZU1hcCA9ICRjdC5nbG9iYWxQcm9maWxlTWFwKSA9PT0gbnVsbCB8fCBfJGN0JGdsb2JhbFByb2ZpbGVNYXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8kY3QkZ2xvYmFsUHJvZmlsZU1hcC5oYXNPd25Qcm9wZXJ0eShrZXkpKSkge1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgcHJvZmlsZSBtYXAgYWxyZWFkeSBoYXMgdGhlIHByb3BlcnkgZGVmaW5lZFxuICAgICAgICBjb25zb2xlLmVycm9yKCdLaW5kbHkgY3JlYXRlIHByb2ZpbGUgd2l0aCByZXF1aXJlZCBwcm9wcnR5IHRvIGluY3JlbWVudC9kZWNyZW1lbnQuJyk7XG4gICAgICB9IGVsc2UgaWYgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInIHx8IHZhbHVlIDw9IDApIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignVmFsdWUgc2hvdWxkIGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAwJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBVcGRhdGUgdGhlIHByb2ZpbGUgcHJvcGVydHkgaW4gbG9jYWwgc3RvcmFnZVxuICAgICAgICBpZiAoY29tbWFuZCA9PT0gQ09NTUFORF9JTkNSRU1FTlQpIHtcbiAgICAgICAgICAkY3QuZ2xvYmFsUHJvZmlsZU1hcFtrZXldID0gJGN0Lmdsb2JhbFByb2ZpbGVNYXBba2V5XSArIHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRjdC5nbG9iYWxQcm9maWxlTWFwW2tleV0gPSAkY3QuZ2xvYmFsUHJvZmlsZU1hcFtrZXldIC0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKFBSX0NPT0tJRSwgJGN0Lmdsb2JhbFByb2ZpbGVNYXApOyAvLyBTZW5kIHRoZSB1cGRhdGVkIHZhbHVlIHRvIExDXG5cbiAgICAgICAgbGV0IGRhdGEgPSB7fTtcbiAgICAgICAgY29uc3QgcHJvZmlsZU9iaiA9IHt9O1xuICAgICAgICBkYXRhLnR5cGUgPSAncHJvZmlsZSc7XG4gICAgICAgIHByb2ZpbGVPYmpba2V5XSA9IHtcbiAgICAgICAgICBbY29tbWFuZF06IHZhbHVlXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHByb2ZpbGVPYmoudHogPT0gbnVsbCkge1xuICAgICAgICAgIC8vIHRyeSB0byBhdXRvIGNhcHR1cmUgdXNlciB0aW1lem9uZSBpZiBub3QgcHJlc2VudFxuICAgICAgICAgIHByb2ZpbGVPYmoudHogPSBuZXcgRGF0ZSgpLnRvU3RyaW5nKCkubWF0Y2goLyhbQS1aXStbXFwrLV1bMC05XSspLylbMV07XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLnByb2ZpbGUgPSBwcm9maWxlT2JqO1xuICAgICAgICBkYXRhID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDIpW19yZXF1ZXN0JDJdLmFkZFN5c3RlbURhdGFUb09iamVjdChkYXRhLCB0cnVlKTtcblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMilbX3JlcXVlc3QkMl0uYWRkRmxhZ3MoZGF0YSk7XG5cbiAgICAgICAgY29uc3QgY29tcHJlc3NlZERhdGEgPSBjb21wcmVzc0RhdGEoSlNPTi5zdHJpbmdpZnkoZGF0YSksIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDMpW19sb2dnZXIkM10pO1xuXG4gICAgICAgIGxldCBwYWdlTG9hZFVybCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudClbX2FjY291bnRdLmRhdGFQb3N0VVJMO1xuXG4gICAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICd0eXBlJywgRVZUX1BVU0gpO1xuICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAnZCcsIGNvbXByZXNzZWREYXRhKTtcblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMilbX3JlcXVlc3QkMl0uc2F2ZUFuZEZpcmVSZXF1ZXN0KHBhZ2VMb2FkVXJsLCAkY3QuYmxvY2tSZXF1ZXN0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2FueX0ga2V5XG4gICAgICogQHBhcmFtIHthcnJheX0gYXJyYXlWYWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29tbWFuZFxuICAgICAqIG92ZXJ3cml0ZXMvc2V0cyBuZXcgdmFsdWUocykgYWdhaW5zdCBhIGtleS9wcm9wZXJ0eSBpbiBwcm9maWxlIG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBfaGFuZGxlTXVsdGlWYWx1ZVNldChrZXksIGFycmF5VmFsLCBjb21tYW5kKSB7XG4gICAgICBjb25zdCBhcnJheSA9IFtdO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5VmFsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYXJyYXlWYWxbaV0gPT09ICdudW1iZXInICYmICFhcnJheS5pbmNsdWRlcyhhcnJheVZhbFtpXSkpIHtcbiAgICAgICAgICBhcnJheS5wdXNoKGFycmF5VmFsW2ldKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJyYXlWYWxbaV0gPT09ICdzdHJpbmcnICYmICFhcnJheS5pbmNsdWRlcyhhcnJheVZhbFtpXS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgIGFycmF5LnB1c2goYXJyYXlWYWxbaV0udG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignYXJyYXkgc3VwcG9ydHMgb25seSBzdHJpbmcgb3IgbnVtYmVyIHR5cGUgdmFsdWVzJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwID09IG51bGwpIHtcbiAgICAgICAgdmFyIF9TdG9yYWdlTWFuYWdlciRyZWFkRjtcblxuICAgICAgICAkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9IChfU3RvcmFnZU1hbmFnZXIkcmVhZEYgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoUFJfQ09PS0lFKSkgIT09IG51bGwgJiYgX1N0b3JhZ2VNYW5hZ2VyJHJlYWRGICE9PSB2b2lkIDAgPyBfU3RvcmFnZU1hbmFnZXIkcmVhZEYgOiB7fTtcbiAgICAgIH1cblxuICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXBba2V5XSA9IGFycmF5O1xuICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShQUl9DT09LSUUsICRjdC5nbG9iYWxQcm9maWxlTWFwKTtcbiAgICAgIHRoaXMuc2VuZE11bHRpVmFsdWVEYXRhKGtleSwgYXJyYXlWYWwsIGNvbW1hbmQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7YW55fSBwcm9wS2V5IC0gdGhlIHByb3BlcnR5IG5hbWUgdG8gYmUgYWRkZWQgaW4gdGhlIHByb2ZpbGUgb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmcsIG51bWJlciwgYXJyYXl9IHByb3BWYWwgLSB0aGUgcHJvcGVydHkgdmFsdWUgdG8gYmUgYWRkZWQgYWdhaW5zdCB0aGUgQHByb3BrZXkga2V5XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbW1hbmRcbiAgICAgKiBBZGRzIGFycmF5IG9yIHNpbmdsZSB2YWx1ZSBhZ2FpbnN0IGEga2V5L3Byb3BlcnR5IGluIHByb2ZpbGUgb2JqZWN0XG4gICAgICovXG5cblxuICAgIF9oYW5kbGVNdWx0aVZhbHVlQWRkKHByb3BLZXksIHByb3BWYWwsIGNvbW1hbmQpIHtcbiAgICAgIC8vIEluaXRpYWxpemUgYXJyYXlcbiAgICAgIHZhciBhcnJheSA9IFtdOyAvLyBDaGVjayBpZiBnbG9iYWxQcm9maWxlTWFwIGlzIG51bGwsIGluaXRpYWxpemUgaWYgbmVlZGVkXG5cbiAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9PSBudWxsKSB7XG4gICAgICAgICRjdC5nbG9iYWxQcm9maWxlTWFwID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKFBSX0NPT0tJRSkgfHwge307XG4gICAgICB9IC8vIENoZWNrIGlmIHRoZSB2YWx1ZSB0byBiZSBzZXQgaXMgZWl0aGVyIHN0cmluZyBvciBudW1iZXJcblxuXG4gICAgICBpZiAodHlwZW9mIHByb3BWYWwgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBwcm9wVmFsID09PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAoJGN0Lmdsb2JhbFByb2ZpbGVNYXAuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgICAgICBhcnJheSA9ICRjdC5nbG9iYWxQcm9maWxlTWFwW3Byb3BLZXldO1xuICAgICAgICAgIGFycmF5LnB1c2godHlwZW9mIHByb3BWYWwgPT09ICdudW1iZXInID8gcHJvcFZhbCA6IHByb3BWYWwudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXBbcHJvcEtleV0gPSBwcm9wVmFsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDaGVjayBpZiBwcm9wVmFsIGlzIGFuIGFycmF5XG4gICAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcC5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgICAgIGFycmF5ID0gQXJyYXkuaXNBcnJheSgkY3QuZ2xvYmFsUHJvZmlsZU1hcFtwcm9wS2V5XSkgPyAkY3QuZ2xvYmFsUHJvZmlsZU1hcFtwcm9wS2V5XSA6IFskY3QuZ2xvYmFsUHJvZmlsZU1hcFtwcm9wS2V5XV07XG4gICAgICAgIH0gLy8gQ2hlY2sgZm9yIGNhc2Utc2Vuc2l0aXZlIGlucHV0cyBhbmQgZmlsdGVyIHRoZSBzYW1lIG9uZXNcblxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcFZhbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICh0eXBlb2YgcHJvcFZhbFtpXSA9PT0gJ251bWJlcicgJiYgIWFycmF5LmluY2x1ZGVzKHByb3BWYWxbaV0pKSB7XG4gICAgICAgICAgICBhcnJheS5wdXNoKHByb3BWYWxbaV0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByb3BWYWxbaV0gPT09ICdzdHJpbmcnICYmICFhcnJheS5pbmNsdWRlcyhwcm9wVmFsW2ldLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICBhcnJheS5wdXNoKHByb3BWYWxbaV0udG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJvcFZhbFtpXSA9PT0gJ251bWJlcicgJiYgYXJyYXkuaW5jbHVkZXMocHJvcFZhbFtpXSkgfHwgdHlwZW9mIHByb3BWYWxbaV0gPT09ICdzdHJpbmcnICYmIGFycmF5LmluY2x1ZGVzKHByb3BWYWxbaV0udG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ZhbHVlcyBhbHJlYWR5IGluY2x1ZGVkJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FycmF5IHN1cHBvcnRzIG9ubHkgc3RyaW5nIG9yIG51bWJlciB0eXBlIHZhbHVlcycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBVcGRhdGUgZ2xvYmFsUHJvZmlsZU1hcCB3aXRoIHRoZSBhcnJheVxuXG5cbiAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXBbcHJvcEtleV0gPSBhcnJheTtcbiAgICAgIH0gLy8gU2F2ZSB0byBsb2NhbCBzdG9yYWdlIG9yIGNvb2tpZVxuXG5cbiAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoUFJfQ09PS0lFLCAkY3QuZ2xvYmFsUHJvZmlsZU1hcCk7IC8vIENhbGwgdGhlIHNlbmRNdWx0aVZhbHVlRGF0YSBmdW5jdGlvblxuXG4gICAgICB0aGlzLnNlbmRNdWx0aVZhbHVlRGF0YShwcm9wS2V5LCBwcm9wVmFsLCBjb21tYW5kKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2FueX0gcHJvcEtleVxuICAgICAqIEBwYXJhbSB7c3RyaW5nLCBudW1iZXIsIGFycmF5fSBwcm9wVmFsXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbW1hbmRcbiAgICAgKiByZW1vdmVzIHZhbHVlKHMpIGFnYWluc3QgYSBrZXkvcHJvcGVydHkgaW4gcHJvZmlsZSBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgX2hhbmRsZU11bHRpVmFsdWVSZW1vdmUocHJvcEtleSwgcHJvcFZhbCwgY29tbWFuZCkge1xuICAgICAgdmFyIF8kY3QkZ2xvYmFsUHJvZmlsZU1hcDI7XG5cbiAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9PSBudWxsKSB7XG4gICAgICAgICRjdC5nbG9iYWxQcm9maWxlTWFwID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKFBSX0NPT0tJRSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghKCRjdCA9PT0gbnVsbCB8fCAkY3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfJGN0JGdsb2JhbFByb2ZpbGVNYXAyID0gJGN0Lmdsb2JhbFByb2ZpbGVNYXApID09PSBudWxsIHx8IF8kY3QkZ2xvYmFsUHJvZmlsZU1hcDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8kY3QkZ2xvYmFsUHJvZmlsZU1hcDIuaGFzT3duUHJvcGVydHkocHJvcEtleSkpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJUaGUgcHJvcGVydHkgXCIuY29uY2F0KHByb3BLZXksIFwiIGRvZXMgbm90IGV4aXN0LlwiKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodHlwZW9mIHByb3BWYWwgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBwcm9wVmFsID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHZhciBpbmRleCA9ICRjdC5nbG9iYWxQcm9maWxlTWFwW3Byb3BLZXldLmluZGV4T2YocHJvcFZhbCk7XG5cbiAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAkY3QuZ2xvYmFsUHJvZmlsZU1hcFtwcm9wS2V5XS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IHByb3BWYWwubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgIHZhciBpZHggPSAkY3QuZ2xvYmFsUHJvZmlsZU1hcFtwcm9wS2V5XS5pbmRleE9mKHByb3BWYWxba10pO1xuXG4gICAgICAgICAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAkY3QuZ2xvYmFsUHJvZmlsZU1hcFtwcm9wS2V5XS5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShQUl9DT09LSUUsICRjdC5nbG9iYWxQcm9maWxlTWFwKTtcbiAgICAgIHRoaXMuc2VuZE11bHRpVmFsdWVEYXRhKHByb3BLZXksIHByb3BWYWwsIGNvbW1hbmQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7YW55fSBwcm9wS2V5XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbW1hbmRcbiAgICAgKiBkZWxldGVzIGEga2V5IHZhbHVlIHBhaXIgZnJvbSB0aGUgcHJvZmlsZSBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgX2hhbmRsZU11bHRpVmFsdWVEZWxldGUocHJvcEtleSwgY29tbWFuZCkge1xuICAgICAgdmFyIF8kY3QkZ2xvYmFsUHJvZmlsZU1hcDM7XG5cbiAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9PSBudWxsKSB7XG4gICAgICAgICRjdC5nbG9iYWxQcm9maWxlTWFwID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKFBSX0NPT0tJRSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghKCRjdCA9PT0gbnVsbCB8fCAkY3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfJGN0JGdsb2JhbFByb2ZpbGVNYXAzID0gJGN0Lmdsb2JhbFByb2ZpbGVNYXApID09PSBudWxsIHx8IF8kY3QkZ2xvYmFsUHJvZmlsZU1hcDMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8kY3QkZ2xvYmFsUHJvZmlsZU1hcDMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJUaGUgcHJvcGVydHkgXCIuY29uY2F0KHByb3BLZXksIFwiIGRvZXMgbm90IGV4aXN0LlwiKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGUgJGN0Lmdsb2JhbFByb2ZpbGVNYXBbcHJvcEtleV07XG4gICAgICB9XG5cbiAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoUFJfQ09PS0lFLCAkY3QuZ2xvYmFsUHJvZmlsZU1hcCk7XG4gICAgICB0aGlzLnNlbmRNdWx0aVZhbHVlRGF0YShwcm9wS2V5LCBudWxsLCBjb21tYW5kKTtcbiAgICB9XG5cbiAgICBzZW5kTXVsdGlWYWx1ZURhdGEocHJvcEtleSwgcHJvcFZhbCwgY29tbWFuZCkge1xuICAgICAgLy8gU2VuZCB0aGUgdXBkYXRlZCB2YWx1ZSB0byBMQ1xuICAgICAgbGV0IGRhdGEgPSB7fTtcbiAgICAgIGNvbnN0IHByb2ZpbGVPYmogPSB7fTtcbiAgICAgIGRhdGEudHlwZSA9ICdwcm9maWxlJzsgLy8gdGhpcyByZW1vdmVzIHRoZSBwcm9wZXJ0eSBhdCBiYWNrZW5kXG5cbiAgICAgIHByb2ZpbGVPYmpbcHJvcEtleV0gPSB7XG4gICAgICAgIFtjb21tYW5kXTogY29tbWFuZCA9PT0gQ09NTUFORF9ERUxFVEUgPyB0cnVlIDogcHJvcFZhbFxuICAgICAgfTtcblxuICAgICAgaWYgKHByb2ZpbGVPYmoudHogPT0gbnVsbCkge1xuICAgICAgICBwcm9maWxlT2JqLnR6ID0gbmV3IERhdGUoKS50b1N0cmluZygpLm1hdGNoKC8oW0EtWl0rW1xcKy1dWzAtOV0rKS8pWzFdO1xuICAgICAgfVxuXG4gICAgICBkYXRhLnByb2ZpbGUgPSBwcm9maWxlT2JqO1xuICAgICAgZGF0YSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQyKVtfcmVxdWVzdCQyXS5hZGRTeXN0ZW1EYXRhVG9PYmplY3QoZGF0YSwgdHJ1ZSk7XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQyKVtfcmVxdWVzdCQyXS5hZGRGbGFncyhkYXRhKTtcblxuICAgICAgY29uc3QgY29tcHJlc3NlZERhdGEgPSBjb21wcmVzc0RhdGEoSlNPTi5zdHJpbmdpZnkoZGF0YSksIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDMpW19sb2dnZXIkM10pO1xuXG4gICAgICBsZXQgcGFnZUxvYWRVcmwgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQpW19hY2NvdW50XS5kYXRhUG9zdFVSTDtcblxuICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ3R5cGUnLCBFVlRfUFVTSCk7XG4gICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAnZCcsIGNvbXByZXNzZWREYXRhKTtcblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDIpW19yZXF1ZXN0JDJdLnNhdmVBbmRGaXJlUmVxdWVzdChwYWdlTG9hZFVybCwgJGN0LmJsb2NrUmVxdWVzdCk7XG4gICAgfVxuXG4gIH1cblxuICB2YXIgX3Byb2Nlc3NQcm9maWxlQXJyYXkyID0gZnVuY3Rpb24gX3Byb2Nlc3NQcm9maWxlQXJyYXkyKHByb2ZpbGVBcnIpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9maWxlQXJyKSAmJiBwcm9maWxlQXJyLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAoY29uc3QgaW5kZXggaW4gcHJvZmlsZUFycikge1xuICAgICAgICBpZiAocHJvZmlsZUFyci5oYXNPd25Qcm9wZXJ0eShpbmRleCkpIHtcbiAgICAgICAgICBjb25zdCBvdXRlck9iaiA9IHByb2ZpbGVBcnJbaW5kZXhdO1xuICAgICAgICAgIGxldCBkYXRhID0ge307XG4gICAgICAgICAgbGV0IHByb2ZpbGVPYmo7XG5cbiAgICAgICAgICBpZiAob3V0ZXJPYmouU2l0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBvcmdhbmljIGRhdGEgZnJvbSB0aGUgc2l0ZVxuICAgICAgICAgICAgcHJvZmlsZU9iaiA9IG91dGVyT2JqLlNpdGU7XG5cbiAgICAgICAgICAgIGlmIChpc09iamVjdEVtcHR5KHByb2ZpbGVPYmopIHx8ICFpc1Byb2ZpbGVWYWxpZChwcm9maWxlT2JqLCB7XG4gICAgICAgICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkMylbX2xvZ2dlciQzXVxuICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAob3V0ZXJPYmouRmFjZWJvb2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gZmIgY29ubmVjdCBkYXRhXG4gICAgICAgICAgICBjb25zdCBGYlByb2ZpbGVPYmogPSBvdXRlck9iai5GYWNlYm9vazsgLy8gbWFrZSBzdXJlIHRoYXQgdGhlIG9iamVjdCBjb250YWlucyBhbnkgZGF0YSBhdCBhbGxcblxuICAgICAgICAgICAgaWYgKCFpc09iamVjdEVtcHR5KEZiUHJvZmlsZU9iaikgJiYgIUZiUHJvZmlsZU9iai5lcnJvcikge1xuICAgICAgICAgICAgICBwcm9maWxlT2JqID0gcHJvY2Vzc0ZCVXNlck9iaihGYlByb2ZpbGVPYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAob3V0ZXJPYmpbJ0dvb2dsZSBQbHVzJ10gIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgR1BsdXNQcm9maWxlT2JqID0gb3V0ZXJPYmpbJ0dvb2dsZSBQbHVzJ107XG5cbiAgICAgICAgICAgIGlmICghaXNPYmplY3RFbXB0eShHUGx1c1Byb2ZpbGVPYmopICYmICFHUGx1c1Byb2ZpbGVPYmouZXJyb3IpIHtcbiAgICAgICAgICAgICAgcHJvZmlsZU9iaiA9IHByb2Nlc3NHUGx1c1VzZXJPYmooR1BsdXNQcm9maWxlT2JqLCB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQzKVtfbG9nZ2VyJDNdXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwcm9maWxlT2JqICE9IG51bGwgJiYgIWlzT2JqZWN0RW1wdHkocHJvZmlsZU9iaikpIHtcbiAgICAgICAgICAgIC8vIHByb2ZpbGUgZ290IHNldCBmcm9tIGFib3ZlXG4gICAgICAgICAgICBkYXRhLnR5cGUgPSAncHJvZmlsZSc7XG5cbiAgICAgICAgICAgIGlmIChwcm9maWxlT2JqLnR6ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgLy8gdHJ5IHRvIGF1dG8gY2FwdHVyZSB1c2VyIHRpbWV6b25lIGlmIG5vdCBwcmVzZW50XG4gICAgICAgICAgICAgIHByb2ZpbGVPYmoudHogPSBuZXcgRGF0ZSgpLnRvU3RyaW5nKCkubWF0Y2goLyhbQS1aXStbXFwrLV1bMC05XSspLylbMV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRhdGEucHJvZmlsZSA9IHByb2ZpbGVPYmo7XG4gICAgICAgICAgICBhZGRUb0xvY2FsUHJvZmlsZU1hcChwcm9maWxlT2JqLCB0cnVlKTtcbiAgICAgICAgICAgIGRhdGEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMilbX3JlcXVlc3QkMl0uYWRkU3lzdGVtRGF0YVRvT2JqZWN0KGRhdGEsIHVuZGVmaW5lZCk7XG5cbiAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQyKVtfcmVxdWVzdCQyXS5hZGRGbGFncyhkYXRhKTtcblxuICAgICAgICAgICAgY29uc3QgY29tcHJlc3NlZERhdGEgPSBjb21wcmVzc0RhdGEoSlNPTi5zdHJpbmdpZnkoZGF0YSksIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDMpW19sb2dnZXIkM10pO1xuXG4gICAgICAgICAgICBsZXQgcGFnZUxvYWRVcmwgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQpW19hY2NvdW50XS5kYXRhUG9zdFVSTDtcblxuICAgICAgICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ3R5cGUnLCBFVlRfUFVTSCk7XG4gICAgICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAnZCcsIGNvbXByZXNzZWREYXRhKTtcblxuICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDIpW19yZXF1ZXN0JDJdLnNhdmVBbmRGaXJlUmVxdWVzdChwYWdlTG9hZFVybCwgJGN0LmJsb2NrUmVxdWVzdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBfcmVxdWVzdCQzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJyZXF1ZXN0XCIpO1xuXG4gIHZhciBfbG9nZ2VyJDQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImxvZ2dlclwiKTtcblxuICB2YXIgX2FjY291bnQkMSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYWNjb3VudFwiKTtcblxuICB2YXIgX3Nlc3Npb24kMSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwic2Vzc2lvblwiKTtcblxuICB2YXIgX29sZFZhbHVlcyQyID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJvbGRWYWx1ZXNcIik7XG5cbiAgdmFyIF9kZXZpY2UkMSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZGV2aWNlXCIpO1xuXG4gIHZhciBfcHJvY2Vzc09VTCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicHJvY2Vzc09VTFwiKTtcblxuICB2YXIgX2hhbmRsZUNvb2tpZUZyb21DYWNoZSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiaGFuZGxlQ29va2llRnJvbUNhY2hlXCIpO1xuXG4gIHZhciBfZGVsZXRlVXNlciA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZGVsZXRlVXNlclwiKTtcblxuICB2YXIgX3Byb2Nlc3NMb2dpbkFycmF5ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJwcm9jZXNzTG9naW5BcnJheVwiKTtcblxuICBjbGFzcyBVc2VyTG9naW5IYW5kbGVyIGV4dGVuZHMgQXJyYXkge1xuICAgIGNvbnN0cnVjdG9yKF9yZWYsIHZhbHVlcykge1xuICAgICAgbGV0IHtcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgYWNjb3VudCxcbiAgICAgICAgc2Vzc2lvbixcbiAgICAgICAgbG9nZ2VyLFxuICAgICAgICBkZXZpY2VcbiAgICAgIH0gPSBfcmVmO1xuICAgICAgc3VwZXIoKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcHJvY2Vzc0xvZ2luQXJyYXksIHtcbiAgICAgICAgdmFsdWU6IF9wcm9jZXNzTG9naW5BcnJheTJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9kZWxldGVVc2VyLCB7XG4gICAgICAgIHZhbHVlOiBfZGVsZXRlVXNlcjJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9oYW5kbGVDb29raWVGcm9tQ2FjaGUsIHtcbiAgICAgICAgdmFsdWU6IF9oYW5kbGVDb29raWVGcm9tQ2FjaGUyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcHJvY2Vzc09VTCwge1xuICAgICAgICB2YWx1ZTogX3Byb2Nlc3NPVUwyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcmVxdWVzdCQzLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfbG9nZ2VyJDQsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9hY2NvdW50JDEsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9zZXNzaW9uJDEsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9vbGRWYWx1ZXMkMiwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2RldmljZSQxLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQzKVtfcmVxdWVzdCQzXSA9IHJlcXVlc3Q7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkMSlbX2FjY291bnQkMV0gPSBhY2NvdW50O1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uJDEpW19zZXNzaW9uJDFdID0gc2Vzc2lvbjtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDQpW19sb2dnZXIkNF0gPSBsb2dnZXI7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQyKVtfb2xkVmFsdWVzJDJdID0gdmFsdWVzO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UkMSlbX2RldmljZSQxXSA9IGRldmljZTtcbiAgICB9IC8vIE9uIFVzZXIgTG9naW5cblxuXG4gICAgY2xlYXIoKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ0KVtfbG9nZ2VyJDRdLmRlYnVnKCdjbGVhciBjYWxsZWQuIFJlc2V0IGZsYWcgaGFzIGJlZW4gc2V0LicpO1xuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RlbGV0ZVVzZXIpW19kZWxldGVVc2VyXSgpO1xuXG4gICAgICBTdG9yYWdlTWFuYWdlci5zZXRNZXRhUHJvcChDTEVBUiwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcHVzaCgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBwcm9maWxlc0FyciA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgcHJvZmlsZXNBcnJbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcHJvY2Vzc0xvZ2luQXJyYXkpW19wcm9jZXNzTG9naW5BcnJheV0ocHJvZmlsZXNBcnIpO1xuXG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBfcHJvY2Vzc09sZFZhbHVlcygpIHtcbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQyKVtfb2xkVmFsdWVzJDJdKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcHJvY2Vzc0xvZ2luQXJyYXkpW19wcm9jZXNzTG9naW5BcnJheV0oX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMkMilbX29sZFZhbHVlcyQyXSk7XG4gICAgICB9XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzJDIpW19vbGRWYWx1ZXMkMl0gPSBudWxsO1xuICAgIH1cblxuICB9XG5cbiAgdmFyIF9wcm9jZXNzT1VMMiA9IGZ1bmN0aW9uIF9wcm9jZXNzT1VMMihwcm9maWxlQXJyKSB7XG4gICAgbGV0IHNlbmRPVUxGbGFnID0gdHJ1ZTtcbiAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEZJUkVfUFVTSF9VTlJFR0lTVEVSRUQsIHNlbmRPVUxGbGFnKTtcblxuICAgIGNvbnN0IGFkZFRvSyA9IGlkcyA9PiB7XG4gICAgICBsZXQgayA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShLQ09PS0lFX05BTUUpO1xuICAgICAgY29uc3QgZyA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShHQ09PS0lFX05BTUUpO1xuICAgICAgbGV0IGtJZDtcblxuICAgICAgaWYgKGsgPT0gbnVsbCkge1xuICAgICAgICBrID0ge307XG4gICAgICAgIGtJZCA9IGlkcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIGNoZWNrIGlmIGFscmVhZHkgZXhpc3RzICovXG4gICAgICAgIGtJZCA9IGsuaWQ7XG4gICAgICAgIGxldCBhbm9ueW1vdXNVc2VyID0gZmFsc2U7XG4gICAgICAgIGxldCBmb3VuZEluQ2FjaGUgPSBmYWxzZTtcblxuICAgICAgICBpZiAoa0lkID09IG51bGwpIHtcbiAgICAgICAgICBrSWQgPSBpZHNbMF07XG4gICAgICAgICAgYW5vbnltb3VzVXNlciA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJGN0LkxSVV9DQUNIRSA9PSBudWxsICYmIFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgJGN0LkxSVV9DQUNIRSA9IG5ldyBMUlVDYWNoZShMUlVfQ0FDSEVfU0laRSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYW5vbnltb3VzVXNlcikge1xuICAgICAgICAgIGlmIChnICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGlmIGhhdmUgZ2Nvb2tpZVxuICAgICAgICAgICAgJGN0LkxSVV9DQUNIRS5zZXQoa0lkLCBnKTtcbiAgICAgICAgICAgICRjdC5ibG9ja1JlcXVlc3QgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY2hlY2sgaWYgdGhlIGlkIGlzIHByZXNlbnQgaW4gdGhlIGNhY2hlXG4gICAgICAgICAgLy8gc2V0IGZvdW5kSW5DYWNoZSB0byB0cnVlXG4gICAgICAgICAgZm9yIChjb25zdCBpZHggaW4gaWRzKSB7XG4gICAgICAgICAgICBpZiAoaWRzLmhhc093blByb3BlcnR5KGlkeCkpIHtcbiAgICAgICAgICAgICAgY29uc3QgaWQgPSBpZHNbaWR4XTtcblxuICAgICAgICAgICAgICBpZiAoJGN0LkxSVV9DQUNIRS5jYWNoZVtpZF0pIHtcbiAgICAgICAgICAgICAgICBrSWQgPSBpZDtcbiAgICAgICAgICAgICAgICBmb3VuZEluQ2FjaGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZvdW5kSW5DYWNoZSkge1xuICAgICAgICAgIGlmIChrSWQgIT09ICRjdC5MUlVfQ0FDSEUuZ2V0TGFzdEtleSgpKSB7XG4gICAgICAgICAgICAvLyBOZXcgVXNlciBmb3VuZFxuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBlbnRpcmUgY2FjaGVcbiAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaGFuZGxlQ29va2llRnJvbUNhY2hlKVtfaGFuZGxlQ29va2llRnJvbUNhY2hlXSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZW5kT1VMRmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShGSVJFX1BVU0hfVU5SRUdJU1RFUkVELCBzZW5kT1VMRmxhZyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgZ0Zyb21DYWNoZSA9ICRjdC5MUlVfQ0FDSEUuZ2V0KGtJZCk7XG4gICAgICAgICAgJGN0LkxSVV9DQUNIRS5zZXQoa0lkLCBnRnJvbUNhY2hlKTtcbiAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEdDT09LSUVfTkFNRSwgZ0Zyb21DYWNoZSk7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UkMSlbX2RldmljZSQxXS5nY29va2llID0gZ0Zyb21DYWNoZTtcbiAgICAgICAgICBjb25zdCBsYXN0SyA9ICRjdC5MUlVfQ0FDSEUuZ2V0U2Vjb25kTGFzdEtleSgpO1xuXG4gICAgICAgICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShGSVJFX1BVU0hfVU5SRUdJU1RFUkVEKSAmJiBsYXN0SyAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIENBQ0hFRCBPTEQgVVNFUiBGT1VORC4gVFJBTlNGRVIgUFVTSCBUT0tFTiBUTyBUSElTIFVTRVJcbiAgICAgICAgICAgIGNvbnN0IGxhc3RHVUlEID0gJGN0LkxSVV9DQUNIRS5jYWNoZVtsYXN0S107XG5cbiAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQzKVtfcmVxdWVzdCQzXS51bnJlZ2lzdGVyVG9rZW5Gb3JHdWlkKGxhc3RHVUlEKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFhbm9ueW1vdXNVc2VyKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChnICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UkMSlbX2RldmljZSQxXS5nY29va2llID0gZztcbiAgICAgICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShHQ09PS0lFX05BTUUsIGcpO1xuICAgICAgICAgICAgICBzZW5kT1VMRmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoRklSRV9QVVNIX1VOUkVHSVNURVJFRCwgZmFsc2UpO1xuICAgICAgICAgIGtJZCA9IGlkc1swXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBrLmlkID0ga0lkO1xuICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShLQ09PS0lFX05BTUUsIGspO1xuICAgIH07XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9maWxlQXJyKSAmJiBwcm9maWxlQXJyLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAoY29uc3QgaW5kZXggaW4gcHJvZmlsZUFycikge1xuICAgICAgICBpZiAocHJvZmlsZUFyci5oYXNPd25Qcm9wZXJ0eShpbmRleCkpIHtcbiAgICAgICAgICBjb25zdCBvdXRlck9iaiA9IHByb2ZpbGVBcnJbaW5kZXhdO1xuICAgICAgICAgIGxldCBkYXRhID0ge307XG4gICAgICAgICAgbGV0IHByb2ZpbGVPYmo7XG5cbiAgICAgICAgICBpZiAob3V0ZXJPYmouU2l0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBvcmdhbmljIGRhdGEgZnJvbSB0aGUgc2l0ZVxuICAgICAgICAgICAgcHJvZmlsZU9iaiA9IG91dGVyT2JqLlNpdGU7XG5cbiAgICAgICAgICAgIGlmIChpc09iamVjdEVtcHR5KHByb2ZpbGVPYmopIHx8ICFpc1Byb2ZpbGVWYWxpZChwcm9maWxlT2JqLCB7XG4gICAgICAgICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNClbX2xvZ2dlciQ0XVxuICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAob3V0ZXJPYmouRmFjZWJvb2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gZmIgY29ubmVjdCBkYXRhXG4gICAgICAgICAgICBjb25zdCBGYlByb2ZpbGVPYmogPSBvdXRlck9iai5GYWNlYm9vazsgLy8gbWFrZSBzdXJlIHRoYXQgdGhlIG9iamVjdCBjb250YWlucyBhbnkgZGF0YSBhdCBhbGxcblxuICAgICAgICAgICAgaWYgKCFpc09iamVjdEVtcHR5KEZiUHJvZmlsZU9iaikgJiYgIUZiUHJvZmlsZU9iai5lcnJvcikge1xuICAgICAgICAgICAgICBwcm9maWxlT2JqID0gcHJvY2Vzc0ZCVXNlck9iaihGYlByb2ZpbGVPYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAob3V0ZXJPYmpbJ0dvb2dsZSBQbHVzJ10gIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgR1BsdXNQcm9maWxlT2JqID0gb3V0ZXJPYmpbJ0dvb2dsZSBQbHVzJ107XG5cbiAgICAgICAgICAgIGlmIChpc09iamVjdEVtcHR5KEdQbHVzUHJvZmlsZU9iaikgJiYgIUdQbHVzUHJvZmlsZU9iai5lcnJvcikge1xuICAgICAgICAgICAgICBwcm9maWxlT2JqID0gcHJvY2Vzc0dQbHVzVXNlck9iaihHUGx1c1Byb2ZpbGVPYmosIHtcbiAgICAgICAgICAgICAgICBsb2dnZXI6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDQpW19sb2dnZXIkNF1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHByb2ZpbGVPYmogIT0gbnVsbCAmJiAhaXNPYmplY3RFbXB0eShwcm9maWxlT2JqKSkge1xuICAgICAgICAgICAgLy8gcHJvZmlsZSBnb3Qgc2V0IGZyb20gYWJvdmVcbiAgICAgICAgICAgIGRhdGEudHlwZSA9ICdwcm9maWxlJztcblxuICAgICAgICAgICAgaWYgKHByb2ZpbGVPYmoudHogPT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyB0cnkgdG8gYXV0byBjYXB0dXJlIHVzZXIgdGltZXpvbmUgaWYgbm90IHByZXNlbnRcbiAgICAgICAgICAgICAgcHJvZmlsZU9iai50eiA9IG5ldyBEYXRlKCkudG9TdHJpbmcoKS5tYXRjaCgvKFtBLVpdK1tcXCstXVswLTldKykvKVsxXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF0YS5wcm9maWxlID0gcHJvZmlsZU9iajtcbiAgICAgICAgICAgIGNvbnN0IGlkcyA9IFtdO1xuXG4gICAgICAgICAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgICAgaWYgKHByb2ZpbGVPYmouSWRlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICBpZHMucHVzaChwcm9maWxlT2JqLklkZW50aXR5KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChwcm9maWxlT2JqLkVtYWlsKSB7XG4gICAgICAgICAgICAgICAgaWRzLnB1c2gocHJvZmlsZU9iai5FbWFpbCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAocHJvZmlsZU9iai5HUElEKSB7XG4gICAgICAgICAgICAgICAgaWRzLnB1c2goJ0dQOicgKyBwcm9maWxlT2JqLkdQSUQpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHByb2ZpbGVPYmouRkJJRCkge1xuICAgICAgICAgICAgICAgIGlkcy5wdXNoKCdGQjonICsgcHJvZmlsZU9iai5GQklEKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChpZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGFkZFRvSyhpZHMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFkZFRvTG9jYWxQcm9maWxlTWFwKHByb2ZpbGVPYmosIHRydWUpO1xuICAgICAgICAgICAgZGF0YSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQzKVtfcmVxdWVzdCQzXS5hZGRTeXN0ZW1EYXRhVG9PYmplY3QoZGF0YSwgdW5kZWZpbmVkKTtcblxuICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDMpW19yZXF1ZXN0JDNdLmFkZEZsYWdzKGRhdGEpOyAvLyBBZGRpbmcgJ2lzT1VMJyBmbGFnIGluIHRydWUgZm9yIE9VTCBjYXNlcyB3aGljaC5cbiAgICAgICAgICAgIC8vIFRoaXMgZmxhZyB0ZWxscyBMQyB0byBjcmVhdGUgYSBuZXcgYXJwIG9iamVjdC5cbiAgICAgICAgICAgIC8vIEFsc28gd2Ugd2lsbCByZWNlaXZlIHRoZSBzYW1lIGZsYWcgaW4gcmVzcG9uc2UgYXJwIHdoaWNoIHRlbGxzIHRvIGRlbGV0ZSBleGlzdGluZyBhcnAgb2JqZWN0LlxuXG5cbiAgICAgICAgICAgIGlmIChzZW5kT1VMRmxhZykge1xuICAgICAgICAgICAgICBkYXRhW0lTX09VTF0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjb21wcmVzc2VkRGF0YSA9IGNvbXByZXNzRGF0YShKU09OLnN0cmluZ2lmeShkYXRhKSwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNClbX2xvZ2dlciQ0XSk7XG5cbiAgICAgICAgICAgIGxldCBwYWdlTG9hZFVybCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQxKVtfYWNjb3VudCQxXS5kYXRhUG9zdFVSTDtcblxuICAgICAgICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ3R5cGUnLCBFVlRfUFVTSCk7XG4gICAgICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAnZCcsIGNvbXByZXNzZWREYXRhKTsgLy8gV2hlbmV2ZXIgc2VuZE9VTEZsYWcgaXMgdHJ1ZSB0aGVuIGRvbnQgc2VuZCBhcnAgYW5kIGdjb29raWUgKGd1aWQgaW4gbWVtb3J5IGluIHRoZSByZXF1ZXN0KVxuICAgICAgICAgICAgLy8gQWxzbyB3aGVuIHRoaXMgZmxhZyBpcyBzZXQgd2Ugd2lsbCBnZXQgYW5vdGhlciBmbGFnIGZyb20gTEMgaW4gYXJwIHdoaWNoIHRlbGxzIHVzIHRvIGRlbGV0ZSBhcnBcbiAgICAgICAgICAgIC8vIHN0b3JlZCBpbiB0aGUgY2FjaGUgYW5kIHJlcGxhY2UgaXQgd2l0aCB0aGUgcmVzcG9uc2UgYXJwLlxuXG4gICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMylbX3JlcXVlc3QkM10uc2F2ZUFuZEZpcmVSZXF1ZXN0KHBhZ2VMb2FkVXJsLCAkY3QuYmxvY2tSZXF1ZXN0LCBzZW5kT1VMRmxhZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBfaGFuZGxlQ29va2llRnJvbUNhY2hlMiA9IGZ1bmN0aW9uIF9oYW5kbGVDb29raWVGcm9tQ2FjaGUyKCkge1xuICAgICRjdC5ibG9ja1JlcXVlc3QgPSBmYWxzZTtcbiAgICBjb25zb2xlLmRlYnVnKCdCbG9jayByZXF1ZXN0IGlzIGZhbHNlJyk7XG5cbiAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbUFJfQ09PS0lFXTtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbRVZfQ09PS0lFXTtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbTUVUQV9DT09LSUVdO1xuICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtBUlBfQ09PS0lFXTtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbQ0FNUF9DT09LSUVfTkFNRV07XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW0NIQVJHRURJRF9DT09LSUVfTkFNRV07XG4gICAgfVxuXG4gICAgU3RvcmFnZU1hbmFnZXIucmVtb3ZlQ29va2llKENBTVBfQ09PS0lFX05BTUUsIGdldEhvc3ROYW1lKCkpO1xuICAgIFN0b3JhZ2VNYW5hZ2VyLnJlbW92ZUNvb2tpZShfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMSlbX3Nlc3Npb24kMV0uY29va2llTmFtZSwgJGN0LmJyb2FkRG9tYWluKTtcbiAgICBTdG9yYWdlTWFuYWdlci5yZW1vdmVDb29raWUoQVJQX0NPT0tJRSwgJGN0LmJyb2FkRG9tYWluKTtcblxuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbiQxKVtfc2Vzc2lvbiQxXS5zZXRTZXNzaW9uQ29va2llT2JqZWN0KCcnKTtcbiAgfTtcblxuICB2YXIgX2RlbGV0ZVVzZXIyID0gZnVuY3Rpb24gX2RlbGV0ZVVzZXIyKCkge1xuICAgICRjdC5ibG9ja1JlcXVlc3QgPSB0cnVlO1xuXG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNClbX2xvZ2dlciQ0XS5kZWJ1ZygnQmxvY2sgcmVxdWVzdCBpcyB0cnVlJyk7XG5cbiAgICAkY3QuZ2xvYmFsQ2FjaGUgPSB7XG4gICAgICBnY29va2llOiBudWxsLFxuICAgICAgUkVRX046IDAsXG4gICAgICBSRVNQX046IDBcbiAgICB9O1xuXG4gICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW0dDT09LSUVfTkFNRV07XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW0tDT09LSUVfTkFNRV07XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW1BSX0NPT0tJRV07XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW0VWX0NPT0tJRV07XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW01FVEFfQ09PS0lFXTtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbQVJQX0NPT0tJRV07XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW0NBTVBfQ09PS0lFX05BTUVdO1xuICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtDSEFSR0VESURfQ09PS0lFX05BTUVdO1xuICAgIH1cblxuICAgIFN0b3JhZ2VNYW5hZ2VyLnJlbW92ZUNvb2tpZShHQ09PS0lFX05BTUUsICRjdC5icm9hZERvbWFpbik7XG4gICAgU3RvcmFnZU1hbmFnZXIucmVtb3ZlQ29va2llKENBTVBfQ09PS0lFX05BTUUsIGdldEhvc3ROYW1lKCkpO1xuICAgIFN0b3JhZ2VNYW5hZ2VyLnJlbW92ZUNvb2tpZShLQ09PS0lFX05BTUUsIGdldEhvc3ROYW1lKCkpO1xuICAgIFN0b3JhZ2VNYW5hZ2VyLnJlbW92ZUNvb2tpZShfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMSlbX3Nlc3Npb24kMV0uY29va2llTmFtZSwgJGN0LmJyb2FkRG9tYWluKTtcbiAgICBTdG9yYWdlTWFuYWdlci5yZW1vdmVDb29raWUoQVJQX0NPT0tJRSwgJGN0LmJyb2FkRG9tYWluKTtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSQxKVtfZGV2aWNlJDFdLmdjb29raWUgPSBudWxsO1xuXG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uJDEpW19zZXNzaW9uJDFdLnNldFNlc3Npb25Db29raWVPYmplY3QoJycpO1xuICB9O1xuXG4gIHZhciBfcHJvY2Vzc0xvZ2luQXJyYXkyID0gZnVuY3Rpb24gX3Byb2Nlc3NMb2dpbkFycmF5Mihsb2dpbkFycikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGxvZ2luQXJyKSAmJiBsb2dpbkFyci5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBwcm9maWxlT2JqID0gbG9naW5BcnIucG9wKCk7XG4gICAgICBjb25zdCBwcm9jZXNzUHJvZmlsZSA9IHByb2ZpbGVPYmogIT0gbnVsbCAmJiBpc09iamVjdChwcm9maWxlT2JqKSAmJiAocHJvZmlsZU9iai5TaXRlICE9IG51bGwgJiYgT2JqZWN0LmtleXMocHJvZmlsZU9iai5TaXRlKS5sZW5ndGggPiAwIHx8IHByb2ZpbGVPYmouRmFjZWJvb2sgIT0gbnVsbCAmJiBPYmplY3Qua2V5cyhwcm9maWxlT2JqLkZhY2Vib29rKS5sZW5ndGggPiAwIHx8IHByb2ZpbGVPYmpbJ0dvb2dsZSBQbHVzJ10gIT0gbnVsbCAmJiBPYmplY3Qua2V5cyhwcm9maWxlT2JqWydHb29nbGUgUGx1cyddKS5sZW5ndGggPiAwKTtcblxuICAgICAgaWYgKHByb2Nlc3NQcm9maWxlKSB7XG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNldEluc3RhbnREZWxldGVGbGFnSW5LKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Byb2Nlc3NPVUwpW19wcm9jZXNzT1VMXShbcHJvZmlsZU9ial0pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNClbX2xvZ2dlciQ0XS5kZWJ1ZyhlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNClbX2xvZ2dlciQ0XS5lcnJvcignUHJvZmlsZSBvYmplY3QgaXMgaW4gaW5jb3JyZWN0IGZvcm1hdCcpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjbGFzcyBDVFdlYlBlcnNvbmFsaXNhdGlvbkJhbm5lciBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKCk7XG4gICAgICB0aGlzLl9kZXRhaWxzID0gbnVsbDtcbiAgICAgIHRoaXMuc2hhZG93ID0gbnVsbDtcbiAgICAgIHRoaXMuc2hhZG93ID0gdGhpcy5hdHRhY2hTaGFkb3coe1xuICAgICAgICBtb2RlOiAnb3BlbidcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldCBkZXRhaWxzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RldGFpbHMgfHwgJyc7XG4gICAgfVxuXG4gICAgc2V0IGRldGFpbHModmFsKSB7XG4gICAgICBpZiAodGhpcy5fZGV0YWlscyA9PT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9kZXRhaWxzID0gdmFsO1xuICAgICAgICB0aGlzLnJlbmRlckJhbm5lcigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlckJhbm5lcigpIHtcbiAgICAgIHRoaXMuc2hhZG93LmlubmVySFRNTCA9IHRoaXMuZ2V0QmFubmVyQ29udGVudCgpO1xuXG4gICAgICBpZiAodGhpcy50cmFja0NsaWNrICE9PSBmYWxzZSkge1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IG9uQ2xpY2tVcmwgPSB0aGlzLmRldGFpbHMub25DbGljaztcblxuICAgICAgICAgIGlmIChvbkNsaWNrVXJsKSB7XG4gICAgICAgICAgICB0aGlzLmRldGFpbHMud2luZG93ID8gd2luZG93Lm9wZW4ob25DbGlja1VybCwgJ19ibGFuaycpIDogd2luZG93LnBhcmVudC5sb2NhdGlvbi5ocmVmID0gb25DbGlja1VybDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB3aW5kb3cuY2xldmVydGFwLnJlbmRlck5vdGlmaWNhdGlvbkNsaWNrZWQoe1xuICAgICAgICAgICAgbXNnSWQ6IHRoaXMubXNnSWQsXG4gICAgICAgICAgICBwaXZvdElkOiB0aGlzLnBpdm90SWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHdpbmRvdy5jbGV2ZXJ0YXAucmVuZGVyTm90aWZpY2F0aW9uVmlld2VkKHtcbiAgICAgICAgbXNnSWQ6IHRoaXMubXNnSWQsXG4gICAgICAgIHBpdm90SWQ6IHRoaXMucGl2b3RJZFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0QmFubmVyQ29udGVudCgpIHtcbiAgICAgIHJldHVybiBcIlxcbiAgICAgIDxzdHlsZSB0eXBlPVxcXCJ0ZXh0L2Nzc1xcXCI+XFxuICAgICAgICAuYmFubmVyIHtcXG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICAgICAgICBjdXJzb3I6IFwiLmNvbmNhdCh0aGlzLmRldGFpbHMub25DbGljayA/ICdwb2ludGVyJyA6ICcnLCBcIlxcbiAgICAgICAgfVxcbiAgICAgICAgaW1nIHtcXG4gICAgICAgICAgaGVpZ2h0OiBcIikuY29uY2F0KHRoaXMuZGl2SGVpZ2h0ID8gdGhpcy5kaXZIZWlnaHQgOiAnYXV0bycsIFwiO1xcbiAgICAgICAgICB3aWR0aDogMTAwJTtcXG4gICAgICAgIH1cXG4gICAgICAgIC53cmFwcGVyOmlzKC5sZWZ0LCAucmlnaHQsIC5jZW50ZXIpIHtcXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcXG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgICAgIGhlaWdodDogMTAwJTtcXG4gICAgICAgICAgb3ZlcmZsb3c6IGF1dG87XFxuICAgICAgICAgIHRvcDogMDtcXG4gICAgICAgIH1cXG4gICAgICAgIFwiKS5jb25jYXQodGhpcy5kZXRhaWxzLmNzcyA/IHRoaXMuZGV0YWlscy5jc3MgOiAnJywgXCJcXG4gICAgICA8L3N0eWxlPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImJhbm5lclxcXCI+XFxuICAgICAgICA8cGljdHVyZT5cXG4gICAgICAgICAgPHNvdXJjZSBtZWRpYT1cXFwiKG1pbi13aWR0aDo0ODBweClcXFwiIHNyY3NldD1cXFwiXCIpLmNvbmNhdCh0aGlzLmRldGFpbHMuZGVza3RvcEltYWdlVVJMLCBcIlxcXCI+XFxuICAgICAgICAgIDxzb3VyY2Ugc3Jjc2V0PVxcXCJcIikuY29uY2F0KHRoaXMuZGV0YWlscy5tb2JpbGVJbWFnZVVSTCwgXCJcXFwiPlxcbiAgICAgICAgICA8aW1nIHNyYz1cXFwiXCIpLmNvbmNhdCh0aGlzLmRldGFpbHMuZGVza3RvcEltYWdlVVJMLCBcIlxcXCIgYWx0PVxcXCJQbGVhc2UgdXBsb2FkIGEgcGljdHVyZVxcXCIgc3R5bGU9XFxcIndpZHRoOjEwMCU7XFxcIiBwYXJ0PVxcXCJiYW5uZXJfX2ltZ1xcXCI+XFxuICAgICAgICA8L3BpY3R1cmU+XFxuICAgICAgICBcIikuY29uY2F0KHRoaXMuZGV0YWlscy5odG1sID8gdGhpcy5kZXRhaWxzLmh0bWwgOiAnJywgXCJcXG4gICAgICA8L2Rpdj5cXG4gICAgXCIpO1xuICAgIH1cblxuICB9XG5cbiAgY2xhc3MgQ1RXZWJQZXJzb25hbGlzYXRpb25DYXJvdXNlbCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKCk7XG4gICAgICB0aGlzLl90YXJnZXQgPSBudWxsO1xuICAgICAgdGhpcy5fY2Fyb3VzZWwgPSBudWxsO1xuICAgICAgdGhpcy5zaGFkb3cgPSBudWxsO1xuICAgICAgdGhpcy5zbGlkZXMgPSAwO1xuICAgICAgdGhpcy5wcmV2aW91c2x5U2VsZWN0ZWRJdGVtID0gLTE7XG4gICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IDE7XG4gICAgICB0aGlzLmF1dG9TbGlkZSA9IG51bGw7XG4gICAgICB0aGlzLnN0b3BBdXRvU2xpZGVUaW1lb3V0ID0gbnVsbDtcbiAgICAgIHRoaXMuc2hhZG93ID0gdGhpcy5hdHRhY2hTaGFkb3coe1xuICAgICAgICBtb2RlOiAnb3BlbidcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoY3VzdG9tRWxlbWVudHMuZ2V0KCdjdC13ZWItcGVyc29uYWxpc2F0aW9uLWJhbm5lcicpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdjdC13ZWItcGVyc29uYWxpc2F0aW9uLWJhbm5lcicsIENUV2ViUGVyc29uYWxpc2F0aW9uQmFubmVyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgdGFyZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldCB8fCAnJztcbiAgICB9XG5cbiAgICBzZXQgdGFyZ2V0KHZhbCkge1xuICAgICAgaWYgKHRoaXMuX3RhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICB0aGlzLl90YXJnZXQgPSB2YWw7XG4gICAgICAgIHRoaXMucmVuZGVyQ2Fyb3VzZWwoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgZGV0YWlscygpIHtcbiAgICAgIHJldHVybiB0aGlzLnRhcmdldC5kaXNwbGF5LmRldGFpbHM7XG4gICAgfVxuXG4gICAgZ2V0IGRpc3BsYXkoKSB7XG4gICAgICByZXR1cm4gdGhpcy50YXJnZXQuZGlzcGxheTtcbiAgICB9XG5cbiAgICByZW5kZXJDYXJvdXNlbCgpIHtcbiAgICAgIHRoaXMuc2xpZGVzID0gdGhpcy5kZXRhaWxzLmxlbmd0aDtcbiAgICAgIHRoaXMuc2hhZG93LmlubmVySFRNTCA9IHRoaXMuZ2V0U3R5bGVzKCk7XG4gICAgICBjb25zdCBjYXJvdXNlbCA9IHRoaXMuZ2V0Q2Fyb3VzZWxDb250ZW50KCk7XG5cbiAgICAgIGlmICh0aGlzLmRpc3BsYXkuc2hvd05hdkJ0bnMpIHtcbiAgICAgICAgY2Fyb3VzZWwuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCB0aGlzLmRpc3BsYXkubmF2QnRuc0h0bWwpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5kaXNwbGF5LnNob3dOYXZBcnJvd3MpIHtcbiAgICAgICAgY2Fyb3VzZWwuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCB0aGlzLmRpc3BsYXkubGVmdE5hdkFycm93SHRtbCk7XG4gICAgICAgIGNhcm91c2VsLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgdGhpcy5kaXNwbGF5LnJpZ2h0TmF2QXJyb3dIdG1sKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fY2Fyb3VzZWwgPSBjYXJvdXNlbDtcbiAgICAgIHRoaXMuc2hhZG93LmFwcGVuZENoaWxkKGNhcm91c2VsKTtcbiAgICAgIHRoaXMuc2V0dXBDbGljaygpO1xuICAgICAgdGhpcy51cGRhdGVTZWxlY3RlZEl0ZW0oKTsgLy8gVE9ETzogZW5hYmxlIGNvbmRpdGlvbmFsbHlcblxuICAgICAgdGhpcy5zdGFydEF1dG9TbGlkZSgpO1xuICAgICAgdGhpcy5zZXR1cE9uSG92ZXIoKTtcbiAgICAgIHdpbmRvdy5jbGV2ZXJ0YXAucmVuZGVyTm90aWZpY2F0aW9uVmlld2VkKHtcbiAgICAgICAgbXNnSWQ6IHRoaXMudGFyZ2V0Lnd6cmtfaWQsXG4gICAgICAgIHBpdm90SWQ6IHRoaXMudGFyZ2V0Lnd6cmtfcGl2b3RcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldHVwQ2xpY2soKSB7XG4gICAgICB0aGlzLl9jYXJvdXNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHtcbiAgICAgICAgY29uc3QgZXZlbnRJRCA9IGV2ZW50LnRhcmdldC5pZDtcblxuICAgICAgICBpZiAoZXZlbnRJRC5zdGFydHNXaXRoKCdjYXJvdXNlbF9fYnV0dG9uJykpIHtcbiAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9ICtldmVudElELnNwbGl0KCctJylbMV07XG5cbiAgICAgICAgICBpZiAoc2VsZWN0ZWQgIT09IHRoaXMuc2VsZWN0ZWRJdGVtKSB7XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzbHlTZWxlY3RlZEl0ZW0gPSB0aGlzLnNlbGVjdGVkSXRlbTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gc2VsZWN0ZWQ7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNlbGVjdGVkSXRlbSgpO1xuICAgICAgICAgICAgdGhpcy5zdGFydEF1dG9TbGlkZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChldmVudElELnN0YXJ0c1dpdGgoJ2Nhcm91c2VsX19hcnJvdycpKSB7XG4gICAgICAgICAgZXZlbnRJRC5lbmRzV2l0aCgncmlnaHQnKSA/IHRoaXMuZ29Ub05leHQoKSA6IHRoaXMuZ29Ub1ByZXYoKTtcbiAgICAgICAgICB0aGlzLnN0YXJ0QXV0b1NsaWRlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRJRC5pbmRleE9mKCctJykgPiAtMSkge1xuICAgICAgICAgIGNvbnN0IGl0ZW0gPSArZXZlbnRJRC5zcGxpdCgnLScpWzFdO1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gaXRlbSAtIDE7XG5cbiAgICAgICAgICBpZiAod2luZG93LnBhcmVudC5jbGV2ZXJ0YXApIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdSYWlzZSBub3RpZmljYXRpb24gY2xpY2tlZCBldmVudCBmb3IgJywgaXRlbSlcbiAgICAgICAgICAgIHdpbmRvdy5jbGV2ZXJ0YXAucmVuZGVyTm90aWZpY2F0aW9uQ2xpY2tlZCh7XG4gICAgICAgICAgICAgIG1zZ0lkOiB0aGlzLnRhcmdldC53enJrX2lkLFxuICAgICAgICAgICAgICBwaXZvdElkOiB0aGlzLnRhcmdldC53enJrX3Bpdm90LFxuICAgICAgICAgICAgICB3enJrX3NsaWRlTm86IGl0ZW1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHVybCA9IHRoaXMuZGV0YWlsc1tpbmRleF0ub25DbGljaztcblxuICAgICAgICAgIGlmICh1cmwgIT09ICcnKSB7XG4gICAgICAgICAgICB0aGlzLmRldGFpbHNbaW5kZXhdLndpbmRvdyA/IHdpbmRvdy5vcGVuKHVybCwgJ19ibGFuaycpIDogd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXR1cE9uSG92ZXIoKSB7XG4gICAgICB0aGlzLl9jYXJvdXNlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZXZlbnQgPT4ge1xuICAgICAgICB0aGlzLnN0b3BBdXRvU2xpZGVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5hdXRvU2xpZGUgPSBjbGVhckludGVydmFsKHRoaXMuYXV0b1NsaWRlKTtcbiAgICAgICAgfSwgNTAwKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9jYXJvdXNlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZXZlbnQgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5zdG9wQXV0b1NsaWRlVGltZW91dCk7XG5cbiAgICAgICAgaWYgKHRoaXMuYXV0b1NsaWRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aGlzLnN0YXJ0QXV0b1NsaWRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldENhcm91c2VsQ29udGVudCgpIHtcbiAgICAgIGNvbnN0IGNhcm91c2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjYXJvdXNlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2Nhcm91c2VsJyk7XG4gICAgICB0aGlzLmRldGFpbHMuZm9yRWFjaCgoZGV0YWlsLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IGJhbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2N0LXdlYi1wZXJzb25hbGlzYXRpb24tYmFubmVyJyk7XG4gICAgICAgIGJhbm5lci5jbGFzc0xpc3QuYWRkKCdjYXJvdXNlbF9faXRlbScpO1xuICAgICAgICBiYW5uZXIudHJhY2tDbGljayA9IGZhbHNlO1xuICAgICAgICBiYW5uZXIuc2V0QXR0cmlidXRlKCdpZCcsIFwiY2Fyb3VzZWxfX2l0ZW0tXCIuY29uY2F0KGkgKyAxKSk7XG4gICAgICAgIGJhbm5lci5kZXRhaWxzID0gZGV0YWlsO1xuICAgICAgICBjYXJvdXNlbC5hcHBlbmRDaGlsZChiYW5uZXIpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gY2Fyb3VzZWw7XG4gICAgfVxuXG4gICAgZ2V0U3R5bGVzKCkge1xuICAgICAgdmFyIF90aGlzJHRhcmdldCwgX3RoaXMkdGFyZ2V0JGRpc3BsYXk7XG5cbiAgICAgIHJldHVybiBcIlxcbiAgICAgIDxzdHlsZT5cXG4gICAgICAuY2Fyb3VzZWwge1xcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICAgIH1cXG5cXG4gICAgICAuY2Fyb3VzZWxfX2l0ZW0ge1xcbiAgICAgICAgZGlzcGxheTogbm9uZTtcXG4gICAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xcbiAgICAgIH1cXG5cXG4gICAgICBjdC13ZWItcGVyc29uYWxpc2F0aW9uLWJhbm5lcjo6cGFydChiYW5uZXJfX2ltZykge1xcbiAgICAgICAgaGVpZ2h0OiBcIi5jb25jYXQoKHRoaXMgPT09IG51bGwgfHwgdGhpcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzJHRhcmdldCA9IHRoaXMudGFyZ2V0KSA9PT0gbnVsbCB8fCBfdGhpcyR0YXJnZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdGhpcyR0YXJnZXQkZGlzcGxheSA9IF90aGlzJHRhcmdldC5kaXNwbGF5KSA9PT0gbnVsbCB8fCBfdGhpcyR0YXJnZXQkZGlzcGxheSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkdGFyZ2V0JGRpc3BsYXkuZGl2SGVpZ2h0KSA/IHRoaXMudGFyZ2V0LmRpc3BsYXkuZGl2SGVpZ2h0IDogJ2F1dG8nLCBcIjtcXG4gICAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgICAgdHJhbnNpdGlvbjogMnM7XFxuICAgICAgfVxcblxcbiAgICAgIC5jYXJvdXNlbF9faXRlbS0tc2VsZWN0ZWQge1xcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XFxuICAgICAgfVxcbiAgICAgIFwiKS5jb25jYXQodGhpcy5kaXNwbGF5Lm5hdkJ0bnNDc3MsIFwiXFxuICAgICAgXCIpLmNvbmNhdCh0aGlzLmRpc3BsYXkubmF2QXJyb3dzQ3NzLCBcIlxcbiAgICAgIDwvc3R5bGU+XFxuICBcIik7XG4gICAgfVxuXG4gICAgdXBkYXRlU2VsZWN0ZWRJdGVtKCkge1xuICAgICAgaWYgKHRoaXMucHJldmlvdXNseVNlbGVjdGVkSXRlbSAhPT0gLTEpIHtcbiAgICAgICAgY29uc3QgcHJldkl0ZW0gPSB0aGlzLnNoYWRvdy5nZXRFbGVtZW50QnlJZChcImNhcm91c2VsX19pdGVtLVwiLmNvbmNhdCh0aGlzLnByZXZpb3VzbHlTZWxlY3RlZEl0ZW0pKTtcbiAgICAgICAgY29uc3QgcHJldkJ1dHRvbiA9IHRoaXMuc2hhZG93LmdldEVsZW1lbnRCeUlkKFwiY2Fyb3VzZWxfX2J1dHRvbi1cIi5jb25jYXQodGhpcy5wcmV2aW91c2x5U2VsZWN0ZWRJdGVtKSk7XG4gICAgICAgIHByZXZJdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2Nhcm91c2VsX19pdGVtLS1zZWxlY3RlZCcpO1xuXG4gICAgICAgIGlmIChwcmV2QnV0dG9uKSB7XG4gICAgICAgICAgcHJldkJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdjYXJvdXNlbF9fYnV0dG9uLS1zZWxlY3RlZCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnNoYWRvdy5nZXRFbGVtZW50QnlJZChcImNhcm91c2VsX19pdGVtLVwiLmNvbmNhdCh0aGlzLnNlbGVjdGVkSXRlbSkpO1xuICAgICAgY29uc3QgYnV0dG9uID0gdGhpcy5zaGFkb3cuZ2V0RWxlbWVudEJ5SWQoXCJjYXJvdXNlbF9fYnV0dG9uLVwiLmNvbmNhdCh0aGlzLnNlbGVjdGVkSXRlbSkpO1xuICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdjYXJvdXNlbF9faXRlbS0tc2VsZWN0ZWQnKTtcblxuICAgICAgaWYgKGJ1dHRvbikge1xuICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnY2Fyb3VzZWxfX2J1dHRvbi0tc2VsZWN0ZWQnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdGFydEF1dG9TbGlkZSgpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5hdXRvU2xpZGUpO1xuICAgICAgdGhpcy5hdXRvU2xpZGUgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIHRoaXMuZ29Ub05leHQoKTtcbiAgICAgIH0sIHRoaXMuZGlzcGxheS5zbGlkZXJUaW1lID8gdGhpcy5kaXNwbGF5LnNsaWRlclRpbWUgKiAxMDAwIDogMzAwMCk7XG4gICAgfVxuXG4gICAgZ29Ub05leHQoKSB7XG4gICAgICB0aGlzLmdvVG8odGhpcy5zZWxlY3RlZEl0ZW0sICh0aGlzLnNlbGVjdGVkSXRlbSArIDEpICUgdGhpcy5zbGlkZXMpO1xuICAgIH1cblxuICAgIGdvVG9QcmV2KCkge1xuICAgICAgdGhpcy5nb1RvKHRoaXMuc2VsZWN0ZWRJdGVtLCB0aGlzLnNlbGVjdGVkSXRlbSAtIDEpO1xuICAgIH1cblxuICAgIGdvVG8ocHJldiwgY3VyKSB7XG4gICAgICB0aGlzLnByZXZpb3VzbHlTZWxlY3RlZEl0ZW0gPSBwcmV2O1xuICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSBjdXI7XG5cbiAgICAgIGlmIChjdXIgPT09IDApIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSB0aGlzLnNsaWRlcztcbiAgICAgIH1cblxuICAgICAgdGhpcy51cGRhdGVTZWxlY3RlZEl0ZW0oKTtcbiAgICB9XG5cbiAgfVxuXG4gIGNsYXNzIENUV2ViUG9wdXBJbWFnZU9ubHkgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpO1xuICAgICAgdGhpcy5fdGFyZ2V0ID0gbnVsbDtcbiAgICAgIHRoaXMuX3Nlc3Npb24gPSBudWxsO1xuICAgICAgdGhpcy5zaGFkb3cgPSBudWxsO1xuICAgICAgdGhpcy5wb3B1cCA9IG51bGw7XG4gICAgICB0aGlzLmNvbnRhaW5lciA9IG51bGw7XG4gICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyID0gbnVsbDtcbiAgICAgIHRoaXMuc2hhZG93ID0gdGhpcy5hdHRhY2hTaGFkb3coe1xuICAgICAgICBtb2RlOiAnb3BlbidcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldCB0YXJnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdGFyZ2V0IHx8ICcnO1xuICAgIH1cblxuICAgIHNldCB0YXJnZXQodmFsKSB7XG4gICAgICBpZiAodGhpcy5fdGFyZ2V0ID09PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3RhcmdldCA9IHZhbDtcbiAgICAgICAgdGhpcy5yZW5kZXJJbWFnZU9ubHlQb3B1cCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGdldCBzZXNzaW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Nlc3Npb24gfHwgJyc7XG4gICAgfVxuXG4gICAgc2V0IHNlc3Npb24odmFsKSB7XG4gICAgICB0aGlzLl9zZXNzaW9uID0gdmFsO1xuICAgIH1cblxuICAgIGdldCBtc2dJZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRhcmdldC53enJrX2lkO1xuICAgIH1cblxuICAgIGdldCBwaXZvdElkKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0Lnd6cmtfcGl2b3Q7XG4gICAgfVxuXG4gICAgZ2V0IG9uQ2xpY2tVcmwoKSB7XG4gICAgICByZXR1cm4gdGhpcy50YXJnZXQuZGlzcGxheS5vbkNsaWNrVXJsO1xuICAgIH1cblxuICAgIHJlbmRlckltYWdlT25seVBvcHVwKCkge1xuICAgICAgY29uc3QgY2FtcGFpZ25JZCA9IHRoaXMudGFyZ2V0Lnd6cmtfaWQuc3BsaXQoJ18nKVswXTtcbiAgICAgIGNvbnN0IGN1cnJlbnRTZXNzaW9uSWQgPSB0aGlzLnNlc3Npb24uc2Vzc2lvbklkO1xuICAgICAgdGhpcy5zaGFkb3cuaW5uZXJIVE1MID0gdGhpcy5nZXRJbWFnZU9ubHlQb3B1cENvbnRlbnQoKTtcbiAgICAgIHRoaXMucG9wdXAgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ2ltYWdlT25seVBvcHVwJyk7XG4gICAgICB0aGlzLmNvbnRhaW5lciA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJyk7XG4gICAgICB0aGlzLmNsb3NlSWNvbiA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnY2xvc2UnKTtcbiAgICAgIHRoaXMucG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMudXBkYXRlSW1hZ2VBbmRDb250YWluZXJXaWR0aCgpKTtcbiAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4gdGhpcy5oYW5kbGVSZXNpemUodGhpcy5wb3B1cCwgdGhpcy5jb250YWluZXIpKTtcbiAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnBvcHVwKTtcbiAgICAgIHRoaXMuY2xvc2VJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLnBvcHVwKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3d6cmtJbWFnZU9ubHlEaXYnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB0aGlzLnJlbW92ZSgpO1xuXG4gICAgICAgIGlmIChjYW1wYWlnbklkICE9IG51bGwgJiYgY2FtcGFpZ25JZCAhPT0gJy0xJykge1xuICAgICAgICAgIGlmIChTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgY29uc3QgY2FtcGFpZ25PYmogPSBnZXRDYW1wYWlnbk9iamVjdCgpO1xuICAgICAgICAgICAgbGV0IHNlc3Npb25DYW1wYWlnbk9iaiA9IGNhbXBhaWduT2JqLndwW2N1cnJlbnRTZXNzaW9uSWRdO1xuXG4gICAgICAgICAgICBpZiAoc2Vzc2lvbkNhbXBhaWduT2JqID09IG51bGwpIHtcbiAgICAgICAgICAgICAgc2Vzc2lvbkNhbXBhaWduT2JqID0ge307XG4gICAgICAgICAgICAgIGNhbXBhaWduT2JqW2N1cnJlbnRTZXNzaW9uSWRdID0gc2Vzc2lvbkNhbXBhaWduT2JqO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZXNzaW9uQ2FtcGFpZ25PYmpbY2FtcGFpZ25JZF0gPSAnZG5kJztcbiAgICAgICAgICAgIHNhdmVDYW1wYWlnbk9iamVjdChjYW1wYWlnbk9iaik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5jbGV2ZXJ0YXAucmVuZGVyTm90aWZpY2F0aW9uVmlld2VkKHtcbiAgICAgICAgbXNnSWQ6IHRoaXMubXNnSWQsXG4gICAgICAgIHBpdm90SWQ6IHRoaXMucGl2b3RJZFxuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLm9uQ2xpY2tVcmwpIHtcbiAgICAgICAgdGhpcy5wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICB0aGlzLnRhcmdldC5kaXNwbGF5LndpbmRvdyA/IHdpbmRvdy5vcGVuKHRoaXMub25DbGlja1VybCwgJ19ibGFuaycpIDogd2luZG93LnBhcmVudC5sb2NhdGlvbi5ocmVmID0gdGhpcy5vbkNsaWNrVXJsO1xuICAgICAgICAgIHdpbmRvdy5jbGV2ZXJ0YXAucmVuZGVyTm90aWZpY2F0aW9uQ2xpY2tlZCh7XG4gICAgICAgICAgICBtc2dJZDogdGhpcy5tc2dJZCxcbiAgICAgICAgICAgIHBpdm90SWQ6IHRoaXMucGl2b3RJZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVSZXNpemUocG9wdXAsIGNvbnRhaW5lcikge1xuICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLmdldFJlbmRlcmVkSW1hZ2VXaWR0aChwb3B1cCk7XG4gICAgICBjb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoJ3dpZHRoJywgXCJcIi5jb25jYXQod2lkdGgsIFwicHhcIikpO1xuICAgIH1cblxuICAgIGdldEltYWdlT25seVBvcHVwQ29udGVudCgpIHtcbiAgICAgIHJldHVybiBcIlxcbiAgICAgICAgXCIuY29uY2F0KHRoaXMudGFyZ2V0Lm1zZ0NvbnRlbnQuY3NzLCBcIlxcbiAgICAgICAgXCIpLmNvbmNhdCh0aGlzLnRhcmdldC5tc2dDb250ZW50Lmh0bWwsIFwiXFxuICAgICAgXCIpO1xuICAgIH1cblxuICAgIHVwZGF0ZUltYWdlQW5kQ29udGFpbmVyV2lkdGgoKSB7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuZ2V0UmVuZGVyZWRJbWFnZVdpZHRoKHRoaXMucG9wdXApO1xuICAgICAgICB0aGlzLnBvcHVwLnN0eWxlLnNldFByb3BlcnR5KCd3aWR0aCcsIFwiXCIuY29uY2F0KHdpZHRoLCBcInB4XCIpKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoJ3dpZHRoJywgXCJcIi5jb25jYXQod2lkdGgsIFwicHhcIikpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eSgnaGVpZ2h0JywgJ2F1dG8nKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoJ3Bvc2l0aW9uJywgJ2ZpeGVkJyk7XG4gICAgICAgIHRoaXMucG9wdXAuc3R5bGUuc2V0UHJvcGVydHkoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xuICAgICAgICB0aGlzLmNsb3NlSWNvbi5zdHlsZS5zZXRQcm9wZXJ0eSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3enJrSW1hZ2VPbmx5RGl2Jykuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0UmVuZGVyZWRJbWFnZVdpZHRoKGltZykge1xuICAgICAgY29uc3QgcmF0aW8gPSBpbWcubmF0dXJhbFdpZHRoIC8gaW1nLm5hdHVyYWxIZWlnaHQ7XG4gICAgICByZXR1cm4gaW1nLmhlaWdodCAqIHJhdGlvO1xuICAgIH1cblxuICB9XG5cbiAgY2xhc3MgTWVzc2FnZSBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcsIG1lc3NhZ2UpIHtcbiAgICAgIHN1cGVyKCk7XG4gICAgICB0aGlzLndyYXBwZXIgPSBudWxsO1xuICAgICAgdGhpcy5zbmFja0JhciA9IG51bGw7XG4gICAgICB0aGlzLnNoYWRvdyA9IHRoaXMuYXR0YWNoU2hhZG93KHtcbiAgICAgICAgbW9kZTogJ29wZW4nXG4gICAgICB9KTtcbiAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgIHRoaXMucmVuZGVyTWVzc2FnZShtZXNzYWdlKTtcbiAgICB9XG5cbiAgICBnZXQgcGl2b3RJZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2Uud3pya19waXZvdDtcbiAgICB9XG5cbiAgICBnZXQgY2FtcGFpZ25JZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2Uud3pya19pZDtcbiAgICB9XG5cbiAgICBjcmVhdGVFbCh0eXBlLCBpZCwgcGFydCkge1xuICAgICAgY29uc3QgX2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcblxuICAgICAgX2VsLnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XG5cbiAgICAgIF9lbC5zZXRBdHRyaWJ1dGUoJ3BhcnQnLCBwYXJ0IHx8IGlkKTtcblxuICAgICAgcmV0dXJuIF9lbDtcbiAgICB9XG5cbiAgICByZW5kZXJNZXNzYWdlKG1zZykge1xuICAgICAgdGhpcy53cmFwcGVyID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgJ21lc3NhZ2VXcmFwcGVyJyk7XG5cbiAgICAgIHN3aXRjaCAobXNnLnRlbXBsYXRlVHlwZSkge1xuICAgICAgICBjYXNlICd0ZXh0LW9ubHknOlxuICAgICAgICBjYXNlICd0ZXh0LXdpdGgtaWNvbic6XG4gICAgICAgIGNhc2UgJ3RleHQtd2l0aC1pY29uLWFuZC1pbWFnZSc6XG4gICAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHRoaXMucHJlcGFyZUJhc2ljTWVzc2FnZShtc2cubXNnWzBdKTtcbiAgICAgICAgICAgIHRoaXMud3JhcHBlci5hcHBlbmRDaGlsZChtZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRpbWVTdGFtcCA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsICd0aW1lU3RhbXAnKTtcbiAgICAgIHRpbWVTdGFtcC5pbm5lckhUTUwgPSBcIjxzcGFuPlwiLmNvbmNhdChkZXRlcm1pbmVUaW1lU3RhbXBUZXh0KG1zZy5pZC5zcGxpdCgnXycpWzFdKSwgXCI8c3Bhbj5cIik7XG5cbiAgICAgIGlmICghbXNnLnZpZXdlZCkge1xuICAgICAgICBjb25zdCB1bnJlYWRNYXJrZXIgPSB0aGlzLmNyZWF0ZUVsKCdzcGFuJywgJ3VucmVhZE1hcmtlcicpO1xuICAgICAgICB0aW1lU3RhbXAuYXBwZW5kQ2hpbGQodW5yZWFkTWFya2VyKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKHRpbWVTdGFtcCk7XG4gICAgICB0aGlzLnNoYWRvdy5hcHBlbmRDaGlsZCh0aGlzLndyYXBwZXIpO1xuICAgIH1cblxuICAgIHByZXBhcmVCYXNpY01lc3NhZ2UobXNnKSB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgJ21lc3NhZ2UnKTtcblxuICAgICAgaWYgKG1zZy5pbWFnZVVybCkge1xuICAgICAgICBjb25zdCBpbWFnZUNvbnRhaW5lciA9IHRoaXMuYWRkSW1hZ2UobXNnLmltYWdlVXJsLCAnbWFpbkltZycpO1xuICAgICAgICBtZXNzYWdlLmFwcGVuZENoaWxkKGltYWdlQ29udGFpbmVyKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaWNvblRpdGxlRGVzY1dyYXBwZXIgPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCAnaWNvblRpdGxlRGVzY1dyYXBwZXInKTtcblxuICAgICAgaWYgKG1zZy5pY29uVXJsKSB7XG4gICAgICAgIGNvbnN0IGljb25Db250YWluZXIgPSB0aGlzLmFkZEltYWdlKG1zZy5pY29uVXJsLCAnaWNvbkltZycpO1xuICAgICAgICBpY29uVGl0bGVEZXNjV3JhcHBlci5hcHBlbmRDaGlsZChpY29uQ29udGFpbmVyKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGl0bGVEZXNjV3JhcHBlciA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsICd0aXRsZURlc2NXcmFwcGVyJyk7XG5cbiAgICAgIGlmIChtc2cudGl0bGUpIHtcbiAgICAgICAgY29uc3QgdGl0bGUgPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCAndGl0bGUnKTtcbiAgICAgICAgdGl0bGUuaW5uZXJUZXh0ID0gbXNnLnRpdGxlO1xuICAgICAgICB0aXRsZURlc2NXcmFwcGVyLmFwcGVuZENoaWxkKHRpdGxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1zZy5kZXNjcmlwdGlvbikge1xuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsICdkZXNjcmlwdGlvbicpO1xuICAgICAgICBkZXNjcmlwdGlvbi5pbm5lclRleHQgPSBtc2cuZGVzY3JpcHRpb247XG4gICAgICAgIHRpdGxlRGVzY1dyYXBwZXIuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xuICAgICAgfVxuXG4gICAgICBpZiAobXNnLnRpdGxlIHx8IG1zZy5kZXNjcmlwdGlvbikge1xuICAgICAgICBpY29uVGl0bGVEZXNjV3JhcHBlci5hcHBlbmRDaGlsZCh0aXRsZURlc2NXcmFwcGVyKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1zZy5pY29uVXJsIHx8IG1zZy50aXRsZSB8fCBtc2cuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgbWVzc2FnZS5hcHBlbmRDaGlsZChpY29uVGl0bGVEZXNjV3JhcHBlcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChtc2cuYnV0dG9ucyAmJiBtc2cuYnV0dG9ucy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgYnV0dG9uc0NvbnRhaW5lciA9IHRoaXMuYWRkQnV0dG9ucyhtc2cuYnV0dG9ucyk7XG4gICAgICAgIG1lc3NhZ2UuYXBwZW5kQ2hpbGQoYnV0dG9uc0NvbnRhaW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cblxuICAgIGFkZEJ1dHRvbnMoKSB7XG4gICAgICBsZXQgYnV0dG9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG4gICAgICBjb25zdCBidXR0b25zQ29udGFpbmVyID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgJ2J1dHRvbnNDb250YWluZXInKTtcbiAgICAgIGxldCBoYXNDb3B5QWN0aW9uID0gZmFsc2U7XG4gICAgICBidXR0b25zLmZvckVhY2goKGIsIGkpID0+IHtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gdGhpcy5jcmVhdGVFbCgnYnV0dG9uJywgXCJidXR0b24tXCIuY29uY2F0KGkpLCAnYnV0dG9uJyk7XG4gICAgICAgIGJ1dHRvbi5pbm5lclRleHQgPSBiLnRleHQ7XG5cbiAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgYnV0dG9uLnN0eWxlLmNzc1RleHQgKz0gJ21hcmdpbi1sZWZ0OiAycHg7JztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiLmFjdGlvbiA9PT0gJ2NvcHknKSB7XG4gICAgICAgICAgaGFzQ29weUFjdGlvbiA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBidXR0b25zQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGhhc0NvcHlBY3Rpb24pIHtcbiAgICAgICAgdGhpcy5hZGRTbmFja2JhcihidXR0b25zQ29udGFpbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJ1dHRvbnNDb250YWluZXI7XG4gICAgfVxuXG4gICAgYWRkU25hY2tiYXIoYnV0dG9uc0NvbnRhaW5lcikge1xuICAgICAgdGhpcy5zbmFja0JhciA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsIFwic25hY2tiYXItXCIuY29uY2F0KHRoaXMuY2FtcGFpZ25JZCksICdzbmFja2JhcicpO1xuICAgICAgdGhpcy5zbmFja0Jhci5pbm5lckhUTUwgPSBncmVlblRpY2tTdmc7XG4gICAgICBjb25zdCBjbGlwYm9hcmRNc2cgPSB0aGlzLmNyZWF0ZUVsKCdzcGFuJywgXCJzbmFja2Jhci1tc2ctXCIuY29uY2F0KHRoaXMuY2FtcGFpZ25JZCksICdzbmFja2Jhci1tc2cnKTtcbiAgICAgIGNsaXBib2FyZE1zZy5pbm5lclRleHQgPSAnQ29waWVkIHRvIGNsaXBib2FyZCc7XG4gICAgICB0aGlzLnNuYWNrQmFyLmFwcGVuZENoaWxkKGNsaXBib2FyZE1zZyk7XG4gICAgICBidXR0b25zQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc25hY2tCYXIpO1xuICAgIH1cblxuICAgIGFkZEltYWdlKHVybCwgdHlwZSkge1xuICAgICAgY29uc3QgaW1hZ2VDb250YWluZXIgPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCBcIlwiLmNvbmNhdCh0eXBlLCBcIkNvbnRhaW5lclwiKSk7XG4gICAgICBjb25zdCBpbWFnZSA9IHRoaXMuY3JlYXRlRWwoJ2ltZycsIHR5cGUpO1xuICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCB1cmwpOyAvLyBpbWFnZXMgd2lsbCBiZSBmZXRjaGVkIGFzIGFuZCB3aGVuIHRoZSBlbGVtZW50IGNvbWVzIGludG8gdGhlIHZpZXdwb3J0XG5cbiAgICAgIGltYWdlLnNldEF0dHJpYnV0ZSgnbG9hZGluZycsICdsYXp5Jyk7XG4gICAgICBpbWFnZUNvbnRhaW5lci5hcHBlbmRDaGlsZChpbWFnZSk7XG4gICAgICByZXR1cm4gaW1hZ2VDb250YWluZXI7XG4gICAgfVxuXG4gICAgcmFpc2VDbGlja2VkRXZlbnQocGF0aCwgaXNQcmV2aWV3KSB7XG4gICAgICBzd2l0Y2ggKHRoaXMubWVzc2FnZS50ZW1wbGF0ZVR5cGUpIHtcbiAgICAgICAgY2FzZSAndGV4dC1vbmx5JzpcbiAgICAgICAgY2FzZSAndGV4dC13aXRoLWljb24nOlxuICAgICAgICBjYXNlICd0ZXh0LXdpdGgtaWNvbi1hbmQtaW1hZ2UnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmFpc2VDbGlja2VkRm9yQmFzaWNUZW1wbGF0ZXMocGF0aCwgaXNQcmV2aWV3KTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmFpc2VDbGlja2VkRm9yQmFzaWNUZW1wbGF0ZXMocGF0aCwgaXNQcmV2aWV3KSB7XG4gICAgICBjb25zdCBtc2cgPSB0aGlzLm1lc3NhZ2UubXNnWzBdO1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgbXNnSWQ6IHRoaXMuY2FtcGFpZ25JZCxcbiAgICAgICAgcGl2b3RJZDogdGhpcy5waXZvdElkXG4gICAgICB9O1xuXG4gICAgICBpZiAocGF0aC50YWdOYW1lID09PSAnQlVUVE9OJykge1xuICAgICAgICBjb25zdCBpZCA9IHBhdGguaWQuc3BsaXQoJy0nKVsxXTtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gbXNnLmJ1dHRvbnNbaWRdO1xuICAgICAgICBwYXlsb2FkLmt2ID0ge1xuICAgICAgICAgIHd6cmtfYzJhOiBidXR0b24udGV4dFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChidXR0b24uYWN0aW9uID09PSAndXJsJykge1xuICAgICAgICAgIGJ1dHRvbi5vcGVuVXJsSW5OZXdUYWIgPyB3aW5kb3cub3BlbihidXR0b24udXJsLCAnX2JsYW5rJykgOiB3aW5kb3cubG9jYXRpb24gPSBidXR0b24udXJsO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbi5hY3Rpb24gPT09ICdjb3B5Jykge1xuICAgICAgICAgIHdpbmRvdy5mb2N1cygpO1xuICAgICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGJ1dHRvbi5jbGlwYm9hcmRUZXh0KTtcbiAgICAgICAgICB0aGlzLnNuYWNrQmFyLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ2ZsZXgnLCAnaW1wb3J0YW50Jyk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNuYWNrQmFyLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnLCAnaW1wb3J0YW50Jyk7XG4gICAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocGF0aC50YWdOYW1lID09PSAnQ1QtSU5CT1gtTUVTU0FHRScgJiYgbXNnLm9uQ2xpY2tVcmwpIHtcbiAgICAgICAgbXNnLm9wZW5VcmxJbk5ld1RhYiA/IHdpbmRvdy5vcGVuKG1zZy5vbkNsaWNrVXJsLCAnX2JsYW5rJykgOiB3aW5kb3cubG9jYXRpb24gPSBtc2cub25DbGlja1VybDtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzUHJldmlldykge1xuICAgICAgICBjb25zb2xlLmxvZygnTm90aWZpY3Rpb24gY2xpY2tlZCBldmVudCB3aWxsIGJlIHJhaXNlZCBhdCBydW4gdGltZSB3aXRoIHBheWxvYWQgOjonLCBwYXlsb2FkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5jbGV2ZXJ0YXAucmVuZGVyTm90aWZpY2F0aW9uQ2xpY2tlZChwYXlsb2FkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuXG4gIGNvbnN0IG1lc3NhZ2VTdHlsZXMgPSAoX3JlZikgPT4ge1xuICAgIGxldCB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgICBib3JkZXJDb2xvcixcbiAgICAgIHRpdGxlQ29sb3IsXG4gICAgICBkZXNjcmlwdGlvbkNvbG9yLFxuICAgICAgYnV0dG9uQ29sb3IsXG4gICAgICBidXR0b25UZXh0Q29sb3IsXG4gICAgICB1bnJlYWRNYXJrZXJDb2xvclxuICAgIH0gPSBfcmVmO1xuICAgIHJldHVybiBcIlxcbiAgICA8c3R5bGUgaWQ9XFxcIm1lc3NhZ2VTdHlsZXNcXFwiPlxcbiAgICAgIGN0LWluYm94LW1lc3NhZ2U6OnBhcnQobWVzc2FnZVdyYXBwZXIpIHtcXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7IFxcbiAgICAgIH1cXG4gICAgICBjdC1pbmJveC1tZXNzYWdlOjpwYXJ0KG1lc3NhZ2UpIHtcXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IFwiLmNvbmNhdChiYWNrZ3JvdW5kQ29sb3IsIFwiOyBcXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIFwiKS5jb25jYXQoYm9yZGVyQ29sb3IsIFwiO1xcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OyBcXG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XFxuICAgICAgICBtaW4taGVpZ2h0OiA0MHB4O1xcbiAgICAgIH1cXG4gICAgICBjdC1pbmJveC1tZXNzYWdlOjpwYXJ0KG1lc3NhZ2UpOmhvdmVyIHtcXG4gICAgICAgIGJveC1zaGFkb3c6IDBweCA0cHggOHB4IHJnYigwIDAgMCAvIDEwJSk7XFxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgICAgfVxcbiAgICAgIGN0LWluYm94LW1lc3NhZ2U6OnBhcnQoaWNvblRpdGxlRGVzY1dyYXBwZXIpIHtcXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7IFxcbiAgICAgICAgcGFkZGluZzogMTZweDtcXG4gICAgICB9XFxuICAgICAgY3QtaW5ib3gtbWVzc2FnZTo6cGFydCh0aXRsZURlc2NXcmFwcGVyKSB7XFxuICAgICAgICBkaXNwbGF5OiBmbGV4OyBcXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgICAgfVxcbiAgICAgIGN0LWluYm94LW1lc3NhZ2U6OnBhcnQoaWNvbkltZ0NvbnRhaW5lcikge1xcbiAgICAgICAgZGlzcGxheTogZmxleDsgXFxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDE2cHg7XFxuICAgICAgfVxcbiAgICAgIGN0LWluYm94LW1lc3NhZ2U6OnBhcnQobWFpbkltZ0NvbnRhaW5lcikge1xcbiAgICAgICAgbGluZS1oZWlnaHQ6IDA7XFxuICAgICAgfVxcbiAgICAgIGN0LWluYm94LW1lc3NhZ2U6OnBhcnQobWFpbkltZykge1xcbiAgICAgICAgd2lkdGg6IDEwMCU7IFxcbiAgICAgICAgYmFja2dyb3VuZDogI2IyYjFhZTtcXG4gICAgICB9XFxuICAgICAgY3QtaW5ib3gtbWVzc2FnZTo6cGFydChpY29uSW1nKSB7XFxuICAgICAgICBoZWlnaHQ6IDQwcHg7IFxcbiAgICAgICAgd2lkdGg6IDQwcHg7XFxuICAgICAgfVxcbiAgICAgIGN0LWluYm94LW1lc3NhZ2U6OnBhcnQodGl0bGUpIHtcXG4gICAgICAgIGZvbnQtc2l6ZTogMTRweCAhaW1wb3J0YW50OyBcXG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4OyBcXG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7IFxcbiAgICAgICAgY29sb3I6IFwiKS5jb25jYXQodGl0bGVDb2xvciwgXCJcXG4gICAgICB9XFxuICAgICAgY3QtaW5ib3gtbWVzc2FnZTo6cGFydChkZXNjcmlwdGlvbikge1xcbiAgICAgICAgZm9udC1zaXplOiAxNHB4ICFpbXBvcnRhbnQ7IFxcbiAgICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7IFxcbiAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDsgXFxuICAgICAgICBjb2xvcjogXCIpLmNvbmNhdChkZXNjcmlwdGlvbkNvbG9yLCBcIlxcbiAgICAgIH1cXG4gICAgICBjdC1pbmJveC1tZXNzYWdlOjpwYXJ0KGJ1dHRvbikge1xcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogXCIpLmNvbmNhdChidXR0b25Db2xvciwgXCI7IFxcbiAgICAgICAgY29sb3I6IFwiKS5jb25jYXQoYnV0dG9uVGV4dENvbG9yLCBcIjsgXFxuICAgICAgICBwYWRkaW5nOiA4cHggMTZweDsgXFxuICAgICAgICBmb250LXNpemU6IDEycHg7IFxcbiAgICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7IFxcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsgXFxuICAgICAgICBmbGV4OiAxOyBcXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDBweDsgXFxuICAgICAgICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTsgXFxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7IFxcbiAgICAgICAgYm9yZGVyOiBub25lO1xcbiAgICAgIH1cXG4gICAgICBjdC1pbmJveC1tZXNzYWdlOjpwYXJ0KGJ1dHRvbnNDb250YWluZXIpIHtcXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgICAgfVxcbiAgICAgIGN0LWluYm94LW1lc3NhZ2U6OnBhcnQoc25hY2tiYXIpIHtcXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICAgIHRvcDogY2FsYygtMTAwJSAtIDEycHgpO1xcbiAgICAgICAgbGVmdDogNTAlO1xcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgMHB4KTtcXG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcXG4gICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XFxuICAgICAgICBiYWNrZ3JvdW5kOiAjRkZGRkZGO1xcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI0VDRURGMjtcXG4gICAgICAgIGJveC1zaGFkb3c6IDBweCA0cHggOHB4IHJnYigwIDAgMCAvIDYlKSwgMHB4IDBweCAycHggcmdiKDAgMCAwIC8gNCUpO1xcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgICAgICAgei1pbmRleDogMjtcXG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgICAgICB3aWR0aDogbWF4LWNvbnRlbnQ7XFxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICAgICAgcGFkZGluZzogOHB4IDE2cHg7XFxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgICB9XFxuXFxuICAgICAgY3QtaW5ib3gtbWVzc2FnZTo6cGFydChzbmFja2Jhci1tc2cpIHtcXG4gICAgICAgIGNvbG9yOiBibGFjaztcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7XFxuICAgICAgfVxcblxcbiAgICAgIGN0LWluYm94LW1lc3NhZ2U6OnBhcnQodGltZVN0YW1wKSB7XFxuICAgICAgICBkaXNwbGF5OiBmbGV4OyBcXG4gICAgICAgIGp1c3RpZnktY29udGVudDogZW5kOyBcXG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7IFxcbiAgICAgICAgbWFyZ2luLXRvcDogNHB4OyBcXG4gICAgICAgIGZvbnQtc2l6ZTogMTJweCAhaW1wb3J0YW50OyBcXG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxNnB4OyBcXG4gICAgICAgIGNvbG9yOiBibGFjaztcXG4gICAgICB9XFxuICAgICAgY3QtaW5ib3gtbWVzc2FnZTo6cGFydCh1bnJlYWRNYXJrZXIpIHtcXG4gICAgICAgIGhlaWdodDogOHB4OyBcXG4gICAgICAgIHdpZHRoOiA4cHg7IFxcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOyBcXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IFwiKS5jb25jYXQodW5yZWFkTWFya2VyQ29sb3IsIFwiOyBcXG4gICAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7XFxuICAgICAgfVxcbiAgICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNDIwcHgpIHtcXG4gICAgICAgIGN0LWluYm94LW1lc3NhZ2U6OnBhcnQobWFpbkltZykge1xcbiAgICAgICAgICBoZWlnaHQ6IDE4MHB4O1xcbiAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgPC9zdHlsZT5cXG4gIFwiKTtcbiAgfTtcbiAgY29uc3QgaW5ib3hDb250YWluZXJTdHlsZXMgPSAoX3JlZjIpID0+IHtcbiAgICBsZXQge1xuICAgICAgcGFuZWxCYWNrZ3JvdW5kQ29sb3IsXG4gICAgICBwYW5lbEJvcmRlckNvbG9yLFxuICAgICAgaGVhZGVyQmFja2dyb3VuZENvbG9yLFxuICAgICAgaGVhZGVyVGl0bGVDb2xvcixcbiAgICAgIGNsb3NlSWNvbkNvbG9yLFxuICAgICAgY2F0ZWdvcmllc1RhYkNvbG9yLFxuICAgICAgY2F0ZWdvcmllc1RpdGxlQ29sb3IsXG4gICAgICBjYXRlZ29yaWVzQm9yZGVyQ29sb3IsXG4gICAgICBzZWxlY3RlZENhdGVnb3J5VGFiQ29sb3IsXG4gICAgICBzZWxlY3RlZENhdGVnb3J5VGl0bGVDb2xvcixcbiAgICAgIHNlbGVjdGVkQ2F0ZWdvcnlCb3JkZXJDb2xvcixcbiAgICAgIGhlYWRlckNhdGVnb3J5SGVpZ2h0XG4gICAgfSA9IF9yZWYyO1xuICAgIHJldHVybiBcIlxcbiAgICAgIDxzdHlsZSBpZD1cXFwid2ViSW5ib3hTdHlsZXNcXFwiPlxcbiAgICAgICAgI2luYm94IHtcXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsgXFxuICAgICAgICAgIGRpc3BsYXk6IG5vbmU7IFxcbiAgICAgICAgICBib3gtc2hhZG93OiAwcHggMnB4IDEwcHggMHB4ICNkN2Q3ZDc5MTtcXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogXCIuY29uY2F0KHBhbmVsQmFja2dyb3VuZENvbG9yLCBcIjsgXFxuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIFwiKS5jb25jYXQocGFuZWxCb3JkZXJDb2xvciwgXCI7XFxuICAgICAgICAgIHRvcDogMDtcXG4gICAgICAgICAgbGVmdDogMDtcXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgICAgICBvdmVyZmxvdzogYXV0bztcXG4gICAgICAgICAgei1pbmRleDogMTtcXG4gICAgICAgICAgYm94LXNpemluZzogY29udGVudC1ib3g7XFxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gICAgICAgIH1cXG4gIFxcbiAgICAgICAgI2VtcHR5SW5ib3hNc2cge1xcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgICAgICAgcGFkZGluZzogMTBweDtcXG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICAgICAgICBjb2xvcjogYmxhY2s7XFxuICAgICAgICB9XFxuICBcXG4gICAgICAgICNoZWFkZXIge1xcbiAgICAgICAgICBoZWlnaHQ6IDM2cHg7IFxcbiAgICAgICAgICB3aWR0aDogMTAwJTsgXFxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7IFxcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgXFxuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7IFxcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIikuY29uY2F0KGhlYWRlckJhY2tncm91bmRDb2xvciwgXCI7IFxcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jYXJkLWJnLCBcIikuY29uY2F0KGhlYWRlckJhY2tncm91bmRDb2xvciwgXCIpO1xcbiAgICAgICAgICBjb2xvcjogXCIpLmNvbmNhdChoZWFkZXJUaXRsZUNvbG9yLCBcIlxcbiAgICAgICAgfVxcbiAgXFxuICAgICAgICAjY2xvc2VJbmJveCB7XFxuICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDsgXFxuICAgICAgICAgIG1hcmdpbi1yaWdodDogMTJweDsgXFxuICAgICAgICAgIGNvbG9yOiBcIikuY29uY2F0KGNsb3NlSWNvbkNvbG9yLCBcIjsgXFxuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgICAgIH1cXG4gIFxcbiAgICAgICAgI2hlYWRlclRpdGxlIHtcXG4gICAgICAgICAgZm9udC1zaXplOiAxNHB4OyBcXG4gICAgICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7IFxcbiAgICAgICAgICBmbGV4LWdyb3c6IDE7IFxcbiAgICAgICAgICBmb250LXdlaWdodDogNzAwOyBcXG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICAgICAgICBmbGV4LWdyb3c6IDE7XFxuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgICAgIH1cXG4gIFxcbiAgICAgICAgI2NhdGVnb3JpZXNDb250YWluZXIge1xcbiAgICAgICAgICBwYWRkaW5nOiAxNnB4IDE2cHggMCAxNnB4OyBcXG4gICAgICAgICAgaGVpZ2h0OiAzMnB4OyBcXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcXG4gICAgICAgICAgc2Nyb2xsLWJlaGF2aW9yOiBzbW9vdGg7XFxuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgICNjYXRlZ29yaWVzV3JhcHBlciB7XFxuICAgICAgICAgIGhlaWdodDogMzJweDsgXFxuICAgICAgICAgIG92ZXJmbG93LXg6IHNjcm9sbDtcXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcXG4gICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gICAgICAgICAgc2Nyb2xsYmFyLXdpZHRoOiBub25lO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgI2NhdGVnb3JpZXNXcmFwcGVyOjotd2Via2l0LXNjcm9sbGJhciB7XFxuICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgICAgICB9XFxuICBcXG4gICAgICAgICNsZWZ0QXJyb3csICNyaWdodEFycm93IHtcXG4gICAgICAgICAgaGVpZ2h0OiAzMnB4O1xcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICAgICAgICBmb250LXdlaWdodDogNzAwO1xcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgICAgIHotaW5kZXg6IDI7XFxuICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAjbGVmdEFycm93IHtcXG4gICAgICAgICAgbGVmdDogMDtcXG4gICAgICAgICAgcGFkZGluZy1sZWZ0OiA0cHg7XFxuICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDE2cHg7XFxuICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgXCIpLmNvbmNhdChwYW5lbEJhY2tncm91bmRDb2xvciwgXCIgMCUsIFwiKS5jb25jYXQocGFuZWxCYWNrZ3JvdW5kQ29sb3IsIFwiOTkgODAlLCBcIikuY29uY2F0KHBhbmVsQmFja2dyb3VuZENvbG9yLCBcIjBkIDEwMCUpO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgI3JpZ2h0QXJyb3cge1xcbiAgICAgICAgICByaWdodDogMDtcXG4gICAgICAgICAgcGFkZGluZy1yaWdodDogNHB4O1xcbiAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDE2cHg7XFxuICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgtOTBkZWcsIFwiKS5jb25jYXQocGFuZWxCYWNrZ3JvdW5kQ29sb3IsIFwiIDAlLCBcIikuY29uY2F0KHBhbmVsQmFja2dyb3VuZENvbG9yLCBcIjk5IDgwJSwgXCIpLmNvbmNhdChwYW5lbEJhY2tncm91bmRDb2xvciwgXCIwZCAxMDAlKTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIFtpZF49XFxcImNhdGVnb3J5LVxcXCJdIHtcXG4gICAgICAgICAgZGlzcGxheTogZmxleDsgXFxuICAgICAgICAgIGZsZXg6IDEgMSAwOyBcXG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IFxcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOyBcXG4gICAgICAgICAgZm9udC1zaXplOiAxNHB4OyBcXG4gICAgICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7IFxcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIikuY29uY2F0KGNhdGVnb3JpZXNUYWJDb2xvciwgXCI7IFxcbiAgICAgICAgICBjb2xvcjogXCIpLmNvbmNhdChjYXRlZ29yaWVzVGl0bGVDb2xvciwgXCI7IFxcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgICAgICAgIHBhZGRpbmc6IDZweCAyNHB4O1xcbiAgICAgICAgICBtYXJnaW46IDAgM3B4O1xcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAxNnB4O1xcbiAgICAgICAgICBib3JkZXI6IFwiKS5jb25jYXQoY2F0ZWdvcmllc0JvcmRlckNvbG9yID8gJzFweCBzb2xpZCAnICsgY2F0ZWdvcmllc0JvcmRlckNvbG9yIDogJ25vbmUnLCBcIjtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIFtpZF49XFxcImNhdGVnb3J5LVxcXCJdW3NlbGVjdGVkPVxcXCJ0cnVlXFxcIl0ge1xcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIikuY29uY2F0KHNlbGVjdGVkQ2F0ZWdvcnlUYWJDb2xvciwgXCI7IFxcbiAgICAgICAgICBjb2xvcjogXCIpLmNvbmNhdChzZWxlY3RlZENhdGVnb3J5VGl0bGVDb2xvciwgXCI7IFxcbiAgICAgICAgICBib3JkZXI6IFwiKS5jb25jYXQoc2VsZWN0ZWRDYXRlZ29yeUJvcmRlckNvbG9yID8gJzFweCBzb2xpZCAnICsgc2VsZWN0ZWRDYXRlZ29yeUJvcmRlckNvbG9yIDogJ25vbmUnLCBcIlxcbiAgICAgICAgfVxcbiAgXFxuICAgICAgICAjaW5ib3hDYXJkIHtcXG4gICAgICAgICAgcGFkZGluZzogMCAxNnB4IDAgMTZweDtcXG4gICAgICAgICAgb3ZlcmZsb3cteTogYXV0bztcXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgICAgICAgbWFyZ2luLXRvcDogMTZweDtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNDgwcHgpIHtcXG4gICAgICAgICAgI2luYm94IHtcXG4gICAgICAgICAgICB3aWR0aDogdmFyKC0taW5ib3gtd2lkdGgsIDM5MnB4KTtcXG4gICAgICAgICAgICBoZWlnaHQ6IHZhcigtLWluYm94LWhlaWdodCwgNTQ2cHgpO1xcbiAgICAgICAgICAgIHBvc2l0aW9uOiB2YXIoLS1pbmJveC1wb3NpdGlvbiwgZml4ZWQpO1xcbiAgICAgICAgICAgIHJpZ2h0OiB2YXIoLS1pbmJveC1yaWdodCwgdW5zZXQpO1xcbiAgICAgICAgICAgIGJvdHRvbTogdmFyKC0taW5ib3gtYm90dG9tLCB1bnNldCk7XFxuICAgICAgICAgICAgdG9wOiB2YXIoLS1pbmJveC10b3AsIHVuc2V0KTtcXG4gICAgICAgICAgICBsZWZ0OiB2YXIoLS1pbmJveC1sZWZ0LCB1bnNldCk7XFxuICAgICAgICAgIH1cXG4gIFxcbiAgICAgICAgICAjaW5ib3hDYXJkIHtcXG4gICAgICAgICAgICBoZWlnaHQ6IGNhbGModmFyKC0taW5ib3gtaGVpZ2h0LCA1NDZweCkgLSBcIikuY29uY2F0KGhlYWRlckNhdGVnb3J5SGVpZ2h0LCBcInB4KTsgXFxuICAgICAgICAgIH1cXG4gIFxcbiAgICAgICAgfVxcbiAgICAgIDwvc3R5bGU+XFxuICAgICAgXCIpO1xuICB9O1xuXG4gIGNsYXNzIEluYm94IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKGxvZ2dlcikge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIHRoaXMuaXNJbmJveE9wZW4gPSBmYWxzZTtcbiAgICAgIHRoaXMuaXNJbmJveEZyb21GbHV0dGVyID0gZmFsc2U7XG4gICAgICB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPSBudWxsO1xuICAgICAgdGhpcy51bnZpZXdlZE1lc3NhZ2VzID0ge307XG4gICAgICB0aGlzLnVudmlld2VkQ291bnRlciA9IDA7XG4gICAgICB0aGlzLmlzUHJldmlldyA9IGZhbHNlO1xuICAgICAgdGhpcy5pbmJveENvbmZpZ0ZvclByZXZpZXcgPSB7fTtcbiAgICAgIHRoaXMuaW5ib3hTZWxlY3RvciA9IG51bGw7XG4gICAgICB0aGlzLmluYm94ID0gbnVsbDtcbiAgICAgIHRoaXMuZW1wdHlJbmJveE1zZyA9IG51bGw7XG4gICAgICB0aGlzLmluYm94Q2FyZCA9IG51bGw7XG4gICAgICB0aGlzLnVudmlld2VkQmFkZ2UgPSBudWxsO1xuICAgICAgdGhpcy5vYnNlcnZlciA9IG51bGw7XG4gICAgICB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnlSZWYgPSBudWxsO1xuXG4gICAgICB0aGlzLmFkZENsaWNrTGlzdGVuZXJPbkRvY3VtZW50ID0gKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIGUgPT4ge1xuICAgICAgICAgIGlmIChlLmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKHRoaXMuaW5ib3gpKSB7XG4gICAgICAgICAgICAvLyBwYXRoIGlzIG5vdCBzdXBwb3J0ZWQgb24gRkYuIFNvIHdlIGZhbGxiYWNrIHRvIGUuY29tcG9zZWRQYXRoXG4gICAgICAgICAgICBjb25zdCBwYXRoID0gZS5wYXRoIHx8IGUuY29tcG9zZWRQYXRoICYmIGUuY29tcG9zZWRQYXRoKCk7XG5cbiAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICBjb25zdCBpZCA9IHBhdGhbMF0uaWQ7XG5cbiAgICAgICAgICAgICAgaWYgKGlkID09PSAnY2xvc2VJbmJveCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUluYm94KCk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWQuc3RhcnRzV2l0aCgnY2F0ZWdvcnktJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZDYXRlZ29yeVJlZiA9IHRoaXMuc2VsZWN0ZWRDYXRlZ29yeVJlZjtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnlSZWYgPSBwYXRoWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQWN0aXZlQ2F0ZWdvcnkocGF0aFswXS5pbm5lclRleHQpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9wYXRoID0gcGF0aC5maWx0ZXIocCA9PiB7XG4gICAgICAgICAgICAgICAgICB2YXIgX3AkaWQ7XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybiAoKF9wJGlkID0gcC5pZCkgPT09IG51bGwgfHwgX3AkaWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wJGlkLnN0YXJ0c1dpdGgoJ2J1dHRvbi0nKSkgfHwgcC50YWdOYW1lID09PSAnQ1QtSU5CT1gtTUVTU0FHRSc7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoX3BhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlRWwgPSBfcGF0aFtfcGF0aC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2VFbC5yYWlzZUNsaWNrZWRFdmVudChfcGF0aFswXSwgdGhpcy5pc1ByZXZpZXcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pbmJveFNlbGVjdG9yLmNvbnRhaW5zKGUudGFyZ2V0KSB8fCB0aGlzLmlzSW5ib3hPcGVuKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0luYm94RnJvbUZsdXR0ZXIpIHtcbiAgICAgICAgICAgICAgdGhpcy5pc0luYm94RnJvbUZsdXR0ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMudG9nZ2xlSW5ib3goZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSkoKTtcblxuICAgICAgdGhpcy5zZXRCYWRnZVN0eWxlID0gbXNnQ291bnQgPT4ge1xuICAgICAgICBpZiAodGhpcy51bnZpZXdlZEJhZGdlICE9PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy51bnZpZXdlZEJhZGdlLmlubmVyVGV4dCA9IG1zZ0NvdW50ID4gOSA/ICc5KycgOiBtc2dDb3VudDtcbiAgICAgICAgICB0aGlzLnVudmlld2VkQmFkZ2Uuc3R5bGUuZGlzcGxheSA9IG1zZ0NvdW50ID4gMCA/ICdmbGV4JyA6ICdub25lJztcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XG4gICAgICB0aGlzLnNoYWRvdyA9IHRoaXMuYXR0YWNoU2hhZG93KHtcbiAgICAgICAgbW9kZTogJ29wZW4nXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXQgaW5jb21pbmdNZXNzYWdlcygpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBzZXQgaW5jb21pbmdNZXNzYWdlcyhtc2dzKSB7XG4gICAgICBpZiAobXNncyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIG1zZ3MgPSBbXTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1zZ3MubGVuZ3RoID4gMCAmJiB0aGlzLmluYm94KSB7XG4gICAgICAgIHRoaXMudXBkYXRlSW5ib3hNZXNzYWdlcyhtc2dzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgaW5jb21pbmdNZXNzYWdlc0ZvclByZXZpZXcoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgc2V0IGluY29taW5nTWVzc2FnZXNGb3JQcmV2aWV3KG1zZ3MpIHtcbiAgICAgIGlmIChtc2dzID09PSB2b2lkIDApIHtcbiAgICAgICAgbXNncyA9IFtdO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwcmV2aWV3TXNncyA9IHt9O1xuXG4gICAgICBpZiAobXNncy5sZW5ndGggPiAwICYmIHRoaXMuaW5ib3gpIHtcbiAgICAgICAgdGhpcy5pc1ByZXZpZXcgPSB0cnVlO1xuICAgICAgICB0aGlzLnVudmlld2VkQ291bnRlciA9IDA7XG4gICAgICAgIG1zZ3MuZm9yRWFjaChtID0+IHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBcIlwiLmNvbmNhdChtLnd6cmtfaWQuc3BsaXQoJ18nKVswXSwgXCJfXCIpLmNvbmNhdChEYXRlLm5vdygpKTtcbiAgICAgICAgICBtLmlkID0ga2V5O1xuICAgICAgICAgIHByZXZpZXdNc2dzW2tleV0gPSBtO1xuICAgICAgICAgIHRoaXMudW52aWV3ZWRNZXNzYWdlc1trZXldID0gbTtcbiAgICAgICAgICB0aGlzLnVudmlld2VkQ291bnRlcisrO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5idWlsZFVJRm9yTWVzc2FnZXMocHJldmlld01zZ3MpO1xuICAgICAgICB0aGlzLnVwZGF0ZVVudmlld2VkQmFkZ2VDb3VudGVyKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgdGhpcy5jb25maWcgPSB0aGlzLmlzUHJldmlldyA/IHRoaXMuaW5ib3hDb25maWdGb3JQcmV2aWV3IDogU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKFdFQklOQk9YX0NPTkZJRykgfHwge307XG5cbiAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmNvbmZpZykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pbmJveFNlbGVjdG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5jb25maWcuaW5ib3hTZWxlY3Rvcik7XG5cbiAgICAgIGlmICh0aGlzLmluYm94U2VsZWN0b3IgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5jb25maWcuc3R5bGVzLm5vdGlmaWNhdGlvbnNCYWRnZSkge1xuICAgICAgICB0aGlzLmFkZFVudmlld2VkQmFkZ2UoKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy51bnZpZXdlZEJhZGdlKSB7XG4gICAgICAgIHRoaXMudW52aWV3ZWRCYWRnZS5yZW1vdmUoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jcmVhdGVpbmJveCgpO1xuICAgICAgLyoqXG4gICAgICAgKiBXZSBuZWVkIHRvIHJlbW92ZSB0aGUgbGlzdGVuZXIgYXMgdGhlcmUgY291bGQgYmUgYSBzY2VuYXJpbyB3aGVyZSBpbml0IHdvdWxkIGJlIGNhbGxlZCB3aGVuXG4gICAgICAgKiB3ZSBnZXQgdXBkYXRlZCB3ZWIgaW5ib3ggc2V0dGluZ3MgZnJvbSBMQyBhZnRlciB0aGUgaW5ib3ggaGFzIGJlZW4gaW5pdGlhbGlzZWQuXG4gICAgICAgKiBJdCBjYW4gc28gaGFwcGVuIHRoYXQgdGhlIGluYm94LXNlbGVjdG9yIHdvdWxkIGhhdmUgY2hhbmdlZC5cbiAgICAgICAqL1xuXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYWRkQ2xpY2tMaXN0ZW5lck9uRG9jdW1lbnQpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmFkZENsaWNrTGlzdGVuZXJPbkRvY3VtZW50KTtcbiAgICAgIHRoaXMuY29uZmlnLmNhdGVnb3JpZXMubGVuZ3RoICYmIHRoaXMudXBkYXRlQWN0aXZlQ2F0ZWdvcnkodGhpcy5zZWxlY3RlZENhdGVnb3J5UmVmLmlubmVyVGV4dCk7XG4gICAgICB0aGlzLnNoYWRvdy5pbm5lckhUTUwgPSB0aGlzLmdldEluYm94U3R5bGVzKCk7XG4gICAgICB0aGlzLnNoYWRvdy5hcHBlbmRDaGlsZCh0aGlzLmluYm94KTtcbiAgICB9XG5cbiAgICBhZGRNc2dzVG9JbmJveEZyb21MUygpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gdGhpcy5kZWxldGVFeHBpcmVkQW5kR2V0VW5leHBpcmVkTXNncyhmYWxzZSk7XG4gICAgICBjb25zdCBtc2dJZHMgPSBtZXNzYWdlcyA/IE9iamVjdC5rZXlzKG1lc3NhZ2VzKSA6IFtdO1xuXG4gICAgICBpZiAobXNnSWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIG1zZ0lkcy5mb3JFYWNoKG0gPT4ge1xuICAgICAgICBpZiAoIW1lc3NhZ2VzW21dLnZpZXdlZCkge1xuICAgICAgICAgIHRoaXMudW52aWV3ZWRNZXNzYWdlc1ttXSA9IG1lc3NhZ2VzW21dO1xuICAgICAgICAgIHRoaXMudW52aWV3ZWRDb3VudGVyKys7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5idWlsZFVJRm9yTWVzc2FnZXMobWVzc2FnZXMpO1xuICAgICAgdGhpcy51cGRhdGVVbnZpZXdlZEJhZGdlQ291bnRlcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyp9IGRlbGV0ZU1zZ3NGcm9tVUkgLSBJZiB0aGlzIHBhcmFtIGlzIHRydWUsIHRoZW4gd2UnbGwgaGF2ZSB0byBjaGVjayB0aGUgVUkgYW5kIGRlbGV0ZSBleHBpcmVkIG1lc3NhZ2VzIGZyb20gdGhlIERPTVxuICAgICAqIEl0J2xsIGJlIGZhbHNlIHdoZW4geW91IGFyZSBidWlsZGluZyB0aGUgaW5ib3ggbGF5b3V0IGZvciB0aGUgdmVyeSBmaXJzdCB0aW1lLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgcmVhZHMgdGhlIGluYm94IG1lc3NhZ2VzIGZyb20gTFMsXG4gICAgICogYmFzZWQgb24gdGhlIGRlbGV0ZU1zZ3NGcm9tVUkgZmxhZyBkZWxldGVzIHRoZSBleHBpcmVkIG1lc3NhZ2VzIGZyb20gVUkgYW5kIGRlY3JlbWVudHMgdGhlIHVudmlld2VkIGNvdW50ZXIgaWYgdGhlIG1lc3NhZ2Ugd2FzIG5vdCB2aWV3ZWQsXG4gICAgICogc29ydHMgdGhlIG1lc3NhZ2VzIGJhc2VkIG9uIHRoZSBkYXRlLFxuICAgICAqIHNhdmVzIHRoZSB1bmV4cGlyZWQgbWVzc2FnZXMgdG8gTFNcbiAgICAgKiBhbmQgcmV0dXJucyB0aGUgc29ydGVkIHVuZXhwaXJlZCBtZXNzYWdlc1xuICAgICAqXG4gICAgICogU2NlbmFyaW9zIHdoZW4gd2UgZW5jb3VudGVyIGV4cGlyZWQgbWVzc2FnZXMgLVxuICAgICAqIDEuIGJ1aWxkaW5nIHVpIGZvciB0aGUgMXN0IHRpbWUsIG5vIG5lZWQgdG8gZGVjcmVtZW50IHRoZSB1bnZpZXdlZCBjb3VudGVyIGFzIHRoZSBjb3JyZWN0IGNvdW50IHdpbGwgYmUgc2V0IGF0IHRoZSB0aW1lIG9mIHJlbmRlcmluZ1xuICAgICAqIDIuIFVJIGlzIGFscmVhZHkgYnVpbHQgKGRlbGV0ZU1zZ3NGcm9tVUkgPSB0cnVlKSBhbmQgeW91IG9wZW4gdGhlIGluYm94XG4gICAgICogICAgYS4gWW91J2xsIGZpbmQgdGhlIGV4cGlyZWQgbXNnIGluIGluYm94XG4gICAgICogICAgYi4gWW91J2xsIG5vdCBmaW5kIHRoZSBleHBpcmVkIG1zZyBpbiBpbmJveC5cbiAgICAgKiAgICAgICBUaGlzIGhhcHBlbnMgd2hlbiB3ZSByZWNlaXZlIG5ldyBtZXNzYWdlcyBmcm9tIExDLCBpbmNyZW1lbnQgdW52aWV3ZWQgY291bnRlciwgc2F2ZSBpdCBpbiBMUy4gKFdlIGJ1aWxkIHRoZSBVSSBvbmx5IHdoZW4gdGhlIHVzZXIgb3BlbnMgaW5ib3guKVxuICAgICAqICBJbiBib3RoIHRoZSBhYm92ZSBzY2VuYXJpb3MsIHdlJ2xsIHN0aWxsIGhhdmUgdG8gZGVjcmVtZW50IHRoZSB1bnZpZXdlZCBjb3VudGVyIGlmIHRoZSBtZXNzYWdlIHdhcyBub3Qgdmlld2VkLlxuICAgICAqL1xuXG5cbiAgICBkZWxldGVFeHBpcmVkQW5kR2V0VW5leHBpcmVkTXNncygpIHtcbiAgICAgIGxldCBkZWxldGVNc2dzRnJvbVVJID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0cnVlO1xuICAgICAgbGV0IG1lc3NhZ2VzID0gZ2V0SW5ib3hNZXNzYWdlcygpO1xuICAgICAgY29uc3Qgbm93ID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG5cbiAgICAgIGZvciAoY29uc3QgbXNnIGluIG1lc3NhZ2VzKSB7XG4gICAgICAgIGlmIChtZXNzYWdlc1ttc2ddLnd6cmtfdHRsICYmIG1lc3NhZ2VzW21zZ10ud3pya190dGwgPiAwICYmIG1lc3NhZ2VzW21zZ10ud3pya190dGwgPCBub3cpIHtcbiAgICAgICAgICBpZiAoZGVsZXRlTXNnc0Zyb21VSSkge1xuICAgICAgICAgICAgY29uc3QgZWwgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQobWVzc2FnZXNbbXNnXS5pZCk7XG4gICAgICAgICAgICBlbCAmJiBlbC5yZW1vdmUoKTtcblxuICAgICAgICAgICAgaWYgKCFtZXNzYWdlc1ttc2ddLnZpZXdlZCkge1xuICAgICAgICAgICAgICB0aGlzLnVudmlld2VkQ291bnRlci0tO1xuICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVVudmlld2VkQmFkZ2VDb3VudGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGVsZXRlIG1lc3NhZ2VzW21zZ107XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG1lc3NhZ2VzICYmIG1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbWVzc2FnZXMgPSBPYmplY3QudmFsdWVzKG1lc3NhZ2VzKS5zb3J0KChhLCBiKSA9PiBiLmRhdGUgLSBhLmRhdGUpLnJlZHVjZSgoYWNjLCBtKSA9PiB7XG4gICAgICAgICAgYWNjW20uaWRdID0gbTtcbiAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG4gICAgICB9XG5cbiAgICAgIHNhdmVJbmJveE1lc3NhZ2VzKG1lc3NhZ2VzKTtcbiAgICAgIHJldHVybiBtZXNzYWdlcztcbiAgICB9XG5cbiAgICB1cGRhdGVJbmJveE1lc3NhZ2VzKCkge1xuICAgICAgbGV0IG1zZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdO1xuICAgICAgY29uc3QgaW5ib3hNc2dzID0gdGhpcy5kZWxldGVFeHBpcmVkQW5kR2V0VW5leHBpcmVkTXNncygpO1xuICAgICAgY29uc3QgZGF0ZSA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCBpbmNvbWluZ01zZ3MgPSB7fTtcbiAgICAgIG1zZ3MuZm9yRWFjaCgobSwgaSkgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSBcIlwiLmNvbmNhdChtLnd6cmtfaWQuc3BsaXQoJ18nKVswXSwgXCJfXCIpLmNvbmNhdChEYXRlLm5vdygpKTtcbiAgICAgICAgbS5pZCA9IGtleTsgLy8gV2UgYXJlIGRvaW5nIHRoaXMgdG8gcHJlc2VydmUgdGhlIG9yZGVyIG9mIHRoZSBtZXNzYWdlc1xuXG4gICAgICAgIG0uZGF0ZSA9IGRhdGUgLSBpO1xuICAgICAgICBtLnZpZXdlZCA9IDA7XG4gICAgICAgIGluYm94TXNnc1trZXldID0gbTtcbiAgICAgICAgaW5jb21pbmdNc2dzW2tleV0gPSBtO1xuICAgICAgICB0aGlzLnVudmlld2VkTWVzc2FnZXNba2V5XSA9IG07XG4gICAgICAgIHRoaXMudW52aWV3ZWRDb3VudGVyKys7XG4gICAgICB9KTtcbiAgICAgIHNhdmVJbmJveE1lc3NhZ2VzKGluYm94TXNncyk7XG4gICAgICB0aGlzLmJ1aWxkVUlGb3JNZXNzYWdlcyhpbmNvbWluZ01zZ3MpO1xuICAgICAgdGhpcy51cGRhdGVVbnZpZXdlZEJhZGdlQ291bnRlcigpO1xuICAgIH1cblxuICAgIGNyZWF0ZUVsKHR5cGUsIGlkLCBwYXJ0KSB7XG4gICAgICBjb25zdCBfZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuXG4gICAgICBfZWwuc2V0QXR0cmlidXRlKCdpZCcsIGlkKTtcblxuICAgICAgX2VsLnNldEF0dHJpYnV0ZSgncGFydCcsIHBhcnQgfHwgaWQpO1xuXG4gICAgICByZXR1cm4gX2VsO1xuICAgIH1cblxuICAgIGFkZFVudmlld2VkQmFkZ2UoKSB7XG4gICAgICBpZiAoIXRoaXMudW52aWV3ZWRCYWRnZSkge1xuICAgICAgICB0aGlzLnVudmlld2VkQmFkZ2UgPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCAndW52aWV3ZWRCYWRnZScpOyAvLyBBcyB0aGlzIHVudmlld2VkQmFkZ2UgZWxlbWVudCB3aWxsIGJlIGRpcmVjdGx5IGFkZGVkIHRvIHRoZSBET00sIHdlIGFyZSBkZWZpbmluZyBpbmxpbmUgc3R5bGVzXG5cbiAgICAgICAgdGhpcy51bnZpZXdlZEJhZGdlLnN0eWxlLmNzc1RleHQgPSBcImRpc3BsYXk6IG5vbmU7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgaGVpZ2h0OiAxNnB4OyB3aWR0aDogMjZweDsgYm9yZGVyLXJhZGl1czogOHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiBcIi5jb25jYXQodGhpcy5jb25maWcuc3R5bGVzLm5vdGlmaWNhdGlvbnNCYWRnZS5iYWNrZ3JvdW5kQ29sb3IsIFwiOyBmb250LXNpemU6IDEycHg7IGNvbG9yOiBcIikuY29uY2F0KHRoaXMuY29uZmlnLnN0eWxlcy5ub3RpZmljYXRpb25zQmFkZ2UudGV4dENvbG9yLCBcIjsgZm9udC13ZWlnaHQ6IGJvbGQ7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyO1wiKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnVudmlld2VkQmFkZ2UpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVwZGF0ZVVudmlld2VkQmFkZ2VQb3NpdGlvbigpOyAvLyBjYWxsZWQgd2hlbiB1c2VyIHN3aXRjaGVzIGIvdyBwb3J0cmFpdCBhbmQgbGFuZHNjYXBlIG1vZGUuXG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlVW52aWV3ZWRCYWRnZVBvc2l0aW9uKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB1cGRhdGVVbnZpZXdlZEJhZGdlUG9zaXRpb24oKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHRvcCxcbiAgICAgICAgcmlnaHRcbiAgICAgIH0gPSB0aGlzLmluYm94U2VsZWN0b3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB0aGlzLnVudmlld2VkQmFkZ2Uuc3R5bGUudG9wID0gXCJcIi5jb25jYXQodG9wIC0gOCwgXCJweFwiKTtcbiAgICAgIHRoaXMudW52aWV3ZWRCYWRnZS5zdHlsZS5sZWZ0ID0gXCJcIi5jb25jYXQocmlnaHQgLSA4LCBcInB4XCIpO1xuICAgIH1cblxuICAgIGNyZWF0ZWluYm94KCkge1xuICAgICAgdGhpcy5pbmJveCA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsICdpbmJveCcpO1xuICAgICAgY29uc3QgaGVhZGVyID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgJ2hlYWRlcicpO1xuICAgICAgY29uc3QgaGVhZGVyVGl0bGUgPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCAnaGVhZGVyVGl0bGUnKTtcbiAgICAgIGhlYWRlclRpdGxlLmlubmVyVGV4dCA9IHRoaXMuY29uZmlnLnRpdGxlO1xuICAgICAgY29uc3QgY2xvc2VJY29uID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgJ2Nsb3NlSW5ib3gnKTtcbiAgICAgIGNsb3NlSWNvbi5pbm5lckhUTUwgPSAnJnRpbWVzJztcbiAgICAgIGhlYWRlci5hcHBlbmRDaGlsZChoZWFkZXJUaXRsZSk7XG4gICAgICBoZWFkZXIuYXBwZW5kQ2hpbGQoY2xvc2VJY29uKTtcbiAgICAgIHRoaXMuaW5ib3guYXBwZW5kQ2hpbGQoaGVhZGVyKTtcblxuICAgICAgaWYgKHRoaXMuY29uZmlnLmNhdGVnb3JpZXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSB0aGlzLmNyZWF0ZUNhdGVnb3JpZXMoKTtcbiAgICAgICAgdGhpcy5pbmJveC5hcHBlbmRDaGlsZChjYXRlZ29yaWVzKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pbmJveENhcmQgPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCAnaW5ib3hDYXJkJyk7XG4gICAgICB0aGlzLmluYm94LmFwcGVuZENoaWxkKHRoaXMuaW5ib3hDYXJkKTtcbiAgICAgIHRoaXMuZW1wdHlJbmJveE1zZyA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsICdlbXB0eUluYm94TXNnJyk7XG4gICAgICB0aGlzLmVtcHR5SW5ib3hNc2cuaW5uZXJUZXh0ID0gJ0FsbCBtZXNzYWdlcyB3aWxsIGJlIGRpc3BsYXllZCBoZXJlLic7XG4gICAgICB0aGlzLmluYm94Q2FyZC5hcHBlbmRDaGlsZCh0aGlzLmVtcHR5SW5ib3hNc2cpOyAvLyBJbnRlcnNlY3Rpb24gb2JzZXJ2ZXIgZm9yIG5vdGlmaWNhdGlvbiB2aWV3ZWRcblxuICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgcm9vdDogdGhpcy5pbmJveENhcmQsXG4gICAgICAgIHJvb3RNYXJnaW46ICcwcHgnLFxuICAgICAgICB0aHJlc2hvbGQ6IDAuNVxuICAgICAgfTtcbiAgICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMsIG9ic2VydmVyKSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlTWVzc2FnZVZpZXdlZChlbnRyaWVzKTtcbiAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgdGhpcy5hZGRNc2dzVG9JbmJveEZyb21MUygpO1xuICAgIH1cblxuICAgIGNyZWF0ZUNhdGVnb3JpZXMoKSB7XG4gICAgICBjb25zdCBjYXRlZ29yaWVzQ29udGFpbmVyID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgJ2NhdGVnb3JpZXNDb250YWluZXInKTtcbiAgICAgIGNvbnN0IGxlZnRBcnJvdyA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsICdsZWZ0QXJyb3cnKTtcbiAgICAgIGxlZnRBcnJvdy5pbm5lckhUTUwgPSBhcnJvd1N2ZztcbiAgICAgIGxlZnRBcnJvdy5jaGlsZHJlblswXS5zdHlsZSA9ICd0cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpJztcbiAgICAgIGxlZnRBcnJvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdjYXRlZ29yaWVzV3JhcHBlcicpLnNjcm9sbEJ5KC03MCwgMCk7XG4gICAgICB9KTtcbiAgICAgIGNhdGVnb3JpZXNDb250YWluZXIuYXBwZW5kQ2hpbGQobGVmdEFycm93KTtcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXNXcmFwcGVyID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgJ2NhdGVnb3JpZXNXcmFwcGVyJyk7XG4gICAgICBjb25zdCBfY2F0ZWdvcmllcyA9IFsnQWxsJywgLi4udGhpcy5jb25maWcuY2F0ZWdvcmllc107XG5cbiAgICAgIF9jYXRlZ29yaWVzLmZvckVhY2goKGMsIGkpID0+IHtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCBcImNhdGVnb3J5LVwiLmNvbmNhdChpKSwgJ2NhdGVnb3J5Jyk7XG4gICAgICAgIGNhdGVnb3J5LmlubmVyVGV4dCA9IGM7XG5cbiAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnlSZWYgPSBjYXRlZ29yeTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhdGVnb3JpZXNXcmFwcGVyLmFwcGVuZENoaWxkKGNhdGVnb3J5KTtcbiAgICAgIH0pO1xuXG4gICAgICBjYXRlZ29yaWVzQ29udGFpbmVyLmFwcGVuZENoaWxkKGNhdGVnb3JpZXNXcmFwcGVyKTtcbiAgICAgIGNvbnN0IHJpZ2h0QXJyb3cgPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCAncmlnaHRBcnJvdycpO1xuICAgICAgcmlnaHRBcnJvdy5pbm5lckhUTUwgPSBhcnJvd1N2ZztcbiAgICAgIHJpZ2h0QXJyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnY2F0ZWdvcmllc1dyYXBwZXInKS5zY3JvbGxCeSg3MCwgMCk7XG4gICAgICB9KTtcbiAgICAgIGNhdGVnb3JpZXNDb250YWluZXIuYXBwZW5kQ2hpbGQocmlnaHRBcnJvdyk7XG4gICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICByb290OiBjYXRlZ29yaWVzQ29udGFpbmVyLFxuICAgICAgICB0aHJlc2hvbGQ6IDAuOVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGZpcnN0Q2F0ZWdvcnkgPSBjYXRlZ29yaWVzV3JhcHBlci5jaGlsZHJlblswXTtcbiAgICAgIGNvbnN0IGxhc3RDYXRlZ29yeSA9IGNhdGVnb3JpZXNXcmFwcGVyLmNoaWxkcmVuW3RoaXMuY29uZmlnLmNhdGVnb3JpZXMubGVuZ3RoXTtcbiAgICAgIGNvbnN0IGZpcnN0Q2F0ZWdvcnlPYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihlID0+IHtcbiAgICAgICAgdGhpcy5jYXRlZ29yeU9ic2VydmVyQ2IobGVmdEFycm93LCBlWzBdLmludGVyc2VjdGlvblJhdGlvID49IDAuOSk7XG4gICAgICB9LCBvcHRpb25zKTtcbiAgICAgIGZpcnN0Q2F0ZWdvcnlPYnNlcnZlci5vYnNlcnZlKGZpcnN0Q2F0ZWdvcnkpO1xuICAgICAgY29uc3QgbGFzdENhdGVnb3J5T2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZSA9PiB7XG4gICAgICAgIHRoaXMuY2F0ZWdvcnlPYnNlcnZlckNiKHJpZ2h0QXJyb3csIGVbMF0uaW50ZXJzZWN0aW9uUmF0aW8gPj0gMC45KTtcbiAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgbGFzdENhdGVnb3J5T2JzZXJ2ZXIub2JzZXJ2ZShsYXN0Q2F0ZWdvcnkpO1xuICAgICAgcmV0dXJuIGNhdGVnb3JpZXNDb250YWluZXI7XG4gICAgfVxuXG4gICAgY2F0ZWdvcnlPYnNlcnZlckNiKGVsLCBoaWRlKSB7XG4gICAgICBpZiAoIWVsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IGhpZGUgPyAnbm9uZScgOiAnZmxleCc7XG4gICAgfVxuXG4gICAgdXBkYXRlQWN0aXZlQ2F0ZWdvcnkoYWN0aXZlQ2F0ZWdvcnkpIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA9IGFjdGl2ZUNhdGVnb3J5O1xuICAgICAgdGhpcy5pbmJveENhcmQuc2Nyb2xsVG9wID0gMDtcbiAgICAgIGxldCBjb3VudGVyID0gMDtcbiAgICAgIHRoaXMucHJldkNhdGVnb3J5UmVmICYmIHRoaXMucHJldkNhdGVnb3J5UmVmLnNldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnLCAnZmFsc2UnKTtcbiAgICAgIHRoaXMuc2VsZWN0ZWRDYXRlZ29yeVJlZi5zZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgJ3RydWUnKTtcbiAgICAgIHRoaXMuaW5ib3hDYXJkLmNoaWxkTm9kZXMuZm9yRWFjaChjID0+IHtcbiAgICAgICAgaWYgKGMuZ2V0QXR0cmlidXRlKCdpZCcpICE9PSAnZW1wdHlJbmJveE1zZycpIHtcbiAgICAgICAgICBjLnN0eWxlLmRpc3BsYXkgPSB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPT09ICdBbGwnIHx8IGMuZ2V0QXR0cmlidXRlKCdjYXRlZ29yeScpID09PSB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPyAnYmxvY2snIDogJ25vbmUnO1xuXG4gICAgICAgICAgaWYgKGMuc3R5bGUuZGlzcGxheSA9PT0gJ2Jsb2NrJykge1xuICAgICAgICAgICAgY291bnRlcisrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChjb3VudGVyID09PSAwKSB7XG4gICAgICAgIHRoaXMuZW1wdHlJbmJveE1zZy5pbm5lclRleHQgPSBcIlwiLmNvbmNhdChhY3RpdmVDYXRlZ29yeSwgXCIgbWVzc2FnZXMgd2lsbCBiZSBkaXNwbGF5ZWQgaGVyZS5cIik7XG4gICAgICAgIHRoaXMuZW1wdHlJbmJveE1zZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZW1wdHlJbmJveE1zZy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfVxuICAgIH1cblxuICAgIGJ1aWxkVUlGb3JNZXNzYWdlcygpIHtcbiAgICAgIHZhciBfdGhpcyRjb25maWckbWF4TXNnc0k7XG5cbiAgICAgIGxldCBtZXNzYWdlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICAhdGhpcy5pc1ByZXZpZXcgJiYgdGhpcy51cGRhdGVUU0ZvclJlbmRlcmVkTXNncygpO1xuICAgICAgdGhpcy5pbmJveENhcmQuc2Nyb2xsVG9wID0gMDtcbiAgICAgIGNvbnN0IG1heE1zZ3NJbkluYm94ID0gKF90aGlzJGNvbmZpZyRtYXhNc2dzSSA9IHRoaXMuY29uZmlnLm1heE1zZ3NJbkluYm94KSAhPT0gbnVsbCAmJiBfdGhpcyRjb25maWckbWF4TXNnc0kgIT09IHZvaWQgMCA/IF90aGlzJGNvbmZpZyRtYXhNc2dzSSA6IE1BWF9JTkJPWF9NU0c7XG4gICAgICBjb25zdCBmaXJzdENoaWxkID0gdGhpcy5pbmJveENhcmQuZmlyc3RDaGlsZDtcbiAgICAgIGNvbnN0IHNvcnRlZE1zZ3MgPSBPYmplY3QudmFsdWVzKG1lc3NhZ2VzKS5zb3J0KChhLCBiKSA9PiBiLmRhdGUgLSBhLmRhdGUpLm1hcChtID0+IG0uaWQpO1xuXG4gICAgICBmb3IgKGNvbnN0IG0gb2Ygc29ydGVkTXNncykge1xuICAgICAgICBjb25zdCBpdGVtID0gbmV3IE1lc3NhZ2UodGhpcy5jb25maWcsIG1lc3NhZ2VzW21dKTtcbiAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2lkJywgbWVzc2FnZXNbbV0uaWQpO1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgncGl2b3QnLCBtZXNzYWdlc1ttXS53enJrX3Bpdm90KTtcbiAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ3BhcnQnLCAnY3QtaW5ib3gtbWVzc2FnZScpO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5jYXRlZ29yaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnY2F0ZWdvcnknLCBtZXNzYWdlc1ttXS50YWdzWzBdIHx8ICcnKTtcbiAgICAgICAgICBpdGVtLnN0eWxlLmRpc3BsYXkgPSB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPT09ICdBbGwnIHx8IG1lc3NhZ2VzW21dLmNhdGVnb3J5ID09PSB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPyAnYmxvY2snIDogJ25vbmUnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmluYm94Q2FyZC5pbnNlcnRCZWZvcmUoaXRlbSwgZmlyc3RDaGlsZCk7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZShpdGVtKTtcbiAgICAgIH1cblxuICAgICAgbGV0IG1zZ1RvdGFsQ291bnQgPSB0aGlzLmluYm94Q2FyZC5xdWVyeVNlbGVjdG9yQWxsKCdjdC1pbmJveC1tZXNzYWdlJykubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAobXNnVG90YWxDb3VudCA+IG1heE1zZ3NJbkluYm94KSB7XG4gICAgICAgIGNvbnN0IGN0SW5ib3hNc2dzID0gdGhpcy5pbmJveENhcmQucXVlcnlTZWxlY3RvckFsbCgnY3QtaW5ib3gtbWVzc2FnZScpO1xuXG4gICAgICAgIGlmIChjdEluYm94TXNncy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY3RJbmJveE1zZ3NbY3RJbmJveE1zZ3MubGVuZ3RoIC0gMV0ucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBtc2dUb3RhbENvdW50LS07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGhhc01lc3NhZ2VzID0gdGhpcy5pbmJveENhcmQucXVlcnlTZWxlY3RvckFsbCgnY3QtaW5ib3gtbWVzc2FnZVtzdHlsZSo9XCJkaXNwbGF5OiBibG9ja1wiXScpLmxlbmd0aDtcbiAgICAgIHRoaXMuZW1wdHlJbmJveE1zZy5zdHlsZS5kaXNwbGF5ID0gaGFzTWVzc2FnZXMgPyAnbm9uZScgOiAnYmxvY2snO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY2xpY2sgbGlzdGVuZXIgb24gdGhlIGRvY3VtZW50LiBGb3IgZXZlcnkgY2xpY2sgd2UgY2hlY2tcbiAgICAgKiAxLiBpZiB0aGUgY2xpY2sgaGFzIGhhcHBlbm5lZCB3aXRoaW4gdGhlIGluYm94XG4gICAgICogICAgLSBvbiBjbG9zZSBidXR0b24sIHdlIGNsb3NlIHRoZSBpbmJveFxuICAgICAqICAgIC0gb24gYW55IG9mIHRoZSBjYXRlZ29yeSwgd2Ugc2V0IHRoYXQgYXMgdGhlIGFjdGl2ZUNhdGVnb3J5XG4gICAgICogICAgLSBvbiBhbnkgb2YgdGhlIG1lc3NhZ2UsIHdlIG1hcmsgcmFpc2Ugbm90aWZpY2F0aW9uIGNsaWNrZWQgZXZlbnQuIFRvIGlkZW50aWZ5IHRoZSBjbGlja3Mgb24gYSBidXR0b24sIHdlIGhhdmUgcC5pZC5zdGFydHNXaXRoKCdidXR0b24tJylcbiAgICAgKiAyLiBpZiB0aGUgdXNlciBoYXMgY2xpY2tlZCBvbiB0aGUgaW5ib3hTZWxlY3Rvciwgd2UgdG9nZ2xlIGluYm94XG4gICAgICogMy4gaWYgdGhlIGNsaWNrIGlzIGFueXdoZXJlIGVsc2Ugb24gdGhlIFVJIGFuZCB0aGUgaW5ib3ggaXMgb3Blbiwgd2Ugc2ltcGx5IGNsb3NlIGl0XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgZXZlcnkgdGltZSB3aGVuIGEgbWVzc2FnZSBjb21lcyBpbnRvIHRoZSBpbmJveCB2aWV3cG9ydCBhbmQgaXQncyB2aXNpYmlsaXR5IGluY3JlYXNlcyB0byA1MCUgb3IgZHJvcHMgYmVsb3cgNTAlXG4gICAgICogSWYgYSBtc2cgaXMgNTAlIHZpc2libGUgaW4gdGhlIFVJLCB3ZSBuZWVkIHRvIG1hcmsgdGhlIG1lc3NhZ2UgYXMgdmlld2VkIGluIExTIGFuZCByYWlzZSBub3RpZmljYXRpb24gdmlld2VkIGV2ZW50XG4gICAgICovXG4gICAgaGFuZGxlTWVzc2FnZVZpZXdlZChlbnRyaWVzKSB7XG4gICAgICBjb25zdCByYWlzZVZpZXdlZEV2ZW50ID0gIXRoaXMuaXNQcmV2aWV3O1xuXG4gICAgICBpZiAodGhpcy5pc0luYm94T3Blbikge1xuICAgICAgICBlbnRyaWVzLmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgaWYgKGUuaXNJbnRlcnNlY3RpbmcgJiYgdGhpcy51bnZpZXdlZE1lc3NhZ2VzLmhhc093blByb3BlcnR5KGUudGFyZ2V0LmlkKSAmJiBlLnRhcmdldC5tZXNzYWdlLnZpZXdlZCA9PT0gMCkge1xuICAgICAgICAgICAgZS50YXJnZXQubWVzc2FnZS52aWV3ZWQgPSAxO1xuXG4gICAgICAgICAgICBpZiAocmFpc2VWaWV3ZWRFdmVudCkge1xuICAgICAgICAgICAgICB3aW5kb3cuY2xldmVydGFwLnJlbmRlck5vdGlmaWNhdGlvblZpZXdlZCh7XG4gICAgICAgICAgICAgICAgbXNnSWQ6IGUudGFyZ2V0LmNhbXBhaWduSWQsXG4gICAgICAgICAgICAgICAgcGl2b3RJZDogZS50YXJnZXQucGl2b3RJZFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlSW5MUyhlLnRhcmdldC5pZCwgeyAuLi5lLnRhcmdldC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIHZpZXdlZDogMVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZS50YXJnZXQuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgndW5yZWFkTWFya2VyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm90aWZpY3Rpb24gdmlld2VkIGV2ZW50IHdpbGwgYmUgcmFpc2VkIGF0IHJ1biB0aW1lIHdpdGggcGF5bG9hZCA6OicsIHtcbiAgICAgICAgICAgICAgICBtc2dJZDogZS50YXJnZXQuY2FtcGFpZ25JZCxcbiAgICAgICAgICAgICAgICBwaXZvdElkOiBlLnRhcmdldC5waXZvdElkXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnVudmlld2VkQ291bnRlci0tO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVVbnZpZXdlZEJhZGdlQ291bnRlcigpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMudW52aWV3ZWRNZXNzYWdlc1tlLnRhcmdldC5pZF07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVNZXNzYWdlSW5MUyhrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoIXRoaXMuaXNQcmV2aWV3KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gZ2V0SW5ib3hNZXNzYWdlcygpO1xuICAgICAgICBtZXNzYWdlc1trZXldID0gdmFsdWU7XG4gICAgICAgIHNhdmVJbmJveE1lc3NhZ2VzKG1lc3NhZ2VzKTtcbiAgICAgIH1cbiAgICB9IC8vIGNyZWF0ZSBhIHNlcGFydGUgZm4gZnJvIHJlZmFjdG9yaW5nXG5cblxuICAgIHRvZ2dsZUluYm94KGUpIHtcbiAgICAgIHRoaXMuaXNJbmJveE9wZW4gPSAhdGhpcy5pc0luYm94T3BlbjtcbiAgICAgIHRoaXMuaXNJbmJveEZyb21GbHV0dGVyID0gISEoZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlLnJlY3QpO1xuXG4gICAgICBpZiAodGhpcy5pc0luYm94T3Blbikge1xuICAgICAgICB0aGlzLmluYm94Q2FyZC5zY3JvbGxUb3AgPSAwO1xuICAgICAgICAhdGhpcy5pc1ByZXZpZXcgJiYgdGhpcy5kZWxldGVFeHBpcmVkQW5kR2V0VW5leHBpcmVkTXNncygpO1xuICAgICAgICB0aGlzLmluYm94LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB0aGlzLmluYm94LnN0eWxlLnpJbmRleCA9ICcyMTQ3NDgzNjQ3JzsgLy8gekluZGV4IHNob3VsZCBiZSBtYXggZm9yIHRoZSBpbmJveCB0byBiZSByZW5kZXJlZCBvbiB0b3Agb2YgYWxsIGVsZW1lbnRzXG5cbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmNhdGVnb3JpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3RlZENhdGVnb3J5UmVmLnNldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnlSZWYgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ2NhdGVnb3J5LTAnKTtcbiAgICAgICAgICB0aGlzLnVwZGF0ZUFjdGl2ZUNhdGVnb3J5KHRoaXMuc2VsZWN0ZWRDYXRlZ29yeVJlZi5pbm5lclRleHQpO1xuICAgICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnY2F0ZWdvcmllc1dyYXBwZXInKS5zY3JvbGxMZWZ0IC09IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnY2F0ZWdvcmllc1dyYXBwZXInKS5zY3JvbGxXaWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0SW5ib3hQb3NpdGlvbihlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaW5ib3guc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRJbmJveFBvc2l0aW9uKGUpIHtcbiAgICAgIGNvbnN0IHdpbmRvd1dpZHRoID0gd2luZG93Lm91dGVyV2lkdGg7XG4gICAgICBjb25zdCBjdXN0b21JbmJveFN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUoJGN0LmluYm94KTtcbiAgICAgIGNvbnN0IHRvcCA9IGN1c3RvbUluYm94U3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJy0taW5ib3gtdG9wJyk7XG4gICAgICBjb25zdCBib3R0b20gPSBjdXN0b21JbmJveFN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCctLWluYm94LWJvdHRvbScpO1xuICAgICAgY29uc3QgbGVmdCA9IGN1c3RvbUluYm94U3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJy0taW5ib3gtbGVmdCcpO1xuICAgICAgY29uc3QgcmlnaHQgPSBjdXN0b21JbmJveFN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCctLWluYm94LXJpZ2h0Jyk7XG4gICAgICBjb25zdCBoYXNQb3NpdGlvbkRlZmluZWQgPSB0b3AgfHwgYm90dG9tIHx8IGxlZnQgfHwgcmlnaHQ7XG5cbiAgICAgIGlmICh3aW5kb3dXaWR0aCA+IDQ4MSAmJiAhaGFzUG9zaXRpb25EZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGdldEluYm94UG9zaXRpb24oZSwgdGhpcy5pbmJveC5jbGllbnRIZWlnaHQsIHRoaXMuaW5ib3guY2xpZW50V2lkdGgpO1xuICAgICAgICBjb25zdCB4UG9zID0gcmVzLnhQb3M7XG4gICAgICAgIGNvbnN0IHlQb3MgPSByZXMueVBvcztcbiAgICAgICAgdGhpcy5pbmJveC5zdHlsZS50b3AgPSB5UG9zICsgJ3B4JztcbiAgICAgICAgdGhpcy5pbmJveC5zdHlsZS5sZWZ0ID0geFBvcyArICdweCc7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIFVJIHdpdGggdGhlIG51bWJlciBvZiB1bnZpZXdlZCBtZXNzYWdlc1xuICAgICAqIElmIHRoZXJlIGFyZSBtb3JlIHRoYW4gOSB1bnZpZXdlZCBtZXNzYWdlcywgd2Ugc2hvdyB0aGUgY291bnQgYXMgOStcbiAgICAgKi9cblxuXG4gICAgdXBkYXRlVW52aWV3ZWRCYWRnZUNvdW50ZXIoKSB7XG4gICAgICBpZiAodGhpcy5pc1ByZXZpZXcpIHtcbiAgICAgICAgdGhpcy5zZXRCYWRnZVN0eWxlKHRoaXMudW52aWV3ZWRDb3VudGVyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsZXQgY291bnRlciA9IDA7XG4gICAgICB0aGlzLmluYm94Q2FyZC5xdWVyeVNlbGVjdG9yQWxsKCdjdC1pbmJveC1tZXNzYWdlJykuZm9yRWFjaChtID0+IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBnZXRJbmJveE1lc3NhZ2VzKCk7XG5cbiAgICAgICAgaWYgKG1lc3NhZ2VzW20uaWRdICYmIG1lc3NhZ2VzW20uaWRdLnZpZXdlZCA9PT0gMCkge1xuICAgICAgICAgIGNvdW50ZXIrKztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLnNldEJhZGdlU3R5bGUoY291bnRlcik7XG4gICAgfVxuXG4gICAgdXBkYXRlVFNGb3JSZW5kZXJlZE1zZ3MoKSB7XG4gICAgICB0aGlzLmluYm94Q2FyZC5xdWVyeVNlbGVjdG9yQWxsKCdjdC1pbmJveC1tZXNzYWdlJykuZm9yRWFjaChtID0+IHtcbiAgICAgICAgY29uc3QgdHMgPSBtLmlkLnNwbGl0KCdfJylbMV07XG4gICAgICAgIG0uc2hhZG93LmdldEVsZW1lbnRCeUlkKCd0aW1lU3RhbXAnKS5maXJzdENoaWxkLmlubmVyVGV4dCA9IGRldGVybWluZVRpbWVTdGFtcFRleHQodHMpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0SW5ib3hTdHlsZXMoKSB7XG4gICAgICBjb25zdCBoZWFkZXJIZWlnaHQgPSAzNjtcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXNIZWlnaHQgPSB0aGlzLmNvbmZpZy5jYXRlZ29yaWVzLmxlbmd0aCA/IDY0IDogMTY7XG4gICAgICBjb25zdCBzdHlsZXMgPSB7XG4gICAgICAgIHBhbmVsQmFja2dyb3VuZENvbG9yOiB0aGlzLmNvbmZpZy5zdHlsZXMucGFuZWxCYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgIHBhbmVsQm9yZGVyQ29sb3I6IHRoaXMuY29uZmlnLnN0eWxlcy5wYW5lbEJvcmRlckNvbG9yLFxuICAgICAgICBoZWFkZXJCYWNrZ3JvdW5kQ29sb3I6IHRoaXMuY29uZmlnLnN0eWxlcy5oZWFkZXIuYmFja2dyb3VuZENvbG9yLFxuICAgICAgICBoZWFkZXJUaXRsZUNvbG9yOiB0aGlzLmNvbmZpZy5zdHlsZXMuaGVhZGVyLnRpdGxlQ29sb3IsXG4gICAgICAgIGNsb3NlSWNvbkNvbG9yOiB0aGlzLmNvbmZpZy5zdHlsZXMuY2xvc2VJY29uQ29sb3IsXG4gICAgICAgIGNhdGVnb3JpZXNUYWJDb2xvcjogdGhpcy5jb25maWcuc3R5bGVzLmNhdGVnb3JpZXMudGFiQ29sb3IsXG4gICAgICAgIGNhdGVnb3JpZXNUaXRsZUNvbG9yOiB0aGlzLmNvbmZpZy5zdHlsZXMuY2F0ZWdvcmllcy50aXRsZUNvbG9yLFxuICAgICAgICBzZWxlY3RlZENhdGVnb3J5VGFiQ29sb3I6IHRoaXMuY29uZmlnLnN0eWxlcy5jYXRlZ29yaWVzLnNlbGVjdGVkVGFiLnRhYkNvbG9yLFxuICAgICAgICBzZWxlY3RlZENhdGVnb3J5VGl0bGVDb2xvcjogdGhpcy5jb25maWcuc3R5bGVzLmNhdGVnb3JpZXMuc2VsZWN0ZWRUYWIudGl0bGVDb2xvcixcbiAgICAgICAgaGVhZGVyQ2F0ZWdvcnlIZWlnaHQ6IGhlYWRlckhlaWdodCArIGNhdGVnb3JpZXNIZWlnaHRcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLmNvbmZpZy5zdHlsZXMuY2F0ZWdvcmllcy5ib3JkZXJDb2xvcikge1xuICAgICAgICBzdHlsZXMuY2F0ZWdvcmllc0JvcmRlckNvbG9yID0gdGhpcy5jb25maWcuc3R5bGVzLmNhdGVnb3JpZXMuYm9yZGVyQ29sb3I7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmNvbmZpZy5zdHlsZXMuY2F0ZWdvcmllcy5zZWxlY3RlZFRhYi5ib3JkZXJDb2xvcikge1xuICAgICAgICBzdHlsZXMuc2VsZWN0ZWRDYXRlZ29yeUJvcmRlckNvbG9yID0gdGhpcy5jb25maWcuc3R5bGVzLmNhdGVnb3JpZXMuc2VsZWN0ZWRUYWIuYm9yZGVyQ29sb3I7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGluYm94U3R5bGVzID0gaW5ib3hDb250YWluZXJTdHlsZXMoc3R5bGVzKTtcbiAgICAgIGNvbnN0IGNhcmRTdHlsZXMgPSB0aGlzLmNvbmZpZy5zdHlsZXMuY2FyZHM7XG4gICAgICBjb25zdCBtc2dTdHlsZXMgPSBtZXNzYWdlU3R5bGVzKHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjYXJkU3R5bGVzLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgYm9yZGVyQ29sb3I6IGNhcmRTdHlsZXMuYm9yZGVyQ29sb3IsXG4gICAgICAgIHRpdGxlQ29sb3I6IGNhcmRTdHlsZXMudGl0bGVDb2xvcixcbiAgICAgICAgZGVzY3JpcHRpb25Db2xvcjogY2FyZFN0eWxlcy5kZXNjcmlwdGlvbkNvbG9yLFxuICAgICAgICBidXR0b25Db2xvcjogY2FyZFN0eWxlcy5idXR0b25Db2xvcixcbiAgICAgICAgYnV0dG9uVGV4dENvbG9yOiBjYXJkU3R5bGVzLmJ1dHRvblRleHRDb2xvcixcbiAgICAgICAgdW5yZWFkTWFya2VyQ29sb3I6IGNhcmRTdHlsZXMudW5yZWFkTWFya2VyQ29sb3JcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGluYm94U3R5bGVzICsgbXNnU3R5bGVzO1xuICAgIH1cblxuICB9XG5cbiAgY29uc3QgcHJvY2Vzc1dlYkluYm94U2V0dGluZ3MgPSBmdW5jdGlvbiAod2ViSW5ib3hTZXR0aW5nKSB7XG4gICAgbGV0IGlzUHJldmlldyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG5cbiAgICBjb25zdCBfc2V0dGluZ3MgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoV0VCSU5CT1hfQ09ORklHKSB8fCB7fTtcblxuICAgIGlmIChpc1ByZXZpZXcpIHtcbiAgICAgICRjdC5pbmJveC5pbmJveENvbmZpZ0ZvclByZXZpZXcgPSB3ZWJJbmJveFNldHRpbmc7XG4gICAgICAkY3QuaW5ib3guaXNQcmV2aWV3ID0gdHJ1ZTtcbiAgICAgICRjdC5pbmJveCAmJiAkY3QuaW5ib3guaW5pdCgpO1xuICAgIH0gZWxzZSBpZiAoSlNPTi5zdHJpbmdpZnkoX3NldHRpbmdzKSAhPT0gSlNPTi5zdHJpbmdpZnkod2ViSW5ib3hTZXR0aW5nKSkge1xuICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShXRUJJTkJPWF9DT05GSUcsIHdlYkluYm94U2V0dGluZyk7XG4gICAgICAkY3QuaW5ib3ggJiYgJGN0LmluYm94LmluaXQoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NJbmJveE5vdGlmcyA9IG1zZyA9PiB7XG4gICAgaWYgKG1zZy5pbmJveF9wcmV2aWV3KSB7XG4gICAgICAkY3QuaW5ib3guaW5jb21pbmdNZXNzYWdlc0ZvclByZXZpZXcgPSBtc2cuaW5ib3hfbm90aWZzO1xuICAgIH0gZWxzZSB7XG4gICAgICAkY3QuaW5ib3guaW5jb21pbmdNZXNzYWdlcyA9IG1zZztcbiAgICB9XG4gIH07XG4gIGNvbnN0IGFkZFdlYkluYm94ID0gbG9nZ2VyID0+IHtcbiAgICBjaGVja0FuZFJlZ2lzdGVyV2ViSW5ib3hFbGVtZW50cygpO1xuICAgICRjdC5pbmJveCA9IG5ldyBJbmJveCh7XG4gICAgICBsb2dnZXJcbiAgICB9KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKCRjdC5pbmJveCk7XG4gIH07XG5cbiAgY29uc3QgZ2V0QW5kTWlncmF0ZUluYm94TWVzc2FnZXMgPSBndWlkID0+IHtcbiAgICBjb25zdCBtZXNzYWdlcyA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShXRUJJTkJPWCkgfHwge307IC8vIERvaW5nIHRoaXMgdG8gbWlncmF0ZSBtZXNzYWdlIHRvIGd1aWQgbGV2ZWxcblxuICAgIGlmIChPYmplY3Qua2V5cyhtZXNzYWdlcykubGVuZ3RoID4gMCAmJiBPYmplY3Qua2V5cyhtZXNzYWdlcylbMF0uaW5jbHVkZXMoJ18nKSkge1xuICAgICAgY29uc3QgZ3VkSW5ib3hPYmogPSB7fTtcbiAgICAgIGd1ZEluYm94T2JqW2d1aWRdID0gbWVzc2FnZXM7XG4gICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKFdFQklOQk9YLCBndWRJbmJveE9iaik7XG4gICAgICByZXR1cm4gZ3VkSW5ib3hPYmo7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lc3NhZ2VzO1xuICB9O1xuXG4gIGNvbnN0IGdldEluYm94TWVzc2FnZXMgPSAoKSA9PiB7XG4gICAgY29uc3QgZ3VpZCA9IEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KFN0b3JhZ2VNYW5hZ2VyLnJlYWQoR0NPT0tJRV9OQU1FKSkpO1xuXG4gICAgaWYgKCFpc1ZhbHVlVmFsaWQoZ3VpZCkpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICBjb25zdCBtZXNzYWdlcyA9IGdldEFuZE1pZ3JhdGVJbmJveE1lc3NhZ2VzKGd1aWQpO1xuICAgIHJldHVybiBtZXNzYWdlcy5oYXNPd25Qcm9wZXJ0eShndWlkKSA/IG1lc3NhZ2VzW2d1aWRdIDoge307XG4gIH07XG4gIGNvbnN0IHNhdmVJbmJveE1lc3NhZ2VzID0gbWVzc2FnZXMgPT4ge1xuICAgIGNvbnN0IGd1aWQgPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChTdG9yYWdlTWFuYWdlci5yZWFkKEdDT09LSUVfTkFNRSkpKTtcblxuICAgIGlmICghaXNWYWx1ZVZhbGlkKGd1aWQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc3RvcmVkSW5ib3hPYmogPSBnZXRBbmRNaWdyYXRlSW5ib3hNZXNzYWdlcyhndWlkKTtcbiAgICBjb25zdCBuZXdPYmogPSB7IC4uLnN0b3JlZEluYm94T2JqLFxuICAgICAgW2d1aWRdOiBtZXNzYWdlc1xuICAgIH07XG4gICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShXRUJJTkJPWCwgbmV3T2JqKTtcbiAgfTtcbiAgY29uc3QgaW5pdGlhbGl6ZVdlYkluYm94ID0gbG9nZ2VyID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgYWRkV2ViSW5ib3gobG9nZ2VyKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKFdFQklOQk9YX0NPTkZJRykgfHwge307XG5cbiAgICAgICAgY29uc3Qgb25Mb2FkZWQgPSAoKSA9PiB7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogV2UgbmVlZCB0aGlzIG51bGwgY2hlY2sgaGVyZSBiZWNhdXNlICRjdC5pbmJveCBjb3VsZCBiZSBpbml0aWFsaXNlZCB2aWEgaW5pdCBtZXRob2QgdG9vIG9uIGRvY3VtZW50IGxvYWQuXG4gICAgICAgICAgICogSW4gdGhhdCBjYXNlIHdlIGRvbid0IG5lZWQgdG8gY2FsbCBhZGRXZWJJbmJveCBtZXRob2RcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBpZiAoJGN0LmluYm94ID09PSBudWxsKSB7XG4gICAgICAgICAgICBhZGRXZWJJbmJveChsb2dnZXIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBTY3JpcHRzIGNhbiBiZSBsb2FkZWQgbGF5emlseSwgd2UgbWF5IG5vdCBnZXQgZWxlbWVudCBmcm9tIGRvbSBhcyBpdCBtYXkgbm90IGJlIG1vdW50ZWQgeWV0XG4gICAgICAgICAgICogV2Ugd2lsbCB0byBjaGVjayBlbGVtZW50IGZvciAxMCBzZWNvbmRzIGFuZCBnaXZlIHVwXG4gICAgICAgICAgICovXG4gICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbmZpZy5pbmJveFNlbGVjdG9yKSkge1xuICAgICAgICAgICAgb25Mb2FkZWQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gY2hlY2sgZm9yIGVsZW1lbnQgZm9yIG5leHQgMTAgc2Vjb25kc1xuICAgICAgICAgICAgbGV0IGNvdW50ID0gMDtcblxuICAgICAgICAgICAgaWYgKGNvdW50IDwgMjApIHtcbiAgICAgICAgICAgICAgY29uc3QgdCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29uZmlnLmluYm94U2VsZWN0b3IpKSB7XG4gICAgICAgICAgICAgICAgICBvbkxvYWRlZCgpO1xuICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0KTtcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvdW50ID49IDIwKSB7XG4gICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHQpO1xuICAgICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdGYWlsZWQgdG8gYWRkIGluYm94Jyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBjb25zdCBjaGVja0FuZFJlZ2lzdGVyV2ViSW5ib3hFbGVtZW50cyA9ICgpID0+IHtcbiAgICBpZiAoY3VzdG9tRWxlbWVudHMuZ2V0KCdjdC13ZWItaW5ib3gnKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ2N0LXdlYi1pbmJveCcsIEluYm94KTtcbiAgICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnY3QtaW5ib3gtbWVzc2FnZScsIE1lc3NhZ2UpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZ2V0SW5ib3hQb3NpdGlvbiA9IChlLCBpbmJveEhlaWdodCwgaW5ib3hXaWR0aCkgPT4ge1xuICAgIGNvbnN0IGhvcml6b250YWxTY3JvbGwgPSBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgY29uc3QgdmVydGljYWxTY3JvbGwgPSBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50LnNjcm9sbFRvcDtcbiAgICBjb25zdCB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoICsgaG9yaXpvbnRhbFNjcm9sbDtcbiAgICBjb25zdCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKyB2ZXJ0aWNhbFNjcm9sbDtcbiAgICBjb25zdCBzZWxlY3RvclJlY3QgPSBlLnJlY3QgfHwgZS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3Qgc2VsZWN0b3JYID0gc2VsZWN0b3JSZWN0LnggKyBob3Jpem9udGFsU2Nyb2xsO1xuICAgIGNvbnN0IHNlbGVjdG9yWSA9IHNlbGVjdG9yUmVjdC55ICsgdmVydGljYWxTY3JvbGw7XG4gICAgY29uc3Qgc2VsZWN0b3JMZWZ0ID0gc2VsZWN0b3JSZWN0LmxlZnQgKyBob3Jpem9udGFsU2Nyb2xsO1xuICAgIGNvbnN0IHNlbGVjdG9yUmlnaHQgPSBzZWxlY3RvclJlY3QucmlnaHQgKyBob3Jpem9udGFsU2Nyb2xsO1xuICAgIGNvbnN0IHNlbGVjdG9yVG9wID0gc2VsZWN0b3JSZWN0LnRvcCArIHZlcnRpY2FsU2Nyb2xsOyAvLyBjb25zdCBzZWxlY3RvckJvdHRvbSA9IHNlbGVjdG9yUmVjdC5ib3R0b20gKyB2ZXJ0aWNhbFNjcm9sbFxuXG4gICAgY29uc3Qgc2VsZWN0b3JCb3R0b20gPSBzZWxlY3RvclJlY3QuYm90dG9tO1xuICAgIGNvbnN0IHNlbGVjdG9ySGVpZ2h0ID0gc2VsZWN0b3JSZWN0LmhlaWdodDtcbiAgICBjb25zdCBzZWxlY3RvcldpZHRoID0gc2VsZWN0b3JSZWN0LndpZHRoO1xuICAgIGNvbnN0IHNlbGVjdG9yQ2VudGVyID0ge1xuICAgICAgeDogc2VsZWN0b3JYICsgc2VsZWN0b3JXaWR0aCAvIDIsXG4gICAgICB5OiBzZWxlY3RvclkgKyBzZWxlY3RvckhlaWdodCAvIDJcbiAgICB9O1xuICAgIGNvbnN0IGhhbGZPZkluYm94SGVpZ2h0ID0gaW5ib3hIZWlnaHQgLyAyO1xuICAgIGNvbnN0IGhhbGZPZkluYm94V2lkdGggPSBpbmJveFdpZHRoIC8gMjtcbiAgICBsZXQgaW5ib3hPblNpZGUgPSBmYWxzZTtcbiAgICBsZXQgeFBvcywgeVBvcztcbiAgICBjb25zdCBwYWRkaW5nID0gMTY7XG4gICAgLyoqXG4gICAgICogeSBjby1vcmRpbmF0ZXM6XG4gICAgICogVHJ5IHRvIHB1c2ggdGhlIGNhcmQgZG93bndhcmRzXG4gICAgICogaWYgdGhhdCdzIG5vdCBwb3NzaWJsZSwgcHVzaCBpdCB1cHdhcmRzXG4gICAgICogaWYgdGhhdCB0b28gaXMgbm90IHBvc3NpYmxlLCB0aGVuIHRoZSBjYXJkIHdpbGwgYmUgcGxhY2VkIG9uIHRoZSBzaWRlLiBBZGQgc29tZSBwYWRkaW5nLlxuICAgICAqXG4gICAgICogeCBjby1vcmRpbmF0ZXM6XG4gICAgICogSWYgdGhlIGNhcmQgaXMgb24gdGhlIHNpZGUsXG4gICAgICogICAgdHJ5IHRvIHBsYWNlIGl0IHRvIHRoZSByaWdodC4gSWYgaXQncyBub3QgcG9zc2libGUsXG4gICAgICogICAgcGxhY2UgaXQgdG8gdGhlIGxlZnRcbiAgICAgKiBJZiB0aGUgY2FyZCBpcyBlaXRoZXIgb24gdG9wLyBib3R0b20sIHNldCB0aGUgeCBjby1vcmRpbmF0ZSBzdWNoIHRoYXQgdGhlIHNlbGVjdG9yIGNlbnRlciBhbmQgdGhlIGluYm94IGNhcmQgY2VudGVyIGJlY29tZSB0aGUgc2FtZVxuICAgICAqIE5vdyxcbiAgICAgKiAgaWYgdGhlIGxlZnQgb2YgdGhlIGluYm94IGNhcmQgaXMgPCAwLFxuICAgICAqICAgIHRyeSB0byBnZXQgdGhlIGxlZnQgYWxpZ25lZCB0byB0aGUgc2VsZWN0b3JMZWZ0LlxuICAgICAqICAgIGlmIHRoYXQncyBub3QgcG9zc2libGUsIHNpbXBseSBzZXQgbGVmdCB0byAwXG4gICAgICogIGlmIHRoZSByaWdodCBvZiB0aGUgaW5ib3ggY2FyZCA+IHdpbmRvd1dpZHRoLFxuICAgICAqICAgIHRyeSB0byBnZXQgdGhlIHJpZ2h0IG9mIHJoZSBpbmJveCBjYXJkIGFsaWduZWQgd2l0aCB0aGUgc2VsZWN0b3JSaWdodFxuICAgICAqICAgIGlmIHRoYXQncyBub3QgcG9zc2libGUsIHNpbXBseSBzZXQgdGhlIGluYm94IHJpZ2h0IHRvIHRoZSB3aW5kb3cgUmlnaHRcbiAgICAgKi9cblxuICAgIGlmIChzZWxlY3RvckJvdHRvbSArIGluYm94SGVpZ2h0IDw9IHdpbmRvd0hlaWdodCkge1xuICAgICAgLy8gdHJ5IHRvIHBsYWNlIHRoZSBjYXJkIGRvd25cbiAgICAgIGNvbnN0IGF2YWlsYWJsZUhlaWdodCA9IHdpbmRvd0hlaWdodCAtIChzZWxlY3RvckJvdHRvbSArIGluYm94SGVpZ2h0KTtcbiAgICAgIHlQb3MgPSBhdmFpbGFibGVIZWlnaHQgPj0gcGFkZGluZyA/IHNlbGVjdG9yQm90dG9tICsgcGFkZGluZyA6IHNlbGVjdG9yQm90dG9tICsgYXZhaWxhYmxlSGVpZ2h0O1xuICAgIH0gZWxzZSBpZiAoc2VsZWN0b3JUb3AgLSBpbmJveEhlaWdodCA+PSB2ZXJ0aWNhbFNjcm9sbCkge1xuICAgICAgLy8gdHJ5IHRvIHBsYWNlIHRoZSBjYXJkIHVwXG4gICAgICBjb25zdCBhdmFpbGFibGVIZWlnaHQgPSBzZWxlY3RvclRvcCAtIGluYm94SGVpZ2h0O1xuICAgICAgeVBvcyA9IGF2YWlsYWJsZUhlaWdodCA+PSBwYWRkaW5nID8gc2VsZWN0b3JUb3AgLSBpbmJveEhlaWdodCAtIHBhZGRpbmcgOiBzZWxlY3RvclRvcCAtIGluYm94SGVpZ2h0IC0gYXZhaWxhYmxlSGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBpbmJveE9uU2lkZSA9IHRydWU7XG4gICAgICB5UG9zID0gc2VsZWN0b3JDZW50ZXIueSAtIGhhbGZPZkluYm94SGVpZ2h0OyAvLyB3aXRoIHRoaXMgdGhlIHkgY28tb3JkaW5hdGUgb2YgdGhlIHNlbGVjdG9yIGNlbnRlciBhbmQgdGhlIGluYm94IGNhcmQgY2VudGVyIGJlY29tZSB0aGUgc2FtZVxuXG4gICAgICBpZiAoeVBvcyA8IHZlcnRpY2FsU2Nyb2xsKSB7XG4gICAgICAgIHlQb3MgPSB2ZXJ0aWNhbFNjcm9sbDtcbiAgICAgIH0gZWxzZSBpZiAoeVBvcyArIGluYm94SGVpZ2h0ID4gd2luZG93SGVpZ2h0KSB7XG4gICAgICAgIHlQb3MgPSB3aW5kb3dIZWlnaHQgLSBpbmJveEhlaWdodDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaW5ib3hPblNpZGUpIHtcbiAgICAgIC8vIFNlZSBpZiB3ZSBjYW4gcGxhY2UgdGhlIGNhcmQgdG8gdGhlIHJpZ2h0IG9mIHRoZSBzZWxlY3RvclxuICAgICAgY29uc3QgaW5ib3hSaWdodCA9IHNlbGVjdG9yUmlnaHQgKyBpbmJveFdpZHRoO1xuXG4gICAgICBpZiAoaW5ib3hSaWdodCA8PSB3aW5kb3dXaWR0aCkge1xuICAgICAgICBjb25zdCBhdmFpbGFibGVXaWR0aCA9IGluYm94UmlnaHQgKyBwYWRkaW5nIDw9IHdpbmRvd1dpZHRoID8gcGFkZGluZyA6IHdpbmRvd1dpZHRoIC0gaW5ib3hSaWdodDtcbiAgICAgICAgeFBvcyA9IHNlbGVjdG9yUmlnaHQgKyBhdmFpbGFibGVXaWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGluYm94TGVmdCA9IHNlbGVjdG9yTGVmdCAtIGluYm94V2lkdGg7XG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZVdpZHRoID0gaW5ib3hMZWZ0IC0gcGFkZGluZyA+PSBob3Jpem9udGFsU2Nyb2xsID8gcGFkZGluZyA6IGluYm94TGVmdCAtIGhvcml6b250YWxTY3JvbGw7XG4gICAgICAgIHhQb3MgPSBpbmJveExlZnQgLSBhdmFpbGFibGVXaWR0aDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgeFBvcyA9IHNlbGVjdG9yQ2VudGVyLnggLSBoYWxmT2ZJbmJveFdpZHRoO1xuXG4gICAgICBpZiAoeFBvcyA8IGhvcml6b250YWxTY3JvbGwpIHtcbiAgICAgICAgaWYgKHNlbGVjdG9yTGVmdCArIGluYm94V2lkdGggPD0gd2luZG93V2lkdGgpIHtcbiAgICAgICAgICB4UG9zID0gc2VsZWN0b3JMZWZ0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHhQb3MgPSBob3Jpem9udGFsU2Nyb2xsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHhQb3MgKyBpbmJveFdpZHRoID4gd2luZG93V2lkdGgpIHtcbiAgICAgICAgaWYgKHNlbGVjdG9yUmlnaHQgLSBpbmJveFdpZHRoID49IGhvcml6b250YWxTY3JvbGwpIHtcbiAgICAgICAgICB4UG9zID0gc2VsZWN0b3JSaWdodCAtIGluYm94V2lkdGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgeFBvcyA9IHdpbmRvd1dpZHRoIC0gaW5ib3hXaWR0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB4UG9zLFxuICAgICAgeVBvc1xuICAgIH07XG4gIH07XG4gIGNvbnN0IGRldGVybWluZVRpbWVTdGFtcFRleHQgPSB0cyA9PiB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBsZXQgZGlmZiA9IE1hdGguZmxvb3IoKG5vdyAtIHRzKSAvIDYwMDAwKTtcblxuICAgIGlmIChkaWZmIDwgNSkge1xuICAgICAgcmV0dXJuICdKdXN0IG5vdyc7XG4gICAgfVxuXG4gICAgaWYgKGRpZmYgPCA2MCkge1xuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KGRpZmYsIFwiIG1pbnV0ZVwiKS5jb25jYXQoZGlmZiA+IDEgPyAncycgOiAnJywgXCIgYWdvXCIpO1xuICAgIH1cblxuICAgIGRpZmYgPSBNYXRoLmZsb29yKGRpZmYgLyA2MCk7XG5cbiAgICBpZiAoZGlmZiA8IDI0KSB7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQoZGlmZiwgXCIgaG91clwiKS5jb25jYXQoZGlmZiA+IDEgPyAncycgOiAnJywgXCIgYWdvXCIpO1xuICAgIH1cblxuICAgIGRpZmYgPSBNYXRoLmZsb29yKGRpZmYgLyAyNCk7XG4gICAgcmV0dXJuIFwiXCIuY29uY2F0KGRpZmYsIFwiIGRheVwiKS5jb25jYXQoZGlmZiA+IDEgPyAncycgOiAnJywgXCIgYWdvXCIpO1xuICB9O1xuICBjb25zdCBoYXNXZWJJbmJveFNldHRpbmdzSW5MUyA9ICgpID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKFdFQklOQk9YX0NPTkZJRykgfHwge30pLmxlbmd0aCA+IDA7XG4gIH07XG4gIGNvbnN0IGFycm93U3ZnID0gXCI8c3ZnIHdpZHRoPVxcXCI2XFxcIiBoZWlnaHQ9XFxcIjEwXFxcIiB2aWV3Qm94PVxcXCIwIDAgNiAxMFxcXCIgZmlsbD1cXFwibm9uZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj5cXG48cGF0aCBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTAuMjU4NDM1IDkuNzQ3NTFDLTAuMDQ3ODU4NCA5LjQ0ODI1IC0wLjA4MTg5MSA4Ljk4MzczIDAuMTU2MzM3IDguNjQ3NzVMMC4yNTg0MzUgOC41MjgzNkwzLjg3MTA2IDVMMC4yNTg0MzUgMS40NzE2NEMtMC4wNDc4NTg4IDEuMTcyMzkgLTAuMDgxODkxNCAwLjcwNzg2NyAwLjE1NjMzNyAwLjM3MTg4N0wwLjI1ODQzNSAwLjI1MjQ5NEMwLjU2NDcyOCAtMC4wNDY3NTg1IDEuMDQwMTggLTAuMDgwMDA4NSAxLjM4NDA3IDAuMTUyNzQzTDEuNTA2MjcgMC4yNTI0OTRMNS43NDE1NiA0LjM5MDQyQzYuMDQ3ODYgNC42ODk2OCA2LjA4MTg5IDUuMTU0MiA1Ljg0MzY2IDUuNDkwMThMNS43NDE1NiA1LjYwOTU3TDEuNTA2MjcgOS43NDc1MUMxLjE2MTY5IDEwLjA4NDIgMC42MDMwMTUgMTAuMDg0MiAwLjI1ODQzNSA5Ljc0NzUxWlxcXCIgZmlsbD1cXFwiIzYzNjk4RlxcXCIvPlxcbjwvc3ZnPlxcblwiO1xuICBjb25zdCBncmVlblRpY2tTdmcgPSBcIjxzdmcgd2lkdGg9XFxcIjE2XFxcIiBoZWlnaHQ9XFxcIjE2XFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+XFxuPHBhdGggZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk0xNiA4QzE2IDMuNTgxNzIgMTIuNDE4MyAwIDggMEMzLjU4MTcyIDAgMCAzLjU4MTcyIDAgOEMwIDEyLjQxODMgMy41ODE3MiAxNiA4IDE2QzEyLjQxODMgMTYgMTYgMTIuNDE4MyAxNiA4Wk05LjY4MzkgNS45MzYwMkM5Ljk3MDgzIDUuNTU2OTggMTAuNTAzIDUuNDg4MzMgMTAuODcyNSA1Ljc4MjY5QzExLjIxMzUgNi4wNTQ0IDExLjI5NjggNi41NDA0NCAxMS4wODE5IDYuOTExNzNMMTEuMDIxOSA3LjAwMTk4TDguMDk4MzEgMTAuODY0QzcuODA1ODEgMTEuMjUwNCA3LjI2NjU0IDExLjMwODYgNi45MDMyMyAxMS4wMTIyTDYuODI4MjIgMTAuOTQzM0w1LjA0NTk3IDkuMTAxOTFDNC43MTYzNSA4Ljc2MTM2IDQuNzE4MjYgOC4yMTExNyA1LjA1MDIzIDcuODczMDNDNS4zNTY2NiA3LjU2MDkgNS44MzcyMiA3LjUzODU1IDYuMTY4NTkgNy44MDQ4Mkw2LjI0ODE0IDcuODc3MzlMNy4zNTEzMyA5LjAxNzE3TDkuNjgzOSA1LjkzNjAyWlxcXCIgZmlsbD1cXFwiIzAzQTM4N1xcXCIvPlxcbjwvc3ZnPlxcblwiO1xuXG4gIGNvbnN0IE9WRVJMQVlfUEFUSCA9ICdodHRwczovL2QycjF5cDJ3N2JieTJ1LmNsb3VkZnJvbnQubmV0L2pzL2xpYi1vdmVybGF5L292ZXJsYXkuanMnO1xuICBjb25zdCBDU1NfUEFUSCA9ICdodHRwczovL2QycjF5cDJ3N2JieTJ1LmNsb3VkZnJvbnQubmV0L2pzL2xpYi1vdmVybGF5L3N0eWxlLmNzcyc7XG5cbiAgY29uc3QgY2hlY2tCdWlsZGVyID0gbG9nZ2VyID0+IHtcbiAgICBjb25zdCBzZWFyY2ggPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuICAgIGNvbnN0IHBhcmVudFdpbmRvdyA9IHdpbmRvdy5vcGVuZXI7XG5cbiAgICBpZiAoc2VhcmNoID09PSAnP2N0QnVpbGRlcicpIHtcbiAgICAgIC8vIG9wZW4gaW4gdmlzdWFsIGJ1aWxkZXIgbW9kZVxuICAgICAgbG9nZ2VyLmRlYnVnKCdvcGVuIGluIHZpc3VhbCBidWlsZGVyIG1vZGUnKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlTWVzc2FnZUV2ZW50LCBmYWxzZSk7XG5cbiAgICAgIGlmIChwYXJlbnRXaW5kb3cpIHtcbiAgICAgICAgcGFyZW50V2luZG93LnBvc3RNZXNzYWdlKCdidWlsZGVyJywgJyonKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzZWFyY2ggPT09ICc/Y3RCdWlsZGVyUHJldmlldycpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlTWVzc2FnZUV2ZW50LCBmYWxzZSk7XG5cbiAgICAgIGlmIChwYXJlbnRXaW5kb3cpIHtcbiAgICAgICAgcGFyZW50V2luZG93LnBvc3RNZXNzYWdlKCdwcmV2aWV3JywgJyonKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlTWVzc2FnZUV2ZW50ID0gZXZlbnQgPT4ge1xuICAgIGlmIChldmVudC5kYXRhICYmIGV2ZW50LmRhdGEubWVzc2FnZSkge1xuICAgICAgaWYgKGV2ZW50LmRhdGEubWVzc2FnZSA9PT0gJ0Rhc2hib2FyZCcgJiYgZXZlbnQuZGF0YS51cmwpIHtcbiAgICAgICAgdmFyIF9ldmVudCRkYXRhJHZhcmlhbnQsIF9ldmVudCRkYXRhJGRldGFpbHM7XG5cbiAgICAgICAgaW5pdGlhbGlzZUNUQnVpbGRlcihldmVudC5kYXRhLnVybCwgKF9ldmVudCRkYXRhJHZhcmlhbnQgPSBldmVudC5kYXRhLnZhcmlhbnQpICE9PSBudWxsICYmIF9ldmVudCRkYXRhJHZhcmlhbnQgIT09IHZvaWQgMCA/IF9ldmVudCRkYXRhJHZhcmlhbnQgOiBudWxsLCAoX2V2ZW50JGRhdGEkZGV0YWlscyA9IGV2ZW50LmRhdGEuZGV0YWlscykgIT09IG51bGwgJiYgX2V2ZW50JGRhdGEkZGV0YWlscyAhPT0gdm9pZCAwID8gX2V2ZW50JGRhdGEkZGV0YWlscyA6IHt9KTtcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQuZGF0YS5tZXNzYWdlID09PSAnT3ZlcmxheScpIHtcbiAgICAgICAgcmVuZGVyVmlzdWFsQnVpbGRlcihldmVudC5kYXRhLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgQ2xldmVydGFwIGJ1aWxkZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgVVJMIHRvIGluaXRpYWxpemUgdGhlIGJ1aWxkZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YXJpYW50IC0gVGhlIHZhcmlhbnQgb2YgdGhlIGJ1aWxkZXIuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkZXRhaWxzIC0gVGhlIGRldGFpbHMgb2JqZWN0LlxuICAgKi9cblxuXG4gIGNvbnN0IGluaXRpYWxpc2VDVEJ1aWxkZXIgPSAodXJsLCB2YXJpYW50LCBkZXRhaWxzKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJykge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IG9uQ29udGVudExvYWQodXJsLCB2YXJpYW50LCBkZXRhaWxzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uQ29udGVudExvYWQodXJsLCB2YXJpYW50LCBkZXRhaWxzKTtcbiAgICB9XG4gIH07XG5cbiAgbGV0IGNvbnRhaW5lcjtcbiAgbGV0IGNvbnRlbnRMb2FkZWQgPSBmYWxzZTtcbiAgLyoqXG4gICAqIEhhbmRsZXMgY29udGVudCBsb2FkIGZvciBDbGV2ZXJ0YXAgYnVpbGRlci5cbiAgICovXG5cbiAgZnVuY3Rpb24gb25Db250ZW50TG9hZCh1cmwsIHZhcmlhbnQsIGRldGFpbHMpIHtcbiAgICBpZiAoIWNvbnRlbnRMb2FkZWQpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgICBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnRhaW5lci5pZCA9ICdvdmVybGF5RGl2JztcbiAgICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7IC8vIEVuc3VyZSByZWxhdGl2ZSBwb3NpdGlvbmluZyBmb3IgYWJzb2x1dGUgcG9zaXRpb25pbmcgb2YgZm9ybVxuXG4gICAgICBjb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgICAgIGNvbnN0IG92ZXJsYXlQYXRoID0gT1ZFUkxBWV9QQVRIO1xuICAgICAgbG9hZE92ZXJsYXlTY3JpcHQob3ZlcmxheVBhdGgsIHVybCwgdmFyaWFudCwgZGV0YWlscykudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdPdmVybGF5IHNjcmlwdCBsb2FkZWQgc3VjY2Vzc2Z1bGx5LicpO1xuICAgICAgICBjb250ZW50TG9hZGVkID0gdHJ1ZTtcbiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBvdmVybGF5IHNjcmlwdDonLCBlcnJvcik7XG4gICAgICB9KTtcbiAgICAgIGxvYWRDU1MoKTtcbiAgICAgIGxvYWRUeXBlS2l0KCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBMb2FkcyBDU1MgZmlsZS5cbiAgICovXG5cblxuICBmdW5jdGlvbiBsb2FkQ1NTKCkge1xuICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuICAgIGxpbmsucmVsID0gJ3N0eWxlc2hlZXQnO1xuICAgIGxpbmsudHlwZSA9ICd0ZXh0L2Nzcyc7XG4gICAgbGluay5ocmVmID0gQ1NTX1BBVEg7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChsaW5rKTtcbiAgfVxuICAvKipcbiAgICogTG9hZHMgdGhlIG92ZXJsYXkgc2NyaXB0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3ZlcmxheVBhdGggLSBUaGUgcGF0aCB0byBvdmVybGF5IHNjcmlwdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBVUkwuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YXJpYW50IC0gVGhlIHZhcmlhbnQuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkZXRhaWxzIC0gVGhlIGRldGFpbHMgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlLlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGxvYWRPdmVybGF5U2NyaXB0KG92ZXJsYXlQYXRoLCB1cmwsIHZhcmlhbnQsIGRldGFpbHMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgc2NyaXB0LnR5cGUgPSAnbW9kdWxlJztcbiAgICAgIHNjcmlwdC5zcmMgPSBvdmVybGF5UGF0aDtcblxuICAgICAgc2NyaXB0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuT3ZlcmxheSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHdpbmRvdy5PdmVybGF5KHtcbiAgICAgICAgICAgIGlkOiAnI292ZXJsYXlEaXYnLFxuICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgdmFyaWFudCxcbiAgICAgICAgICAgIGRldGFpbHNcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignQ29udGVudExheW91dCBub3QgZm91bmQgaW4gb3ZlcmxheS5qcycpKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2NyaXB0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH07XG5cbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogTG9hZHMgVHlwZUtpdCBzY3JpcHQuXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gbG9hZFR5cGVLaXQoKSB7XG4gICAgY29uc3QgY29uZmlnID0ge1xuICAgICAga2l0SWQ6ICdlcWo2bm9tJyxcbiAgICAgIHNjcmlwdFRpbWVvdXQ6IDMwMDAsXG4gICAgICBhc3luYzogdHJ1ZVxuICAgIH07XG4gICAgY29uc3QgZG9jRWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGRvY0VsZW1lbnQuY2xhc3NOYW1lID0gZG9jRWxlbWVudC5jbGFzc05hbWUucmVwbGFjZSgvXFxid2YtbG9hZGluZ1xcYi9nLCAnJykgKyAnIHdmLWluYWN0aXZlJztcbiAgICB9LCBjb25maWcuc2NyaXB0VGltZW91dCk7XG4gICAgY29uc3QgdHlwZUtpdFNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIGxldCBzY3JpcHRMb2FkZWQgPSBmYWxzZTtcbiAgICBjb25zdCBmaXJzdFNjcmlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtcbiAgICBsZXQgc2NyaXB0UmVhZHlTdGF0ZTtcbiAgICBkb2NFbGVtZW50LmNsYXNzTmFtZSArPSAnIHdmLWxvYWRpbmcnO1xuICAgIHR5cGVLaXRTY3JpcHQuc3JjID0gJ2h0dHBzOi8vdXNlLnR5cGVraXQubmV0LycgKyBjb25maWcua2l0SWQgKyAnLmpzJztcbiAgICB0eXBlS2l0U2NyaXB0LmFzeW5jID0gdHJ1ZTtcblxuICAgIHR5cGVLaXRTY3JpcHQub25sb2FkID0gdHlwZUtpdFNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBzY3JpcHRSZWFkeVN0YXRlID0gdGhpcy5yZWFkeVN0YXRlO1xuICAgICAgaWYgKHNjcmlwdExvYWRlZCB8fCBzY3JpcHRSZWFkeVN0YXRlICYmIHNjcmlwdFJlYWR5U3RhdGUgIT09ICdjb21wbGV0ZScgJiYgc2NyaXB0UmVhZHlTdGF0ZSAhPT0gJ2xvYWRlZCcpIHJldHVybjtcbiAgICAgIHNjcmlwdExvYWRlZCA9IHRydWU7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgIFR5cGVraXQubG9hZChjb25maWcpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9O1xuXG4gICAgZmlyc3RTY3JpcHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodHlwZUtpdFNjcmlwdCwgZmlyc3RTY3JpcHQpO1xuICB9XG4gIC8qKlxuICAgKiBSZW5kZXJzIHRoZSB2aXN1YWwgYnVpbGRlci5cbiAgICogQHBhcmFtIHtPYmplY3R9IHRhcmdldGluZ01zZ0pzb24gLSBUaGUgcG9pbnQgYW5kIGNsaWNrIGNhbXBhaWduIEpTT04gb2JqZWN0LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzUHJldmlldyAtIEluZGljYXRlcyBpZiBpdCdzIGEgcHJldmlldy5cbiAgICovXG5cblxuICBjb25zdCByZW5kZXJWaXN1YWxCdWlsZGVyID0gKHRhcmdldGluZ01zZ0pzb24sIGlzUHJldmlldykgPT4ge1xuICAgIGNvbnN0IGRldGFpbHMgPSBpc1ByZXZpZXcgPyB0YXJnZXRpbmdNc2dKc29uLmRldGFpbHNbMF0gOiB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkuZGV0YWlsc1swXTtcbiAgICBjb25zdCBzaXRlVXJsID0gT2JqZWN0LmtleXMoZGV0YWlscylbMF07XG4gICAgY29uc3Qgc2VsZWN0b3JzID0gZGV0YWlsc1tzaXRlVXJsXTtcbiAgICBsZXQgZWxlbWVudERpc3BsYXllZCA9IGZhbHNlO1xuXG4gICAgaWYgKHNpdGVVcmwgPT09IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCc/JylbMF0pIHtcbiAgICAgIGZvciAoY29uc3Qgc2VsZWN0b3IgaW4gc2VsZWN0b3JzKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcblxuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgIGlmIChzZWxlY3RvcnNbc2VsZWN0b3JdLmh0bWwpIHtcbiAgICAgICAgICAgIGVsZW1lbnQub3V0ZXJIVE1MID0gc2VsZWN0b3JzW3NlbGVjdG9yXS5odG1sO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUganNvbiBkYXRhXG4gICAgICAgICAgICBkaXNwYXRjaEpzb25EYXRhKHRhcmdldGluZ01zZ0pzb24sIHNlbGVjdG9yc1tzZWxlY3Rvcl0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGVsZW1lbnREaXNwbGF5ZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgICAgY29uc3QgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJldHJ5RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuXG4gICAgICAgICAgICBpZiAocmV0cnlFbGVtZW50KSB7XG4gICAgICAgICAgICAgIGlmIChzZWxlY3RvcnNbc2VsZWN0b3JdLmh0bWwpIHtcbiAgICAgICAgICAgICAgICByZXRyeUVsZW1lbnQub3V0ZXJIVE1MID0gc2VsZWN0b3JzW3NlbGVjdG9yXS5odG1sO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBqc29uIGRhdGFcbiAgICAgICAgICAgICAgICBkaXNwYXRjaEpzb25EYXRhKHRhcmdldGluZ01zZ0pzb24sIHNlbGVjdG9yc1tzZWxlY3Rvcl0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZWxlbWVudERpc3BsYXllZCA9IHRydWU7XG4gICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb3VudCsrO1xuXG4gICAgICAgICAgICAgIGlmIChjb3VudCA+PSAyMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm8gZWxlbWVudCBwcmVzZW50IG9uIERPTSB3aXRoIHNlbGVjdG9yICdcIi5jb25jYXQoc2VsZWN0b3IsIFwiJy5cIikpO1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChlbGVtZW50RGlzcGxheWVkICYmICFpc1ByZXZpZXcpIHtcbiAgICAgICAgd2luZG93LmNsZXZlcnRhcC5yZW5kZXJOb3RpZmljYXRpb25WaWV3ZWQoe1xuICAgICAgICAgIG1zZ0lkOiB0YXJnZXRpbmdNc2dKc29uLnd6cmtfaWQsXG4gICAgICAgICAgcGl2b3RJZDogdGFyZ2V0aW5nTXNnSnNvbi53enJrX3Bpdm90XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIERpc3BhdGNoZXMgSlNPTiBkYXRhLlxuICAgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0aW5nTXNnSnNvbiAtIFRoZSBwb2ludCBhbmQgY2xpY2sgY2FtcGFpZ24gSlNPTiBvYmplY3QuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZWxlY3RvciAtIFRoZSBzZWxlY3RvciBvYmplY3QuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGRpc3BhdGNoSnNvbkRhdGEodGFyZ2V0aW5nTXNnSnNvbiwgc2VsZWN0b3IpIHtcbiAgICBjb25zdCBpbmFPYmogPSB7fTtcbiAgICBpbmFPYmoubXNnSWQgPSB0YXJnZXRpbmdNc2dKc29uLnd6cmtfaWQ7XG5cbiAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi53enJrX3Bpdm90KSB7XG4gICAgICBpbmFPYmoucGl2b3RJZCA9IHRhcmdldGluZ01zZ0pzb24ud3pya19waXZvdDtcbiAgICB9XG5cbiAgICBpZiAoc2VsZWN0b3IuanNvbiAhPSBudWxsKSB7XG4gICAgICBpbmFPYmouanNvbiA9IHNlbGVjdG9yLmpzb247XG4gICAgfVxuXG4gICAgY29uc3Qga3ZQYWlyc0V2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdDVF93ZWJfbmF0aXZlX2Rpc3BsYXlfYnVpZGVyJywge1xuICAgICAgZGV0YWlsOiBpbmFPYmpcbiAgICB9KTtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGt2UGFpcnNFdmVudCk7XG4gIH1cblxuICBjb25zdCBfdHIgPSAobXNnLCBfcmVmKSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGRldmljZSxcbiAgICAgIHNlc3Npb24sXG4gICAgICByZXF1ZXN0LFxuICAgICAgbG9nZ2VyXG4gICAgfSA9IF9yZWY7XG4gICAgY29uc3QgX2RldmljZSA9IGRldmljZTtcbiAgICBjb25zdCBfc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgY29uc3QgX3JlcXVlc3QgPSByZXF1ZXN0O1xuICAgIGNvbnN0IF9sb2dnZXIgPSBsb2dnZXI7XG4gICAgbGV0IF93aXpDb3VudGVyID0gMDsgLy8gQ2FtcGFpZ24gSG91c2Uga2VlcGluZ1xuXG4gICAgY29uc3QgZG9DYW1wSG91c2VLZWVwaW5nID0gdGFyZ2V0aW5nTXNnSnNvbiA9PiB7XG4gICAgICBjb25zdCBjYW1wYWlnbklkID0gdGFyZ2V0aW5nTXNnSnNvbi53enJrX2lkLnNwbGl0KCdfJylbMF07XG4gICAgICBjb25zdCB0b2RheSA9IGdldFRvZGF5KCk7XG5cbiAgICAgIGNvbnN0IGluY3JDb3VudCA9IChvYmosIGNhbXBhaWduSWQsIGV4Y2x1ZGVGcm9tRnJlcUNhcHMpID0+IHtcbiAgICAgICAgbGV0IGN1cnJlbnRDb3VudCA9IDA7XG4gICAgICAgIGxldCB0b3RhbENvdW50ID0gMDtcblxuICAgICAgICBpZiAob2JqW2NhbXBhaWduSWRdICE9IG51bGwpIHtcbiAgICAgICAgICBjdXJyZW50Q291bnQgPSBvYmpbY2FtcGFpZ25JZF07XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50Q291bnQrKztcblxuICAgICAgICBpZiAob2JqLnRjICE9IG51bGwpIHtcbiAgICAgICAgICB0b3RhbENvdW50ID0gb2JqLnRjO1xuICAgICAgICB9IC8vIGlmIGV4Y2x1ZGUgZnJvbSBjYXBzIHRoZW4gZG9udCBhZGQgdG8gdG90YWwgY291bnRzXG5cblxuICAgICAgICBpZiAoZXhjbHVkZUZyb21GcmVxQ2FwcyA8IDApIHtcbiAgICAgICAgICB0b3RhbENvdW50Kys7XG4gICAgICAgIH1cblxuICAgICAgICBvYmoudGMgPSB0b3RhbENvdW50O1xuICAgICAgICBvYmpbY2FtcGFpZ25JZF0gPSBjdXJyZW50Q291bnQ7XG4gICAgICB9O1xuXG4gICAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgZGVsZXRlIHNlc3Npb25TdG9yYWdlW0NBTVBfQ09PS0lFX05BTUVdO1xuICAgICAgICB2YXIgY2FtcFR5cGVPYmogPSB7fTtcbiAgICAgICAgY29uc3QgY2FtcE9iaiA9IGdldENhbXBhaWduT2JqZWN0KCk7XG5cbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS53dGFyZ2V0X3R5cGUgPT09IDMgJiYgY2FtcE9iai5oYXNPd25Qcm9wZXJ0eSgnd2knKSkge1xuICAgICAgICAgIGNhbXBUeXBlT2JqID0gY2FtcE9iai53aTtcbiAgICAgICAgfSBlbHNlIGlmICgodGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5Lnd0YXJnZXRfdHlwZSA9PT0gMCB8fCB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkud3RhcmdldF90eXBlID09PSAxKSAmJiBjYW1wT2JqLmhhc093blByb3BlcnR5KCd3cCcpKSB7XG4gICAgICAgICAgY2FtcFR5cGVPYmogPSBjYW1wT2JqLndwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbXBUeXBlT2JqID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2FtcE9iai5oYXNPd25Qcm9wZXJ0eSgnZ2xvYmFsJykpIHtcbiAgICAgICAgICBjYW1wVHlwZU9iai53cCA9IGNhbXBPYmo7XG4gICAgICAgIH0gLy8gZ2xvYmFsIHNlc3Npb24gbGltaXQuIGRlZmF1bHQgaXMgMVxuXG5cbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0ud21jID09IG51bGwpIHtcbiAgICAgICAgICB0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLndtYyA9IDE7XG4gICAgICAgIH0gLy8gZ2xvYmFsIHNlc3Npb24gbGltaXQgZm9yIHdlYiBpbmJveC4gZGVmYXVsdCBpcyAxXG5cblxuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS53aW1jID09IG51bGwpIHtcbiAgICAgICAgICB0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLndpbWMgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGV4Y2x1ZGVGcm9tRnJlcUNhcHMgPSAtMTsgLy8gZWZjIC0gRXhjbHVkZSBmcm9tIGZyZXF1ZW5jeSBjYXBzXG5cbiAgICAgICAgbGV0IGNhbXBhaWduU2Vzc2lvbkxpbWl0ID0gLTE7IC8vIG1kYyAtIE9uY2UgcGVyIHNlc3Npb25cblxuICAgICAgICBsZXQgY2FtcGFpZ25EYWlseUxpbWl0ID0gLTE7IC8vIHRkYyAtIE9uY2UgcGVyIGRheVxuXG4gICAgICAgIGxldCBjYW1wYWlnblRvdGFsTGltaXQgPSAtMTsgLy8gdGxjIC0gT25jZSBwZXIgdXNlciBmb3IgdGhlIGR1cmF0aW9uIG9mIGNhbXBhaWduXG5cbiAgICAgICAgbGV0IHRvdGFsRGFpbHlMaW1pdCA9IC0xO1xuICAgICAgICBsZXQgdG90YWxTZXNzaW9uTGltaXQgPSAtMTsgLy8gd21jIC0gV2ViIFBvcHVwIEdsb2JhbCBTZXNzaW9uIExpbWl0XG5cbiAgICAgICAgbGV0IHRvdGFsSW5ib3hTZXNzaW9uTGltaXQgPSAtMTsgLy8gd2ltYyAtIFdlYiBJbmJveCBHbG9iYWwgU2Vzc2lvbiBMaW1pdFxuXG4gICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLmVmYyAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gZXhjbHVkZSBmcm9tIGZyZXF1ZW5jeSBjYXBcbiAgICAgICAgICBleGNsdWRlRnJvbUZyZXFDYXBzID0gcGFyc2VJbnQodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS5lZmMsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLm1kYyAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gQ2FtcGFpZ24gU2Vzc2lvbiBMaW1pdFxuICAgICAgICAgIGNhbXBhaWduU2Vzc2lvbkxpbWl0ID0gcGFyc2VJbnQodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS5tZGMsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLnRkYyAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gTm8gb2Ygd2ViIHBvcHVwcyBpbiBhIGRheSBwZXIgY2FtcGFpZ25cbiAgICAgICAgICBjYW1wYWlnbkRhaWx5TGltaXQgPSBwYXJzZUludCh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLnRkYywgMTApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0udGxjICE9IG51bGwpIHtcbiAgICAgICAgICAvLyBUb3RhbCBsaWZldGltZSBjb3VudFxuICAgICAgICAgIGNhbXBhaWduVG90YWxMaW1pdCA9IHBhcnNlSW50KHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0udGxjLCAxMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS53bXAgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIE5vIG9mIGNhbXBhaWducyBwZXIgZGF5XG4gICAgICAgICAgdG90YWxEYWlseUxpbWl0ID0gcGFyc2VJbnQodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS53bXAsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLndtYyAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gTm8gb2YgY2FtcGFpZ25zIHBlciBzZXNzaW9uXG4gICAgICAgICAgdG90YWxTZXNzaW9uTGltaXQgPSBwYXJzZUludCh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLndtYywgMTApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0ud2ltYyAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gTm8gb2YgaW5ib3ggY2FtcGFpZ25zIHBlciBzZXNzaW9uXG4gICAgICAgICAgdG90YWxJbmJveFNlc3Npb25MaW1pdCA9IHBhcnNlSW50KHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0ud2ltYywgMTApO1xuICAgICAgICB9IC8vIHNlc3Npb24gbGV2ZWwgY2FwcGluZ1xuXG5cbiAgICAgICAgdmFyIHNlc3Npb25PYmogPSBjYW1wVHlwZU9ialtfc2Vzc2lvbi5zZXNzaW9uSWRdO1xuXG4gICAgICAgIGlmIChzZXNzaW9uT2JqKSB7XG4gICAgICAgICAgY29uc3QgY2FtcGFpZ25TZXNzaW9uQ291bnQgPSBzZXNzaW9uT2JqW2NhbXBhaWduSWRdO1xuICAgICAgICAgIGNvbnN0IHRvdGFsU2Vzc2lvbkNvdW50ID0gc2Vzc2lvbk9iai50YzsgLy8gZG5kXG5cbiAgICAgICAgICBpZiAoY2FtcGFpZ25TZXNzaW9uQ291bnQgPT09ICdkbmQnICYmICEkY3QuZGlzbWlzc1NwYW1Db250cm9sKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0ud3RhcmdldF90eXBlID09PSAzKSB7XG4gICAgICAgICAgICAvLyBJbmJveCBzZXNzaW9uXG4gICAgICAgICAgICBpZiAodG90YWxJbmJveFNlc3Npb25MaW1pdCA+IDAgJiYgdG90YWxTZXNzaW9uQ291bnQgPj0gdG90YWxJbmJveFNlc3Npb25MaW1pdCAmJiBleGNsdWRlRnJvbUZyZXFDYXBzIDwgMCkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNlc3Npb25cbiAgICAgICAgICAgIGlmICh0b3RhbFNlc3Npb25MaW1pdCA+IDAgJiYgdG90YWxTZXNzaW9uQ291bnQgPj0gdG90YWxTZXNzaW9uTGltaXQgJiYgZXhjbHVkZUZyb21GcmVxQ2FwcyA8IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy8gY2FtcGFpZ24gc2Vzc2lvblxuXG5cbiAgICAgICAgICBpZiAoY2FtcGFpZ25TZXNzaW9uTGltaXQgPiAwICYmIGNhbXBhaWduU2Vzc2lvbkNvdW50ID49IGNhbXBhaWduU2Vzc2lvbkxpbWl0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlc3Npb25PYmogPSB7fTtcbiAgICAgICAgICBjYW1wVHlwZU9ialtfc2Vzc2lvbi5zZXNzaW9uSWRdID0gc2Vzc2lvbk9iajtcbiAgICAgICAgfSAvLyBkYWlseSBsZXZlbCBjYXBwaW5nXG5cblxuICAgICAgICB2YXIgZGFpbHlPYmogPSBjYW1wVHlwZU9ialt0b2RheV07XG5cbiAgICAgICAgaWYgKGRhaWx5T2JqICE9IG51bGwpIHtcbiAgICAgICAgICBjb25zdCBjYW1wYWlnbkRhaWx5Q291bnQgPSBkYWlseU9ialtjYW1wYWlnbklkXTtcbiAgICAgICAgICBjb25zdCB0b3RhbERhaWx5Q291bnQgPSBkYWlseU9iai50YzsgLy8gZGFpbHlcblxuICAgICAgICAgIGlmICh0b3RhbERhaWx5TGltaXQgPiAwICYmIHRvdGFsRGFpbHlDb3VudCA+PSB0b3RhbERhaWx5TGltaXQgJiYgZXhjbHVkZUZyb21GcmVxQ2FwcyA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9IC8vIGNhbXBhaWduIGRhaWx5XG5cblxuICAgICAgICAgIGlmIChjYW1wYWlnbkRhaWx5TGltaXQgPiAwICYmIGNhbXBhaWduRGFpbHlDb3VudCA+PSBjYW1wYWlnbkRhaWx5TGltaXQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGFpbHlPYmogPSB7fTtcbiAgICAgICAgICBjYW1wVHlwZU9ialt0b2RheV0gPSBkYWlseU9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBnbG9iYWxPYmogPSBjYW1wVHlwZU9ialtHTE9CQUxdO1xuXG4gICAgICAgIGlmIChnbG9iYWxPYmogIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnN0IGNhbXBhaWduVG90YWxDb3VudCA9IGdsb2JhbE9ialtjYW1wYWlnbklkXTsgLy8gY2FtcGFpZ24gdG90YWxcblxuICAgICAgICAgIGlmIChjYW1wYWlnblRvdGFsTGltaXQgPiAwICYmIGNhbXBhaWduVG90YWxDb3VudCA+PSBjYW1wYWlnblRvdGFsTGltaXQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ2xvYmFsT2JqID0ge307XG4gICAgICAgICAgY2FtcFR5cGVPYmpbR0xPQkFMXSA9IGdsb2JhbE9iajtcbiAgICAgICAgfVxuICAgICAgfSAvLyBkZWxheVxuXG5cbiAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLmRlbGF5ICE9IG51bGwgJiYgdGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS5kZWxheSA+IDApIHtcbiAgICAgICAgY29uc3QgZGVsYXkgPSB0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLmRlbGF5O1xuICAgICAgICB0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLmRlbGF5ID0gMDtcbiAgICAgICAgc2V0VGltZW91dChfdHIsIGRlbGF5ICogMTAwMCwgbXNnLCB7XG4gICAgICAgICAgZGV2aWNlOiBfZGV2aWNlLFxuICAgICAgICAgIHNlc3Npb246IF9zZXNzaW9uLFxuICAgICAgICAgIHJlcXVlc3Q6IF9yZXF1ZXN0LFxuICAgICAgICAgIGxvZ2dlcjogX2xvZ2dlclxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpbmNyQ291bnQoc2Vzc2lvbk9iaiwgY2FtcGFpZ25JZCwgZXhjbHVkZUZyb21GcmVxQ2Fwcyk7XG4gICAgICBpbmNyQ291bnQoZGFpbHlPYmosIGNhbXBhaWduSWQsIGV4Y2x1ZGVGcm9tRnJlcUNhcHMpO1xuICAgICAgaW5jckNvdW50KGdsb2JhbE9iaiwgY2FtcGFpZ25JZCwgZXhjbHVkZUZyb21GcmVxQ2Fwcyk7XG4gICAgICBsZXQgY2FtcEtleSA9ICd3cCc7XG5cbiAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLnd0YXJnZXRfdHlwZSA9PT0gMykge1xuICAgICAgICBjYW1wS2V5ID0gJ3dpJztcbiAgICAgIH0gLy8gZ2V0IHJpZGUgb2Ygc3RhbGUgc2Vzc2lvbnMgYW5kIGRheSBlbnRyaWVzXG5cblxuICAgICAgY29uc3QgbmV3Q2FtcE9iaiA9IHt9O1xuICAgICAgbmV3Q2FtcE9ialtfc2Vzc2lvbi5zZXNzaW9uSWRdID0gc2Vzc2lvbk9iajtcbiAgICAgIG5ld0NhbXBPYmpbdG9kYXldID0gZGFpbHlPYmo7XG4gICAgICBuZXdDYW1wT2JqW0dMT0JBTF0gPSBnbG9iYWxPYmo7XG4gICAgICBzYXZlQ2FtcGFpZ25PYmplY3Qoe1xuICAgICAgICBbY2FtcEtleV06IG5ld0NhbXBPYmpcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXRDb29raWVQYXJhbXMgPSAoKSA9PiB7XG4gICAgICBjb25zdCBnY29va2llID0gX2RldmljZS5nZXRHdWlkKCk7XG5cbiAgICAgIGNvbnN0IHNjb29raWVPYmogPSBfc2Vzc2lvbi5nZXRTZXNzaW9uQ29va2llT2JqZWN0KCk7XG5cbiAgICAgIHJldHVybiAnJnQ9d2MmZD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGNvbXByZXNzVG9CYXNlNjQoZ2Nvb2tpZSArICd8JyArIHNjb29raWVPYmoucCArICd8JyArIHNjb29raWVPYmoucykpO1xuICAgIH07XG5cbiAgICBjb25zdCBzZXR1cENsaWNrRXZlbnQgPSAob25DbGljaywgdGFyZ2V0aW5nTXNnSnNvbiwgY29udGVudERpdiwgZGl2SWQsIGlzTGVnYWN5KSA9PiB7XG4gICAgICBpZiAob25DbGljayAhPT0gJycgJiYgb25DbGljayAhPSBudWxsKSB7XG4gICAgICAgIGxldCBjdGFFbGVtZW50O1xuICAgICAgICBsZXQganNDVEFFbGVtZW50cztcblxuICAgICAgICBpZiAoaXNMZWdhY3kpIHtcbiAgICAgICAgICBjdGFFbGVtZW50ID0gY29udGVudERpdjtcbiAgICAgICAgfSBlbHNlIGlmIChjb250ZW50RGl2ICE9PSBudWxsKSB7XG4gICAgICAgICAganNDVEFFbGVtZW50cyA9IGNvbnRlbnREaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnanNDVF9DVEEnKTtcblxuICAgICAgICAgIGlmIChqc0NUQUVsZW1lbnRzICE9IG51bGwgJiYganNDVEFFbGVtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGN0YUVsZW1lbnQgPSBqc0NUQUVsZW1lbnRzWzBdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGpzRnVuYyA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5qc0Z1bmM7XG4gICAgICAgIGNvbnN0IGlzUHJldmlldyA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5wcmV2aWV3O1xuXG4gICAgICAgIGlmIChpc1ByZXZpZXcgPT0gbnVsbCkge1xuICAgICAgICAgIG9uQ2xpY2sgKz0gZ2V0Q29va2llUGFyYW1zKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3RhRWxlbWVudCAhPSBudWxsKSB7XG4gICAgICAgICAgY3RhRWxlbWVudC5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gaW52b2tlIGpzIGZ1bmN0aW9uIGNhbGxcbiAgICAgICAgICAgIGlmIChqc0Z1bmMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyB0cmFjayBub3RpZmljYXRpb24gY2xpY2tlZCBldmVudFxuICAgICAgICAgICAgICBpZiAoaXNQcmV2aWV3ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBSZXF1ZXN0RGlzcGF0Y2hlci5maXJlUmVxdWVzdChvbkNsaWNrKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGludm9rZUV4dGVybmFsSnMoanNGdW5jLCB0YXJnZXRpbmdNc2dKc29uKTsgLy8gY2xvc2UgaWZyYW1lLiB1c2luZyAtMSBmb3Igbm8gY2FtcGFpZ25JZFxuXG4gICAgICAgICAgICAgIGNsb3NlSWZyYW1lKCctMScsIGRpdklkLCBfc2Vzc2lvbi5zZXNzaW9uSWQpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IC8vIHBhc3Mgb24gdGhlIGdjb29raWV8cGFnZXxzY29va2llSWQgZm9yIGNhcHR1cmluZyB0aGUgY2xpY2sgZXZlbnRcblxuXG4gICAgICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LndpbmRvdyA9PT0gMSkge1xuICAgICAgICAgICAgICB3aW5kb3cub3BlbihvbkNsaWNrLCAnX2JsYW5rJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBvbkNsaWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaW52b2tlRXh0ZXJuYWxKcyA9IChqc0Z1bmMsIHRhcmdldGluZ01zZ0pzb24pID0+IHtcbiAgICAgIGNvbnN0IGZ1bmMgPSB3aW5kb3cucGFyZW50W2pzRnVuY107XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5Lmt2ICE9IG51bGwpIHtcbiAgICAgICAgICBmdW5jKHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5rdik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZnVuYygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHNldHVwQ2xpY2tVcmwgPSAob25DbGljaywgdGFyZ2V0aW5nTXNnSnNvbiwgY29udGVudERpdiwgZGl2SWQsIGlzTGVnYWN5KSA9PiB7XG4gICAgICBpbmNyZW1lbnRJbXByZXNzaW9uKHRhcmdldGluZ01zZ0pzb24pO1xuICAgICAgc2V0dXBDbGlja0V2ZW50KG9uQ2xpY2ssIHRhcmdldGluZ01zZ0pzb24sIGNvbnRlbnREaXYsIGRpdklkLCBpc0xlZ2FjeSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGluY3JlbWVudEltcHJlc3Npb24gPSB0YXJnZXRpbmdNc2dKc29uID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSB7fTtcbiAgICAgIGRhdGEudHlwZSA9ICdldmVudCc7XG4gICAgICBkYXRhLmV2dE5hbWUgPSBOT1RJRklDQVRJT05fVklFV0VEO1xuICAgICAgZGF0YS5ldnREYXRhID0ge1xuICAgICAgICBbV1pSS19JRF06IHRhcmdldGluZ01zZ0pzb24ud3pya19pZFxuICAgICAgfTtcblxuICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ud3pya19waXZvdCkge1xuICAgICAgICBkYXRhLmV2dERhdGEgPSB7IC4uLmRhdGEuZXZ0RGF0YSxcbiAgICAgICAgICB3enJrX3Bpdm90OiB0YXJnZXRpbmdNc2dKc29uLnd6cmtfcGl2b3RcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgX3JlcXVlc3QucHJvY2Vzc0V2ZW50KGRhdGEpO1xuICAgIH07XG5cbiAgICBjb25zdCByZW5kZXJQZXJzb25hbGlzYXRpb25CYW5uZXIgPSB0YXJnZXRpbmdNc2dKc29uID0+IHtcbiAgICAgIHZhciBfdGFyZ2V0aW5nTXNnSnNvbiRkaXM7XG5cbiAgICAgIGlmIChjdXN0b21FbGVtZW50cy5nZXQoJ2N0LXdlYi1wZXJzb25hbGlzYXRpb24tYmFubmVyJykgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ2N0LXdlYi1wZXJzb25hbGlzYXRpb24tYmFubmVyJywgQ1RXZWJQZXJzb25hbGlzYXRpb25CYW5uZXIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkaXZJZCA9IChfdGFyZ2V0aW5nTXNnSnNvbiRkaXMgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkuZGl2SWQpICE9PSBudWxsICYmIF90YXJnZXRpbmdNc2dKc29uJGRpcyAhPT0gdm9pZCAwID8gX3RhcmdldGluZ01zZ0pzb24kZGlzIDogdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LmRpdlNlbGVjdG9yO1xuICAgICAgY29uc3QgYmFubmVyRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjdC13ZWItcGVyc29uYWxpc2F0aW9uLWJhbm5lcicpO1xuICAgICAgYmFubmVyRWwubXNnSWQgPSB0YXJnZXRpbmdNc2dKc29uLnd6cmtfaWQ7XG4gICAgICBiYW5uZXJFbC5waXZvdElkID0gdGFyZ2V0aW5nTXNnSnNvbi53enJrX3Bpdm90O1xuICAgICAgYmFubmVyRWwuZGl2SGVpZ2h0ID0gdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LmRpdkhlaWdodDtcbiAgICAgIGJhbm5lckVsLmRldGFpbHMgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkuZGV0YWlsc1swXTtcbiAgICAgIGNvbnN0IGNvbnRhaW5lckVsID0gdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LmRpdklkID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2SWQpIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkaXZJZCk7XG4gICAgICBjb250YWluZXJFbC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnRhaW5lckVsLmFwcGVuZENoaWxkKGJhbm5lckVsKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyUGVyc29uYWxpc2F0aW9uQ2Fyb3VzZWwgPSB0YXJnZXRpbmdNc2dKc29uID0+IHtcbiAgICAgIHZhciBfdGFyZ2V0aW5nTXNnSnNvbiRkaXMyO1xuXG4gICAgICBpZiAoY3VzdG9tRWxlbWVudHMuZ2V0KCdjdC13ZWItcGVyc29uYWxpc2F0aW9uLWNhcm91c2VsJykgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ2N0LXdlYi1wZXJzb25hbGlzYXRpb24tY2Fyb3VzZWwnLCBDVFdlYlBlcnNvbmFsaXNhdGlvbkNhcm91c2VsKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGl2SWQgPSAoX3RhcmdldGluZ01zZ0pzb24kZGlzMiA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5kaXZJZCkgIT09IG51bGwgJiYgX3RhcmdldGluZ01zZ0pzb24kZGlzMiAhPT0gdm9pZCAwID8gX3RhcmdldGluZ01zZ0pzb24kZGlzMiA6IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5kaXZTZWxlY3RvcjtcbiAgICAgIGNvbnN0IGNhcm91c2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY3Qtd2ViLXBlcnNvbmFsaXNhdGlvbi1jYXJvdXNlbCcpO1xuICAgICAgY2Fyb3VzZWwudGFyZ2V0ID0gdGFyZ2V0aW5nTXNnSnNvbjtcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5kaXZJZCA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGl2SWQpO1xuICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNhcm91c2VsKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyUG9wVXBJbWFnZU9ubHkgPSB0YXJnZXRpbmdNc2dKc29uID0+IHtcbiAgICAgIGNvbnN0IGRpdklkID0gJ3d6cmtJbWFnZU9ubHlEaXYnO1xuICAgICAgY29uc3QgcG9wdXBJbWFnZU9ubHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjdC13ZWItcG9wdXAtaW1hZ2Vvbmx5Jyk7XG4gICAgICBwb3B1cEltYWdlT25seS5zZXNzaW9uID0gX3Nlc3Npb247XG4gICAgICBwb3B1cEltYWdlT25seS50YXJnZXQgPSB0YXJnZXRpbmdNc2dKc29uO1xuICAgICAgY29uc3QgY29udGFpbmVyRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaXZJZCk7XG4gICAgICBjb250YWluZXJFbC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnRhaW5lckVsLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgIGNvbnRhaW5lckVsLmFwcGVuZENoaWxkKHBvcHVwSW1hZ2VPbmx5KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyRm9vdGVyTm90aWZpY2F0aW9uID0gdGFyZ2V0aW5nTXNnSnNvbiA9PiB7XG4gICAgICBjb25zdCBjYW1wYWlnbklkID0gdGFyZ2V0aW5nTXNnSnNvbi53enJrX2lkLnNwbGl0KCdfJylbMF07XG4gICAgICBjb25zdCBkaXNwbGF5T2JqID0gdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5O1xuXG4gICAgICBpZiAoZGlzcGxheU9iai53dGFyZ2V0X3R5cGUgPT09IDIpIHtcbiAgICAgICAgLy8gSGFuZGxpbmcgV2ViIE5hdGl2ZSBkaXNwbGF5XG4gICAgICAgIC8vIExvZ2ljIGZvciBrdiBwYWlyIGRhdGFcbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC50eXBlID09PSAxKSB7XG4gICAgICAgICAgY29uc3QgaW5hT2JqID0ge307XG4gICAgICAgICAgaW5hT2JqLm1zZ0lkID0gdGFyZ2V0aW5nTXNnSnNvbi53enJrX2lkO1xuXG4gICAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ud3pya19waXZvdCkge1xuICAgICAgICAgICAgaW5hT2JqLnBpdm90SWQgPSB0YXJnZXRpbmdNc2dKc29uLnd6cmtfcGl2b3Q7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5rdiAhPSBudWxsKSB7XG4gICAgICAgICAgICBpbmFPYmoua3YgPSB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQua3Y7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3Qga3ZQYWlyc0V2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdDVF93ZWJfbmF0aXZlX2Rpc3BsYXknLCB7XG4gICAgICAgICAgICBkZXRhaWw6IGluYU9ialxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoa3ZQYWlyc0V2ZW50KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGRpc3BsYXlPYmoubGF5b3V0ID09PSAxKSB7XG4gICAgICAgIC8vIEhhbmRsaW5nIFdlYiBFeGl0IEludGVudFxuICAgICAgICByZXR1cm4gc2hvd0V4aXRJbnRlbnQodW5kZWZpbmVkLCB0YXJnZXRpbmdNc2dKc29uKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRpc3BsYXlPYmoubGF5b3V0ID09PSAzKSB7XG4gICAgICAgIC8vIEhhbmRsaW5nIFdlYiBQb3B1cCBJbWFnZSBPbmx5XG4gICAgICAgIGNvbnN0IGRpdklkID0gJ3d6cmtJbWFnZU9ubHlEaXYnO1xuXG4gICAgICAgIGlmIChkb0NhbXBIb3VzZUtlZXBpbmcodGFyZ2V0aW5nTXNnSnNvbikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCRjdC5kaXNtaXNzU3BhbUNvbnRyb2wgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2SWQpICE9IG51bGwpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2SWQpO1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIH0gLy8gSW1hZ2VPbmx5IGNhbXBhaWduIGFuZCBJbnRlcnN0aXRpYWwvRXhpdCBJbnRlbnQgc2hvdWxkbid0IGNvZXhpc3RcblxuXG4gICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaXZJZCkgIT0gbnVsbCB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW50ZW50UHJldmlldycpICE9IG51bGwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtc2dEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbXNnRGl2LmlkID0gZGl2SWQ7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobXNnRGl2KTtcblxuICAgICAgICBpZiAoY3VzdG9tRWxlbWVudHMuZ2V0KCdjdC13ZWItcG9wdXAtaW1hZ2Vvbmx5JykgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnY3Qtd2ViLXBvcHVwLWltYWdlb25seScsIENUV2ViUG9wdXBJbWFnZU9ubHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlclBvcFVwSW1hZ2VPbmx5KHRhcmdldGluZ01zZ0pzb24pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZG9DYW1wSG91c2VLZWVwaW5nKHRhcmdldGluZ01zZ0pzb24pID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRpdklkID0gJ3dpelBhckRpdicgKyBkaXNwbGF5T2JqLmxheW91dDtcblxuICAgICAgaWYgKCRjdC5kaXNtaXNzU3BhbUNvbnRyb2wgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2SWQpICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgJGN0LmNhbXBhaWduRGl2TWFwW2NhbXBhaWduSWRdID0gZGl2SWQ7XG4gICAgICBjb25zdCBpc0Jhbm5lciA9IGRpc3BsYXlPYmoubGF5b3V0ID09PSAyO1xuICAgICAgY29uc3QgbXNnRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBtc2dEaXYuaWQgPSBkaXZJZDtcbiAgICAgIGNvbnN0IHZpZXdIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICBjb25zdCB2aWV3V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIGxldCBsZWdhY3kgPSBmYWxzZTtcblxuICAgICAgaWYgKCFpc0Jhbm5lcikge1xuICAgICAgICBjb25zdCBtYXJnaW5Cb3R0b20gPSB2aWV3SGVpZ2h0ICogNSAvIDEwMDtcbiAgICAgICAgdmFyIGNvbnRlbnRIZWlnaHQgPSAxMDtcbiAgICAgICAgbGV0IHJpZ2h0ID0gdmlld1dpZHRoICogNSAvIDEwMDtcbiAgICAgICAgbGV0IGJvdHRvbVBvc2l0aW9uID0gY29udGVudEhlaWdodCArIG1hcmdpbkJvdHRvbTtcbiAgICAgICAgbGV0IHdpZHRoID0gdmlld1dpZHRoICogMzAgLyAxMDAgKyAyMDtcbiAgICAgICAgbGV0IHdpZHRoUGVyY3QgPSAnd2lkdGg6MzAlOyc7IC8vIGZvciBzbWFsbCBkZXZpY2VzICAtIG1vYmlsZSBwaG9uZXNcblxuICAgICAgICBpZiAoKC9tb2JpbGUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpIHx8IC9taW5pL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkgJiYgL2lQYWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpID09PSBmYWxzZSkge1xuICAgICAgICAgIHdpZHRoID0gdmlld1dpZHRoICogODUgLyAxMDAgKyAyMDtcbiAgICAgICAgICByaWdodCA9IHZpZXdXaWR0aCAqIDUgLyAxMDA7XG4gICAgICAgICAgYm90dG9tUG9zaXRpb24gPSB2aWV3SGVpZ2h0ICogNSAvIDEwMDtcbiAgICAgICAgICB3aWR0aFBlcmN0ID0gJ3dpZHRoOjgwJTsnOyAvLyBtZWRpdW0gZGV2aWNlcyAtIHRhYmxldHNcbiAgICAgICAgfSBlbHNlIGlmICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgfHwgL3RhYmxldC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcbiAgICAgICAgICB3aWR0aCA9IHZpZXdXaWR0aCAqIDUwIC8gMTAwICsgMjA7XG4gICAgICAgICAgcmlnaHQgPSB2aWV3V2lkdGggKiA1IC8gMTAwO1xuICAgICAgICAgIGJvdHRvbVBvc2l0aW9uID0gdmlld0hlaWdodCAqIDUgLyAxMDA7XG4gICAgICAgICAgd2lkdGhQZXJjdCA9ICd3aWR0aDo1MCU7JztcbiAgICAgICAgfSAvLyBsZWdhY3kgZm9vdGVyIG5vdGlmXG5cblxuICAgICAgICBpZiAoZGlzcGxheU9iai5wcm90byA9PSBudWxsKSB7XG4gICAgICAgICAgbGVnYWN5ID0gdHJ1ZTtcbiAgICAgICAgICBtc2dEaXYuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5OmJsb2NrO292ZXJmbG93OmhpZGRlbjsgYm90dG9tOicgKyBib3R0b21Qb3NpdGlvbiArICdweCAhaW1wb3J0YW50O3dpZHRoOicgKyB3aWR0aCArICdweCAhaW1wb3J0YW50O3JpZ2h0OicgKyByaWdodCArICdweCAhaW1wb3J0YW50O3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6MjE0NzQ4MzY0NzsnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtc2dEaXYuc2V0QXR0cmlidXRlKCdzdHlsZScsIHdpZHRoUGVyY3QgKyBkaXNwbGF5T2JqLmlGcmFtZVN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbXNnRGl2LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBkaXNwbGF5T2JqLmlGcmFtZVN0eWxlKTtcbiAgICAgIH1cblxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtc2dEaXYpO1xuICAgICAgY29uc3QgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgICBjb25zdCBib3JkZXJSYWRpdXMgPSBkaXNwbGF5T2JqLmJyID09PSBmYWxzZSA/ICcwJyA6ICc4JztcbiAgICAgIGlmcmFtZS5mcmFtZWJvcmRlciA9ICcwcHgnO1xuICAgICAgaWZyYW1lLm1hcmdpbmhlaWdodCA9ICcwcHgnO1xuICAgICAgaWZyYW1lLm1hcmdpbndpZHRoID0gJzBweCc7XG4gICAgICBpZnJhbWUuc2Nyb2xsaW5nID0gJ25vJztcbiAgICAgIGlmcmFtZS5pZCA9ICd3aXotaWZyYW1lJztcbiAgICAgIGNvbnN0IG9uQ2xpY2sgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkub25DbGljaztcbiAgICAgIGxldCBwb2ludGVyQ3NzID0gJyc7XG5cbiAgICAgIGlmIChvbkNsaWNrICE9PSAnJyAmJiBvbkNsaWNrICE9IG51bGwpIHtcbiAgICAgICAgcG9pbnRlckNzcyA9ICdjdXJzb3I6cG9pbnRlcjsnO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGlzcGxheU9iai5wcmV2aWV3ICYmIGRpc3BsYXlPYmpbJ2N1c3RvbS1lZGl0b3InXSkge1xuICAgICAgICBpZnJhbWUuc2FuZGJveCA9ICdhbGxvdy1zY3JpcHRzIGFsbG93LXBvcHVwcyBhbGxvdy1wb3B1cHMtdG8tZXNjYXBlLXNhbmRib3gnO1xuICAgICAgfVxuXG4gICAgICBsZXQgaHRtbDsgLy8gZGlyZWN0IGh0bWxcblxuICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC50eXBlID09PSAxKSB7XG4gICAgICAgIGh0bWwgPSB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQuaHRtbDtcbiAgICAgICAgaHRtbCA9IGh0bWwucmVwbGFjZSgvIyNjYW1wYWlnbklkIyMvZywgY2FtcGFpZ25JZCk7XG4gICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoLyMjY2FtcGFpZ25JZF9iYXRjaElkIyMvZywgdGFyZ2V0aW5nTXNnSnNvbi53enJrX2lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGNzcyA9ICcnICsgJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj4nICsgJ2JvZHl7bWFyZ2luOjA7cGFkZGluZzowO30nICsgJyNjb250ZW50RGl2Lnd6cmt7b3ZlcmZsb3c6aGlkZGVuO3BhZGRpbmc6MDt0ZXh0LWFsaWduOmNlbnRlcjsnICsgcG9pbnRlckNzcyArICd9JyArICcjY29udGVudERpdi53enJrIHRke3BhZGRpbmc6MTVweCAxMHB4O30nICsgJy53enJrUFB0aXRsZXtmb250LXdlaWdodDogYm9sZDtmb250LXNpemU6IDE2cHg7Zm9udC1mYW1pbHk6YXJpYWw7cGFkZGluZy1ib3R0b206MTBweDt3b3JkLWJyZWFrOiBicmVhay13b3JkO30nICsgJy53enJrUFBkc2Nye2ZvbnQtc2l6ZTogMTRweDtmb250LWZhbWlseTphcmlhbDtsaW5lLWhlaWdodDoxNnB4O3dvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7ZGlzcGxheTppbmxpbmUtYmxvY2s7fScgKyAnLlBMMTV7cGFkZGluZy1sZWZ0OjE1cHg7fScgKyAnLnd6cmtQUHdhcnB7bWFyZ2luOjIwcHggMjBweCAwIDVweDtwYWRkaW5nOjBweDtib3JkZXItcmFkaXVzOiAnICsgYm9yZGVyUmFkaXVzICsgJ3B4O2JveC1zaGFkb3c6IDFweCAxcHggNXB4ICM4ODg4ODg7fScgKyAnYS53enJrQ2xvc2V7Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246IGFic29sdXRlO3RvcDogMTFweDtyaWdodDogMTFweDt6LWluZGV4OiAyMTQ3NDgzNjQ3O2ZvbnQtc2l6ZToxOXB4O2ZvbnQtZmFtaWx5OmFyaWFsO2ZvbnQtd2VpZ2h0OmJvbGQ7dGV4dC1kZWNvcmF0aW9uOiBub25lO3dpZHRoOiAyNXB4Oy8qaGVpZ2h0OiAyNXB4OyovdGV4dC1hbGlnbjogY2VudGVyOyAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7IGxpbmUtaGVpZ2h0OiAyNXB4OycgKyAnYmFja2dyb3VuZDogIzM1MzUzNTtib3JkZXI6ICNmZmYgMnB4IHNvbGlkO2JvcmRlci1yYWRpdXM6IDEwMCU7Ym94LXNoYWRvdzogIzc3NyAycHggMnB4IDJweDtjb2xvcjojZmZmO30nICsgJ2E6aG92ZXIud3pya0Nsb3Nle2JhY2tncm91bmQtY29sb3I6I2QxOTE0YSAhaW1wb3J0YW50O2NvbG9yOiNmZmYgIWltcG9ydGFudDsgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO30nICsgJ3Rke3ZlcnRpY2FsLWFsaWduOnRvcDt9JyArICd0ZC5pbWdUZHtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjhweDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjhweDt9JyArICc8L3N0eWxlPic7XG4gICAgICAgIGxldCBiZ0NvbG9yLCB0ZXh0Q29sb3IsIGJ0bkJnLCBsZWZ0VGQsIGJ0Q29sb3I7XG5cbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS50aGVtZSA9PT0gJ2RhcmsnKSB7XG4gICAgICAgICAgYmdDb2xvciA9ICcjMmQyZDJlJztcbiAgICAgICAgICB0ZXh0Q29sb3IgPSAnI2VhZWFlYSc7XG4gICAgICAgICAgYnRuQmcgPSAnIzM1MzUzNSc7XG4gICAgICAgICAgbGVmdFRkID0gJyMzNTM1MzUnO1xuICAgICAgICAgIGJ0Q29sb3IgPSAnI2ZmZmZmZic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmdDb2xvciA9ICcjZmZmZmZmJztcbiAgICAgICAgICB0ZXh0Q29sb3IgPSAnIzAwMDAwMCc7XG4gICAgICAgICAgbGVmdFRkID0gJyNmNGY0ZjQnO1xuICAgICAgICAgIGJ0bkJnID0gJyNhNWE2YTYnO1xuICAgICAgICAgIGJ0Q29sb3IgPSAnI2ZmZmZmZic7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0aXRsZVRleHQgPSB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQudGl0bGU7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uVGV4dCA9IHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5kZXNjcmlwdGlvbjtcbiAgICAgICAgbGV0IGltYWdlVGQgPSAnJztcblxuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50LmltYWdlVXJsICE9IG51bGwgJiYgdGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50LmltYWdlVXJsICE9PSAnJykge1xuICAgICAgICAgIGltYWdlVGQgPSBcIjx0ZCBjbGFzcz0naW1nVGQnIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOlwiICsgbGVmdFRkICsgXCInPjxpbWcgc3JjPSdcIiArIHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5pbWFnZVVybCArIFwiJyBoZWlnaHQ9JzYwJyB3aWR0aD0nNjAnPjwvdGQ+XCI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvbkNsaWNrU3RyID0gJ3BhcmVudC4kV1pSS19XUi5jbG9zZUlmcmFtZSgnICsgY2FtcGFpZ25JZCArIFwiLCdcIiArIGRpdklkICsgXCInKTtcIjtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBcIjxkaXYgY2xhc3M9J3d6cmtQUHdhcnAnIHN0eWxlPSdjb2xvcjpcIiArIHRleHRDb2xvciArICc7YmFja2dyb3VuZC1jb2xvcjonICsgYmdDb2xvciArIFwiOyc+XCIgKyBcIjxhIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKTsnIG9uY2xpY2s9XCIgKyBvbkNsaWNrU3RyICsgXCIgY2xhc3M9J3d6cmtDbG9zZScgc3R5bGU9J2JhY2tncm91bmQtY29sb3I6XCIgKyBidG5CZyArICc7Y29sb3I6JyArIGJ0Q29sb3IgKyBcIic+JnRpbWVzOzwvYT5cIiArIFwiPGRpdiBpZD0nY29udGVudERpdicgY2xhc3M9J3d6cmsnPlwiICsgXCI8dGFibGUgY2VsbHBhZGRpbmc9JzAnIGNlbGxzcGFjaW5nPScwJyBib3JkZXI9JzAnPlwiICsgLy8gXCI8dHI+PHRkIGNvbHNwYW49JzInPjwvdGQ+PC90cj5cIitcbiAgICAgICAgJzx0cj4nICsgaW1hZ2VUZCArIFwiPHRkIHN0eWxlPSd2ZXJ0aWNhbC1hbGlnbjp0b3A7Jz5cIiArIFwiPGRpdiBjbGFzcz0nd3pya1BQdGl0bGUnIHN0eWxlPSdjb2xvcjpcIiArIHRleHRDb2xvciArIFwiJz5cIiArIHRpdGxlVGV4dCArICc8L2Rpdj4nO1xuICAgICAgICBjb25zdCBib2R5ID0gXCI8ZGl2IGNsYXNzPSd3enJrUFBkc2NyJyBzdHlsZT0nY29sb3I6XCIgKyB0ZXh0Q29sb3IgKyBcIic+XCIgKyBkZXNjcmlwdGlvblRleHQgKyAnPGRpdj48L3RkPjwvdHI+PC90YWJsZT48L2Rpdj4nO1xuICAgICAgICBodG1sID0gY3NzICsgdGl0bGUgKyBib2R5O1xuICAgICAgfVxuXG4gICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdzdHlsZScsICd6LWluZGV4OiAyMTQ3NDgzNjQ3OyBkaXNwbGF5OmJsb2NrOyB3aWR0aDogMTAwJSAhaW1wb3J0YW50OyBib3JkZXI6MHB4ICFpbXBvcnRhbnQ7IGJvcmRlci1jb2xvcjpub25lICFpbXBvcnRhbnQ7Jyk7XG4gICAgICBtc2dEaXYuYXBwZW5kQ2hpbGQoaWZyYW1lKTsgLy8gRGlzcGF0Y2ggZXZlbnQgZm9yIHBvcHVwIGJveC9iYW5uZXIgY2xvc2VcblxuICAgICAgY29uc3QgY2xvc2VDYW1wYWlnbiA9IG5ldyBFdmVudCgnQ1RfY2FtcGFpZ25fcmVuZGVyZWQnKTtcbiAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY2xvc2VDYW1wYWlnbik7XG5cbiAgICAgIGlmIChkaXNwbGF5T2JqWydjdXN0b20tZWRpdG9yJ10pIHtcbiAgICAgICAgaHRtbCA9IGFwcGVuZFNjcmlwdEZvckN1c3RvbUV2ZW50KHRhcmdldGluZ01zZ0pzb24sIGh0bWwpO1xuICAgICAgfVxuXG4gICAgICBpZnJhbWUuc3JjZG9jID0gaHRtbDtcblxuICAgICAgY29uc3QgYWRqdXN0SUZyYW1lSGVpZ2h0ID0gKCkgPT4ge1xuICAgICAgICAvLyBhZGp1c3QgaWZyYW1lIGFuZCBib2R5IGhlaWdodCBvZiBodG1sIGluc2lkZSBjb3JyZWN0bHlcbiAgICAgICAgY29udGVudEhlaWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aXotaWZyYW1lJykuY29udGVudERvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50RGl2Jykuc2Nyb2xsSGVpZ2h0O1xuXG4gICAgICAgIGlmIChkaXNwbGF5T2JqWydjdXN0b20tZWRpdG9yJ10gIT09IHRydWUgJiYgIWlzQmFubmVyKSB7XG4gICAgICAgICAgY29udGVudEhlaWdodCArPSAyNTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aXotaWZyYW1lJykuY29udGVudERvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luID0gJzBweCc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aXotaWZyYW1lJykuc3R5bGUuaGVpZ2h0ID0gY29udGVudEhlaWdodCArICdweCc7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcblxuICAgICAgaWYgKHVhLmluZGV4T2YoJ3NhZmFyaScpICE9PSAtMSkge1xuICAgICAgICBpZiAodWEuaW5kZXhPZignY2hyb21lJykgPiAtMSkge1xuICAgICAgICAgIGlmcmFtZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBhZGp1c3RJRnJhbWVIZWlnaHQoKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6LWlmcmFtZScpLmNvbnRlbnREb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudERpdicpO1xuICAgICAgICAgICAgc2V0dXBDbGlja1VybChvbkNsaWNrLCB0YXJnZXRpbmdNc2dKc29uLCBjb250ZW50RGl2LCBkaXZJZCwgbGVnYWN5KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCBpbkRvYyA9IGlmcmFtZS5jb250ZW50RG9jdW1lbnQgfHwgaWZyYW1lLmNvbnRlbnRXaW5kb3c7XG4gICAgICAgICAgaWYgKGluRG9jLmRvY3VtZW50KSBpbkRvYyA9IGluRG9jLmRvY3VtZW50OyAvLyBzYWZhcmkgaXBob25lIDcrIG5lZWRzIHRoaXMuXG5cbiAgICAgICAgICBhZGp1c3RJRnJhbWVIZWlnaHQoKTtcblxuICAgICAgICAgIGNvbnN0IF90aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChpbkRvYy5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX3RpbWVyKTsgLy8gYWRqdXN0IGlmcmFtZSBhbmQgYm9keSBoZWlnaHQgb2YgaHRtbCBpbnNpZGUgY29ycmVjdGx5XG5cbiAgICAgICAgICAgICAgYWRqdXN0SUZyYW1lSGVpZ2h0KCk7XG4gICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6LWlmcmFtZScpLmNvbnRlbnREb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudERpdicpO1xuICAgICAgICAgICAgICBzZXR1cENsaWNrVXJsKG9uQ2xpY2ssIHRhcmdldGluZ01zZ0pzb24sIGNvbnRlbnREaXYsIGRpdklkLCBsZWdhY3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWZyYW1lLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAvLyBhZGp1c3QgaWZyYW1lIGFuZCBib2R5IGhlaWdodCBvZiBodG1sIGluc2lkZSBjb3JyZWN0bHlcbiAgICAgICAgICBhZGp1c3RJRnJhbWVIZWlnaHQoKTtcbiAgICAgICAgICBjb25zdCBjb250ZW50RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpei1pZnJhbWUnKS5jb250ZW50RG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnREaXYnKTtcbiAgICAgICAgICBzZXR1cENsaWNrVXJsKG9uQ2xpY2ssIHRhcmdldGluZ01zZ0pzb24sIGNvbnRlbnREaXYsIGRpdklkLCBsZWdhY3kpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBhcHBlbmRTY3JpcHRGb3JDdXN0b21FdmVudCA9ICh0YXJnZXRpbmdNc2dKc29uLCBodG1sKSA9PiB7XG4gICAgICBjb25zdCBzY3JpcHQgPSBcIjxzY3JpcHQ+XFxuICAgICAgY29uc3QgY3RfX2NhbWFwaWduSWQgPSAnXCIuY29uY2F0KHRhcmdldGluZ01zZ0pzb24ud3pya19pZCwgXCInO1xcbiAgICAgIGNvbnN0IGN0X19mb3JtYXRWYWwgPSAodikgPT4ge1xcbiAgICAgICAgICByZXR1cm4gdiAmJiB2LnRyaW0oKS5zdWJzdHJpbmcoMCwgMjApO1xcbiAgICAgIH1cXG4gICAgICBjb25zdCBjdF9fcGFyZW50T3JpZ2luID0gIHdpbmRvdy5wYXJlbnQub3JpZ2luO1xcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcXG4gICAgICAgIGNvbnN0IGVsZW0gPSBldmVudC50YXJnZXQuY2xvc2VzdD8uKCdhW3d6cmtfYzJhXSwgYnV0dG9uW3d6cmtfYzJhXScpO1xcbiAgICAgICAgaWYgKGVsZW0pIHtcXG4gICAgICAgICAgICBjb25zdCB7aW5uZXJUZXh0LCBpZCwgbmFtZSwgdmFsdWUsIGhyZWZ9ID0gZWxlbTtcXG4gICAgICAgICAgICBjb25zdCBjbGlja0F0dHIgPSBlbGVtLmdldEF0dHJpYnV0ZSgnb25jbGljaycpIHx8IGVsZW0uZ2V0QXR0cmlidXRlKCdjbGljaycpO1xcbiAgICAgICAgICAgIGNvbnN0IG9uY2xpY2tVUkwgPSBjbGlja0F0dHI/Lm1hdGNoKC8od2luZG93Lm9wZW4pWyhdKFxcXCJ8JykoLiopKFxcXCJ8JywpLyk/LlszXSB8fCBjbGlja0F0dHI/Lm1hdGNoKC8obG9jYXRpb24uaHJlZiAqPSAqKShcXFwifCcpKC4qKShcXFwifCcpLyk/LlszXTtcXG4gICAgICAgICAgICBjb25zdCBwcm9wcyA9IHtpbm5lclRleHQsIGlkLCBuYW1lLCB2YWx1ZX07XFxuICAgICAgICAgICAgbGV0IG1zZ0NUa3YgPSBPYmplY3Qua2V5cyhwcm9wcykucmVkdWNlKChhY2MsIGMpID0+IHtcXG4gICAgICAgICAgICAgICAgY29uc3QgZm9ybWF0dGVkVmFsID0gY3RfX2Zvcm1hdFZhbChwcm9wc1tjXSk7XFxuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbCAmJiAoYWNjWyd3enJrX2NsaWNrXycgKyBjXSA9IGZvcm1hdHRlZFZhbCk7XFxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XFxuICAgICAgICAgICAgfSwge30pO1xcbiAgICAgICAgICAgIGlmKG9uY2xpY2tVUkwpIHsgbXNnQ1Rrdlsnd3pya19jbGlja18nICsgJ3VybCddID0gb25jbGlja1VSTDsgfVxcbiAgICAgICAgICAgIGlmKGhyZWYpIHsgbXNnQ1Rrdlsnd3pya19jbGlja18nICsgJ2MyYSddID0gaHJlZjsgfVxcbiAgICAgICAgICAgIGNvbnN0IG5vdGlmRGF0YSA9IHsgbXNnSWQ6IGN0X19jYW1hcGlnbklkLCBtc2dDVGt2LCBwaXZvdElkOiAnXCIpLmNvbmNhdCh0YXJnZXRpbmdNc2dKc29uLnd6cmtfcGl2b3QsIFwiJyB9O1xcbiAgICAgICAgICAgIHdpbmRvdy5wYXJlbnQuY2xldmVydGFwLnJlbmRlck5vdGlmaWNhdGlvbkNsaWNrZWQobm90aWZEYXRhKTtcXG4gICAgICAgIH1cXG4gICAgICB9KTtcXG4gICAgICA8L3NjcmlwdD5cXG4gICAgXCIpO1xuICAgICAgcmV0dXJuIGh0bWwucmVwbGFjZSgvKDxcXHMqXFwvXFxzKmJvZHkpLywgXCJcIi5jb25jYXQoc2NyaXB0LCBcIlxcbiQxXCIpKTtcbiAgICB9O1xuXG4gICAgbGV0IF9jYWxsQmFja0NhbGxlZCA9IGZhbHNlO1xuXG4gICAgY29uc3Qgc2hvd0Zvb3Rlck5vdGlmaWNhdGlvbiA9IHRhcmdldGluZ01zZ0pzb24gPT4ge1xuICAgICAgbGV0IG9uQ2xpY2sgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkub25DbGljazsgLy8gVE9ETzogTmVlZHMgd2l6cm9ja2V0IGFzIGEgZ2xvYmFsIHZhcmlhYmxlXG5cbiAgICAgIGlmICh3aW5kb3cuY2xldmVydGFwLmhhc093blByb3BlcnR5KCdub3RpZmljYXRpb25DYWxsYmFjaycpICYmIHR5cGVvZiB3aW5kb3cuY2xldmVydGFwLm5vdGlmaWNhdGlvbkNhbGxiYWNrICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmNsZXZlcnRhcC5ub3RpZmljYXRpb25DYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjb25zdCBub3RpZmljYXRpb25DYWxsYmFjayA9IHdpbmRvdy5jbGV2ZXJ0YXAubm90aWZpY2F0aW9uQ2FsbGJhY2s7XG5cbiAgICAgICAgaWYgKCFfY2FsbEJhY2tDYWxsZWQpIHtcbiAgICAgICAgICBjb25zdCBpbmFPYmogPSB7fTtcbiAgICAgICAgICBpbmFPYmoubXNnQ29udGVudCA9IHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudDtcbiAgICAgICAgICBpbmFPYmoubXNnSWQgPSB0YXJnZXRpbmdNc2dKc29uLnd6cmtfaWQ7XG5cbiAgICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi53enJrX3Bpdm90KSB7XG4gICAgICAgICAgICBpbmFPYmoucGl2b3RJZCA9IHRhcmdldGluZ01zZ0pzb24ud3pya19waXZvdDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5Lmt2ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGluYU9iai5rdiA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5rdjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB3aW5kb3cuY2xldmVydGFwLnJhaXNlTm90aWZpY2F0aW9uQ2xpY2tlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChvbkNsaWNrICE9PSAnJyAmJiBvbkNsaWNrICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgY29uc3QganNGdW5jID0gdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LmpzRnVuYztcbiAgICAgICAgICAgICAgb25DbGljayArPSBnZXRDb29raWVQYXJhbXMoKTsgLy8gaW52b2tlIGpzIGZ1bmN0aW9uIGNhbGxcblxuICAgICAgICAgICAgICBpZiAoanNGdW5jICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyB0cmFjayBub3RpZmljYXRpb24gY2xpY2tlZCBldmVudFxuICAgICAgICAgICAgICAgIFJlcXVlc3REaXNwYXRjaGVyLmZpcmVSZXF1ZXN0KG9uQ2xpY2spO1xuICAgICAgICAgICAgICAgIGludm9rZUV4dGVybmFsSnMoanNGdW5jLCB0YXJnZXRpbmdNc2dKc29uKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH0gLy8gcGFzcyBvbiB0aGUgZ2Nvb2tpZXxwYWdlfHNjb29raWVJZCBmb3IgY2FwdHVyaW5nIHRoZSBjbGljayBldmVudFxuXG5cbiAgICAgICAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS53aW5kb3cgPT09IDEpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihvbkNsaWNrLCAnX2JsYW5rJyk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gb25DbGljaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICB3aW5kb3cuY2xldmVydGFwLnJhaXNlTm90aWZpY2F0aW9uVmlld2VkID0gKCkgPT4ge1xuICAgICAgICAgICAgaW5jcmVtZW50SW1wcmVzc2lvbih0YXJnZXRpbmdNc2dKc29uKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgbm90aWZpY2F0aW9uQ2FsbGJhY2soaW5hT2JqKTtcbiAgICAgICAgICBfY2FsbEJhY2tDYWxsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuY2xldmVydGFwLnBvcHVwQ3VycmVudFd6cmtJZCA9IHRhcmdldGluZ01zZ0pzb24ud3pya19pZDtcbiAgICAgICAgcmVuZGVyRm9vdGVyTm90aWZpY2F0aW9uKHRhcmdldGluZ01zZ0pzb24pO1xuXG4gICAgICAgIGlmICh3aW5kb3cuY2xldmVydGFwLmhhc093blByb3BlcnR5KCdwb3B1cENhbGxiYWNrcycpICYmIHR5cGVvZiB3aW5kb3cuY2xldmVydGFwLnBvcHVwQ2FsbGJhY2tzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmNsZXZlcnRhcC5wb3B1cENhbGxiYWNrc1t0YXJnZXRpbmdNc2dKc29uLnd6cmtfaWRdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgY29uc3QgcG9wdXBDYWxsYmFjayA9IHdpbmRvdy5jbGV2ZXJ0YXAucG9wdXBDYWxsYmFja3NbdGFyZ2V0aW5nTXNnSnNvbi53enJrX2lkXTtcbiAgICAgICAgICBjb25zdCBpbmFPYmogPSB7fTtcbiAgICAgICAgICBpbmFPYmoubXNnQ29udGVudCA9IHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudDtcbiAgICAgICAgICBpbmFPYmoubXNnSWQgPSB0YXJnZXRpbmdNc2dKc29uLnd6cmtfaWQ7XG5cbiAgICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi53enJrX3Bpdm90KSB7XG4gICAgICAgICAgICBpbmFPYmoucGl2b3RJZCA9IHRhcmdldGluZ01zZ0pzb24ud3pya19waXZvdDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgbXNnQ1RrdiA9IFtdO1xuXG4gICAgICAgICAgZm9yICh2YXIgd3pya1ByZWZpeEtleSBpbiB0YXJnZXRpbmdNc2dKc29uKSB7XG4gICAgICAgICAgICAvLyBBREQgV1pSSyBQUkVGSVggS0VZIFZBTFVFIFBBSVJTXG4gICAgICAgICAgICBpZiAod3pya1ByZWZpeEtleS5zdGFydHNXaXRoKFdaUktfUFJFRklYKSAmJiB3enJrUHJlZml4S2V5ICE9PSBXWlJLX0lEKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHd6cmtKc29uID0ge1xuICAgICAgICAgICAgICAgIFt3enJrUHJlZml4S2V5XTogdGFyZ2V0aW5nTXNnSnNvblt3enJrUHJlZml4S2V5XVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBtc2dDVGt2LnB1c2god3pya0pzb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChtc2dDVGt2Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGluYU9iai5tc2dDVGt2ID0gbXNnQ1RrdjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5Lmt2ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGluYU9iai5rdiA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5rdjtcbiAgICAgICAgICB9IC8vIFBVQkxJQyBBUEkgVE8gUkVDT1JEIENMSUNLRUQgRVZFTlRcblxuXG4gICAgICAgICAgd2luZG93LmNsZXZlcnRhcC5yYWlzZVBvcHVwTm90aWZpY2F0aW9uQ2xpY2tlZCA9IG5vdGlmaWNhdGlvbkRhdGEgPT4ge1xuICAgICAgICAgICAgaWYgKCFub3RpZmljYXRpb25EYXRhIHx8ICFub3RpZmljYXRpb25EYXRhLm1zZ0lkKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZXZlbnREYXRhID0ge307XG4gICAgICAgICAgICBldmVudERhdGEudHlwZSA9ICdldmVudCc7XG4gICAgICAgICAgICBldmVudERhdGEuZXZ0TmFtZSA9IE5PVElGSUNBVElPTl9DTElDS0VEO1xuICAgICAgICAgICAgZXZlbnREYXRhLmV2dERhdGEgPSB7XG4gICAgICAgICAgICAgIFtXWlJLX0lEXTogbm90aWZpY2F0aW9uRGF0YS5tc2dJZFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ud3pya19waXZvdCkge1xuICAgICAgICAgICAgICBldmVudERhdGEuZXZ0RGF0YSA9IHsgLi4uZXZlbnREYXRhLmV2dERhdGEsXG4gICAgICAgICAgICAgICAgd3pya19waXZvdDogbm90aWZpY2F0aW9uRGF0YS5waXZvdElkXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IC8vIFdaUksgUFJFRklYIEtFWSBWQUxVRSBQQUlSU1xuXG5cbiAgICAgICAgICAgIGlmIChub3RpZmljYXRpb25EYXRhLm1zZ0NUa3YpIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgd3pya1ByZWZpeE9iaiBvZiBub3RpZmljYXRpb25EYXRhLm1zZ0NUa3YpIHtcbiAgICAgICAgICAgICAgICBldmVudERhdGEuZXZ0RGF0YSA9IHsgLi4uZXZlbnREYXRhLmV2dERhdGEsXG4gICAgICAgICAgICAgICAgICAuLi53enJrUHJlZml4T2JqXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfcmVxdWVzdC5wcm9jZXNzRXZlbnQoZXZlbnREYXRhKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcG9wdXBDYWxsYmFjayhpbmFPYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxldCBleGl0aW50ZW50T2JqO1xuXG4gICAgY29uc3Qgc2hvd0V4aXRJbnRlbnQgPSAoZXZlbnQsIHRhcmdldE9iaikgPT4ge1xuICAgICAgbGV0IHRhcmdldGluZ01zZ0pzb247XG5cbiAgICAgIGlmIChldmVudCAhPSBudWxsICYmIGV2ZW50LmNsaWVudFkgPiAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRhcmdldE9iaiA9PSBudWxsKSB7XG4gICAgICAgIHRhcmdldGluZ01zZ0pzb24gPSBleGl0aW50ZW50T2JqO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0aW5nTXNnSnNvbiA9IHRhcmdldE9iajtcbiAgICAgIH1cblxuICAgICAgaWYgKCRjdC5kaXNtaXNzU3BhbUNvbnRyb2wgJiYgdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5Lnd0YXJnZXRfdHlwZSA9PT0gMCAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW50ZW50UHJldmlldycpICE9IG51bGwgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludGVudE9wYWNpdHlEaXYnKSAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW50ZW50UHJldmlldycpO1xuICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW50ZW50T3BhY2l0eURpdicpLnJlbW92ZSgpO1xuICAgICAgfSAvLyBJbWFnZU9ubHkgY2FtcGFpZ24gYW5kIEludGVyc3RpdGlhbC9FeGl0IEludGVudCBzaG91bGRuJ3QgY29leGlzdFxuXG5cbiAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW50ZW50UHJldmlldycpICE9IG51bGwgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3d6cmtJbWFnZU9ubHlEaXYnKSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gZG9udCBzaG93IGV4aXQgaW50ZW50IG9uIHRhYmxldC9tb2JpbGUgLSBvbmx5IG9uIGRlc2t0b3BcblxuXG4gICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LmxheW91dCA9PSBudWxsICYmICgvbW9iaWxlL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSB8fCAvbWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgL2lQYWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpIHx8ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyB8fCAvdGFibGV0L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZG9DYW1wSG91c2VLZWVwaW5nKHRhcmdldGluZ01zZ0pzb24pID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNhbXBhaWduSWQgPSB0YXJnZXRpbmdNc2dKc29uLnd6cmtfaWQuc3BsaXQoJ18nKVswXTtcbiAgICAgICRjdC5jYW1wYWlnbkRpdk1hcFtjYW1wYWlnbklkXSA9ICdpbnRlbnRQcmV2aWV3JztcbiAgICAgIGxldCBsZWdhY3kgPSBmYWxzZTtcbiAgICAgIGNvbnN0IG9wYWNpdHlEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG9wYWNpdHlEaXYuaWQgPSAnaW50ZW50T3BhY2l0eURpdic7XG4gICAgICBjb25zdCBvcGFjaXR5ID0gdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5Lm9wYWNpdHkgfHwgMC43O1xuICAgICAgY29uc3QgcmdiYUNvbG9yID0gXCJyZ2JhKDAsMCwwLFwiLmNvbmNhdChvcGFjaXR5LCBcIilcIik7XG4gICAgICBvcGFjaXR5RGl2LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBcInBvc2l0aW9uOiBmaXhlZDt0b3A6IDA7Ym90dG9tOiAwO2xlZnQ6IDA7d2lkdGg6IDEwMCU7aGVpZ2h0OiAxMDAlO3otaW5kZXg6IDIxNDc0ODM2NDY7YmFja2dyb3VuZDogXCIuY29uY2F0KHJnYmFDb2xvciwgXCI7XCIpKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3BhY2l0eURpdik7XG4gICAgICBjb25zdCBtc2dEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG1zZ0Rpdi5pZCA9ICdpbnRlbnRQcmV2aWV3JztcblxuICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5wcm90byA9PSBudWxsKSB7XG4gICAgICAgIGxlZ2FjeSA9IHRydWU7XG4gICAgICAgIG1zZ0Rpdi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6YmxvY2s7b3ZlcmZsb3c6aGlkZGVuO3RvcDo1NSUgIWltcG9ydGFudDtsZWZ0OjUwJSAhaW1wb3J0YW50O3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6MjE0NzQ4MzY0Nzt3aWR0aDo2MDBweCAhaW1wb3J0YW50O2hlaWdodDo2MDBweCAhaW1wb3J0YW50O21hcmdpbjotMzAwcHggMCAwIC0zMDBweCAhaW1wb3J0YW50OycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbXNnRGl2LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkuaUZyYW1lU3R5bGUpO1xuICAgICAgfVxuXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1zZ0Rpdik7XG4gICAgICBjb25zdCBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICAgIGNvbnN0IGJvcmRlclJhZGl1cyA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5iciA9PT0gZmFsc2UgPyAnMCcgOiAnOCc7XG4gICAgICBpZnJhbWUuZnJhbWVib3JkZXIgPSAnMHB4JztcbiAgICAgIGlmcmFtZS5tYXJnaW5oZWlnaHQgPSAnMHB4JztcbiAgICAgIGlmcmFtZS5tYXJnaW53aWR0aCA9ICcwcHgnO1xuICAgICAgaWZyYW1lLnNjcm9sbGluZyA9ICdubyc7XG4gICAgICBpZnJhbWUuaWQgPSAnd2l6LWlmcmFtZS1pbnRlbnQnO1xuICAgICAgY29uc3Qgb25DbGljayA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5vbkNsaWNrO1xuICAgICAgbGV0IHBvaW50ZXJDc3MgPSAnJztcblxuICAgICAgaWYgKG9uQ2xpY2sgIT09ICcnICYmIG9uQ2xpY2sgIT0gbnVsbCkge1xuICAgICAgICBwb2ludGVyQ3NzID0gJ2N1cnNvcjpwb2ludGVyOyc7XG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkucHJldmlldyAmJiB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXlbJ2N1c3RvbS1lZGl0b3InXSkge1xuICAgICAgICBpZnJhbWUuc2FuZGJveCA9ICdhbGxvdy1zY3JpcHRzIGFsbG93LXBvcHVwcyBhbGxvdy1wb3B1cHMtdG8tZXNjYXBlLXNhbmRib3gnO1xuICAgICAgfVxuXG4gICAgICBsZXQgaHRtbDsgLy8gZGlyZWN0IGh0bWxcblxuICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC50eXBlID09PSAxKSB7XG4gICAgICAgIGh0bWwgPSB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQuaHRtbDtcbiAgICAgICAgaHRtbCA9IGh0bWwucmVwbGFjZSgvIyNjYW1wYWlnbklkIyMvZywgY2FtcGFpZ25JZCk7XG4gICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoLyMjY2FtcGFpZ25JZF9iYXRjaElkIyMvZywgdGFyZ2V0aW5nTXNnSnNvbi53enJrX2lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGNzcyA9ICcnICsgJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj4nICsgJ2JvZHl7bWFyZ2luOjA7cGFkZGluZzowO30nICsgJyNjb250ZW50RGl2Lnd6cmt7b3ZlcmZsb3c6aGlkZGVuO3BhZGRpbmc6MCAwIDIwcHggMDt0ZXh0LWFsaWduOmNlbnRlcjsnICsgcG9pbnRlckNzcyArICd9JyArICcjY29udGVudERpdi53enJrIHRke3BhZGRpbmc6MTVweCAxMHB4O30nICsgJy53enJrUFB0aXRsZXtmb250LXdlaWdodDogYm9sZDtmb250LXNpemU6IDI0cHg7Zm9udC1mYW1pbHk6YXJpYWw7d29yZC1icmVhazogYnJlYWstd29yZDtwYWRkaW5nLXRvcDoyMHB4O30nICsgJy53enJrUFBkc2Nye2ZvbnQtc2l6ZTogMTRweDtmb250LWZhbWlseTphcmlhbDtsaW5lLWhlaWdodDoxNnB4O3dvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7ZGlzcGxheTppbmxpbmUtYmxvY2s7cGFkZGluZzoyMHB4IDIwcHggMCAyMHB4O2xpbmUtaGVpZ2h0OjIwcHg7fScgKyAnLlBMMTV7cGFkZGluZy1sZWZ0OjE1cHg7fScgKyAnLnd6cmtQUHdhcnB7bWFyZ2luOjIwcHggMjBweCAwIDVweDtwYWRkaW5nOjBweDtib3JkZXItcmFkaXVzOiAnICsgYm9yZGVyUmFkaXVzICsgJ3B4O2JveC1zaGFkb3c6IDFweCAxcHggNXB4ICM4ODg4ODg7fScgKyAnYS53enJrQ2xvc2V7Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246IGFic29sdXRlO3RvcDogMTFweDtyaWdodDogMTFweDt6LWluZGV4OiAyMTQ3NDgzNjQ3O2ZvbnQtc2l6ZToxOXB4O2ZvbnQtZmFtaWx5OmFyaWFsO2ZvbnQtd2VpZ2h0OmJvbGQ7dGV4dC1kZWNvcmF0aW9uOiBub25lO3dpZHRoOiAyNXB4Oy8qaGVpZ2h0OiAyNXB4OyovdGV4dC1hbGlnbjogY2VudGVyOyAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7IGxpbmUtaGVpZ2h0OiAyNXB4OycgKyAnYmFja2dyb3VuZDogIzM1MzUzNTtib3JkZXI6ICNmZmYgMnB4IHNvbGlkO2JvcmRlci1yYWRpdXM6IDEwMCU7Ym94LXNoYWRvdzogIzc3NyAycHggMnB4IDJweDtjb2xvcjojZmZmO30nICsgJ2E6aG92ZXIud3pya0Nsb3Nle2JhY2tncm91bmQtY29sb3I6I2QxOTE0YSAhaW1wb3J0YW50O2NvbG9yOiNmZmYgIWltcG9ydGFudDsgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO30nICsgJyNjb250ZW50RGl2IC5idXR0b257cGFkZGluZy10b3A6MjBweDt9JyArICcjY29udGVudERpdiAuYnV0dG9uIGF7Zm9udC1zaXplOiAxNHB4O2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1mYW1pbHk6YXJpYWw7dGV4dC1hbGlnbjpjZW50ZXI7ZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1kZWNvcmF0aW9uOm5vbmU7cGFkZGluZzowIDMwcHg7aGVpZ2h0OjQwcHg7bGluZS1oZWlnaHQ6NDBweDtiYWNrZ3JvdW5kOiNlYTY5M2I7Y29sb3I6I2ZmZjtib3JkZXItcmFkaXVzOjRweDstd2Via2l0LWJvcmRlci1yYWRpdXM6NHB4Oy1tb3otYm9yZGVyLXJhZGl1czo0cHg7fScgKyAnPC9zdHlsZT4nO1xuICAgICAgICBsZXQgYmdDb2xvciwgdGV4dENvbG9yLCBidG5CZywgYnRDb2xvcjtcblxuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LnRoZW1lID09PSAnZGFyaycpIHtcbiAgICAgICAgICBiZ0NvbG9yID0gJyMyZDJkMmUnO1xuICAgICAgICAgIHRleHRDb2xvciA9ICcjZWFlYWVhJztcbiAgICAgICAgICBidG5CZyA9ICcjMzUzNTM1JztcbiAgICAgICAgICBidENvbG9yID0gJyNmZmZmZmYnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJnQ29sb3IgPSAnI2ZmZmZmZic7XG4gICAgICAgICAgdGV4dENvbG9yID0gJyMwMDAwMDAnO1xuICAgICAgICAgIGJ0bkJnID0gJyNhNWE2YTYnO1xuICAgICAgICAgIGJ0Q29sb3IgPSAnI2ZmZmZmZic7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0aXRsZVRleHQgPSB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQudGl0bGU7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uVGV4dCA9IHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5kZXNjcmlwdGlvbjtcbiAgICAgICAgbGV0IGN0YVRleHQgPSAnJztcblxuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50LmN0YVRleHQgIT0gbnVsbCAmJiB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQuY3RhVGV4dCAhPT0gJycpIHtcbiAgICAgICAgICBjdGFUZXh0ID0gXCI8ZGl2IGNsYXNzPSdidXR0b24nPjxhIGhyZWY9JyMnPlwiICsgdGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50LmN0YVRleHQgKyAnPC9hPjwvZGl2Pic7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaW1hZ2VUZCA9ICcnO1xuXG4gICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQuaW1hZ2VVcmwgIT0gbnVsbCAmJiB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQuaW1hZ2VVcmwgIT09ICcnKSB7XG4gICAgICAgICAgaW1hZ2VUZCA9IFwiPGRpdiBzdHlsZT0ncGFkZGluZy10b3A6MjBweDsnPjxpbWcgc3JjPSdcIiArIHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5pbWFnZVVybCArIFwiJyB3aWR0aD0nNTAwJyBhbHQ9XCIgKyB0aXRsZVRleHQgKyAnIC8+PC9kaXY+JztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9uQ2xpY2tTdHIgPSAncGFyZW50LiRXWlJLX1dSLmNsb3NlSWZyYW1lKCcgKyBjYW1wYWlnbklkICsgXCIsJ2ludGVudFByZXZpZXcnKTtcIjtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBcIjxkaXYgY2xhc3M9J3d6cmtQUHdhcnAnIHN0eWxlPSdjb2xvcjpcIiArIHRleHRDb2xvciArICc7YmFja2dyb3VuZC1jb2xvcjonICsgYmdDb2xvciArIFwiOyc+XCIgKyBcIjxhIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKTsnIG9uY2xpY2s9XCIgKyBvbkNsaWNrU3RyICsgXCIgY2xhc3M9J3d6cmtDbG9zZScgc3R5bGU9J2JhY2tncm91bmQtY29sb3I6XCIgKyBidG5CZyArICc7Y29sb3I6JyArIGJ0Q29sb3IgKyBcIic+JnRpbWVzOzwvYT5cIiArIFwiPGRpdiBpZD0nY29udGVudERpdicgY2xhc3M9J3d6cmsnPlwiICsgXCI8ZGl2IGNsYXNzPSd3enJrUFB0aXRsZScgc3R5bGU9J2NvbG9yOlwiICsgdGV4dENvbG9yICsgXCInPlwiICsgdGl0bGVUZXh0ICsgJzwvZGl2Pic7XG4gICAgICAgIGNvbnN0IGJvZHkgPSBcIjxkaXYgY2xhc3M9J3d6cmtQUGRzY3InIHN0eWxlPSdjb2xvcjpcIiArIHRleHRDb2xvciArIFwiJz5cIiArIGRlc2NyaXB0aW9uVGV4dCArICc8L2Rpdj4nICsgaW1hZ2VUZCArIGN0YVRleHQgKyAnPC9kaXY+PC9kaXY+JztcbiAgICAgICAgaHRtbCA9IGNzcyArIHRpdGxlICsgYm9keTtcbiAgICAgIH1cblxuICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnei1pbmRleDogMjE0NzQ4MzY0NzsgZGlzcGxheTpibG9jazsgaGVpZ2h0OiAxMDAlICFpbXBvcnRhbnQ7IHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7bWluLWhlaWdodDo4MHB4ICFpbXBvcnRhbnQ7Ym9yZGVyOjBweCAhaW1wb3J0YW50OyBib3JkZXItY29sb3I6bm9uZSAhaW1wb3J0YW50OycpO1xuICAgICAgbXNnRGl2LmFwcGVuZENoaWxkKGlmcmFtZSk7IC8vIERpc3BhdGNoIGV2ZW50IGZvciBpbnRlcnN0aXRpYWwvZXhpdCBpbnRlbnQgY2xvc2VcblxuICAgICAgY29uc3QgY2xvc2VDYW1wYWlnbiA9IG5ldyBFdmVudCgnQ1RfY2FtcGFpZ25fcmVuZGVyZWQnKTtcbiAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY2xvc2VDYW1wYWlnbik7XG5cbiAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXlbJ2N1c3RvbS1lZGl0b3InXSkge1xuICAgICAgICBodG1sID0gYXBwZW5kU2NyaXB0Rm9yQ3VzdG9tRXZlbnQodGFyZ2V0aW5nTXNnSnNvbiwgaHRtbCk7XG4gICAgICB9XG5cbiAgICAgIGlmcmFtZS5zcmNkb2MgPSBodG1sO1xuXG4gICAgICBpZnJhbWUub25sb2FkID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBjb250ZW50RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpei1pZnJhbWUtaW50ZW50JykuY29udGVudERvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50RGl2Jyk7XG4gICAgICAgIHNldHVwQ2xpY2tVcmwob25DbGljaywgdGFyZ2V0aW5nTXNnSnNvbiwgY29udGVudERpdiwgJ2ludGVudFByZXZpZXcnLCBsZWdhY3kpO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgaWYgKCFkb2N1bWVudC5ib2R5KSB7XG4gICAgICBpZiAoX3dpekNvdW50ZXIgPCA2KSB7XG4gICAgICAgIF93aXpDb3VudGVyKys7XG4gICAgICAgIHNldFRpbWVvdXQoX3RyLCAxMDAwLCBtc2csIHtcbiAgICAgICAgICBkZXZpY2U6IF9kZXZpY2UsXG4gICAgICAgICAgc2Vzc2lvbjogX3Nlc3Npb24sXG4gICAgICAgICAgcmVxdWVzdDogX3JlcXVlc3QsXG4gICAgICAgICAgbG9nZ2VyOiBfbG9nZ2VyXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcHJvY2Vzc05hdGl2ZURpc3BsYXlBcnIgPSBhcnJJbkFwcE5vdGlmcyA9PiB7XG4gICAgICBPYmplY3Qua2V5cyhhcnJJbkFwcE5vdGlmcykubWFwKGtleSA9PiB7XG4gICAgICAgIHZhciBlbGVtZW50SWQsIGlkO1xuXG4gICAgICAgIGlmIChhcnJJbkFwcE5vdGlmc1trZXldLmRpc3BsYXkuZGl2SWQpIHtcbiAgICAgICAgICBlbGVtZW50SWQgPSBhcnJJbkFwcE5vdGlmc1trZXldLmRpc3BsYXkuZGl2SWQ7XG4gICAgICAgICAgaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1lbnRJZCA9IGFyckluQXBwTm90aWZzW2tleV0uZGlzcGxheS5kaXZTZWxlY3RvcjtcbiAgICAgICAgICBpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpZCAhPT0gbnVsbCkge1xuICAgICAgICAgIGFyckluQXBwTm90aWZzW2tleV0ubXNnQ29udGVudC50eXBlID09PSAyID8gcmVuZGVyUGVyc29uYWxpc2F0aW9uQmFubmVyKGFyckluQXBwTm90aWZzW2tleV0pIDogcmVuZGVyUGVyc29uYWxpc2F0aW9uQ2Fyb3VzZWwoYXJySW5BcHBOb3RpZnNba2V5XSk7XG4gICAgICAgICAgZGVsZXRlIGFyckluQXBwTm90aWZzW2tleV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBhZGRMb2FkTGlzdGVuZXIgPSBhcnJJbkFwcE5vdGlmcyA9PiB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcblxuICAgICAgICBpZiAoY291bnQgPCAyMCkge1xuICAgICAgICAgIGNvbnN0IHQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBwcm9jZXNzTmF0aXZlRGlzcGxheUFycihhcnJJbkFwcE5vdGlmcyk7XG5cbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhhcnJJbkFwcE5vdGlmcykubGVuZ3RoID09PSAwIHx8IGNvdW50ID09PSAyMCkge1xuICAgICAgICAgICAgICBjbGVhckludGVydmFsKHQpO1xuICAgICAgICAgICAgICBhcnJJbkFwcE5vdGlmcyA9IHt9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBpZiAobXNnLmluYXBwX25vdGlmcyAhPSBudWxsKSB7XG4gICAgICBjb25zdCBhcnJJbkFwcE5vdGlmcyA9IHt9O1xuXG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbXNnLmluYXBwX25vdGlmcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm90aWYgPSBtc2cuaW5hcHBfbm90aWZzW2luZGV4XTtcblxuICAgICAgICBpZiAodGFyZ2V0Tm90aWYuZGlzcGxheS53dGFyZ2V0X3R5cGUgPT0gbnVsbCB8fCB0YXJnZXROb3RpZi5kaXNwbGF5Lnd0YXJnZXRfdHlwZSA9PT0gMCkge1xuICAgICAgICAgIHNob3dGb290ZXJOb3RpZmljYXRpb24odGFyZ2V0Tm90aWYpO1xuICAgICAgICB9IGVsc2UgaWYgKHRhcmdldE5vdGlmLmRpc3BsYXkud3RhcmdldF90eXBlID09PSAxKSB7XG4gICAgICAgICAgLy8gaWYgZGlzcGxheVsnd3RhcmdldF90eXBlJ109PTEgdGhlbiBleGl0IGludGVudFxuICAgICAgICAgIGV4aXRpbnRlbnRPYmogPSB0YXJnZXROb3RpZjtcbiAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYm9keS5vbm1vdXNlbGVhdmUgPSBzaG93RXhpdEludGVudDtcbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXROb3RpZi5kaXNwbGF5Lnd0YXJnZXRfdHlwZSA9PT0gMikge1xuICAgICAgICAgIC8vIGlmIGRpc3BsYXlbJ3d0YXJnZXRfdHlwZSddPT0yIHRoZW4gd2ViIG5hdGl2ZSBkaXNwbGF5XG4gICAgICAgICAgaWYgKHRhcmdldE5vdGlmLm1zZ0NvbnRlbnQudHlwZSA9PT0gMiB8fCB0YXJnZXROb3RpZi5tc2dDb250ZW50LnR5cGUgPT09IDMpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBiYW5uZXIgYW5kIGNhcm91c2VsXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGFyZ2V0Tm90aWYuZGlzcGxheS5kaXZJZCA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldE5vdGlmLmRpc3BsYXkuZGl2SWQpIDogZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXROb3RpZi5kaXNwbGF5LmRpdlNlbGVjdG9yKTtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0Tm90aWYubXNnQ29udGVudC50eXBlID09PSAyID8gcmVuZGVyUGVyc29uYWxpc2F0aW9uQmFubmVyKHRhcmdldE5vdGlmKSA6IHJlbmRlclBlcnNvbmFsaXNhdGlvbkNhcm91c2VsKHRhcmdldE5vdGlmKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFyckluQXBwTm90aWZzW3RhcmdldE5vdGlmLnd6cmtfaWQuc3BsaXQoJ18nKVswXV0gPSB0YXJnZXROb3RpZjsgLy8gQWRkIHRhcmdldE5vdGlmIHRvIG9iamVjdFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0Tm90aWYubXNnQ29udGVudC50eXBlID09PSA0KSB7XG4gICAgICAgICAgICByZW5kZXJWaXN1YWxCdWlsZGVyKHRhcmdldE5vdGlmLCBmYWxzZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNob3dGb290ZXJOb3RpZmljYXRpb24odGFyZ2V0Tm90aWYpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAvLyBQcm9jZXNzIGJhbm5lciBvciBjYXJvdXNlbCBjYW1wYWlnbiBhcnJheVxuXG5cbiAgICAgIGlmIChPYmplY3Qua2V5cyhhcnJJbkFwcE5vdGlmcykubGVuZ3RoKSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgICAgICAgcHJvY2Vzc05hdGl2ZURpc3BsYXlBcnIoYXJySW5BcHBOb3RpZnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFkZExvYWRMaXN0ZW5lcihhcnJJbkFwcE5vdGlmcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBtZXJnZUV2ZW50TWFwID0gbmV3RXZ0TWFwID0+IHtcbiAgICAgIGlmICgkY3QuZ2xvYmFsRXZlbnRzTWFwID09IG51bGwpIHtcbiAgICAgICAgJGN0Lmdsb2JhbEV2ZW50c01hcCA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShFVl9DT09LSUUpO1xuXG4gICAgICAgIGlmICgkY3QuZ2xvYmFsRXZlbnRzTWFwID09IG51bGwpIHtcbiAgICAgICAgICAkY3QuZ2xvYmFsRXZlbnRzTWFwID0gbmV3RXZ0TWFwO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXdFdnRNYXApIHtcbiAgICAgICAgaWYgKG5ld0V2dE1hcC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgY29uc3Qgb2xkRXZ0T2JqID0gJGN0Lmdsb2JhbEV2ZW50c01hcFtrZXldO1xuICAgICAgICAgIGNvbnN0IG5ld0V2dE9iaiA9IG5ld0V2dE1hcFtrZXldO1xuXG4gICAgICAgICAgaWYgKCRjdC5nbG9iYWxFdmVudHNNYXBba2V5XSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAobmV3RXZ0T2JqWzBdICE9IG51bGwgJiYgbmV3RXZ0T2JqWzBdID4gb2xkRXZ0T2JqWzBdKSB7XG4gICAgICAgICAgICAgICRjdC5nbG9iYWxFdmVudHNNYXBba2V5XSA9IG5ld0V2dE9iajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJGN0Lmdsb2JhbEV2ZW50c01hcFtrZXldID0gbmV3RXZ0T2JqO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVJbmJveE5vdGlmaWNhdGlvbnMgPSAoKSA9PiB7XG4gICAgICBpZiAobXNnLmluYm94X3ByZXZpZXcpIHtcbiAgICAgICAgcHJvY2Vzc0luYm94Tm90aWZzKG1zZyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKG1zZy5pbmJveF9ub3RpZnMpIHtcbiAgICAgICAgY29uc3QgbXNnQXJyID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG1zZy5pbmJveF9ub3RpZnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgaWYgKGRvQ2FtcEhvdXNlS2VlcGluZyhtc2cuaW5ib3hfbm90aWZzW2luZGV4XSkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBtc2dBcnIucHVzaChtc2cuaW5ib3hfbm90aWZzW2luZGV4XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvY2Vzc0luYm94Tm90aWZzKG1zZ0Fycik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChtc2cud2ViSW5ib3hTZXR0aW5nIHx8IG1zZy5pbmJveF9ub3RpZnMgIT0gbnVsbCkge1xuICAgICAgLyoqXG4gICAgICAgKiBXaGVuIHRoZSB1c2VyIHZpc2l0cyBhIHdlYnNpdGUgZm9yIHRoZSAxc3QgdGltZSBhZnRlciB3ZWIgaW5ib3ggY2hhbm5lbCBpcyBzZXR1cCxcbiAgICAgICAqIHdlIG5lZWQgdG8gaW5pdGlhbGlzZSB0aGUgaW5ib3ggaGVyZSBiZWNhdXNlIHRoZSBpbml0aWFsaXplV2ViSW5ib3ggbWV0aG9kIHdpdGhpbiBpbml0IHdpbGwgbm90IGJlIGV4ZWN1dGVkXG4gICAgICAgKiBhcyB3ZSB3b3VsZCBub3QgaGF2ZSBhbnkgZW50cnkgcmVsYXRlZCB0byB3ZWJJbmJveFNldHRpbmdzIGluIHRoZSBMU1xuICAgICAgICovXG4gICAgICBpZiAoaGFzV2ViSW5ib3hTZXR0aW5nc0luTFMoKSkge1xuICAgICAgICBjaGVja0FuZFJlZ2lzdGVyV2ViSW5ib3hFbGVtZW50cygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoJGN0LmluYm94ID09PSBudWxsKSB7XG4gICAgICAgIG1zZy53ZWJJbmJveFNldHRpbmcgJiYgcHJvY2Vzc1dlYkluYm94U2V0dGluZ3MobXNnLndlYkluYm94U2V0dGluZyk7XG4gICAgICAgIGluaXRpYWxpemVXZWJJbmJveChfbG9nZ2VyKS50aGVuKCgpID0+IHtcbiAgICAgICAgICBoYW5kbGVJbmJveE5vdGlmaWNhdGlvbnMoKTtcbiAgICAgICAgfSkuY2F0Y2goZSA9PiB7fSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoYW5kbGVJbmJveE5vdGlmaWNhdGlvbnMoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobXNnLnZhcnMpIHtcbiAgICAgICRjdC52YXJpYWJsZVN0b3JlLm1lcmdlVmFyaWFibGVzKG1zZy52YXJzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzdGFsZURhdGFVcGRhdGUgPSAoc3RhbGVkYXRhLCBjYW1wVHlwZSkgPT4ge1xuICAgICAgY29uc3QgY2FtcE9iaiA9IGdldENhbXBhaWduT2JqZWN0KCk7XG4gICAgICBjb25zdCBnbG9iYWxPYmogPSBjYW1wT2JqW2NhbXBUeXBlXS5nbG9iYWw7XG5cbiAgICAgIGlmIChnbG9iYWxPYmogIT0gbnVsbCAmJiBjYW1wVHlwZSkge1xuICAgICAgICBmb3IgKGNvbnN0IGlkeCBpbiBzdGFsZWRhdGEpIHtcbiAgICAgICAgICBpZiAoc3RhbGVkYXRhLmhhc093blByb3BlcnR5KGlkeCkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBnbG9iYWxPYmpbc3RhbGVkYXRhW2lkeF1dO1xuXG4gICAgICAgICAgICBpZiAoU3RvcmFnZU1hbmFnZXIucmVhZChDQU1QX0NPT0tJRV9HKSkge1xuICAgICAgICAgICAgICBjb25zdCBndWlkQ2FtcE9iaiA9IEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KFN0b3JhZ2VNYW5hZ2VyLnJlYWQoQ0FNUF9DT09LSUVfRykpKTtcbiAgICAgICAgICAgICAgY29uc3QgZ3VpZCA9IEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KFN0b3JhZ2VNYW5hZ2VyLnJlYWQoR0NPT0tJRV9OQU1FKSkpO1xuXG4gICAgICAgICAgICAgIGlmIChndWlkQ2FtcE9ialtndWlkXSAmJiBndWlkQ2FtcE9ialtndWlkXVtjYW1wVHlwZV0gJiYgZ3VpZENhbXBPYmpbZ3VpZF1bY2FtcFR5cGVdW3N0YWxlZGF0YVtpZHhdXSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBndWlkQ2FtcE9ialtndWlkXVtjYW1wVHlwZV1bc3RhbGVkYXRhW2lkeF1dO1xuICAgICAgICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmUoQ0FNUF9DT09LSUVfRywgZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGd1aWRDYW1wT2JqKSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNhdmVDYW1wYWlnbk9iamVjdChjYW1wT2JqKTtcbiAgICB9O1xuXG4gICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAobXNnLmV2cHIgIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnN0IGV2ZW50c01hcCA9IG1zZy5ldnByLmV2ZW50cztcbiAgICAgICAgICBjb25zdCBwcm9maWxlTWFwID0gbXNnLmV2cHIucHJvZmlsZTtcbiAgICAgICAgICBjb25zdCBzeW5jRXhwaXJ5ID0gbXNnLmV2cHIuZXhwaXJlc19pbjtcbiAgICAgICAgICBjb25zdCBub3cgPSBnZXROb3coKTtcbiAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zZXRNZXRhUHJvcCgnbHNUaW1lJywgbm93KTtcbiAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zZXRNZXRhUHJvcCgnZXhUcycsIHN5bmNFeHBpcnkpO1xuICAgICAgICAgIG1lcmdlRXZlbnRNYXAoZXZlbnRzTWFwKTtcbiAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEVWX0NPT0tJRSwgJGN0Lmdsb2JhbEV2ZW50c01hcCk7XG5cbiAgICAgICAgICBpZiAoJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPT0gbnVsbCkge1xuICAgICAgICAgICAgYWRkVG9Mb2NhbFByb2ZpbGVNYXAocHJvZmlsZU1hcCwgdHJ1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFkZFRvTG9jYWxQcm9maWxlTWFwKHByb2ZpbGVNYXAsIGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobXNnLmFycCAhPSBudWxsKSB7XG4gICAgICAgICAgYXJwKG1zZy5hcnApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1zZy5pbmFwcF9zdGFsZSAhPSBudWxsICYmIG1zZy5pbmFwcF9zdGFsZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgLy8gd2ViIHBvcHVwIHN0YWxlXG4gICAgICAgICAgc3RhbGVEYXRhVXBkYXRlKG1zZy5pbmFwcF9zdGFsZSwgJ3dwJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobXNnLmluYm94X3N0YWxlICE9IG51bGwgJiYgbXNnLmluYm94X3N0YWxlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAvLyB3ZWIgaW5ib3ggc3RhbGVcbiAgICAgICAgICBzdGFsZURhdGFVcGRhdGUobXNnLmluYm94X3N0YWxlLCAnd2knKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBfbG9nZ2VyLmVycm9yKCdVbmFibGUgdG8gcGVyc2lzdCBldnJwL2FycDogJyArIGUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDIgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImlzUGVyc29uYWxpc2F0aW9uQWN0aXZlXCIpO1xuXG4gIGNsYXNzIFVzZXIge1xuICAgIGNvbnN0cnVjdG9yKF9yZWYpIHtcbiAgICAgIGxldCB7XG4gICAgICAgIGlzUGVyc29uYWxpc2F0aW9uQWN0aXZlXG4gICAgICB9ID0gX3JlZjtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMiwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDIpW19pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQyXSA9IGlzUGVyc29uYWxpc2F0aW9uQWN0aXZlO1xuICAgIH1cblxuICAgIGdldFRvdGFsVmlzaXRzKCkge1xuICAgICAgaWYgKCFfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDIpW19pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQyXSgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGV0IHZpc2l0Q291bnQgPSBTdG9yYWdlTWFuYWdlci5nZXRNZXRhUHJvcCgnc2MnKTtcblxuICAgICAgaWYgKHZpc2l0Q291bnQgPT0gbnVsbCkge1xuICAgICAgICB2aXNpdENvdW50ID0gMTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZpc2l0Q291bnQ7XG4gICAgfVxuXG4gICAgZ2V0TGFzdFZpc2l0KCkge1xuICAgICAgaWYgKCFfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDIpW19pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQyXSgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcHJldlNlc3Npb24gPSBTdG9yYWdlTWFuYWdlci5nZXRNZXRhUHJvcCgncHMnKTtcblxuICAgICAgaWYgKHByZXZTZXNzaW9uICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHByZXZTZXNzaW9uICogMTAwMCk7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICBjb25zdCBsb2dMZXZlbHMgPSB7XG4gICAgRElTQUJMRTogMCxcbiAgICBFUlJPUjogMSxcbiAgICBJTkZPOiAyLFxuICAgIERFQlVHOiAzLFxuICAgIERFQlVHX1BFOiA0XG4gIH07XG5cbiAgdmFyIF9sb2dMZXZlbCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwibG9nTGV2ZWxcIik7XG5cbiAgdmFyIF9sb2cgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImxvZ1wiKTtcblxuICB2YXIgX2lzTGVnYWN5RGVidWcgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImlzTGVnYWN5RGVidWdcIik7XG5cbiAgY2xhc3MgTG9nZ2VyIHtcbiAgICBjb25zdHJ1Y3Rvcihsb2dMZXZlbCkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9pc0xlZ2FjeURlYnVnLCB7XG4gICAgICAgIGdldDogX2dldF9pc0xlZ2FjeURlYnVnLFxuICAgICAgICBzZXQ6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2xvZywge1xuICAgICAgICB2YWx1ZTogX2xvZzJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9sb2dMZXZlbCwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICB0aGlzLnd6cmtFcnJvciA9IHt9O1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dMZXZlbClbX2xvZ0xldmVsXSA9IGxvZ0xldmVsID09IG51bGwgPyBsb2dMZXZlbCA6IGxvZ0xldmVscy5JTkZPO1xuICAgICAgdGhpcy53enJrRXJyb3IgPSB7fTtcbiAgICB9XG5cbiAgICBnZXQgbG9nTGV2ZWwoKSB7XG4gICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dMZXZlbClbX2xvZ0xldmVsXTtcbiAgICB9XG5cbiAgICBzZXQgbG9nTGV2ZWwobG9nTGV2ZWwpIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nTGV2ZWwpW19sb2dMZXZlbF0gPSBsb2dMZXZlbDtcbiAgICB9XG5cbiAgICBlcnJvcihtZXNzYWdlKSB7XG4gICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dMZXZlbClbX2xvZ0xldmVsXSA+PSBsb2dMZXZlbHMuRVJST1IpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2cpW19sb2ddKCdlcnJvcicsIG1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGluZm8obWVzc2FnZSkge1xuICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nTGV2ZWwpW19sb2dMZXZlbF0gPj0gbG9nTGV2ZWxzLklORk8pIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2cpW19sb2ddKCdsb2cnLCBtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkZWJ1ZyhtZXNzYWdlKSB7XG4gICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dMZXZlbClbX2xvZ0xldmVsXSA+PSBsb2dMZXZlbHMuREVCVUcgfHwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc0xlZ2FjeURlYnVnKVtfaXNMZWdhY3lEZWJ1Z10pIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2cpW19sb2ddKCdkZWJ1ZycsIG1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGRlYnVnUEUobWVzc2FnZSkge1xuICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nTGV2ZWwpW19sb2dMZXZlbF0gPj0gbG9nTGV2ZWxzLkRFQlVHX1BFKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nKVtfbG9nXSgnZGVidWdfcGUnLCBtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXBvcnRFcnJvcihjb2RlLCBkZXNjcmlwdGlvbikge1xuICAgICAgdGhpcy53enJrRXJyb3IuYyA9IGNvZGU7XG4gICAgICB0aGlzLnd6cmtFcnJvci5kID0gZGVzY3JpcHRpb247XG4gICAgICB0aGlzLmVycm9yKFwiXCIuY29uY2F0KENMRVZFUlRBUF9FUlJPUl9QUkVGSVgsIFwiIFwiKS5jb25jYXQoY29kZSwgXCI6IFwiKS5jb25jYXQoZGVzY3JpcHRpb24pKTtcbiAgICB9XG5cbiAgfVxuXG4gIHZhciBfbG9nMiA9IGZ1bmN0aW9uIF9sb2cyKGxldmVsLCBtZXNzYWdlKSB7XG4gICAgaWYgKHdpbmRvdy5jb25zb2xlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB0cyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICBjb25zb2xlW2xldmVsXShcIkNsZXZlclRhcCBbXCIuY29uY2F0KHRzLCBcIl06IFwiKS5jb25jYXQobWVzc2FnZSkpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gIH07XG5cbiAgdmFyIF9nZXRfaXNMZWdhY3lEZWJ1ZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHNlc3Npb25TdG9yYWdlICE9PSAndW5kZWZpbmVkJyAmJiBzZXNzaW9uU3RvcmFnZS5XWlJLX0QgPT09ICcnO1xuICB9O1xuXG4gIHZhciBfbG9nZ2VyJDUgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImxvZ2dlclwiKTtcblxuICB2YXIgX3Nlc3Npb25JZCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwic2Vzc2lvbklkXCIpO1xuXG4gIHZhciBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiaXNQZXJzb25hbGlzYXRpb25BY3RpdmVcIik7XG5cbiAgY2xhc3MgU2Vzc2lvbk1hbmFnZXIge1xuICAgIC8vIFNDT09LSUVfTkFNRVxuICAgIGNvbnN0cnVjdG9yKF9yZWYpIHtcbiAgICAgIGxldCB7XG4gICAgICAgIGxvZ2dlcixcbiAgICAgICAgaXNQZXJzb25hbGlzYXRpb25BY3RpdmVcbiAgICAgIH0gPSBfcmVmO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9sb2dnZXIkNSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3Nlc3Npb25JZCwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDMsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgdGhpcy5jb29raWVOYW1lID0gdm9pZCAwO1xuICAgICAgdGhpcy5zY29va2llT2JqID0gdm9pZCAwO1xuICAgICAgdGhpcy5zZXNzaW9uSWQgPSBTdG9yYWdlTWFuYWdlci5nZXRNZXRhUHJvcCgnY3MnKTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDUpW19sb2dnZXIkNV0gPSBsb2dnZXI7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDMpW19pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQzXSA9IGlzUGVyc29uYWxpc2F0aW9uQWN0aXZlO1xuICAgIH1cblxuICAgIGdldCBzZXNzaW9uSWQoKSB7XG4gICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uSWQpW19zZXNzaW9uSWRdO1xuICAgIH1cblxuICAgIHNldCBzZXNzaW9uSWQoc2Vzc2lvbklkKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb25JZClbX3Nlc3Npb25JZF0gPSBzZXNzaW9uSWQ7XG4gICAgfVxuXG4gICAgZ2V0U2Vzc2lvbkNvb2tpZU9iamVjdCgpIHtcbiAgICAgIGxldCBzY29va2llU3RyID0gU3RvcmFnZU1hbmFnZXIucmVhZENvb2tpZSh0aGlzLmNvb2tpZU5hbWUpO1xuICAgICAgbGV0IG9iaiA9IHt9O1xuXG4gICAgICBpZiAoc2Nvb2tpZVN0ciAhPSBudWxsKSB7XG4gICAgICAgIC8vIGNvbnZlcnRpbmcgYmFjayBzaW5nbGUgcXVvdGVzIHRvIGRvdWJsZSBmb3IgSlNPTiBwYXJzaW5nIC0gaHR0cDovL3d3dy5pYW5kZXZsaW4uY29tL2Jsb2cvMjAxMi8wNC9odG1sNS9jb29raWVzLWpzb24tbG9jYWxzdG9yYWdlLWFuZC1vcGVyYVxuICAgICAgICBzY29va2llU3RyID0gc2Nvb2tpZVN0ci5yZXBsYWNlKHNpbmdsZVF1b3RlUmVnZXgsICdcIicpO1xuICAgICAgICBvYmogPSBKU09OLnBhcnNlKHNjb29raWVTdHIpO1xuXG4gICAgICAgIGlmICghaXNPYmplY3Qob2JqKSkge1xuICAgICAgICAgIG9iaiA9IHt9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0eXBlb2Ygb2JqLnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAvLyBjaGVjayB0aW1lIGVsYXBzZWQgc2luY2UgbGFzdCByZXF1ZXN0XG4gICAgICAgICAgICBjb25zdCBsYXN0VGltZSA9IG9iai50O1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gZ2V0Tm93KCk7XG5cbiAgICAgICAgICAgIGlmIChub3cgLSBsYXN0VGltZSA+IFNDT09LSUVfRVhQX1RJTUVfSU5fU0VDUyArIDYwKSB7XG4gICAgICAgICAgICAgIC8vIGFkZGluZyA2MCBzZWNvbmRzIHRvIGNvbXBlbnNhdGUgZm9yIGluLWpvdXJuZXkgcmVxdWVzdHNcbiAgICAgICAgICAgICAgLy8gaWRlYWxseSB0aGUgY29va2llIHNob3VsZCd2ZSBkaWVkIGFmdGVyIFNDT09LSUVfRVhQX1RJTUVfSU5fU0VDUyBidXQgaXQncyBzdGlsbCBhcm91bmQgYXMgd2UgY2FuIHJlYWRcbiAgICAgICAgICAgICAgLy8gaGVuY2Ugd2Ugc2hvdWxkbid0IHVzZSBpdC5cbiAgICAgICAgICAgICAgb2JqID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2Nvb2tpZU9iaiA9IG9iajtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgc2V0U2Vzc2lvbkNvb2tpZU9iamVjdChvYmopIHtcbiAgICAgIGNvbnN0IG9ialN0ciA9IEpTT04uc3RyaW5naWZ5KG9iaik7XG4gICAgICBTdG9yYWdlTWFuYWdlci5jcmVhdGVCcm9hZENvb2tpZSh0aGlzLmNvb2tpZU5hbWUsIG9ialN0ciwgU0NPT0tJRV9FWFBfVElNRV9JTl9TRUNTLCBnZXRIb3N0TmFtZSgpKTtcbiAgICB9XG5cbiAgICBtYW5hZ2VTZXNzaW9uKHNlc3Npb24pIHtcbiAgICAgIC8vIGZpcnN0IHRpbWUuIGNoZWNrIGlmIGN1cnJlbnQgc2Vzc2lvbiBpZCBpbiBsb2NhbHN0b3JhZ2UgaXMgc2FtZVxuICAgICAgLy8gaWYgbm90IHNhbWUgdGhlbiBwcmV2ID0gY3VycmVudCBhbmQgY3VycmVudCA9IHRoaXMgbmV3IHNlc3Npb25cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5zZXNzaW9uSWQgPT09ICd1bmRlZmluZWQnIHx8IHRoaXMuc2Vzc2lvbklkICE9PSBzZXNzaW9uKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTZXNzaW9uSW5MUyA9IFN0b3JhZ2VNYW5hZ2VyLmdldE1ldGFQcm9wKCdjcycpOyAvLyBpZiBzZXNzaW9uSWQgaW4gbWV0YSBpcyB1bmRlZmluZWQgLSBzZXQgY3VycmVudCB0byBib3RoXG5cbiAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50U2Vzc2lvbkluTFMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2V0TWV0YVByb3AoJ3BzJywgc2Vzc2lvbik7XG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2V0TWV0YVByb3AoJ2NzJywgc2Vzc2lvbik7XG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2V0TWV0YVByb3AoJ3NjJywgMSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFNlc3Npb25JbkxTICE9PSBzZXNzaW9uKSB7XG4gICAgICAgICAgLy8gbm90IHNhbWUgYXMgc2Vzc2lvbiBpbiBsb2NhbCBzdG9yYWdlLiBuZXcgc2Vzc2lvblxuICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNldE1ldGFQcm9wKCdwcycsIGN1cnJlbnRTZXNzaW9uSW5MUyk7XG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2V0TWV0YVByb3AoJ2NzJywgc2Vzc2lvbik7XG4gICAgICAgICAgbGV0IHNlc3Npb25Db3VudCA9IFN0b3JhZ2VNYW5hZ2VyLmdldE1ldGFQcm9wKCdzYycpO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBzZXNzaW9uQ291bnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBzZXNzaW9uQ291bnQgPSAwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNldE1ldGFQcm9wKCdzYycsIHNlc3Npb25Db3VudCArIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXNzaW9uSWQgPSBzZXNzaW9uO1xuICAgICAgfVxuICAgIH1cblxuICAgIGdldFRpbWVFbGFwc2VkKCkge1xuICAgICAgaWYgKCFfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDMpW19pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQzXSgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc2Nvb2tpZU9iaiAhPSBudWxsKSB7XG4gICAgICAgIC8vIFRPRE86IGNoZWNrIGxvZ2ljP1xuICAgICAgICB0aGlzLnNjb29raWVPYmogPSB0aGlzLmdldFNlc3Npb25Db29raWVPYmplY3QoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2Vzc2lvblN0YXJ0ID0gdGhpcy5zY29va2llT2JqLnM7XG5cbiAgICAgIGlmIChzZXNzaW9uU3RhcnQgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCB0cyA9IGdldE5vdygpO1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih0cyAtIHNlc3Npb25TdGFydCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZ2V0UGFnZUNvdW50KCkge1xuICAgICAgaWYgKCFfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDMpW19pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQzXSgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc2Nvb2tpZU9iaiAhPSBudWxsKSB7XG4gICAgICAgIC8vIFRPRE86IGNoZWNrIGxvZ2ljXG4gICAgICAgIHRoaXMuc2Nvb2tpZU9iaiA9IHRoaXMuZ2V0U2Vzc2lvbkNvb2tpZU9iamVjdCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5zY29va2llT2JqLnA7XG4gICAgfVxuXG4gIH1cblxuICBsZXQgc2VxTm8gPSAwO1xuICBsZXQgcmVxdWVzdFRpbWUgPSAwO1xuXG4gIHZhciBfbG9nZ2VyJDYgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImxvZ2dlclwiKTtcblxuICB2YXIgX2FjY291bnQkMiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYWNjb3VudFwiKTtcblxuICB2YXIgX2RldmljZSQyID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJkZXZpY2VcIik7XG5cbiAgdmFyIF9zZXNzaW9uJDIgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInNlc3Npb25cIik7XG5cbiAgdmFyIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQ0ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZVwiKTtcblxuICB2YXIgX2NsZWFyQ29va2llID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJjbGVhckNvb2tpZVwiKTtcblxuICB2YXIgX2FkZFRvTG9jYWxFdmVudE1hcCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYWRkVG9Mb2NhbEV2ZW50TWFwXCIpO1xuXG4gIGNsYXNzIFJlcXVlc3RNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcihfcmVmKSB7XG4gICAgICBsZXQge1xuICAgICAgICBsb2dnZXIsXG4gICAgICAgIGFjY291bnQsXG4gICAgICAgIGRldmljZSxcbiAgICAgICAgc2Vzc2lvbixcbiAgICAgICAgaXNQZXJzb25hbGlzYXRpb25BY3RpdmVcbiAgICAgIH0gPSBfcmVmO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9hZGRUb0xvY2FsRXZlbnRNYXAsIHtcbiAgICAgICAgdmFsdWU6IF9hZGRUb0xvY2FsRXZlbnRNYXAyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfbG9nZ2VyJDYsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9hY2NvdW50JDIsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9kZXZpY2UkMiwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3Nlc3Npb24kMiwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDQsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9jbGVhckNvb2tpZSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHRoaXMucHJvY2Vzc2luZ0JhY2t1cCA9IGZhbHNlO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNilbX2xvZ2dlciQ2XSA9IGxvZ2dlcjtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQyKVtfYWNjb3VudCQyXSA9IGFjY291bnQ7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSQyKVtfZGV2aWNlJDJdID0gZGV2aWNlO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uJDIpW19zZXNzaW9uJDJdID0gc2Vzc2lvbjtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkNClbX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDRdID0gaXNQZXJzb25hbGlzYXRpb25BY3RpdmU7XG4gICAgICBSZXF1ZXN0RGlzcGF0Y2hlci5sb2dnZXIgPSBsb2dnZXI7XG4gICAgICBSZXF1ZXN0RGlzcGF0Y2hlci5kZXZpY2UgPSBkZXZpY2U7XG4gICAgICBSZXF1ZXN0RGlzcGF0Y2hlci5hY2NvdW50ID0gYWNjb3VudDtcbiAgICB9XG5cbiAgICBwcm9jZXNzQmFja3VwRXZlbnRzKCkge1xuICAgICAgY29uc3QgYmFja3VwTWFwID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKExDT09LSUVfTkFNRSk7XG5cbiAgICAgIGlmICh0eXBlb2YgYmFja3VwTWFwID09PSAndW5kZWZpbmVkJyB8fCBiYWNrdXBNYXAgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnByb2Nlc3NpbmdCYWNrdXAgPSB0cnVlO1xuXG4gICAgICBmb3IgKGNvbnN0IGlkeCBpbiBiYWNrdXBNYXApIHtcbiAgICAgICAgaWYgKGJhY2t1cE1hcC5oYXNPd25Qcm9wZXJ0eShpZHgpKSB7XG4gICAgICAgICAgY29uc3QgYmFja3VwRXZlbnQgPSBiYWNrdXBNYXBbaWR4XTtcblxuICAgICAgICAgIGlmICh0eXBlb2YgYmFja3VwRXZlbnQuZmlyZWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ2KVtfbG9nZ2VyJDZdLmRlYnVnKCdQcm9jZXNzaW5nIGJhY2t1cCBldmVudCA6ICcgKyBiYWNrdXBFdmVudC5xKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBiYWNrdXBFdmVudC5xICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICBSZXF1ZXN0RGlzcGF0Y2hlci5maXJlUmVxdWVzdChiYWNrdXBFdmVudC5xKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYmFja3VwRXZlbnQuZmlyZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKExDT09LSUVfTkFNRSwgYmFja3VwTWFwKTtcbiAgICAgIHRoaXMucHJvY2Vzc2luZ0JhY2t1cCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGFkZFN5c3RlbURhdGFUb09iamVjdChkYXRhT2JqZWN0LCBpZ25vcmVUcmltKSB7XG4gICAgICAvLyBpZ25vcmUgdHJpbSBmb3IgY2hyb21lIG5vdGlmaWNhdGlvbnM7IHVuZGVmaW5lZCBldmVyeXdoZXJlIGVsc2VcbiAgICAgIGlmICh0eXBlb2YgaWdub3JlVHJpbSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZGF0YU9iamVjdCA9IHJlbW92ZVVuc3VwcG9ydGVkQ2hhcnMoZGF0YU9iamVjdCwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNilbX2xvZ2dlciQ2XSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNPYmplY3RFbXB0eShfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ2KVtfbG9nZ2VyJDZdLnd6cmtFcnJvcikpIHtcbiAgICAgICAgZGF0YU9iamVjdC53enJrX2Vycm9yID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNilbX2xvZ2dlciQ2XS53enJrRXJyb3I7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0ud3pya0Vycm9yID0ge307XG4gICAgICB9XG5cbiAgICAgIGRhdGFPYmplY3QuaWQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkMilbX2FjY291bnQkMl0uaWQ7XG5cbiAgICAgIGlmIChpc1ZhbHVlVmFsaWQoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UkMilbX2RldmljZSQyXS5nY29va2llKSkge1xuICAgICAgICBkYXRhT2JqZWN0LmcgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSQyKVtfZGV2aWNlJDJdLmdjb29raWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG9iaiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbiQyKVtfc2Vzc2lvbiQyXS5nZXRTZXNzaW9uQ29va2llT2JqZWN0KCk7XG5cbiAgICAgIGRhdGFPYmplY3QucyA9IG9iai5zOyAvLyBzZXNzaW9uIGNvb2tpZVxuXG4gICAgICBkYXRhT2JqZWN0LnBnID0gdHlwZW9mIG9iai5wID09PSAndW5kZWZpbmVkJyA/IDEgOiBvYmoucDsgLy8gUGFnZSBjb3VudFxuXG4gICAgICBsZXQgcHJvdG8gPSBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbDtcbiAgICAgIHByb3RvID0gcHJvdG8ucmVwbGFjZSgnOicsICcnKTtcbiAgICAgIGRhdGFPYmplY3QuYWYgPSB7IC4uLmRhdGFPYmplY3QuYWYsXG4gICAgICAgIGxpYjogJ3dlYi1zZGstdjEuOC4yJyxcbiAgICAgICAgcHJvdG9jb2w6IHByb3RvLFxuICAgICAgICAuLi4kY3QuZmx1dHRlclZlcnNpb25cbiAgICAgIH07IC8vIGFwcCBmaWVsZHNcblxuICAgICAgaWYgKHNlc3Npb25TdG9yYWdlLmhhc093blByb3BlcnR5KCdXWlJLX0QnKSkge1xuICAgICAgICBkYXRhT2JqZWN0LmRlYnVnID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGFPYmplY3Q7XG4gICAgfVxuXG4gICAgYWRkRmxhZ3MoZGF0YSkge1xuICAgICAgLy8gY2hlY2sgaWYgY29va2llIHNob3VsZCBiZSBjbGVhcmVkLlxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jbGVhckNvb2tpZSlbX2NsZWFyQ29va2llXSA9IFN0b3JhZ2VNYW5hZ2VyLmdldEFuZENsZWFyTWV0YVByb3AoQ0xFQVIpO1xuXG4gICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jbGVhckNvb2tpZSlbX2NsZWFyQ29va2llXSAhPT0gdW5kZWZpbmVkICYmIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2xlYXJDb29raWUpW19jbGVhckNvb2tpZV0pIHtcbiAgICAgICAgZGF0YS5yYyA9IHRydWU7XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNilbX2xvZ2dlciQ2XS5kZWJ1ZygncmVzZXQgY29va2llIHNlbnQgaW4gcmVxdWVzdCBhbmQgY2xlYXJlZCBmcm9tIG1ldGEgZm9yIGZ1dHVyZSByZXF1ZXN0cy4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkNClbX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDRdKCkpIHtcbiAgICAgICAgY29uc3QgbGFzdFN5bmNUaW1lID0gU3RvcmFnZU1hbmFnZXIuZ2V0TWV0YVByb3AoJ2xzVGltZScpO1xuICAgICAgICBjb25zdCBleHBpcnlTZWNvbmRzID0gU3RvcmFnZU1hbmFnZXIuZ2V0TWV0YVByb3AoJ2V4VHMnKTsgLy8gZHN5bmMgbm90IGZvdW5kIGluIGxvY2FsIHN0b3JhZ2UgLSBnZXQgZGF0YSBmcm9tIHNlcnZlclxuXG4gICAgICAgIGlmICh0eXBlb2YgbGFzdFN5bmNUaW1lID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgZXhwaXJ5U2Vjb25kcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBkYXRhLmRzeW5jID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBub3cgPSBnZXROb3coKTsgLy8gbGFzdCBzeW5jIHRpbWUgaGFzIGV4cGlyZWQgLSBnZXQgZnJlc2ggZGF0YSBmcm9tIHNlcnZlclxuXG4gICAgICAgIGlmIChsYXN0U3luY1RpbWUgKyBleHBpcnlTZWNvbmRzIDwgbm93KSB7XG4gICAgICAgICAgZGF0YS5kc3luYyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHNhdmVzIHVybCB0byBiYWNrdXAgY2FjaGUgYW5kIGZpcmVzIHRoZSByZXF1ZXN0XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG92ZXJyaWRlIHdoZXRoZXIgdGhlIHJlcXVlc3QgY2FuIGdvIHRocm91Z2ggb3Igbm90XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBzZW5kT1VMRmxhZyAtIHRydWUgaW4gY2FzZSBvZiBhIE9uIFVzZXIgTG9naW4gcmVxdWVzdFxuICAgICAqL1xuXG5cbiAgICBzYXZlQW5kRmlyZVJlcXVlc3QodXJsLCBvdmVycmlkZSwgc2VuZE9VTEZsYWcsIGV2dE5hbWUpIHtcbiAgICAgIGNvbnN0IG5vdyA9IGdldE5vdygpO1xuICAgICAgdXJsID0gYWRkVG9VUkwodXJsLCAncm4nLCArKyRjdC5nbG9iYWxDYWNoZS5SRVFfTik7XG4gICAgICBjb25zdCBkYXRhID0gdXJsICsgJyZpPScgKyBub3cgKyAnJnNuPScgKyBzZXFObztcbiAgICAgIFN0b3JhZ2VNYW5hZ2VyLmJhY2t1cEV2ZW50KGRhdGEsICRjdC5nbG9iYWxDYWNoZS5SRVFfTiwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNilbX2xvZ2dlciQ2XSk7IC8vIGlmIG9mZmxpbmUgaXMgc2V0IHRvIHRydWUsIHNhdmUgdGhlIHJlcXVlc3QgaW4gYmFja3VwIGFuZCByZXR1cm5cblxuICAgICAgaWYgKCRjdC5vZmZsaW5lKSByZXR1cm47IC8vIGlmIHRoZXJlIGlzIG5vIG92ZXJyaWRlXG4gICAgICAvLyBhbmQgYW4gT1VMIHJlcXVlc3QgaXMgbm90IGluIHByb2dyZXNzXG4gICAgICAvLyB0aGVuIHByb2Nlc3MgdGhlIHJlcXVlc3QgYXMgaXQgaXNcbiAgICAgIC8vIGVsc2UgYmxvY2sgdGhlIHJlcXVlc3RcbiAgICAgIC8vIG5vdGUgLSAkY3QuYmxvY2tSZXF1ZXN0IHNob3VsZCBpZGVhbGx5IGJlIHVzZWQgZm9yIG92ZXJyaWRlXG5cbiAgICAgIGlmICgoIW92ZXJyaWRlIHx8IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2xlYXJDb29raWUpW19jbGVhckNvb2tpZV0gIT09IHVuZGVmaW5lZCAmJiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NsZWFyQ29va2llKVtfY2xlYXJDb29raWVdKSAmJiAhd2luZG93LmlzT1VMSW5Qcm9ncmVzcykge1xuICAgICAgICBpZiAobm93ID09PSByZXF1ZXN0VGltZSkge1xuICAgICAgICAgIHNlcU5vKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVxdWVzdFRpbWUgPSBub3c7XG4gICAgICAgICAgc2VxTm8gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgd2luZG93Lm91bFJlcU4gPSAkY3QuZ2xvYmFsQ2FjaGUuUkVRX047XG4gICAgICAgIFJlcXVlc3REaXNwYXRjaGVyLmZpcmVSZXF1ZXN0KGRhdGEsIGZhbHNlLCBzZW5kT1VMRmxhZywgZXZ0TmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ2KVtfbG9nZ2VyJDZdLmRlYnVnKFwiTm90IGZpcmVkIGR1ZSB0byBvdmVycmlkZSAtIFwiLmNvbmNhdCgkY3QuYmxvY2tSZXF1ZXN0LCBcIiBvciBjbGVhckNvb2tpZSAtIFwiKS5jb25jYXQoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jbGVhckNvb2tpZSlbX2NsZWFyQ29va2llXSwgXCIgb3IgT1VMIHJlcXVlc3QgaW4gcHJvZ3Jlc3MgLSBcIikuY29uY2F0KHdpbmRvdy5pc09VTEluUHJvZ3Jlc3MpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB1bnJlZ2lzdGVyVG9rZW5Gb3JHdWlkKGdpdmVuR1VJRCkge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShQVVNIX1NVQlNDUklQVElPTl9EQVRBKTsgLy8gU2VuZCB1bnJlZ2lzdGVyIGV2ZW50IG9ubHkgd2hlbiB0b2tlbiBpcyBhdmFpbGFibGVcblxuICAgICAgaWYgKHBheWxvYWQpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHt9O1xuICAgICAgICBkYXRhLnR5cGUgPSAnZGF0YSc7XG5cbiAgICAgICAgaWYgKGlzVmFsdWVWYWxpZChnaXZlbkdVSUQpKSB7XG4gICAgICAgICAgZGF0YS5nID0gZ2l2ZW5HVUlEO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YS5hY3Rpb24gPSAndW5yZWdpc3Rlcic7XG4gICAgICAgIGRhdGEuaWQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkMilbX2FjY291bnQkMl0uaWQ7XG5cbiAgICAgICAgY29uc3Qgb2JqID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uJDIpW19zZXNzaW9uJDJdLmdldFNlc3Npb25Db29raWVPYmplY3QoKTtcblxuICAgICAgICBkYXRhLnMgPSBvYmouczsgLy8gc2Vzc2lvbiBjb29raWVcblxuICAgICAgICBjb25zdCBjb21wcmVzc2VkRGF0YSA9IGNvbXByZXNzRGF0YShKU09OLnN0cmluZ2lmeShkYXRhKSwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNilbX2xvZ2dlciQ2XSk7XG5cbiAgICAgICAgbGV0IHBhZ2VMb2FkVXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDIpW19hY2NvdW50JDJdLmRhdGFQb3N0VVJMO1xuXG4gICAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICd0eXBlJywgJ2RhdGEnKTtcbiAgICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ2QnLCBjb21wcmVzc2VkRGF0YSk7XG4gICAgICAgIFJlcXVlc3REaXNwYXRjaGVyLmZpcmVSZXF1ZXN0KHBhZ2VMb2FkVXJsLCB0cnVlKTtcbiAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShGSVJFX1BVU0hfVU5SRUdJU1RFUkVELCBmYWxzZSk7XG4gICAgICB9IC8vIFJFR0lTVEVSIFRPS0VOXG5cblxuICAgICAgdGhpcy5yZWdpc3RlclRva2VuKHBheWxvYWQpO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyVG9rZW4ocGF5bG9hZCkge1xuICAgICAgaWYgKCFwYXlsb2FkKSByZXR1cm47IC8vIGFkZCBnY29va2llIGV0YyB0byB0aGUgcGF5bG9hZFxuXG4gICAgICBwYXlsb2FkID0gdGhpcy5hZGRTeXN0ZW1EYXRhVG9PYmplY3QocGF5bG9hZCwgdHJ1ZSk7XG4gICAgICBwYXlsb2FkID0gSlNPTi5zdHJpbmdpZnkocGF5bG9hZCk7XG5cbiAgICAgIGxldCBwYWdlTG9hZFVybCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQyKVtfYWNjb3VudCQyXS5kYXRhUG9zdFVSTDtcblxuICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ3R5cGUnLCAnZGF0YScpO1xuICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ2QnLCBjb21wcmVzc0RhdGEocGF5bG9hZCwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNilbX2xvZ2dlciQ2XSkpO1xuICAgICAgUmVxdWVzdERpc3BhdGNoZXIuZmlyZVJlcXVlc3QocGFnZUxvYWRVcmwpOyAvLyBzZXQgaW4gbG9jYWxzdG9yYWdlXG5cbiAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmUoV0VCUFVTSF9MU19LRVksICdvaycpO1xuICAgIH1cblxuICAgIHByb2Nlc3NFdmVudChkYXRhKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FkZFRvTG9jYWxFdmVudE1hcClbX2FkZFRvTG9jYWxFdmVudE1hcF0oZGF0YS5ldnROYW1lKTtcblxuICAgICAgZGF0YSA9IHRoaXMuYWRkU3lzdGVtRGF0YVRvT2JqZWN0KGRhdGEsIHVuZGVmaW5lZCk7XG4gICAgICB0aGlzLmFkZEZsYWdzKGRhdGEpO1xuICAgICAgZGF0YVtDQU1QX0NPT0tJRV9OQU1FXSA9IGdldENhbXBhaWduT2JqRm9yTGMoKTtcbiAgICAgIGNvbnN0IGNvbXByZXNzZWREYXRhID0gY29tcHJlc3NEYXRhKEpTT04uc3RyaW5naWZ5KGRhdGEpLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ2KVtfbG9nZ2VyJDZdKTtcblxuICAgICAgbGV0IHBhZ2VMb2FkVXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDIpW19hY2NvdW50JDJdLmRhdGFQb3N0VVJMO1xuXG4gICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAndHlwZScsIEVWVF9QVVNIKTtcbiAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICdkJywgY29tcHJlc3NlZERhdGEpO1xuICAgICAgdGhpcy5zYXZlQW5kRmlyZVJlcXVlc3QocGFnZUxvYWRVcmwsICRjdC5ibG9ja1JlcXVlc3QsIGZhbHNlLCBkYXRhLmV2dE5hbWUpO1xuICAgIH1cblxuICAgIHBvc3QodXJsLCBib2R5KSB7XG4gICAgICByZXR1cm4gZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9LFxuICAgICAgICBib2R5OiBib2R5XG4gICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IHJlc3BvbnNlO1xuICAgICAgfSkudGhlbihkYXRhID0+IHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNilbX2xvZ2dlciQ2XS5kZWJ1ZygnU3luYyBkYXRhIHN1Y2Nlc3NmdWwnLCBkYXRhKTtcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH0pLmNhdGNoKGUgPT4ge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ2KVtfbG9nZ2VyJDZdLmRlYnVnKCdFcnJvciBpbiBzeW5jaW5nIHZhcmlhYmxlcycsIGUpO1xuXG4gICAgICAgIHRocm93IGU7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgfVxuXG4gIHZhciBfYWRkVG9Mb2NhbEV2ZW50TWFwMiA9IGZ1bmN0aW9uIF9hZGRUb0xvY2FsRXZlbnRNYXAyKGV2dE5hbWUpIHtcbiAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgIGlmICh0eXBlb2YgJGN0Lmdsb2JhbEV2ZW50c01hcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgJGN0Lmdsb2JhbEV2ZW50c01hcCA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShFVl9DT09LSUUpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgJGN0Lmdsb2JhbEV2ZW50c01hcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAkY3QuZ2xvYmFsRXZlbnRzTWFwID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3Qgbm93VHMgPSBnZXROb3coKTtcbiAgICAgIGxldCBldnREZXRhaWwgPSAkY3QuZ2xvYmFsRXZlbnRzTWFwW2V2dE5hbWVdO1xuXG4gICAgICBpZiAodHlwZW9mIGV2dERldGFpbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZXZ0RGV0YWlsWzJdID0gbm93VHM7XG4gICAgICAgIGV2dERldGFpbFswXSsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXZ0RGV0YWlsID0gW107XG4gICAgICAgIGV2dERldGFpbC5wdXNoKDEpO1xuICAgICAgICBldnREZXRhaWwucHVzaChub3dUcyk7XG4gICAgICAgIGV2dERldGFpbC5wdXNoKG5vd1RzKTtcbiAgICAgIH1cblxuICAgICAgJGN0Lmdsb2JhbEV2ZW50c01hcFtldnROYW1lXSA9IGV2dERldGFpbDtcbiAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoRVZfQ09PS0lFLCAkY3QuZ2xvYmFsRXZlbnRzTWFwKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIF9yZXF1ZXN0JDQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInJlcXVlc3RcIik7XG5cbiAgdmFyIF9hY2NvdW50JDMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImFjY291bnRcIik7XG5cbiAgdmFyIF9vbGRWYWx1ZXMkMyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwib2xkVmFsdWVzXCIpO1xuXG4gIHZhciBfbG9nZ2VyJDcgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImxvZ2dlclwiKTtcblxuICB2YXIgX3Byb2Nlc3NQcml2YWN5QXJyYXkgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInByb2Nlc3NQcml2YWN5QXJyYXlcIik7XG5cbiAgY2xhc3MgUHJpdmFjeSBleHRlbmRzIEFycmF5IHtcbiAgICBjb25zdHJ1Y3RvcihfcmVmLCB2YWx1ZXMpIHtcbiAgICAgIGxldCB7XG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIGFjY291bnQsXG4gICAgICAgIGxvZ2dlclxuICAgICAgfSA9IF9yZWY7XG4gICAgICBzdXBlcigpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9wcm9jZXNzUHJpdmFjeUFycmF5LCB7XG4gICAgICAgIHZhbHVlOiBfcHJvY2Vzc1ByaXZhY3lBcnJheTJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9yZXF1ZXN0JDQsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9hY2NvdW50JDMsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9vbGRWYWx1ZXMkMywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2xvZ2dlciQ3LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDcpW19sb2dnZXIkN10gPSBsb2dnZXI7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNClbX3JlcXVlc3QkNF0gPSByZXF1ZXN0O1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDMpW19hY2NvdW50JDNdID0gYWNjb3VudDtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzJDMpW19vbGRWYWx1ZXMkM10gPSB2YWx1ZXM7XG4gICAgfVxuXG4gICAgcHVzaCgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBwcml2YWN5QXJyID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBwcml2YWN5QXJyW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICBpZiAoJGN0LmlzUHJpdmFjeUFyclB1c2hlZCkge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Byb2Nlc3NQcml2YWN5QXJyYXkpW19wcm9jZXNzUHJpdmFjeUFycmF5XSgkY3QucHJpdmFjeUFycmF5Lmxlbmd0aCA+IDAgPyAkY3QucHJpdmFjeUFycmF5IDogcHJpdmFjeUFycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkY3QucHJpdmFjeUFycmF5LnB1c2goLi4ucHJpdmFjeUFycik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIF9wcm9jZXNzT2xkVmFsdWVzKCkge1xuICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzJDMpW19vbGRWYWx1ZXMkM10pIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wcm9jZXNzUHJpdmFjeUFycmF5KVtfcHJvY2Vzc1ByaXZhY3lBcnJheV0oX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMkMylbX29sZFZhbHVlcyQzXSk7XG4gICAgICB9XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzJDMpW19vbGRWYWx1ZXMkM10gPSBudWxsO1xuICAgIH1cblxuICB9XG5cbiAgdmFyIF9wcm9jZXNzUHJpdmFjeUFycmF5MiA9IGZ1bmN0aW9uIF9wcm9jZXNzUHJpdmFjeUFycmF5Mihwcml2YWN5QXJyKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocHJpdmFjeUFycikgJiYgcHJpdmFjeUFyci5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBwcml2YWN5T2JqID0gcHJpdmFjeUFyci5yZWR1Y2UoKHByZXYsIGN1cnIpID0+ICh7IC4uLnByZXYsXG4gICAgICAgIC4uLmN1cnJcbiAgICAgIH0pLCB7fSk7XG4gICAgICBsZXQgZGF0YSA9IHt9O1xuICAgICAgY29uc3QgcHJvZmlsZU9iaiA9IHt9O1xuICAgICAgdmFyIG9wdE91dCA9IGZhbHNlO1xuXG4gICAgICBpZiAocHJpdmFjeU9iai5oYXNPd25Qcm9wZXJ0eShPUFRPVVRfS0VZKSkge1xuICAgICAgICBvcHRPdXQgPSBwcml2YWN5T2JqW09QVE9VVF9LRVldO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0T3V0ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBwcm9maWxlT2JqW0NUX09QVE9VVF9LRVldID0gb3B0T3V0OyAvLyBzaG91bGQgYmUgdHJ1ZSB3aGVuIHVzZXIgd2FudHMgdG8gb3B0IGluXG5cbiAgICAgICAgICAkY3QuaXNPcHRJblJlcXVlc3QgPSAhb3B0T3V0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwcml2YWN5T2JqLmhhc093blByb3BlcnR5KFVTRUlQX0tFWSkpIHtcbiAgICAgICAgY29uc3QgdXNlSVAgPSBwcml2YWN5T2JqW1VTRUlQX0tFWV07XG4gICAgICAgIGNvbnN0IHNob3VsZFVzZUlQID0gdHlwZW9mIHVzZUlQID09PSAnYm9vbGVhbicgPyB1c2VJUCA6IGZhbHNlO1xuICAgICAgICBTdG9yYWdlTWFuYWdlci5zZXRNZXRhUHJvcChVU0VJUF9LRVksIHNob3VsZFVzZUlQKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc09iamVjdEVtcHR5KHByb2ZpbGVPYmopKSB7XG4gICAgICAgIGRhdGEudHlwZSA9ICdwcm9maWxlJztcbiAgICAgICAgZGF0YS5wcm9maWxlID0gcHJvZmlsZU9iajtcbiAgICAgICAgZGF0YSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ0KVtfcmVxdWVzdCQ0XS5hZGRTeXN0ZW1EYXRhVG9PYmplY3QoZGF0YSwgdW5kZWZpbmVkKTtcbiAgICAgICAgY29uc3QgY29tcHJlc3NlZERhdGEgPSBjb21wcmVzc0RhdGEoSlNPTi5zdHJpbmdpZnkoZGF0YSksIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDcpW19sb2dnZXIkN10pO1xuXG4gICAgICAgIGxldCBwYWdlTG9hZFVybCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQzKVtfYWNjb3VudCQzXS5kYXRhUG9zdFVSTDtcblxuICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAndHlwZScsIEVWVF9QVVNIKTtcbiAgICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ2QnLCBjb21wcmVzc2VkRGF0YSk7XG4gICAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsIE9QVE9VVF9LRVksIG9wdE91dCA/ICd0cnVlJyA6ICdmYWxzZScpO1xuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ0KVtfcmVxdWVzdCQ0XS5zYXZlQW5kRmlyZVJlcXVlc3QocGFnZUxvYWRVcmwsICRjdC5ibG9ja1JlcXVlc3QpO1xuXG4gICAgICAgIHByaXZhY3lBcnIuc3BsaWNlKDAsIHByaXZhY3lBcnIubGVuZ3RoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIF9vbGRWYWx1ZXMkNCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwib2xkVmFsdWVzXCIpO1xuXG4gIHZhciBfbG9nZ2VyJDggPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImxvZ2dlclwiKTtcblxuICB2YXIgX3JlcXVlc3QkNSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicmVxdWVzdFwiKTtcblxuICB2YXIgX2FjY291bnQkNCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYWNjb3VudFwiKTtcblxuICB2YXIgX3dpekFsZXJ0SlNQYXRoID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJ3aXpBbGVydEpTUGF0aFwiKTtcblxuICB2YXIgX2ZjbVB1YmxpY0tleSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZmNtUHVibGljS2V5XCIpO1xuXG4gIHZhciBfc2V0VXBXZWJQdXNoID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJzZXRVcFdlYlB1c2hcIik7XG5cbiAgdmFyIF9zZXRVcFdlYlB1c2hOb3RpZmljYXRpb25zID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJzZXRVcFdlYlB1c2hOb3RpZmljYXRpb25zXCIpO1xuXG4gIHZhciBfc2V0QXBwbGljYXRpb25TZXJ2ZXJLZXkgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInNldEFwcGxpY2F0aW9uU2VydmVyS2V5XCIpO1xuXG4gIHZhciBfc2V0VXBTYWZhcmlOb3RpZmljYXRpb25zID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJzZXRVcFNhZmFyaU5vdGlmaWNhdGlvbnNcIik7XG5cbiAgdmFyIF9zZXRVcENocm9tZUZpcmVmb3hOb3RpZmljYXRpb25zID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJzZXRVcENocm9tZUZpcmVmb3hOb3RpZmljYXRpb25zXCIpO1xuXG4gIHZhciBfYWRkV2l6QWxlcnRKUyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYWRkV2l6QWxlcnRKU1wiKTtcblxuICB2YXIgX3JlbW92ZVdpekFsZXJ0SlMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInJlbW92ZVdpekFsZXJ0SlNcIik7XG5cbiAgdmFyIF9oYW5kbGVOb3RpZmljYXRpb25SZWdpc3RyYXRpb24gPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImhhbmRsZU5vdGlmaWNhdGlvblJlZ2lzdHJhdGlvblwiKTtcblxuICBjbGFzcyBOb3RpZmljYXRpb25IYW5kbGVyIGV4dGVuZHMgQXJyYXkge1xuICAgIGNvbnN0cnVjdG9yKF9yZWYsIHZhbHVlcykge1xuICAgICAgbGV0IHtcbiAgICAgICAgbG9nZ2VyLFxuICAgICAgICBzZXNzaW9uLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBhY2NvdW50XG4gICAgICB9ID0gX3JlZjtcbiAgICAgIHN1cGVyKCk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2hhbmRsZU5vdGlmaWNhdGlvblJlZ2lzdHJhdGlvbiwge1xuICAgICAgICB2YWx1ZTogX2hhbmRsZU5vdGlmaWNhdGlvblJlZ2lzdHJhdGlvbjJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9yZW1vdmVXaXpBbGVydEpTLCB7XG4gICAgICAgIHZhbHVlOiBfcmVtb3ZlV2l6QWxlcnRKUzJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9hZGRXaXpBbGVydEpTLCB7XG4gICAgICAgIHZhbHVlOiBfYWRkV2l6QWxlcnRKUzJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9zZXRVcENocm9tZUZpcmVmb3hOb3RpZmljYXRpb25zLCB7XG4gICAgICAgIHZhbHVlOiBfc2V0VXBDaHJvbWVGaXJlZm94Tm90aWZpY2F0aW9uczJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9zZXRVcFNhZmFyaU5vdGlmaWNhdGlvbnMsIHtcbiAgICAgICAgdmFsdWU6IF9zZXRVcFNhZmFyaU5vdGlmaWNhdGlvbnMyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfc2V0QXBwbGljYXRpb25TZXJ2ZXJLZXksIHtcbiAgICAgICAgdmFsdWU6IF9zZXRBcHBsaWNhdGlvblNlcnZlcktleTJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9zZXRVcFdlYlB1c2hOb3RpZmljYXRpb25zLCB7XG4gICAgICAgIHZhbHVlOiBfc2V0VXBXZWJQdXNoTm90aWZpY2F0aW9uczJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9zZXRVcFdlYlB1c2gsIHtcbiAgICAgICAgdmFsdWU6IF9zZXRVcFdlYlB1c2gyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfb2xkVmFsdWVzJDQsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9sb2dnZXIkOCwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3JlcXVlc3QkNSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2FjY291bnQkNCwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3dpekFsZXJ0SlNQYXRoLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfZmNtUHVibGljS2V5LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfd2l6QWxlcnRKU1BhdGgpW193aXpBbGVydEpTUGF0aF0gPSAnaHR0cHM6Ly9kMnIxeXAydzdiYnkydS5jbG91ZGZyb250Lm5ldC9qcy93enJrX2RpYWxvZy5taW4uanMnO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9mY21QdWJsaWNLZXkpW19mY21QdWJsaWNLZXldID0gbnVsbDtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzJDQpW19vbGRWYWx1ZXMkNF0gPSB2YWx1ZXM7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ4KVtfbG9nZ2VyJDhdID0gbG9nZ2VyO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDUpW19yZXF1ZXN0JDVdID0gcmVxdWVzdDtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ0KVtfYWNjb3VudCQ0XSA9IGFjY291bnQ7XG4gICAgfVxuXG4gICAgcHVzaCgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBkaXNwbGF5QXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgZGlzcGxheUFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2V0VXBXZWJQdXNoKVtfc2V0VXBXZWJQdXNoXShkaXNwbGF5QXJncyk7XG5cbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIF9wcm9jZXNzT2xkVmFsdWVzKCkge1xuICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzJDQpW19vbGRWYWx1ZXMkNF0pIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXRVcFdlYlB1c2gpW19zZXRVcFdlYlB1c2hdKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzJDQpW19vbGRWYWx1ZXMkNF0pO1xuICAgICAgfVxuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQ0KVtfb2xkVmFsdWVzJDRdID0gbnVsbDtcbiAgICB9XG5cbiAgICBfZW5hYmxlV2ViUHVzaChlbmFibGVkLCBhcHBsaWNhdGlvblNlcnZlcktleSkge1xuICAgICAgJGN0LndlYlB1c2hFbmFibGVkID0gZW5hYmxlZDtcblxuICAgICAgaWYgKGFwcGxpY2F0aW9uU2VydmVyS2V5ICE9IG51bGwpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXRBcHBsaWNhdGlvblNlcnZlcktleSlbX3NldEFwcGxpY2F0aW9uU2VydmVyS2V5XShhcHBsaWNhdGlvblNlcnZlcktleSk7XG4gICAgICB9XG5cbiAgICAgIGlmICgkY3Qud2ViUHVzaEVuYWJsZWQgJiYgJGN0Lm5vdGlmQXBpLm5vdGlmRW5hYmxlZEZyb21BcGkpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9oYW5kbGVOb3RpZmljYXRpb25SZWdpc3RyYXRpb24pW19oYW5kbGVOb3RpZmljYXRpb25SZWdpc3RyYXRpb25dKCRjdC5ub3RpZkFwaS5kaXNwbGF5QXJncyk7XG4gICAgICB9IGVsc2UgaWYgKCEkY3Qud2ViUHVzaEVuYWJsZWQgJiYgJGN0Lm5vdGlmQXBpLm5vdGlmRW5hYmxlZEZyb21BcGkpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOClbX2xvZ2dlciQ4XS5lcnJvcignRW5zdXJlIHRoYXQgd2ViIHB1c2ggbm90aWZpY2F0aW9ucyBhcmUgZnVsbHkgZW5hYmxlZCBhbmQgaW50ZWdyYXRlZCBiZWZvcmUgcmVxdWVzdGluZyB0aGVtJyk7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICB2YXIgX3NldFVwV2ViUHVzaDIgPSBmdW5jdGlvbiBfc2V0VXBXZWJQdXNoMihkaXNwbGF5QXJncykge1xuICAgIGlmICgkY3Qud2ViUHVzaEVuYWJsZWQgJiYgZGlzcGxheUFyZ3MubGVuZ3RoID4gMCkge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9oYW5kbGVOb3RpZmljYXRpb25SZWdpc3RyYXRpb24pW19oYW5kbGVOb3RpZmljYXRpb25SZWdpc3RyYXRpb25dKGRpc3BsYXlBcmdzKTtcbiAgICB9IGVsc2UgaWYgKCRjdC53ZWJQdXNoRW5hYmxlZCA9PSBudWxsICYmIGRpc3BsYXlBcmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICRjdC5ub3RpZkFwaS5ub3RpZkVuYWJsZWRGcm9tQXBpID0gdHJ1ZTtcbiAgICAgICRjdC5ub3RpZkFwaS5kaXNwbGF5QXJncyA9IGRpc3BsYXlBcmdzLnNsaWNlKCk7XG4gICAgfSBlbHNlIGlmICgkY3Qud2ViUHVzaEVuYWJsZWQgPT09IGZhbHNlICYmIGRpc3BsYXlBcmdzLmxlbmd0aCA+IDApIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDgpW19sb2dnZXIkOF0uZXJyb3IoJ01ha2Ugc3VyZSBwdXNoIG5vdGlmaWNhdGlvbnMgYXJlIGZ1bGx5IGVuYWJsZWQgYW5kIGludGVncmF0ZWQnKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIF9zZXRVcFdlYlB1c2hOb3RpZmljYXRpb25zMiA9IGZ1bmN0aW9uIF9zZXRVcFdlYlB1c2hOb3RpZmljYXRpb25zMihzdWJzY3JpcHRpb25DYWxsYmFjaywgc2VydmljZVdvcmtlclBhdGgsIGFwbnNXZWJQdXNoSWQsIGFwbnNTZXJ2aWNlVXJsKSB7XG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lJykgIT09IC0xIHx8IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpICE9PSAtMSkge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXRVcENocm9tZUZpcmVmb3hOb3RpZmljYXRpb25zKVtfc2V0VXBDaHJvbWVGaXJlZm94Tm90aWZpY2F0aW9uc10oc3Vic2NyaXB0aW9uQ2FsbGJhY2ssIHNlcnZpY2VXb3JrZXJQYXRoKTtcbiAgICB9IGVsc2UgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignU2FmYXJpJykgIT09IC0xKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3NldFVwU2FmYXJpTm90aWZpY2F0aW9ucylbX3NldFVwU2FmYXJpTm90aWZpY2F0aW9uc10oc3Vic2NyaXB0aW9uQ2FsbGJhY2ssIGFwbnNXZWJQdXNoSWQsIGFwbnNTZXJ2aWNlVXJsKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIF9zZXRBcHBsaWNhdGlvblNlcnZlcktleTIgPSBmdW5jdGlvbiBfc2V0QXBwbGljYXRpb25TZXJ2ZXJLZXkyKGFwcGxpY2F0aW9uU2VydmVyS2V5KSB7XG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9mY21QdWJsaWNLZXkpW19mY21QdWJsaWNLZXldID0gYXBwbGljYXRpb25TZXJ2ZXJLZXk7XG4gIH07XG5cbiAgdmFyIF9zZXRVcFNhZmFyaU5vdGlmaWNhdGlvbnMyID0gZnVuY3Rpb24gX3NldFVwU2FmYXJpTm90aWZpY2F0aW9uczIoc3Vic2NyaXB0aW9uQ2FsbGJhY2ssIGFwbnNXZWJQdXNoSWQsIGFwbnNTZXJ2aWNlVXJsKSB7XG4gICAgLy8gZW5zdXJlIHRoYXQgcHJvcGVyIGFyZ3VtZW50cyBhcmUgcGFzc2VkXG4gICAgaWYgKHR5cGVvZiBhcG5zV2ViUHVzaElkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOClbX2xvZ2dlciQ4XS5lcnJvcignRW5zdXJlIHRoYXQgQVBOUyBXZWIgUHVzaCBJRCBpcyBzdXBwbGllZCcpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgYXBuc1NlcnZpY2VVcmwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ4KVtfbG9nZ2VyJDhdLmVycm9yKCdFbnN1cmUgdGhhdCBBUE5TIFdlYiBQdXNoIHNlcnZpY2UgcGF0aCBpcyBzdXBwbGllZCcpO1xuICAgIH1cblxuICAgIGlmICgnc2FmYXJpJyBpbiB3aW5kb3cgJiYgJ3B1c2hOb3RpZmljYXRpb24nIGluIHdpbmRvdy5zYWZhcmkpIHtcbiAgICAgIHdpbmRvdy5zYWZhcmkucHVzaE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbihhcG5zU2VydmljZVVybCwgYXBuc1dlYlB1c2hJZCwge30sIHN1YnNjcmlwdGlvbiA9PiB7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb24ucGVybWlzc2lvbiA9PT0gJ2dyYW50ZWQnKSB7XG4gICAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uRGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3Vic2NyaXB0aW9uKSk7XG4gICAgICAgICAgc3Vic2NyaXB0aW9uRGF0YS5lbmRwb2ludCA9IHN1YnNjcmlwdGlvbi5kZXZpY2VUb2tlbjtcbiAgICAgICAgICBzdWJzY3JpcHRpb25EYXRhLmJyb3dzZXIgPSAnU2FmYXJpJztcbiAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKFBVU0hfU1VCU0NSSVBUSU9OX0RBVEEsIHN1YnNjcmlwdGlvbkRhdGEpO1xuXG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDUpW19yZXF1ZXN0JDVdLnJlZ2lzdGVyVG9rZW4oc3Vic2NyaXB0aW9uRGF0YSk7XG5cbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ4KVtfbG9nZ2VyJDhdLmluZm8oJ1NhZmFyaSBXZWIgUHVzaCByZWdpc3RlcmVkLiBEZXZpY2UgVG9rZW46ICcgKyBzdWJzY3JpcHRpb24uZGV2aWNlVG9rZW4pO1xuICAgICAgICB9IGVsc2UgaWYgKHN1YnNjcmlwdGlvbi5wZXJtaXNzaW9uID09PSAnZGVuaWVkJykge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDgpW19sb2dnZXIkOF0uaW5mbygnRXJyb3Igc3Vic2NyaWJpbmcgdG8gU2FmYXJpIHdlYiBwdXNoJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgX3NldFVwQ2hyb21lRmlyZWZveE5vdGlmaWNhdGlvbnMyID0gZnVuY3Rpb24gX3NldFVwQ2hyb21lRmlyZWZveE5vdGlmaWNhdGlvbnMyKHN1YnNjcmlwdGlvbkNhbGxiYWNrLCBzZXJ2aWNlV29ya2VyUGF0aCkge1xuICAgIGxldCByZWdpc3RyYXRpb25TY29wZSA9ICcnO1xuXG4gICAgaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IpIHtcbiAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKHNlcnZpY2VXb3JrZXJQYXRoKS50aGVuKHJlZ2lzdHJhdGlvbiA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgX193enJrX2FjY291bnRfaWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgIC8vIHNob3BpZnkgYWNjb3VudHMgLCBzaW5jZSB0aGUgc2VydmljZSB3b3JrZXIgaXMgbm90IGF0IHJvb3QsIHNlcnZpY2VXb3JrZXIucmVhZHkgaXMgbmV2ZXIgcmVzb2x2ZWQuXG4gICAgICAgICAgLy8gaGVuY2UgYWRkIGEgdGltZW91dCBhbmQgaG9wZSBzZXJ2aWNlV3Jva2VyIGlzIHJlYWR5IHdpdGhpbiB0aGF0IHRpbWUuXG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKHJlZ2lzdHJhdGlvbiksIDUwMDApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlZ2lzdHJhdGlvblNjb3BlID0gcmVnaXN0cmF0aW9uLnNjb3BlOyAvLyBJRiBTRVJWSUNFIFdPUktFUiBJUyBBVCBST09ULCBSRVRVUk4gVEhFIFJFQURZIFBST01JU0VcbiAgICAgICAgLy8gRUxTRSBJRiBDSFJPTUUgUkVUVVJOIFBST01JU0UgQUZURVIgNSBTRUNPTkRTXG4gICAgICAgIC8vIE9SIGdldFJlZ2lzdHJhdGlvbnMgUFJPTUlTRSBJRiBJVFMgRklSRUZPWFxuXG4gICAgICAgIGNvbnN0IHJvb3REaXJSZWdleCA9IC9eKFxcLj8pKFxcLz8pKFteL10qKS5qcyQvO1xuICAgICAgICBjb25zdCBpc1NlcnZpY2VXb3JrZXJBdFJvb3QgPSByb290RGlyUmVnZXgudGVzdChzZXJ2aWNlV29ya2VyUGF0aCk7XG5cbiAgICAgICAgaWYgKGlzU2VydmljZVdvcmtlckF0Um9vdCkge1xuICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWFkeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZShyZWdpc3RyYXRpb24pLCA1MDAwKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5nZXRSZWdpc3RyYXRpb25zKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KS50aGVuKHNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24gPT4ge1xuICAgICAgICAvLyBJVFMgQU4gQVJSQVkgSU4gQ0FTRSBPRiBGSVJFRk9YLCBTTyBVU0UgVEhFIFJFR0lTVFJBVElPTiBXSVRIIFBST1BFUiBTQ09QRVxuICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgIT09IC0xICYmIEFycmF5LmlzQXJyYXkoc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbikpIHtcbiAgICAgICAgICBzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uID0gc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5maWx0ZXIoaSA9PiBpLnNjb3BlID09PSByZWdpc3RyYXRpb25TY29wZSlbMF07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdWJzY3JpYmVPYmogPSB7XG4gICAgICAgICAgdXNlclZpc2libGVPbmx5OiB0cnVlXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZmNtUHVibGljS2V5KVtfZmNtUHVibGljS2V5XSAhPSBudWxsKSB7XG4gICAgICAgICAgc3Vic2NyaWJlT2JqLmFwcGxpY2F0aW9uU2VydmVyS2V5ID0gdXJsQmFzZTY0VG9VaW50OEFycmF5KF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZmNtUHVibGljS2V5KVtfZmNtUHVibGljS2V5XSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLnN1YnNjcmliZShzdWJzY3JpYmVPYmopLnRoZW4oc3Vic2NyaXB0aW9uID0+IHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ4KVtfbG9nZ2VyJDhdLmluZm8oJ1NlcnZpY2UgV29ya2VyIHJlZ2lzdGVyZWQuIEVuZHBvaW50OiAnICsgc3Vic2NyaXB0aW9uLmVuZHBvaW50KTsgLy8gY29udmVydCB0aGUgc3Vic2NyaXB0aW9uIGtleXMgdG8gc3RyaW5nczsgdGhpcyBzZXRzIGl0IHVwIG5pY2VseSBmb3IgcHVzaGluZyB0byBMQ1xuXG5cbiAgICAgICAgICBjb25zdCBzdWJzY3JpcHRpb25EYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzdWJzY3JpcHRpb24pKTsgLy8gcmVtb3ZlIHRoZSBjb21tb24gY2hyb21lL2ZpcmVmb3ggZW5kcG9pbnQgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgdG9rZW5cblxuICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0Nocm9tZScpICE9PSAtMSkge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uRGF0YS5lbmRwb2ludCA9IHN1YnNjcmlwdGlvbkRhdGEuZW5kcG9pbnQuc3BsaXQoJy8nKS5wb3AoKTtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbkRhdGEuYnJvd3NlciA9ICdDaHJvbWUnO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgIT09IC0xKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25EYXRhLmVuZHBvaW50ID0gc3Vic2NyaXB0aW9uRGF0YS5lbmRwb2ludC5zcGxpdCgnLycpLnBvcCgpO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uRGF0YS5icm93c2VyID0gJ0ZpcmVmb3gnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoUFVTSF9TVUJTQ1JJUFRJT05fREFUQSwgc3Vic2NyaXB0aW9uRGF0YSk7XG5cbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNSlbX3JlcXVlc3QkNV0ucmVnaXN0ZXJUb2tlbihzdWJzY3JpcHRpb25EYXRhKTtcblxuICAgICAgICAgIGlmICh0eXBlb2Ygc3Vic2NyaXB0aW9uQ2FsbGJhY2sgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBzdWJzY3JpcHRpb25DYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uQ2FsbGJhY2soKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ4KVtfbG9nZ2VyJDhdLmVycm9yKCdFcnJvciBzdWJzY3JpYmluZzogJyArIGVycm9yKTsgLy8gdW5zdWJzY3JpYmUgZnJvbSB3ZWJwdXNoIGlmIGVycm9yXG5cblxuICAgICAgICAgIHNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCkudGhlbihzdWJzY3JpcHRpb24gPT4ge1xuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKS50aGVuKHN1Y2Nlc3NmdWwgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFlvdSd2ZSBzdWNjZXNzZnVsbHkgdW5zdWJzY3JpYmVkXG4gICAgICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOClbX2xvZ2dlciQ4XS5pbmZvKCdVbnN1YnNjcmlwdGlvbiBzdWNjZXNzZnVsJyk7XG4gICAgICAgICAgICAgIH0pLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFVuc3Vic2NyaXB0aW9uIGZhaWxlZFxuICAgICAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDgpW19sb2dnZXIkOF0uZXJyb3IoJ0Vycm9yIHVuc3Vic2NyaWJpbmc6ICcgKyBlKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOClbX2xvZ2dlciQ4XS5lcnJvcignZXJyb3IgcmVnaXN0ZXJpbmcgc2VydmljZSB3b3JrZXI6ICcgKyBlcnIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBfYWRkV2l6QWxlcnRKUzIgPSBmdW5jdGlvbiBfYWRkV2l6QWxlcnRKUzIoKSB7XG4gICAgY29uc3Qgc2NyaXB0VGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgc2NyaXB0VGFnLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2phdmFzY3JpcHQnKTtcbiAgICBzY3JpcHRUYWcuc2V0QXR0cmlidXRlKCdpZCcsICd3enJrLWFsZXJ0LWpzJyk7XG4gICAgc2NyaXB0VGFnLnNldEF0dHJpYnV0ZSgnc3JjJywgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF93aXpBbGVydEpTUGF0aClbX3dpekFsZXJ0SlNQYXRoXSk7IC8vIGFkZCB0aGUgc2NyaXB0IHRhZyB0byB0aGUgZW5kIG9mIHRoZSBib2R5XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLmFwcGVuZENoaWxkKHNjcmlwdFRhZyk7XG4gICAgcmV0dXJuIHNjcmlwdFRhZztcbiAgfTtcblxuICB2YXIgX3JlbW92ZVdpekFsZXJ0SlMyID0gZnVuY3Rpb24gX3JlbW92ZVdpekFsZXJ0SlMyKCkge1xuICAgIGNvbnN0IHNjcmlwdFRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3enJrLWFsZXJ0LWpzJyk7XG4gICAgc2NyaXB0VGFnLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0VGFnKTtcbiAgfTtcblxuICB2YXIgX2hhbmRsZU5vdGlmaWNhdGlvblJlZ2lzdHJhdGlvbjIgPSBmdW5jdGlvbiBfaGFuZGxlTm90aWZpY2F0aW9uUmVnaXN0cmF0aW9uMihkaXNwbGF5QXJncykge1xuICAgIC8vIG1ha2Ugc3VyZSBldmVyeXRoaW5nIGlzIHNwZWNpZmllZFxuICAgIGxldCB0aXRsZVRleHQ7XG4gICAgbGV0IGJvZHlUZXh0O1xuICAgIGxldCBva0J1dHRvblRleHQ7XG4gICAgbGV0IHJlamVjdEJ1dHRvblRleHQ7XG4gICAgbGV0IG9rQnV0dG9uQ29sb3I7XG4gICAgbGV0IHNraXBEaWFsb2c7XG4gICAgbGV0IGFza0FnYWluVGltZUluU2Vjb25kcztcbiAgICBsZXQgb2tDYWxsYmFjaztcbiAgICBsZXQgcmVqZWN0Q2FsbGJhY2s7XG4gICAgbGV0IHN1YnNjcmlwdGlvbkNhbGxiYWNrO1xuICAgIGxldCBzZXJ2aWNlV29ya2VyUGF0aDtcbiAgICBsZXQgaHR0cHNQb3B1cFBhdGg7XG4gICAgbGV0IGh0dHBzSWZyYW1lUGF0aDtcbiAgICBsZXQgYXBuc1dlYlB1c2hJZDtcbiAgICBsZXQgYXBuc1dlYlB1c2hTZXJ2aWNlVXJsO1xuXG4gICAgaWYgKGRpc3BsYXlBcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgaWYgKGlzT2JqZWN0KGRpc3BsYXlBcmdzWzBdKSkge1xuICAgICAgICBjb25zdCBub3RpZk9iaiA9IGRpc3BsYXlBcmdzWzBdO1xuICAgICAgICB0aXRsZVRleHQgPSBub3RpZk9iai50aXRsZVRleHQ7XG4gICAgICAgIGJvZHlUZXh0ID0gbm90aWZPYmouYm9keVRleHQ7XG4gICAgICAgIG9rQnV0dG9uVGV4dCA9IG5vdGlmT2JqLm9rQnV0dG9uVGV4dDtcbiAgICAgICAgcmVqZWN0QnV0dG9uVGV4dCA9IG5vdGlmT2JqLnJlamVjdEJ1dHRvblRleHQ7XG4gICAgICAgIG9rQnV0dG9uQ29sb3IgPSBub3RpZk9iai5va0J1dHRvbkNvbG9yO1xuICAgICAgICBza2lwRGlhbG9nID0gbm90aWZPYmouc2tpcERpYWxvZztcbiAgICAgICAgYXNrQWdhaW5UaW1lSW5TZWNvbmRzID0gbm90aWZPYmouYXNrQWdhaW5UaW1lSW5TZWNvbmRzO1xuICAgICAgICBva0NhbGxiYWNrID0gbm90aWZPYmoub2tDYWxsYmFjaztcbiAgICAgICAgcmVqZWN0Q2FsbGJhY2sgPSBub3RpZk9iai5yZWplY3RDYWxsYmFjaztcbiAgICAgICAgc3Vic2NyaXB0aW9uQ2FsbGJhY2sgPSBub3RpZk9iai5zdWJzY3JpcHRpb25DYWxsYmFjaztcbiAgICAgICAgc2VydmljZVdvcmtlclBhdGggPSBub3RpZk9iai5zZXJ2aWNlV29ya2VyUGF0aDtcbiAgICAgICAgaHR0cHNQb3B1cFBhdGggPSBub3RpZk9iai5odHRwc1BvcHVwUGF0aDtcbiAgICAgICAgaHR0cHNJZnJhbWVQYXRoID0gbm90aWZPYmouaHR0cHNJZnJhbWVQYXRoO1xuICAgICAgICBhcG5zV2ViUHVzaElkID0gbm90aWZPYmouYXBuc1dlYlB1c2hJZDtcbiAgICAgICAgYXBuc1dlYlB1c2hTZXJ2aWNlVXJsID0gbm90aWZPYmouYXBuc1dlYlB1c2hTZXJ2aWNlVXJsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aXRsZVRleHQgPSBkaXNwbGF5QXJnc1swXTtcbiAgICAgIGJvZHlUZXh0ID0gZGlzcGxheUFyZ3NbMV07XG4gICAgICBva0J1dHRvblRleHQgPSBkaXNwbGF5QXJnc1syXTtcbiAgICAgIHJlamVjdEJ1dHRvblRleHQgPSBkaXNwbGF5QXJnc1szXTtcbiAgICAgIG9rQnV0dG9uQ29sb3IgPSBkaXNwbGF5QXJnc1s0XTtcbiAgICAgIHNraXBEaWFsb2cgPSBkaXNwbGF5QXJnc1s1XTtcbiAgICAgIGFza0FnYWluVGltZUluU2Vjb25kcyA9IGRpc3BsYXlBcmdzWzZdO1xuICAgIH1cblxuICAgIGlmIChza2lwRGlhbG9nID09IG51bGwpIHtcbiAgICAgIHNraXBEaWFsb2cgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoc2VydmljZVdvcmtlclBhdGggPT0gbnVsbCkge1xuICAgICAgc2VydmljZVdvcmtlclBhdGggPSAnL2NsZXZlcnRhcF9zdy5qcyc7XG4gICAgfSAvLyBlbnN1cmUgdGhhdCB0aGUgYnJvd3NlciBzdXBwb3J0cyBub3RpZmljYXRpb25zXG5cblxuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaXNIVFRQID0gaHR0cHNQb3B1cFBhdGggIT0gbnVsbCAmJiBodHRwc0lmcmFtZVBhdGggIT0gbnVsbDsgLy8gbWFrZSBzdXJlIHRoZSBzaXRlIGlzIG9uIGh0dHBzIGZvciBjaHJvbWUgbm90aWZpY2F0aW9uc1xuXG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCAhPT0gJ2h0dHBzOicgJiYgZG9jdW1lbnQubG9jYXRpb24uaG9zdG5hbWUgIT09ICdsb2NhbGhvc3QnICYmICFpc0hUVFApIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDgpW19sb2dnZXIkOF0uZXJyb3IoJ01ha2Ugc3VyZSB5b3UgYXJlIGh0dHBzIG9yIGxvY2FsaG9zdCB0byByZWdpc3RlciBmb3Igbm90aWZpY2F0aW9ucycpO1xuXG4gICAgICByZXR1cm47XG4gICAgfSAvLyByaWdodCBub3csIHdlIG9ubHkgc3VwcG9ydCBDaHJvbWUgVjUwICYgaGlnaGVyICYgRmlyZWZveFxuXG5cbiAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUnKSAhPT0gLTEpIHtcbiAgICAgIGNvbnN0IGNocm9tZUFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQ2hyb21lXFwvKFxcZCspLyk7XG5cbiAgICAgIGlmIChjaHJvbWVBZ2VudCA9PSBudWxsIHx8IHBhcnNlSW50KGNocm9tZUFnZW50WzFdLCAxMCkgPCA1MCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSAhPT0gLTEpIHtcbiAgICAgIGNvbnN0IGZpcmVmb3hBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0ZpcmVmb3hcXC8oXFxkKykvKTtcblxuICAgICAgaWYgKGZpcmVmb3hBZ2VudCA9PSBudWxsIHx8IHBhcnNlSW50KGZpcmVmb3hBZ2VudFsxXSwgMTApIDwgNTApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdTYWZhcmknKSAhPT0gLTEpIHtcbiAgICAgIGNvbnN0IHNhZmFyaUFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvU2FmYXJpXFwvKFxcZCspLyk7XG5cbiAgICAgIGlmIChzYWZhcmlBZ2VudCA9PSBudWxsIHx8IHBhcnNlSW50KHNhZmFyaUFnZW50WzFdLCAxMCkgPCA1MCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIHdlIGNoZWNrIGZvciB0aGUgY29va2llIGluIHNldFVwQ2hyb21lTm90aWZpY2F0aW9ucygpIHRoZSB0b2tlbnMgbWF5IGhhdmUgY2hhbmdlZFxuXG5cbiAgICBpZiAoIWlzSFRUUCkge1xuICAgICAgaWYgKE5vdGlmaWNhdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gaGFuZGxlIG1pZ3JhdGlvbnMgZnJvbSBvdGhlciBzZXJ2aWNlcyAtPiBjaHJvbWUgbm90aWZpY2F0aW9ucyBtYXkgaGF2ZSBhbHJlYWR5IGJlZW4gYXNrZWQgZm9yIGJlZm9yZVxuXG5cbiAgICAgIGlmIChOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PT0gJ2dyYW50ZWQnKSB7XG4gICAgICAgIC8vIHNraXAgdGhlIGRpYWxvZyBhbmQgcmVnaXN0ZXJcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXRVcFdlYlB1c2hOb3RpZmljYXRpb25zKVtfc2V0VXBXZWJQdXNoTm90aWZpY2F0aW9uc10oc3Vic2NyaXB0aW9uQ2FsbGJhY2ssIHNlcnZpY2VXb3JrZXJQYXRoLCBhcG5zV2ViUHVzaElkLCBhcG5zV2ViUHVzaFNlcnZpY2VVcmwpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT09ICdkZW5pZWQnKSB7XG4gICAgICAgIC8vIHdlJ3ZlIGxvc3QgdGhpcyBwcm9maWxlIDonKFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChza2lwRGlhbG9nKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2V0VXBXZWJQdXNoTm90aWZpY2F0aW9ucylbX3NldFVwV2ViUHVzaE5vdGlmaWNhdGlvbnNdKHN1YnNjcmlwdGlvbkNhbGxiYWNrLCBzZXJ2aWNlV29ya2VyUGF0aCwgYXBuc1dlYlB1c2hJZCwgYXBuc1dlYlB1c2hTZXJ2aWNlVXJsKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSAvLyBtYWtlIHN1cmUgdGhlIHJpZ2h0IHBhcmFtZXRlcnMgYXJlIHBhc3NlZFxuXG5cbiAgICBpZiAoIXRpdGxlVGV4dCB8fCAhYm9keVRleHQgfHwgIW9rQnV0dG9uVGV4dCB8fCAhcmVqZWN0QnV0dG9uVGV4dCkge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOClbX2xvZ2dlciQ4XS5lcnJvcignTWlzc2luZyBpbnB1dCBwYXJhbWV0ZXJzOyBwbGVhc2Ugc3BlY2lmeSB0aXRsZSwgYm9keSwgb2sgYnV0dG9uIGFuZCBjYW5jZWwgYnV0dG9uIHRleHQnKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gbWFrZSBzdXJlIG9rQnV0dG9uQ29sb3IgaXMgZm9ybWF0dGVkIHByb3Blcmx5XG5cblxuICAgIGlmIChva0J1dHRvbkNvbG9yID09IG51bGwgfHwgIW9rQnV0dG9uQ29sb3IubWF0Y2goL14jW2EtZlxcZF17Nn0kL2kpKSB7XG4gICAgICBva0J1dHRvbkNvbG9yID0gJyNmMjgwNDYnOyAvLyBkZWZhdWx0IGNvbG9yIGZvciBwb3NpdGl2ZSBidXR0b25cbiAgICB9IC8vIG1ha2Ugc3VyZSB0aGUgdXNlciBpc24ndCBhc2tlZCBmb3Igbm90aWZpY2F0aW9ucyBtb3JlIHRoYW4gYXNrQWdhaW5UaW1lSW5TZWNvbmRzXG5cblxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMDtcblxuICAgIGlmIChTdG9yYWdlTWFuYWdlci5nZXRNZXRhUHJvcCgnbm90aWZfbGFzdF90aW1lJykgPT0gbnVsbCkge1xuICAgICAgU3RvcmFnZU1hbmFnZXIuc2V0TWV0YVByb3AoJ25vdGlmX2xhc3RfdGltZScsIG5vdyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChhc2tBZ2FpblRpbWVJblNlY29uZHMgPT0gbnVsbCkge1xuICAgICAgICAvLyA3IGRheXMgYnkgZGVmYXVsdFxuICAgICAgICBhc2tBZ2FpblRpbWVJblNlY29uZHMgPSA3ICogMjQgKiA2MCAqIDYwO1xuICAgICAgfVxuXG4gICAgICBpZiAobm93IC0gU3RvcmFnZU1hbmFnZXIuZ2V0TWV0YVByb3AoJ25vdGlmX2xhc3RfdGltZScpIDwgYXNrQWdhaW5UaW1lSW5TZWNvbmRzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNvbnRpbnVlIGFza2luZ1xuICAgICAgICBTdG9yYWdlTWFuYWdlci5zZXRNZXRhUHJvcCgnbm90aWZfbGFzdF90aW1lJywgbm93KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNIVFRQKSB7XG4gICAgICAvLyBhZGQgdGhlIGh0dHBzIGlmcmFtZVxuICAgICAgY29uc3QgaHR0cHNJZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICAgIGh0dHBzSWZyYW1lLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTpub25lOycpO1xuICAgICAgaHR0cHNJZnJhbWUuc2V0QXR0cmlidXRlKCdzcmMnLCBodHRwc0lmcmFtZVBhdGgpO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChodHRwc0lmcmFtZSk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGV2ZW50ID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmRhdGEgIT0gbnVsbCkge1xuICAgICAgICAgIGxldCBvYmogPSB7fTtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvYmogPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIG5vdCBhIGNhbGwgZnJvbSBvdXIgaWZyYW1lXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG9iai5zdGF0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAob2JqLmZyb20gPT09ICdjdCcgJiYgb2JqLnN0YXRlID09PSAnbm90Jykge1xuICAgICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FkZFdpekFsZXJ0SlMpW19hZGRXaXpBbGVydEpTXSgpLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgb3VyIHdpenJvY2tldCBwb3B1cFxuICAgICAgICAgICAgICAgIHdpbmRvdy53enJrUGVybWlzc2lvblBvcHVwLndpekFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZVRleHQsXG4gICAgICAgICAgICAgICAgICBib2R5OiBib2R5VGV4dCxcbiAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBva0J1dHRvblRleHQsXG4gICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6IG9rQnV0dG9uQ29sb3IsXG4gICAgICAgICAgICAgICAgICByZWplY3RCdXR0b25UZXh0OiByZWplY3RCdXR0b25UZXh0XG4gICAgICAgICAgICAgICAgfSwgZW5hYmxlZCA9PiB7XG4gICAgICAgICAgICAgICAgICAvLyBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICAgICAgICAgICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHVzZXIgYWNjZXB0ZWQgb24gdGhlIGRpYWxvZyBib3hcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBva0NhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgb2tDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICB9IC8vIHJlZGlyZWN0IHRvIHBvcHVwLmh0bWxcblxuXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKGh0dHBzUG9wdXBQYXRoKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVqZWN0Q2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZWplY3RDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVtb3ZlV2l6QWxlcnRKUylbX3JlbW92ZVdpekFsZXJ0SlNdKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWRkV2l6QWxlcnRKUylbX2FkZFdpekFsZXJ0SlNdKCkub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAvLyBjcmVhdGUgb3VyIHdpenJvY2tldCBwb3B1cFxuICAgICAgICB3aW5kb3cud3pya1Blcm1pc3Npb25Qb3B1cC53aXpBbGVydCh7XG4gICAgICAgICAgdGl0bGU6IHRpdGxlVGV4dCxcbiAgICAgICAgICBib2R5OiBib2R5VGV4dCxcbiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogb2tCdXR0b25UZXh0LFxuICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogb2tCdXR0b25Db2xvcixcbiAgICAgICAgICByZWplY3RCdXR0b25UZXh0OiByZWplY3RCdXR0b25UZXh0XG4gICAgICAgIH0sIGVuYWJsZWQgPT4ge1xuICAgICAgICAgIC8vIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAgICAgICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgICAgICAgIC8vIHRoZSB1c2VyIGFjY2VwdGVkIG9uIHRoZSBkaWFsb2cgYm94XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9rQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgb2tDYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3NldFVwV2ViUHVzaE5vdGlmaWNhdGlvbnMpW19zZXRVcFdlYlB1c2hOb3RpZmljYXRpb25zXShzdWJzY3JpcHRpb25DYWxsYmFjaywgc2VydmljZVdvcmtlclBhdGgsIGFwbnNXZWJQdXNoSWQsIGFwbnNXZWJQdXNoU2VydmljZVVybCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVqZWN0Q2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgcmVqZWN0Q2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlbW92ZVdpekFsZXJ0SlMpW19yZW1vdmVXaXpBbGVydEpTXSgpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4gIHZhciBfdmFyaWFibGVTdG9yZSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwidmFyaWFibGVTdG9yZVwiKTtcblxuICBjbGFzcyBWYXJpYWJsZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGUgVmFyaWFibGUgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge1ZhcmlhYmxlU3RvcmV9IG9wdGlvbnMudmFyaWFibGVTdG9yZSAtIFRoZSBWYXJpYWJsZVN0b3JlIGluc3RhbmNlIGZvciByZWdpc3RyYXRpb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVsbH0gb3B0aW9ucy5uYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHZhcmlhYmxlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3B0aW9ucy5kZWZhdWx0VmFsdWUgLSBUaGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgdmFyaWFibGUuXG4gICAgICogQHBhcmFtIHsqfSBvcHRpb25zLnZhbHVlIC0gVGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIHZhcmlhYmxlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bGx9IG9wdGlvbnMudHlwZSAtIFRoZSB0eXBlIG9mIHRoZSB2YXJpYWJsZSAoc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4pLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5oYWRTdGFydGVkIC0gQSBmbGFnIGluZGljYXRpbmcgd2hldGhlciB0aGUgdmFyaWFibGUgaGFzIHN0YXJ0ZWQgKHVzZWQgaW50ZXJuYWxseSkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbltdfSBvcHRpb25zLnZhbHVlQ2hhbmdlZENhbGxiYWNrcyAtIEFycmF5IHRvIHN0b3JlIGNhbGxiYWNrcyB0byBiZSBleGVjdXRlZCB3aGVuIHRoZSB2YXJpYWJsZSB2YWx1ZSBjaGFuZ2VzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKF9yZWYpIHtcbiAgICAgIGxldCB7XG4gICAgICAgIHZhcmlhYmxlU3RvcmVcbiAgICAgIH0gPSBfcmVmO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF92YXJpYWJsZVN0b3JlLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIHRoaXMubmFtZSA9IG51bGw7XG4gICAgICB0aGlzLmRlZmF1bHRWYWx1ZSA9IG51bGw7XG4gICAgICB0aGlzLnZhbHVlID0gbnVsbDtcbiAgICAgIHRoaXMudHlwZSA9IG51bGw7XG4gICAgICB0aGlzLmhhZFN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMudmFsdWVDaGFuZ2VkQ2FsbGJhY2tzID0gW107XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlU3RvcmUpW192YXJpYWJsZVN0b3JlXSA9IHZhcmlhYmxlU3RvcmU7XG4gICAgfVxuXG4gICAgZ2V0VmFsdWUoKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG5cbiAgICBnZXRkZWZhdWx0VmFsdWUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlZmluZXMgYSBuZXcgdmFyaWFibGUgd2l0aCB0aGUgcHJvdmlkZWQgbmFtZSwgZGVmYXVsdCB2YWx1ZSwgYW5kIHZhcmlhYmxlIHN0b3JlLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSB2YXJpYWJsZS5cbiAgICAgKiBAcGFyYW0geyp9IGRlZmF1bHRWYWx1ZSAtIFRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSB2YXJpYWJsZS5cbiAgICAgKiBAcGFyYW0ge1ZhcmlhYmxlU3RvcmV9IHZhcmlhYmxlU3RvcmUgLSBUaGUgVmFyaWFibGVTdG9yZSBpbnN0YW5jZSBmb3IgcmVnaXN0cmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtWYXJpYWJsZXxudWxsfSAtIFRoZSBjcmVhdGVkIFZhcmlhYmxlIGluc3RhbmNlIG9yIG51bGwgaWYgaW52YWxpZCBwYXJhbWV0ZXJzIGFyZSBwcm92aWRlZC5cbiAgICAgKi9cblxuXG4gICAgc3RhdGljIGRlZmluZShuYW1lLCBkZWZhdWx0VmFsdWUsIHZhcmlhYmxlU3RvcmUpIHtcbiAgICAgIGlmICghbmFtZSB8fCB0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRW1wdHkgb3IgaW52YWxpZCBuYW1lIHBhcmFtZXRlciBwcm92aWRlZC4nKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoJy4nKSB8fCBuYW1lLmVuZHNXaXRoKCcuJykpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignVmFyaWFibGUgbmFtZSBzdGFydHMgb3IgZW5kcyB3aXRoIGEgYC5gIHdoaWNoIGlzIG5vdCBhbGxvd2VkOiAnICsgbmFtZSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0eXBlT2ZEZWZhdWx0VmFsdWUgPSB0eXBlb2YgZGVmYXVsdFZhbHVlO1xuXG4gICAgICBpZiAodHlwZU9mRGVmYXVsdFZhbHVlICE9PSAnc3RyaW5nJyAmJiB0eXBlT2ZEZWZhdWx0VmFsdWUgIT09ICdudW1iZXInICYmIHR5cGVPZkRlZmF1bHRWYWx1ZSAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ09ubHkgcHJpbWl0aXZlIHR5cGVzIChzdHJpbmcsIG51bWJlciwgYm9vbGVhbikgYXJlIGFjY2VwdGVkIGFzIHZhbHVlJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBleGlzdGluZyA9IHZhcmlhYmxlU3RvcmUuZ2V0VmFyaWFibGUobmFtZSk7XG5cbiAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHZhckluc3RhbmNlID0gbmV3IFZhcmlhYmxlKHtcbiAgICAgICAgdmFyaWFibGVTdG9yZVxuICAgICAgfSk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhckluc3RhbmNlLm5hbWUgPSBuYW1lO1xuICAgICAgICB2YXJJbnN0YW5jZS5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIHZhckluc3RhbmNlLnZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICB2YXJJbnN0YW5jZS50eXBlID0gdHlwZU9mRGVmYXVsdFZhbHVlO1xuICAgICAgICB2YXJpYWJsZVN0b3JlLnJlZ2lzdGVyVmFyaWFibGUodmFySW5zdGFuY2UpO1xuICAgICAgICB2YXJJbnN0YW5jZS51cGRhdGUoZGVmYXVsdFZhbHVlKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFySW5zdGFuY2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHZhcmlhYmxlJ3MgdmFsdWUsIHRyaWdnZXJpbmcgY2FsbGJhY2tzIGlmIGhhc1ZhcnNSZXF1ZXN0Q29tcGxldGVkIGlzIHJldHVybmVkIHRydWUuXG4gICAgICogQHBhcmFtIHsqfSBuZXdWYWx1ZSAtIFRoZSBuZXcgdmFsdWUgdG8gYmUgYXNzaWduZWQgdG8gdGhlIHZhcmlhYmxlLlxuICAgICAqL1xuXG5cbiAgICB1cGRhdGUobmV3VmFsdWUpIHtcbiAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgIHRoaXMudmFsdWUgPSBuZXdWYWx1ZTtcblxuICAgICAgaWYgKG5ld1ZhbHVlID09PSBudWxsICYmIG9sZFZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKG5ld1ZhbHVlICE9PSBudWxsICYmIG5ld1ZhbHVlID09PSBvbGRWYWx1ZSAmJiB0aGlzLmhhZFN0YXJ0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZVN0b3JlKVtfdmFyaWFibGVTdG9yZV0uaGFzVmFyc1JlcXVlc3RDb21wbGV0ZWQoKSkge1xuICAgICAgICB0aGlzLmhhZFN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnRyaWdnZXJWYWx1ZUNoYW5nZWQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlcyBhbGwgcmVnaXN0ZXJlZCBjYWxsYmFja3Mgd2hlbiB0aGUgdmFyaWFibGUgdmFsdWUgY2hhbmdlcy5cbiAgICAgKi9cblxuXG4gICAgdHJpZ2dlclZhbHVlQ2hhbmdlZCgpIHtcbiAgICAgIHRoaXMudmFsdWVDaGFuZ2VkQ2FsbGJhY2tzLmZvckVhY2gob25WYWx1ZUNoYW5nZWQgPT4ge1xuICAgICAgICBvblZhbHVlQ2hhbmdlZCh0aGlzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gdGhlIGFycmF5IGFuZCB0cmlnZ2VycyBpdCBpbW1lZGlhdGVseSBpZiB2YXJpYWJsZSByZXF1ZXN0cyBoYXZlIGNvbXBsZXRlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblZhbHVlQ2hhbmdlZCAtIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBhZGRlZC5cbiAgICAgKi9cblxuXG4gICAgYWRkVmFsdWVDaGFuZ2VkQ2FsbGJhY2sob25WYWx1ZUNoYW5nZWQpIHtcbiAgICAgIGlmICghb25WYWx1ZUNoYW5nZWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0ludmFsaWQgY2FsbGJhY2sgcGFyYW1ldGVyIHByb3ZpZGVkLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMudmFsdWVDaGFuZ2VkQ2FsbGJhY2tzLnB1c2gob25WYWx1ZUNoYW5nZWQpO1xuXG4gICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZVN0b3JlKVtfdmFyaWFibGVTdG9yZV0uaGFzVmFyc1JlcXVlc3RDb21wbGV0ZWQoKSkge1xuICAgICAgICBvblZhbHVlQ2hhbmdlZCh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGNhbGxiYWNrIGZ1bmN0aW9uIGZyb20gdGhlIGFycmF5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uVmFsdWVDaGFuZ2VkIC0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIHJlbW92ZWQuXG4gICAgICovXG5cblxuICAgIHJlbW92ZVZhbHVlQ2hhbmdlZENhbGxiYWNrKG9uVmFsdWVDaGFuZ2VkKSB7XG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMudmFsdWVDaGFuZ2VkQ2FsbGJhY2tzLmluZGV4T2Yob25WYWx1ZUNoYW5nZWQpO1xuXG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIHRoaXMudmFsdWVDaGFuZ2VkQ2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgYGhhZFN0YXJ0ZWRgIGZsYWcgdG8gZmFsc2UuXG4gICAgICovXG5cblxuICAgIGNsZWFyU3RhcnRGbGFnKCkge1xuICAgICAgdGhpcy5oYWRTdGFydGVkID0gZmFsc2U7XG4gICAgfVxuXG4gIH1cblxuICB2YXIgX2xvZ2dlciQ5ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJsb2dnZXJcIik7XG5cbiAgdmFyIF9hY2NvdW50JDUgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImFjY291bnRcIik7XG5cbiAgdmFyIF9yZXF1ZXN0JDYgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInJlcXVlc3RcIik7XG5cbiAgdmFyIF9ldmVudCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZXZlbnRcIik7XG5cbiAgdmFyIF92YXJpYWJsZXMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInZhcmlhYmxlc1wiKTtcblxuICB2YXIgX3JlbW90ZVZhcmlhYmxlcyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicmVtb3RlVmFyaWFibGVzXCIpO1xuXG4gIHZhciBfZmV0Y2hDYWxsYmFjayA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZmV0Y2hDYWxsYmFja1wiKTtcblxuICB2YXIgX3ZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3MgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3NcIik7XG5cbiAgdmFyIF9vbmVUaW1lVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrcyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwib25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3NcIik7XG5cbiAgdmFyIF9oYXNWYXJzUmVxdWVzdENvbXBsZXRlZCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiaGFzVmFyc1JlcXVlc3RDb21wbGV0ZWRcIik7XG5cbiAgdmFyIF9ydW5WYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2sgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInJ1blZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja1wiKTtcblxuICBjbGFzcyBWYXJpYWJsZVN0b3JlIHtcbiAgICBjb25zdHJ1Y3RvcihfcmVmKSB7XG4gICAgICBsZXQge1xuICAgICAgICBsb2dnZXIsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIGFjY291bnQsXG4gICAgICAgIGV2ZW50XG4gICAgICB9ID0gX3JlZjtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcnVuVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrLCB7XG4gICAgICAgIHZhbHVlOiBfcnVuVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2xvZ2dlciQ5LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfYWNjb3VudCQ1LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcmVxdWVzdCQ2LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfZXZlbnQsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF92YXJpYWJsZXMsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9yZW1vdGVWYXJpYWJsZXMsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9mZXRjaENhbGxiYWNrLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfdmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrcywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX29uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfaGFzVmFyc1JlcXVlc3RDb21wbGV0ZWQsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ5KVtfbG9nZ2VyJDldID0gbG9nZ2VyO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDUpW19hY2NvdW50JDVdID0gYWNjb3VudDtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ2KVtfcmVxdWVzdCQ2XSA9IHJlcXVlc3Q7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2V2ZW50KVtfZXZlbnRdID0gZXZlbnQ7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlcylbX3ZhcmlhYmxlc10gPSB7fTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVtb3RlVmFyaWFibGVzKVtfcmVtb3RlVmFyaWFibGVzXSA9IHt9O1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzKVtfdmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrc10gPSBbXTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3MpW19vbmVUaW1lVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrc10gPSBbXTtcbiAgICAgICRjdC52YXJpYWJsZVN0b3JlID0gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgdmFyaWFibGUgaW5zdGFuY2UgaW4gdGhlIHN0b3JlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YXJJbnN0YW5jZSAtIFRoZSB2YXJpYWJsZSBpbnN0YW5jZSB0byBiZSByZWdpc3RlcmVkLlxuICAgICAqL1xuXG5cbiAgICByZWdpc3RlclZhcmlhYmxlKHZhckluc3RhbmNlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG5hbWVcbiAgICAgIH0gPSB2YXJJbnN0YW5jZTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVzKVtfdmFyaWFibGVzXVtuYW1lXSA9IHZhckluc3RhbmNlO1xuICAgICAgY29uc29sZS5sb2coJ3JlZ2lzdGVyVmFyaWFibGUnLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlcylbX3ZhcmlhYmxlc10pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSB2YXJpYWJsZSBieSBpdHMgbmFtZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSB2YXJpYWJsZSB0byByZXRyaWV2ZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAtIFRoZSB2YXJpYWJsZSBpbnN0YW5jZS5cbiAgICAgKi9cblxuXG4gICAgZ2V0VmFyaWFibGUobmFtZSkge1xuICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVzKVtfdmFyaWFibGVzXVtuYW1lXTtcbiAgICB9XG5cbiAgICBoYXNWYXJzUmVxdWVzdENvbXBsZXRlZCgpIHtcbiAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2hhc1ZhcnNSZXF1ZXN0Q29tcGxldGVkKVtfaGFzVmFyc1JlcXVlc3RDb21wbGV0ZWRdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTeW5jaHJvbml6ZXMgdmFyaWFibGVzIHdpdGggdGhlIHNlcnZlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN5bmNTdWNjZXNzIC0gQ2FsbGJhY2sgZnVuY3Rpb24gb24gc3VjY2Vzc2Z1bCBzeW5jaHJvbml6YXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb25TeW5jRmFpbHVyZSAtIENhbGxiYWNrIGZ1bmN0aW9uIG9uIHN5bmNocm9uaXphdGlvbiBmYWlsdXJlLlxuICAgICAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgYWNjb3VudCB0b2tlbiBpcyBtaXNzaW5nLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSAtIFRoZSByZXN1bHQgb2YgdGhlIHN5bmNocm9uaXphdGlvbiByZXF1ZXN0LlxuICAgICAqL1xuXG5cbiAgICBzeW5jVmFyaWFibGVzKG9uU3luY1N1Y2Nlc3MsIG9uU3luY0ZhaWx1cmUpIHtcbiAgICAgIGlmICghX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDUpW19hY2NvdW50JDVdLnRva2VuKSB7XG4gICAgICAgIGNvbnN0IG0gPSAnQWNjb3VudCB0b2tlbiBpcyBtaXNzaW5nLic7XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOSlbX2xvZ2dlciQ5XS5lcnJvcihtKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKG0pKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgdHlwZTogJ3ZhcnNQYXlsb2FkJyxcbiAgICAgICAgdmFyczoge31cbiAgICAgIH07XG5cbiAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlcylbX3ZhcmlhYmxlc10pIHtcbiAgICAgICAgcGF5bG9hZC52YXJzW25hbWVdID0ge1xuICAgICAgICAgIGRlZmF1bHRWYWx1ZTogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZXMpW192YXJpYWJsZXNdW25hbWVdLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICB0eXBlOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlcylbX3ZhcmlhYmxlc11bbmFtZV0udHlwZVxuICAgICAgICB9O1xuICAgICAgfSAvLyBDaGVjayBpZiBwYXlsb2FkLnZhcnMgaXMgZW1wdHlcblxuXG4gICAgICBpZiAoT2JqZWN0LmtleXMocGF5bG9hZC52YXJzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc3QgbSA9ICdObyB2YXJpYWJsZXMgYXJlIGRlZmluZWQuJztcblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ5KVtfbG9nZ2VyJDldLmVycm9yKG0pO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IobSkpO1xuICAgICAgfVxuXG4gICAgICBsZXQgbWV0YSA9IHt9O1xuICAgICAgbWV0YSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ2KVtfcmVxdWVzdCQ2XS5hZGRTeXN0ZW1EYXRhVG9PYmplY3QobWV0YSwgdW5kZWZpbmVkKTtcbiAgICAgIG1ldGEudGsgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNSlbX2FjY291bnQkNV0udG9rZW47XG4gICAgICBtZXRhLnR5cGUgPSAnbWV0YSc7XG4gICAgICBjb25zdCBib2R5ID0gSlNPTi5zdHJpbmdpZnkoW21ldGEsIHBheWxvYWRdKTtcblxuICAgICAgY29uc3QgdXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDUpW19hY2NvdW50JDVdLmRhdGFQb3N0UEVVUkw7XG5cbiAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNilbX3JlcXVlc3QkNl0ucG9zdCh1cmwsIGJvZHkpLnRoZW4ociA9PiB7XG4gICAgICAgIGlmIChvblN5bmNTdWNjZXNzICYmIHR5cGVvZiBvblN5bmNTdWNjZXNzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgb25TeW5jU3VjY2VzcyhyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByO1xuICAgICAgfSkuY2F0Y2goZSA9PiB7XG4gICAgICAgIGlmIChvblN5bmNGYWlsdXJlICYmIHR5cGVvZiBvblN5bmNGYWlsdXJlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgb25TeW5jRmFpbHVyZShlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOSlbX2xvZ2dlciQ5XS5lcnJvcignSW52YWxpZCBzeW5jIHBheWxvYWQgb3IgY2xlYXIgdGhlIGV4aXN0aW5nIGRyYWZ0Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDkpW19sb2dnZXIkOV0uZXJyb3IoJ1RoaXMgaXMgbm90IGEgdGVzdCBwcm9maWxlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOSlbX2xvZ2dlciQ5XS5lcnJvcignU3luYyB2YXJpYWJsZSBmYWlsZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IGU7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyB2YXJpYWJsZXMgZnJvbSB0aGUgc2VydmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRmV0Y2hDYWxsYmFjayAtIENhbGxiYWNrIGZ1bmN0aW9uIG9uIGZldGNoIGNvbXBsZXRpb24uXG4gICAgICovXG5cblxuICAgIGZldGNoVmFyaWFibGVzKG9uRmV0Y2hDYWxsYmFjaykge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9ldmVudClbX2V2ZW50XS5wdXNoKFdaUktfRkVUQ0gsIHtcbiAgICAgICAgdDogNFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChvbkZldGNoQ2FsbGJhY2sgJiYgdHlwZW9mIG9uRmV0Y2hDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2ZldGNoQ2FsbGJhY2spW19mZXRjaENhbGxiYWNrXSA9IG9uRmV0Y2hDYWxsYmFjaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtZXJnZVZhcmlhYmxlcyh2YXJzKSB7XG4gICAgICBjb25zb2xlLmxvZygnbXNnIHZhcnMgaXMgJywgdmFycyk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2hhc1ZhcnNSZXF1ZXN0Q29tcGxldGVkKVtfaGFzVmFyc1JlcXVlc3RDb21wbGV0ZWRdID0gdHJ1ZTtcbiAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoVkFSSUFCTEVTLCB2YXJzKTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVtb3RlVmFyaWFibGVzKVtfcmVtb3RlVmFyaWFibGVzXSA9IHZhcnM7XG5cbiAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlcylbX3ZhcmlhYmxlc10pIHtcbiAgICAgICAgaWYgKHZhcnMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlcylbX3ZhcmlhYmxlc11bbmFtZV0udXBkYXRlKHZhcnNbbmFtZV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2ZldGNoQ2FsbGJhY2spW19mZXRjaENhbGxiYWNrXSkge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2ZldGNoQ2FsbGJhY2spW19mZXRjaENhbGxiYWNrXSgpO1xuICAgICAgfVxuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3J1blZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjaylbX3J1blZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja10oKTtcbiAgICB9XG5cbiAgICBhZGRWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgIGlmIChjYWxsYmFjayAmJiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzKVtfdmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrc10ucHVzaChjYWxsYmFjayk7XG5cbiAgICAgICAgaWYgKHRoaXMuaGFzVmFyc1JlcXVlc3RDb21wbGV0ZWQoKSkge1xuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDkpW19sb2dnZXIkOV0uZXJyb3IoJ2NhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYWRkT25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjayhjYWxsYmFjaykge1xuICAgICAgaWYgKGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpZiAodGhpcy5oYXNWYXJzUmVxdWVzdENvbXBsZXRlZCgpKSB7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzKVtfb25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3NdLnB1c2goY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgICBjb25zdCBpbmRleCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrcylbX3ZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3NdLmluZGV4T2YoY2FsbGJhY2spO1xuXG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrcylbX3ZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3NdLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlT25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjayhjYWxsYmFjaykge1xuICAgICAgY29uc3QgaW5kZXggPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzKVtfb25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3NdLmluZGV4T2YoY2FsbGJhY2spO1xuXG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3MpW19vbmVUaW1lVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrc10uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuXG4gIHZhciBfcnVuVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrMiA9IGZ1bmN0aW9uIF9ydW5WYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2syKCkge1xuICAgIGZvciAodmFyIGNhbGxiYWNrIG9mIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrcylbX3ZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3NdKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGNhbGxCYWNrIG9mIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3MpW19vbmVUaW1lVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrc10pIHtcbiAgICAgIGNhbGxCYWNrKCk7XG4gICAgfVxuXG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbmVUaW1lVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrcylbX29uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzXS5sZW5ndGggPSAwO1xuICB9O1xuXG4gIHZhciBfbG9nZ2VyJGEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImxvZ2dlclwiKTtcblxuICB2YXIgX2FwaSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYXBpXCIpO1xuXG4gIHZhciBfb25sb2FkY2FsbGVkID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJvbmxvYWRjYWxsZWRcIik7XG5cbiAgdmFyIF9kZXZpY2UkMyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZGV2aWNlXCIpO1xuXG4gIHZhciBfc2Vzc2lvbiQzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJzZXNzaW9uXCIpO1xuXG4gIHZhciBfYWNjb3VudCQ2ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJhY2NvdW50XCIpO1xuXG4gIHZhciBfcmVxdWVzdCQ3ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJyZXF1ZXN0XCIpO1xuXG4gIHZhciBfdmFyaWFibGVTdG9yZSQxID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJ2YXJpYWJsZVN0b3JlXCIpO1xuXG4gIHZhciBfaXNTcGEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImlzU3BhXCIpO1xuXG4gIHZhciBfcHJldmlvdXNVcmwgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInByZXZpb3VzVXJsXCIpO1xuXG4gIHZhciBfYm91bmRDaGVja1BhZ2VDaGFuZ2VkID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJib3VuZENoZWNrUGFnZUNoYW5nZWRcIik7XG5cbiAgdmFyIF9kaXNtaXNzU3BhbUNvbnRyb2wgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImRpc21pc3NTcGFtQ29udHJvbFwiKTtcblxuICB2YXIgX3Byb2Nlc3NPbGRWYWx1ZXMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInByb2Nlc3NPbGRWYWx1ZXNcIik7XG5cbiAgdmFyIF9kZWJvdW5jZSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZGVib3VuY2VcIik7XG5cbiAgdmFyIF9jaGVja1BhZ2VDaGFuZ2VkID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJjaGVja1BhZ2VDaGFuZ2VkXCIpO1xuXG4gIHZhciBfcGluZ1JlcXVlc3QgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInBpbmdSZXF1ZXN0XCIpO1xuXG4gIHZhciBfaXNQaW5nQ29udGludW91cyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiaXNQaW5nQ29udGludW91c1wiKTtcblxuICB2YXIgX292ZXJyaWRlRFN5bmNGbGFnID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJvdmVycmlkZURTeW5jRmxhZ1wiKTtcblxuICB2YXIgX3NlbmRMb2NhdGlvbkRhdGEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInNlbmRMb2NhdGlvbkRhdGFcIik7XG5cbiAgY2xhc3MgQ2xldmVyVGFwIHtcbiAgICBnZXQgc3BhKCkge1xuICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNTcGEpW19pc1NwYV07XG4gICAgfVxuXG4gICAgc2V0IHNwYSh2YWx1ZSkge1xuICAgICAgY29uc3QgaXNTcGEgPSB2YWx1ZSA9PT0gdHJ1ZTtcblxuICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNTcGEpW19pc1NwYV0gIT09IGlzU3BhICYmIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb25sb2FkY2FsbGVkKVtfb25sb2FkY2FsbGVkXSA9PT0gMSkge1xuICAgICAgICAvLyBpZiBjbGV2ZXJ0YXAuc3BhIGlzIGNoYW5nZWQgYWZ0ZXIgaW5pdCBoYXMgYmVlbiBjYWxsZWQgdGhlbiB1cGRhdGUgdGhlIGNsaWNrIGxpc3RlbmVyc1xuICAgICAgICBpZiAoaXNTcGEpIHtcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYm91bmRDaGVja1BhZ2VDaGFuZ2VkKVtfYm91bmRDaGVja1BhZ2VDaGFuZ2VkXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2JvdW5kQ2hlY2tQYWdlQ2hhbmdlZClbX2JvdW5kQ2hlY2tQYWdlQ2hhbmdlZF0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNTcGEpW19pc1NwYV0gPSBpc1NwYTtcbiAgICB9XG5cbiAgICBnZXQgZGlzbWlzc1NwYW1Db250cm9sKCkge1xuICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGlzbWlzc1NwYW1Db250cm9sKVtfZGlzbWlzc1NwYW1Db250cm9sXTtcbiAgICB9XG5cbiAgICBzZXQgZGlzbWlzc1NwYW1Db250cm9sKHZhbHVlKSB7XG4gICAgICBjb25zdCBkaXNtaXNzU3BhbUNvbnRyb2wgPSB2YWx1ZSA9PT0gdHJ1ZTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGlzbWlzc1NwYW1Db250cm9sKVtfZGlzbWlzc1NwYW1Db250cm9sXSA9IGRpc21pc3NTcGFtQ29udHJvbDtcbiAgICAgICRjdC5kaXNtaXNzU3BhbUNvbnRyb2wgPSBkaXNtaXNzU3BhbUNvbnRyb2w7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICB2YXIgX2NsZXZlcnRhcCRhY2NvdW50LCBfY2xldmVydGFwJGFjY291bnQyLCBfY2xldmVydGFwJGFjY291bnQzLCBfY2xldmVydGFwJGFjY291bnQ0LCBfY2xldmVydGFwJGFjY291bnQ1O1xuXG4gICAgICBsZXQgY2xldmVydGFwID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfc2VuZExvY2F0aW9uRGF0YSwge1xuICAgICAgICB2YWx1ZTogX3NlbmRMb2NhdGlvbkRhdGEyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfb3ZlcnJpZGVEU3luY0ZsYWcsIHtcbiAgICAgICAgdmFsdWU6IF9vdmVycmlkZURTeW5jRmxhZzJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9pc1BpbmdDb250aW51b3VzLCB7XG4gICAgICAgIHZhbHVlOiBfaXNQaW5nQ29udGludW91czJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9waW5nUmVxdWVzdCwge1xuICAgICAgICB2YWx1ZTogX3BpbmdSZXF1ZXN0MlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2NoZWNrUGFnZUNoYW5nZWQsIHtcbiAgICAgICAgdmFsdWU6IF9jaGVja1BhZ2VDaGFuZ2VkMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2RlYm91bmNlLCB7XG4gICAgICAgIHZhbHVlOiBfZGVib3VuY2UyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcHJvY2Vzc09sZFZhbHVlcywge1xuICAgICAgICB2YWx1ZTogX3Byb2Nlc3NPbGRWYWx1ZXMyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfbG9nZ2VyJGEsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9hcGksIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9vbmxvYWRjYWxsZWQsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9kZXZpY2UkMywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3Nlc3Npb24kMywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2FjY291bnQkNiwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3JlcXVlc3QkNywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3ZhcmlhYmxlU3RvcmUkMSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2lzU3BhLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcHJldmlvdXNVcmwsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9ib3VuZENoZWNrUGFnZUNoYW5nZWQsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NoZWNrUGFnZUNoYW5nZWQpW19jaGVja1BhZ2VDaGFuZ2VkXS5iaW5kKHRoaXMpXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfZGlzbWlzc1NwYW1Db250cm9sLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIHRoaXMuZW5hYmxlUGVyc29uYWxpemF0aW9uID0gdm9pZCAwO1xuICAgICAgdGhpcy5wb3B1cENhbGxiYWNrcyA9IHt9O1xuICAgICAgdGhpcy5wb3B1cEN1cnJlbnRXenJrSWQgPSAnJztcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb25sb2FkY2FsbGVkKVtfb25sb2FkY2FsbGVkXSA9IDA7XG4gICAgICB0aGlzLl9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSA9IHRoaXMuX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlLmJpbmQodGhpcyk7XG5cbiAgICAgIHRoaXMucmFpc2VOb3RpZmljYXRpb25DbGlja2VkID0gKCkgPT4ge307XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0gPSBuZXcgTG9nZ2VyKGxvZ0xldmVscy5JTkZPKTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ2KVtfYWNjb3VudCQ2XSA9IG5ldyBBY2NvdW50KChfY2xldmVydGFwJGFjY291bnQgPSBjbGV2ZXJ0YXAuYWNjb3VudCkgPT09IG51bGwgfHwgX2NsZXZlcnRhcCRhY2NvdW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY2xldmVydGFwJGFjY291bnRbMF0sIGNsZXZlcnRhcC5yZWdpb24gfHwgKChfY2xldmVydGFwJGFjY291bnQyID0gY2xldmVydGFwLmFjY291bnQpID09PSBudWxsIHx8IF9jbGV2ZXJ0YXAkYWNjb3VudDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jbGV2ZXJ0YXAkYWNjb3VudDJbMV0pLCBjbGV2ZXJ0YXAudGFyZ2V0RG9tYWluIHx8ICgoX2NsZXZlcnRhcCRhY2NvdW50MyA9IGNsZXZlcnRhcC5hY2NvdW50KSA9PT0gbnVsbCB8fCBfY2xldmVydGFwJGFjY291bnQzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY2xldmVydGFwJGFjY291bnQzWzJdKSwgY2xldmVydGFwLnRva2VuIHx8ICgoX2NsZXZlcnRhcCRhY2NvdW50NCA9IGNsZXZlcnRhcC5hY2NvdW50KSA9PT0gbnVsbCB8fCBfY2xldmVydGFwJGFjY291bnQ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY2xldmVydGFwJGFjY291bnQ0WzNdKSk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSQzKVtfZGV2aWNlJDNdID0gbmV3IERldmljZU1hbmFnZXIoe1xuICAgICAgICBsb2dnZXI6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV1cbiAgICAgIH0pO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kaXNtaXNzU3BhbUNvbnRyb2wpW19kaXNtaXNzU3BhbUNvbnRyb2xdID0gY2xldmVydGFwLmRpc21pc3NTcGFtQ29udHJvbCB8fCBmYWxzZTtcbiAgICAgIHRoaXMuc2hwZnlQcm94eVBhdGggPSBjbGV2ZXJ0YXAuc2hwZnlQcm94eVBhdGggfHwgJyc7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMylbX3Nlc3Npb24kM10gPSBuZXcgU2Vzc2lvbk1hbmFnZXIoe1xuICAgICAgICBsb2dnZXI6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0sXG4gICAgICAgIGlzUGVyc29uYWxpc2F0aW9uQWN0aXZlOiB0aGlzLl9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZVxuICAgICAgfSk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNylbX3JlcXVlc3QkN10gPSBuZXcgUmVxdWVzdE1hbmFnZXIoe1xuICAgICAgICBsb2dnZXI6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0sXG4gICAgICAgIGFjY291bnQ6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ2KVtfYWNjb3VudCQ2XSxcbiAgICAgICAgZGV2aWNlOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSQzKVtfZGV2aWNlJDNdLFxuICAgICAgICBzZXNzaW9uOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMylbX3Nlc3Npb24kM10sXG4gICAgICAgIGlzUGVyc29uYWxpc2F0aW9uQWN0aXZlOiB0aGlzLl9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZVxuICAgICAgfSk7XG4gICAgICB0aGlzLmVuYWJsZVBlcnNvbmFsaXphdGlvbiA9IGNsZXZlcnRhcC5lbmFibGVQZXJzb25hbGl6YXRpb24gfHwgZmFsc2U7XG4gICAgICB0aGlzLmV2ZW50ID0gbmV3IEV2ZW50SGFuZGxlcih7XG4gICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXSxcbiAgICAgICAgcmVxdWVzdDogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDcpW19yZXF1ZXN0JDddLFxuICAgICAgICBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZTogdGhpcy5faXNQZXJzb25hbGlzYXRpb25BY3RpdmVcbiAgICAgIH0sIGNsZXZlcnRhcC5ldmVudCk7XG4gICAgICB0aGlzLnByb2ZpbGUgPSBuZXcgUHJvZmlsZUhhbmRsZXIoe1xuICAgICAgICBsb2dnZXI6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0sXG4gICAgICAgIHJlcXVlc3Q6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XSxcbiAgICAgICAgYWNjb3VudDogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLFxuICAgICAgICBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZTogdGhpcy5faXNQZXJzb25hbGlzYXRpb25BY3RpdmVcbiAgICAgIH0sIGNsZXZlcnRhcC5wcm9maWxlKTtcbiAgICAgIHRoaXMub25Vc2VyTG9naW4gPSBuZXcgVXNlckxvZ2luSGFuZGxlcih7XG4gICAgICAgIHJlcXVlc3Q6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XSxcbiAgICAgICAgYWNjb3VudDogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLFxuICAgICAgICBzZXNzaW9uOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMylbX3Nlc3Npb24kM10sXG4gICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXSxcbiAgICAgICAgZGV2aWNlOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSQzKVtfZGV2aWNlJDNdXG4gICAgICB9LCBjbGV2ZXJ0YXAub25Vc2VyTG9naW4pO1xuICAgICAgdGhpcy5wcml2YWN5ID0gbmV3IFByaXZhY3koe1xuICAgICAgICByZXF1ZXN0OiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNylbX3JlcXVlc3QkN10sXG4gICAgICAgIGFjY291bnQ6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ2KVtfYWNjb3VudCQ2XSxcbiAgICAgICAgbG9nZ2VyOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdXG4gICAgICB9LCBjbGV2ZXJ0YXAucHJpdmFjeSk7XG4gICAgICB0aGlzLm5vdGlmaWNhdGlvbnMgPSBuZXcgTm90aWZpY2F0aW9uSGFuZGxlcih7XG4gICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXSxcbiAgICAgICAgcmVxdWVzdDogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDcpW19yZXF1ZXN0JDddLFxuICAgICAgICBhY2NvdW50OiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNilbX2FjY291bnQkNl1cbiAgICAgIH0sIGNsZXZlcnRhcC5ub3RpZmljYXRpb25zKTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVTdG9yZSQxKVtfdmFyaWFibGVTdG9yZSQxXSA9IG5ldyBWYXJpYWJsZVN0b3JlKHtcbiAgICAgICAgbG9nZ2VyOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdLFxuICAgICAgICByZXF1ZXN0OiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNylbX3JlcXVlc3QkN10sXG4gICAgICAgIGFjY291bnQ6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ2KVtfYWNjb3VudCQ2XSxcbiAgICAgICAgZXZlbnQ6IHRoaXMuZXZlbnRcbiAgICAgIH0pO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hcGkpW19hcGldID0gbmV3IENsZXZlclRhcEFQSSh7XG4gICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXSxcbiAgICAgICAgcmVxdWVzdDogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDcpW19yZXF1ZXN0JDddLFxuICAgICAgICBkZXZpY2U6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlJDMpW19kZXZpY2UkM10sXG4gICAgICAgIHNlc3Npb246IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbiQzKVtfc2Vzc2lvbiQzXVxuICAgICAgfSk7XG4gICAgICB0aGlzLnNwYSA9IGNsZXZlcnRhcC5zcGE7XG4gICAgICB0aGlzLmRpc21pc3NTcGFtQ29udHJvbCA9IGNsZXZlcnRhcC5kaXNtaXNzU3BhbUNvbnRyb2w7XG4gICAgICB0aGlzLnVzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgIGlzUGVyc29uYWxpc2F0aW9uQWN0aXZlOiB0aGlzLl9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZVxuICAgICAgfSk7XG4gICAgICB0aGlzLnNlc3Npb24gPSB7XG4gICAgICAgIGdldFRpbWVFbGFwc2VkOiAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbiQzKVtfc2Vzc2lvbiQzXS5nZXRUaW1lRWxhcHNlZCgpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRQYWdlQ291bnQ6ICgpID0+IHtcbiAgICAgICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uJDMpW19zZXNzaW9uJDNdLmdldFBhZ2VDb3VudCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmxvZ291dCA9ICgpID0+IHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXS5kZWJ1ZygnbG9nb3V0IGNhbGxlZCcpO1xuXG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNldEluc3RhbnREZWxldGVGbGFnSW5LKCk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmNsZWFyID0gKCkgPT4ge1xuICAgICAgICB0aGlzLm9uVXNlckxvZ2luLmNsZWFyKCk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmdldENsZXZlclRhcElEID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UkMylbX2RldmljZSQzXS5nZXRHdWlkKCk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmdldEFjY291bnRJRCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ2KVtfYWNjb3VudCQ2XS5pZDtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuZ2V0U0NEb21haW4gPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNilbX2FjY291bnQkNl0uZmluYWxUYXJnZXREb21haW47XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnNldExpYnJhcnkgPSAobGliTmFtZSwgbGliVmVyc2lvbikgPT4ge1xuICAgICAgICAkY3QuZmx1dHRlclZlcnNpb24gPSB7XG4gICAgICAgICAgW2xpYk5hbWVdOiBsaWJWZXJzaW9uXG4gICAgICAgIH07XG4gICAgICB9OyAvLyBTZXQgdGhlIFNpZ25lZCBDYWxsIHNkayB2ZXJzaW9uIGFuZCBmaXJlIHJlcXVlc3RcblxuXG4gICAgICB0aGlzLnNldFNDU0RLVmVyc2lvbiA9IHZlciA9PiB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ2KVtfYWNjb3VudCQ2XS5zY1NES1ZlcnNpb24gPSB2ZXI7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7fTtcbiAgICAgICAgZGF0YS5hZiA9IHtcbiAgICAgICAgICBzY3Y6ICdzYy1zZGstdicgKyBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNilbX2FjY291bnQkNl0uc2NTREtWZXJzaW9uXG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IHBhZ2VMb2FkVXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLmRhdGFQb3N0VVJMO1xuXG4gICAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICd0eXBlJywgJ3BhZ2UnKTtcbiAgICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ2QnLCBjb21wcmVzc0RhdGEoSlNPTi5zdHJpbmdpZnkoZGF0YSksIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0pKTtcblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNylbX3JlcXVlc3QkN10uc2F2ZUFuZEZpcmVSZXF1ZXN0KHBhZ2VMb2FkVXJsLCAkY3QuYmxvY2tSZXF1ZXN0KTtcbiAgICAgIH07XG5cbiAgICAgIGlmIChoYXNXZWJJbmJveFNldHRpbmdzSW5MUygpKSB7XG4gICAgICAgIGNoZWNrQW5kUmVnaXN0ZXJXZWJJbmJveEVsZW1lbnRzKCk7XG4gICAgICAgIGluaXRpYWxpemVXZWJJbmJveChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdKTtcbiAgICAgIH0gLy8gR2V0IEluYm94IE1lc3NhZ2UgQ291bnRcblxuXG4gICAgICB0aGlzLmdldEluYm94TWVzc2FnZUNvdW50ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBtc2dDb3VudCA9IGdldEluYm94TWVzc2FnZXMoKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG1zZ0NvdW50KS5sZW5ndGg7XG4gICAgICB9OyAvLyBHZXQgSW5ib3ggVW5yZWFkIE1lc3NhZ2UgQ291bnRcblxuXG4gICAgICB0aGlzLmdldEluYm94TWVzc2FnZVVucmVhZENvdW50ID0gKCkgPT4ge1xuICAgICAgICBpZiAoJGN0LmluYm94KSB7XG4gICAgICAgICAgcmV0dXJuICRjdC5pbmJveC51bnZpZXdlZENvdW50ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXS5kZWJ1ZygnTm8gdW5yZWFkIG1lc3NhZ2VzJyk7XG4gICAgICAgIH1cbiAgICAgIH07IC8vIEdldCBBbGwgSW5ib3ggbWVzc2FnZXNcblxuXG4gICAgICB0aGlzLmdldEFsbEluYm94TWVzc2FnZXMgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBnZXRJbmJveE1lc3NhZ2VzKCk7XG4gICAgICB9OyAvLyBHZXQgb25seSBVbnJlYWQgbWVzc2FnZXNcblxuXG4gICAgICB0aGlzLmdldFVucmVhZEluYm94TWVzc2FnZXMgPSAoKSA9PiB7XG4gICAgICAgIGlmICgkY3QuaW5ib3gpIHtcbiAgICAgICAgICByZXR1cm4gJGN0LmluYm94LnVudmlld2VkTWVzc2FnZXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXS5kZWJ1ZygnTm8gdW5yZWFkIG1lc3NhZ2VzJyk7XG4gICAgICAgIH1cbiAgICAgIH07IC8vIEdldCBtZXNzYWdlIG9iamVjdCBiZWxvbmdpbmcgdG8gdGhlIGdpdmVuIG1lc3NhZ2UgaWQgb25seS4gTWVzc2FnZSBpZCBzaG91bGQgYmUgYSBTdHJpbmdcblxuXG4gICAgICB0aGlzLmdldEluYm94TWVzc2FnZUZvcklkID0gbWVzc2FnZUlkID0+IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBnZXRJbmJveE1lc3NhZ2VzKCk7XG5cbiAgICAgICAgaWYgKChtZXNzYWdlSWQgIT09IG51bGwgfHwgbWVzc2FnZUlkICE9PSAnJykgJiYgbWVzc2FnZXMuaGFzT3duUHJvcGVydHkobWVzc2FnZUlkKSkge1xuICAgICAgICAgIHJldHVybiBtZXNzYWdlc1ttZXNzYWdlSWRdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0uZXJyb3IoJ05vIG1lc3NhZ2UgYXZhaWxhYmxlIGZvciBtZXNzYWdlIElkICcgKyBtZXNzYWdlSWQpO1xuICAgICAgICB9XG4gICAgICB9OyAvLyBEZWxldGUgbWVzc2FnZSBmcm9tIHRoZSBJbmJveC4gTWVzc2FnZSBpZCBzaG91bGQgYmUgYSBTdHJpbmdcbiAgICAgIC8vIElmIHRoZSBtZXNzYWdlIHRvIGJlIGRlbGV0ZWQgaXMgdW52aWV3ZWQgdGhlbiBkZWNyZW1lbnQgdGhlIGJhZGdlIGNvdW50LCBkZWxldGUgdGhlIG1lc3NhZ2UgZnJvbSB1bnZpZXdlZE1lc3NhZ2VzIGxpc3RcbiAgICAgIC8vIFRoZW4gcmVtb3ZlIHRoZSBtZXNzYWdlIGZyb20gbG9jYWwgc3RvcmFnZSBhbmQgdXBkYXRlIGNvb2tpZVxuXG5cbiAgICAgIHRoaXMuZGVsZXRlSW5ib3hNZXNzYWdlID0gbWVzc2FnZUlkID0+IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBnZXRJbmJveE1lc3NhZ2VzKCk7XG5cbiAgICAgICAgaWYgKChtZXNzYWdlSWQgIT09IG51bGwgfHwgbWVzc2FnZUlkICE9PSAnJykgJiYgbWVzc2FnZXMuaGFzT3duUHJvcGVydHkobWVzc2FnZUlkKSkge1xuICAgICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignY3Qtd2ViLWluYm94Jykuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChtZXNzYWdlSWQpO1xuXG4gICAgICAgICAgaWYgKG1lc3NhZ2VzW21lc3NhZ2VJZF0udmlld2VkID09PSAwKSB7XG4gICAgICAgICAgICAkY3QuaW5ib3gudW52aWV3ZWRDb3VudGVyLS07XG4gICAgICAgICAgICBkZWxldGUgJGN0LmluYm94LnVudmlld2VkTWVzc2FnZXNbbWVzc2FnZUlkXTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bnZpZXdlZEJhZGdlJykuaW5uZXJUZXh0ID0gJGN0LmluYm94LnVudmlld2VkQ291bnRlcjtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bnZpZXdlZEJhZGdlJykuc3R5bGUuZGlzcGxheSA9ICRjdC5pbmJveC51bnZpZXdlZENvdW50ZXIgPiAwID8gJ2ZsZXgnIDogJ25vbmUnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGVsICYmIGVsLnJlbW92ZSgpO1xuICAgICAgICAgIGRlbGV0ZSBtZXNzYWdlc1ttZXNzYWdlSWRdO1xuICAgICAgICAgIHNhdmVJbmJveE1lc3NhZ2VzKG1lc3NhZ2VzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdLmVycm9yKCdObyBtZXNzYWdlIGF2YWlsYWJsZSBmb3IgbWVzc2FnZSBJZCAnICsgbWVzc2FnZUlkKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIC8qIE1hcmsgTWVzc2FnZSBhcyBSZWFkLiBNZXNzYWdlIGlkIHNob3VsZCBiZSBhIFN0cmluZ1xuICAgICAgIC0gQ2hlY2sgaWYgdGhlIG1lc3NhZ2UgSWQgZXhpc3QgaW4gdGhlIHVucmVhZCBtZXNzYWdlIGxpc3RcbiAgICAgICAtIFJlbW92ZSB0aGUgdW5yZWFkIG1hcmtlciwgdXBkYXRlIHRoZSB2aWV3ZWQgZmxhZywgZGVjcmVtZW50IHRoZSBiYWdlIENvdW50XG4gICAgICAgLSByZW5kZXJOb3RpZmljYXRpb25WaWV3ZWQgKi9cblxuXG4gICAgICB0aGlzLm1hcmtSZWFkSW5ib3hNZXNzYWdlID0gbWVzc2FnZUlkID0+IHtcbiAgICAgICAgY29uc3QgdW5yZWFkTXNnID0gJGN0LmluYm94LnVudmlld2VkTWVzc2FnZXM7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gZ2V0SW5ib3hNZXNzYWdlcygpO1xuXG4gICAgICAgIGlmICgobWVzc2FnZUlkICE9PSBudWxsIHx8IG1lc3NhZ2VJZCAhPT0gJycpICYmIHVucmVhZE1zZy5oYXNPd25Qcm9wZXJ0eShtZXNzYWdlSWQpKSB7XG4gICAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdjdC13ZWItaW5ib3gnKS5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKG1lc3NhZ2VJZCk7XG5cbiAgICAgICAgICBpZiAoZWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGVsLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ3VucmVhZE1hcmtlcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbWVzc2FnZXNbbWVzc2FnZUlkXS52aWV3ZWQgPSAxO1xuXG4gICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bnZpZXdlZEJhZGdlJykpIHtcbiAgICAgICAgICAgIHZhciBjb3VudGVyID0gcGFyc2VJbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Vudmlld2VkQmFkZ2UnKS5pbm5lclRleHQpIC0gMTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bnZpZXdlZEJhZGdlJykuaW5uZXJUZXh0ID0gY291bnRlcjtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bnZpZXdlZEJhZGdlJykuc3R5bGUuZGlzcGxheSA9IGNvdW50ZXIgPiAwID8gJ2ZsZXgnIDogJ25vbmUnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHdpbmRvdy5jbGV2ZXJ0YXAucmVuZGVyTm90aWZpY2F0aW9uVmlld2VkKHtcbiAgICAgICAgICAgIG1zZ0lkOiBtZXNzYWdlc1ttZXNzYWdlSWRdLnd6cmtfaWQsXG4gICAgICAgICAgICBwaXZvdElkOiBtZXNzYWdlc1ttZXNzYWdlSWRdLnBpdm90SWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkY3QuaW5ib3gudW52aWV3ZWRDb3VudGVyLS07XG4gICAgICAgICAgZGVsZXRlICRjdC5pbmJveC51bnZpZXdlZE1lc3NhZ2VzW21lc3NhZ2VJZF07XG4gICAgICAgICAgc2F2ZUluYm94TWVzc2FnZXMobWVzc2FnZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0uZXJyb3IoJ05vIG1lc3NhZ2UgYXZhaWxhYmxlIGZvciBtZXNzYWdlIElkICcgKyBtZXNzYWdlSWQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgLyogTWFyayBNZXNzYWdlIGFzIFJlYWQuIG1lc3NhZ2VJZHMgc2hvdWxkIGJlIGEgYW4gYXJyYXkgb2Ygc3RyaW5nICovXG5cblxuICAgICAgdGhpcy5tYXJrUmVhZEluYm94TWVzc2FnZXNGb3JJZHMgPSBtZXNzYWdlSWRzID0+IHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobWVzc2FnZUlkcykpIHtcbiAgICAgICAgICBmb3IgKHZhciBpZCA9IDA7IGlkIDwgbWVzc2FnZUlkcy5sZW5ndGg7IGlkKyspIHtcbiAgICAgICAgICAgIHRoaXMubWFya1JlYWRJbmJveE1lc3NhZ2UobWVzc2FnZUlkc1tpZF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIC8qIE1hcmsgYWxsIG1lc3NhZ2VzIGFzIHJlYWRcbiAgICAgICAgLSBHZXQgdGhlIGNvdW50IG9mIHVucmVhZCBtZXNzYWdlcywgdXBkYXRlIHVucmVhZCBtYXJrZXIgc3R5bGVcbiAgICAgICAgLSByZW5kZXJOb3RpZmljYXRpb25WaWV3ZWQsIHVwZGF0ZSB0aGUgYmFkZ2UgY291bnQgYW5kIHN0eWxlXG4gICAgICAqL1xuXG5cbiAgICAgIHRoaXMubWFya1JlYWRBbGxJbmJveE1lc3NhZ2UgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVucmVhZE1zZyA9ICRjdC5pbmJveC51bnZpZXdlZE1lc3NhZ2VzO1xuICAgICAgICBjb25zdCBtZXNzYWdlcyA9IGdldEluYm94TWVzc2FnZXMoKTtcblxuICAgICAgICBpZiAoT2JqZWN0LmtleXModW5yZWFkTXNnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgbXNnSWRzID0gT2JqZWN0LmtleXModW5yZWFkTXNnKTtcbiAgICAgICAgICBtc2dJZHMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdjdC13ZWItaW5ib3gnKS5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKGtleSk7XG5cbiAgICAgICAgICAgIGlmIChlbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBlbC5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCd1bnJlYWRNYXJrZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtZXNzYWdlc1trZXldLnZpZXdlZCA9IDE7XG4gICAgICAgICAgICB3aW5kb3cuY2xldmVydGFwLnJlbmRlck5vdGlmaWNhdGlvblZpZXdlZCh7XG4gICAgICAgICAgICAgIG1zZ0lkOiBtZXNzYWdlc1trZXldLnd6cmtfaWQsXG4gICAgICAgICAgICAgIHBpdm90SWQ6IG1lc3NhZ2VzW2tleV0ud3pya19waXZvdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Vudmlld2VkQmFkZ2UnKS5pbm5lclRleHQgPSAwO1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bnZpZXdlZEJhZGdlJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICBzYXZlSW5ib3hNZXNzYWdlcyhtZXNzYWdlcyk7XG4gICAgICAgICAgJGN0LmluYm94LnVudmlld2VkQ291bnRlciA9IDA7XG4gICAgICAgICAgJGN0LmluYm94LnVudmlld2VkTWVzc2FnZXMgPSB7fTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdLmRlYnVnKCdBbGwgbWVzc2FnZXMgYXJlIGFscmVhZHkgcmVhZCcpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnRvZ2dsZUluYm94ID0gZSA9PiB7XG4gICAgICAgIHZhciBfJGN0JGluYm94O1xuXG4gICAgICAgIHJldHVybiAoXyRjdCRpbmJveCA9ICRjdC5pbmJveCkgPT09IG51bGwgfHwgXyRjdCRpbmJveCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXyRjdCRpbmJveC50b2dnbGVJbmJveChlKTtcbiAgICAgIH07IC8vIG1ldGhvZCBmb3Igbm90aWZpY2F0aW9uIHZpZXdlZFxuXG5cbiAgICAgIHRoaXMucmVuZGVyTm90aWZpY2F0aW9uVmlld2VkID0gZGV0YWlsID0+IHtcbiAgICAgICAgcHJvY2Vzc05vdGlmaWNhdGlvbkV2ZW50KE5PVElGSUNBVElPTl9WSUVXRUQsIGRldGFpbCk7XG4gICAgICB9OyAvLyBtZXRob2QgZm9yIG5vdGlmaWNhdGlvbiBjbGlja2VkXG5cblxuICAgICAgdGhpcy5yZW5kZXJOb3RpZmljYXRpb25DbGlja2VkID0gZGV0YWlsID0+IHtcbiAgICAgICAgcHJvY2Vzc05vdGlmaWNhdGlvbkV2ZW50KE5PVElGSUNBVElPTl9DTElDS0VELCBkZXRhaWwpO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcHJvY2Vzc05vdGlmaWNhdGlvbkV2ZW50ID0gKGV2ZW50TmFtZSwgZXZlbnREZXRhaWwpID0+IHtcbiAgICAgICAgaWYgKCFldmVudERldGFpbCB8fCAhZXZlbnREZXRhaWwubXNnSWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRhID0ge307XG4gICAgICAgIGRhdGEudHlwZSA9ICdldmVudCc7XG4gICAgICAgIGRhdGEuZXZ0TmFtZSA9IGV2ZW50TmFtZTtcbiAgICAgICAgZGF0YS5ldnREYXRhID0ge1xuICAgICAgICAgIFtXWlJLX0lEXTogZXZlbnREZXRhaWwubXNnSWRcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZXZlbnREZXRhaWwucGl2b3RJZCkge1xuICAgICAgICAgIGRhdGEuZXZ0RGF0YSA9IHsgLi4uZGF0YS5ldnREYXRhLFxuICAgICAgICAgICAgd3pya19waXZvdDogZXZlbnREZXRhaWwucGl2b3RJZFxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnREZXRhaWwud3pya19zbGlkZU5vKSB7XG4gICAgICAgICAgZGF0YS5ldnREYXRhID0geyAuLi5kYXRhLmV2dERhdGEsXG4gICAgICAgICAgICB3enJrX3NsaWRlTm86IGV2ZW50RGV0YWlsLnd6cmtfc2xpZGVOb1xuICAgICAgICAgIH07XG4gICAgICAgIH0gLy8gQWRkaW5nIGt2IHBhaXIgdG8gZXZlbnQgZGF0YVxuXG5cbiAgICAgICAgaWYgKGV2ZW50RGV0YWlsLmt2ICYmIGV2ZW50RGV0YWlsLmt2ICE9PSBudWxsICYmIGV2ZW50RGV0YWlsLmt2ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBldmVudERldGFpbC5rdikge1xuICAgICAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKFdaUktfUFJFRklYKSkge1xuICAgICAgICAgICAgICBkYXRhLmV2dERhdGEgPSB7IC4uLmRhdGEuZXZ0RGF0YSxcbiAgICAgICAgICAgICAgICBba2V5XTogZXZlbnREZXRhaWwua3Zba2V5XVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBBZGRpbmcgbXNnQ1RrdiB0byBldmVudCBkYXRhXG5cblxuICAgICAgICBpZiAoZXZlbnREZXRhaWwubXNnQ1RrdiAmJiBldmVudERldGFpbC5tc2dDVGt2ICE9PSBudWxsICYmIGV2ZW50RGV0YWlsLm1zZ0NUa3YgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGV2ZW50RGV0YWlsLm1zZ0NUa3YpIHtcbiAgICAgICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aChXWlJLX1BSRUZJWCkpIHtcbiAgICAgICAgICAgICAgZGF0YS5ldnREYXRhID0geyAuLi5kYXRhLmV2dERhdGEsXG4gICAgICAgICAgICAgICAgW2tleV06IGV2ZW50RGV0YWlsLm1zZ0NUa3Zba2V5XVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XS5wcm9jZXNzRXZlbnQoZGF0YSk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnNldExvZ0xldmVsID0gbCA9PiB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0ubG9nTGV2ZWwgPSBOdW1iZXIobCk7XG5cbiAgICAgICAgaWYgKGwgPT09IDMpIHtcbiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5XWlJLX0QgPSAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgc2Vzc2lvblN0b3JhZ2UuV1pSS19EO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAqIEBwYXJhbSB7fSBrZXlcbiAgICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAgKi9cblxuXG4gICAgICB0aGlzLmhhbmRsZUluY3JlbWVudFZhbHVlID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgdGhpcy5wcm9maWxlLl9oYW5kbGVJbmNyZW1lbnREZWNyZW1lbnRWYWx1ZShrZXksIHZhbHVlLCBDT01NQU5EX0lOQ1JFTUVOVCk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmhhbmRsZURlY3JlbWVudFZhbHVlID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgdGhpcy5wcm9maWxlLl9oYW5kbGVJbmNyZW1lbnREZWNyZW1lbnRWYWx1ZShrZXksIHZhbHVlLCBDT01NQU5EX0RFQ1JFTUVOVCk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnNldE11bHRpVmFsdWVzRm9yS2V5ID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgdGhpcy5wcm9maWxlLl9oYW5kbGVNdWx0aVZhbHVlU2V0KGtleSwgdmFsdWUsIENPTU1BTkRfU0VUKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdzZXRNdWx0aVZhbHVlc0ZvcktleSBzaG91bGQgYmUgY2FsbGVkIHdpdGggYSB2YWx1ZSBvZiB0eXBlIGFycmF5Jyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMuYWRkTXVsdGlWYWx1ZUZvcktleSA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aGlzLnByb2ZpbGUuX2hhbmRsZU11bHRpVmFsdWVBZGQoa2V5LCB2YWx1ZSwgQ09NTUFORF9BREQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2FkZE11bHRpVmFsdWVGb3JLZXkgc2hvdWxkIGJlIGNhbGxlZCB3aXRoIGEgdmFsdWUgb2YgdHlwZSBzdHJpbmcgb3IgbnVtYmVyLicpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmFkZE11bHRpVmFsdWVzRm9yS2V5ID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgdGhpcy5wcm9maWxlLl9oYW5kbGVNdWx0aVZhbHVlQWRkKGtleSwgdmFsdWUsIENPTU1BTkRfQUREKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdhZGRNdWx0aVZhbHVlc0ZvcktleSBzaG91bGQgYmUgY2FsbGVkIHdpdGggYSB2YWx1ZSBvZiB0eXBlIGFycmF5LicpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnJlbW92ZU11bHRpVmFsdWVGb3JLZXkgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgdGhpcy5wcm9maWxlLl9oYW5kbGVNdWx0aVZhbHVlUmVtb3ZlKGtleSwgdmFsdWUsIENPTU1BTkRfUkVNT1ZFKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdyZW1vdmVNdWx0aVZhbHVlRm9yS2V5IHNob3VsZCBiZSBjYWxsZWQgd2l0aCBhIHZhbHVlIG9mIHR5cGUgc3RyaW5nIG9yIG51bWJlci4nKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5yZW1vdmVNdWx0aVZhbHVlc0ZvcktleSA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIHRoaXMucHJvZmlsZS5faGFuZGxlTXVsdGlWYWx1ZVJlbW92ZShrZXksIHZhbHVlLCBDT01NQU5EX1JFTU9WRSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcigncmVtb3ZlTXVsdGlWYWx1ZXNGb3JLZXkgc2hvdWxkIGJlIGNhbGxlZCB3aXRoIGEgdmFsdWUgb2YgdHlwZSBhcnJheS4nKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5yZW1vdmVWYWx1ZUZvcktleSA9IGtleSA9PiB7XG4gICAgICAgIHRoaXMucHJvZmlsZS5faGFuZGxlTXVsdGlWYWx1ZURlbGV0ZShrZXksIENPTU1BTkRfREVMRVRFKTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IF9oYW5kbGVFbWFpbFN1YnNjcmlwdGlvbiA9IChzdWJzY3JpcHRpb24sIHJlRW5jb2RlZCwgZmV0Y2hHcm91cHMpID0+IHtcbiAgICAgICAgaGFuZGxlRW1haWxTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uLCByZUVuY29kZWQsIGZldGNoR3JvdXBzLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNilbX2FjY291bnQkNl0sIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0pO1xuICAgICAgfTtcbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsYXRcbiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsbmdcbiAgICAgICAqIEBwYXJhbSB7Y2FsbGJhY2sgZnVuY3Rpb259IGhhbmRsZUNvb3JkaW5hdGVzXG4gICAgICAgKiBAcmV0dXJuc1xuICAgICAgKi9cblxuXG4gICAgICB0aGlzLmdldExvY2F0aW9uID0gZnVuY3Rpb24gKGxhdCwgbG5nKSB7XG4gICAgICAgIC8vIGxhdGl0dWRlIGFuZCBsb25naXR1ZGUgc2hvdWxkIGJlIG51bWJlciB0eXBlXG4gICAgICAgIGlmIChsYXQgJiYgdHlwZW9mIGxhdCAhPT0gJ251bWJlcicgfHwgbG5nICYmIHR5cGVvZiBsbmcgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0xhdGl0dWRlIGFuZCBMb25naXR1ZGUgbXVzdCBiZSBvZiBudW1iZXIgdHlwZScpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsYXQgJiYgbG5nKSB7XG4gICAgICAgICAgLy8gdmFsaWQgbGF0aXR1ZGUgcmFuZ2VzIGJ3ICstOTBcbiAgICAgICAgICBpZiAobGF0IDw9IC05MCB8fCBsYXQgPiA5MCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0EgdmFpZCBsYXRpdHVkZSBtdXN0IHJhbmdlIGJldHdlZW4gLTkwIGFuZCA5MCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gLy8gdmFsaWQgbG9uZ2l0dWRlIHJhbmdlcyBidyArLTE4MFxuXG5cbiAgICAgICAgICBpZiAobG5nIDw9IC0xODAgfHwgbG5nID4gMTgwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQSB2YWxpZCBsb25naXR1ZGUgbXVzdCByYW5nZSBiZXR3ZWVuIC0xODAgYW5kIDE4MCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICRjdC5sb2NhdGlvbiA9IHtcbiAgICAgICAgICAgIExhdGl0dWRlOiBsYXQsXG4gICAgICAgICAgICBMb25naXR1ZGU6IGxuZ1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3NlbmRMb2NhdGlvbkRhdGEpW19zZW5kTG9jYXRpb25EYXRhXSh7XG4gICAgICAgICAgICBMYXRpdHVkZTogbGF0LFxuICAgICAgICAgICAgTG9uZ2l0dWRlOiBsbmdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSB7XG4gICAgICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKHNob3dQb3NpdGlvbi5iaW5kKHRoaXMpLCBzaG93RXJyb3IpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnR2VvbG9jYXRpb24gaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXIuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBzaG93UG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICAgICAgdmFyIGxhdCA9IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZTtcbiAgICAgICAgdmFyIGxuZyA9IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGU7XG4gICAgICAgICRjdC5sb2NhdGlvbiA9IHtcbiAgICAgICAgICBMYXRpdHVkZTogbGF0LFxuICAgICAgICAgIExvbmdpdHVkZTogbG5nXG4gICAgICAgIH07XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZW5kTG9jYXRpb25EYXRhKVtfc2VuZExvY2F0aW9uRGF0YV0oe1xuICAgICAgICAgIExhdGl0dWRlOiBsYXQsXG4gICAgICAgICAgTG9uZ2l0dWRlOiBsbmdcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNob3dFcnJvcihlcnJvcikge1xuICAgICAgICBzd2l0Y2ggKGVycm9yLmNvZGUpIHtcbiAgICAgICAgICBjYXNlIGVycm9yLlBFUk1JU1NJT05fREVOSUVEOlxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzZXIgZGVuaWVkIHRoZSByZXF1ZXN0IGZvciBHZW9sb2NhdGlvbi4nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBlcnJvci5QT1NJVElPTl9VTkFWQUlMQUJMRTpcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMb2NhdGlvbiBpbmZvcm1hdGlvbiBpcyB1bmF2YWlsYWJsZS4nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBlcnJvci5USU1FT1VUOlxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1RoZSByZXF1ZXN0IHRvIGdldCB1c2VyIGxvY2F0aW9uIHRpbWVkIG91dC4nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBlcnJvci5VTktOT1dOX0VSUk9SOlxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0FuIHVua25vd24gZXJyb3Igb2NjdXJyZWQuJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBhcGkgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FwaSlbX2FwaV07XG5cbiAgICAgIGFwaS5sb2dvdXQgPSB0aGlzLmxvZ291dDtcbiAgICAgIGFwaS5jbGVhciA9IHRoaXMuY2xlYXI7XG5cbiAgICAgIGFwaS5jbG9zZUlmcmFtZSA9IChjYW1wYWlnbklkLCBkaXZJZElnbm9yZWQpID0+IHtcbiAgICAgICAgY2xvc2VJZnJhbWUoY2FtcGFpZ25JZCwgZGl2SWRJZ25vcmVkLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMylbX3Nlc3Npb24kM10uc2Vzc2lvbklkKTtcbiAgICAgIH07XG5cbiAgICAgIGFwaS5lbmFibGVXZWJQdXNoID0gKGVuYWJsZWQsIGFwcGxpY2F0aW9uU2VydmVyS2V5KSA9PiB7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy5fZW5hYmxlV2ViUHVzaChlbmFibGVkLCBhcHBsaWNhdGlvblNlcnZlcktleSk7XG4gICAgICB9O1xuXG4gICAgICBhcGkudHIgPSBtc2cgPT4ge1xuICAgICAgICBfdHIobXNnLCB7XG4gICAgICAgICAgZGV2aWNlOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSQzKVtfZGV2aWNlJDNdLFxuICAgICAgICAgIHNlc3Npb246IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbiQzKVtfc2Vzc2lvbiQzXSxcbiAgICAgICAgICByZXF1ZXN0OiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNylbX3JlcXVlc3QkN10sXG4gICAgICAgICAgbG9nZ2VyOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdXG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgYXBpLnNldEVudW0gPSBlbnVtVmFsID0+IHtcbiAgICAgICAgc2V0RW51bShlbnVtVmFsLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdKTtcbiAgICAgIH07XG5cbiAgICAgIGFwaS5pc19vbmxvYWRjYWxsZWQgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29ubG9hZGNhbGxlZClbX29ubG9hZGNhbGxlZF0gPT09IDE7XG4gICAgICB9O1xuXG4gICAgICBhcGkuc3ViRW1haWwgPSByZUVuY29kZWQgPT4ge1xuICAgICAgICBfaGFuZGxlRW1haWxTdWJzY3JpcHRpb24oJzEnLCByZUVuY29kZWQpO1xuICAgICAgfTtcblxuICAgICAgYXBpLmdldEVtYWlsID0gKHJlRW5jb2RlZCwgd2l0aEdyb3VwcykgPT4ge1xuICAgICAgICBfaGFuZGxlRW1haWxTdWJzY3JpcHRpb24oJy0xJywgcmVFbmNvZGVkLCB3aXRoR3JvdXBzKTtcbiAgICAgIH07XG5cbiAgICAgIGFwaS51blN1YkVtYWlsID0gcmVFbmNvZGVkID0+IHtcbiAgICAgICAgX2hhbmRsZUVtYWlsU3Vic2NyaXB0aW9uKCcwJywgcmVFbmNvZGVkKTtcbiAgICAgIH07XG5cbiAgICAgIGFwaS51bnN1YkVtYWlsR3JvdXBzID0gcmVFbmNvZGVkID0+IHtcbiAgICAgICAgJGN0LnVuc3ViR3JvdXBzID0gW107XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY3QtdW5zdWItZ3JvdXAtaW5wdXQtaXRlbScpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNbaV07XG5cbiAgICAgICAgICBpZiAoZWxlbWVudC5uYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgICBuYW1lOiBlbGVtZW50Lm5hbWUsXG4gICAgICAgICAgICAgIGlzVW5zdWJzY3JpYmVkOiBlbGVtZW50LmNoZWNrZWRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkY3QudW5zdWJHcm91cHMucHVzaChkYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBfaGFuZGxlRW1haWxTdWJzY3JpcHRpb24oR1JPVVBfU1VCU0NSSVBUSU9OX1JFUVVFU1RfSUQsIHJlRW5jb2RlZCk7XG4gICAgICB9O1xuXG4gICAgICBhcGkuc2V0U3Vic2NyaXB0aW9uR3JvdXBzID0gdmFsdWUgPT4ge1xuICAgICAgICAkY3QudW5zdWJHcm91cHMgPSB2YWx1ZTtcbiAgICAgIH07XG5cbiAgICAgIGFwaS5nZXRTdWJzY3JpcHRpb25Hcm91cHMgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiAkY3QudW5zdWJHcm91cHM7XG4gICAgICB9O1xuXG4gICAgICBhcGkuY2hhbmdlU3Vic2NyaXB0aW9uR3JvdXBzID0gKHJlRW5jb2RlZCwgdXBkYXRlZEdyb3VwcykgPT4ge1xuICAgICAgICBhcGkuc2V0U3Vic2NyaXB0aW9uR3JvdXBzKHVwZGF0ZWRHcm91cHMpO1xuXG4gICAgICAgIF9oYW5kbGVFbWFpbFN1YnNjcmlwdGlvbihHUk9VUF9TVUJTQ1JJUFRJT05fUkVRVUVTVF9JRCwgcmVFbmNvZGVkKTtcbiAgICAgIH07XG5cbiAgICAgIGFwaS5pc0dsb2JhbFVuc3Vic2NyaWJlID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gJGN0Lmdsb2JhbFVuc3Vic2NyaWJlO1xuICAgICAgfTtcblxuICAgICAgYXBpLnNldElzR2xvYmFsVW5zdWJzY3JpYmUgPSB2YWx1ZSA9PiB7XG4gICAgICAgICRjdC5nbG9iYWxVbnN1YnNjcmliZSA9IHZhbHVlO1xuICAgICAgfTtcblxuICAgICAgYXBpLnNldFVwZGF0ZWRDYXRlZ29yeUxvbmcgPSBwcm9maWxlID0+IHtcbiAgICAgICAgaWYgKHByb2ZpbGVbY2F0ZWdvcnlMb25nS2V5XSkge1xuICAgICAgICAgICRjdC51cGRhdGVkQ2F0ZWdvcnlMb25nID0gcHJvZmlsZVtjYXRlZ29yeUxvbmdLZXldO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB3aW5kb3cuJENMVFBfV1IgPSB3aW5kb3cuJFdaUktfV1IgPSBhcGk7XG5cbiAgICAgIGlmICgoX2NsZXZlcnRhcCRhY2NvdW50NSA9IGNsZXZlcnRhcC5hY2NvdW50KSA9PT0gbnVsbCB8fCBfY2xldmVydGFwJGFjY291bnQ1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY2xldmVydGFwJGFjY291bnQ1WzBdLmlkKSB7XG4gICAgICAgIC8vIFRoZSBhY2NvdW50SWQgaXMgcHJlc2VudCBzbyBjYW4gaW5pdCB3aXRoIGVtcHR5IHZhbHVlcy5cbiAgICAgICAgLy8gTmVlZGVkIHRvIG1haW50YWluIGJhY2t3YXJkIGNvbXBhdGFiaWxpdHkgd2l0aCBsZWdhY3kgaW1wbGVtZW50YXRpb25zLlxuICAgICAgICAvLyBOcG0gaW1wb3J0cy9yZXF1aXJlIHdpbGwgbmVlZCB0byBjYWxsIGluaXQgZXhwbGljdGx5IHdpdGggYWNjb3VudElkXG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgfVxuICAgIH0gLy8gc3RhcnRzIGhlcmVcblxuXG4gICAgaW5pdChhY2NvdW50SWQsIHJlZ2lvbiwgdGFyZ2V0RG9tYWluLCB0b2tlbikge1xuICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb25sb2FkY2FsbGVkKVtfb25sb2FkY2FsbGVkXSA9PT0gMSkge1xuICAgICAgICAvLyBhbHJlYWR5IGluaXRhaWxzZWRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjaGVja0J1aWxkZXIoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXSk7XG4gICAgICBTdG9yYWdlTWFuYWdlci5yZW1vdmVDb29raWUoJ1daUktfUCcsIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSk7XG5cbiAgICAgIGlmICghX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLmlkKSB7XG4gICAgICAgIGlmICghYWNjb3VudElkKSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXS5lcnJvcihFTUJFRF9FUlJPUik7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNilbX2FjY291bnQkNl0uaWQgPSBhY2NvdW50SWQ7XG4gICAgICB9XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbiQzKVtfc2Vzc2lvbiQzXS5jb29raWVOYW1lID0gU0NPT0tJRV9QUkVGSVggKyAnXycgKyBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNilbX2FjY291bnQkNl0uaWQ7XG5cbiAgICAgIGlmIChyZWdpb24pIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLnJlZ2lvbiA9IHJlZ2lvbjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRhcmdldERvbWFpbikge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNilbX2FjY291bnQkNl0udGFyZ2V0RG9tYWluID0gdGFyZ2V0RG9tYWluO1xuICAgICAgfVxuXG4gICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLnRva2VuID0gdG9rZW47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGN1cnJMb2NhdGlvbiA9IGxvY2F0aW9uLmhyZWY7XG4gICAgICBjb25zdCB1cmxQYXJhbXMgPSBnZXRVUkxQYXJhbXMoY3VyckxvY2F0aW9uLnRvTG93ZXJDYXNlKCkpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cbiAgICAgIGlmICh0eXBlb2YgdXJsUGFyYW1zLmUgIT09ICd1bmRlZmluZWQnICYmIHVybFBhcmFtcy53enJrX2V4ID09ICcwJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICRjdC5pc1ByaXZhY3lBcnJQdXNoZWQgPSB0cnVlO1xuXG4gICAgICBpZiAoJGN0LnByaXZhY3lBcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMucHJpdmFjeS5wdXNoKCRjdC5wcml2YWN5QXJyYXkpO1xuICAgICAgfVxuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Byb2Nlc3NPbGRWYWx1ZXMpW19wcm9jZXNzT2xkVmFsdWVzXSgpO1xuXG4gICAgICB0aGlzLnBhZ2VDaGFuZ2VkKCk7XG4gICAgICBjb25zdCBiYWNrdXBJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlJDMpW19kZXZpY2UkM10uZ2Nvb2tpZSkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoYmFja3VwSW50ZXJ2YWwpO1xuXG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDcpW19yZXF1ZXN0JDddLnByb2Nlc3NCYWNrdXBFdmVudHMoKTtcbiAgICAgICAgfVxuICAgICAgfSwgMzAwMCk7XG5cbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzU3BhKVtfaXNTcGFdKSB7XG4gICAgICAgIC8vIGxpc3RlbiB0byBjbGljayBvbiB0aGUgZG9jdW1lbnQgYW5kIGNoZWNrIGlmIFVSTCBoYXMgY2hhbmdlZC5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2JvdW5kQ2hlY2tQYWdlQ2hhbmdlZClbX2JvdW5kQ2hlY2tQYWdlQ2hhbmdlZF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcmVtb3ZlIGV4aXN0aW5nIGNsaWNrIGxpc3RlbmVycyBpZiBhbnlcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2JvdW5kQ2hlY2tQYWdlQ2hhbmdlZClbX2JvdW5kQ2hlY2tQYWdlQ2hhbmdlZF0pO1xuICAgICAgfVxuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29ubG9hZGNhbGxlZClbX29ubG9hZGNhbGxlZF0gPSAxO1xuICAgIH0gLy8gcHJvY2VzcyB0aGUgb3B0aW9uIGFycmF5IHByb3ZpZGVkIHRvIHRoZSBjbGV2ZXJ0YXAgb2JqZWN0XG4gICAgLy8gYWZ0ZXIgaXRzIGJlZW4gaW5pdGlhbGl6ZWRcblxuXG4gICAgcGFnZUNoYW5nZWQoKSB7XG4gICAgICBjb25zdCBjdXJyTG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICAgIGNvbnN0IHVybFBhcmFtcyA9IGdldFVSTFBhcmFtcyhjdXJyTG9jYXRpb24udG9Mb3dlckNhc2UoKSk7IC8vIC0tIHVwZGF0ZSBwYWdlIGNvdW50XG5cbiAgICAgIGNvbnN0IG9iaiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbiQzKVtfc2Vzc2lvbiQzXS5nZXRTZXNzaW9uQ29va2llT2JqZWN0KCk7XG5cbiAgICAgIGxldCBwZ0NvdW50ID0gdHlwZW9mIG9iai5wID09PSAndW5kZWZpbmVkJyA/IDAgOiBvYmoucDtcbiAgICAgIG9iai5wID0gKytwZ0NvdW50O1xuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMylbX3Nlc3Npb24kM10uc2V0U2Vzc2lvbkNvb2tpZU9iamVjdChvYmopOyAvLyAtLSB1cGRhdGUgcGFnZSBjb3VudFxuXG5cbiAgICAgIGxldCBkYXRhID0ge307XG4gICAgICBsZXQgcmVmZXJyZXJEb21haW4gPSBnZXREb21haW4oZG9jdW1lbnQucmVmZXJyZXIpO1xuXG4gICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lICE9PSByZWZlcnJlckRvbWFpbikge1xuICAgICAgICBjb25zdCBtYXhMZW4gPSAxMjA7XG5cbiAgICAgICAgaWYgKHJlZmVycmVyRG9tYWluICE9PSAnJykge1xuICAgICAgICAgIHJlZmVycmVyRG9tYWluID0gcmVmZXJyZXJEb21haW4ubGVuZ3RoID4gbWF4TGVuID8gcmVmZXJyZXJEb21haW4uc3Vic3RyaW5nKDAsIG1heExlbikgOiByZWZlcnJlckRvbWFpbjtcbiAgICAgICAgICBkYXRhLnJlZmVycmVyID0gcmVmZXJyZXJEb21haW47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdXRtU291cmNlID0gdXJsUGFyYW1zLnV0bV9zb3VyY2UgfHwgdXJsUGFyYW1zLnd6cmtfc291cmNlO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdXRtU291cmNlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHV0bVNvdXJjZSA9IHV0bVNvdXJjZS5sZW5ndGggPiBtYXhMZW4gPyB1dG1Tb3VyY2Uuc3Vic3RyaW5nKDAsIG1heExlbikgOiB1dG1Tb3VyY2U7XG4gICAgICAgICAgZGF0YS51cyA9IHV0bVNvdXJjZTsgLy8gdXRtX3NvdXJjZVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHV0bU1lZGl1bSA9IHVybFBhcmFtcy51dG1fbWVkaXVtIHx8IHVybFBhcmFtcy53enJrX21lZGl1bTtcblxuICAgICAgICBpZiAodHlwZW9mIHV0bU1lZGl1bSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB1dG1NZWRpdW0gPSB1dG1NZWRpdW0ubGVuZ3RoID4gbWF4TGVuID8gdXRtTWVkaXVtLnN1YnN0cmluZygwLCBtYXhMZW4pIDogdXRtTWVkaXVtO1xuICAgICAgICAgIGRhdGEudW0gPSB1dG1NZWRpdW07IC8vIHV0bV9tZWRpdW1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB1dG1DYW1wYWlnbiA9IHVybFBhcmFtcy51dG1fY2FtcGFpZ24gfHwgdXJsUGFyYW1zLnd6cmtfY2FtcGFpZ247XG5cbiAgICAgICAgaWYgKHR5cGVvZiB1dG1DYW1wYWlnbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB1dG1DYW1wYWlnbiA9IHV0bUNhbXBhaWduLmxlbmd0aCA+IG1heExlbiA/IHV0bUNhbXBhaWduLnN1YnN0cmluZygwLCBtYXhMZW4pIDogdXRtQ2FtcGFpZ247XG4gICAgICAgICAgZGF0YS51YyA9IHV0bUNhbXBhaWduOyAvLyB1dG1fY2FtcGFpZ25cbiAgICAgICAgfSAvLyBhbHNvIGluZGVwZW5kZW50bHkgc2VuZCB3enJrX21lZGl1bSB0byB0aGUgYmFja2VuZFxuXG5cbiAgICAgICAgaWYgKHR5cGVvZiB1cmxQYXJhbXMud3pya19tZWRpdW0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgY29uc3Qgd20gPSB1cmxQYXJhbXMud3pya19tZWRpdW07XG5cbiAgICAgICAgICBpZiAod20ubWF0Y2goL15lbWFpbCR8XnNvY2lhbCR8XnNlYXJjaCQvKSkge1xuICAgICAgICAgICAgZGF0YS53bSA9IHdtOyAvLyB3enJrX21lZGl1bVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBkYXRhID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDcpW19yZXF1ZXN0JDddLmFkZFN5c3RlbURhdGFUb09iamVjdChkYXRhLCB1bmRlZmluZWQpO1xuICAgICAgZGF0YS5jcGcgPSBjdXJyTG9jYXRpb247XG4gICAgICBkYXRhW0NBTVBfQ09PS0lFX05BTUVdID0gZ2V0Q2FtcGFpZ25PYmpGb3JMYygpO1xuXG4gICAgICBsZXQgcGFnZUxvYWRVcmwgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNilbX2FjY291bnQkNl0uZGF0YVBvc3RVUkw7XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XS5hZGRGbGFncyhkYXRhKTsgLy8gc2VuZCBkc3luYyBmbGFnIHdoZW4gcGFnZSA9IDFcblxuXG4gICAgICBpZiAocGFyc2VJbnQoZGF0YS5wZykgPT09IDEpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vdmVycmlkZURTeW5jRmxhZylbX292ZXJyaWRlRFN5bmNGbGFnXShkYXRhKTtcbiAgICAgIH1cblxuICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ3R5cGUnLCAncGFnZScpO1xuICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ2QnLCBjb21wcmVzc0RhdGEoSlNPTi5zdHJpbmdpZnkoZGF0YSksIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0pKTtcblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDcpW19yZXF1ZXN0JDddLnNhdmVBbmRGaXJlUmVxdWVzdChwYWdlTG9hZFVybCwgJGN0LmJsb2NrUmVxdWVzdCk7XG5cbiAgICAgIGlmIChwYXJzZUludChkYXRhLnBnKSA9PT0gMSkge1xuICAgICAgICB0aGlzLmV2ZW50LnB1c2goV1pSS19GRVRDSCwge1xuICAgICAgICAgIHQ6IDRcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcHJldmlvdXNVcmwpW19wcmV2aW91c1VybF0gPSBjdXJyTG9jYXRpb247XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKHBnQ291bnQgPD0gMykge1xuICAgICAgICAgIC8vIHNlbmQgcGluZyBmb3IgdXAgdG8gMyBwYWdlc1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcGluZ1JlcXVlc3QpW19waW5nUmVxdWVzdF0oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzUGluZ0NvbnRpbnVvdXMpW19pc1BpbmdDb250aW51b3VzXSgpKSB7XG4gICAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9waW5nUmVxdWVzdClbX3BpbmdSZXF1ZXN0XSgpO1xuICAgICAgICAgIH0sIENPTlRJTlVPVVNfUElOR19GUkVRX0lOX01JTExJUyk7XG4gICAgICAgIH1cbiAgICAgIH0sIEZJUlNUX1BJTkdfRlJFUV9JTl9NSUxMSVMpO1xuICAgIH1cblxuICAgIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSgpIHtcbiAgICAgIHJldHVybiBTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSAmJiB0aGlzLmVuYWJsZVBlcnNvbmFsaXphdGlvbjtcbiAgICB9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYWNjZXNzb3ItcGFpcnNcbiAgICBzZXQgcG9wdXBDYWxsYmFjayhjYWxsYmFjaykge1xuICAgICAgdGhpcy5wb3B1cENhbGxiYWNrc1t0aGlzLnBvcHVwQ3VycmVudFd6cmtJZF0gPSBjYWxsYmFjaztcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcGF5bG9hZFxuICAgICAqL1xuXG5cbiAgICAvLyBvZmZsaW5lIG1vZGVcblxuICAgIC8qKlxuICAgICAqIGV2ZW50cyB3aWxsIGJlIHJlY29yZGVkIGFuZCBxdWV1ZWQgbG9jYWxseSB3aGVuIHBhc3NlZCB3aXRoIHRydWVcbiAgICAgKiBidXQgd2lsbCBub3QgYmUgc2VudCB0byB0aGUgc2VydmVyIHVudGlsIG9mZmxpbmUgaXMgZGlzYWJsZWQgYnkgcGFzc2luZyBmYWxzZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXJnXG4gICAgICovXG4gICAgc2V0T2ZmbGluZShhcmcpIHtcbiAgICAgIGlmICh0eXBlb2YgYXJnICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignc2V0T2ZmbGluZSBzaG91bGQgYmUgY2FsbGVkIHdpdGggYSB2YWx1ZSBvZiB0eXBlIGJvb2xlYW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAkY3Qub2ZmbGluZSA9IGFyZzsgLy8gaWYgb2ZmbGluZSBpcyBkaXNhYmxlZFxuICAgICAgLy8gcHJvY2VzcyBldmVudHMgZnJvbSBjYWNoZVxuXG4gICAgICBpZiAoIWFyZykge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNylbX3JlcXVlc3QkN10ucHJvY2Vzc0JhY2t1cEV2ZW50cygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGdldFNES1ZlcnNpb24oKSB7XG4gICAgICByZXR1cm4gJ3dlYi1zZGstdjEuOC4yJztcbiAgICB9XG5cbiAgICBkZWZpbmVWYXJpYWJsZShuYW1lLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiBWYXJpYWJsZS5kZWZpbmUobmFtZSwgZGVmYXVsdFZhbHVlLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlU3RvcmUkMSlbX3ZhcmlhYmxlU3RvcmUkMV0pO1xuICAgIH1cblxuICAgIHN5bmNWYXJpYWJsZXMob25TeW5jU3VjY2Vzcywgb25TeW5jRmFpbHVyZSkge1xuICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0ubG9nTGV2ZWwgPT09IDQpIHtcbiAgICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVTdG9yZSQxKVtfdmFyaWFibGVTdG9yZSQxXS5zeW5jVmFyaWFibGVzKG9uU3luY1N1Y2Nlc3MsIG9uU3luY0ZhaWx1cmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbSA9ICdBcHAgbG9nIGxldmVsIGlzIG5vdCBzZXQgdG8gNCc7XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXS5lcnJvcihtKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKG0pKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmZXRjaFZhcmlhYmxlcyhvbkZldGNoQ2FsbGJhY2spIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVTdG9yZSQxKVtfdmFyaWFibGVTdG9yZSQxXS5mZXRjaFZhcmlhYmxlcyhvbkZldGNoQ2FsbGJhY2spO1xuICAgIH1cblxuICAgIGFkZFZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjayhjYWxsYmFjaykge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZVN0b3JlJDEpW192YXJpYWJsZVN0b3JlJDFdLmFkZFZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjayhjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgYWRkT25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjayhjYWxsYmFjaykge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZVN0b3JlJDEpW192YXJpYWJsZVN0b3JlJDFdLmFkZE9uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2soY2FsbGJhY2spO1xuICAgIH1cblxuICB9XG5cbiAgdmFyIF9wcm9jZXNzT2xkVmFsdWVzMiA9IGZ1bmN0aW9uIF9wcm9jZXNzT2xkVmFsdWVzMigpIHtcbiAgICB0aGlzLm9uVXNlckxvZ2luLl9wcm9jZXNzT2xkVmFsdWVzKCk7XG5cbiAgICB0aGlzLnByaXZhY3kuX3Byb2Nlc3NPbGRWYWx1ZXMoKTtcblxuICAgIHRoaXMuZXZlbnQuX3Byb2Nlc3NPbGRWYWx1ZXMoKTtcblxuICAgIHRoaXMucHJvZmlsZS5fcHJvY2Vzc09sZFZhbHVlcygpO1xuXG4gICAgdGhpcy5ub3RpZmljYXRpb25zLl9wcm9jZXNzT2xkVmFsdWVzKCk7XG4gIH07XG5cbiAgdmFyIF9kZWJvdW5jZTIgPSBmdW5jdGlvbiBfZGVib3VuY2UyKGZ1bmMpIHtcbiAgICBsZXQgZGVsYXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDMwMDtcbiAgICBsZXQgdGltZW91dDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuYywgZGVsYXkpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIF9jaGVja1BhZ2VDaGFuZ2VkMiA9IGZ1bmN0aW9uIF9jaGVja1BhZ2VDaGFuZ2VkMigpIHtcbiAgICBjb25zdCBkZWJvdW5jZWRQYWdlQ2hhbmdlZCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGVib3VuY2UpW19kZWJvdW5jZV0oKCkgPT4ge1xuICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcHJldmlvdXNVcmwpW19wcmV2aW91c1VybF0gIT09IGxvY2F0aW9uLmhyZWYpIHtcbiAgICAgICAgdGhpcy5wYWdlQ2hhbmdlZCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVib3VuY2VkUGFnZUNoYW5nZWQoKTtcbiAgfTtcblxuICB2YXIgX3BpbmdSZXF1ZXN0MiA9IGZ1bmN0aW9uIF9waW5nUmVxdWVzdDIoKSB7XG4gICAgbGV0IHBhZ2VMb2FkVXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLmRhdGFQb3N0VVJMO1xuXG4gICAgbGV0IGRhdGEgPSB7fTtcbiAgICBkYXRhID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDcpW19yZXF1ZXN0JDddLmFkZFN5c3RlbURhdGFUb09iamVjdChkYXRhLCB1bmRlZmluZWQpO1xuICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICd0eXBlJywgRVZUX1BJTkcpO1xuICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICdkJywgY29tcHJlc3NEYXRhKEpTT04uc3RyaW5naWZ5KGRhdGEpLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdKSk7XG5cbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNylbX3JlcXVlc3QkN10uc2F2ZUFuZEZpcmVSZXF1ZXN0KHBhZ2VMb2FkVXJsLCAkY3QuYmxvY2tSZXF1ZXN0KTtcbiAgfTtcblxuICB2YXIgX2lzUGluZ0NvbnRpbnVvdXMyID0gZnVuY3Rpb24gX2lzUGluZ0NvbnRpbnVvdXMyKCkge1xuICAgIHJldHVybiB0eXBlb2Ygd2luZG93Lnd6cmtfZCAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lnd6cmtfZC5waW5nID09PSAnY29udGludW91cyc7XG4gIH07XG5cbiAgdmFyIF9vdmVycmlkZURTeW5jRmxhZzIgPSBmdW5jdGlvbiBfb3ZlcnJpZGVEU3luY0ZsYWcyKGRhdGEpIHtcbiAgICBpZiAodGhpcy5faXNQZXJzb25hbGlzYXRpb25BY3RpdmUoKSkge1xuICAgICAgZGF0YS5kc3luYyA9IHRydWU7XG4gICAgfVxuICB9O1xuXG4gIHZhciBfc2VuZExvY2F0aW9uRGF0YTIgPSBmdW5jdGlvbiBfc2VuZExvY2F0aW9uRGF0YTIocGF5bG9hZCkge1xuICAgIC8vIFNlbmQgdGhlIHVwZGF0ZWQgdmFsdWUgdG8gTENcbiAgICBsZXQgZGF0YSA9IHt9O1xuICAgIGRhdGEuYWYgPSB7fTtcbiAgICBjb25zdCBwcm9maWxlT2JqID0ge307XG4gICAgZGF0YS50eXBlID0gJ3Byb2ZpbGUnO1xuXG4gICAgaWYgKHByb2ZpbGVPYmoudHogPT0gbnVsbCkge1xuICAgICAgcHJvZmlsZU9iai50eiA9IG5ldyBEYXRlKCkudG9TdHJpbmcoKS5tYXRjaCgvKFtBLVpdK1tcXCstXVswLTldKykvKVsxXTtcbiAgICB9XG5cbiAgICBkYXRhLnByb2ZpbGUgPSBwcm9maWxlT2JqO1xuXG4gICAgaWYgKHBheWxvYWQpIHtcbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwYXlsb2FkKTtcbiAgICAgIGtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBkYXRhLmFmW2tleV0gPSBwYXlsb2FkW2tleV07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoJGN0LmxvY2F0aW9uKSB7XG4gICAgICBkYXRhLmFmID0geyAuLi5kYXRhLmFmLFxuICAgICAgICAuLi4kY3QubG9jYXRpb25cbiAgICAgIH07XG4gICAgfVxuXG4gICAgZGF0YSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XS5hZGRTeXN0ZW1EYXRhVG9PYmplY3QoZGF0YSwgdHJ1ZSk7XG5cbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNylbX3JlcXVlc3QkN10uYWRkRmxhZ3MoZGF0YSk7XG5cbiAgICBjb25zdCBjb21wcmVzc2VkRGF0YSA9IGNvbXByZXNzRGF0YShKU09OLnN0cmluZ2lmeShkYXRhKSwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXSk7XG5cbiAgICBsZXQgcGFnZUxvYWRVcmwgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNilbX2FjY291bnQkNl0uZGF0YVBvc3RVUkw7XG5cbiAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAndHlwZScsIEVWVF9QVVNIKTtcbiAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAnZCcsIGNvbXByZXNzZWREYXRhKTtcblxuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XS5zYXZlQW5kRmlyZVJlcXVlc3QocGFnZUxvYWRVcmwsICRjdC5ibG9ja1JlcXVlc3QpO1xuICB9O1xuXG4gIGNvbnN0IGNsZXZlcnRhcCA9IG5ldyBDbGV2ZXJUYXAod2luZG93LmNsZXZlcnRhcCk7XG4gIHdpbmRvdy5jbGV2ZXJ0YXAgPSB3aW5kb3cud2l6cm9ja2V0ID0gY2xldmVydGFwO1xuXG4gIHJldHVybiBjbGV2ZXJ0YXA7XG5cbn0pKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGV2ZXJ0YXAuanMubWFwXG4iLCIvKipcbiAqIExvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcy5mb3VuZGF0aW9uLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbnZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4vKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG52YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xudmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMSxcbiAgICBDT01QQVJFX1VOT1JERVJFRF9GTEFHID0gMjtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgIHByb21pc2VUYWcgPSAnW29iamVjdCBQcm9taXNlXScsXG4gICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nLFxuICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nLFxuICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nLFxuICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXSc7XG5cbnZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xudmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG50eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbnR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbnR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbnR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbnR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbnR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbnR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbnR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbnR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4vKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbnZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nKCd1dGlsJyk7XG4gIH0gY2F0Y2ggKGUpIHt9XG59KCkpO1xuXG4vKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xudmFyIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZpbHRlcmAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheUZpbHRlcihhcnJheSwgcHJlZGljYXRlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICByZXNJbmRleCA9IDAsXG4gICAgICByZXN1bHQgPSBbXTtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBcHBlbmRzIHRoZSBlbGVtZW50cyBvZiBgdmFsdWVzYCB0byBgYXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYXBwZW5kLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5UHVzaChhcnJheSwgdmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgIG9mZnNldCA9IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zb21lYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAqIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlTb21lKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgYGNhY2hlYCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gY2FjaGUgVGhlIGNhY2hlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGNhY2hlSGFzKGNhY2hlLCBrZXkpIHtcbiAgcmV0dXJuIGNhY2hlLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgbWFwYCB0byBpdHMga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICovXG5mdW5jdGlvbiBtYXBUb0FycmF5KG1hcCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG1hcC5zaXplKTtcblxuICBtYXAuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbi8qKlxuICogQ29udmVydHMgYHNldGAgdG8gYW4gYXJyYXkgb2YgaXRzIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gc2V0VG9BcnJheShzZXQpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyByb290LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBTeW1ib2wgPSByb290LlN5bWJvbCxcbiAgICBVaW50OEFycmF5ID0gcm9vdC5VaW50OEFycmF5LFxuICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2UsXG4gICAgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVHZXRTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgICBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKHJvb3QsICdEYXRhVmlldycpLFxuICAgIE1hcCA9IGdldE5hdGl2ZShyb290LCAnTWFwJyksXG4gICAgUHJvbWlzZSA9IGdldE5hdGl2ZShyb290LCAnUHJvbWlzZScpLFxuICAgIFNldCA9IGdldE5hdGl2ZShyb290LCAnU2V0JyksXG4gICAgV2Vha01hcCA9IGdldE5hdGl2ZShyb290LCAnV2Vha01hcCcpLFxuICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbnZhciBkYXRhVmlld0N0b3JTdHJpbmcgPSB0b1NvdXJjZShEYXRhVmlldyksXG4gICAgbWFwQ3RvclN0cmluZyA9IHRvU291cmNlKE1hcCksXG4gICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICBzZXRDdG9yU3RyaW5nID0gdG9Tb3VyY2UoU2V0KSxcbiAgICB3ZWFrTWFwQ3RvclN0cmluZyA9IHRvU291cmNlKFdlYWtNYXApO1xuXG4vKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbnZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVmFsdWVPZiA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udmFsdWVPZiA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgSGFzaFxuICovXG5mdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICB0aGlzLnNpemUgKz0gdGhpcy5oYXMoa2V5KSA/IDAgOiAxO1xuICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbkhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbkhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG5IYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gW107XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICBkYXRhLnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgfVxuICAtLXRoaXMuc2l6ZTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgICsrdGhpcy5zaXplO1xuICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9IGVsc2Uge1xuICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbkxpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuc2l6ZSA9IDA7XG4gIHRoaXMuX19kYXRhX18gPSB7XG4gICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgfTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLFxuICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgdGhpcy5zaXplICs9IGRhdGEuc2l6ZSA9PSBzaXplID8gMCA6IDE7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbk1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbk1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbk1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbk1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuLyoqXG4gKlxuICogQ3JlYXRlcyBhbiBhcnJheSBjYWNoZSBvYmplY3QgdG8gc3RvcmUgdW5pcXVlIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTZXRDYWNoZSh2YWx1ZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMgPT0gbnVsbCA/IDAgOiB2YWx1ZXMubGVuZ3RoO1xuXG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGU7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdGhpcy5hZGQodmFsdWVzW2luZGV4XSk7XG4gIH1cbn1cblxuLyoqXG4gKiBBZGRzIGB2YWx1ZWAgdG8gdGhlIGFycmF5IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBhZGRcbiAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICogQGFsaWFzIHB1c2hcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNhY2hlLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHNldENhY2hlQWRkKHZhbHVlKSB7XG4gIHRoaXMuX19kYXRhX18uc2V0KHZhbHVlLCBIQVNIX1VOREVGSU5FRCk7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIHRoZSBhcnJheSBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHNldENhY2hlSGFzKHZhbHVlKSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh2YWx1ZSk7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTZXRDYWNoZWAuXG5TZXRDYWNoZS5wcm90b3R5cGUuYWRkID0gU2V0Q2FjaGUucHJvdG90eXBlLnB1c2ggPSBzZXRDYWNoZUFkZDtcblNldENhY2hlLnByb3RvdHlwZS5oYXMgPSBzZXRDYWNoZUhhcztcblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqL1xuZnVuY3Rpb24gc3RhY2tDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGU7XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICByZXN1bHQgPSBkYXRhWydkZWxldGUnXShrZXkpO1xuXG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tHZXQoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tIYXMoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgfVxuICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cblN0YWNrLnByb3RvdHlwZS5jbGVhciA9IHN0YWNrQ2xlYXI7XG5TdGFjay5wcm90b3R5cGVbJ2RlbGV0ZSddID0gc3RhY2tEZWxldGU7XG5TdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG5TdGFjay5wcm90b3R5cGUuaGFzID0gc3RhY2tIYXM7XG5TdGFjay5wcm90b3R5cGUuc2V0ID0gc3RhY2tTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgIGlzQXJnID0gIWlzQXJyICYmIGlzQXJndW1lbnRzKHZhbHVlKSxcbiAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiAhaXNBcmcgJiYgaXNCdWZmZXIodmFsdWUpLFxuICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICBza2lwSW5kZXhlcyA9IGlzQXJyIHx8IGlzQXJnIHx8IGlzQnVmZiB8fCBpc1R5cGUsXG4gICAgICByZXN1bHQgPSBza2lwSW5kZXhlcyA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZykgOiBbXSxcbiAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgIC8vIFNhZmFyaSA5IGhhcyBlbnVtZXJhYmxlIGBhcmd1bWVudHMubGVuZ3RoYCBpbiBzdHJpY3QgbW9kZS5cbiAgICAgICAgICAga2V5ID09ICdsZW5ndGgnIHx8XG4gICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAoaXNCdWZmICYmIChrZXkgPT0gJ29mZnNldCcgfHwga2V5ID09ICdwYXJlbnQnKSkgfHxcbiAgICAgICAgICAgLy8gUGhhbnRvbUpTIDIgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gdHlwZWQgYXJyYXlzLlxuICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgLy8gU2tpcCBpbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICBpc0luZGV4KGtleSwgbGVuZ3RoKVxuICAgICAgICApKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0QWxsS2V5c2AgYW5kIGBnZXRBbGxLZXlzSW5gIHdoaWNoIHVzZXNcbiAqIGBrZXlzRnVuY2AgYW5kIGBzeW1ib2xzRnVuY2AgdG8gZ2V0IHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN5bWJvbHNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNGdW5jLCBzeW1ib2xzRnVuYykge1xuICB2YXIgcmVzdWx0ID0ga2V5c0Z1bmMob2JqZWN0KTtcbiAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqL1xuZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNFcXVhbGAgd2hpY2ggc3VwcG9ydHMgcGFydGlhbCBjb21wYXJpc29uc1xuICogYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gKiAgMSAtIFVub3JkZXJlZCBjb21wYXJpc29uXG4gKiAgMiAtIFBhcnRpYWwgY29tcGFyaXNvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGB2YWx1ZWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdExpa2UodmFsdWUpICYmICFpc09iamVjdExpa2Uob3RoZXIpKSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyO1xuICB9XG4gIHJldHVybiBiYXNlSXNFcXVhbERlZXAodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBiYXNlSXNFcXVhbCwgc3RhY2spO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAqIGRlZXAgY29tcGFyaXNvbnMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAqIHJlZmVyZW5jZXMgdG8gYmUgY29tcGFyZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0VxdWFsRGVlcChvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHZhciBvYmpJc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgIG90aElzQXJyID0gaXNBcnJheShvdGhlciksXG4gICAgICBvYmpUYWcgPSBvYmpJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG9iamVjdCksXG4gICAgICBvdGhUYWcgPSBvdGhJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG90aGVyKTtcblxuICBvYmpUYWcgPSBvYmpUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG9ialRhZztcbiAgb3RoVGFnID0gb3RoVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvdGhUYWc7XG5cbiAgdmFyIG9iaklzT2JqID0gb2JqVGFnID09IG9iamVjdFRhZyxcbiAgICAgIG90aElzT2JqID0gb3RoVGFnID09IG9iamVjdFRhZyxcbiAgICAgIGlzU2FtZVRhZyA9IG9ialRhZyA9PSBvdGhUYWc7XG5cbiAgaWYgKGlzU2FtZVRhZyAmJiBpc0J1ZmZlcihvYmplY3QpKSB7XG4gICAgaWYgKCFpc0J1ZmZlcihvdGhlcikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgb2JqSXNBcnIgPSB0cnVlO1xuICAgIG9iaklzT2JqID0gZmFsc2U7XG4gIH1cbiAgaWYgKGlzU2FtZVRhZyAmJiAhb2JqSXNPYmopIHtcbiAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgIHJldHVybiAob2JqSXNBcnIgfHwgaXNUeXBlZEFycmF5KG9iamVjdCkpXG4gICAgICA/IGVxdWFsQXJyYXlzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spXG4gICAgICA6IGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgb2JqVGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgfVxuICBpZiAoIShiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcpKSB7XG4gICAgdmFyIG9iaklzV3JhcHBlZCA9IG9iaklzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCAnX193cmFwcGVkX18nKSxcbiAgICAgICAgb3RoSXNXcmFwcGVkID0gb3RoSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwgJ19fd3JhcHBlZF9fJyk7XG5cbiAgICBpZiAob2JqSXNXcmFwcGVkIHx8IG90aElzV3JhcHBlZCkge1xuICAgICAgdmFyIG9ialVud3JhcHBlZCA9IG9iaklzV3JhcHBlZCA/IG9iamVjdC52YWx1ZSgpIDogb2JqZWN0LFxuICAgICAgICAgIG90aFVud3JhcHBlZCA9IG90aElzV3JhcHBlZCA/IG90aGVyLnZhbHVlKCkgOiBvdGhlcjtcblxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHJldHVybiBlcXVhbEZ1bmMob2JqVW53cmFwcGVkLCBvdGhVbndyYXBwZWQsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFpc1NhbWVUYWcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgcmV0dXJuIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3NbYmFzZUdldFRhZyh2YWx1ZSldO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7XG4gIGlmICghaXNQcm90b3R5cGUob2JqZWN0KSkge1xuICAgIHJldHVybiBuYXRpdmVLZXlzKG9iamVjdCk7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYga2V5ICE9ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBhcnJheXMgd2l0aCBzdXBwb3J0IGZvclxuICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgYXJyYXlgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFycmF5cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbEFycmF5cyhhcnJheSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgIG90aExlbmd0aCA9IG90aGVyLmxlbmd0aDtcblxuICBpZiAoYXJyTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhKGlzUGFydGlhbCAmJiBvdGhMZW5ndGggPiBhcnJMZW5ndGgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQoYXJyYXkpO1xuICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gIH1cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSB0cnVlLFxuICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgc3RhY2suc2V0KGFycmF5LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgYXJyYXkpO1xuXG4gIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgd2hpbGUgKCsraW5kZXggPCBhcnJMZW5ndGgpIHtcbiAgICB2YXIgYXJyVmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgOiBjdXN0b21pemVyKGFyclZhbHVlLCBvdGhWYWx1ZSwgaW5kZXgsIGFycmF5LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGNvbXBhcmVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoc2Vlbikge1xuICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgaWYgKCFjYWNoZUhhcyhzZWVuLCBvdGhJbmRleCkgJiZcbiAgICAgICAgICAgICAgICAoYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpIHtcbiAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICBhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHxcbiAgICAgICAgICAgIGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICApKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBzdGFja1snZGVsZXRlJ10oYXJyYXkpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgY29tcGFyaW5nIG9iamVjdHMgb2ZcbiAqIHRoZSBzYW1lIGB0b1N0cmluZ1RhZ2AuXG4gKlxuICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjb21wYXJpbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgb3IgYFN0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdHMgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIHRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgKG9iamVjdC5ieXRlT2Zmc2V0ICE9IG90aGVyLmJ5dGVPZmZzZXQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IG9iamVjdC5idWZmZXI7XG4gICAgICBvdGhlciA9IG90aGVyLmJ1ZmZlcjtcblxuICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgIWVxdWFsRnVuYyhuZXcgVWludDhBcnJheShvYmplY3QpLCBuZXcgVWludDhBcnJheShvdGhlcikpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgY2FzZSBib29sVGFnOlxuICAgIGNhc2UgZGF0ZVRhZzpcbiAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgIC8vIENvZXJjZSBib29sZWFucyB0byBgMWAgb3IgYDBgIGFuZCBkYXRlcyB0byBtaWxsaXNlY29uZHMuXG4gICAgICAvLyBJbnZhbGlkIGRhdGVzIGFyZSBjb2VyY2VkIHRvIGBOYU5gLlxuICAgICAgcmV0dXJuIGVxKCtvYmplY3QsICtvdGhlcik7XG5cbiAgICBjYXNlIGVycm9yVGFnOlxuICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcbiAgICAgIC8vIGFzIGVxdWFsLiBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcbiAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblxuICAgIGNhc2UgbWFwVGFnOlxuICAgICAgdmFyIGNvbnZlcnQgPSBtYXBUb0FycmF5O1xuXG4gICAgY2FzZSBzZXRUYWc6XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHO1xuICAgICAgY29udmVydCB8fCAoY29udmVydCA9IHNldFRvQXJyYXkpO1xuXG4gICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIGJpdG1hc2sgfD0gQ09NUEFSRV9VTk9SREVSRURfRkxBRztcblxuICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICB2YXIgcmVzdWx0ID0gZXF1YWxBcnJheXMoY29udmVydChvYmplY3QpLCBjb252ZXJ0KG90aGVyKSwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgIGlmIChzeW1ib2xWYWx1ZU9mKSB7XG4gICAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mLmNhbGwob2JqZWN0KSA9PSBzeW1ib2xWYWx1ZU9mLmNhbGwob3RoZXIpO1xuICAgICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvclxuICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuICAgICAgb2JqTGVuZ3RoID0gb2JqUHJvcHMubGVuZ3RoLFxuICAgICAgb3RoUHJvcHMgPSBnZXRBbGxLZXlzKG90aGVyKSxcbiAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICBpZiAob2JqTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBpbmRleCA9IG9iakxlbmd0aDtcbiAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIGlmICghKGlzUGFydGlhbCA/IGtleSBpbiBvdGhlciA6IGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsIGtleSkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICB9XG4gIHZhciByZXN1bHQgPSB0cnVlO1xuICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gIHN0YWNrLnNldChvdGhlciwgb2JqZWN0KTtcblxuICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSlcbiAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgfVxuICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAvLyBOb24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbC5cbiAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAhKHR5cGVvZiBvYmpDdG9yID09ICdmdW5jdGlvbicgJiYgb2JqQ3RvciBpbnN0YW5jZW9mIG9iakN0b3IgJiZcbiAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gKi9cbmZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXMsIGdldFN5bWJvbHMpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgIDogZGF0YS5tYXA7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICB0cnkge1xuICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgaWYgKHVubWFza2VkKSB7XG4gICAgaWYgKGlzT3duKSB7XG4gICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICovXG52YXIgZ2V0U3ltYm9scyA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgcmV0dXJuIGFycmF5RmlsdGVyKG5hdGl2ZUdldFN5bWJvbHMob2JqZWN0KSwgZnVuY3Rpb24oc3ltYm9sKSB7XG4gICAgcmV0dXJuIHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCBzeW1ib2wpO1xuICB9KTtcbn07XG5cbi8qKlxuICogR2V0cyB0aGUgYHRvU3RyaW5nVGFnYCBvZiBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbnZhciBnZXRUYWcgPSBiYXNlR2V0VGFnO1xuXG4vLyBGYWxsYmFjayBmb3IgZGF0YSB2aWV3cywgbWFwcywgc2V0cywgYW5kIHdlYWsgbWFwcyBpbiBJRSAxMSBhbmQgcHJvbWlzZXMgaW4gTm9kZS5qcyA8IDYuXG5pZiAoKERhdGFWaWV3ICYmIGdldFRhZyhuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDEpKSkgIT0gZGF0YVZpZXdUYWcpIHx8XG4gICAgKE1hcCAmJiBnZXRUYWcobmV3IE1hcCkgIT0gbWFwVGFnKSB8fFxuICAgIChQcm9taXNlICYmIGdldFRhZyhQcm9taXNlLnJlc29sdmUoKSkgIT0gcHJvbWlzZVRhZykgfHxcbiAgICAoU2V0ICYmIGdldFRhZyhuZXcgU2V0KSAhPSBzZXRUYWcpIHx8XG4gICAgKFdlYWtNYXAgJiYgZ2V0VGFnKG5ldyBXZWFrTWFwKSAhPSB3ZWFrTWFwVGFnKSkge1xuICBnZXRUYWcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciByZXN1bHQgPSBiYXNlR2V0VGFnKHZhbHVlKSxcbiAgICAgICAgQ3RvciA9IHJlc3VsdCA9PSBvYmplY3RUYWcgPyB2YWx1ZS5jb25zdHJ1Y3RvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgY3RvclN0cmluZyA9IEN0b3IgPyB0b1NvdXJjZShDdG9yKSA6ICcnO1xuXG4gICAgaWYgKGN0b3JTdHJpbmcpIHtcbiAgICAgIHN3aXRjaCAoY3RvclN0cmluZykge1xuICAgICAgICBjYXNlIGRhdGFWaWV3Q3RvclN0cmluZzogcmV0dXJuIGRhdGFWaWV3VGFnO1xuICAgICAgICBjYXNlIG1hcEN0b3JTdHJpbmc6IHJldHVybiBtYXBUYWc7XG4gICAgICAgIGNhc2UgcHJvbWlzZUN0b3JTdHJpbmc6IHJldHVybiBwcm9taXNlVGFnO1xuICAgICAgICBjYXNlIHNldEN0b3JTdHJpbmc6IHJldHVybiBzZXRUYWc7XG4gICAgICAgIGNhc2Ugd2Vha01hcEN0b3JTdHJpbmc6IHJldHVybiB3ZWFrTWFwVGFnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHwgcmVJc1VpbnQudGVzdCh2YWx1ZSkpICYmXG4gICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBQZXJmb3JtcyBhXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoJ2EnLCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoTmFOLCBOYU4pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjMuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxuLyoqXG4gKiBQZXJmb3JtcyBhIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gKiBlcXVpdmFsZW50LlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyBjb21wYXJpbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucyxcbiAqIGRhdGUgb2JqZWN0cywgZXJyb3Igb2JqZWN0cywgbWFwcywgbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcyxcbiAqIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZCBhcnJheXMuIGBPYmplY3RgIG9iamVjdHMgYXJlIGNvbXBhcmVkXG4gKiBieSB0aGVpciBvd24sIG5vdCBpbmhlcml0ZWQsIGVudW1lcmFibGUgcHJvcGVydGllcy4gRnVuY3Rpb25zIGFuZCBET01cbiAqIG5vZGVzIGFyZSBjb21wYXJlZCBieSBzdHJpY3QgZXF1YWxpdHksIGkuZS4gYD09PWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uaXNFcXVhbChvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBvYmplY3QgPT09IG90aGVyO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNFcXVhbCh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZyB8fCB0YWcgPT0gYXN5bmNUYWcgfHwgdGFnID09IHByb3h5VGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KG5ldyBVaW50OEFycmF5KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShbXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNUeXBlZEFycmF5ID0gbm9kZUlzVHlwZWRBcnJheSA/IGJhc2VVbmFyeShub2RlSXNUeXBlZEFycmF5KSA6IGJhc2VJc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzKG5ldyBGb28pO1xuICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICpcbiAqIF8ua2V5cygnaGknKTtcbiAqIC8vID0+IFsnMCcsICcxJ11cbiAqL1xuZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCkgOiBiYXNlS2V5cyhvYmplY3QpO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgZW1wdHkgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBhcnJheS5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGFycmF5cyA9IF8udGltZXMoMiwgXy5zdHViQXJyYXkpO1xuICpcbiAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG4gKiAvLyA9PiBbW10sIFtdXVxuICpcbiAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcbiAgcmV0dXJuIFtdO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYGZhbHNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTMuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udGltZXMoMiwgXy5zdHViRmFsc2UpO1xuICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAqL1xuZnVuY3Rpb24gc3R1YkZhbHNlKCkge1xuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNFcXVhbDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuLyoqXG4gKiBMZWFucGx1bSBBcmdzQnVpbGRlciwgdXNlIHRvIGNvbnN0cnVjdCByZXF1ZXN0IHBheWxvYWQuXG4gKi9cbnZhciBBcmdzQnVpbGRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgZW1wdHkgcmVxdWVzdCBhcmd1bWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBcmdzQnVpbGRlcigpIHtcbiAgICAgICAgdGhpcy5hcmdTdHJpbmcgPSAnJztcbiAgICAgICAgdGhpcy5hcmdWYWx1ZXMgPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGdpdmVuIGtleSwgdmFsdWUgdG8gdGhlIHBheWxvYWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IGZvciB0aGUgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8Ym9vbGVhbn0gdmFsdWUgVGhlIHZhbHVlIGZvciBnaXZlbiBrZXkuXG4gICAgICogQHJldHVybiB7QXJnc0J1aWxkZXJ9IFJldHVybnMgYW4gb2JqZWN0IG9mIEFyZ3NCdWlsZGVyLlxuICAgICAqL1xuICAgIEFyZ3NCdWlsZGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYXJnU3RyaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmFyZ1N0cmluZyArPSAnJic7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbCA9ICcnO1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgdmFsID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFsID0gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFyZ1N0cmluZyArPSBcIlwiLmNvbmNhdChrZXksIFwiPVwiKS5jb25jYXQodmFsKTtcbiAgICAgICAgdGhpcy5hcmdWYWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEFyZ3NCdWlsZGVyLnByb3RvdHlwZS5ib2R5ID0gZnVuY3Rpb24gKGJvZHkpIHtcbiAgICAgICAgaWYgKGJvZHkpIHtcbiAgICAgICAgICAgIHRoaXMuX2JvZHkgPSBib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvZHk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgdG8gYXR0YWNoIGdpdmVuIGFwcElkIGFuZCBhcHBLZXkgdG8gcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGFwcElkIFRoZSBhcHBJZCB0byBhdHRhY2guXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBjbGllbnRLZXkgVGhlIGFwcEtleSB0byBhdHRhY2guXG4gICAgICogQHJldHVybiB7QXJnc0J1aWxkZXJ9IFJldHVybnMgYW4gb2JqZWN0IG9mIEFyZ3NCdWlsZGVyLlxuICAgICAqL1xuICAgIEFyZ3NCdWlsZGVyLnByb3RvdHlwZS5hdHRhY2hBcGlLZXlzID0gZnVuY3Rpb24gKGFwcElkLCBjbGllbnRLZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkFQUF9JRCwgYXBwSWQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkNMSUVOVCwgQ29uc3RhbnRzXzEuZGVmYXVsdC5DTElFTlQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkNMSUVOVF9LRVksIGNsaWVudEtleSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGFyZ3VtZW50cy5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IEFyZ3VtZW50cyBzdHJpbmcuXG4gICAgICovXG4gICAgQXJnc0J1aWxkZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcmdTdHJpbmc7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGFyZ3VtZW50IHZhbHVlcy5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBhcmd1bWVudCB2YWx1ZXMuXG4gICAgICovXG4gICAgQXJnc0J1aWxkZXIucHJvdG90eXBlLmJ1aWxkRGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJnVmFsdWVzO1xuICAgIH07XG4gICAgcmV0dXJuIEFyZ3NCdWlsZGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEFyZ3NCdWlsZGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8gQnJvd3NlciBkZXRlY3Rpb24uIFNvdXJjZTogaHR0cDovL3d3dy5xdWlya3Ntb2RlLm9yZy9qcy9kZXRlY3QuaHRtbFxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gZGV0ZWN0IHdoaWNoIGJyb3dzZXIgY2xpZW50IGlzIHVzaW5nLlxuICovXG52YXIgQnJvd3NlckRldGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBvYmplY3Qgd2l0aCBjdXJyZW50IGJyb3dzZXIgc2V0dGluZ3MuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQnJvd3NlckRldGVjdG9yKHduZCkge1xuICAgICAgICB0aGlzLmJyb3dzZXIgPSB0aGlzLnNlYXJjaFN0cmluZyh0aGlzLmdldEJyb3dzZXJEYXRhKHduZCkpIHx8ICdVbmtub3duIEJyb3dzZXInO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSAodGhpcy5zZWFyY2hWZXJzaW9uKHduZC5uYXZpZ2F0b3IudXNlckFnZW50KSB8fFxuICAgICAgICAgICAgdGhpcy5zZWFyY2hWZXJzaW9uKHduZC5uYXZpZ2F0b3IuYXBwVmVyc2lvbikgfHxcbiAgICAgICAgICAgICdVbmtub3duIFZlcnNpb24nKTtcbiAgICAgICAgdGhpcy5PUyA9IHRoaXMuc2VhcmNoU3RyaW5nKHRoaXMuZ2V0T1NEYXRhKHduZCkpIHx8ICdVbmtub3duIE9TJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWF0Y2hlcyB0aGUgY2xpZW50J3Mgc3lzdGVtIHRvIHRoZSBwcmVkZWZpbmVkIHN5c3RlbSBsaXN0LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIFRoZSBkYXRhIG9iamVjdCB0byBzY2FuLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGZvdW5kIGlkZW50aXR5IHN0cmluZy5cbiAgICAgKi9cbiAgICBCcm93c2VyRGV0ZWN0b3IucHJvdG90eXBlLnNlYXJjaFN0cmluZyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGFTdHJpbmcgPSBkYXRhW2ldLnN0cmluZztcbiAgICAgICAgICAgIHZhciBkYXRhUHJvcCA9IGRhdGFbaV0ucHJvcDtcbiAgICAgICAgICAgIHRoaXMudmVyc2lvblNlYXJjaFN0cmluZyA9IGRhdGFbaV0udmVyc2lvblNlYXJjaCB8fCBkYXRhW2ldLmlkZW50aXR5O1xuICAgICAgICAgICAgaWYgKGRhdGFTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVN0cmluZy5pbmRleE9mKGRhdGFbaV0uc3ViU3RyaW5nKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFbaV0uaWRlbnRpdHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YVByb3ApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVtpXS5pZGVudGl0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiB0aGUgZ2l2ZW4gc3lzdGVtLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhU3RyaW5nIFRoZSBkYXRhIG9iamVjdCB0byBzY2FuLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGZvdW5kIG51bWJlci5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJyb3dzZXJEZXRlY3Rvci5wcm90b3R5cGUuc2VhcmNoVmVyc2lvbiA9IGZ1bmN0aW9uIChkYXRhU3RyaW5nKSB7XG4gICAgICAgIGlmICghZGF0YVN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSBkYXRhU3RyaW5nLmluZGV4T2YodGhpcy52ZXJzaW9uU2VhcmNoU3RyaW5nKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChkYXRhU3RyaW5nLnN1YnN0cmluZyhpbmRleCArIHRoaXMudmVyc2lvblNlYXJjaFN0cmluZy5sZW5ndGggKyAxKSk7XG4gICAgfTtcbiAgICBCcm93c2VyRGV0ZWN0b3IucHJvdG90eXBlLmdldEJyb3dzZXJEYXRhID0gZnVuY3Rpb24gKHduZCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnQ2hyb21lJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0Nocm9tZScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnT21uaVdlYicsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdPbW5pV2ViJyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uU2VhcmNoOiAnT21uaVdlYi8nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0NyaU9TJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0Nocm9tZScsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ0NyaU9TJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdGeGlPUycsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdGaXJlZm94JyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uU2VhcmNoOiAnRnhpT1MnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudmVuZG9yLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0FwcGxlJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ1NhZmFyaScsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ1ZlcnNpb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwcm9wOiB3bmQub3BlcmEsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdPcGVyYScsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ1ZlcnNpb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudmVuZG9yLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ2lDYWInLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnaUNhYicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci52ZW5kb3IsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnS0RFJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0tvbnF1ZXJvcicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnRmlyZWZveCcsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdGaXJlZm94JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnZlbmRvcixcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdDYW1pbm8nLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnQ2FtaW5vJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdOZXRzY2FwZScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdOZXRzY2FwZScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnTVNJRScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdFeHBsb3JlcicsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ01TSUUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0FuZHJvaWQnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnQW5kcm9pZCBCcm93c2VyJyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uU2VhcmNoOiAnVmVyc2lvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnR2Vja28nLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnTW96aWxsYScsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ3J2JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdNb3ppbGxhJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ05ldHNjYXBlJyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uU2VhcmNoOiAnTW96aWxsYScsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuICAgIH07XG4gICAgQnJvd3NlckRldGVjdG9yLnByb3RvdHlwZS5nZXRPU0RhdGEgPSBmdW5jdGlvbiAod25kKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnBsYXRmb3JtLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ1dpbicsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdXaW5kb3dzJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnBsYXRmb3JtLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ01hYycsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdNYWMgT1MnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IucGxhdGZvcm0sXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnaVBhZCcsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdpT1MnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ2lQaG9uZScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdpT1MnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0FuZHJvaWQnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnQW5kcm9pZCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdMaW51eCcsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdMaW51eCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuICAgIH07XG4gICAgcmV0dXJuIEJyb3dzZXJEZXRlY3Rvcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBCcm93c2VyRGV0ZWN0b3I7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qXG4gKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlXG4gKlxuICovXG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gICAgTUVUSE9EUzoge1xuICAgICAgICBTVEFSVDogJ3N0YXJ0JyxcbiAgICAgICAgU1RPUDogJ3N0b3AnLFxuICAgICAgICBBRFZBTkNFOiAnYWR2YW5jZScsXG4gICAgICAgIFRSQUNLOiAndHJhY2snLFxuICAgICAgICBQQVVTRV9TRVNTSU9OOiAncGF1c2VTZXNzaW9uJyxcbiAgICAgICAgUkVTVU1FX1NFU1NJT046ICdyZXN1bWVTZXNzaW9uJyxcbiAgICAgICAgUEFVU0VfU1RBVEU6ICdwYXVzZVN0YXRlJyxcbiAgICAgICAgUkVTVU1FX1NUQVRFOiAncmVzdW1lU3RhdGUnLFxuICAgICAgICBET1dOTE9BRF9GSUxFOiAnZG93bmxvYWRGaWxlJyxcbiAgICAgICAgTVVMVEk6ICdtdWx0aScsXG4gICAgICAgIFNFVF9WQVJTOiAnc2V0VmFycycsXG4gICAgICAgIEdFVF9WQVJTOiAnZ2V0VmFycycsXG4gICAgICAgIFNFVF9VU0VSX0FUVFJJQlVURVM6ICdzZXRVc2VyQXR0cmlidXRlcycsXG4gICAgICAgIFNFVF9ERVZJQ0VfQVRUUklCVVRFUzogJ3NldERldmljZUF0dHJpYnV0ZXMnLFxuICAgICAgICBVUExPQURfRklMRTogJ3VwbG9hZEZpbGUnLFxuICAgICAgICBSRUdJU1RFUl9ERVZJQ0U6ICdyZWdpc3RlckRldmljZScsXG4gICAgfSxcbiAgICBTREtfVkVSU0lPTjogJzEuMTIuMCcsXG4gICAgQ0xJRU5UOiAnanMnLFxuICAgIFBBUkFNUzoge1xuICAgICAgICBBQ1RJT046ICdhY3Rpb24nLFxuICAgICAgICBBUFBfSUQ6ICdhcHBJZCcsXG4gICAgICAgIENMSUVOVDogJ2NsaWVudCcsXG4gICAgICAgIENMSUVOVF9LRVk6ICdjbGllbnRLZXknLFxuICAgICAgICBDVDogJ2N0JyxcbiAgICAgICAgQ1VSUkVOQ1lfQ09ERTogJ2N1cnJlbmN5Q29kZScsXG4gICAgICAgIERFVklDRV9JRDogJ2RldmljZUlkJyxcbiAgICAgICAgU0RLX1ZFUlNJT046ICdzZGtWZXJzaW9uJyxcbiAgICAgICAgVVNFUl9JRDogJ3VzZXJJZCcsXG4gICAgICAgIE5FV19VU0VSX0lEOiAnbmV3VXNlcklkJyxcbiAgICAgICAgREVWX01PREU6ICdkZXZNb2RlJyxcbiAgICAgICAgVkVSU0lPTl9OQU1FOiAndmVyc2lvbk5hbWUnLFxuICAgICAgICBTWVNURU1fTkFNRTogJ3N5c3RlbU5hbWUnLFxuICAgICAgICBTWVNURU1fVkVSU0lPTjogJ3N5c3RlbVZlcnNpb24nLFxuICAgICAgICBCUk9XU0VSX05BTUU6ICdicm93c2VyTmFtZScsXG4gICAgICAgIEJST1dTRVJfVkVSU0lPTjogJ2Jyb3dzZXJWZXJzaW9uJyxcbiAgICAgICAgREVWSUNFX05BTUU6ICdkZXZpY2VOYW1lJyxcbiAgICAgICAgREVWSUNFX01PREVMOiAnZGV2aWNlTW9kZWwnLFxuICAgICAgICBVU0VSX0FUVFJJQlVURVM6ICd1c2VyQXR0cmlidXRlcycsXG4gICAgICAgIExPQ0FMRTogJ2xvY2FsZScsXG4gICAgICAgIENPVU5UUlk6ICdjb3VudHJ5JyxcbiAgICAgICAgUkVHSU9OOiAncmVnaW9uJyxcbiAgICAgICAgQ0lUWTogJ2NpdHknLFxuICAgICAgICBMT0NBVElPTjogJ2xvY2F0aW9uJyxcbiAgICAgICAgU1RBVEU6ICdzdGF0ZScsXG4gICAgICAgIElORk86ICdpbmZvJyxcbiAgICAgICAgRVZFTlQ6ICdldmVudCcsXG4gICAgICAgIFZBTFVFOiAndmFsdWUnLFxuICAgICAgICBGSUxFTkFNRTogJ2ZpbGVuYW1lJyxcbiAgICAgICAgVElNRTogJ3RpbWUnLFxuICAgICAgICBEQVRBOiAnZGF0YScsXG4gICAgICAgIFZBUlM6ICd2YXJzJyxcbiAgICAgICAgRklMRTogJ2ZpbGUnLFxuICAgICAgICBTSVpFOiAnc2l6ZScsXG4gICAgICAgIFZBUklBVElPTjogJ3ZhcmlhdGlvbicsXG4gICAgICAgIEhBU0g6ICdoYXNoJyxcbiAgICAgICAgRU1BSUw6ICdlbWFpbCcsXG4gICAgICAgIFZBUklBQkxFUzogJ3ZhcnMnLFxuICAgICAgICBBQ1RJT05fREVGSU5JVElPTlM6ICdhY3Rpb25EZWZpbml0aW9ucycsXG4gICAgICAgIFBBUkFNUzogJ3BhcmFtcycsXG4gICAgICAgIElOQ0xVREVfREVGQVVMVFM6ICdpbmNsdWRlRGVmYXVsdHMnLFxuICAgICAgICBJTkNMVURFX1ZBUklBTlRfREVCVUdfSU5GTzogJ2luY2x1ZGVWYXJpYW50RGVidWdJbmZvJyxcbiAgICAgICAgTkVXU0ZFRURfTUVTU0FHRVM6ICduZXdzZmVlZE1lc3NhZ2VzJyxcbiAgICAgICAgTUVTU0FHRV9JRDogJ21lc3NhZ2VJZCcsXG4gICAgICAgIFdFQl9QVVNIX1NVQlNDUklQVElPTjogJ3dlYlB1c2hTdWJzY3JpcHRpb24nLFxuICAgIH0sXG4gICAgS0VZUzoge1xuICAgICAgICBJU19SRUdJU1RFUkVEOiAnaXNSZWdpc3RlcmVkJyxcbiAgICAgICAgTEFURVNUX1ZFUlNJT046ICdsYXRlc3RWZXJzaW9uJyxcbiAgICAgICAgU1lOQ19JTkJPWDogJ3N5bmNOZXdzZmVlZCcsXG4gICAgICAgIE1FU1NBR0VTOiAnbWVzc2FnZXMnLFxuICAgICAgICBWQVJTOiAndmFycycsXG4gICAgICAgIFZBUklBTlRTOiAndmFyaWFudHMnLFxuICAgICAgICBWQVJJQU5UX0RFQlVHX0lORk86ICd2YXJpYW50RGVidWdJbmZvJyxcbiAgICAgICAgQUNUSU9OX0RFRklOSVRJT05TOiAnYWN0aW9uRGVmaW5pdGlvbnMnLFxuICAgICAgICBUT0tFTjogJ3Rva2VuJyxcbiAgICB9LFxuICAgIERFRkFVTFRfS0VZUzoge1xuICAgICAgICBDT1VOVDogJ19fbGVhbnBsdW1fdW5zeW5jZWQnLFxuICAgICAgICBJVEVNOiAnX19sZWFucGx1bV91bnN5bmNlZF8nLFxuICAgICAgICBWQVJJQUJMRVM6ICdfX2xlYW5wbHVtX3ZhcmlhYmxlcycsXG4gICAgICAgIFZBUklBTlRTOiAnX19sZWFucGx1bV92YXJpYW50cycsXG4gICAgICAgIFZBUklBTlRfREVCVUdfSU5GTzogJ19fbGVhbnBsdW1fdmFyaWFudF9kZWJ1Z19pbmZvJyxcbiAgICAgICAgQUNUSU9OX0RFRklOSVRJT05TOiAnX19sZWFucGx1bV9hY3Rpb25fZGVmaW5pdGlvbnMnLFxuICAgICAgICBIT1NUX0NPTkZJRzogJ19fbGVhbnBsdW1faG9zdHMnLFxuICAgICAgICBJTkJPWF9NRVNTQUdFUzogJ19fbGVhbnBsdW1faW5ib3hfbWVzc2FnZXMnLFxuICAgICAgICBUT0tFTjogJ19fbGVhbnBsdW1fdG9rZW4nLFxuICAgICAgICBERVZJQ0VfSUQ6ICdfX2xlYW5wbHVtX2RldmljZV9pZCcsXG4gICAgICAgIFVTRVJfSUQ6ICdfX2xlYW5wbHVtX3VzZXJfaWQnLFxuICAgICAgICBTRVNTSU9OOiAnX19sZWFucGx1bV9zZXNzaW9uJyxcbiAgICAgICAgTUVTU0FHRV9PQ0NVUlJFTkNFUzogJ19fbGVhbnBsdW1fbWVzc2FnZV9vY2N1cnJlbmNlcycsXG4gICAgICAgIE1FU1NBR0VfQ0FDSEU6ICdfX2xlYW5wbHVtX21lc3NhZ2VfY2FjaGUnLFxuICAgICAgICBNSUdSQVRJT05fU1RBVEU6ICdfX2xlYW5wbHVtX21pZ3JhdGlvbl9zdGF0ZScsXG4gICAgICAgIFBVU0hfU1VCU0NSSVBUSU9OOiAnX19sZWFucGx1bV9wdXNoX3N1YnNjcmlwdGlvbicsXG4gICAgfSxcbiAgICBWQUxVRVM6IHtcbiAgICAgICAgREVURUNUOiAnKGRldGVjdCknLFxuICAgICAgICBERUZBVUxUX1BVU0hfQUNUSU9OOiAnT3BlbiBhY3Rpb24nLFxuICAgIH0sXG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgRXZlbnRFbWl0dGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICAgIH1cbiAgICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycy5wdXNoKHsgZXZlbnROYW1lOiBldmVudE5hbWUsIGNhbGxiYWNrOiBjYWxsYmFjayB9KTtcbiAgICB9O1xuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IHRoaXMuaGFuZGxlcnMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmV2ZW50TmFtZSAhPT0gZXZlbnROYW1lIHx8IHguY2FsbGJhY2sgIT09IGNhbGxiYWNrOyB9KTtcbiAgICB9O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgYXJncykge1xuICAgICAgICB0aGlzLmhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgICAgIGlmIChoYW5kbGVyLmV2ZW50TmFtZSA9PT0gZXZlbnROYW1lKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5jYWxsYmFjayhhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEV2ZW50RW1pdHRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBJbnRlcm5hbFN0YXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEludGVybmFsU3RhdGUoKSB7XG4gICAgICAgIHRoaXMuc3RhcnRIYW5kbGVycyA9IFtdO1xuICAgICAgICB0aGlzLmRldk1vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNTdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhcnRTdWNjZXNzZnVsID0gZmFsc2U7XG4gICAgICAgIHRoaXMudmFyaWFudERlYnVnSW5mb0VuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgSW50ZXJuYWxTdGF0ZS5wcm90b3R5cGUuYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLnN0YXJ0SGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgICAgICAgaWYgKHRoaXMuaGFzU3RhcnRlZCkge1xuICAgICAgICAgICAgaGFuZGxlcih0aGlzLnN0YXJ0U3VjY2Vzc2Z1bCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEludGVybmFsU3RhdGUucHJvdG90eXBlLnJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMuc3RhcnRIYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpO1xuICAgICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSW50ZXJuYWxTdGF0ZS5wcm90b3R5cGUudHJpZ2dlclN0YXJ0SGFuZGxlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGFydEhhbmRsZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0SGFuZGxlcnNbaV0odGhpcy5zdGFydFN1Y2Nlc3NmdWwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gSW50ZXJuYWxTdGF0ZTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBJbnRlcm5hbFN0YXRlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgTGVhbnBsdW1JbnRlcm5hbF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0xlYW5wbHVtSW50ZXJuYWxcIikpO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlcyAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xudmFyIExlYW5wbHVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExlYW5wbHVtKCkge1xuICAgIH1cbiAgICBMZWFucGx1bS5zZXRBcGlQYXRoID0gZnVuY3Rpb24gKGFwaVBhdGgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldEFwaVBhdGgoYXBpUGF0aCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRFbWFpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gZGVwcmVjYXRlZFxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmV0d29yayB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZWNvbmRzIFRoZSB0aW1lb3V0IGluIHNlY29uZHMuXG4gICAgICovXG4gICAgTGVhbnBsdW0uc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0TmV0d29ya1RpbWVvdXQoc2Vjb25kcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRBcHBJZEZvckRldmVsb3BtZW50TW9kZSA9IGZ1bmN0aW9uIChhcHBJZCwgYWNjZXNzS2V5KSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRBcHBJZEZvckRldmVsb3BtZW50TW9kZShhcHBJZCwgYWNjZXNzS2V5KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldEFwcElkRm9yUHJvZHVjdGlvbk1vZGUgPSBmdW5jdGlvbiAoYXBwSWQsIGFjY2Vzc0tleSkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0QXBwSWRGb3JQcm9kdWN0aW9uTW9kZShhcHBJZCwgYWNjZXNzS2V5KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFNvY2tldEhvc3QgPSBmdW5jdGlvbiAoaG9zdCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0U29ja2V0SG9zdChob3N0KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldERldmljZUlkID0gZnVuY3Rpb24gKGRldmljZUlkKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXREZXZpY2VJZChkZXZpY2VJZCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRMb2NhbGUgPSBmdW5jdGlvbiAobG9jYWxlKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRMb2NhbGUobG9jYWxlKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldEFwcFZlcnNpb24gPSBmdW5jdGlvbiAodmVyc2lvbk5hbWUpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldEFwcFZlcnNpb24odmVyc2lvbk5hbWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0RGV2aWNlTmFtZSA9IGZ1bmN0aW9uIChkZXZpY2VOYW1lKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXREZXZpY2VOYW1lKGRldmljZU5hbWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0RGV2aWNlTW9kZWwgPSBmdW5jdGlvbiAoZGV2aWNlTW9kZWwpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldERldmljZU1vZGVsKGRldmljZU1vZGVsKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFJlcXVlc3RCYXRjaGluZyA9IGZ1bmN0aW9uIChiYXRjaEVuYWJsZWQsIGNvb2xkb3duU2Vjb25kcykge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0UmVxdWVzdEJhdGNoaW5nKGJhdGNoRW5hYmxlZCwgY29vbGRvd25TZWNvbmRzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFN5c3RlbU5hbWUgPSBmdW5jdGlvbiAoc3lzdGVtTmFtZSkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0U3lzdGVtTmFtZShzeXN0ZW1OYW1lKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFN5c3RlbVZlcnNpb24gPSBmdW5jdGlvbiAoc3lzdGVtVmVyc2lvbikge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0U3lzdGVtVmVyc2lvbihzeXN0ZW1WZXJzaW9uKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICh2YXJpYWJsZXMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFZhcmlhYmxlcyh2YXJpYWJsZXMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0VmFyaWFudERlYnVnSW5mb0VuYWJsZWQgPSBmdW5jdGlvbiAodmFyaWFudERlYnVnSW5mb0VuYWJsZWQpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKHZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmVuYWJsZVJpY2hJbkFwcE1lc3NhZ2VzID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmVuYWJsZVJpY2hJbkFwcE1lc3NhZ2VzKGVuYWJsZWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucHJvY2Vzc01lc3NhZ2VFdmVudCA9IGZ1bmN0aW9uIChtZXNzYWdlSWQsIG1lc3NhZ2UpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnByb2Nlc3NNZXNzYWdlRXZlbnQobWVzc2FnZUlkLCBtZXNzYWdlKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldFZhcmlhbnREZWJ1Z0luZm8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuZ2V0VmFyaWFudERlYnVnSW5mbygpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZ2V0VmFyaWFibGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmdldFZhcmlhYmxlcygpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZ2V0VmFyaWFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKF9hID0gTGVhbnBsdW0uX2xwKS5nZXRWYXJpYWJsZS5hcHBseShfYSwgYXJncyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5nZXRWYXJpYW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5nZXRWYXJpYW50cygpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uaW5ib3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuaW5ib3goKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucmVtb3ZlU3RhcnRSZXNwb25zZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICBMZWFucGx1bS5fbHAucmVtb3ZlU3RhcnRSZXNwb25zZUhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5hZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5hZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZm9yY2VDb250ZW50VXBkYXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5mb3JjZUNvbnRlbnRVcGRhdGUoY2FsbGJhY2spO1xuICAgIH07XG4gICAgTGVhbnBsdW0udXNlU2Vzc2lvbkxlbmd0aCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC51c2VTZXNzaW9uTGVuZ3RoKHNlY29uZHMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc3RhcnQgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnN0YXJ0KHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnN0YXJ0RnJvbUNhY2hlID0gZnVuY3Rpb24gKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zdGFydEZyb21DYWNoZSh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc3RvcCgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucGF1c2VTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAucGF1c2VTZXNzaW9uKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5yZXN1bWVTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAucmVzdW1lU2Vzc2lvbigpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucGF1c2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnBhdXNlU3RhdGUoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnJlc3VtZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAucmVzdW1lU3RhdGUoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldFVzZXJJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xwLmdldFVzZXJJZCgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0VXNlcklkID0gZnVuY3Rpb24gKHVzZXJJZCkge1xuICAgICAgICBMZWFucGx1bS5zZXRVc2VyQXR0cmlidXRlcyh1c2VySWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0VXNlckF0dHJpYnV0ZXMgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcykge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0VXNlckF0dHJpYnV0ZXModXNlcklkLCB1c2VyQXR0cmlidXRlcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS50cmFjayA9IGZ1bmN0aW9uIChldmVudCwgdmFsdWUsIGluZm8sIHBhcmFtcykge1xuICAgICAgICBMZWFucGx1bS5fbHAudHJhY2soZXZlbnQsIHZhbHVlLCBpbmZvLCBwYXJhbXMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0udHJhY2tQdXJjaGFzZSA9IGZ1bmN0aW9uICh2YWx1ZSwgY3VycmVuY3lDb2RlLCBwYXJhbXMsIGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudCA9PT0gdm9pZCAwKSB7IGV2ZW50ID0gJ1B1cmNoYXNlJzsgfVxuICAgICAgICBMZWFucGx1bS5fbHAudHJhY2tQdXJjaGFzZSh2YWx1ZSwgY3VycmVuY3lDb2RlLCBwYXJhbXMsIGV2ZW50KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmFkdmFuY2VUbyA9IGZ1bmN0aW9uIChzdGF0ZSwgaW5mbywgcGFyYW1zKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5hZHZhbmNlVG8oc3RhdGUsIGluZm8sIHBhcmFtcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHdlYiBwdXNoIGlzIHN1cHBvcnRlZCBpbiB0aGUgYnJvd3Nlci5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHN1cHBvcnRlZCwgZWxzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBMZWFucGx1bS5pc1dlYlB1c2hTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuaXNXZWJQdXNoU3VwcG9ydGVkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHdlYiBwdXNoIGlzIHN1YnNjcmliZWQuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gUmVzb2x2ZXMgaWYgdHJ1ZSwgcmVqZWN0cyBpZiBmYWxzZS5cbiAgICAgKi9cbiAgICBMZWFucGx1bS5pc1dlYlB1c2hTdWJzY3JpYmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmlzV2ViUHVzaFN1YnNjcmliZWQoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFdlYlB1c2hPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5zZXRXZWJQdXNoT3B0aW9ucyhvcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIHRoZSBicm93c2VyIGZvciB3ZWIgcHVzaC5cbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgc2VydmljZVdvcmtlclVybCBUaGUgdXJsIG9uIHlvdXIgc2VydmVyIHRoYXQgaG9zdHMgdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3N3Lm1pbi5qcyBzZXJ2aWNlIHdvcmtlciBqcyBmaWxlLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICAgICAgICAgICAgIFJlc29sdmVzIGlmIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyd2lzZSBmYWlscy5cbiAgICAgKi9cbiAgICBMZWFucGx1bS5yZWdpc3RlckZvcldlYlB1c2ggPSBmdW5jdGlvbiAoc2VydmljZVdvcmtlclVybCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLnJlZ2lzdGVyRm9yV2ViUHVzaChzZXJ2aWNlV29ya2VyVXJsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVucmVnaXN0ZXJzIHRoZSBicm93c2VyIGZvcm0gd2ViIHB1c2guXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gICAgICAgICAgICBSZXNvbHZlcyBvbiBzdWNjZXNzLCBvdGhlcndpc2UgcmVqZWN0cy5cbiAgICAgKi9cbiAgICBMZWFucGx1bS51bnJlZ2lzdGVyRnJvbVdlYlB1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAudW5yZWdpc3RlckZyb21XZWJQdXNoKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhcnMgY2FjaGVkIHZhbHVlcyBmb3IgbWVzc2FnZXMsIHZhcmlhYmxlcyBhbmQgdGVzdCBhc3NpZ25tZW50cy5cbiAgICAgKiBVc2Ugc3BhcmluZ2x5IGFzIGlmIHRoZSBhcHAgaXMgdXBkYXRlZCwgeW91J2xsIGhhdmUgdG8gZGVhbCB3aXRoIHBvdGVudGlhbGx5XG4gICAgICogaW5jb25zaXN0ZW50IHN0YXRlIG9yIHVzZXIgZXhwZXJpZW5jZS5cbiAgICAgKi9cbiAgICBMZWFucGx1bS5jbGVhclVzZXJDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuY2xlYXJVc2VyQ29udGVudCgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZGVmaW5lQWN0aW9uID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmRlZmluZUFjdGlvbihvcHRpb25zKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmFwcGx5UXVldWUgPSBmdW5jdGlvbiAocXVldWUpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmFwcGx5UXVldWUocXVldWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ub24gPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5vbihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ub2ZmID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgICBMZWFucGx1bS5fbHAub2ZmKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5nZXRGaWxlVXJsID0gZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuZ2V0RmlsZVVybChmaWxlbmFtZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5fX2Rlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2xwID0gbmV3IExlYW5wbHVtSW50ZXJuYWxfMS5kZWZhdWx0KHdpbmRvdyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5fbHAgPSBuZXcgTGVhbnBsdW1JbnRlcm5hbF8xLmRlZmF1bHQod2luZG93KTtcbiAgICBMZWFucGx1bS5WRVJTSU9OID0gQ29uc3RhbnRzXzEuZGVmYXVsdC5TREtfVkVSU0lPTjtcbiAgICByZXR1cm4gTGVhbnBsdW07XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTGVhbnBsdW07XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxlYW5wbHVtSW5ib3hNZXNzYWdlID0gdm9pZCAwO1xudmFyIEFyZ3NCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQXJnc0J1aWxkZXJcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgU3RvcmFnZU1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9TdG9yYWdlTWFuYWdlclwiKSk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxudmFyIHZhbHVlcyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gb2JqW2tleV07IH0pO1xufTtcbnZhciBMZWFucGx1bUluYm94ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExlYW5wbHVtSW5ib3goY3JlYXRlUmVxdWVzdCwgb25BY3Rpb24pIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdDtcbiAgICAgICAgdGhpcy5vbkFjdGlvbiA9IG9uQWN0aW9uO1xuICAgICAgICB0aGlzLm1lc3NhZ2VNYXAgPSB7fTtcbiAgICAgICAgdGhpcy5jaGFuZ2VIYW5kbGVycyA9IFtdO1xuICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUuZG93bmxvYWRNZXNzYWdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KCdnZXROZXdzZmVlZE1lc3NhZ2VzJywgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLnJlc3BvbnNlWzBdO1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5uZXdzZmVlZE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm1lc3NhZ2VNYXAgPSByZXNwb25zZS5uZXdzZmVlZE1lc3NhZ2VzO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50cmlnZ2VyQ2hhbmdlSGFuZGxlcnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm1hcmtBc1JlYWQgPSBmdW5jdGlvbiAobWVzc2FnZUlkKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5tZXNzYWdlTWFwW21lc3NhZ2VJZF07XG4gICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbWVzc2FnZS5pc1JlYWQpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuaXNSZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlckNoYW5nZUhhbmRsZXJzKCk7XG4gICAgICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKTtcbiAgICAgICAgICAgIGFyZ3MuYWRkKCduZXdzZmVlZE1lc3NhZ2VJZCcsIG1lc3NhZ2VJZCk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoJ21hcmtOZXdzZmVlZE1lc3NhZ2VBc1JlYWQnLCBhcmdzLCB7fSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAobWVzc2FnZUlkKSB7XG4gICAgICAgIHRoaXMubWFya0FzUmVhZChtZXNzYWdlSWQpO1xuICAgICAgICB2YXIgaW5ib3hNZXNzYWdlID0gdGhpcy5tZXNzYWdlKG1lc3NhZ2VJZCk7XG4gICAgICAgIHZhciBpZCA9IG1lc3NhZ2VJZC5zcGxpdCgnIyMnKVswXTtcbiAgICAgICAgdmFyIG9wZW5BY3Rpb24gPSAoaW5ib3hNZXNzYWdlID09PSBudWxsIHx8IGluYm94TWVzc2FnZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5ib3hNZXNzYWdlLm9wZW5BY3Rpb24oKSkgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5vbkFjdGlvbihpZCwgb3BlbkFjdGlvbik7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAobWVzc2FnZUlkKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5tZXNzYWdlTWFwW21lc3NhZ2VJZF07XG4gICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLm1lc3NhZ2VNYXBbbWVzc2FnZUlkXTtcbiAgICAgICAgdGhpcy50cmlnZ2VyQ2hhbmdlSGFuZGxlcnMoKTtcbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KCk7XG4gICAgICAgIGFyZ3MuYWRkKCduZXdzZmVlZE1lc3NhZ2VJZCcsIG1lc3NhZ2VJZCk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCgnZGVsZXRlTmV3c2ZlZWRNZXNzYWdlJywgYXJncywge30pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUub25DaGFuZ2VkID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5jaGFuZ2VIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuY2hhbmdlSGFuZGxlcnMgPSBfdGhpcy5jaGFuZ2VIYW5kbGVycy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggIT09IGhhbmRsZXI7IH0pOyB9O1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUudHJpZ2dlckNoYW5nZUhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNoYW5nZUhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIGhhbmRsZXIoKTsgfSk7XG4gICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmUoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuSU5CT1hfTUVTU0FHRVMsIEpTT04uc3RyaW5naWZ5KHRoaXMubWVzc2FnZU1hcCksICdzZXNzaW9uJyk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0KENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLklOQk9YX01FU1NBR0VTLCAnc2Vzc2lvbicpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlTWFwID0gSlNPTi5wYXJzZShzdGF0ZSkgfHwge307XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZU1hcCA9IHt9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5jb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcyh0aGlzLm1lc3NhZ2VNYXApLmxlbmd0aDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLnVucmVhZENvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdmFsdWVzKHRoaXMubWVzc2FnZU1hcCkuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiAheC5pc1JlYWQ7IH0pLmxlbmd0aDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm1lc3NhZ2VzID0gZnVuY3Rpb24gKGZpbHRlcikge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMubWVzc2FnZU1hcCkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLm1lc3NhZ2VNYXBbaWRdO1xuICAgICAgICAgICAgaWYgKGZpbHRlcihkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKExlYW5wbHVtSW5ib3hNZXNzYWdlLmNyZWF0ZShpZCwgZGF0YSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5hbGxNZXNzYWdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZXMoZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS51bnJlYWRNZXNzYWdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZXMoZnVuY3Rpb24gKHgpIHsgcmV0dXJuICF4LmlzUmVhZDsgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5tZXNzYWdlSWRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5tZXNzYWdlTWFwKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm1lc3NhZ2UgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VNYXBbaWRdO1xuICAgICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBMZWFucGx1bUluYm94TWVzc2FnZS5jcmVhdGUoaWQsIG1lc3NhZ2UpO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtSW5ib3g7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTGVhbnBsdW1JbmJveDtcbnZhciBMZWFucGx1bUluYm94TWVzc2FnZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bUluYm94TWVzc2FnZShfaWQsIF90aXRsZSwgX3N1YnRpdGxlLCBfZGF0YSwgX3RpbWVzdGFtcCwgX2lzUmVhZCwgX2ltYWdlVXJsLCBfb3BlbkFjdGlvbikge1xuICAgICAgICB0aGlzLl9pZCA9IF9pZDtcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBfdGl0bGU7XG4gICAgICAgIHRoaXMuX3N1YnRpdGxlID0gX3N1YnRpdGxlO1xuICAgICAgICB0aGlzLl9kYXRhID0gX2RhdGE7XG4gICAgICAgIHRoaXMuX3RpbWVzdGFtcCA9IF90aW1lc3RhbXA7XG4gICAgICAgIHRoaXMuX2lzUmVhZCA9IF9pc1JlYWQ7XG4gICAgICAgIHRoaXMuX2ltYWdlVXJsID0gX2ltYWdlVXJsO1xuICAgICAgICB0aGlzLl9vcGVuQWN0aW9uID0gX29wZW5BY3Rpb247XG4gICAgfVxuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLmNyZWF0ZSA9IGZ1bmN0aW9uIChpZCwgbWVzc2FnZUluZm8pIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbDtcbiAgICAgICAgdmFyIHBhcmVudENhbXBhaWduSWQgPSAoX2EgPSBtZXNzYWdlSW5mby5tZXNzYWdlRGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhcmVudENhbXBhaWduSWQ7XG4gICAgICAgIHZhciBhY3Rpb24gPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgKF9jID0gKF9iID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi52YXJzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVGQVVMVF9QVVNIX0FDVElPTl0pLCB7IHBhcmVudENhbXBhaWduSWQ6IHBhcmVudENhbXBhaWduSWQgfSk7XG4gICAgICAgIHJldHVybiBuZXcgTGVhbnBsdW1JbmJveE1lc3NhZ2UoaWQsIChfZSA9IChfZCA9IG1lc3NhZ2VJbmZvLm1lc3NhZ2VEYXRhKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QudmFycykgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLlRpdGxlLCAoX2cgPSAoX2YgPSBtZXNzYWdlSW5mby5tZXNzYWdlRGF0YSkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLnZhcnMpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5TdWJ0aXRsZSwgKF9qID0gKF9oID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9oID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaC52YXJzKSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ouRGF0YSwgbWVzc2FnZUluZm8uZGVsaXZlcnlUaW1lc3RhbXAsIG1lc3NhZ2VJbmZvLmlzUmVhZCwgKF9sID0gKF9rID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9rID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfay52YXJzKSA9PT0gbnVsbCB8fCBfbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2wuSW1hZ2UsIGFjdGlvbik7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUuaWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS50aXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpdGxlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLnN1YnRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3VidGl0bGU7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUuZGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUudGltZXN0YW1wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGltZXN0YW1wO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLmlzUmVhZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzUmVhZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS5pbWFnZVVybCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlVXJsO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLm9wZW5BY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcGVuQWN0aW9uO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtSW5ib3hNZXNzYWdlO1xufSgpKTtcbmV4cG9ydHMuTGVhbnBsdW1JbmJveE1lc3NhZ2UgPSBMZWFucGx1bUluYm94TWVzc2FnZTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBCcm93c2VyRGV0ZWN0b3JfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Ccm93c2VyRGV0ZWN0b3JcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgSW50ZXJuYWxTdGF0ZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0ludGVybmFsU3RhdGVcIikpO1xudmFyIExlYW5wbHVtSW5ib3hfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9MZWFucGx1bUluYm94XCIpKTtcbnZhciBMZWFucGx1bVJlcXVlc3RfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9MZWFucGx1bVJlcXVlc3RcIikpO1xudmFyIExlYW5wbHVtU29ja2V0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTGVhbnBsdW1Tb2NrZXRcIikpO1xudmFyIFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vU3RvcmFnZU1hbmFnZXJcIikpO1xudmFyIFB1c2hNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vUHVzaE1hbmFnZXJcIikpO1xudmFyIE1lc3NhZ2VzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTWVzc2FnZXNcIikpO1xudmFyIEV2ZW50RW1pdHRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0V2ZW50RW1pdHRlclwiKSk7XG52YXIgTWlncmF0aW9uTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL01pZ3JhdGlvbk1hbmFnZXJcIikpO1xudmFyIHB1YmxpY18xID0gcmVxdWlyZShcIi4vdHlwZXMvcHVibGljXCIpO1xudmFyIGludGVybmFsXzEgPSByZXF1aXJlKFwiLi90eXBlcy9pbnRlcm5hbFwiKTtcbnZhciBWYXJDYWNoZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1ZhckNhY2hlXCIpKTtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXMgKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbnZhciBTRVNTSU9OX0tFWSA9IENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlNFU1NJT047XG52YXIgTGVhbnBsdW1JbnRlcm5hbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bUludGVybmFsKHduZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnduZCA9IHduZDtcbiAgICAgICAgdGhpcy5fbWlncmF0aW9uID0gbmV3IE1pZ3JhdGlvbk1hbmFnZXJfMS5kZWZhdWx0KHRoaXMuY3JlYXRlUmVxdWVzdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50RW1pdHRlcl8xLmRlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZSA9IG5ldyBJbnRlcm5hbFN0YXRlXzEuZGVmYXVsdCgpO1xuICAgICAgICB0aGlzLl9scEluYm94ID0gbmV3IExlYW5wbHVtSW5ib3hfMS5kZWZhdWx0KHRoaXMuY3JlYXRlUmVxdWVzdC5iaW5kKHRoaXMpLCB0aGlzLm9uSW5ib3hBY3Rpb24uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdCA9IG5ldyBMZWFucGx1bVJlcXVlc3RfMS5kZWZhdWx0KHRoaXMuX2V2ZW50cyk7XG4gICAgICAgIHRoaXMuX3ZhckNhY2hlID0gbmV3IFZhckNhY2hlXzEuZGVmYXVsdCh0aGlzLmNyZWF0ZVJlcXVlc3QuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX2xwU29ja2V0ID0gbmV3IExlYW5wbHVtU29ja2V0XzEuZGVmYXVsdCh0aGlzLl92YXJDYWNoZSwgdGhpcy5jcmVhdGVSZXF1ZXN0LmJpbmQodGhpcyksIHRoaXMuX2xwUmVxdWVzdC5nZXRMYXN0UmVzcG9uc2UuYmluZCh0aGlzLl9scFJlcXVlc3QpLCB0aGlzLl9ldmVudHMpO1xuICAgICAgICB0aGlzLl9wdXNoTWFuYWdlciA9IG5ldyBQdXNoTWFuYWdlcl8xLmRlZmF1bHQodGhpcy5jcmVhdGVSZXF1ZXN0LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLl9tZXNzYWdlcyA9IG5ldyBNZXNzYWdlc18xLmRlZmF1bHQodGhpcy5fZXZlbnRzLCB0aGlzLmNyZWF0ZVJlcXVlc3QuYmluZCh0aGlzKSwgdGhpcy5nZXRGaWxlVXJsLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLl9icm93c2VyRGV0ZWN0b3IgPSBuZXcgQnJvd3NlckRldGVjdG9yXzEuZGVmYXVsdCh3bmQpO1xuICAgICAgICB0aGlzLl9ldmVudHMub24oJ25hdmlnYXRpb25DaGFuZ2UnLCBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgICAgICB2YXIgcHJldmVudGVkID0gZmFsc2U7XG4gICAgICAgICAgICBfdGhpcy5fZXZlbnRzLmVtaXQoJ29wZW5VcmwnLCB7XG4gICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByZXZlbnRlZCA9IHRydWU7IH0sXG4gICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghcHJldmVudGVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMud25kLmxvY2F0aW9uLmFzc2lnbih1cmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLm9uKCdyZWdpc3RlckZvclB1c2gnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5yZWdpc3RlckZvcldlYlB1c2goKTsgfSk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5vbigndXBkYXRlRGV2U2VydmVySG9zdCcsIGZ1bmN0aW9uIChob3N0KSB7IHJldHVybiBfdGhpcy5zZXRTb2NrZXRIb3N0KGhvc3QpOyB9KTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLm9uKCdtaWdyYXRlU3RhdGVSZWNlaXZlZCcsIGZ1bmN0aW9uIChzaGEpIHsgcmV0dXJuIF90aGlzLl9taWdyYXRpb24udmVyaWZ5U3RhdGUoc2hhKTsgfSk7XG4gICAgfVxuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldEFwaVBhdGggPSBmdW5jdGlvbiAoYXBpUGF0aCkge1xuICAgICAgICBpZiAoIXRoaXMuX2xwUmVxdWVzdC5hcGlQYXRoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmFwaVBhdGggPSBhcGlQYXRoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmV0d29yayB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZWNvbmRzIFRoZSB0aW1lb3V0IGluIHNlY29uZHMuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICB0aGlzLl9scFJlcXVlc3Quc2V0TmV0d29ya1RpbWVvdXQoc2Vjb25kcyk7XG4gICAgICAgIHRoaXMuX2xwU29ja2V0LnNldE5ldHdvcmtUaW1lb3V0KHNlY29uZHMpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0QXBwSWRGb3JEZXZlbG9wbWVudE1vZGUgPSBmdW5jdGlvbiAoYXBwSWQsIGFjY2Vzc0tleSkge1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuYXBwSWQgPSBhcHBJZDtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmNsaWVudEtleSA9IGFjY2Vzc0tleTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlID0gdHJ1ZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldEFwcElkRm9yUHJvZHVjdGlvbk1vZGUgPSBmdW5jdGlvbiAoYXBwSWQsIGFjY2Vzc0tleSkge1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuYXBwSWQgPSBhcHBJZDtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmNsaWVudEtleSA9IGFjY2Vzc0tleTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlID0gZmFsc2U7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRTb2NrZXRIb3N0ID0gZnVuY3Rpb24gKGhvc3QpIHtcbiAgICAgICAgdGhpcy5fbHBTb2NrZXQuc2V0U29ja2V0SG9zdChob3N0KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldERldmljZUlkID0gZnVuY3Rpb24gKGRldmljZUlkKSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5kZXZpY2VJZCA9IGRldmljZUlkO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0TG9jYWxlID0gZnVuY3Rpb24gKGxvY2FsZSkge1xuICAgICAgICB0aGlzLl9sb2NhbGUgPSBsb2NhbGU7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRBcHBWZXJzaW9uID0gZnVuY3Rpb24gKHZlcnNpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC52ZXJzaW9uTmFtZSA9IHZlcnNpb25OYW1lO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0RGV2aWNlTmFtZSA9IGZ1bmN0aW9uIChkZXZpY2VOYW1lKSB7XG4gICAgICAgIHRoaXMuX2RldmljZU5hbWUgPSBkZXZpY2VOYW1lO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0RGV2aWNlTW9kZWwgPSBmdW5jdGlvbiAoZGV2aWNlTW9kZWwpIHtcbiAgICAgICAgdGhpcy5fZGV2aWNlTW9kZWwgPSBkZXZpY2VNb2RlbDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFJlcXVlc3RCYXRjaGluZyA9IGZ1bmN0aW9uIChiYXRjaEVuYWJsZWQsIGNvb2xkb3duU2Vjb25kcykge1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuYmF0Y2hFbmFibGVkID0gYmF0Y2hFbmFibGVkO1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuYmF0Y2hDb29sZG93biA9IGNvb2xkb3duU2Vjb25kcztcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFN5c3RlbU5hbWUgPSBmdW5jdGlvbiAoc3lzdGVtTmFtZSkge1xuICAgICAgICB0aGlzLl9zeXN0ZW1OYW1lID0gc3lzdGVtTmFtZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFN5c3RlbVZlcnNpb24gPSBmdW5jdGlvbiAoc3lzdGVtVmVyc2lvbikge1xuICAgICAgICB0aGlzLl9zeXN0ZW1WZXJzaW9uID0gc3lzdGVtVmVyc2lvbjtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICh2YXJpYWJsZXMpIHtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUuc2V0VmFyaWFibGVzKHZhcmlhYmxlcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRWYXJpYW50RGVidWdJbmZvRW5hYmxlZCA9IGZ1bmN0aW9uICh2YXJpYW50RGVidWdJbmZvRW5hYmxlZCkge1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLnZhcmlhbnREZWJ1Z0luZm9FbmFibGVkID0gdmFyaWFudERlYnVnSW5mb0VuYWJsZWQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5lbmFibGVSaWNoSW5BcHBNZXNzYWdlcyA9IGZ1bmN0aW9uIChlbmFibGVkKSB7XG4gICAgICAgIHRoaXMuX21lc3NhZ2VzLmVuYWJsZVJpY2hJbkFwcE1lc3NhZ2VzKGVuYWJsZWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucHJvY2Vzc01lc3NhZ2VFdmVudCA9IGZ1bmN0aW9uIChtZXNzYWdlSWQsIG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5fbWVzc2FnZXMucHJvY2Vzc01lc3NhZ2VFdmVudChtZXNzYWdlSWQsIG1lc3NhZ2UpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0VmFyaWFudERlYnVnSW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhckNhY2hlLmdldFZhcmlhbnREZWJ1Z0luZm8oKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhckNhY2hlLmdldFZhcmlhYmxlcygpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0VmFyaWFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5fdmFyQ2FjaGUpLmdldFZhcmlhYmxlLmFwcGx5KF9hLCBhcmdzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldFZhcmlhbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFyQ2FjaGUudmFyaWFudHMgfHwgW107XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5pbmJveCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xwSW5ib3g7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fZXZlbnRzLm9uKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5vZmYoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLm9uSW5ib3hBY3Rpb24gPSBmdW5jdGlvbiAobWVzc2FnZUlkLCBhY3Rpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fbWVzc2FnZXMudHJhY2tNZXNzYWdlKG1lc3NhZ2VJZCwgeyBldmVudDogJ09wZW4nIH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFjdGlvbiAmJiBfdGhpcy5fbWVzc2FnZXMub25BY3Rpb24oYWN0aW9uKTsgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5kZWZpbmVBY3Rpb24gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLl92YXJDYWNoZS5yZWdpc3RlckFjdGlvbkRlZmluaXRpb24oX19hc3NpZ24oeyBraW5kOiBwdWJsaWNfMS5NZXNzYWdlS2luZC5UZW1wbGF0ZSB9LCBvcHRpb25zKSk7XG4gICAgfTtcbiAgICAvLyBUT0RPKGJyZWFraW5nIGNoYW5nZSk6IHJlcGxhY2Ugd2l0aCBldmVudHMgYW5kIHJlbW92ZSBzdGF0ZWZ1bCBoYW5kbGVyc1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS5hZGRTdGFydFJlc3BvbnNlSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS5yZW1vdmVTdGFydFJlc3BvbnNlSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmFkZFZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUuYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5yZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX3ZhckNhY2hlLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0RmlsZVVybCA9IGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbHBSZXF1ZXN0LmdldEZpbGVVcmwoZmlsZW5hbWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZm9yY2VDb250ZW50VXBkYXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklOQ0xVREVfREVGQVVMVFMsIGZhbHNlKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkNMVURFX1ZBUklBTlRfREVCVUdfSU5GTywgdGhpcy5faW50ZXJuYWxTdGF0ZS52YXJpYW50RGVidWdJbmZvRW5hYmxlZCk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuR0VUX1ZBUlMsIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogZmFsc2UsXG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZhciBnZXRWYXJzUmVzcG9uc2UgPSBfdGhpcy5fbHBSZXF1ZXN0LmdldExhc3RSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgdmFyIGlzU3VjY2VzcyA9IF90aGlzLl9scFJlcXVlc3QuaXNSZXNwb25zZVN1Y2Nlc3MoZ2V0VmFyc1Jlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS5hcHBseURpZmZzKGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSU10sIGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVFNdLCBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLkFDVElPTl9ERUZJTklUSU9OU10pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUuc2V0VmFyaWFudERlYnVnSW5mbyhnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUklBTlRfREVCVUdfSU5GT10pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZXZlbnRzLmVtaXQoJ21lc3NhZ2VzUmVjZWl2ZWQnLCBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLk1FU1NBR0VTXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhpc1N1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUudXNlU2Vzc2lvbkxlbmd0aCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMuX3Nlc3Npb25MZW5ndGggPSBzZWNvbmRzO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlcklkO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgICAgIHVzZXJJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHVzZXJJZCA9PT0gJ29iamVjdCcgJiYgdXNlcklkICE9PSBudWxsICYmIHVzZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJBdHRyaWJ1dGVzO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB1c2VySWQ7XG4gICAgICAgICAgICB1c2VySWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VyQXR0cmlidXRlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VyQXR0cmlidXRlcztcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFzQWN0aXZlU2Vzc2lvbigpICYmICF0aGlzLl9pbnRlcm5hbFN0YXRlLmRldk1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXJ0RnJvbUNhY2hlKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9taWdyYXRpb24uZ2V0U3RhdGUoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09IGludGVybmFsXzEuTWlncmF0aW9uU3RhdGUuRFVQTElDQVRFKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2N0ID0gX3RoaXMuX21pZ3JhdGlvbi5pbml0Q2xldmVyVGFwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZSA9PT0gaW50ZXJuYWxfMS5NaWdyYXRpb25TdGF0ZS5DTEVWRVJUQVApIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fY3QgPSBfdGhpcy5fbWlncmF0aW9uLmluaXRDbGV2ZXJUYXAoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5taWdyYXRlUHVzaFRva2VuKCk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUylcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7IHJldHVybiAhW1xuICAgICAgICAgICAgICAgICAgICBDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5VU0VSX0lELFxuICAgICAgICAgICAgICAgICAgICBDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5ERVZJQ0VfSUQsXG4gICAgICAgICAgICAgICAgICAgIENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlRPS0VOLFxuICAgICAgICAgICAgICAgICAgICBDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5NSUdSQVRJT05fU1RBVEUsXG4gICAgICAgICAgICAgICAgXS5pbmNsdWRlcyhrZXkpOyB9KVxuICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQucmVtb3ZlKGtleSk7IH0pO1xuICAgICAgICAgICAgICAgIF90aGlzLl9tZXNzYWdlcy5jbGVhbnVwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZCA9IHVzZXJJZDtcbiAgICAgICAgICAgIGlmICh1c2VySWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fbWlncmF0aW9uLmlkZW50aXR5LnNldFVzZXJJZCh1c2VySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIoY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuX3ZhckNhY2hlLm9uVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS50cmlnZ2VyVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KClcbiAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlVTRVJfQVRUUklCVVRFUywgSlNPTi5zdHJpbmdpZnkodXNlckF0dHJpYnV0ZXMpKVxuICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQ09VTlRSWSwgQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVURUNUKVxuICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuUkVHSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DSVRZLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5MT0NBVElPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVURUNUKVxuICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuU1lTVEVNX05BTUUsIF90aGlzLl9zeXN0ZW1OYW1lIHx8IF90aGlzLl9icm93c2VyRGV0ZWN0b3IuT1MpXG4gICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5TWVNURU1fVkVSU0lPTiwgKF90aGlzLl9zeXN0ZW1WZXJzaW9uIHx8ICcnKS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQlJPV1NFUl9OQU1FLCBfdGhpcy5fYnJvd3NlckRldGVjdG9yLmJyb3dzZXIpXG4gICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5CUk9XU0VSX1ZFUlNJT04sIF90aGlzLl9icm93c2VyRGV0ZWN0b3IudmVyc2lvbi50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuTE9DQUxFLCBfdGhpcy5fbG9jYWxlIHx8IENvbnN0YW50c18xLmRlZmF1bHQuVkFMVUVTLkRFVEVDVClcbiAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkRFVklDRV9OQU1FLCBfdGhpcy5fZGV2aWNlTmFtZSB8fFxuICAgICAgICAgICAgICAgIFwiXCIuY29uY2F0KF90aGlzLl9icm93c2VyRGV0ZWN0b3IuYnJvd3NlciwgXCIgXCIpLmNvbmNhdChfdGhpcy5fYnJvd3NlckRldGVjdG9yLnZlcnNpb24pKVxuICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuREVWSUNFX01PREVMLCBfdGhpcy5fZGV2aWNlTW9kZWwgfHwgJ1dlYiBCcm93c2VyJylcbiAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLk5FV1NGRUVEX01FU1NBR0VTLCBfdGhpcy5fbHBJbmJveC5tZXNzYWdlSWRzKCkpXG4gICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkNMVURFX0RFRkFVTFRTLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklOQ0xVREVfVkFSSUFOVF9ERUJVR19JTkZPLCBfdGhpcy5faW50ZXJuYWxTdGF0ZS52YXJpYW50RGVidWdJbmZvRW5hYmxlZCk7XG4gICAgICAgICAgICBfdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TVEFSVCwgYXJncywge1xuICAgICAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2ludGVybmFsU3RhdGUuaGFzU3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGFydFJlc3BvbnNlID0gX3RoaXMuX2xwUmVxdWVzdC5nZXRMYXN0UmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNTdWNjZXNzID0gX3RoaXMuX2xwUmVxdWVzdC5pc1Jlc3BvbnNlU3VjY2VzcyhzdGFydFJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2ludGVybmFsU3RhdGUuc3RhcnRTdWNjZXNzZnVsID0gaXNTdWNjZXNzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGVTZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZXMgPSBzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5NRVNTQUdFU107XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRSZXNwb25zZS5hY3Rpb25EZWZpbml0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzLmFjdGlvbkRlZmluaXRpb25zID0gc3RhcnRSZXNwb25zZS5hY3Rpb25EZWZpbml0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9ldmVudHMuZW1pdCgnbWVzc2FnZXNSZWNlaXZlZCcsIG1lc3NhZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5TWU5DX0lOQk9YXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9scEluYm94LmRvd25sb2FkTWVzc2FnZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhdGVzdFZlcnNpb24gPSBzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5MQVRFU1RfVkVSU0lPTl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhdGVzdFZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBIG5ld2VyIHZlcnNpb24gb2YgdGhlIExlYW5wbHVtIFNESywgXCIuY29uY2F0KGxhdGVzdFZlcnNpb24sIFwiLCBpcyBhdmFpbGFibGUuXFxuICBVc2UgXFxcIm5wbSB1cGRhdGUgbGVhbnBsdW0tc2RrXFxcIiBvciBnbyB0byBodHRwczovL2RvY3MubGVhbnBsdW0uY29tL3JlZmVyZW5jZSNqYXZhc2NyaXB0LXNldHVwIHRvIGRvd25sb2FkIGl0LlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3RTb2NrZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS5hcHBseURpZmZzKHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUlNdLCBzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJJQU5UU10sIHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLkFDVElPTl9ERUZJTklUSU9OU10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3ZhckNhY2hlLnNldFZhcmlhbnREZWJ1Z0luZm8oc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVF9ERUJVR19JTkZPXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUudG9rZW4gPSBzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5UT0tFTl07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUubG9hZERpZmZzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2V2ZW50cy5lbWl0KCdzdGFydCcsIHsgc3VjY2VzczogaXNTdWNjZXNzIH0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5faW50ZXJuYWxTdGF0ZS50cmlnZ2VyU3RhcnRIYW5kbGVycygpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zdGFydEZyb21DYWNoZSA9IGZ1bmN0aW9uICh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodHlwZW9mIHVzZXJJZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VySWQ7XG4gICAgICAgICAgICB1c2VyQXR0cmlidXRlcyA9IHt9O1xuICAgICAgICAgICAgdXNlcklkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdXNlcklkID09PSAnb2JqZWN0JyAmJiB1c2VySWQgIT09IG51bGwgJiYgdXNlcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlckF0dHJpYnV0ZXM7XG4gICAgICAgICAgICB1c2VyQXR0cmlidXRlcyA9IHVzZXJJZDtcbiAgICAgICAgICAgIHVzZXJJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHVzZXJBdHRyaWJ1dGVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJBdHRyaWJ1dGVzO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVNlc3Npb24oKTtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZCA9IHVzZXJJZDtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLmhhc1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLnN0YXJ0U3VjY2Vzc2Z1bCA9IHRydWU7XG4gICAgICAgIHRoaXMuX21pZ3JhdGlvbi5nZXRTdGF0ZShmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gaW50ZXJuYWxfMS5NaWdyYXRpb25TdGF0ZS5EVVBMSUNBVEUgfHwgc3RhdGUgPT09IGludGVybmFsXzEuTWlncmF0aW9uU3RhdGUuQ0xFVkVSVEFQKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2N0ID0gX3RoaXMuX21pZ3JhdGlvbi5pbml0Q2xldmVyVGFwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGhpcy5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RTb2NrZXQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl92YXJDYWNoZS5sb2FkRGlmZnMoKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLmVtaXQoJ3Jlc3VtZScpO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLnRyaWdnZXJTdGFydEhhbmRsZXJzKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlNUT1AsIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnJlbW92ZShTRVNTSU9OX0tFWSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnBhdXNlU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5QQVVTRV9TRVNTSU9OLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucmVzdW1lU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fZXZlbnRzLmVtaXQoJ3Jlc3VtZScpO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlJFU1VNRV9TRVNTSU9OLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucGF1c2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5QQVVTRV9TVEFURSwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucmVzdW1lU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuUkVTVU1FX1NUQVRFLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5nZXRVc2VySWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9scFJlcXVlc3QudXNlcklkO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0VXNlcklkID0gZnVuY3Rpb24gKHVzZXJJZCkge1xuICAgICAgICB0aGlzLnNldFVzZXJBdHRyaWJ1dGVzKHVzZXJJZCk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRVc2VyQXR0cmlidXRlcyA9IGZ1bmN0aW9uICh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmICh1c2VyQXR0cmlidXRlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHVzZXJJZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB1c2VyQXR0cmlidXRlcyA9IHVzZXJJZDtcbiAgICAgICAgICAgICAgICB1c2VySWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdXNlcklkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogc2V0VXNlckF0dHJpYnV0ZXMgZXhwZWN0cyBhIHN0cmluZyBvciBhbiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ29iamVjdCcpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5VU0VSX0FUVFJJQlVURVMsIHVzZXJBdHRyaWJ1dGVzID8gSlNPTi5zdHJpbmdpZnkodXNlckF0dHJpYnV0ZXMpIDogdW5kZWZpbmVkKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ORVdfVVNFUl9JRCwgdXNlcklkKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLmVtaXQoJ3NldFVzZXJBdHRyaWJ1dGUnLCB1c2VyQXR0cmlidXRlcyk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuU0VUX1VTRVJfQVRUUklCVVRFUywgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHVzZXJJZCkge1xuICAgICAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZCA9IHVzZXJJZDtcbiAgICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlVTRVJfSUQsIHRoaXMuX2xwUmVxdWVzdC51c2VySWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS50cmFjayA9IGZ1bmN0aW9uIChldmVudCwgdmFsdWUsIGluZm8sIHBhcmFtcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSB2YWx1ZTtcbiAgICAgICAgICAgIGluZm8gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSBpbmZvO1xuICAgICAgICAgICAgaW5mbyA9IHZhbHVlO1xuICAgICAgICAgICAgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGluZm8gPT09ICdvYmplY3QnICYmIGluZm8gIT09IG51bGwgJiYgaW5mbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSBpbmZvO1xuICAgICAgICAgICAgaW5mbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5FVkVOVCwgZXZlbnQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlZBTFVFLCB2YWx1ZSB8fCAwLjApXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklORk8sIGluZm8pXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlBBUkFNUywgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCd0cmFjaycsIHsgZXZlbnROYW1lOiBldmVudCwgcGFyYW1zOiBwYXJhbXMgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuVFJBQ0ssIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy51cGRhdGVTZXNzaW9uKCk7IH0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUudHJhY2tQdXJjaGFzZSA9IGZ1bmN0aW9uICh2YWx1ZSwgY3VycmVuY3lDb2RlLCBwYXJhbXMsIGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudCA9PT0gdm9pZCAwKSB7IGV2ZW50ID0gJ1B1cmNoYXNlJzsgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5FVkVOVCwgZXZlbnQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlZBTFVFLCB2YWx1ZSB8fCAwLjApXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlBBUkFNUywgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgICAgIGlmIChjdXJyZW5jeUNvZGUpIHtcbiAgICAgICAgICAgIGFyZ3MuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkNVUlJFTkNZX0NPREUsIGN1cnJlbmN5Q29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZXZlbnRzLmVtaXQoJ3RyYWNrJywgeyBldmVudE5hbWU6IGV2ZW50IH0pO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlRSQUNLLCBhcmdzLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgICAgICBpc1B1cmNoYXNlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmFkdmFuY2VUbyA9IGZ1bmN0aW9uIChzdGF0ZSwgaW5mbywgcGFyYW1zKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5mbyA9PT0gJ29iamVjdCcgJiYgaW5mbyAhPT0gbnVsbCAmJiBpbmZvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IGluZm87XG4gICAgICAgICAgICBpbmZvID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNUQVRFLCBzdGF0ZSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5GTywgaW5mbylcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuUEFSQU1TLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLmVtaXQoJ2FkdmFuY2VTdGF0ZScsIHsgc3RhdGU6IHN0YXRlLCBwYXJhbXM6IHBhcmFtcyB9KTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5BRFZBTkNFLCBhcmdzLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB3ZWIgcHVzaCBpcyBzdXBwb3J0ZWQgaW4gdGhlIGJyb3dzZXIuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBzdXBwb3J0ZWQsIGVsc2UgZmFsc2UuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuaXNXZWJQdXNoU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHVzaE1hbmFnZXIuaXNXZWJQdXNoU3VwcG9ydGVkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHdlYiBwdXNoIGlzIHN1YnNjcmliZWQuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gUmVzb2x2ZXMgaWYgdHJ1ZSwgcmVqZWN0cyBpZiBmYWxzZS5cbiAgICAgKi9cbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5pc1dlYlB1c2hTdWJzY3JpYmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBjbGllbnRVcmwgPSAoKF9hID0gdGhpcy5fd2ViUHVzaE9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGllbnRVcmwpIHx8ICcnO1xuICAgICAgICByZXR1cm4gdGhpcy5fcHVzaE1hbmFnZXIuaXNXZWJQdXNoU3Vic2NyaWJlZChjbGllbnRVcmwpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0V2ViUHVzaE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLl93ZWJQdXNoT3B0aW9ucyA9IF9fYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIHRoZSBicm93c2VyIGZvciB3ZWIgcHVzaC5cbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgc2VydmljZVdvcmtlclVybCBUaGUgdXJsIG9uIHlvdXIgc2VydmVyIHRoYXQgaG9zdHMgdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3N3Lm1pbi5qcyBzZXJ2aWNlIHdvcmtlciBqcyBmaWxlLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICAgICAgICAgICAgIFJlc29sdmVzIGlmIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyd2lzZSBmYWlscy5cbiAgICAgKi9cbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5yZWdpc3RlckZvcldlYlB1c2ggPSBmdW5jdGlvbiAoc2VydmljZVdvcmtlclVybCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fcHVzaE1hbmFnZXIuaXNXZWJQdXNoU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpYmUgPSBmdW5jdGlvbiAoaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3B1c2hNYW5hZ2VyLnN1YnNjcmliZVVzZXIoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMuX3dlYlB1c2hPcHRpb25zIHx8IHt9O1xuICAgICAgICAgICAgdmFyIHdvcmtlclVybCA9IHNlcnZpY2VXb3JrZXJVcmwgfHwgb3B0aW9ucy5zZXJ2aWNlV29ya2VyVXJsO1xuICAgICAgICAgICAgdmFyIHNjb3BlID0gb3B0aW9ucyAmJiBvcHRpb25zLnNjb3BlID8geyBzY29wZTogb3B0aW9ucy5zY29wZSB9IDogbnVsbDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wdXNoTWFuYWdlci5yZWdpc3Rlcih3b3JrZXJVcmwsIHNjb3BlLCBzdWJzY3JpYmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdMZWFucGx1bTogV2ViUHVzaCBpcyBub3Qgc3VwcG9ydGVkLicpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbnJlZ2lzdGVycyB0aGUgYnJvd3NlciBmb3JtIHdlYiBwdXNoLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICAgICAgUmVzb2x2ZXMgb24gc3VjY2Vzcywgb3RoZXJ3aXNlIHJlamVjdHMuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUudW5yZWdpc3RlckZyb21XZWJQdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBjbGllbnRVcmwgPSAoKF9hID0gdGhpcy5fd2ViUHVzaE9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGllbnRVcmwpIHx8ICcnO1xuICAgICAgICByZXR1cm4gdGhpcy5fcHVzaE1hbmFnZXIudW5zdWJzY3JpYmVVc2VyKGNsaWVudFVybCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhcnMgY2FjaGVkIHZhbHVlcyBmb3IgbWVzc2FnZXMsIHZhcmlhYmxlcyBhbmQgdGVzdCBhc3NpZ25tZW50cy5cbiAgICAgKiBVc2Ugc3BhcmluZ2x5IGFzIGlmIHRoZSBhcHAgaXMgdXBkYXRlZCwgeW91J2xsIGhhdmUgdG8gZGVhbCB3aXRoIHBvdGVudGlhbGx5XG4gICAgICogaW5jb25zaXN0ZW50IHN0YXRlIG9yIHVzZXIgZXhwZXJpZW5jZS5cbiAgICAgKi9cbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5jbGVhclVzZXJDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl92YXJDYWNoZS5jbGVhclVzZXJDb250ZW50KCk7XG4gICAgfTtcbiAgICAvLyB1c2VkIGJ5IEdvb2dsZSBUYWcgTWFuYWdlciB0byBhcHBseSBjb21tYW5kcyBxdWV1ZWQgZHVyaW5nIGFzeW5jIHNjcmlwdCBsb2FkaW5nXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuYXBwbHlRdWV1ZSA9IGZ1bmN0aW9uIChxdWV1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBxdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uIChpbnZvY2F0aW9uKSB7IHJldHVybiBfdGhpc1tpbnZvY2F0aW9uLm5hbWVdLmFwcGx5KF90aGlzLCBpbnZvY2F0aW9uLmFyZ3MpOyB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmNyZWF0ZVJlcXVlc3QgPSBmdW5jdGlvbiAoYWN0aW9uLCBhcmdzLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHZhciBzdXBwcmVzcyA9IHRoaXMuX21pZ3JhdGlvbi5kdXBsaWNhdGVSZXF1ZXN0KGFjdGlvbiwgYXJncywgb3B0aW9ucyk7XG4gICAgICAgIGlmICghc3VwcHJlc3MpIHtcbiAgICAgICAgICAgIHRoaXMuX2xwUmVxdWVzdC5yZXF1ZXN0KGFjdGlvbiwgYXJncywgX19hc3NpZ24oeyBkZXZNb2RlOiB0aGlzLl9pbnRlcm5hbFN0YXRlLmRldk1vZGUgfSwgb3B0aW9ucykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5jb25uZWN0U29ja2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9scFNvY2tldC5jb25uZWN0KHtcbiAgICAgICAgICAgIGFwcElkOiB0aGlzLl9scFJlcXVlc3QuYXBwSWQsXG4gICAgICAgICAgICBkZXZpY2VJZDogdGhpcy5fbHBSZXF1ZXN0LmRldmljZUlkLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmhhc0FjdGl2ZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fc2Vzc2lvbkxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHZhciBsYXN0QWN0aXZlID0gcGFyc2VJbnQoU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldChTRVNTSU9OX0tFWSkpO1xuICAgICAgICBpZiAoaXNOYU4obGFzdEFjdGl2ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VycmVudFRpbWUgLSBsYXN0QWN0aXZlIDwgdGhpcy5fc2Vzc2lvbkxlbmd0aCAqIDEwMDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnVwZGF0ZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlKFNFU1NJT05fS0VZLCBTdHJpbmcoRGF0ZS5ub3coKSkpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUubWlncmF0ZVB1c2hUb2tlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXQoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuUFVTSF9TVUJTQ1JJUFRJT04pKSB7XG4gICAgICAgICAgICAvLyBtb3ZlIHN1YnNjcmlwdGlvbiBpbiBDVFxuICAgICAgICAgICAgdGhpcy5pc1dlYlB1c2hTdWJzY3JpYmVkKCkudGhlbihmdW5jdGlvbiAoaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGlmIChpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3B1c2hNYW5hZ2VyLnVuc3Vic2NyaWJlVXNlcigpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VydmljZVdvcmtlclBhdGggPSAoX2EgPSBfdGhpcy5fd2ViUHVzaE9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXJ2aWNlV29ya2VyVXJsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IHNlcnZpY2VXb3JrZXJQYXRoID8geyBzZXJ2aWNlV29ya2VyUGF0aDogc2VydmljZVdvcmtlclBhdGggfSA6IHt9O1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fY3QgJiYgX3RoaXMuX2N0Lm5vdGlmaWNhdGlvbnMucHVzaChfX2Fzc2lnbih7IHRpdGxlVGV4dDogJycsIGJvZHlUZXh0OiAnJywgb2tCdXR0b25UZXh0OiAnJywgcmVqZWN0QnV0dG9uVGV4dDogJycgfSwgcGF0aCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTGVhbnBsdW1JbnRlcm5hbDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMZWFucGx1bUludGVybmFsO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vU3RvcmFnZU1hbmFnZXJcIikpO1xudmFyIE5ldHdvcmtfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9OZXR3b3JrXCIpKTtcbnZhciBMZWFucGx1bVJlcXVlc3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVhbnBsdW1SZXF1ZXN0KGV2ZW50cywgbmV0d29yaykge1xuICAgICAgICBpZiAobmV0d29yayA9PT0gdm9pZCAwKSB7IG5ldHdvcmsgPSBuZXcgTmV0d29ya18xLmRlZmF1bHQoKTsgfVxuICAgICAgICB0aGlzLmV2ZW50cyA9IGV2ZW50cztcbiAgICAgICAgdGhpcy5uZXR3b3JrID0gbmV0d29yaztcbiAgICAgICAgdGhpcy5jb29sZG93blRpbWVvdXQgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RSZXF1ZXN0VGltZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy51c2VySWRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5hcGlQYXRoID0gJ2h0dHBzOi8vYXBpLmxlYW5wbHVtLmNvbS9hcGknO1xuICAgICAgICB0aGlzLmJhdGNoQ29vbGRvd24gPSA1O1xuICAgICAgICB0aGlzLmJhdGNoRW5hYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMubG9hZEhvc3RDb25maWcoKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUsIFwidXNlcklkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMudXNlcklkVmFsdWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlVTRVJfSUQpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmRldmljZUlkO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh1c2VySWQpIHtcbiAgICAgICAgICAgIHRoaXMudXNlcklkVmFsdWUgPSB1c2VySWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiAoYWN0aW9uLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIHBhcmFtcyA9IHBhcmFtcyB8fCBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KCk7XG4gICAgICAgIC8vIEdldCBvciBjcmVhdGUgZGV2aWNlIElEIGFuZCB1c2VyIElELlxuICAgICAgICBpZiAoIXRoaXMuZGV2aWNlSWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGV2aWNlSWQgPSB0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5ERVZJQ0VfSUQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5kZXZpY2VJZCkge1xuICAgICAgICAgICAgdmFyIGlkID0gJyc7XG4gICAgICAgICAgICB2YXIgcG9zc2libGUgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODknO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWQgKz0gcG9zc2libGUuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlLmxlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kZXZpY2VJZCA9IGlkO1xuICAgICAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuREVWSUNFX0lELCBpZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVVNFUl9JRCwgdGhpcy51c2VySWQpO1xuICAgICAgICB2YXIgYXJnc0J1aWxkZXIgPSBwYXJhbXNcbiAgICAgICAgICAgIC5hdHRhY2hBcGlLZXlzKHRoaXMuYXBwSWQsIHRoaXMuY2xpZW50S2V5KVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5TREtfVkVSU0lPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5TREtfVkVSU0lPTilcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuREVWSUNFX0lELCB0aGlzLmRldmljZUlkKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5VU0VSX0lELCB0aGlzLnVzZXJJZClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQUNUSU9OLCBhY3Rpb24pXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlZFUlNJT05fTkFNRSwgdGhpcy52ZXJzaW9uTmFtZSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuREVWX01PREUsIG9wdGlvbnMuZGV2TW9kZSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVElNRSwgKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCkudG9TdHJpbmcoKSk7XG4gICAgICAgIHZhciBzdWNjZXNzID0gb3B0aW9ucy5zdWNjZXNzIHx8IG9wdGlvbnMucmVzcG9uc2U7XG4gICAgICAgIHZhciBlcnJvciA9IG9wdGlvbnMuZXJyb3IgfHwgb3B0aW9ucy5yZXNwb25zZTtcbiAgICAgICAgaWYgKCF0aGlzLmFwcElkIHx8ICF0aGlzLmNsaWVudEtleSkge1xuICAgICAgICAgICAgdmFyIGVyciA9ICdMZWFucGx1bSBBcHAgSUQgYW5kIGNsaWVudCBrZXkgYXJlIG5vdCBzZXQuIE1ha2Ugc3VyZSB5b3UgJyArXG4gICAgICAgICAgICAgICAgJ2FyZSBjYWxsaW5nIHNldEFwcElkRm9yRGV2ZWxvcG1lbnRNb2RlIG9yIHNldEFwcElkRm9yUHJvZHVjdGlvbk1vZGUgJyArXG4gICAgICAgICAgICAgICAgJ2JlZm9yZSBpc3N1aW5nIEFQSSBjYWxscy4nO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgIGVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcy5ib2R5KCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZFJlcXVlc3QoXCI/XCIuY29uY2F0KGFyZ3NCdWlsZGVyLmJ1aWxkKCkpLCBwYXJhbXMuYm9keSgpLCBzdWNjZXNzLCBlcnJvciwgb3B0aW9ucy5xdWV1ZWQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZW5kTm93ID0gb3B0aW9ucy5kZXZNb2RlIHx8IG9wdGlvbnMuc2VuZE5vdyB8fCAhdGhpcy5iYXRjaEVuYWJsZWQ7XG4gICAgICAgIHZhciBzZW5kVW5zZW50UmVxdWVzdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVxdWVzdHNUb1NlbmQgPSBfdGhpcy5wb3BVbnNlbnRSZXF1ZXN0cygpO1xuICAgICAgICAgICAgaWYgKHJlcXVlc3RzVG9TZW5kLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdERhdGEgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzogcmVxdWVzdHNUb1NlbmQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIG11bHRpUmVxdWVzdEFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KClcbiAgICAgICAgICAgICAgICAgICAgLmF0dGFjaEFwaUtleXMoX3RoaXMuYXBwSWQsIF90aGlzLmNsaWVudEtleSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5TREtfVkVSU0lPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5TREtfVkVSU0lPTilcbiAgICAgICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BQ1RJT04sIENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5NVUxUSSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5USU1FLCAobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKS50b1N0cmluZygpLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgIC5idWlsZCgpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNlbmRSZXF1ZXN0KFwiP1wiLmNvbmNhdChtdWx0aVJlcXVlc3RBcmdzKSwgcmVxdWVzdERhdGEsIHN1Y2Nlc3MsIGVycm9yLCBvcHRpb25zLnF1ZXVlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIERlYWwgd2l0aCBjb29sZG93bi5cbiAgICAgICAgaWYgKCFzZW5kTm93ICYmIHRoaXMuYmF0Y2hDb29sZG93bikge1xuICAgICAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMDtcbiAgICAgICAgICAgIGlmICghdGhpcy5sYXN0UmVxdWVzdFRpbWUgfHwgbm93IC0gdGhpcy5sYXN0UmVxdWVzdFRpbWUgPj0gdGhpcy5iYXRjaENvb2xkb3duKSB7XG4gICAgICAgICAgICAgICAgc2VuZE5vdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0UmVxdWVzdFRpbWUgPSBub3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghdGhpcy5jb29sZG93blRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvb2xkb3duVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb29sZG93blRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5sYXN0UmVxdWVzdFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDA7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRVbnNlbnRSZXF1ZXN0cygpO1xuICAgICAgICAgICAgICAgIH0sICh0aGlzLmJhdGNoQ29vbGRvd24gLSAobm93IC0gdGhpcy5sYXN0UmVxdWVzdFRpbWUpKSAqIDEwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2F2ZVJlcXVlc3RGb3JMYXRlcihhcmdzQnVpbGRlci5idWlsZERpY3QoKSk7XG4gICAgICAgIGlmIChzZW5kTm93KSB7XG4gICAgICAgICAgICBzZW5kVW5zZW50UmVxdWVzdHMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5nZXRGaWxlVXJsID0gZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICAgIGlmICghZmlsZW5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoL15odHRwcz86Ly50ZXN0KGZpbGVuYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbGVuYW1lO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYXR0YWNoQXBpS2V5cyh0aGlzLmFwcElkLCB0aGlzLmNsaWVudEtleSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuU0RLX1ZFUlNJT04sIENvbnN0YW50c18xLmRlZmF1bHQuU0RLX1ZFUlNJT04pXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkFDVElPTiwgJ2Rvd25sb2FkRmlsZScpXG4gICAgICAgICAgICAuYWRkKCdmaWxlbmFtZScsIGZpbGVuYW1lKTtcbiAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHRoaXMuYXBpUGF0aCwgXCI/XCIpLmNvbmNhdChhcmdzLmJ1aWxkKCkpO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMubmV0d29yay5zZXROZXR3b3JrVGltZW91dChzZWNvbmRzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuZ2V0TGFzdFJlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICB2YXIgY291bnQgPSAoX2IgPSAoX2EgPSByZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uc2UucmVzcG9uc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDA7XG4gICAgICAgIHJldHVybiAoY291bnQgPiAwKSA/IChfYyA9IHJlc3BvbnNlID09PSBudWxsIHx8IHJlc3BvbnNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNwb25zZS5yZXNwb25zZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jW2NvdW50IC0gMV0gOiBudWxsO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5nZXRGaXJzdFJlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICB2YXIgY291bnQgPSAoX2IgPSAoX2EgPSByZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uc2UucmVzcG9uc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDA7XG4gICAgICAgIHJldHVybiAoY291bnQgPiAwKSA/IChfYyA9IHJlc3BvbnNlID09PSBudWxsIHx8IHJlc3BvbnNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNwb25zZS5yZXNwb25zZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jWzBdIDogbnVsbDtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuaXNSZXNwb25zZVN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4ocmVzcG9uc2UgPT09IG51bGwgfHwgcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbnNlLnN1Y2Nlc3MpO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5zYXZlUmVxdWVzdEZvckxhdGVyID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgdmFyIGNvdW50ID0gdGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuQ09VTlQpIHx8IDA7XG4gICAgICAgIHZhciBpdGVtS2V5ID0gQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuSVRFTSArIGNvdW50O1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChpdGVtS2V5LCBKU09OLnN0cmluZ2lmeShhcmdzKSk7XG4gICAgICAgIGNvdW50Kys7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkNPVU5ULCBjb3VudCk7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLnNlbmRSZXF1ZXN0ID0gZnVuY3Rpb24gKHF1ZXJ5LCBkYXRhLCBzdWNjZXNzLCBlcnJvciwgcXVldWVkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMubmV0d29yay5hamF4KCdQT1NUJywgXCJcIi5jb25jYXQodGhpcy5hcGlQYXRoKS5jb25jYXQocXVlcnkpLCBkYXRhLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHZhciBtZXRob2RSZXNwb25zZSA9IF90aGlzLmdldEZpcnN0UmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgdmFyIHNoYTI1NiA9ICgoX2EgPSByZXNwb25zZS5taWdyYXRlU3RhdGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zaGEyNTYpIHx8IG1ldGhvZFJlc3BvbnNlLnNoYTI1NjtcbiAgICAgICAgICAgIGlmICghL1xcYmdldE1pZ3JhdGVTdGF0ZVxcYi8udGVzdChkYXRhKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50cy5lbWl0KCdtaWdyYXRlU3RhdGVSZWNlaXZlZCcsIHNoYTI1Nik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW1ldGhvZFJlc3BvbnNlLnN1Y2Nlc3MgJiYgbWV0aG9kUmVzcG9uc2UuYXBpSG9zdCkge1xuICAgICAgICAgICAgICAgIHZhciBhcGlIb3N0ID0gbWV0aG9kUmVzcG9uc2UuYXBpSG9zdCwgYXBpUGF0aCA9IG1ldGhvZFJlc3BvbnNlLmFwaVBhdGgsIGRldlNlcnZlckhvc3QgPSBtZXRob2RSZXNwb25zZS5kZXZTZXJ2ZXJIb3N0O1xuICAgICAgICAgICAgICAgIF90aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5IT1NUX0NPTkZJRywgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBhcGlIb3N0OiBhcGlIb3N0LFxuICAgICAgICAgICAgICAgICAgICBhcGlQYXRoOiBhcGlQYXRoLFxuICAgICAgICAgICAgICAgICAgICBkZXZTZXJ2ZXJIb3N0OiBkZXZTZXJ2ZXJIb3N0LFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5hcGlQYXRoID0gXCJodHRwczovL1wiLmNvbmNhdChhcGlIb3N0LCBcIi9cIikuY29uY2F0KGFwaVBhdGgpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNlbmRSZXF1ZXN0KHF1ZXJ5LCBkYXRhLCBzdWNjZXNzLCBlcnJvciwgcXVldWVkKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5ldmVudHMuZW1pdCgndXBkYXRlRGV2U2VydmVySG9zdCcsIGRldlNlcnZlckhvc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3MocmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBlcnJvciwgcXVldWVkKTtcbiAgICB9O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5wb3BVbnNlbnRSZXF1ZXN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlcXVlc3REYXRhID0gW107XG4gICAgICAgIHZhciBjb3VudCA9IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkNPVU5UKSB8fCAwO1xuICAgICAgICB0aGlzLnJlbW92ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkNPVU5UKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbUtleSA9IENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLklURU0gKyBpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0RGF0YS5wdXNoKEpTT04ucGFyc2UodGhpcy5sb2FkTG9jYWwoaXRlbUtleSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChpZ25vcmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gRG8gbm90aGluZy5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTG9jYWwoaXRlbUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcXVlc3REYXRhO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5sb2FkSG9zdENvbmZpZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGhvc3RDb25maWcgPSBKU09OLnBhcnNlKHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkhPU1RfQ09ORklHKSB8fCAnbnVsbCcpO1xuICAgICAgICBpZiAoaG9zdENvbmZpZykge1xuICAgICAgICAgICAgdmFyIGFwaUhvc3QgPSBob3N0Q29uZmlnLmFwaUhvc3QsIGFwaVBhdGggPSBob3N0Q29uZmlnLmFwaVBhdGgsIGRldlNlcnZlckhvc3QgPSBob3N0Q29uZmlnLmRldlNlcnZlckhvc3Q7XG4gICAgICAgICAgICB0aGlzLmFwaVBhdGggPSBcImh0dHBzOi8vXCIuY29uY2F0KGFwaUhvc3QsIFwiL1wiKS5jb25jYXQoYXBpUGF0aCk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCd1cGRhdGVEZXZTZXJ2ZXJIb3N0JywgZGV2U2VydmVySG9zdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUubG9hZExvY2FsID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldChrZXkpO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5zYXZlTG9jYWwgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZShrZXksIHZhbHVlKTtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUucmVtb3ZlTG9jYWwgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5yZW1vdmUoa2V5KTtcbiAgICB9O1xuICAgIHJldHVybiBMZWFucGx1bVJlcXVlc3Q7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTGVhbnBsdW1SZXF1ZXN0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICpcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBsb2Rhc2hfaXNlcXVhbF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJsb2Rhc2guaXNlcXVhbFwiKSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBTb2NrZXRJb0NsaWVudF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1NvY2tldElvQ2xpZW50XCIpKTtcbnZhciBMZWFucGx1bVNvY2tldCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bVNvY2tldChjYWNoZSwgY3JlYXRlUmVxdWVzdCwgXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBnZXRMYXN0UmVzcG9uc2UsIGV2ZW50cykge1xuICAgICAgICB0aGlzLmNhY2hlID0gY2FjaGU7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4gICAgICAgIHRoaXMuZ2V0TGFzdFJlc3BvbnNlID0gZ2V0TGFzdFJlc3BvbnNlO1xuICAgICAgICB0aGlzLmV2ZW50cyA9IGV2ZW50cztcbiAgICAgICAgdGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMgPSAxMDtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnNvY2tldEhvc3QgPSAnZGV2LmxlYW5wbHVtLmNvbSc7XG4gICAgICAgIHRoaXMuYXV0aCA9IG51bGw7XG4gICAgfVxuICAgIExlYW5wbHVtU29ja2V0LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKGF1dGgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCFXZWJTb2NrZXQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdZb3VyIGJyb3dzZXIgZG9lc25cXCd0IHN1cHBvcnQgV2ViU29ja2V0cy4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF1dGggPSBhdXRoO1xuICAgICAgICB2YXIgYXV0aFNlbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQgPSBuZXcgU29ja2V0SW9DbGllbnRfMS5kZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50LnNldE5ldHdvcmtUaW1lb3V0KHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzKTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQub25vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKCFhdXRoU2VudCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogQ29ubmVjdGVkIHRvIGRldmVsb3BtZW50IHNlcnZlci4nKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXRDbGllbnQuc2VuZCgnYXV0aCcsIChfYSA9IHt9LFxuICAgICAgICAgICAgICAgICAgICBfYVtDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BUFBfSURdID0gYXV0aC5hcHBJZCxcbiAgICAgICAgICAgICAgICAgICAgX2FbQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuREVWSUNFX0lEXSA9IGF1dGguZGV2aWNlSWQsXG4gICAgICAgICAgICAgICAgICAgIF9hKSk7XG4gICAgICAgICAgICAgICAgYXV0aFNlbnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IFNvY2tldCBlcnJvcicsIGV2ZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQub25tZXNzYWdlID0gdGhpcy5vbk1lc3NhZ2VSZWNlaXZlZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5vbmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBEaXNjb25uZWN0ZWQgZnJvbSBkZXZlbG9wbWVudCBzZXJ2ZXIuJyk7XG4gICAgICAgICAgICBhdXRoU2VudCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5jb25uZWN0KHRoaXMuc29ja2V0SG9zdCk7XG4gICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuc29ja2V0Q2xpZW50LmNvbm5lY3RlZCAmJiAhX3RoaXMuc29ja2V0Q2xpZW50LmNvbm5lY3RpbmcpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXRDbGllbnQuY29ubmVjdChfdGhpcy5zb2NrZXRIb3N0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwMCk7XG4gICAgfTtcbiAgICBMZWFucGx1bVNvY2tldC5wcm90b3R5cGUuc2V0U29ja2V0SG9zdCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnNvY2tldEhvc3QgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMuc29ja2V0Q2xpZW50LmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0KHRoaXMuYXV0aCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0gc2Vjb25kcyBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIExlYW5wbHVtU29ja2V0LnByb3RvdHlwZS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMgPSBzZWNvbmRzO1xuICAgICAgICAoX2EgPSB0aGlzLnNvY2tldENsaWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNldE5ldHdvcmtUaW1lb3V0KHNlY29uZHMpO1xuICAgIH07XG4gICAgTGVhbnBsdW1Tb2NrZXQucHJvdG90eXBlLm9uTWVzc2FnZVJlY2VpdmVkID0gZnVuY3Rpb24gKGV2ZW50LCBhcmdzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChldmVudCA9PT0gJ3VwZGF0ZVZhcnMnKSB7XG4gICAgICAgICAgICB2YXIgYXJnc18xID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkNMVURFX0RFRkFVTFRTLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLkdFVF9WQVJTLCBhcmdzXzEsIHtcbiAgICAgICAgICAgICAgICBxdWV1ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0VmFyc1Jlc3BvbnNlID0gX3RoaXMuZ2V0TGFzdFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSU107XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YXJpYW50cyA9IGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVFNdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aW9uRGVmaW5pdGlvbnMgPSBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLkFDVElPTl9ERUZJTklUSU9OU107XG4gICAgICAgICAgICAgICAgICAgIGlmICghKDAsIGxvZGFzaF9pc2VxdWFsXzEuZGVmYXVsdCkodmFsdWVzLCBfdGhpcy5jYWNoZS5kaWZmcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNhY2hlLmFwcGx5RGlmZnModmFsdWVzLCB2YXJpYW50cywgYWN0aW9uRGVmaW5pdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAnZ2V0VmFyaWFibGVzJykge1xuICAgICAgICAgICAgdGhpcy5jYWNoZS5zZW5kVmFyaWFibGVzKCk7XG4gICAgICAgICAgICB0aGlzLnNvY2tldENsaWVudC5zZW5kKCdnZXRDb250ZW50UmVzcG9uc2UnLCB7XG4gICAgICAgICAgICAgICAgJ3VwZGF0ZWQnOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnQgPT09ICdnZXRBY3Rpb25zJykge1xuICAgICAgICAgICAgdmFyIHVwZGF0ZWQgPSB0aGlzLmNhY2hlLnNlbmRBY3Rpb25zKCk7XG4gICAgICAgICAgICB0aGlzLnNvY2tldENsaWVudC5zZW5kKCdnZXRDb250ZW50UmVzcG9uc2UnLCB7XG4gICAgICAgICAgICAgICAgdXBkYXRlZDogdXBkYXRlZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAncmVnaXN0ZXJEZXZpY2UnKSB7XG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYWxlcnRcbiAgICAgICAgICAgIGFsZXJ0KFwiWW91ciBkZXZpY2UgaGFzIGJlZW4gcmVnaXN0ZXJlZCB0byBcIi5jb25jYXQobWVzc2FnZS5lbWFpbCwgXCIuXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudCA9PT0gJ3RyaWdnZXInKSB7XG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdwcmV2aWV3UmVxdWVzdCcsIG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTGVhbnBsdW1Tb2NrZXQ7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTGVhbnBsdW1Tb2NrZXQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBOZXR3b3JrXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTmV0d29ya1wiKSk7XG52YXIgbG9kYXNoX2lzZXF1YWxfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwibG9kYXNoLmlzZXF1YWxcIikpO1xudmFyIFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vU3RvcmFnZU1hbmFnZXJcIikpO1xudmFyIFZhbHVlVHJhbnNmb3Jtc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1ZhbHVlVHJhbnNmb3Jtc1wiKSk7XG52YXIgT2NjdXJyZW5jZVRyYWNrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2NjdXJyZW5jZVRyYWNrZXIoKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgICAgICB0aGlzLnRyaWdnZXJzID0ge307XG4gICAgICAgIHRoaXMub2NjdXJyZW5jZXMgPSB7fTtcbiAgICB9XG4gICAgT2NjdXJyZW5jZVRyYWNrZXIucHJvdG90eXBlLnJlY29yZE9jY3VycmVuY2UgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIHNlc3Npb25PY2N1cnJlbmNlcyA9ICh0aGlzLnNlc3Npb25baWRdIHx8IDApICsgMTtcbiAgICAgICAgdGhpcy5zZXNzaW9uW2lkXSA9IHNlc3Npb25PY2N1cnJlbmNlcztcbiAgICAgICAgdmFyIG9jY3VycmVuY2VzID0gKHRoaXMub2NjdXJyZW5jZXNbaWRdIHx8IFtdKTtcbiAgICAgICAgb2NjdXJyZW5jZXMucHVzaChEYXRlLm5vdygpKTtcbiAgICAgICAgdGhpcy5vY2N1cnJlbmNlc1tpZF0gPSBvY2N1cnJlbmNlcztcbiAgICAgICAgdGhpcy5zYXZlKCk7XG4gICAgfTtcbiAgICBPY2N1cnJlbmNlVHJhY2tlci5wcm90b3R5cGUucmVjb3JkVHJpZ2dlck9jY3VycmVuY2UgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIHRyaWdnZXJPY2N1cnJlbmNlcyA9IHRoaXMudHJpZ2dlcnNbaWRdIHx8IFtdO1xuICAgICAgICB0cmlnZ2VyT2NjdXJyZW5jZXMucHVzaChEYXRlLm5vdygpKTtcbiAgICAgICAgdGhpcy50cmlnZ2Vyc1tpZF0gPSB0cmlnZ2VyT2NjdXJyZW5jZXM7XG4gICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgICAgICByZXR1cm4gdHJpZ2dlck9jY3VycmVuY2VzLmxlbmd0aDtcbiAgICB9O1xuICAgIE9jY3VycmVuY2VUcmFja2VyLnByb3RvdHlwZS5nZXRTZXNzaW9uT2NjdXJyYW5jZUNvdW50ID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb25baWRdIHx8IDA7XG4gICAgfTtcbiAgICBPY2N1cnJlbmNlVHJhY2tlci5wcm90b3R5cGUuZ2V0T2NjdXJyZW5jZXMgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2NjdXJyZW5jZXNbaWRdIHx8IFtdO1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVRyYWNrZXIucHJvdG90eXBlLmNsZWFyU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0ge307XG4gICAgfTtcbiAgICBPY2N1cnJlbmNlVHJhY2tlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNhY2hlID0gU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5NRVNTQUdFX09DQ1VSUkVOQ0VTKTtcbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgICB2YXIganNvbiA9IG1heWJlSlNPTihjYWNoZSk7XG4gICAgICAgICAgICBpZiAoanNvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbiA9IGpzb24uc2Vzc2lvbjtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJzID0ganNvbi50cmlnZ2VycztcbiAgICAgICAgICAgICAgICB0aGlzLm9jY3VycmVuY2VzID0ganNvbi5vY2N1cnJlbmNlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgT2NjdXJyZW5jZVRyYWNrZXIucHJvdG90eXBlLnNhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBrZXkgPSBDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5NRVNTQUdFX09DQ1VSUkVOQ0VTO1xuICAgICAgICBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZShrZXksIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHNlc3Npb246IHRoaXMuc2Vzc2lvbixcbiAgICAgICAgICAgIHRyaWdnZXJzOiB0aGlzLnRyaWdnZXJzLFxuICAgICAgICAgICAgb2NjdXJyZW5jZXM6IHRoaXMub2NjdXJyZW5jZXMsXG4gICAgICAgIH0pKTtcbiAgICB9O1xuICAgIHJldHVybiBPY2N1cnJlbmNlVHJhY2tlcjtcbn0oKSk7XG52YXIgdmVyYlRvSW50ZXJ2YWwgPSBmdW5jdGlvbiAodmVyYikge1xuICAgIHZhciBTRUNPTkQgPSAxMDAwO1xuICAgIHZhciBNSU5VVEUgPSA2MCAqIFNFQ09ORDtcbiAgICB2YXIgSE9VUiA9IDYwICogTUlOVVRFO1xuICAgIHZhciBEQVkgPSAyNCAqIEhPVVI7XG4gICAgc3dpdGNoICh2ZXJiKSB7XG4gICAgICAgIGNhc2UgJ2xpbWl0U2Vjb25kJzogcmV0dXJuIFNFQ09ORDtcbiAgICAgICAgY2FzZSAnbGltaXRNaW51dGUnOiByZXR1cm4gTUlOVVRFO1xuICAgICAgICBjYXNlICdsaW1pdEhvdXInOiByZXR1cm4gSE9VUjtcbiAgICAgICAgY2FzZSAnbGltaXREYXknOiByZXR1cm4gREFZO1xuICAgIH1cbn07XG52YXIgbWF5YmVKU09OID0gZnVuY3Rpb24gKHN0cikge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0cik7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufTtcbnZhciBNZXNzYWdlcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNZXNzYWdlcyhldmVudHMsIGNyZWF0ZVJlcXVlc3QsIGdldEZpbGVVcmwpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5ldmVudHMgPSBldmVudHM7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4gICAgICAgIHRoaXMuZ2V0RmlsZVVybCA9IGdldEZpbGVVcmw7XG4gICAgICAgIHRoaXMuX21lc3NhZ2VDYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLm9jY3VycmVuY2VUcmFja2VyID0gbmV3IE9jY3VycmVuY2VUcmFja2VyKCk7XG4gICAgICAgIHRoaXMuX3Nob3dSaWNoSUFNID0gZmFsc2U7XG4gICAgICAgIGV2ZW50cy5vbigncHJldmlld1JlcXVlc3QnLCB0aGlzLm9uTWVzc2FnZVByZXZpZXcuYmluZCh0aGlzKSk7XG4gICAgICAgIGV2ZW50cy5vbignbWVzc2FnZXNSZWNlaXZlZCcsIHRoaXMub25NZXNzYWdlc1JlY2VpdmVkLmJpbmQodGhpcykpO1xuICAgICAgICBldmVudHMub24oJ3N0YXJ0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMub2NjdXJyZW5jZVRyYWNrZXIubG9hZCgpO1xuICAgICAgICAgICAgX3RoaXMub2NjdXJyZW5jZVRyYWNrZXIuY2xlYXJTZXNzaW9uKCk7XG4gICAgICAgICAgICBfdGhpcy5vblRyaWdnZXIoeyB0cmlnZ2VyOiAnc3RhcnQnIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgZXZlbnRzLm9uKCdyZXN1bWUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuTUVTU0FHRV9DQUNIRTtcbiAgICAgICAgICAgIHZhciBjYWNoZSA9IG1heWJlSlNPTihTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0KGtleSkpO1xuICAgICAgICAgICAgX3RoaXMuX21lc3NhZ2VDYWNoZSA9IGNhY2hlIHx8IF90aGlzLl9tZXNzYWdlQ2FjaGU7XG4gICAgICAgICAgICBfdGhpcy5vY2N1cnJlbmNlVHJhY2tlci5sb2FkKCk7XG4gICAgICAgICAgICBfdGhpcy5vblRyaWdnZXIoeyB0cmlnZ2VyOiAncmVzdW1lJyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGV2ZW50cy5vbigndHJhY2snLCBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgX3RoaXMub25UcmlnZ2VyKHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyOiAnZXZlbnQnLFxuICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogYXJncy5ldmVudE5hbWUsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBhcmdzLnBhcmFtcyB8fCB7fSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgZXZlbnRzLm9uKCdhZHZhbmNlU3RhdGUnLCBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLm9uVHJpZ2dlcih7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcjogJ3N0YXRlJyxcbiAgICAgICAgICAgICAgICBzdGF0ZTogYXJncy5zdGF0ZSxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IGFyZ3MucGFyYW1zIHx8IHt9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBldmVudHMub24oJ3NldFVzZXJBdHRyaWJ1dGUnLCBmdW5jdGlvbiAoYXR0cmlidXRlcykge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLm9uVHJpZ2dlcih7IHRyaWdnZXI6ICd1c2VyQXR0cmlidXRlJywgYXR0cmlidXRlczogYXR0cmlidXRlcyB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5jbGVhbnVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQucmVtb3ZlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLk1FU1NBR0VfQ0FDSEUpO1xuICAgICAgICB0aGlzLl9tZXNzYWdlQ2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5vblRyaWdnZXIgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUuZW5hYmxlUmljaEluQXBwTWVzc2FnZXMgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICAgICAgICB0aGlzLl9zaG93UmljaElBTSA9IGVuYWJsZWQ7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUub25UcmlnZ2VyID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gdGhpcy5nZXRNZXNzYWdlcygpO1xuICAgICAgICB2YXIgbWVzc2FnZUlkcyA9IE9iamVjdC5rZXlzKG1lc3NhZ2VzKTtcbiAgICAgICAgbWVzc2FnZUlkc1xuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIF90aGlzLnNob3VsZFNob3dNZXNzYWdlKGlkLCBtZXNzYWdlc1tpZF0sIGNvbnRleHQpOyB9KVxuICAgICAgICAgICAgLnNsaWNlKDAsIDEpIC8vIFRPRE86IGNob29zZSByYW5kb21seVxuICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7IHJldHVybiBfdGhpcy5zaG93TWVzc2FnZShpZCwgbWVzc2FnZXNbaWRdKTsgfSk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUub25NZXNzYWdlUHJldmlldyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHZhciB2YXJzID0gbWVzc2FnZS5hY3Rpb247XG4gICAgICAgIHZhciBjb250ZXh0ID0ge1xuICAgICAgICAgICAgdHJhY2s6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudEluZm8gPSBldmVudCA/IFwiZXZlbnQgJ1wiLmNvbmNhdChldmVudCwgXCInXCIpIDogJ2ltcHJlc3Npb24nO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJhY2tpbmcgXCIuY29uY2F0KGV2ZW50SW5mbywgXCIgZm9yIFwiKS5jb25jYXQobWVzc2FnZS5tZXNzYWdlSWQpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBydW5BY3Rpb25OYW1lZDogZnVuY3Rpb24gKGFjdGlvbk5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coXCJSdW5uaW5nIHVudHJhY2tlZCBhY3Rpb24gJ1wiLmNvbmNhdChhY3Rpb25OYW1lLCBcIidcIikpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJ1blRyYWNrZWRBY3Rpb25OYW1lZDogZnVuY3Rpb24gKGFjdGlvbk5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coXCJSdW5uaW5nIHRyYWNrZWQgYWN0aW9uICdcIi5jb25jYXQoYWN0aW9uTmFtZSwgXCInXCIpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlTWVzc2FnZSh7XG4gICAgICAgICAgICBpc1ByZXZpZXc6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiB0aGlzLmFkZERlZmF1bHRzKF9fYXNzaWduKHsgbWVzc2FnZUlkOiBtZXNzYWdlLm1lc3NhZ2VJZCB9LCB2YXJzKSksXG4gICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5vbk1lc3NhZ2VzUmVjZWl2ZWQgPSBmdW5jdGlvbiAocmVjZWl2ZWRNZXNzYWdlcykge1xuICAgICAgICB2YXIgbWVzc2FnZXMgPSByZWNlaXZlZE1lc3NhZ2VzIHx8IHt9O1xuICAgICAgICB0aGlzLl9tZXNzYWdlQ2FjaGUgPSBtZXNzYWdlcztcbiAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmUoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuTUVTU0FHRV9DQUNIRSwgSlNPTi5zdHJpbmdpZnkobWVzc2FnZXMpKTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5zaG91bGRTaG93TWVzc2FnZSA9IGZ1bmN0aW9uIChpZCwgbWVzc2FnZSwgY29udGV4dCkge1xuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIG1hdGNoZXNUcmlnZ2VyID0gdGhpcy5tYXRjaGVzVHJpZ2dlcihtZXNzYWdlLndoZW5UcmlnZ2VycywgY29udGV4dCk7XG4gICAgICAgIHZhciBtYXRjaGVzVW5sZXNzID0gdGhpcy5tYXRjaGVzVHJpZ2dlcihtZXNzYWdlLnVubGVzc1RyaWdnZXJzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKCFtYXRjaGVzVHJpZ2dlciB8fCBtYXRjaGVzVW5sZXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRyaWdnZXJzQ291bnQgPSB0aGlzLm9jY3VycmVuY2VUcmFja2VyLnJlY29yZFRyaWdnZXJPY2N1cnJlbmNlKGlkKTtcbiAgICAgICAgaWYgKCF0aGlzLm1hdGNoZXNMaW1pdHMoaWQsIG1lc3NhZ2Uud2hlbkxpbWl0cywgdHJpZ2dlcnNDb3VudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zdGFydFRpbWUgJiYgbWVzc2FnZS5lbmRUaW1lKSB7XG4gICAgICAgICAgICB2YXIgb3V0c2lkZUFjdGl2ZVBlcmlvZCA9IG5vdyA8IG1lc3NhZ2Uuc3RhcnRUaW1lIHx8IG1lc3NhZ2UuZW5kVGltZSA8IG5vdztcbiAgICAgICAgICAgIGlmIChvdXRzaWRlQWN0aXZlUGVyaW9kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLnNob3dNZXNzYWdlID0gZnVuY3Rpb24gKGlkLCBtZXNzYWdlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB2YXJzID0gdGhpcy5hZGREZWZhdWx0cyhfX2Fzc2lnbih7fSwgbWVzc2FnZS52YXJzKSk7XG4gICAgICAgIHZhciBjb250ZXh0ID0ge1xuICAgICAgICAgICAgdHJhY2s6IGZ1bmN0aW9uIChldmVudCwgdmFsdWUsIGluZm8sIHBhcmFtcykge1xuICAgICAgICAgICAgICAgIF90aGlzLm9jY3VycmVuY2VUcmFja2VyLnJlY29yZE9jY3VycmVuY2UoaWQpO1xuICAgICAgICAgICAgICAgIF90aGlzLnRyYWNrTWVzc2FnZShpZCwgeyBldmVudDogZXZlbnQsIHZhbHVlOiB2YWx1ZSwgaW5mbzogaW5mbywgcGFyYW1zOiBwYXJhbXMgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcnVuQWN0aW9uTmFtZWQ6IGZ1bmN0aW9uIChhY3Rpb25OYW1lKSB7IHJldHVybiBfdGhpcy5vbkFjdGlvbih2YXJzW2FjdGlvbk5hbWVdLCBpZCk7IH0sXG4gICAgICAgICAgICBydW5UcmFja2VkQWN0aW9uTmFtZWQ6IGZ1bmN0aW9uIChhY3Rpb25OYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gYWN0aW9uTmFtZS5yZXBsYWNlKC8gYWN0aW9uJC8sICcnKTtcbiAgICAgICAgICAgICAgICBfdGhpcy50cmFja01lc3NhZ2UoaWQsIHsgZXZlbnQ6IGV2ZW50IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uQWN0aW9uKHZhcnNbYWN0aW9uTmFtZV0sIGlkKTsgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZU1lc3NhZ2Uoe1xuICAgICAgICAgICAgY29udGV4dDogY29udGV4dCxcbiAgICAgICAgICAgIG1lc3NhZ2U6IF9fYXNzaWduKHsgbWVzc2FnZUlkOiBpZCB9LCB2YXJzKSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUucHJvY2Vzc01lc3NhZ2VFdmVudCA9IGZ1bmN0aW9uIChtZXNzYWdlSWQsIGV2ZW50VXJsKSB7XG4gICAgICAgIHZhciBpZnJhbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxwLW1lc3NhZ2UtXCIuY29uY2F0KG1lc3NhZ2VJZCkpO1xuICAgICAgICBpZiAoIWlmcmFtZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ21lc3NhZ2UgY2xvc2VkLCBza2lwcGluZyBldmVudCBwcm9jZXNzaW5nJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gZXZlbnRVcmwucmVwbGFjZSgvXmh0dHA6XFwvXFwvbGVhbnBsdW1cXC8vLCAnJykuc3BsaXQoJz8nKSwgZXZlbnQgPSBfYVswXSwgX2IgPSBfYVsxXSwgcXVlcnkgPSBfYiA9PT0gdm9pZCAwID8gJycgOiBfYjtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgdmFyIHBhcmFtcyA9IHF1ZXJ5LnNwbGl0KCcmJykucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHBhcmFtKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBwYXJhbS5zcGxpdCgnPScpLCBrZXkgPSBfYVswXSwgdmFsdWUgPSBfYVsxXTtcbiAgICAgICAgICAgIGFjY1trZXldID0gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgdmFyIF9jID0gaWZyYW1lLm1ldGFkYXRhLCBtZXNzYWdlID0gX2MubWVzc2FnZSwgY29udGV4dCA9IF9jLmNvbnRleHQ7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQpIHtcbiAgICAgICAgICAgIGNhc2UgJ2xvYWRGaW5pc2hlZCc6XG4gICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VbJ0hUTUwgSGVpZ2h0J10gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IG1lc3NhZ2VbJ0hUTUwgV2lkdGgnXTtcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLmhlaWdodCA9IFwiXCIuY29uY2F0KG1lc3NhZ2VbJ0hUTUwgSGVpZ2h0J10sIFwicHhcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUubGVmdCA9IFwiY2FsYygoMTAwJSAtIFwiLmNvbmNhdCh3aWR0aCwgXCIpIC8gMilcIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbmNob3JQcm9wID0gbWVzc2FnZVsnSFRNTCBBbGlnbiddLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbHRQcm9wID0gYW5jaG9yUHJvcCA9PT0gJ3RvcCcgPyAnYm90dG9tJyA6ICd0b3AnO1xuICAgICAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGVbYW5jaG9yUHJvcF0gPSAnMCc7XG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZVthbHRQcm9wXSA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLnRvcCA9ICcwJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWZyYW1lLmNvbnRlbnRXaW5kb3cuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYWNrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd0cmFjayc6XG4gICAgICAgICAgICAgICAgY29udGV4dC50cmFjayhwYXJhbXMuZXZlbnQsIHBhcnNlRmxvYXQocGFyYW1zLnZhbHVlKSwgcGFyYW1zLmluZm8sIG1heWJlSlNPTihwYXJhbXMucGFyYW1ldGVycykpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncnVuQWN0aW9uJzpcbiAgICAgICAgICAgIGNhc2UgJ3J1blRyYWNrZWRBY3Rpb24nOlxuICAgICAgICAgICAgICAgIGNvbnRleHRbXCJcIi5jb25jYXQoZXZlbnQsIFwiTmFtZWRcIildKHBhcmFtcy5hY3Rpb24pO1xuICAgICAgICAgICAgLy8gZmFsbCB0aHJvdWdoIGFuZCBjbG9zZVxuICAgICAgICAgICAgY2FzZSAnY2xvc2UnOlxuICAgICAgICAgICAgICAgIGlmcmFtZS5tZXRhZGF0YSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLmhhbmRsZU1lc3NhZ2UgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fc2hvd1JpY2hJQU0gJiYgb3B0aW9ucy5tZXNzYWdlLl9fbmFtZV9fID09PSAnSFRNTCcpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZUZpbGVzKG9wdGlvbnMubWVzc2FnZSk7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVOYW1lID0gb3B0aW9ucy5tZXNzYWdlWydUZW1wbGF0ZSddIHx8ICcnO1xuICAgICAgICAgICAgbmV3IE5ldHdvcmtfMS5kZWZhdWx0KCkuYWpheCgnZ2V0JywgdGVtcGxhdGVOYW1lLnJlcGxhY2UoJy0xMC5odG1sJywgJy0xMS5odG1sJyksICcnLCBmdW5jdGlvbiAodGVtcGxhdGUpIHsgcmV0dXJuIF90aGlzLnJlbmRlclJpY2hJbkFwcE1lc3NhZ2UodGVtcGxhdGUsIG9wdGlvbnMpOyB9LCBmdW5jdGlvbiAoKSB7IH0sIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3Nob3dNZXNzYWdlJywgdGhpcy5yZXNvbHZlRmllbGRzKG9wdGlvbnMpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLnJlbmRlclJpY2hJbkFwcE1lc3NhZ2UgPSBmdW5jdGlvbiAodGVtcGxhdGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VJZCA9IG9wdGlvbnMubWVzc2FnZS5tZXNzYWdlSWQ7XG4gICAgICAgIHZhciB2YXJzID0gSlNPTi5zdHJpbmdpZnkob3B0aW9ucy5tZXNzYWdlKTtcbiAgICAgICAgdmFyIGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdpZCcsIFwibHAtbWVzc2FnZS1cIi5jb25jYXQobWVzc2FnZUlkKSk7XG4gICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ1BvcHVwJyk7XG4gICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbW9kYWwnLCAndHJ1ZScpO1xuICAgICAgICBpZnJhbWUuc3R5bGUuY3NzVGV4dCA9IFtcbiAgICAgICAgICAgICdib3JkZXItd2lkdGg6IDAnLFxuICAgICAgICAgICAgJ3Bvc2l0aW9uOiBmaXhlZCcsXG4gICAgICAgICAgICAndG9wOiAtMTAwJScsXG4gICAgICAgICAgICAnbGVmdDogLTEwMCUnLFxuICAgICAgICAgICAgJ3dpZHRoOiAxMDAlJyxcbiAgICAgICAgICAgICdoZWlnaHQ6IDEwMCUnLFxuICAgICAgICAgICAgJ3Zpc2liaWxpdHk6IGhpZGRlbicsXG4gICAgICAgICAgICAnei1pbmRleDogMTAwMDAwJyxcbiAgICAgICAgXS5qb2luKCc7Jyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKGlmcmFtZSwgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTtcbiAgICAgICAgLy8gcGFzcyBtZXNzYWdlIGluZm9cbiAgICAgICAgaWZyYW1lLm1ldGFkYXRhID0gb3B0aW9ucztcbiAgICAgICAgaWZyYW1lLmNvbnRlbnRXaW5kb3cubWVzc2FnZUlkID0gbWVzc2FnZUlkO1xuICAgICAgICB2YXIgY29udGVudCA9IHRlbXBsYXRlXG4gICAgICAgICAgICAucmVwbGFjZSgnIyNWYXJzIyMnLCB2YXJzKVxuICAgICAgICAgICAgLnJlcGxhY2UoJzxib2R5PicsIFwiPGJvZHk+PHNjcmlwdD53aW5kb3cubWVzc2FnZUlkPSdcIi5jb25jYXQobWVzc2FnZUlkLCBcIic8L3NjcmlwdD5cIikpO1xuICAgICAgICBpZiAoJ3NyY2RvYycgaW4gaWZyYW1lKSB7XG4gICAgICAgICAgICBpZnJhbWUuc3JjZG9jID0gY29udGVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBkb2MgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgICAgICAgICAgIGRvYy5vcGVuKCk7XG4gICAgICAgICAgICBkb2Mud3JpdGUoY29udGVudCk7XG4gICAgICAgICAgICBkb2MuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLnRyYWNrTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlSWQsIHRyYWNrT3B0aW9ucywgcmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHRyYWNrT3B0aW9ucyA9PT0gdm9pZCAwKSB7IHRyYWNrT3B0aW9ucyA9IHsgZXZlbnQ6IG51bGwgfTsgfVxuICAgICAgICBpZiAocmVzcG9uc2UgPT09IHZvaWQgMCkgeyByZXNwb25zZSA9IGZ1bmN0aW9uICgpIHsgfTsgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5NRVNTQUdFX0lELCBtZXNzYWdlSWQpO1xuICAgICAgICB2YXIgZGVmaW5lZCA9IGZ1bmN0aW9uICh4KSB7IHJldHVybiB0eXBlb2YgeCAhPT0gJ3VuZGVmaW5lZCc7IH07XG4gICAgICAgIGlmICh0cmFja09wdGlvbnMuZXZlbnQpIHtcbiAgICAgICAgICAgIGFyZ3MuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkVWRU5ULCB0cmFja09wdGlvbnMuZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWZpbmVkKHRyYWNrT3B0aW9ucy52YWx1ZSkpIHtcbiAgICAgICAgICAgIGFyZ3MuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlZBTFVFLCB0cmFja09wdGlvbnMudmFsdWUgfHwgMC4wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmaW5lZCh0cmFja09wdGlvbnMuaW5mbykpIHtcbiAgICAgICAgICAgIGFyZ3MuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklORk8sIHRyYWNrT3B0aW9ucy5pbmZvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmaW5lZCh0cmFja09wdGlvbnMucGFyYW1zKSkge1xuICAgICAgICAgICAgYXJncy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuUEFSQU1TLCBKU09OLnN0cmluZ2lmeSh0cmFja09wdGlvbnMucGFyYW1zKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5UUkFDSywgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiByZXNwb25zZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUub25BY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uLCBwYXJlbnRNZXNzYWdlSWQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHBhcmVudE1lc3NhZ2VJZCA9PT0gdm9pZCAwKSB7IHBhcmVudE1lc3NhZ2VJZCA9ICcnOyB9XG4gICAgICAgIGlmICghYWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gdGhpcy5fbWVzc2FnZUNhY2hlO1xuICAgICAgICBpZiAoYWN0aW9uLl9fbmFtZV9fID09PSAnQ2hhaW4gdG8gRXhpc3RpbmcgTWVzc2FnZScpIHtcbiAgICAgICAgICAgIHZhciBjaGFpbmVkTWVzc2FnZUlkXzEgPSBhY3Rpb25bJ0NoYWluZWQgbWVzc2FnZSddO1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2VfMSA9IG1lc3NhZ2VzW2NoYWluZWRNZXNzYWdlSWRfMV07XG4gICAgICAgICAgICBpZiAobWVzc2FnZV8xLmFjdGlvbiA9PT0gJ09wZW4gVVJMJykge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2tNZXNzYWdlKGNoYWluZWRNZXNzYWdlSWRfMSwgeyBldmVudDogJ1ZpZXcnIH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uQWN0aW9uKG1lc3NhZ2VfMS52YXJzLCBjaGFpbmVkTWVzc2FnZUlkXzEpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1lc3NhZ2VfMS5hY3Rpb24gPT09ICdSZWdpc3RlciBGb3IgUHVzaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdyZWdpc3RlckZvclB1c2gnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoY2hhaW5lZE1lc3NhZ2VJZF8xLCBtZXNzYWdlXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGhhbmRsZSBhcHAgZnVuY3Rpb25cbiAgICAgICAgdmFyIHByb2Nlc3NBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IGFjdGlvbi5fX25hbWVfXztcbiAgICAgICAgICAgIGlmIChhY3Rpb24uX19uYW1lX18gPT09ICdPcGVuIFVSTCcpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5ldmVudHMuZW1pdCgnbmF2aWdhdGlvbkNoYW5nZScsIGFjdGlvbi5VUkwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYWN0aW9uLl9fbmFtZV9fID09PSAnUmVnaXN0ZXIgRm9yIFB1c2gnKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRzLmVtaXQoJ3JlZ2lzdGVyRm9yUHVzaCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgIC8vIGVtYmVkZGVkIGNoYWluZWQgbWVzc2FnZVxuICAgICAgICAgICAgICAgIF90aGlzLnNob3dNZXNzYWdlKHBhcmVudE1lc3NhZ2VJZCwge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IHBhcmVudE1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YXJzOiBhY3Rpb24sIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG1lc3NhZ2VJZCA9IHRoaXMubWVzc2FnZUlkRnJvbUFjdGlvbihhY3Rpb24pO1xuICAgICAgICBpZiAobWVzc2FnZUlkKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNrTWVzc2FnZShtZXNzYWdlSWQsIHsgZXZlbnQ6IG51bGwgfSwgcHJvY2Vzc0FjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcm9jZXNzQWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5nZXRNZXNzYWdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lc3NhZ2VDYWNoZSB8fCB7fTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5hZGREZWZhdWx0cyA9IGZ1bmN0aW9uICh2YXJzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBkZWZpbml0aW9ucyA9IHRoaXMuZ2V0TWVzc2FnZXMoKS5hY3Rpb25EZWZpbml0aW9ucyB8fCB7fTtcbiAgICAgICAgdmFyIGRlZmluaXRpb24gPSBkZWZpbml0aW9uc1t2YXJzLl9fbmFtZV9fXTtcbiAgICAgICAgdmFyIGtpbmRzID0gZGVmaW5pdGlvbiA9PT0gbnVsbCB8fCBkZWZpbml0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWZpbml0aW9uLmtpbmRzO1xuICAgICAgICBpZiAoIWRlZmluaXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB2YXJzO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1c2VEZWZhdWx0cyA9IGZ1bmN0aW9uIChvYmosIGRlZmF1bHRWYWx1ZXMsIHBhdGgpIHtcbiAgICAgICAgICAgIGlmIChwYXRoID09PSB2b2lkIDApIHsgcGF0aCA9ICcnOyB9XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXMoZGVmYXVsdFZhbHVlcyk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBkZWZhdWx0VmFsdWVzW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSB1c2VEZWZhdWx0cyhvYmpba2V5XSB8fCB7fSwgdmFsdWUsIFwiXCIuY29uY2F0KHBhdGgpLmNvbmNhdChrZXksIFwiLlwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmpba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGtpbmRzW1wiXCIuY29uY2F0KHBhdGgpLmNvbmNhdChrZXkpXSA9PT0gJ0ZJTEUnKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gX3RoaXMuZ2V0RmlsZVVybChvYmpba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHVzZURlZmF1bHRzKF9fYXNzaWduKHt9LCB2YXJzKSwgZGVmaW5pdGlvbi52YWx1ZXMpO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLnJlc29sdmVGaWxlcyA9IGZ1bmN0aW9uICh2YXJzKSB7XG4gICAgICAgIHZhciBmaWxlUHJlZml4ID0gL15fX2ZpbGVfXy87XG4gICAgICAgIGZvciAodmFyIGtleSBpbiB2YXJzKSB7XG4gICAgICAgICAgICBpZiAoZmlsZVByZWZpeC50ZXN0KGtleSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGtleS5yZXBsYWNlKGZpbGVQcmVmaXgsICcnKTtcbiAgICAgICAgICAgICAgICB2YXJzW25hbWVdID0gdGhpcy5nZXRGaWxlVXJsKHZhcnNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFyc1trZXldID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHZhcnNba2V5XSA9IHRoaXMucmVzb2x2ZUZpbGVzKHZhcnNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhcnM7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUucmVzb2x2ZUZpZWxkcyA9IGZ1bmN0aW9uICh2YXJzKSB7XG4gICAgICAgIHZhciBjb2xvclN1ZmZpeCA9IC9cXGJjb2xvci9pO1xuICAgICAgICB2YXIgZmlsZVByZWZpeCA9IC9eX19maWxlX18vO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdmFycykge1xuICAgICAgICAgICAgaWYgKGZpbGVQcmVmaXgudGVzdChrZXkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBrZXkucmVwbGFjZShmaWxlUHJlZml4LCAnJyk7XG4gICAgICAgICAgICAgICAgdmFyc1tuYW1lICsgJyBVUkwnXSA9IHRoaXMuZ2V0RmlsZVVybCh2YXJzW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29sb3JTdWZmaXgudGVzdChrZXkpKSB7XG4gICAgICAgICAgICAgICAgdmFyc1trZXldID0gVmFsdWVUcmFuc2Zvcm1zXzEuZGVmYXVsdC5kZWNvZGVDb2xvcih2YXJzW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhcnNba2V5XSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB2YXJzW2tleV0gPSB0aGlzLnJlc29sdmVGaWVsZHModmFyc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFycztcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5tZXNzYWdlSWRGcm9tQWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB2YXIgbWVzc2FnZXMgPSB0aGlzLl9tZXNzYWdlQ2FjaGU7XG4gICAgICAgIHZhciB2YXJzID0gX19hc3NpZ24oe30sIGFjdGlvbik7XG4gICAgICAgIGRlbGV0ZSB2YXJzWydwYXJlbnRDYW1wYWlnbklkJ107XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyhtZXNzYWdlcyk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSBfYVtfaV07XG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG1lc3NhZ2VzW2lkXTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnBhcmVudENhbXBhaWduSWQgIT09IGFjdGlvbi5wYXJlbnRDYW1wYWlnbklkKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKDAsIGxvZGFzaF9pc2VxdWFsXzEuZGVmYXVsdCkobWVzc2FnZS52YXJzLCB2YXJzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLm1hdGNoZXNUcmlnZ2VyID0gZnVuY3Rpb24gKHdoZW5UcmlnZ2VycywgY29udGV4dCkge1xuICAgICAgICBpZiAoIXdoZW5UcmlnZ2Vycykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpZ25vcmVDYXNlRXF1YWxzID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIGlmIChiID09PSB2b2lkIDApIHsgYiA9ICcnOyB9XG4gICAgICAgICAgICByZXR1cm4gYS50b1N0cmluZygpLmxvY2FsZUNvbXBhcmUoYi50b1N0cmluZygpLCB1bmRlZmluZWQsIHsgc2Vuc2l0aXZpdHk6ICdhY2NlbnQnIH0pID09PSAwO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgbWF0Y2hlc1RyaWdnZXJzID0gZnVuY3Rpb24gKGNvbnRleHROb3VuLCBwYXJhbXMsIHRyaWdnZXIpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGVzTm91biA9IGNvbnRleHROb3VuID09PSB0cmlnZ2VyLm5vdW47XG4gICAgICAgICAgICBpZiAodHJpZ2dlci52ZXJiID09PSAndHJpZ2dlcnMnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNOb3VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHJpZ2dlci52ZXJiID09PSAndHJpZ2dlcnNXaXRoUGFyYW1ldGVyJykge1xuICAgICAgICAgICAgICAgIHZhciBfYSA9IHRyaWdnZXIub2JqZWN0cywgcGFyYW1ldGVyID0gX2FbMF0sIHZhbHVlID0gX2FbMV07XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5zUGFyYW0gPSBwYXJhbWV0ZXIgaW4gcGFyYW1zO1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzUGFyYW0gPSBjb250YWluc1BhcmFtICYmIGlnbm9yZUNhc2VFcXVhbHModmFsdWUsIHBhcmFtc1twYXJhbWV0ZXJdKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlc05vdW4gJiYgbWF0Y2hlc1BhcmFtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gd2hlblRyaWdnZXJzLmNoaWxkcmVuLnNvbWUoZnVuY3Rpb24gKHRyaWdnZXIpIHtcbiAgICAgICAgICAgIHZhciBzdWJqZWN0ID0gdHJpZ2dlci5zdWJqZWN0O1xuICAgICAgICAgICAgc3dpdGNoIChjb250ZXh0LnRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzdGFydCc6IHJldHVybiBzdWJqZWN0ID09PSAnc3RhcnQnIHx8IHN1YmplY3QgPT09ICdyZXN1bWUnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3Jlc3VtZSc6IHJldHVybiBzdWJqZWN0ID09PSAncmVzdW1lJztcbiAgICAgICAgICAgICAgICBjYXNlICdldmVudCc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJqZWN0ICE9PSAnZXZlbnQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNUcmlnZ2Vycyhjb250ZXh0LmV2ZW50TmFtZSwgY29udGV4dC5wYXJhbXMsIHRyaWdnZXIpO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VzZXJBdHRyaWJ1dGUnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoc3ViamVjdCAhPT0gJ3VzZXJBdHRyaWJ1dGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5zQXR0cmlidXRlID0gdHJpZ2dlci5ub3VuIGluIGNvbnRleHQuYXR0cmlidXRlcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIudmVyYiA9PT0gJ2NoYW5nZXMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGFpbnNBdHRyaWJ1dGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHJpZ2dlci52ZXJiID09PSAnY2hhbmdlc1RvJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250YWluc0F0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb250ZXh0VmFsdWVfMSA9IGNvbnRleHQuYXR0cmlidXRlc1t0cmlnZ2VyLm5vdW5dO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyaWdnZXIub2JqZWN0cy5zb21lKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCAmJiBjb250ZXh0VmFsdWVfMSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICYmIGNvbnRleHRWYWx1ZV8xICYmIGlnbm9yZUNhc2VFcXVhbHModmFsdWUsIGNvbnRleHRWYWx1ZV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0YXRlJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YmplY3QgIT09ICdzdGF0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlc1RyaWdnZXJzKGNvbnRleHQuc3RhdGUsIGNvbnRleHQucGFyYW1zLCB0cmlnZ2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUubWF0Y2hlc0xpbWl0cyA9IGZ1bmN0aW9uIChpZCwgd2hlbkxpbWl0cywgdHJpZ2dlck9jY3VycmVuY2VzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghd2hlbkxpbWl0cykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdoZW5MaW1pdHMuY2hpbGRyZW4uZXZlcnkoZnVuY3Rpb24gKGxpbWl0KSB7XG4gICAgICAgICAgICB2YXIgc3ViamVjdCA9IGxpbWl0LnN1YmplY3QsIHZlcmIgPSBsaW1pdC52ZXJiO1xuICAgICAgICAgICAgdmFyIG5vdW4gPSBwYXJzZUludChsaW1pdC5ub3VuLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgaWYgKHN1YmplY3QgPT09ICd0aW1lcycpIHtcbiAgICAgICAgICAgICAgICBpZiAodmVyYiA9PT0gJ2xpbWl0U2Vzc2lvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlc3Npb25PY2N1cnJlbmNlcyA9IF90aGlzLm9jY3VycmVuY2VUcmFja2VyLmdldFNlc3Npb25PY2N1cnJhbmNlQ291bnQoaWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2Vzc2lvbk9jY3VycmVuY2VzICsgMSA9PT0gbm91bjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmVyYiA9PT0gJ2xpbWl0VXNlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9jY3VycmVuY2VzID0gX3RoaXMub2NjdXJyZW5jZVRyYWNrZXIuZ2V0T2NjdXJyZW5jZXMoaWQpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9jY3VycmVuY2VzICsgMSA8PSBub3VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gWCBpbiBZIChzZWNvbmRzfG1pbnV0ZXN8ZGF5c3xob3VycylcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBlckludGVydmFsID0gcGFyc2VJbnQobGltaXQub2JqZWN0c1swXS50b1N0cmluZygpKSB8fCAxO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZVNsb3QgPSB2ZXJiVG9JbnRlcnZhbCh2ZXJiKSAqIHBlckludGVydmFsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2NjdXJyZW5jZXMgPSBfdGhpcy5vY2N1cnJlbmNlVHJhY2tlci5nZXRPY2N1cnJlbmNlcyhpZCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IG9jY3VycmVuY2VzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50IDwgbm91bikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2xpY2UgPSBvY2N1cnJlbmNlcy5zbGljZShjb3VudCAtIG5vdW4sIGNvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIHRoZSB0aW1lIG9mIHRoZSBmaXJzdCBvZiB0aGUgbGFzdCBOIG9jY3VycmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2xpY2VbMF0gPCBEYXRlLm5vdygpIC0gdGltZVNsb3Q7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJqZWN0ID09PSAnb25OdGhPY2N1cnJlbmNlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cmlnZ2VyT2NjdXJyZW5jZXMgPT09IG5vdW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJqZWN0ID09PSAnZXZlcnlOdGhPY2N1cnJlbmNlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiAodHJpZ2dlck9jY3VycmVuY2VzICUgbm91bikgPT09IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIE1lc3NhZ2VzO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE1lc3NhZ2VzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLklkZW50aXR5TWFuYWdlciA9IGV4cG9ydHMuSWRlbnRpdHlTdGF0ZSA9IHZvaWQgMDtcbnZhciBjbGV2ZXJ0YXBfd2ViX3Nka18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJjbGV2ZXJ0YXAtd2ViLXNka1wiKSk7XG52YXIgaW50ZXJuYWxfMSA9IHJlcXVpcmUoXCIuL3R5cGVzL2ludGVybmFsXCIpO1xudmFyIFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vU3RvcmFnZU1hbmFnZXJcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgbm9vcCA9IGZ1bmN0aW9uICgpIHsgfTtcbnZhciB0b01pZ3JhdGlvblN0YXRlID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHN3aXRjaCAob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqLnNkaykge1xuICAgICAgICBjYXNlICdscCc6XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJuYWxfMS5NaWdyYXRpb25TdGF0ZS5MRUFOUExVTTtcbiAgICAgICAgY2FzZSAnbHArY3QnOlxuICAgICAgICAgICAgcmV0dXJuIGludGVybmFsXzEuTWlncmF0aW9uU3RhdGUuRFVQTElDQVRFO1xuICAgICAgICBjYXNlICdjdCc6XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJuYWxfMS5NaWdyYXRpb25TdGF0ZS5DTEVWRVJUQVA7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJuYWxfMS5NaWdyYXRpb25TdGF0ZS5VTktOT1dOO1xuICAgIH1cbn07XG52YXIgTWlncmF0aW9uTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNaWdyYXRpb25NYW5hZ2VyKGNyZWF0ZVJlcXVlc3QpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuICAgICAgICB0aGlzLnJlc3BvbnNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZmV0Y2hpbmcgPSBudWxsO1xuICAgICAgICB2YXIgc2F2ZWRSZXNwb25zZSA9IFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXQoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuTUlHUkFUSU9OX1NUQVRFKTtcbiAgICAgICAgdmFyIGRldmljZUlkID0gU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5ERVZJQ0VfSUQpO1xuICAgICAgICB2YXIgdXNlcklkID0gKF9hID0gU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5VU0VSX0lEKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGV2aWNlSWQ7XG4gICAgICAgIHRoaXMuaWRlbnRpdHkgPSBuZXcgSWRlbnRpdHlNYW5hZ2VyKHVzZXJJZCwgZGV2aWNlSWQpO1xuICAgICAgICBpZiAoc2F2ZWRSZXNwb25zZSkge1xuICAgICAgICAgICAgdGhpcy5yZXNwb25zZSA9IEpTT04ucGFyc2Uoc2F2ZWRSZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgTWlncmF0aW9uTWFuYWdlci5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrID09PSB2b2lkIDApIHsgY2FsbGJhY2sgPSBub29wOyB9XG4gICAgICAgIHZhciByZXNwb25zZSA9IHRoaXMucmVzcG9uc2U7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRvTWlncmF0aW9uU3RhdGUodGhpcy5yZXNwb25zZSk7XG4gICAgICAgIGlmIChyZXNwb25zZSAmJiBzdGF0ZSAhPT0gaW50ZXJuYWxfMS5NaWdyYXRpb25TdGF0ZS5VTktOT1dOKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhzdGF0ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZXRNaWdyYXRpb25TdGF0ZShjYWxsYmFjayk7XG4gICAgfTtcbiAgICBNaWdyYXRpb25NYW5hZ2VyLnByb3RvdHlwZS52ZXJpZnlTdGF0ZSA9IGZ1bmN0aW9uIChzaGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoc2hhICYmICgoX2EgPSB0aGlzLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2hhMjU2KSAhPT0gc2hhKSB7XG4gICAgICAgICAgICB0aGlzLmdldE1pZ3JhdGlvblN0YXRlKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHMgPT09IGludGVybmFsXzEuTWlncmF0aW9uU3RhdGUuRFVQTElDQVRFIHx8IHMgPT09IGludGVybmFsXzEuTWlncmF0aW9uU3RhdGUuQ0xFVkVSVEFQKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmluaXRDbGV2ZXJUYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5pZGVudGl0eS5pc0Fub255bW91cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xldmVydGFwX3dlYl9zZGtfMS5kZWZhdWx0Lm9uVXNlckxvZ2luLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGU6IF90aGlzLmlkZW50aXR5LnByb2ZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNaWdyYXRpb25NYW5hZ2VyLnByb3RvdHlwZS5pbml0Q2xldmVyVGFwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBjb25maWcgPSAoX2EgPSB0aGlzLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY3Q7XG4gICAgICAgIGlmICghY29uZmlnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2xldmVydGFwX3dlYl9zZGtfMS5kZWZhdWx0LmluaXQoY29uZmlnLmFjY291bnRJZCwgY29uZmlnLnJlZ2lvbkNvZGUpO1xuICAgICAgICByZXR1cm4gY2xldmVydGFwX3dlYl9zZGtfMS5kZWZhdWx0O1xuICAgIH07XG4gICAgTWlncmF0aW9uTWFuYWdlci5wcm90b3R5cGUuZHVwbGljYXRlUmVxdWVzdCA9IGZ1bmN0aW9uIChhY3Rpb24sIGFyZ3MsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdG9NaWdyYXRpb25TdGF0ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgaWYgKHN0YXRlID09PSBpbnRlcm5hbF8xLk1pZ3JhdGlvblN0YXRlLkxFQU5QTFVNKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhcmdzKSB7XG4gICAgICAgICAgICBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZSA9PT0gaW50ZXJuYWxfMS5NaWdyYXRpb25TdGF0ZS5EVVBMSUNBVEUpIHtcbiAgICAgICAgICAgIGFyZ3MuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkNULCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJnc0RpY3QgPSAoYXJncyA9PT0gbnVsbCB8fCBhcmdzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhcmdzLmJ1aWxkRGljdCgpKSB8fCB7fTtcbiAgICAgICAgdmFyIHVzZXJJZCA9IGFyZ3NEaWN0W0NvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlVTRVJfSURdO1xuICAgICAgICBpZiAodXNlcklkKSB7XG4gICAgICAgICAgICB0aGlzLmlkZW50aXR5LnNldFVzZXJJZCh1c2VySWQpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TVEFSVDpcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaWRlbnRpdHkuaXNBbm9ueW1vdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xldmVydGFwX3dlYl9zZGtfMS5kZWZhdWx0Lm9uVXNlckxvZ2luLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZTogdGhpcy5pZGVudGl0eS5wcm9maWxlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5UUkFDSzpcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50UHVzaChhcmdzRGljdCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5BRFZBTkNFOlxuICAgICAgICAgICAgICAgIGFyZ3NEaWN0LmV2ZW50ID0gXCJzdGF0ZV9cIi5jb25jYXQoYXJnc0RpY3Quc3RhdGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRQdXNoKGFyZ3NEaWN0LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlNFVF9VU0VSX0FUVFJJQlVURVM6XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9maWxlUHVzaChhcmdzRGljdCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlID09PSBpbnRlcm5hbF8xLk1pZ3JhdGlvblN0YXRlLkNMRVZFUlRBUDtcbiAgICB9O1xuICAgIE1pZ3JhdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2ZpbGVQdXNoID0gZnVuY3Rpb24gKGFyZ3NEaWN0KSB7XG4gICAgICAgIHZhciB1c2VySWQgPSBhcmdzRGljdFtDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ORVdfVVNFUl9JRF07XG4gICAgICAgIHZhciBhdHRycyA9IHRoaXMubWFwQXR0cmlidXRlcyh0aGlzLmNvbnZlcnRBcnJheXMoSlNPTi5wYXJzZShhcmdzRGljdC51c2VyQXR0cmlidXRlcyB8fCAne30nKSkpO1xuICAgICAgICBpZiAodXNlcklkKSB7XG4gICAgICAgICAgICB0aGlzLmlkZW50aXR5LnNldFVzZXJJZCh1c2VySWQpO1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihhdHRycywgdGhpcy5pZGVudGl0eS5wcm9maWxlKTtcbiAgICAgICAgICAgIGNsZXZlcnRhcF93ZWJfc2RrXzEuZGVmYXVsdC5vblVzZXJMb2dpbi5wdXNoKHsgU2l0ZTogYXR0cnMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjbGV2ZXJ0YXBfd2ViX3Nka18xLmRlZmF1bHQucHJvZmlsZS5wdXNoKHsgU2l0ZTogYXR0cnMgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1pZ3JhdGlvbk1hbmFnZXIucHJvdG90eXBlLmV2ZW50UHVzaCA9IGZ1bmN0aW9uIChhcmdzRGljdCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgaXNFbmdhZ2VtZW50RXZlbnQgPSBhcmdzRGljdFtDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5NRVNTQUdFX0lEXTtcbiAgICAgICAgdmFyIGV2ZW50TmFtZSA9IG9wdGlvbnMuaXNQdXJjaGFzZSA/ICdDaGFyZ2VkJyA6IGFyZ3NEaWN0LmV2ZW50O1xuICAgICAgICBpZiAoZXZlbnROYW1lICYmICFpc0VuZ2FnZW1lbnRFdmVudCkge1xuICAgICAgICAgICAgdmFyIGV2ZW50UGFyYW1zID0ge307XG4gICAgICAgICAgICBpZiAoYXJnc0RpY3QucGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHRoaXMuY29udmVydEFycmF5cyhKU09OLnBhcnNlKGFyZ3NEaWN0LnBhcmFtcykpO1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oZXZlbnRQYXJhbXMsIHBhcmFtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXJnc0RpY3QudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGV2ZW50UGFyYW1zLCB7IHZhbHVlOiBhcmdzRGljdC52YWx1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhcmdzRGljdC5pbmZvKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihldmVudFBhcmFtcywgeyBpbmZvOiBhcmdzRGljdC5pbmZvIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaXNQdXJjaGFzZSAmJiBhcmdzRGljdC5jdXJyZW5jeUNvZGUpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGV2ZW50UGFyYW1zLCB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogYXJnc0RpY3QuY3VycmVuY3lDb2RlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xldmVydGFwX3dlYl9zZGtfMS5kZWZhdWx0LmV2ZW50LnB1c2goZXZlbnROYW1lLCBldmVudFBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1pZ3JhdGlvbk1hbmFnZXIucHJvdG90eXBlLmNvbnZlcnRBcnJheXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9ialtrZXldKSkge1xuICAgICAgICAgICAgICAgIHZhciBhcnIgPSBvYmpba2V5XTtcbiAgICAgICAgICAgICAgICBhY2Nba2V5XSA9IFwiW1wiLmNvbmNhdChhcnIuam9pbignLCcpLCBcIl1cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhY2Nba2V5XSA9IG9ialtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgIH07XG4gICAgTWlncmF0aW9uTWFuYWdlci5wcm90b3R5cGUubWFwQXR0cmlidXRlcyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdmFyIG1hcHBpbmcgPSAoX2IgPSAoX2EgPSB0aGlzLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY3QpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5hdHRyaWJ1dGVNYXBwaW5ncztcbiAgICAgICAgaWYgKCFtYXBwaW5nKVxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICAgICAgaWYgKG1hcHBpbmdba2V5XSkge1xuICAgICAgICAgICAgICAgIGFjY1ttYXBwaW5nW2tleV1dID0gb2JqW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhY2Nba2V5XSA9IG9ialtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgIH07XG4gICAgTWlncmF0aW9uTWFuYWdlci5wcm90b3R5cGUuZ2V0TWlncmF0aW9uU3RhdGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX2ZldGNoaW5nID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9mZXRjaGluZyA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNyZWF0ZVJlcXVlc3QoJ2dldE1pZ3JhdGVTdGF0ZScsIG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKSwge1xuICAgICAgICAgICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IChfYSA9IHIgPT09IG51bGwgfHwgciA9PT0gdm9pZCAwID8gdm9pZCAwIDogci5yZXNwb25zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gdG9NaWdyYXRpb25TdGF0ZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUgJiYgc3RhdGUgIT09IGludGVybmFsXzEuTWlncmF0aW9uU3RhdGUuVU5LTk9XTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLk1JR1JBVElPTl9TVEFURSwgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mZXRjaGluZy50aGVuKGNhbGxiYWNrKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2ZldGNoaW5nID0gbnVsbDsgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gTWlncmF0aW9uTWFuYWdlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBNaWdyYXRpb25NYW5hZ2VyO1xudmFyIElkZW50aXR5U3RhdGU7XG4oZnVuY3Rpb24gKElkZW50aXR5U3RhdGUpIHtcbiAgICBJZGVudGl0eVN0YXRlW1wiQU5PTllNT1VTXCJdID0gXCJhbm9ueW1vdXNcIjtcbiAgICBJZGVudGl0eVN0YXRlW1wiSURFTlRJRklFRFwiXSA9IFwiaWRlbnRpZmllZFwiO1xufSkoSWRlbnRpdHlTdGF0ZSA9IGV4cG9ydHMuSWRlbnRpdHlTdGF0ZSB8fCAoZXhwb3J0cy5JZGVudGl0eVN0YXRlID0ge30pKTtcbnZhciBJZGVudGl0eU1hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSWRlbnRpdHlNYW5hZ2VyKHVzZXJJZCwgZGV2aWNlSWQpIHtcbiAgICAgICAgdGhpcy51c2VySWQgPSB1c2VySWQ7XG4gICAgICAgIHRoaXMuZGV2aWNlSWQgPSBkZXZpY2VJZDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IElkZW50aXR5U3RhdGUuQU5PTllNT1VTO1xuICAgICAgICB0aGlzLmlkZW50aWZ5KCk7XG4gICAgfVxuICAgIElkZW50aXR5TWFuYWdlci5wcm90b3R5cGUuc2V0VXNlcklkID0gZnVuY3Rpb24gKHVzZXJJZCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gSWRlbnRpdHlTdGF0ZS5BTk9OWU1PVVMpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBJZGVudGl0eVN0YXRlLklERU5USUZJRUQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51c2VySWQgPSB1c2VySWQ7XG4gICAgfTtcbiAgICBJZGVudGl0eU1hbmFnZXIucHJvdG90eXBlLmlkZW50aWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5pc0Fub255bW91cykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IElkZW50aXR5U3RhdGUuQU5PTllNT1VTO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pZGVudGlmeU5vbkFub255bW91cygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJZGVudGl0eU1hbmFnZXIucHJvdG90eXBlLmlkZW50aWZ5Tm9uQW5vbnltb3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gSWRlbnRpdHlTdGF0ZS5JREVOVElGSUVEO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KElkZW50aXR5TWFuYWdlci5wcm90b3R5cGUsIFwicHJvZmlsZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgSWRlbnRpdHk6IHRoaXMudXNlcklkIH07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSWRlbnRpdHlNYW5hZ2VyLnByb3RvdHlwZSwgXCJpc0Fub255bW91c1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXNlcklkID09PSB0aGlzLmRldmljZUlkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIElkZW50aXR5TWFuYWdlcjtcbn0oKSk7XG5leHBvcnRzLklkZW50aXR5TWFuYWdlciA9IElkZW50aXR5TWFuYWdlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBBamF4IGZ1bmN0aW9ucyBmcm9tOlxuICpcbiAqIFBhcnNlIEphdmFTY3JpcHQgU0RLXG4gKiBWZXJzaW9uOiAxLjEuNVxuICogQnVpbHQ6IE1vbiBPY3QgMDEgMjAxMiAxNzo1NzoxM1xuICogaHR0cDovL3BhcnNlLmNvbVxuICpcbiAqIENvcHlyaWdodCAyMDEyIFBhcnNlLCBJbmMuXG4gKiBUaGUgUGFyc2UgSmF2YVNjcmlwdCBTREsgaXMgZnJlZWx5IGRpc3RyaWJ1dGFibGUgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lOR1xuICogRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUlxuICogREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTmV0d29yayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOZXR3b3JrKCkge1xuICAgICAgICB0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyA9IDEwO1xuICAgICAgICB0aGlzLnJlcXVlc3RRdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLnJ1bm5pbmdSZXF1ZXN0ID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIE5ldHdvcmsucHJvdG90eXBlLnNldE5ldHdvcmtUaW1lb3V0ID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMgPSBzZWNvbmRzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFrZSBhbiBhamF4IHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBUaGUgaHR0cCBtZXRob2QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgdXJsIHRvIG9wZW4uXG4gICAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXlCdWZmZXJ8QmxvYnxEb2N1bWVudHxGb3JtRGF0YX0gZGF0YSBUaGUgZGF0YSB0byBiZSBzZW50IGluIGJvZHkuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gc3VjY2VzcyBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBzdWNjZXNzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGVycm9yIEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIGVycm9yLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcXVldWVkIFdoZXRoZXIgdGhlIHJlcXVlc3Qgc2hvdWxkIGJlIHF1ZXVlZCBvciBpbW1lZGlhdGVseSBzZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3BsYWluVGV4dF0gV2hldGhlciB0aGUgcmVzcG9uc2Ugc2hvdWxkIGJlIHJldHVybmVkIGFzIHBsYWluIHRleHQgb3IganNvbi5cbiAgICAgKiBAcmV0dXJuIHsqfVxuICAgICAqL1xuICAgIE5ldHdvcmsucHJvdG90eXBlLmFqYXggPSBmdW5jdGlvbiAobWV0aG9kLCB1cmwsIGRhdGEsIHN1Y2Nlc3MsIGVycm9yLCBxdWV1ZWQsIHBsYWluVGV4dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAocXVldWVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ydW5uaW5nUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbnF1ZXVlUmVxdWVzdChhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ydW5uaW5nUmVxdWVzdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBYRG9tYWluUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHA6JyAmJiB1cmwuaW5kZXhPZignaHR0cHM6JykgPT09IDApIHtcbiAgICAgICAgICAgICAgICB1cmwgPSBcImh0dHA6XCIuY29uY2F0KHVybC5zdWJzdHJpbmcoNikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWpheElFOChtZXRob2QsIHVybCwgZGF0YSwgc3VjY2VzcywgZXJyb3IsIHF1ZXVlZCwgcGxhaW5UZXh0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaGFuZGxlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFuZGxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZV8xO1xuICAgICAgICAgICAgICAgIHZhciBwYXJzZUVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHBsYWluVGV4dCkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZV8xID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZV8xID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yKG51bGwsIHhocik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MocmVzcG9uc2VfMSwgeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcihyZXNwb25zZV8xLCB4aHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChxdWV1ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucnVubmluZ1JlcXVlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVxdWV1ZVJlcXVlc3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBibG9ja2VkID0gZmFsc2U7XG4gICAgICAgIHhoci5vbmVycm9yID0geGhyLm9udGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVxdWVzdFF1ZXVlLnNwbGljZSgwLCBfdGhpcy5yZXF1ZXN0UXVldWUubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFibG9ja2VkKSB7XG4gICAgICAgICAgICB4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ3RleHQvcGxhaW4nKTsgLy8gQXZvaWQgcHJlLWZsaWdodC5cbiAgICAgICAgICAgIHhoci5zZW5kKGRhdGEpO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFoYW5kbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHhoci5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzICogMTAwMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1ha2UgYW4gYWpheCByZXF1ZXN0IGZvciBJRTguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBUaGUgaHR0cCBtZXRob2QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgdXJsIHRvIG9wZW4uXG4gICAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXlCdWZmZXJ8QmxvYnxEb2N1bWVudHxGb3JtRGF0YX0gZGF0YSBUaGUgZGF0YSB0byBiZSBzZW50IGluIGJvZHkuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gc3VjY2VzcyBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBzdWNjZXNzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGVycm9yIEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIGVycm9yLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcXVldWVkIFdoZXRoZXIgdGhlIHJlcXVlc3Qgc2hvdWxkIGJlIHF1ZXVlZCBvciBpbW1lZGlhdGVseSBzZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcGxhaW5UZXh0IFdoZXRoZXIgdGhlIHJlc3BvbnNlIHNob3VsZCBiZSByZXR1cm5lZCBhcyBwbGFpbiB0ZXh0IG9yIGpzb24uXG4gICAgICovXG4gICAgTmV0d29yay5wcm90b3R5cGUuYWpheElFOCA9IGZ1bmN0aW9uIChtZXRob2QsIHVybCwgZGF0YSwgc3VjY2VzcywgZXJyb3IsIHF1ZXVlZCwgcGxhaW5UZXh0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB4ZHIgPSBuZXcgWERvbWFpblJlcXVlc3QoKTtcbiAgICAgICAgeGRyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXNwb25zZTtcbiAgICAgICAgICAgIHZhciBwYXJzZUVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAocGxhaW5UZXh0KSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSB4ZHIucmVzcG9uc2VUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHhkci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yKG51bGwsIHhkcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgICAgICBwYXJzZUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXBhcnNlRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MocmVzcG9uc2UsIHhkcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChxdWV1ZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5ydW5uaW5nUmVxdWVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF90aGlzLmRlcXVldWVSZXF1ZXN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHhkci5vbmVycm9yID0geGRyLm9udGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcihudWxsLCB4ZHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgaWYgKHF1ZXVlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJ1bm5pbmdSZXF1ZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVxdWV1ZVJlcXVlc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeGRyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgICAgIHhkci5vcGVuKG1ldGhvZCwgdXJsKTtcbiAgICAgICAgeGRyLnRpbWVvdXQgPSB0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyAqIDEwMDA7XG4gICAgICAgIHhkci5zZW5kKGRhdGEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgcmVxdWVzdCB0byB0aGUgcmVxdWVzdCBxdWV1ZS5cbiAgICAgKiBAcGFyYW0gcmVxdWVzdEFyZ3VtZW50cyBUaGUgcmVxdWVzdCBhcmd1bWVudHMgZnJvbSB0aGUgaW5pdGlhbCBtZXRob2QgY2FsbC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIE5ldHdvcmsucHJvdG90eXBlLmVucXVldWVSZXF1ZXN0ID0gZnVuY3Rpb24gKHJlcXVlc3RBcmd1bWVudHMpIHtcbiAgICAgICAgdGhpcy5yZXF1ZXN0UXVldWUucHVzaChyZXF1ZXN0QXJndW1lbnRzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHJlcXVlc3QgZnJvbSB0aGUgcmVxdWVzdCBxdWV1ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIE5ldHdvcmsucHJvdG90eXBlLmRlcXVldWVSZXF1ZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IHRoaXMucmVxdWVzdFF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXNwcmVhZFxuICAgICAgICAgICAgdGhpcy5hamF4LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTmV0d29yaztcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBOZXR3b3JrO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vU3RvcmFnZU1hbmFnZXJcIikpO1xudmFyIEFQUExJQ0FUSU9OX1NFUlZFUl9QVUJMSUNfS0VZID0gJ0JJbldQcFdudGZSMzlyZ1hTUDA0cHFkbUVkREdhNTB6NnpxYk12eHl4SkN3elhJdVNwU2g4Qzg4OC1DZko4MldFTGw3WGU4Y2pBbmZDdC0zdkswQ2k2OCc7XG4vKipcbiAqIFB1c2ggTWFuYWdlciBoYW5kbGVzIHRoZSByZWdpc3RyYXRpb24gYW5kIHN1YnNjcmlwdGlvbiBmb3Igd2ViIHB1c2guXG4gKi9cbnZhciBQdXNoTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQdXNoTWFuYWdlcihjcmVhdGVSZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4gICAgICAgIHRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9IG51bGw7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQdXNoTWFuYWdlci5wcm90b3R5cGUsIFwic2VydmljZVdvcmtlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3Iuc2VydmljZVdvcmtlcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHdlYiBwdXNoIGlzIHN1cHBvcnRlZCBpbiB0aGUgYnJvd3Nlci5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHN1cHBvcnRlZCwgZWxzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuaXNXZWJQdXNoU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbigod2luZG93ID09PSBudWxsIHx8IHdpbmRvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luZG93Lm5hdmlnYXRvcikgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgJ3NlcnZpY2VXb3JrZXInIGluIHdpbmRvdy5uYXZpZ2F0b3IgJiZcbiAgICAgICAgICAgICdQdXNoTWFuYWdlcicgaW4gd2luZG93KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSBicm93c2VyIGlzIHN1YnNjcmliZWQgdG8gd2ViIHB1c2ggbm90aWZpY2F0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBUcnVlIGlmIHN1YnNjcmliZWQsIGVsc2UgZmFsc2UuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLmlzV2ViUHVzaFN1YnNjcmliZWQgPSBmdW5jdGlvbiAoY2xpZW50VXJsKSB7XG4gICAgICAgIGlmIChjbGllbnRVcmwgPT09IHZvaWQgMCkgeyBjbGllbnRVcmwgPSAnJzsgfVxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlZ2lzdHJhdGlvbiwgc3Vic2NyaXB0aW9uLCBpc1N1YnNjcmliZWQ7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNXZWJQdXNoU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZmFsc2VdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5nZXRTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKGNsaWVudFVybCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpc3RyYXRpb24gPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlZ2lzdHJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBmYWxzZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1N1YnNjcmliZWQgPSBzdWJzY3JpcHRpb24gIT09IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVOZXdTdWJzY3JpcHRpb25PblNlcnZlcihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGlzU3Vic2NyaWJlZF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgZm9yIFdlYlB1c2guXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgIHNlcnZpY2VXb3JrZXJVcmwgVGhlIHVybCB0aGF0IHNlcnZlcyB0aGUgc2VydmljZSB3b3JrZXIgb24geW91ciBkb21haW4uXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrICAgICAgICAgVGhlIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aXRoIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBUcnVlIGlmIHN1YnNjcmliZWQsIGVsc2UgZmFsc2UuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gKHNlcnZpY2VXb3JrZXJVcmwsIHNjb3BlLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hLCBzdWJzY3JpcHRpb24sIGlzU3Vic2NyaWJlZCwgZXJyb3JfMTtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1dlYlB1c2hTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogUHVzaCBtZXNzYWdpbmcgaXMgbm90IHN1cHBvcnRlZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgY2FsbGJhY2soZmFsc2UpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFsxLCA0LCAsIDVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc2VydmljZVdvcmtlci5yZWdpc3RlcihzZXJ2aWNlV29ya2VyVXJsIHx8ICcvc3cubWluLmpzJywgc2NvcGUpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5nZXRTdWJzY3JpcHRpb24oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU3Vic2NyaWJlZCA9IHN1YnNjcmlwdGlvbiAhPT0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgY2FsbGJhY2soaXNTdWJzY3JpYmVkKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzEgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IFNlcnZpY2UgV29ya2VyIEVycm9yOiAnLCBlcnJvcl8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBjYWxsYmFjayhmYWxzZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmUgdGhlIHVzZXIgKGJyb3dzZXIpIHRvIHB1c2guXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gUmVzb2x2ZXMgaWYgc3Vic2NyaXB0aW9uIHN1Y2Nlc3NmdWwsIG90aGVyd2lzZSByZWplY3RzLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5zdWJzY3JpYmVVc2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFwcGxpY2F0aW9uU2VydmVyS2V5LCBzdWJzY3JpcHRpb24sIGVycm9yXzI7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvblNlcnZlcktleSA9IHRoaXMudXJsQjY0VG9VaW50OEFycmF5KEFQUExJQ0FUSU9OX1NFUlZFUl9QVUJMSUNfS0VZKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsxLCAzLCAsIDRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyVmlzaWJsZU9ubHk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uU2VydmVyS2V5OiBhcHBsaWNhdGlvblNlcnZlcktleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfMiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxlYW5wbHVtOiBGYWlsZWQgdG8gc3Vic2NyaWJlIHRoZSB1c2VyOiBcIi5jb25jYXQoZXJyb3JfMikpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiAvKnJldHVybiovLCB0cnVlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbnN1YnNjcmliZSB0aGUgdXNlcihicm93c2VyKSBmcm9tIHB1c2guXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gUmVzb2x2ZXMgaWYgdW5zdWJzY3JpYmVkLCBvdGhlcndpc2UgcmVqZWN0cy5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUudW5zdWJzY3JpYmVVc2VyID0gZnVuY3Rpb24gKGNsaWVudFVybCkge1xuICAgICAgICBpZiAoY2xpZW50VXJsID09PSB2b2lkIDApIHsgY2xpZW50VXJsID0gJyc7IH1cbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIFByb21pc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpYmVkLCBzdWJzY3JpcHRpb24sIGVycm9yXzM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuaXNXZWJQdXNoU3Vic2NyaWJlZChjbGllbnRVcmwpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlZCA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3Vic2NyaWJlZCkgcmV0dXJuIFszIC8qYnJlYWsqLywgNl07XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMiwgNSwgLCA2XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA2XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfMyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxlYW5wbHVtOiBFcnJvciB1bnN1YnNjcmliaW5nOiBcIi5jb25jYXQoZXJyb3JfMykpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIHNlcnZpY2Ugd29ya2VyIHJlZ2lzdHJhdGlvbiBvYmplY3QgZnJvbSBicm93c2VyLlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gUmV0dXJucyB0aGUgcmVnaXN0cmF0aW9uIG9yIG51bGwuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLmdldFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24gPSBmdW5jdGlvbiAoY2xpZW50VXJsKSB7XG4gICAgICAgIGlmIChjbGllbnRVcmwgPT09IHZvaWQgMCkgeyBjbGllbnRVcmwgPSAnJzsgfVxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc2VydmljZVdvcmtlci5nZXRSZWdpc3RyYXRpb24oY2xpZW50VXJsKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24gPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5jb2RlcyBhIGJhc2U2NCBVUkwgc3RyaW5nIHRvIGFuIFVpbnQ4IGFycmF5LlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS51cmxCNjRUb1VpbnQ4QXJyYXkgPSBmdW5jdGlvbiAoYmFzZTY0U3RyaW5nKSB7XG4gICAgICAgIHZhciBwYWRkaW5nID0gJz0nLnJlcGVhdCgoNCAtIGJhc2U2NFN0cmluZy5sZW5ndGggJSA0KSAlIDQpO1xuICAgICAgICB2YXIgYmFzZTY0ID0gKGJhc2U2NFN0cmluZyArIHBhZGRpbmcpLnJlcGxhY2UoLy0vZywgJysnKS5yZXBsYWNlKC9fL2csICcvJyk7XG4gICAgICAgIHZhciByYXdEYXRhID0gdGhpcy5kZWNvZGVEYXRhKGJhc2U2NCk7XG4gICAgICAgIHZhciBvdXRwdXRBcnJheSA9IG5ldyBVaW50OEFycmF5KHJhd0RhdGEubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBvdXRwdXRBcnJheVtpXSA9IHJhd0RhdGEuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0QXJyYXk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZW5kIGEgbmV3IHN1YnNjcmlwdGlvbiBvYmplY3QgdG8gdGhlIExlYW5wbHVtIHNlcnZlci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3Vic2NyaXB0aW9uIFRoZSBzdWJzY3JpcHRpb24uXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB2YXIgcHJlcGFyZWRTdWJzY3JpcHRpb24gPSB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHZhciBwcmVwYXJlZFN1YnNjcmlwdGlvblN0cmluZyA9IEpTT04uc3RyaW5naWZ5KHByZXBhcmVkU3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHZhciBleGlzdGluZ1N1YnNjcmlwdGlvblN0cmluZyA9IFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXQoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuUFVTSF9TVUJTQ1JJUFRJT04pO1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nU3Vic2NyaXB0aW9uU3RyaW5nICE9PSBwcmVwYXJlZFN1YnNjcmlwdGlvblN0cmluZykge1xuICAgICAgICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlBVU0hfU1VCU0NSSVBUSU9OLCBwcmVwYXJlZFN1YnNjcmlwdGlvblN0cmluZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdWJzY3JpcHRpb24ocHJlcGFyZWRTdWJzY3JpcHRpb25TdHJpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUucHJlcGFyZVN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgdmFyIGtleSA9ICgnZ2V0S2V5JyBpbiBzdWJzY3JpcHRpb24pID8gc3Vic2NyaXB0aW9uLmdldEtleSgncDI1NmRoJykgOiBbXTtcbiAgICAgICAgdmFyIGF1dGggPSAoJ2dldEtleScgaW4gc3Vic2NyaXB0aW9uKSA/IHN1YnNjcmlwdGlvbi5nZXRLZXkoJ2F1dGgnKSA6IFtdO1xuICAgICAgICB2YXIga2V5QXNjaWkgPSB0aGlzLmVuY29kZURhdGEoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheShrZXkpKSk7XG4gICAgICAgIHZhciBhdXRoQXNjaWkgPSB0aGlzLmVuY29kZURhdGEoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheShhdXRoKSkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW5kcG9pbnQ6IHN1YnNjcmlwdGlvbi5lbmRwb2ludCxcbiAgICAgICAgICAgIGtleToga2V5QXNjaWksXG4gICAgICAgICAgICBhdXRoOiBhdXRoQXNjaWksXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZW5kIHRoZSBzdWJzY3JpcHRpb24gdG8gdGhlIExlYW5wbHVtIHNlcnZlci5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3Vic2NyaXB0aW9uIFRoZSBzdWJzY3JpcHRpb24gc3RyaW5nLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5zZXRTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5XRUJfUFVTSF9TVUJTQ1JJUFRJT04sIHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlNFVF9ERVZJQ0VfQVRUUklCVVRFUywgYXJncywge1xuICAgICAgICAgICAgICAgIHF1ZXVlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuZW5jb2RlRGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuYnRvYShkYXRhKTtcbiAgICB9O1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5kZWNvZGVEYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5hdG9iKGRhdGEpO1xuICAgIH07XG4gICAgcmV0dXJuIFB1c2hNYW5hZ2VyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFB1c2hNYW5hZ2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE5ldHdvcmtfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9OZXR3b3JrXCIpKTtcbi8qKlxuICogU29ja2V0LmlvIDEuMCBjbGllbnQgY2xhc3MuXG4gKi9cbnZhciBTb2NrZXRJb0NsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhIG5ldyBTb2NrZXRJb0NsaWVudCwgbm90IGNvbm5lY3RlZCBieSBkZWZhdWx0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNvY2tldElvQ2xpZW50KCkge1xuICAgICAgICB0aGlzLm5ldHdvcmsgPSBuZXcgTmV0d29ya18xLmRlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29ubmVjdGluZyA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25uZWN0cyB0byB0aGUgZ2l2ZW4gc29ja2V0SG9zdC5cbiAgICAgKiBAcGFyYW0gc29ja2V0SG9zdCBUaGUgaG9zdCB0byBjb25uZWN0IHRvLlxuICAgICAqL1xuICAgIFNvY2tldElvQ2xpZW50LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKHNvY2tldEhvc3QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5jb25uZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5uZXR3b3JrLmFqYXgoJ1BPU1QnLCBcImh0dHBzOi8vXCIuY29uY2F0KHNvY2tldEhvc3QsIFwiL3NvY2tldC5pby8xXCIpLCAnJywgZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IGxpbmUuc3BsaXQoJzonKTtcbiAgICAgICAgICAgIHZhciBzZXNzaW9uID0gcGFydHNbMF07XG4gICAgICAgICAgICB2YXIgaGVhcnRiZWF0ID0gcGFyc2VJbnQocGFydHNbMV0pIC8gMiAqIDEwMDA7XG4gICAgICAgICAgICBfdGhpcy5zb2NrZXQgPSBuZXcgV2ViU29ja2V0KFwid3NzOi8vXCIuY29uY2F0KHNvY2tldEhvc3QsIFwiL3NvY2tldC5pby8xL3dlYnNvY2tldC9cIikuY29uY2F0KHNlc3Npb24pKTtcbiAgICAgICAgICAgIHZhciBoZWFydGJlYXRJbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgICBfdGhpcy5zb2NrZXQub25vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vbm9wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub25vcGVuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhlYXJ0YmVhdEludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXQuc2VuZCgnMjo6OicpO1xuICAgICAgICAgICAgICAgIH0sIGhlYXJ0YmVhdCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuc29ja2V0Lm9uY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChoZWFydGJlYXRJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLm9uY2xvc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub25jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5zb2NrZXQub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VQYXJ0cyA9IGV2ZW50LmRhdGEuc3BsaXQoJzonKTtcbiAgICAgICAgICAgICAgICB2YXIgY29kZSA9IHBhcnNlSW50KG1lc3NhZ2VQYXJ0c1swXSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvZGUgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc29ja2V0LnNlbmQoJzI6OicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb2RlID09PSA1KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlSWQgPSBtZXNzYWdlUGFydHNbMV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShtZXNzYWdlUGFydHMuc2xpY2UoMykuam9pbignOicpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VFdmVudCA9IGRhdGEubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBkYXRhLmFyZ3M7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNvY2tldC5zZW5kKFwiNjo6OlwiLmNvbmNhdChtZXNzYWdlSWQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMub25tZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbm1lc3NhZ2UobWVzc2FnZUV2ZW50LCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb2RlID09PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU29ja2V0IGVycm9yOiBcIi5jb25jYXQoZXZlbnQuZGF0YSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5zb2NrZXQub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNvY2tldC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vbmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uZXJyb3IoZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sIG51bGwsIGZhbHNlLCB0cnVlIC8vIG51bGwsIHF1ZXVlZCwgcGxhaW5UZXh0XG4gICAgICAgICk7XG4gICAgfTtcbiAgICBTb2NrZXRJb0NsaWVudC5wcm90b3R5cGUuZGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb25uZWN0aW5nID0gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZW5kcyBnaXZlbiBldmVudCB3aXRoIGFyZ3VtZW50cyB0byB0aGUgc2VydmVyLlxuICAgICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGV2ZW50LlxuICAgICAqIEBwYXJhbSBhcmdzIEFyZ3VtZW50cyB0byBzZW5kLlxuICAgICAqL1xuICAgIFNvY2tldElvQ2xpZW50LnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKG5hbWUsIGFyZ3MpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBTb2NrZXQgaXMgbm90IGNvbm5lY3RlZC4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJnc0pzb24gPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgYXJnczogYXJncyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc29ja2V0LnNlbmQoXCI1Ojo6XCIuY29uY2F0KGFyZ3NKc29uKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBuZXR3b3JrIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIFRoZSB0aW1lb3V0IGluIHNlY29uZHMuXG4gICAgICovXG4gICAgU29ja2V0SW9DbGllbnQucHJvdG90eXBlLnNldE5ldHdvcmtUaW1lb3V0ID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrLnNldE5ldHdvcmtUaW1lb3V0KHNlY29uZHMpO1xuICAgIH07XG4gICAgcmV0dXJuIFNvY2tldElvQ2xpZW50O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFNvY2tldElvQ2xpZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICpcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZVxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHN0b3JhZ2VFbmFibGVkID0ge1xuICAgIGxvY2FsOiB0cnVlLFxuICAgIHNlc3Npb246IHRydWUsXG59O1xudmFyIGFsdGVybmF0ZVN0b3JhZ2UgPSB7XG4gICAgbG9jYWw6IHt9LFxuICAgIHNlc3Npb246IHt9LFxufTtcbnZhciBTdG9yYWdlTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdG9yYWdlTWFuYWdlcigpIHtcbiAgICB9XG4gICAgU3RvcmFnZU1hbmFnZXIuZ2V0ID0gZnVuY3Rpb24gKGtleSwgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSAnbG9jYWwnOyB9XG4gICAgICAgIGlmICghc3RvcmFnZUVuYWJsZWRbdHlwZV0pIHtcbiAgICAgICAgICAgIHJldHVybiBhbHRlcm5hdGVTdG9yYWdlW3R5cGVdW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnbG9jYWwnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgc3RvcmFnZUVuYWJsZWRbdHlwZV0gPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBhbHRlcm5hdGVTdG9yYWdlW3R5cGVdW2tleV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmUgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSAnbG9jYWwnOyB9XG4gICAgICAgIGlmICghc3RvcmFnZUVuYWJsZWRbdHlwZV0pIHtcbiAgICAgICAgICAgIGFsdGVybmF0ZVN0b3JhZ2VbdHlwZV1ba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2xvY2FsJykge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBzdG9yYWdlRW5hYmxlZFt0eXBlXSA9IGZhbHNlO1xuICAgICAgICAgICAgYWx0ZXJuYXRlU3RvcmFnZVt0eXBlXVtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0b3JhZ2VNYW5hZ2VyLnJlbW92ZSA9IGZ1bmN0aW9uIChrZXksIHR5cGUpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gJ2xvY2FsJzsgfVxuICAgICAgICBpZiAoIXN0b3JhZ2VFbmFibGVkW3R5cGVdKSB7XG4gICAgICAgICAgICBkZWxldGUgYWx0ZXJuYXRlU3RvcmFnZVt0eXBlXVtrZXldO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2xvY2FsJykge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHN0b3JhZ2VFbmFibGVkW3R5cGVdID0gZmFsc2U7XG4gICAgICAgICAgICBkZWxldGUgYWx0ZXJuYXRlU3RvcmFnZVt0eXBlXVtrZXldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU3RvcmFnZU1hbmFnZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gU3RvcmFnZU1hbmFnZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBWYWx1ZVRyYW5zZm9ybXMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmFsdWVUcmFuc2Zvcm1zKCkge1xuICAgIH1cbiAgICBWYWx1ZVRyYW5zZm9ybXMuZGVjb2RlQ29sb3IgPSBmdW5jdGlvbiAoY29sb3IpIHtcbiAgICAgICAgdmFyIGIgPSBjb2xvciAmIDB4ZmY7XG4gICAgICAgIGNvbG9yID4+PSA4O1xuICAgICAgICB2YXIgZyA9IGNvbG9yICYgMHhmZjtcbiAgICAgICAgY29sb3IgPj49IDg7XG4gICAgICAgIHZhciByID0gY29sb3IgJiAweGZmO1xuICAgICAgICBjb2xvciA+Pj0gODtcbiAgICAgICAgdmFyIGEgPSAoY29sb3IgJiAweGZmKSAvIDI1NTtcbiAgICAgICAgcmV0dXJuIFwicmdiYShcIi5jb25jYXQociwgXCIsXCIpLmNvbmNhdChnLCBcIixcIikuY29uY2F0KGIsIFwiLFwiKS5jb25jYXQoYSwgXCIpXCIpO1xuICAgIH07XG4gICAgVmFsdWVUcmFuc2Zvcm1zLmVuY29kZUNvbG9yID0gZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY29sb3IgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmdiYSAtPiBudW1iZXJcbiAgICAgICAgdmFyIHJnYmFSZSA9IC9ecmdiYVxcKChcXGQrKSwoXFxkKyksKFxcZCspLChcXGQrKFxcLlxcZCspPylcXCkkLztcbiAgICAgICAgdmFyIHJnYmEgPSByZ2JhUmUuZXhlYyhjb2xvcik7XG4gICAgICAgIGlmIChyZ2JhKSB7XG4gICAgICAgICAgICB2YXIgYSA9IHBhcnNlSW50KHJnYmFbNF0sIDEwKSAqIDI1NTtcbiAgICAgICAgICAgIHZhciByID0gcGFyc2VJbnQocmdiYVsxXSwgMTApICYgMHhmZjtcbiAgICAgICAgICAgIHZhciBnID0gcGFyc2VJbnQocmdiYVsyXSwgMTApICYgMHhmZjtcbiAgICAgICAgICAgIHZhciBiID0gcGFyc2VJbnQocmdiYVszXSwgMTApICYgMHhmZjtcbiAgICAgICAgICAgIHJldHVybiAoYSA8PCAyNCkgKyAociA8PCAxNikgKyAoZyA8PCA4KSArIGI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGV4IC0+IG51bWJlclxuICAgICAgICB2YXIgaGV4UmUgPSAvXiMoWzAtOWEtZl17Mn0pKFswLTlhLWZdezJ9KShbMC05YS1mXXsyfSkkL2k7XG4gICAgICAgIHZhciBoZXggPSBoZXhSZS5leGVjKGNvbG9yKTtcbiAgICAgICAgaWYgKGhleCkge1xuICAgICAgICAgICAgdmFyIHIgPSBwYXJzZUludChoZXhbMV0sIDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICB2YXIgZyA9IHBhcnNlSW50KGhleFsyXSwgMTYpICYgMHhmZjtcbiAgICAgICAgICAgIHZhciBiID0gcGFyc2VJbnQoaGV4WzNdLCAxNikgJiAweGZmO1xuICAgICAgICAgICAgcmV0dXJuICgyNTUgPDwgMjQpICsgKHIgPDwgMTYpICsgKGcgPDwgOCkgKyBiO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBwYXJzZSBjb2xvciBcXFwiXCIuY29uY2F0KGNvbG9yLCBcIlxcXCJcIikpO1xuICAgIH07XG4gICAgcmV0dXJuIFZhbHVlVHJhbnNmb3Jtcztcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBWYWx1ZVRyYW5zZm9ybXM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEFyZ3NCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQXJnc0J1aWxkZXJcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgU3RvcmFnZU1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9TdG9yYWdlTWFuYWdlclwiKSk7XG52YXIgVmFsdWVUcmFuc2Zvcm1zXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vVmFsdWVUcmFuc2Zvcm1zXCIpKTtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbi8vIHRyYW5zZm9ybXMgdGhlIHNlcnZlciByZXNwb25zZSB0byB0aGUgZm9ybWF0IGV4cGVjdGVkIGJ5IHNldFZhcnNcbi8vIC0gbG93ZXJjYXNlIGtpbmRzXG4vLyAtIGFjdGlvbnMgYXMgZW1wdHkgc3RyaW5nc1xuZnVuY3Rpb24gdG9TZXRWYXJzRm9ybWF0KG8pIHtcbiAgICBpZiAoIW8pXG4gICAgICAgIHJldHVybiBvO1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgYWN0aW9uKSB7XG4gICAgICAgIGFjY1thY3Rpb25dID0gX19hc3NpZ24oe30sIG9bYWN0aW9uXSk7XG4gICAgICAgIHZhciBraW5kcyA9IG9bYWN0aW9uXS5raW5kcztcbiAgICAgICAgaWYgKGtpbmRzKSB7XG4gICAgICAgICAgICBhY2NbYWN0aW9uXS5raW5kcyA9IE9iamVjdC5rZXlzKGtpbmRzKVxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKGssIGt4KSB7XG4gICAgICAgICAgICAgICAgdmFyIGtpbmQgPSBraW5kc1treF0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBrW2t4XSA9IGtpbmQ7XG4gICAgICAgICAgICAgICAgaWYgKGtpbmQgPT09ICdhY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjY1thY3Rpb25dLnZhbHVlc1treF0gPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGs7XG4gICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG59XG52YXIgVmFyQ2FjaGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmFyQ2FjaGUoY3JlYXRlUmVxdWVzdCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuICAgICAgICB0aGlzLmFjdGlvbkRlZmluaXRpb25zID0ge307XG4gICAgICAgIHRoaXMuaGFzUmVjZWl2ZWREaWZmcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1lcmdlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy52YXJpYWJsZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycyA9IFtdO1xuICAgICAgICB0aGlzLnZhcmlhbnREZWJ1Z0luZm8gPSB7fTtcbiAgICAgICAgdGhpcy5kaWZmcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50b2tlbiA9ICcnO1xuICAgICAgICB0aGlzLnZhcmlhbnRzID0gW107XG4gICAgfVxuICAgIFZhckNhY2hlLnByb3RvdHlwZS5hcHBseURpZmZzID0gZnVuY3Rpb24gKGRpZmZzLCB2YXJpYW50cywgYWN0aW9uRGVmaW5pdGlvbnMpIHtcbiAgICAgICAgdGhpcy5kaWZmcyA9IGRpZmZzO1xuICAgICAgICB0aGlzLnZhcmlhbnRzID0gdmFyaWFudHM7XG4gICAgICAgIHRoaXMuYWN0aW9uRGVmaW5pdGlvbnMgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGhpcy5hY3Rpb25EZWZpbml0aW9ucyksIHRvU2V0VmFyc0Zvcm1hdChhY3Rpb25EZWZpbml0aW9ucykpO1xuICAgICAgICB0aGlzLmhhc1JlY2VpdmVkRGlmZnMgPSB0cnVlO1xuICAgICAgICB0aGlzLm1lcmdlZCA9IG1lcmdlSGVscGVyKHRoaXMudmFyaWFibGVzLCBkaWZmcyk7XG4gICAgICAgIHRoaXMuc2F2ZURpZmZzKCk7XG4gICAgICAgIGlmICh0aGlzLm9uVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5sb2FkRGlmZnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmFwcGx5RGlmZnMoSlNPTi5wYXJzZSh0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5WQVJJQUJMRVMpIHx8IG51bGwpLCBKU09OLnBhcnNlKHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBTlRTKSB8fCBudWxsKSwgSlNPTi5wYXJzZSh0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5BQ1RJT05fREVGSU5JVElPTlMpIHx8IG51bGwpKTtcbiAgICAgICAgICAgIHRoaXMudG9rZW4gPSB0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5UT0tFTik7XG4gICAgICAgICAgICB0aGlzLnZhcmlhbnREZWJ1Z0luZm8gPSB0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5WQVJJQU5UX0RFQlVHX0lORk8pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxlYW5wbHVtOiBJbnZhbGlkIGRpZmZzOiBcIi5jb25jYXQoZSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2F2ZURpZmZzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5WQVJJQUJMRVMsIEpTT04uc3RyaW5naWZ5KHRoaXMuZGlmZnMgfHwge30pKTtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFOVFMsIEpTT04uc3RyaW5naWZ5KHRoaXMudmFyaWFudHMgfHwgW10pKTtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuQUNUSU9OX0RFRklOSVRJT05TLCBKU09OLnN0cmluZ2lmeSh0aGlzLmFjdGlvbkRlZmluaXRpb25zIHx8IHt9KSk7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBTlRfREVCVUdfSU5GTywgSlNPTi5zdHJpbmdpZnkodGhpcy52YXJpYW50RGVidWdJbmZvIHx8IHt9KSk7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlRPS0VOLCB0aGlzLnRva2VuKTtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5nZXRWYXJpYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuZ2V0VmFyaWFibGVzKCk7XG4gICAgICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudFthcmdzW2ldXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5nZXRWYXJpYWJsZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lcmdlZCAhPT0gdW5kZWZpbmVkID8gdGhpcy5tZXJnZWQgOiB0aGlzLnZhcmlhYmxlcztcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zZXRWYXJpYWJsZXMgPSBmdW5jdGlvbiAodmFyaWFibGVzKSB7XG4gICAgICAgIHRoaXMudmFyaWFibGVzID0gdmFyaWFibGVzO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmFkZFZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy52YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgICAgICAgaWYgKHRoaXMuaGFzUmVjZWl2ZWREaWZmcykge1xuICAgICAgICAgICAgaGFuZGxlcigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUucmVtb3ZlVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB2YXIgaWR4ID0gdGhpcy52YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnRyaWdnZXJWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy52YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzW2ldKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5nZXRWYXJpYW50RGVidWdJbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YXJpYW50RGVidWdJbmZvO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNldFZhcmlhbnREZWJ1Z0luZm8gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy52YXJpYW50RGVidWdJbmZvID0gdmFsdWU7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2VuZEFjdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCFPYmplY3Qua2V5cyh0aGlzLmFjdGlvbkRlZmluaXRpb25zKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFZhcnMoKF9hID0ge30sXG4gICAgICAgICAgICBfYVtDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BQ1RJT05fREVGSU5JVElPTlNdID0gdGhpcy5hY3Rpb25EZWZpbml0aW9ucyxcbiAgICAgICAgICAgIF9hKSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNlbmRWYXJpYWJsZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5zZXRWYXJzKChfYSA9IHt9LFxuICAgICAgICAgICAgX2FbQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVkFSSUFCTEVTXSA9IHRoaXMudmFyaWFibGVzLFxuICAgICAgICAgICAgX2EpKTtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zZXRWYXJzID0gZnVuY3Rpb24gKGJvZHkpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KCkuYm9keShKU09OLnN0cmluZ2lmeShib2R5KSk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuU0VUX1ZBUlMsIGFyZ3MsIHtcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmNsZWFyVXNlckNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGlmZnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudmFyaWFibGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy52YXJpYW50cyA9IFtdO1xuICAgICAgICB0aGlzLnZhcmlhbnREZWJ1Z0luZm8gPSB7fTtcbiAgICAgICAgdGhpcy5tZXJnZWQgPSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUucmVnaXN0ZXJBY3Rpb25EZWZpbml0aW9uID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5hY3Rpb25EZWZpbml0aW9uc1tvcHRpb25zLm5hbWVdID0gb3B0aW9uc1RvRGVmaW5pdGlvbnMob3B0aW9ucyk7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUubG9hZExvY2FsID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldChrZXkpO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNhdmVMb2NhbCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlKGtleSwgdmFsdWUpO1xuICAgIH07XG4gICAgcmV0dXJuIFZhckNhY2hlO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFZhckNhY2hlO1xuZnVuY3Rpb24gYXJndW1lbnRUcmVlKGFyZ3MpIHtcbiAgICByZXR1cm4gYXJncy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgeCkge1xuICAgICAgICBpZiAoeC52YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBhY2NbeC5uYW1lXSA9IGFyZ3VtZW50VHJlZSh4LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh4LnR5cGUgPT09ICdhY3Rpb24nKSB7XG4gICAgICAgICAgICBhY2NbeC5uYW1lXSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHgudHlwZSA9PT0gJ2NvbG9yJykge1xuICAgICAgICAgICAgYWNjW3gubmFtZV0gPSBWYWx1ZVRyYW5zZm9ybXNfMS5kZWZhdWx0LmVuY29kZUNvbG9yKHgudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWNjW3gubmFtZV0gPSB4LnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufVxuZnVuY3Rpb24gYXJndW1lbnRLaW5kcyhhcmdzLCBwcmVmaXgpIHtcbiAgICBpZiAocHJlZml4ID09PSB2b2lkIDApIHsgcHJlZml4ID0gJyc7IH1cbiAgICByZXR1cm4gYXJncy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgeCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBwcm9wTmFtZSA9IFwiXCIuY29uY2F0KHByZWZpeCkuY29uY2F0KHgubmFtZSk7XG4gICAgICAgIGlmICh4LnZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGFjYyA9IF9fYXNzaWduKChfYSA9IHt9LCBfYVtwcm9wTmFtZV0gPSAnZ3JvdXAnLCBfYSksIGFyZ3VtZW50S2luZHMoeC52YWx1ZSwgXCJcIi5jb25jYXQocHJvcE5hbWUsIFwiLlwiKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWNjW3Byb3BOYW1lXSA9IHgudHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufVxuZnVuY3Rpb24gb3B0aW9uc1RvRGVmaW5pdGlvbnMob3B0aW9ucykge1xuICAgIHZhciBkZWZpbml0aW9ucyA9IHtcbiAgICAgICAga2luZDogb3B0aW9ucy5raW5kIHx8IDMsXG4gICAgICAgIG9wdGlvbnM6IG51bGwsXG4gICAgICAgIHZhbHVlczogYXJndW1lbnRUcmVlKG9wdGlvbnMuYXJncyksXG4gICAgICAgIGtpbmRzOiBhcmd1bWVudEtpbmRzKG9wdGlvbnMuYXJncyksXG4gICAgfTtcbiAgICByZXR1cm4gZGVmaW5pdGlvbnM7XG59XG5mdW5jdGlvbiBtZXJnZUhlbHBlcih2YXJzLCBkaWZmKSB7XG4gICAgaWYgKHR5cGVvZiBkaWZmID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgZGlmZiA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiBkaWZmID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICB9XG4gICAgaWYgKGRpZmYgPT09IG51bGwgfHwgZGlmZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB2YXJzO1xuICAgIH1cbiAgICB2YXIgb2JqSXRlcmF0b3IgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBpdGVyYXRlKGYpIHtcbiAgICAgICAgICAgIGlmIChvYmogaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGYob2JqW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBhdHRyIGluIG9iaikge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHNlZW1zIHRvIGJlIGJlc3QgcHJhY3RpY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9lc2xpbnQvZXNsaW50L2lzc3Vlcy83MDcxXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVmbGVjdFxuICAgICAgICAgICAgICAgICAgICBpZiAoe30uaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGF0dHIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmKGF0dHIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG4gICAgdmFyIHZhcnNJdGVyYXRvciA9IG9iakl0ZXJhdG9yKHZhcnMpO1xuICAgIHZhciBkaWZmSXRlcmF0b3IgPSBvYmpJdGVyYXRvcihkaWZmKTtcbiAgICAvLyBJbmZlciB0aGF0IHRoZSBkaWZmcyBpcyBhbiBhcnJheSBpZiB0aGUgdmFycyB2YWx1ZSBkb2Vzbid0IGV4aXN0IHRvIHRlbGwgdXMgdGhlIHR5cGUuXG4gICAgdmFyIGlzQXJyYXkgPSBmYWxzZTtcbiAgICBpZiAodmFycyA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoIShkaWZmIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgICAgICBpc0FycmF5ID0gbnVsbDtcbiAgICAgICAgICAgIGZvciAodmFyIGF0dHJpYnV0ZSBpbiBkaWZmKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkaWZmLmhhc093blByb3BlcnR5KGF0dHJpYnV0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0FycmF5ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoISh0eXBlb2YgYXR0cmlidXRlID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNBcnJheSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5sZW5ndGggPCAzIHx8IGF0dHJpYnV0ZS5jaGFyQXQoMCkgIT09ICdbJyB8fFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuY2hhckF0KGF0dHJpYnV0ZS5sZW5ndGggLSAxKSAhPT0gJ10nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIE1lcmdlIGFycmF5cy5cbiAgICBpZiAodmFycyBpbnN0YW5jZW9mIEFycmF5IHx8IGlzQXJyYXkpIHtcbiAgICAgICAgdmFyIG1lcmdlZF8xID0gW107XG4gICAgICAgIHZhcnNJdGVyYXRvcihmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICAgICAgbWVyZ2VkXzEucHVzaChhdHRyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRpZmZJdGVyYXRvcihmdW5jdGlvbiAodmFyU3Vic2NyaXB0KSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0ID0gcGFyc2VJbnQodmFyU3Vic2NyaXB0LnN1YnN0cmluZygxLCB2YXJTdWJzY3JpcHQubGVuZ3RoIC0gMSkpO1xuICAgICAgICAgICAgdmFyIGRpZmZWYWx1ZSA9IGRpZmZbdmFyU3Vic2NyaXB0XTtcbiAgICAgICAgICAgIHdoaWxlIChzdWJzY3JpcHQgPj0gbWVyZ2VkXzEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkXzEucHVzaChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lcmdlZF8xW3N1YnNjcmlwdF0gPSBtZXJnZUhlbHBlcihtZXJnZWRfMVtzdWJzY3JpcHRdLCBkaWZmVmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1lcmdlZF8xO1xuICAgIH1cbiAgICAvLyBNZXJnZSBkaWN0aW9uYXJpZXMuXG4gICAgdmFyIG1lcmdlZCA9IHt9O1xuICAgIHZhcnNJdGVyYXRvcihmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICBpZiAoZGlmZlthdHRyXSA9PT0gbnVsbCB8fCBkaWZmW2F0dHJdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG1lcmdlZFthdHRyXSA9IHZhcnNbYXR0cl07XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBkaWZmSXRlcmF0b3IoZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgICAgbWVyZ2VkW2F0dHJdID0gbWVyZ2VIZWxwZXIodmFycyA9PT0gbnVsbCA/IG51bGwgOiB2YXJzW2F0dHJdIHx8IHt9LCBkaWZmW2F0dHJdKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbWVyZ2VkO1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXZhci1yZXF1aXJlcyAqL1xudmFyIExlYW5wbHVtID0gcmVxdWlyZSgnLi4vTGVhbnBsdW0udHMnKTtcbm1vZHVsZS5leHBvcnRzID0gTGVhbnBsdW0uZGVmYXVsdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5NaWdyYXRpb25TdGF0ZSA9IHZvaWQgMDtcbnZhciBNaWdyYXRpb25TdGF0ZTtcbihmdW5jdGlvbiAoTWlncmF0aW9uU3RhdGUpIHtcbiAgICBNaWdyYXRpb25TdGF0ZVtcIlVOS05PV05cIl0gPSBcInVua25vd25cIjtcbiAgICBNaWdyYXRpb25TdGF0ZVtcIkxFQU5QTFVNXCJdID0gXCJscFwiO1xuICAgIE1pZ3JhdGlvblN0YXRlW1wiRFVQTElDQVRFXCJdID0gXCJscCtjdFwiO1xuICAgIE1pZ3JhdGlvblN0YXRlW1wiQ0xFVkVSVEFQXCJdID0gXCJjdFwiO1xufSkoTWlncmF0aW9uU3RhdGUgPSBleHBvcnRzLk1pZ3JhdGlvblN0YXRlIHx8IChleHBvcnRzLk1pZ3JhdGlvblN0YXRlID0ge30pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5NZXNzYWdlS2luZCA9IGV4cG9ydHMuQWN0aW9uUGFyYW1ldGVyVHlwZSA9IHZvaWQgMDtcbnZhciBBY3Rpb25QYXJhbWV0ZXJUeXBlO1xuKGZ1bmN0aW9uIChBY3Rpb25QYXJhbWV0ZXJUeXBlKSB7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkludGVnZXJcIl0gPSBcImludGVnZXJcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiQ29sb3JcIl0gPSBcImNvbG9yXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkZsb2F0XCJdID0gXCJmbG9hdFwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJEZWNpbWFsXCJdID0gXCJkZWNpbWFsXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIk51bWJlclwiXSA9IFwibnVtYmVyXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkJvb2xlYW5cIl0gPSBcImJvb2xcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiU3RyaW5nXCJdID0gXCJzdHJpbmdcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiVGV4dFwiXSA9IFwidGV4dFwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJIVE1MXCJdID0gXCJodG1sXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkZpbGVcIl0gPSBcImZpbGVcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiTGlzdFwiXSA9IFwibGlzdFwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJHcm91cFwiXSA9IFwiZ3JvdXBcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiQWN0aW9uXCJdID0gXCJhY3Rpb25cIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiVW5rbm93blwiXSA9IFwiXCI7XG59KShBY3Rpb25QYXJhbWV0ZXJUeXBlID0gZXhwb3J0cy5BY3Rpb25QYXJhbWV0ZXJUeXBlIHx8IChleHBvcnRzLkFjdGlvblBhcmFtZXRlclR5cGUgPSB7fSkpO1xuO1xudmFyIE1lc3NhZ2VLaW5kO1xuKGZ1bmN0aW9uIChNZXNzYWdlS2luZCkge1xuICAgIE1lc3NhZ2VLaW5kW01lc3NhZ2VLaW5kW1wiQWN0aW9uXCJdID0gMl0gPSBcIkFjdGlvblwiO1xuICAgIE1lc3NhZ2VLaW5kW01lc3NhZ2VLaW5kW1wiVGVtcGxhdGVcIl0gPSAzXSA9IFwiVGVtcGxhdGVcIjtcbn0pKE1lc3NhZ2VLaW5kID0gZXhwb3J0cy5NZXNzYWdlS2luZCB8fCAoZXhwb3J0cy5NZXNzYWdlS2luZCA9IHt9KSk7XG47XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHRsb2FkZWQ6IGZhbHNlLFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcblx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubm1kID0gKG1vZHVsZSkgPT4ge1xuXHRtb2R1bGUucGF0aHMgPSBbXTtcblx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRyZXR1cm4gbW9kdWxlO1xufTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oODA0KTtcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwiaWQiLCJfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleSIsIm5hbWUiLCJfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UiLCJyZWNlaXZlciIsInByaXZhdGVLZXkiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJUeXBlRXJyb3IiLCJUQVJHRVRfRE9NQUlOIiwiVEFSR0VUX1BST1RPQ09MIiwiX2FjY291bnRJZCIsIl9yZWdpb24iLCJfdGFyZ2V0RG9tYWluIiwiX2RjU2RrdmVyc2lvbiIsIl90b2tlbiIsIkFjY291bnQiLCJjb25zdHJ1Y3RvciIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInJlZ2lvbiIsInRhcmdldERvbWFpbiIsInRva2VuIiwiZGVmaW5lUHJvcGVydHkiLCJ0aGlzIiwid3JpdGFibGUiLCJ2YWx1ZSIsImFjY291bnRJZCIsImRjU0RLVmVyc2lvbiIsImZpbmFsVGFyZ2V0RG9tYWluIiwiY29uY2F0IiwiZGF0YVBvc3RQRVVSTCIsImRhdGFQb3N0VVJMIiwicmVjb3JkZXJVUkwiLCJlbWFpbFVSTCIsInVuc3VwcG9ydGVkS2V5Q2hhclJlZ2V4IiwiUmVnRXhwIiwidW5zdXBwb3J0ZWRWYWx1ZUNoYXJSZWdleCIsInNpbmdsZVF1b3RlUmVnZXgiLCJDTEVBUiIsIkNIQVJHRURfSUQiLCJDSEFSR0VESURfQ09PS0lFX05BTUUiLCJHQ09PS0lFX05BTUUiLCJLQ09PS0lFX05BTUUiLCJDQU1QX0NPT0tJRV9OQU1FIiwiQ0FNUF9DT09LSUVfRyIsIkVWX0NPT0tJRSIsIk1FVEFfQ09PS0lFIiwiUFJfQ09PS0lFIiwiQVJQX0NPT0tJRSIsIkxDT09LSUVfTkFNRSIsIkdMT0JBTCIsIkRJU1BMQVkiLCJPUFRPVVRfS0VZIiwiVVNFSVBfS0VZIiwiTFJVX0NBQ0hFIiwiSVNfT1VMIiwiRVZUX1BVU0giLCJDT09LSUVfRVhQSVJZIiwiY2F0ZWdvcnlMb25nS2V5IiwiV1pSS19QUkVGSVgiLCJXWlJLX0lEIiwiTk9USUZJQ0FUSU9OX1ZJRVdFRCIsIk5PVElGSUNBVElPTl9DTElDS0VEIiwiRklSRV9QVVNIX1VOUkVHSVNURVJFRCIsIlBVU0hfU1VCU0NSSVBUSU9OX0RBVEEiLCJDT01NQU5EX0lOQ1JFTUVOVCIsIkNPTU1BTkRfQUREIiwiQ09NTUFORF9SRU1PVkUiLCJDT01NQU5EX0RFTEVURSIsIldFQklOQk9YX0NPTkZJRyIsIldFQklOQk9YIiwiUFVTSF9ERUxBWV9NUyIsIldaUktfRkVUQ0giLCJTWVNURU1fRVZFTlRTIiwiaXNTdHJpbmciLCJpbnB1dCIsIlN0cmluZyIsImlzT2JqZWN0IiwidG9TdHJpbmciLCJpc0RhdGVPYmplY3QiLCJEYXRlIiwiaXNPYmplY3RFbXB0eSIsIm9iaiIsInByb3AiLCJpc0NvbnZlcnRpYmxlVG9OdW1iZXIiLCJuIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiaXNGaW5pdGUiLCJpc051bWJlciIsInRlc3QiLCJpc1ZhbHVlVmFsaWQiLCJyZW1vdmVVbnN1cHBvcnRlZENoYXJzIiwibyIsImxvZ2dlciIsInZhbCIsInNhbml0aXplIiwic3Vic3RyaW5nIiwicmVwb3J0RXJyb3IiLCJrZXkiLCJzYW5pdGl6ZWRWYWwiLCJzYW5pdGl6ZWRLZXkiLCJyZWdleCIsInJlcGxhY2UiLCJnZXRUb2RheSIsInRvZGF5IiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERheSIsImdldE5vdyIsIk1hdGgiLCJmbG9vciIsImdldFRpbWUiLCJjb252ZXJ0VG9XWlJLRGF0ZSIsImRhdGVPYmoiLCJyb3VuZCIsInNldERhdGUiLCJkdCIsImlzRGF0ZVZhbGlkIiwiZGF0ZSIsIm1hdGNoZXMiLCJleGVjIiwiZCIsIm0iLCJ5IiwiY29tcG9zZWREYXRlIiwiZ2V0RGF0ZSIsIlN0b3JhZ2VNYW5hZ2VyIiwic3RhdGljIiwiX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwiZ2V0SXRlbSIsInBhcnNlIiwiZSIsInJlbW92ZUl0ZW0iLCJkb21haW4iLCJjb29raWVTdHIiLCJkb2N1bWVudCIsImNvb2tpZSIsInNlY29uZHMiLCJleHBpcmVzIiwiZG9tYWluU3RyIiwic2V0VGltZSIsInRvR01UU3RyaW5nIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwibmFtZUVRIiwiY2EiLCJzcGxpdCIsImlkeCIsImMiLCJjaGFyQXQiLCJpbmRleE9mIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwid2luZG93IiwicHJvcGVydHkiLCJzYXZlIiwiY3JlYXRlQ29va2llIiwibG9jYXRpb24iLCJob3N0bmFtZSIsIiRjdCIsImdsb2JhbENhY2hlIiwicmVhZCIsInJlYWRDb29raWUiLCJ0cmltIiwiZXJyIiwiYnJvYWREb21haW4iLCJkb21haW5QYXJ0cyIsInRlc3RCcm9hZERvbWFpbiIsInRlc3RDb29raWVOYW1lIiwicmVtb3ZlQ29va2llIiwibWV0YU9iaiIsInJlYWRGcm9tTFNvckNvb2tpZSIsInd6cmtNZXRhT2JqIiwic2F2ZVRvTFNvckNvb2tpZSIsImdldE1ldGFQcm9wIiwic2V0TWV0YVByb3AiLCJrIiwiZmxhZyIsInJlcU5vIiwiYmFja3VwQXJyIiwicSIsImRlYnVnIiwicmVzcE5vIiwiYmFja3VwTWFwIiwiZ2Nvb2tpZSIsIlJFUV9OIiwiUkVTUF9OIiwiZ2xvYmFsUHJvZmlsZU1hcCIsImdsb2JhbEV2ZW50c01hcCIsImJsb2NrUmVxdWVzdCIsImlzT3B0SW5SZXF1ZXN0Iiwid2ViUHVzaEVuYWJsZWQiLCJjYW1wYWlnbkRpdk1hcCIsImN1cnJlbnRTZXNzaW9uSWQiLCJ3aXpfY291bnRlciIsIm5vdGlmQXBpIiwibm90aWZFbmFibGVkRnJvbUFwaSIsInVuc3ViR3JvdXBzIiwidXBkYXRlZENhdGVnb3J5TG9uZyIsImluYm94IiwiaXNQcml2YWN5QXJyUHVzaGVkIiwicHJpdmFjeUFycmF5Iiwib2ZmbGluZSIsImRpc21pc3NTcGFtQ29udHJvbCIsImdsb2JhbFVuc3Vic2NyaWJlIiwiZmx1dHRlclZlcnNpb24iLCJ2YXJpYWJsZVN0b3JlIiwiX2tleU9yZGVyIiwiX2RlbGV0ZUZyb21PYmplY3QiLCJMUlVDYWNoZSIsIm1heCIsIl9kZWxldGVGcm9tT2JqZWN0MiIsImxydUNhY2hlIiwidGVtcExydUNhY2hlIiwiY2FjaGUiLCJlbnRyeSIsInB1c2giLCJnZXQiLCJpdGVtIiwic2F2ZUNhY2hlVG9MUyIsInNldCIsImFsbEtleXMiLCJvYmpUb0FycmF5IiwiaW5kZXgiLCJ0ZW1wIiwiZ2V0S2V5IiwiZ2V0U2Vjb25kTGFzdEtleSIsImtleXNBcnIiLCJnZXRMYXN0S2V5Iiwia2V5c0xlbmd0aCIsIm5ld0NhY2hlIiwiaW5kZXhUb0RlbGV0ZSIsInNwbGljZSIsIl9sb2dnZXIiLCJfcmVxdWVzdCIsIl9kZXZpY2UiLCJfc2Vzc2lvbiIsIkNsZXZlclRhcEFQSSIsIl9yZWYiLCJyZXF1ZXN0IiwiZGV2aWNlIiwic2Vzc2lvbiIsInMiLCJnbG9iYWwiLCJyZXN1bWUiLCJyZXNwTnVtYmVyIiwib3B0T3V0UmVzcG9uc2UiLCJvdWxSZXEiLCJuZXdHdWlkIiwiaXNPVUxJblByb2dyZXNzIiwib3VsUmVxTiIsInJlbW92ZUJhY2t1cCIsInNlc3Npb25PYmoiLCJnZXRTZXNzaW9uQ29va2llT2JqZWN0IiwiZ2V0QW5kQ2xlYXJNZXRhUHJvcCIsImtJZEZyb21MUyIsImd1aWRGcm9tTFJVQ2FjaGUiLCJsYXN0SyIsImxhc3RHVUlEIiwidW5yZWdpc3RlclRva2VuRm9yR3VpZCIsImNyZWF0ZUJyb2FkQ29va2llIiwibWFuYWdlU2Vzc2lvbiIsInQiLCJzZXRTZXNzaW9uQ29va2llT2JqZWN0IiwicHJvY2Vzc2luZ0JhY2t1cCIsInByb2Nlc3NCYWNrdXBFdmVudHMiLCJfbG9nZ2VyJDEiLCJEZXZpY2VNYW5hZ2VyIiwiZ2V0R3VpZCIsImd1aWQiLCJlcnJvciIsIkRBVEFfTk9UX1NFTlRfVEVYVCIsIkNMRVZFUlRBUF9FUlJPUl9QUkVGSVgiLCJFTUJFRF9FUlJPUiIsIkVWRU5UX0VSUk9SIiwiR0VOREVSX0VSUk9SIiwiRU1QTE9ZRURfRVJST1IiLCJNQVJSSUVEX0VSUk9SIiwiRURVQ0FUSU9OX0VSUk9SIiwiQUdFX0VSUk9SIiwiRE9CX0VSUk9SIiwiRU5VTV9GT1JNQVRfRVJST1IiLCJQSE9ORV9GT1JNQVRfRVJST1IiLCJfZ2xvYmFsQ2hhcmdlZElkIiwiaXNFdmVudFN0cnVjdHVyZUZsYXQiLCJldmVudE9iaiIsIkFycmF5IiwiaXNBcnJheSIsImlzQ2hhcmdlZEV2ZW50U3RydWN0dXJlVmFsaWQiLCJjaGFyZ2VkT2JqIiwiaXRlbUtleSIsImNoYXJnZWRJZCIsIl9sb2dnZXIkMiIsIl9vbGRWYWx1ZXMiLCJfcmVxdWVzdCQxIiwiX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlIiwiX3Byb2Nlc3NFdmVudEFycmF5IiwiRXZlbnRIYW5kbGVyIiwidmFsdWVzIiwiaXNQZXJzb25hbGlzYXRpb25BY3RpdmUiLCJzdXBlciIsIl9wcm9jZXNzRXZlbnRBcnJheTIiLCJfbGVuIiwiZXZlbnRzQXJyIiwiX2tleSIsIl9wcm9jZXNzT2xkVmFsdWVzIiwiZ2V0RGV0YWlscyIsImV2dE5hbWUiLCJldnRPYmoiLCJyZXNwT2JqIiwiZmlyc3RUaW1lIiwibGFzdFRpbWUiLCJjb3VudCIsImV2ZW50TmFtZSIsInNoaWZ0IiwiaW5jbHVkZXMiLCJldnREYXRhIiwidW5zaGlmdCIsInByb2Nlc3NFdmVudCIsImdldFVSTFBhcmFtcyIsInVybCIsInVybFBhcmFtcyIsInVyaSIsIm1hdGNoIiwicGwiLCJzZWFyY2giLCJkZWNvZGUiLCJyZXBsYWNlbWVudCIsImFkZFRvVVJMIiwidiIsImdldEhvc3ROYW1lIiwiY29tcHJlc3NEYXRhIiwiZGF0YU9iamVjdCIsImNvbXByZXNzVG9CYXNlNjQiLCJfa2V5U3RyIiwiaSIsImZyb21DaGFyQ29kZSIsImdldEtleVN0ciIsImNocjEiLCJjaHIyIiwiY2hyMyIsImVuYzEiLCJlbmMyIiwiZW5jMyIsImVuYzQiLCJvdXRwdXQiLCJ1bmNvbXByZXNzZWQiLCJpaSIsImNvbnRleHRfZGljdGlvbmFyeSIsImNvbnRleHRfZGljdGlvbmFyeVRvQ3JlYXRlIiwiY29udGV4dF9jIiwiY29udGV4dF93YyIsImNvbnRleHRfdyIsImNvbnRleHRfZW5sYXJnZUluIiwiY29udGV4dF9kaWN0U2l6ZSIsImNvbnRleHRfbnVtQml0cyIsImNvbnRleHRfZGF0YV9zdHJpbmciLCJjb250ZXh0X2RhdGFfdmFsIiwiY29udGV4dF9kYXRhX3Bvc2l0aW9uIiwiZiIsImNoYXJDb2RlQXQiLCJwb3ciLCJjb21wcmVzcyIsIk5hTiIsIl9maXJlUmVxdWVzdCIsIl9kcm9wUmVxdWVzdER1ZVRvT3B0T3V0IiwiX2FkZFVzZUlQVG9SZXF1ZXN0IiwiX2FkZEFSUFRvUmVxdWVzdCIsIlJlcXVlc3REaXNwYXRjaGVyIiwibmV0d29ya1JldHJ5Q291bnQiLCJtaW5EZWxheUZyZXF1ZW5jeSIsInNraXBBUlAiLCJzZW5kT1VMRmxhZyIsImdldERlbGF5RnJlcXVlbmN5IiwiYWNjb3VudCIsInJhbmRvbURlbGF5IiwicmFuZG9tIiwidHJpZXMiLCJfd2luZG93JGNsZXZlcnRhcCIsIl93aW5kb3ckd2l6cm9ja2V0Iiwic2V0VGltZW91dCIsImNsZXZlcnRhcCIsIndpenJvY2tldCIsInBsdWdpbiIsImN0Q2JTY3JpcHRzIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJhc3luYyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiYXBwZW5kQ2hpbGQiLCJzbGljZSIsInBhZ2VMb2FkVXJsIiwidXNlSVAiLCJza2lwUmVzQVJQIiwiX2FycCIsImdldENhbXBhaWduT2JqZWN0IiwiZmluYWxjYW1wT2JqIiwiY2FtcE9iaiIsIndwIiwic2F2ZUNhbXBhaWduT2JqZWN0IiwiY2FtcGFpZ25PYmoiLCJuZXdPYmoiLCJzZXRDYW1wYWlnbk9iamVjdEZvckd1aWQiLCJndWlkQ2FtcE9iaiIsImZpbmFsQ2FtcE9iaiIsImtleXMiLCJmb3JFYWNoIiwiY2FtcEtleU9iaiIsImdsb2JhbE9iaiIsImRhaWx5T2JqIiwiY2FtcGFpZ25JZEFycmF5IiwicmVzdWx0T2JqIiwiZGFpbHlDIiwidG90YWxDIiwiY2FtcGFpZ25JZCIsImNvbnNvbGUiLCJnZXRDYW1wYWlnbk9iakZvckxjIiwic3RvcmFnZVZhbHVlIiwiZGVjb2RlZFZhbHVlIiwicGFyc2VkVmFsdWUiLCJyZXN1bHRPYmpXUCIsInJlc3VsdE9ialdJIiwid2kiLCJ0b2RheUN3cCIsInRvZGF5Q3dpIiwidGMiLCJ3bXAiLCJ3aW1wIiwidGxjIiwid2l0bGMiLCJpc1Byb2ZpbGVWYWxpZCIsInByb2ZpbGVPYmoiLCJ2YWxpZCIsInByb2ZpbGVLZXkiLCJwcm9maWxlVmFsIiwiQWdlIiwiUGhvbmUiLCJwcm9jZXNzRkJVc2VyT2JqIiwidXNlciIsInByb2ZpbGVEYXRhIiwiTmFtZSIsIkZCSUQiLCJnZW5kZXIiLCJHZW5kZXIiLCJyZWxhdGlvbnNoaXBfc3RhdHVzIiwiTWFycmllZCIsImVkdSIsImVkdUFyciIsImNvbGxlZ2UiLCJoaWdoc2Nob29sIiwidHlwZSIsImdldEhpZ2hlc3RFZHVjYXRpb24iLCJlZHVjYXRpb24iLCJFZHVjYXRpb24iLCJ3b3JrIiwiRW1wbG95ZWQiLCJlbWFpbCIsIkVtYWlsIiwiYmlydGhkYXkiLCJtbWRkeXkiLCJET0IiLCJwcm9jZXNzR1BsdXNVc2VyT2JqIiwiX3JlZjIiLCJkaXNwbGF5TmFtZSIsIkdQSUQiLCJpbWFnZSIsImlzRGVmYXVsdCIsIlBob3RvIiwiZW1haWxzIiwiZW1haWxJZHgiLCJlbWFpbE9iaiIsIm9yZ2FuaXphdGlvbnMiLCJ5eXl5bW1kZCIsInJlbGF0aW9uc2hpcFN0YXR1cyIsImFkZFRvTG9jYWxQcm9maWxlTWFwIiwib3ZlcnJpZGUiLCJfY3VzdG9tIiwiY2xvc2VJZnJhbWUiLCJkaXZJZElnbm9yZWQiLCJzZXNzaW9uQ2FtcGFpZ25PYmoiLCJkaXZJZCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJkaXNwbGF5IiwiX2xvZ2dlciQzIiwiX3JlcXVlc3QkMiIsIl9hY2NvdW50IiwiX29sZFZhbHVlcyQxIiwiX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDEiLCJfcHJvY2Vzc1Byb2ZpbGVBcnJheSIsIlByb2ZpbGVIYW5kbGVyIiwiX3Byb2Nlc3NQcm9maWxlQXJyYXkyIiwicHJvZmlsZXNBcnIiLCJnZXRBdHRyaWJ1dGUiLCJwcm9wTmFtZSIsIl9oYW5kbGVJbmNyZW1lbnREZWNyZW1lbnRWYWx1ZSIsImNvbW1hbmQiLCJfJGN0JGdsb2JhbFByb2ZpbGVNYXAiLCJ0eiIsInByb2ZpbGUiLCJhZGRTeXN0ZW1EYXRhVG9PYmplY3QiLCJhZGRGbGFncyIsImNvbXByZXNzZWREYXRhIiwic2F2ZUFuZEZpcmVSZXF1ZXN0IiwiX2hhbmRsZU11bHRpVmFsdWVTZXQiLCJhcnJheVZhbCIsImFycmF5IiwidG9Mb3dlckNhc2UiLCJfU3RvcmFnZU1hbmFnZXIkcmVhZEYiLCJzZW5kTXVsdGlWYWx1ZURhdGEiLCJfaGFuZGxlTXVsdGlWYWx1ZUFkZCIsInByb3BLZXkiLCJwcm9wVmFsIiwiX2hhbmRsZU11bHRpVmFsdWVSZW1vdmUiLCJfJGN0JGdsb2JhbFByb2ZpbGVNYXAyIiwiX2hhbmRsZU11bHRpVmFsdWVEZWxldGUiLCJfJGN0JGdsb2JhbFByb2ZpbGVNYXAzIiwicHJvZmlsZUFyciIsIm91dGVyT2JqIiwiU2l0ZSIsIkZhY2Vib29rIiwiRmJQcm9maWxlT2JqIiwiR1BsdXNQcm9maWxlT2JqIiwiX3JlcXVlc3QkMyIsIl9sb2dnZXIkNCIsIl9hY2NvdW50JDEiLCJfc2Vzc2lvbiQxIiwiX29sZFZhbHVlcyQyIiwiX2RldmljZSQxIiwiX3Byb2Nlc3NPVUwiLCJfaGFuZGxlQ29va2llRnJvbUNhY2hlIiwiX2RlbGV0ZVVzZXIiLCJfcHJvY2Vzc0xvZ2luQXJyYXkiLCJVc2VyTG9naW5IYW5kbGVyIiwiX3Byb2Nlc3NMb2dpbkFycmF5MiIsIl9kZWxldGVVc2VyMiIsIl9oYW5kbGVDb29raWVGcm9tQ2FjaGUyIiwiX3Byb2Nlc3NPVUwyIiwiY2xlYXIiLCJhZGRUb0siLCJpZHMiLCJnIiwia0lkIiwiYW5vbnltb3VzVXNlciIsImZvdW5kSW5DYWNoZSIsImdGcm9tQ2FjaGUiLCJJZGVudGl0eSIsImNvb2tpZU5hbWUiLCJsb2dpbkFyciIsInBvcCIsInNldEluc3RhbnREZWxldGVGbGFnSW5LIiwiQ1RXZWJQZXJzb25hbGlzYXRpb25CYW5uZXIiLCJIVE1MRWxlbWVudCIsIl9kZXRhaWxzIiwic2hhZG93IiwiYXR0YWNoU2hhZG93IiwibW9kZSIsImRldGFpbHMiLCJyZW5kZXJCYW5uZXIiLCJpbm5lckhUTUwiLCJnZXRCYW5uZXJDb250ZW50IiwidHJhY2tDbGljayIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbkNsaWNrVXJsIiwib25DbGljayIsIm9wZW4iLCJwYXJlbnQiLCJocmVmIiwicmVuZGVyTm90aWZpY2F0aW9uQ2xpY2tlZCIsIm1zZ0lkIiwicGl2b3RJZCIsInJlbmRlck5vdGlmaWNhdGlvblZpZXdlZCIsImRpdkhlaWdodCIsImNzcyIsImRlc2t0b3BJbWFnZVVSTCIsIm1vYmlsZUltYWdlVVJMIiwiaHRtbCIsIkNUV2ViUGVyc29uYWxpc2F0aW9uQ2Fyb3VzZWwiLCJfdGFyZ2V0IiwiX2Nhcm91c2VsIiwic2xpZGVzIiwicHJldmlvdXNseVNlbGVjdGVkSXRlbSIsInNlbGVjdGVkSXRlbSIsImF1dG9TbGlkZSIsInN0b3BBdXRvU2xpZGVUaW1lb3V0IiwiY3VzdG9tRWxlbWVudHMiLCJ0YXJnZXQiLCJyZW5kZXJDYXJvdXNlbCIsImdldFN0eWxlcyIsImNhcm91c2VsIiwiZ2V0Q2Fyb3VzZWxDb250ZW50Iiwic2hvd05hdkJ0bnMiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJuYXZCdG5zSHRtbCIsInNob3dOYXZBcnJvd3MiLCJsZWZ0TmF2QXJyb3dIdG1sIiwicmlnaHROYXZBcnJvd0h0bWwiLCJzZXR1cENsaWNrIiwidXBkYXRlU2VsZWN0ZWRJdGVtIiwic3RhcnRBdXRvU2xpZGUiLCJzZXR1cE9uSG92ZXIiLCJ3enJrX2lkIiwid3pya19waXZvdCIsImV2ZW50IiwiZXZlbnRJRCIsInN0YXJ0c1dpdGgiLCJzZWxlY3RlZCIsImVuZHNXaXRoIiwiZ29Ub05leHQiLCJnb1RvUHJldiIsInd6cmtfc2xpZGVObyIsImNsZWFySW50ZXJ2YWwiLCJjbGVhclRpbWVvdXQiLCJkZXRhaWwiLCJiYW5uZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJfdGhpcyR0YXJnZXQiLCJfdGhpcyR0YXJnZXQkZGlzcGxheSIsIm5hdkJ0bnNDc3MiLCJuYXZBcnJvd3NDc3MiLCJwcmV2SXRlbSIsInByZXZCdXR0b24iLCJyZW1vdmUiLCJidXR0b24iLCJzZXRJbnRlcnZhbCIsInNsaWRlclRpbWUiLCJnb1RvIiwicHJldiIsImN1ciIsIkNUV2ViUG9wdXBJbWFnZU9ubHkiLCJwb3B1cCIsImNvbnRhaW5lciIsInJlc2l6ZU9ic2VydmVyIiwicmVuZGVySW1hZ2VPbmx5UG9wdXAiLCJzZXNzaW9uSWQiLCJnZXRJbWFnZU9ubHlQb3B1cENvbnRlbnQiLCJzaGFkb3dSb290IiwiY2xvc2VJY29uIiwidXBkYXRlSW1hZ2VBbmRDb250YWluZXJXaWR0aCIsIlJlc2l6ZU9ic2VydmVyIiwiaGFuZGxlUmVzaXplIiwib2JzZXJ2ZSIsInVub2JzZXJ2ZSIsIndpZHRoIiwiZ2V0UmVuZGVyZWRJbWFnZVdpZHRoIiwic2V0UHJvcGVydHkiLCJtc2dDb250ZW50IiwidmlzaWJpbGl0eSIsImltZyIsInJhdGlvIiwibmF0dXJhbFdpZHRoIiwibmF0dXJhbEhlaWdodCIsImhlaWdodCIsIk1lc3NhZ2UiLCJjb25maWciLCJtZXNzYWdlIiwid3JhcHBlciIsInNuYWNrQmFyIiwicmVuZGVyTWVzc2FnZSIsImNyZWF0ZUVsIiwicGFydCIsIl9lbCIsIm1zZyIsInRlbXBsYXRlVHlwZSIsInByZXBhcmVCYXNpY01lc3NhZ2UiLCJ0aW1lU3RhbXAiLCJkZXRlcm1pbmVUaW1lU3RhbXBUZXh0Iiwidmlld2VkIiwidW5yZWFkTWFya2VyIiwiaW1hZ2VVcmwiLCJpbWFnZUNvbnRhaW5lciIsImFkZEltYWdlIiwiaWNvblRpdGxlRGVzY1dyYXBwZXIiLCJpY29uVXJsIiwiaWNvbkNvbnRhaW5lciIsInRpdGxlRGVzY1dyYXBwZXIiLCJ0aXRsZSIsImlubmVyVGV4dCIsImRlc2NyaXB0aW9uIiwiYnV0dG9ucyIsImJ1dHRvbnNDb250YWluZXIiLCJhZGRCdXR0b25zIiwiaGFzQ29weUFjdGlvbiIsImIiLCJ0ZXh0IiwiY3NzVGV4dCIsImFjdGlvbiIsImFkZFNuYWNrYmFyIiwiZ3JlZW5UaWNrU3ZnIiwiY2xpcGJvYXJkTXNnIiwicmFpc2VDbGlja2VkRXZlbnQiLCJwYXRoIiwiaXNQcmV2aWV3IiwicmFpc2VDbGlja2VkRm9yQmFzaWNUZW1wbGF0ZXMiLCJwYXlsb2FkIiwidGFnTmFtZSIsImt2Iiwid3pya19jMmEiLCJvcGVuVXJsSW5OZXdUYWIiLCJmb2N1cyIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsImNsaXBib2FyZFRleHQiLCJsb2ciLCJJbmJveCIsImlzSW5ib3hPcGVuIiwiaXNJbmJveEZyb21GbHV0dGVyIiwic2VsZWN0ZWRDYXRlZ29yeSIsInVudmlld2VkTWVzc2FnZXMiLCJ1bnZpZXdlZENvdW50ZXIiLCJpbmJveENvbmZpZ0ZvclByZXZpZXciLCJpbmJveFNlbGVjdG9yIiwiZW1wdHlJbmJveE1zZyIsImluYm94Q2FyZCIsInVudmlld2VkQmFkZ2UiLCJvYnNlcnZlciIsInNlbGVjdGVkQ2F0ZWdvcnlSZWYiLCJhZGRDbGlja0xpc3RlbmVyT25Eb2N1bWVudCIsImNvbXBvc2VkUGF0aCIsInRvZ2dsZUluYm94IiwicHJldkNhdGVnb3J5UmVmIiwidXBkYXRlQWN0aXZlQ2F0ZWdvcnkiLCJfcGF0aCIsImZpbHRlciIsInAiLCJfcCRpZCIsImNvbnRhaW5zIiwic2V0QmFkZ2VTdHlsZSIsIm1zZ0NvdW50IiwiaW5jb21pbmdNZXNzYWdlcyIsIm1zZ3MiLCJ1cGRhdGVJbmJveE1lc3NhZ2VzIiwiaW5jb21pbmdNZXNzYWdlc0ZvclByZXZpZXciLCJwcmV2aWV3TXNncyIsIm5vdyIsImJ1aWxkVUlGb3JNZXNzYWdlcyIsInVwZGF0ZVVudmlld2VkQmFkZ2VDb3VudGVyIiwiY29ubmVjdGVkQ2FsbGJhY2siLCJpbml0Iiwic3R5bGVzIiwibm90aWZpY2F0aW9uc0JhZGdlIiwiYWRkVW52aWV3ZWRCYWRnZSIsImNyZWF0ZWluYm94IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNhdGVnb3JpZXMiLCJnZXRJbmJveFN0eWxlcyIsImFkZE1zZ3NUb0luYm94RnJvbUxTIiwibWVzc2FnZXMiLCJkZWxldGVFeHBpcmVkQW5kR2V0VW5leHBpcmVkTXNncyIsIm1zZ0lkcyIsImRlbGV0ZU1zZ3NGcm9tVUkiLCJnZXRJbmJveE1lc3NhZ2VzIiwid3pya190dGwiLCJlbCIsInNvcnQiLCJhIiwicmVkdWNlIiwiYWNjIiwic2F2ZUluYm94TWVzc2FnZXMiLCJpbmJveE1zZ3MiLCJpbmNvbWluZ01zZ3MiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ0ZXh0Q29sb3IiLCJib2R5IiwidXBkYXRlVW52aWV3ZWRCYWRnZVBvc2l0aW9uIiwidG9wIiwicmlnaHQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0IiwiaGVhZGVyIiwiaGVhZGVyVGl0bGUiLCJjcmVhdGVDYXRlZ29yaWVzIiwib3B0aW9ucyIsInJvb3RNYXJnaW4iLCJ0aHJlc2hvbGQiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJpZXMiLCJoYW5kbGVNZXNzYWdlVmlld2VkIiwiY2F0ZWdvcmllc0NvbnRhaW5lciIsImxlZnRBcnJvdyIsImFycm93U3ZnIiwiY2hpbGRyZW4iLCJzY3JvbGxCeSIsImNhdGVnb3JpZXNXcmFwcGVyIiwiY2F0ZWdvcnkiLCJyaWdodEFycm93IiwiZmlyc3RDYXRlZ29yeSIsImxhc3RDYXRlZ29yeSIsImNhdGVnb3J5T2JzZXJ2ZXJDYiIsImludGVyc2VjdGlvblJhdGlvIiwiaGlkZSIsImFjdGl2ZUNhdGVnb3J5Iiwic2Nyb2xsVG9wIiwiY291bnRlciIsImNoaWxkTm9kZXMiLCJfdGhpcyRjb25maWckbWF4TXNnc0kiLCJ1cGRhdGVUU0ZvclJlbmRlcmVkTXNncyIsIm1heE1zZ3NJbkluYm94IiwiZmlyc3RDaGlsZCIsInNvcnRlZE1zZ3MiLCJtYXAiLCJ0YWdzIiwiaW5zZXJ0QmVmb3JlIiwibXNnVG90YWxDb3VudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjdEluYm94TXNncyIsImhhc01lc3NhZ2VzIiwicmFpc2VWaWV3ZWRFdmVudCIsImlzSW50ZXJzZWN0aW5nIiwidXBkYXRlTWVzc2FnZUluTFMiLCJyZWN0IiwiekluZGV4Iiwic2Nyb2xsTGVmdCIsInNjcm9sbFdpZHRoIiwic2V0SW5ib3hQb3NpdGlvbiIsIndpbmRvd1dpZHRoIiwib3V0ZXJXaWR0aCIsImN1c3RvbUluYm94U3R5bGVzIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJib3R0b20iLCJyZXMiLCJnZXRJbmJveFBvc2l0aW9uIiwiY2xpZW50SGVpZ2h0IiwiY2xpZW50V2lkdGgiLCJ4UG9zIiwieVBvcyIsInRzIiwiY2F0ZWdvcmllc0hlaWdodCIsInBhbmVsQmFja2dyb3VuZENvbG9yIiwicGFuZWxCb3JkZXJDb2xvciIsImhlYWRlckJhY2tncm91bmRDb2xvciIsImhlYWRlclRpdGxlQ29sb3IiLCJ0aXRsZUNvbG9yIiwiY2xvc2VJY29uQ29sb3IiLCJjYXRlZ29yaWVzVGFiQ29sb3IiLCJ0YWJDb2xvciIsImNhdGVnb3JpZXNUaXRsZUNvbG9yIiwic2VsZWN0ZWRDYXRlZ29yeVRhYkNvbG9yIiwic2VsZWN0ZWRUYWIiLCJzZWxlY3RlZENhdGVnb3J5VGl0bGVDb2xvciIsImhlYWRlckNhdGVnb3J5SGVpZ2h0IiwiYm9yZGVyQ29sb3IiLCJjYXRlZ29yaWVzQm9yZGVyQ29sb3IiLCJzZWxlY3RlZENhdGVnb3J5Qm9yZGVyQ29sb3IiLCJpbmJveFN0eWxlcyIsImluYm94Q29udGFpbmVyU3R5bGVzIiwiY2FyZFN0eWxlcyIsImNhcmRzIiwiZGVzY3JpcHRpb25Db2xvciIsImJ1dHRvbkNvbG9yIiwiYnV0dG9uVGV4dENvbG9yIiwidW5yZWFkTWFya2VyQ29sb3IiLCJtZXNzYWdlU3R5bGVzIiwicHJvY2Vzc0luYm94Tm90aWZzIiwiaW5ib3hfcHJldmlldyIsImluYm94X25vdGlmcyIsImFkZFdlYkluYm94IiwiY2hlY2tBbmRSZWdpc3RlcldlYkluYm94RWxlbWVudHMiLCJnZXRBbmRNaWdyYXRlSW5ib3hNZXNzYWdlcyIsImd1ZEluYm94T2JqIiwiaW5pdGlhbGl6ZVdlYkluYm94IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZWFkeVN0YXRlIiwib25Mb2FkZWQiLCJpbmJveEhlaWdodCIsImluYm94V2lkdGgiLCJob3Jpem9udGFsU2Nyb2xsIiwic2Nyb2xsaW5nRWxlbWVudCIsInZlcnRpY2FsU2Nyb2xsIiwiaW5uZXJXaWR0aCIsIndpbmRvd0hlaWdodCIsImlubmVySGVpZ2h0Iiwic2VsZWN0b3JSZWN0Iiwic2VsZWN0b3JYIiwieCIsInNlbGVjdG9yWSIsInNlbGVjdG9yTGVmdCIsInNlbGVjdG9yUmlnaHQiLCJzZWxlY3RvclRvcCIsInNlbGVjdG9yQm90dG9tIiwic2VsZWN0b3JIZWlnaHQiLCJzZWxlY3RvckNlbnRlciIsImluYm94T25TaWRlIiwicGFkZGluZyIsImF2YWlsYWJsZUhlaWdodCIsImluYm94UmlnaHQiLCJpbmJveExlZnQiLCJkaWZmIiwiaGFzV2ViSW5ib3hTZXR0aW5nc0luTFMiLCJDU1NfUEFUSCIsImhhbmRsZU1lc3NhZ2VFdmVudCIsIl9ldmVudCRkYXRhJHZhcmlhbnQiLCJfZXZlbnQkZGF0YSRkZXRhaWxzIiwiaW5pdGlhbGlzZUNUQnVpbGRlciIsInZhcmlhbnQiLCJyZW5kZXJWaXN1YWxCdWlsZGVyIiwib25Db250ZW50TG9hZCIsImNvbnRlbnRMb2FkZWQiLCJsaW5rIiwicG9zaXRpb24iLCJvdmVybGF5UGF0aCIsInNjcmlwdCIsInNyYyIsIm9ubG9hZCIsIk92ZXJsYXkiLCJFcnJvciIsIm9uZXJyb3IiLCJoZWFkIiwibG9hZE92ZXJsYXlTY3JpcHQiLCJ0aGVuIiwiY2F0Y2giLCJyZWwiLCJraXRJZCIsInNjcmlwdFRpbWVvdXQiLCJkb2NFbGVtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwidGltZW91dElkIiwiY2xhc3NOYW1lIiwidHlwZUtpdFNjcmlwdCIsInNjcmlwdExvYWRlZCIsImZpcnN0U2NyaXB0Iiwic2NyaXB0UmVhZHlTdGF0ZSIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIlR5cGVraXQiLCJsb2FkIiwibG9hZFR5cGVLaXQiLCJ0YXJnZXRpbmdNc2dKc29uIiwic2l0ZVVybCIsInNlbGVjdG9ycyIsImVsZW1lbnREaXNwbGF5ZWQiLCJzZWxlY3RvciIsImVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwib3V0ZXJIVE1MIiwiZGlzcGF0Y2hKc29uRGF0YSIsImludGVydmFsSWQiLCJyZXRyeUVsZW1lbnQiLCJpbmFPYmoiLCJqc29uIiwia3ZQYWlyc0V2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiX3RyIiwiX3dpekNvdW50ZXIiLCJkb0NhbXBIb3VzZUtlZXBpbmciLCJpbmNyQ291bnQiLCJleGNsdWRlRnJvbUZyZXFDYXBzIiwiY3VycmVudENvdW50IiwidG90YWxDb3VudCIsInNlc3Npb25TdG9yYWdlIiwiY2FtcFR5cGVPYmoiLCJ3dGFyZ2V0X3R5cGUiLCJ3bWMiLCJ3aW1jIiwiY2FtcGFpZ25TZXNzaW9uTGltaXQiLCJjYW1wYWlnbkRhaWx5TGltaXQiLCJjYW1wYWlnblRvdGFsTGltaXQiLCJ0b3RhbERhaWx5TGltaXQiLCJ0b3RhbFNlc3Npb25MaW1pdCIsInRvdGFsSW5ib3hTZXNzaW9uTGltaXQiLCJlZmMiLCJwYXJzZUludCIsIm1kYyIsInRkYyIsImNhbXBhaWduU2Vzc2lvbkNvdW50IiwidG90YWxTZXNzaW9uQ291bnQiLCJjYW1wYWlnbkRhaWx5Q291bnQiLCJ0b3RhbERhaWx5Q291bnQiLCJjYW1wYWlnblRvdGFsQ291bnQiLCJkZWxheSIsImNhbXBLZXkiLCJuZXdDYW1wT2JqIiwiZ2V0Q29va2llUGFyYW1zIiwic2Nvb2tpZU9iaiIsImludm9rZUV4dGVybmFsSnMiLCJqc0Z1bmMiLCJmdW5jIiwic2V0dXBDbGlja1VybCIsImNvbnRlbnREaXYiLCJpc0xlZ2FjeSIsImluY3JlbWVudEltcHJlc3Npb24iLCJjdGFFbGVtZW50IiwianNDVEFFbGVtZW50cyIsInByZXZpZXciLCJvbmNsaWNrIiwiZmlyZVJlcXVlc3QiLCJzZXR1cENsaWNrRXZlbnQiLCJyZW5kZXJQZXJzb25hbGlzYXRpb25CYW5uZXIiLCJfdGFyZ2V0aW5nTXNnSnNvbiRkaXMiLCJkaXZTZWxlY3RvciIsImJhbm5lckVsIiwiY29udGFpbmVyRWwiLCJyZW5kZXJQZXJzb25hbGlzYXRpb25DYXJvdXNlbCIsIl90YXJnZXRpbmdNc2dKc29uJGRpczIiLCJyZW5kZXJGb290ZXJOb3RpZmljYXRpb24iLCJkaXNwbGF5T2JqIiwibGF5b3V0Iiwic2hvd0V4aXRJbnRlbnQiLCJtc2dEaXYiLCJwb3B1cEltYWdlT25seSIsInJlbmRlclBvcFVwSW1hZ2VPbmx5IiwiaXNCYW5uZXIiLCJ2aWV3SGVpZ2h0Iiwidmlld1dpZHRoIiwibGVnYWN5IiwiaUZyYW1lU3R5bGUiLCJjb250ZW50SGVpZ2h0IiwiYm90dG9tUG9zaXRpb24iLCJ3aWR0aFBlcmN0IiwidXNlckFnZW50IiwicHJvdG8iLCJpZnJhbWUiLCJib3JkZXJSYWRpdXMiLCJiciIsImZyYW1lYm9yZGVyIiwibWFyZ2luaGVpZ2h0IiwibWFyZ2lud2lkdGgiLCJzY3JvbGxpbmciLCJwb2ludGVyQ3NzIiwic2FuZGJveCIsImJnQ29sb3IiLCJidG5CZyIsImxlZnRUZCIsImJ0Q29sb3IiLCJ0aGVtZSIsInRpdGxlVGV4dCIsImRlc2NyaXB0aW9uVGV4dCIsImltYWdlVGQiLCJjbG9zZUNhbXBhaWduIiwiRXZlbnQiLCJhcHBlbmRTY3JpcHRGb3JDdXN0b21FdmVudCIsInNyY2RvYyIsImFkanVzdElGcmFtZUhlaWdodCIsImNvbnRlbnREb2N1bWVudCIsInNjcm9sbEhlaWdodCIsIm1hcmdpbiIsInVhIiwiaW5Eb2MiLCJjb250ZW50V2luZG93IiwiX3RpbWVyIiwiX2NhbGxCYWNrQ2FsbGVkIiwic2hvd0Zvb3Rlck5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbkNhbGxiYWNrIiwicmFpc2VOb3RpZmljYXRpb25DbGlja2VkIiwicmFpc2VOb3RpZmljYXRpb25WaWV3ZWQiLCJwb3B1cEN1cnJlbnRXenJrSWQiLCJwb3B1cENhbGxiYWNrcyIsInBvcHVwQ2FsbGJhY2siLCJtc2dDVGt2Iiwid3pya1ByZWZpeEtleSIsInd6cmtKc29uIiwicmFpc2VQb3B1cE5vdGlmaWNhdGlvbkNsaWNrZWQiLCJub3RpZmljYXRpb25EYXRhIiwiZXZlbnREYXRhIiwid3pya1ByZWZpeE9iaiIsImV4aXRpbnRlbnRPYmoiLCJ0YXJnZXRPYmoiLCJjbGllbnRZIiwib3BhY2l0eURpdiIsIm9wYWNpdHkiLCJyZ2JhQ29sb3IiLCJjdGFUZXh0IiwicHJvY2Vzc05hdGl2ZURpc3BsYXlBcnIiLCJhcnJJbkFwcE5vdGlmcyIsImVsZW1lbnRJZCIsImluYXBwX25vdGlmcyIsInRhcmdldE5vdGlmIiwib25tb3VzZWxlYXZlIiwiYWRkTG9hZExpc3RlbmVyIiwiaGFuZGxlSW5ib3hOb3RpZmljYXRpb25zIiwibXNnQXJyIiwid2ViSW5ib3hTZXR0aW5nIiwiX3NldHRpbmdzIiwicHJvY2Vzc1dlYkluYm94U2V0dGluZ3MiLCJ2YXJzIiwibWVyZ2VWYXJpYWJsZXMiLCJzdGFsZURhdGFVcGRhdGUiLCJzdGFsZWRhdGEiLCJjYW1wVHlwZSIsImV2cHIiLCJldmVudHNNYXAiLCJldmVudHMiLCJwcm9maWxlTWFwIiwic3luY0V4cGlyeSIsImV4cGlyZXNfaW4iLCJuZXdFdnRNYXAiLCJvbGRFdnRPYmoiLCJuZXdFdnRPYmoiLCJtZXJnZUV2ZW50TWFwIiwiYXJwIiwianNvbk1hcCIsImlzT1VMQVJQIiwiYXJwRnJvbVN0b3JhZ2UiLCJpbmFwcF9zdGFsZSIsImluYm94X3N0YWxlIiwiX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDIiLCJVc2VyIiwiZ2V0VG90YWxWaXNpdHMiLCJ2aXNpdENvdW50IiwiZ2V0TGFzdFZpc2l0IiwicHJldlNlc3Npb24iLCJsb2dMZXZlbHMiLCJfbG9nTGV2ZWwiLCJfbG9nIiwiX2lzTGVnYWN5RGVidWciLCJMb2dnZXIiLCJsb2dMZXZlbCIsIl9nZXRfaXNMZWdhY3lEZWJ1ZyIsIl9sb2cyIiwid3pya0Vycm9yIiwiaW5mbyIsImRlYnVnUEUiLCJjb2RlIiwibGV2ZWwiLCJXWlJLX0QiLCJfbG9nZ2VyJDUiLCJfc2Vzc2lvbklkIiwiX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDMiLCJTZXNzaW9uTWFuYWdlciIsInNjb29raWVTdHIiLCJTQ09PS0lFX0VYUF9USU1FX0lOX1NFQ1MiLCJvYmpTdHIiLCJjdXJyZW50U2Vzc2lvbkluTFMiLCJzZXNzaW9uQ291bnQiLCJnZXRUaW1lRWxhcHNlZCIsInNlc3Npb25TdGFydCIsImdldFBhZ2VDb3VudCIsInNlcU5vIiwicmVxdWVzdFRpbWUiLCJfbG9nZ2VyJDYiLCJfYWNjb3VudCQyIiwiX2RldmljZSQyIiwiX3Nlc3Npb24kMiIsIl9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQ0IiwiX2NsZWFyQ29va2llIiwiX2FkZFRvTG9jYWxFdmVudE1hcCIsIlJlcXVlc3RNYW5hZ2VyIiwiX2FkZFRvTG9jYWxFdmVudE1hcDIiLCJiYWNrdXBFdmVudCIsImZpcmVkIiwiaWdub3JlVHJpbSIsInd6cmtfZXJyb3IiLCJwZyIsInByb3RvY29sIiwiYWYiLCJsaWIiLCJyYyIsImxhc3RTeW5jVGltZSIsImV4cGlyeVNlY29uZHMiLCJkc3luYyIsImdpdmVuR1VJRCIsInJlZ2lzdGVyVG9rZW4iLCJwb3N0IiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwicmVzcG9uc2UiLCJvayIsIm5vd1RzIiwiZXZ0RGV0YWlsIiwiX3JlcXVlc3QkNCIsIl9hY2NvdW50JDMiLCJfb2xkVmFsdWVzJDMiLCJfbG9nZ2VyJDciLCJfcHJvY2Vzc1ByaXZhY3lBcnJheSIsIlByaXZhY3kiLCJfcHJvY2Vzc1ByaXZhY3lBcnJheTIiLCJwcml2YWN5QXJyIiwicHJpdmFjeU9iaiIsImN1cnIiLCJvcHRPdXQiLCJzaG91bGRVc2VJUCIsIl9vbGRWYWx1ZXMkNCIsIl9sb2dnZXIkOCIsIl9yZXF1ZXN0JDUiLCJfYWNjb3VudCQ0IiwiX3dpekFsZXJ0SlNQYXRoIiwiX2ZjbVB1YmxpY0tleSIsIl9zZXRVcFdlYlB1c2giLCJfc2V0VXBXZWJQdXNoTm90aWZpY2F0aW9ucyIsIl9zZXRBcHBsaWNhdGlvblNlcnZlcktleSIsIl9zZXRVcFNhZmFyaU5vdGlmaWNhdGlvbnMiLCJfc2V0VXBDaHJvbWVGaXJlZm94Tm90aWZpY2F0aW9ucyIsIl9hZGRXaXpBbGVydEpTIiwiX3JlbW92ZVdpekFsZXJ0SlMiLCJfaGFuZGxlTm90aWZpY2F0aW9uUmVnaXN0cmF0aW9uIiwiTm90aWZpY2F0aW9uSGFuZGxlciIsIl9oYW5kbGVOb3RpZmljYXRpb25SZWdpc3RyYXRpb24yIiwiX3JlbW92ZVdpekFsZXJ0SlMyIiwiX2FkZFdpekFsZXJ0SlMyIiwiX3NldFVwQ2hyb21lRmlyZWZveE5vdGlmaWNhdGlvbnMyIiwiX3NldFVwU2FmYXJpTm90aWZpY2F0aW9uczIiLCJfc2V0QXBwbGljYXRpb25TZXJ2ZXJLZXkyIiwiX3NldFVwV2ViUHVzaE5vdGlmaWNhdGlvbnMyIiwiX3NldFVwV2ViUHVzaDIiLCJkaXNwbGF5QXJncyIsIl9lbmFibGVXZWJQdXNoIiwiZW5hYmxlZCIsImFwcGxpY2F0aW9uU2VydmVyS2V5Iiwic3Vic2NyaXB0aW9uQ2FsbGJhY2siLCJzZXJ2aWNlV29ya2VyUGF0aCIsImFwbnNXZWJQdXNoSWQiLCJhcG5zU2VydmljZVVybCIsInNhZmFyaSIsInB1c2hOb3RpZmljYXRpb24iLCJyZXF1ZXN0UGVybWlzc2lvbiIsInN1YnNjcmlwdGlvbiIsInBlcm1pc3Npb24iLCJzdWJzY3JpcHRpb25EYXRhIiwiZW5kcG9pbnQiLCJkZXZpY2VUb2tlbiIsImJyb3dzZXIiLCJyZWdpc3RyYXRpb25TY29wZSIsInNlcnZpY2VXb3JrZXIiLCJyZWdpc3RlciIsInJlZ2lzdHJhdGlvbiIsIl9fd3pya19hY2NvdW50X2lkIiwic2NvcGUiLCJyZWFkeSIsImdldFJlZ2lzdHJhdGlvbnMiLCJzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uIiwic3Vic2NyaWJlT2JqIiwidXNlclZpc2libGVPbmx5IiwiYmFzZTY0U3RyaW5nIiwiYmFzZTY0IiwicmVwZWF0IiwicmF3RGF0YSIsImF0b2IiLCJwcm9jZXNzZWREYXRhIiwiVWludDhBcnJheSIsInVybEJhc2U2NFRvVWludDhBcnJheSIsInB1c2hNYW5hZ2VyIiwic3Vic2NyaWJlIiwiZ2V0U3Vic2NyaXB0aW9uIiwidW5zdWJzY3JpYmUiLCJzdWNjZXNzZnVsIiwic2NyaXB0VGFnIiwiYm9keVRleHQiLCJva0J1dHRvblRleHQiLCJyZWplY3RCdXR0b25UZXh0Iiwib2tCdXR0b25Db2xvciIsInNraXBEaWFsb2ciLCJhc2tBZ2FpblRpbWVJblNlY29uZHMiLCJva0NhbGxiYWNrIiwicmVqZWN0Q2FsbGJhY2siLCJodHRwc1BvcHVwUGF0aCIsImh0dHBzSWZyYW1lUGF0aCIsImFwbnNXZWJQdXNoU2VydmljZVVybCIsIm5vdGlmT2JqIiwiaXNIVFRQIiwiY2hyb21lQWdlbnQiLCJmaXJlZm94QWdlbnQiLCJzYWZhcmlBZ2VudCIsIk5vdGlmaWNhdGlvbiIsImh0dHBzSWZyYW1lIiwic3RhdGUiLCJmcm9tIiwid3pya1Blcm1pc3Npb25Qb3B1cCIsIndpekFsZXJ0IiwiY29uZmlybUJ1dHRvblRleHQiLCJjb25maXJtQnV0dG9uQ29sb3IiLCJfdmFyaWFibGVTdG9yZSIsIlZhcmlhYmxlIiwiZGVmYXVsdFZhbHVlIiwiaGFkU3RhcnRlZCIsInZhbHVlQ2hhbmdlZENhbGxiYWNrcyIsImdldFZhbHVlIiwiZ2V0ZGVmYXVsdFZhbHVlIiwidHlwZU9mRGVmYXVsdFZhbHVlIiwiZXhpc3RpbmciLCJnZXRWYXJpYWJsZSIsInZhckluc3RhbmNlIiwicmVnaXN0ZXJWYXJpYWJsZSIsInVwZGF0ZSIsIm5ld1ZhbHVlIiwib2xkVmFsdWUiLCJoYXNWYXJzUmVxdWVzdENvbXBsZXRlZCIsInRyaWdnZXJWYWx1ZUNoYW5nZWQiLCJvblZhbHVlQ2hhbmdlZCIsImFkZFZhbHVlQ2hhbmdlZENhbGxiYWNrIiwicmVtb3ZlVmFsdWVDaGFuZ2VkQ2FsbGJhY2siLCJjbGVhclN0YXJ0RmxhZyIsIl9sb2dnZXIkOSIsIl9hY2NvdW50JDUiLCJfcmVxdWVzdCQ2IiwiX2V2ZW50IiwiX3ZhcmlhYmxlcyIsIl9yZW1vdGVWYXJpYWJsZXMiLCJfZmV0Y2hDYWxsYmFjayIsIl92YXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzIiwiX29uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzIiwiX2hhc1ZhcnNSZXF1ZXN0Q29tcGxldGVkIiwiX3J1blZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjayIsIlZhcmlhYmxlU3RvcmUiLCJfcnVuVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrMiIsInN5bmNWYXJpYWJsZXMiLCJvblN5bmNTdWNjZXNzIiwib25TeW5jRmFpbHVyZSIsIm1ldGEiLCJ0ayIsInIiLCJzdGF0dXMiLCJmZXRjaFZhcmlhYmxlcyIsIm9uRmV0Y2hDYWxsYmFjayIsImFkZFZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjayIsImNhbGxiYWNrIiwiYWRkT25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjayIsInJlbW92ZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjayIsInJlbW92ZU9uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2siLCJjYWxsQmFjayIsIl9sb2dnZXIkYSIsIl9hcGkiLCJfb25sb2FkY2FsbGVkIiwiX2RldmljZSQzIiwiX3Nlc3Npb24kMyIsIl9hY2NvdW50JDYiLCJfcmVxdWVzdCQ3IiwiX3ZhcmlhYmxlU3RvcmUkMSIsIl9pc1NwYSIsIl9wcmV2aW91c1VybCIsIl9ib3VuZENoZWNrUGFnZUNoYW5nZWQiLCJfZGlzbWlzc1NwYW1Db250cm9sIiwiX2RlYm91bmNlIiwiX2NoZWNrUGFnZUNoYW5nZWQiLCJfcGluZ1JlcXVlc3QiLCJfaXNQaW5nQ29udGludW91cyIsIl9vdmVycmlkZURTeW5jRmxhZyIsIl9zZW5kTG9jYXRpb25EYXRhIiwiX3Byb2Nlc3NPbGRWYWx1ZXMyIiwib25Vc2VyTG9naW4iLCJwcml2YWN5Iiwibm90aWZpY2F0aW9ucyIsIl9kZWJvdW5jZTIiLCJ0aW1lb3V0IiwiX2NoZWNrUGFnZUNoYW5nZWQyIiwicGFnZUNoYW5nZWQiLCJkZWJvdW5jZWRQYWdlQ2hhbmdlZCIsIl9waW5nUmVxdWVzdDIiLCJfaXNQaW5nQ29udGludW91czIiLCJ3enJrX2QiLCJwaW5nIiwiX292ZXJyaWRlRFN5bmNGbGFnMiIsIl9zZW5kTG9jYXRpb25EYXRhMiIsInNwYSIsImlzU3BhIiwiX2NsZXZlcnRhcCRhY2NvdW50IiwiX2NsZXZlcnRhcCRhY2NvdW50MiIsIl9jbGV2ZXJ0YXAkYWNjb3VudDMiLCJfY2xldmVydGFwJGFjY291bnQ0IiwiX2NsZXZlcnRhcCRhY2NvdW50NSIsImJpbmQiLCJlbmFibGVQZXJzb25hbGl6YXRpb24iLCJzaHBmeVByb3h5UGF0aCIsImxvZ291dCIsImdldENsZXZlclRhcElEIiwiZ2V0QWNjb3VudElEIiwiZ2V0U0NEb21haW4iLCJzZXRMaWJyYXJ5IiwibGliTmFtZSIsImxpYlZlcnNpb24iLCJzZXRTQ1NES1ZlcnNpb24iLCJ2ZXIiLCJzY1NES1ZlcnNpb24iLCJzY3YiLCJnZXRJbmJveE1lc3NhZ2VDb3VudCIsImdldEluYm94TWVzc2FnZVVucmVhZENvdW50IiwiZ2V0QWxsSW5ib3hNZXNzYWdlcyIsImdldFVucmVhZEluYm94TWVzc2FnZXMiLCJnZXRJbmJveE1lc3NhZ2VGb3JJZCIsIm1lc3NhZ2VJZCIsImRlbGV0ZUluYm94TWVzc2FnZSIsIm1hcmtSZWFkSW5ib3hNZXNzYWdlIiwidW5yZWFkTXNnIiwibWFya1JlYWRJbmJveE1lc3NhZ2VzRm9ySWRzIiwibWVzc2FnZUlkcyIsIm1hcmtSZWFkQWxsSW5ib3hNZXNzYWdlIiwiXyRjdCRpbmJveCIsInByb2Nlc3NOb3RpZmljYXRpb25FdmVudCIsImV2ZW50RGV0YWlsIiwic2V0TG9nTGV2ZWwiLCJsIiwiTnVtYmVyIiwiaGFuZGxlSW5jcmVtZW50VmFsdWUiLCJoYW5kbGVEZWNyZW1lbnRWYWx1ZSIsInNldE11bHRpVmFsdWVzRm9yS2V5IiwiYWRkTXVsdGlWYWx1ZUZvcktleSIsImFkZE11bHRpVmFsdWVzRm9yS2V5IiwicmVtb3ZlTXVsdGlWYWx1ZUZvcktleSIsInJlbW92ZU11bHRpVmFsdWVzRm9yS2V5IiwicmVtb3ZlVmFsdWVGb3JLZXkiLCJfaGFuZGxlRW1haWxTdWJzY3JpcHRpb24iLCJyZUVuY29kZWQiLCJmZXRjaEdyb3VwcyIsInVybFBhcmFtc0FzSXMiLCJlbmNvZGVkRW1haWxJZCIsImVuY29kZWRQcm9maWxlUHJvcHMiLCJwYWdlVHlwZSIsInBhZ2VfdHlwZSIsImhhbmRsZUVtYWlsU3Vic2NyaXB0aW9uIiwic2hvd1Bvc2l0aW9uIiwibGF0IiwiY29vcmRzIiwibGF0aXR1ZGUiLCJsbmciLCJsb25naXR1ZGUiLCJMYXRpdHVkZSIsIkxvbmdpdHVkZSIsInNob3dFcnJvciIsIlBFUk1JU1NJT05fREVOSUVEIiwiUE9TSVRJT05fVU5BVkFJTEFCTEUiLCJUSU1FT1VUIiwiVU5LTk9XTl9FUlJPUiIsImdldExvY2F0aW9uIiwiZ2VvbG9jYXRpb24iLCJnZXRDdXJyZW50UG9zaXRpb24iLCJhcGkiLCJlbmFibGVXZWJQdXNoIiwidHIiLCJzZXRFbnVtIiwiZW51bVZhbCIsImlzX29ubG9hZGNhbGxlZCIsInN1YkVtYWlsIiwiZ2V0RW1haWwiLCJ3aXRoR3JvdXBzIiwidW5TdWJFbWFpbCIsInVuc3ViRW1haWxHcm91cHMiLCJlbGVtZW50cyIsImlzVW5zdWJzY3JpYmVkIiwiY2hlY2tlZCIsInNldFN1YnNjcmlwdGlvbkdyb3VwcyIsImdldFN1YnNjcmlwdGlvbkdyb3VwcyIsImNoYW5nZVN1YnNjcmlwdGlvbkdyb3VwcyIsInVwZGF0ZWRHcm91cHMiLCJpc0dsb2JhbFVuc3Vic2NyaWJlIiwic2V0SXNHbG9iYWxVbnN1YnNjcmliZSIsInNldFVwZGF0ZWRDYXRlZ29yeUxvbmciLCIkQ0xUUF9XUiIsIiRXWlJLX1dSIiwicGFyZW50V2luZG93Iiwib3BlbmVyIiwicG9zdE1lc3NhZ2UiLCJjaGVja0J1aWxkZXIiLCJTQ09PS0lFX1BSRUZJWCIsImN1cnJMb2NhdGlvbiIsInd6cmtfZXgiLCJiYWNrdXBJbnRlcnZhbCIsInBnQ291bnQiLCJyZWZlcnJlckRvbWFpbiIsImdldERvbWFpbiIsInJlZmVycmVyIiwibWF4TGVuIiwidXRtU291cmNlIiwidXRtX3NvdXJjZSIsInd6cmtfc291cmNlIiwidXMiLCJ1dG1NZWRpdW0iLCJ1dG1fbWVkaXVtIiwid3pya19tZWRpdW0iLCJ1bSIsInV0bUNhbXBhaWduIiwidXRtX2NhbXBhaWduIiwid3pya19jYW1wYWlnbiIsInVjIiwid20iLCJjcGciLCJzZXRPZmZsaW5lIiwiYXJnIiwiZ2V0U0RLVmVyc2lvbiIsImRlZmluZVZhcmlhYmxlIiwiSEFTSF9VTkRFRklORUQiLCJNQVhfU0FGRV9JTlRFR0VSIiwiYXJnc1RhZyIsImFycmF5VGFnIiwiYm9vbFRhZyIsImRhdGVUYWciLCJlcnJvclRhZyIsImZ1bmNUYWciLCJtYXBUYWciLCJudW1iZXJUYWciLCJvYmplY3RUYWciLCJwcm9taXNlVGFnIiwicmVnZXhwVGFnIiwic2V0VGFnIiwic3RyaW5nVGFnIiwid2Vha01hcFRhZyIsImFycmF5QnVmZmVyVGFnIiwiZGF0YVZpZXdUYWciLCJyZUlzSG9zdEN0b3IiLCJyZUlzVWludCIsInR5cGVkQXJyYXlUYWdzIiwiZnJlZUdsb2JhbCIsImZyZWVTZWxmIiwiRnVuY3Rpb24iLCJmcmVlRXhwb3J0cyIsIm5vZGVUeXBlIiwiZnJlZU1vZHVsZSIsIm1vZHVsZUV4cG9ydHMiLCJmcmVlUHJvY2VzcyIsInByb2Nlc3MiLCJub2RlVXRpbCIsImJpbmRpbmciLCJub2RlSXNUeXBlZEFycmF5IiwiaXNUeXBlZEFycmF5IiwiYXJyYXlTb21lIiwicHJlZGljYXRlIiwibWFwVG9BcnJheSIsInJlc3VsdCIsInNpemUiLCJzZXRUb0FycmF5IiwidWlkIiwidHJhbnNmb3JtIiwiYXJyYXlQcm90byIsImZ1bmNQcm90byIsIm9iamVjdFByb3RvIiwiY29yZUpzRGF0YSIsImZ1bmNUb1N0cmluZyIsIm1hc2tTcmNLZXkiLCJJRV9QUk9UTyIsIm5hdGl2ZU9iamVjdFRvU3RyaW5nIiwicmVJc05hdGl2ZSIsIkJ1ZmZlciIsIlN5bWJvbCIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic3ltVG9TdHJpbmdUYWciLCJ0b1N0cmluZ1RhZyIsIm5hdGl2ZUdldFN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJuYXRpdmVJc0J1ZmZlciIsImlzQnVmZmVyIiwibmF0aXZlS2V5cyIsIkRhdGFWaWV3IiwiZ2V0TmF0aXZlIiwiTWFwIiwiU2V0IiwiV2Vha01hcCIsIm5hdGl2ZUNyZWF0ZSIsImRhdGFWaWV3Q3RvclN0cmluZyIsInRvU291cmNlIiwibWFwQ3RvclN0cmluZyIsInByb21pc2VDdG9yU3RyaW5nIiwic2V0Q3RvclN0cmluZyIsIndlYWtNYXBDdG9yU3RyaW5nIiwic3ltYm9sUHJvdG8iLCJzeW1ib2xWYWx1ZU9mIiwidmFsdWVPZiIsIkhhc2giLCJMaXN0Q2FjaGUiLCJNYXBDYWNoZSIsIlNldENhY2hlIiwiX19kYXRhX18iLCJTdGFjayIsImFzc29jSW5kZXhPZiIsImVxIiwiYmFzZUdldFRhZyIsImlzT3duIiwidGFnIiwidW5tYXNrZWQiLCJnZXRSYXdUYWciLCJvYmplY3RUb1N0cmluZyIsImJhc2VJc0FyZ3VtZW50cyIsImlzT2JqZWN0TGlrZSIsImJhc2VJc0VxdWFsIiwib3RoZXIiLCJiaXRtYXNrIiwiY3VzdG9taXplciIsInN0YWNrIiwib2JqZWN0IiwiZXF1YWxGdW5jIiwib2JqSXNBcnIiLCJvdGhJc0FyciIsIm9ialRhZyIsImdldFRhZyIsIm90aFRhZyIsIm9iaklzT2JqIiwib3RoSXNPYmoiLCJpc1NhbWVUYWciLCJlcXVhbEFycmF5cyIsImJ5dGVMZW5ndGgiLCJieXRlT2Zmc2V0IiwiYnVmZmVyIiwiY29udmVydCIsImlzUGFydGlhbCIsInN0YWNrZWQiLCJlcXVhbEJ5VGFnIiwib2JqSXNXcmFwcGVkIiwib3RoSXNXcmFwcGVkIiwib2JqVW53cmFwcGVkIiwib3RoVW53cmFwcGVkIiwib2JqUHJvcHMiLCJnZXRBbGxLZXlzIiwib2JqTGVuZ3RoIiwic2tpcEN0b3IiLCJvYmpWYWx1ZSIsIm90aFZhbHVlIiwiY29tcGFyZWQiLCJvYmpDdG9yIiwib3RoQ3RvciIsImVxdWFsT2JqZWN0cyIsImJhc2VJc0VxdWFsRGVlcCIsImFyckxlbmd0aCIsIm90aExlbmd0aCIsInNlZW4iLCJhcnJWYWx1ZSIsIm90aEluZGV4IiwiaGFzIiwia2V5c0Z1bmMiLCJzeW1ib2xzRnVuYyIsIm9mZnNldCIsImFycmF5UHVzaCIsImJhc2VHZXRBbGxLZXlzIiwiZ2V0U3ltYm9scyIsImdldE1hcERhdGEiLCJpc01hc2tlZCIsImlzRnVuY3Rpb24iLCJiYXNlSXNOYXRpdmUiLCJwYWlycyIsIkxBUkdFX0FSUkFZX1NJWkUiLCJyZXNJbmRleCIsInN5bWJvbCIsImFycmF5RmlsdGVyIiwiaXNJbmRleCIsIkFycmF5QnVmZmVyIiwiQ3RvciIsImN0b3JTdHJpbmciLCJpc0FyZ3VtZW50cyIsImlzTGVuZ3RoIiwiYmFzZVVuYXJ5IiwiaW5oZXJpdGVkIiwiaXNBcnIiLCJpc0FyZyIsImlzQnVmZiIsImlzVHlwZSIsInNraXBJbmRleGVzIiwiaXRlcmF0ZWUiLCJiYXNlVGltZXMiLCJhcnJheUxpa2VLZXlzIiwiYmFzZUtleXMiLCJfX2ltcG9ydERlZmF1bHQiLCJtb2QiLCJfX2VzTW9kdWxlIiwiQ29uc3RhbnRzXzEiLCJBcmdzQnVpbGRlciIsImFyZ1N0cmluZyIsImFyZ1ZhbHVlcyIsIl9ib2R5IiwiYXR0YWNoQXBpS2V5cyIsImFwcElkIiwiY2xpZW50S2V5IiwiZGVmYXVsdCIsIlBBUkFNUyIsIkFQUF9JRCIsIkNMSUVOVCIsIkNMSUVOVF9LRVkiLCJidWlsZCIsImJ1aWxkRGljdCIsIkJyb3dzZXJEZXRlY3RvciIsInduZCIsInNlYXJjaFN0cmluZyIsImdldEJyb3dzZXJEYXRhIiwidmVyc2lvbiIsInNlYXJjaFZlcnNpb24iLCJhcHBWZXJzaW9uIiwiT1MiLCJnZXRPU0RhdGEiLCJkYXRhU3RyaW5nIiwic3RyaW5nIiwiZGF0YVByb3AiLCJ2ZXJzaW9uU2VhcmNoU3RyaW5nIiwidmVyc2lvblNlYXJjaCIsImlkZW50aXR5Iiwic3ViU3RyaW5nIiwidmVuZG9yIiwib3BlcmEiLCJwbGF0Zm9ybSIsIk1FVEhPRFMiLCJTVEFSVCIsIlNUT1AiLCJBRFZBTkNFIiwiVFJBQ0siLCJQQVVTRV9TRVNTSU9OIiwiUkVTVU1FX1NFU1NJT04iLCJQQVVTRV9TVEFURSIsIlJFU1VNRV9TVEFURSIsIkRPV05MT0FEX0ZJTEUiLCJNVUxUSSIsIlNFVF9WQVJTIiwiR0VUX1ZBUlMiLCJTRVRfVVNFUl9BVFRSSUJVVEVTIiwiU0VUX0RFVklDRV9BVFRSSUJVVEVTIiwiVVBMT0FEX0ZJTEUiLCJSRUdJU1RFUl9ERVZJQ0UiLCJTREtfVkVSU0lPTiIsIkFDVElPTiIsIkNUIiwiQ1VSUkVOQ1lfQ09ERSIsIkRFVklDRV9JRCIsIlVTRVJfSUQiLCJORVdfVVNFUl9JRCIsIkRFVl9NT0RFIiwiVkVSU0lPTl9OQU1FIiwiU1lTVEVNX05BTUUiLCJTWVNURU1fVkVSU0lPTiIsIkJST1dTRVJfTkFNRSIsIkJST1dTRVJfVkVSU0lPTiIsIkRFVklDRV9OQU1FIiwiREVWSUNFX01PREVMIiwiVVNFUl9BVFRSSUJVVEVTIiwiTE9DQUxFIiwiQ09VTlRSWSIsIlJFR0lPTiIsIkNJVFkiLCJMT0NBVElPTiIsIlNUQVRFIiwiSU5GTyIsIkVWRU5UIiwiVkFMVUUiLCJGSUxFTkFNRSIsIlRJTUUiLCJEQVRBIiwiVkFSUyIsIkZJTEUiLCJTSVpFIiwiVkFSSUFUSU9OIiwiSEFTSCIsIkVNQUlMIiwiVkFSSUFCTEVTIiwiQUNUSU9OX0RFRklOSVRJT05TIiwiSU5DTFVERV9ERUZBVUxUUyIsIklOQ0xVREVfVkFSSUFOVF9ERUJVR19JTkZPIiwiTkVXU0ZFRURfTUVTU0FHRVMiLCJNRVNTQUdFX0lEIiwiV0VCX1BVU0hfU1VCU0NSSVBUSU9OIiwiS0VZUyIsIklTX1JFR0lTVEVSRUQiLCJMQVRFU1RfVkVSU0lPTiIsIlNZTkNfSU5CT1giLCJNRVNTQUdFUyIsIlZBUklBTlRTIiwiVkFSSUFOVF9ERUJVR19JTkZPIiwiVE9LRU4iLCJERUZBVUxUX0tFWVMiLCJDT1VOVCIsIklURU0iLCJIT1NUX0NPTkZJRyIsIklOQk9YX01FU1NBR0VTIiwiU0VTU0lPTiIsIk1FU1NBR0VfT0NDVVJSRU5DRVMiLCJNRVNTQUdFX0NBQ0hFIiwiTUlHUkFUSU9OX1NUQVRFIiwiUFVTSF9TVUJTQ1JJUFRJT04iLCJWQUxVRVMiLCJERVRFQ1QiLCJERUZBVUxUX1BVU0hfQUNUSU9OIiwiRXZlbnRFbWl0dGVyIiwiaGFuZGxlcnMiLCJvbiIsIm9mZiIsImVtaXQiLCJhcmdzIiwiaGFuZGxlciIsIkludGVybmFsU3RhdGUiLCJzdGFydEhhbmRsZXJzIiwiZGV2TW9kZSIsImhhc1N0YXJ0ZWQiLCJzdGFydFN1Y2Nlc3NmdWwiLCJ2YXJpYW50RGVidWdJbmZvRW5hYmxlZCIsImFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyIiwicmVtb3ZlU3RhcnRSZXNwb25zZUhhbmRsZXIiLCJ0cmlnZ2VyU3RhcnRIYW5kbGVycyIsIkxlYW5wbHVtSW50ZXJuYWxfMSIsIkxlYW5wbHVtIiwic2V0QXBpUGF0aCIsImFwaVBhdGgiLCJfbHAiLCJzZXRFbWFpbCIsInNldE5ldHdvcmtUaW1lb3V0Iiwic2V0QXBwSWRGb3JEZXZlbG9wbWVudE1vZGUiLCJhY2Nlc3NLZXkiLCJzZXRBcHBJZEZvclByb2R1Y3Rpb25Nb2RlIiwic2V0U29ja2V0SG9zdCIsImhvc3QiLCJzZXREZXZpY2VJZCIsImRldmljZUlkIiwic2V0TG9jYWxlIiwibG9jYWxlIiwic2V0QXBwVmVyc2lvbiIsInZlcnNpb25OYW1lIiwic2V0RGV2aWNlTmFtZSIsImRldmljZU5hbWUiLCJzZXREZXZpY2VNb2RlbCIsImRldmljZU1vZGVsIiwic2V0UmVxdWVzdEJhdGNoaW5nIiwiYmF0Y2hFbmFibGVkIiwiY29vbGRvd25TZWNvbmRzIiwic2V0U3lzdGVtTmFtZSIsInN5c3RlbU5hbWUiLCJzZXRTeXN0ZW1WZXJzaW9uIiwic3lzdGVtVmVyc2lvbiIsInNldFZhcmlhYmxlcyIsInZhcmlhYmxlcyIsInNldFZhcmlhbnREZWJ1Z0luZm9FbmFibGVkIiwiZW5hYmxlUmljaEluQXBwTWVzc2FnZXMiLCJwcm9jZXNzTWVzc2FnZUV2ZW50IiwiZ2V0VmFyaWFudERlYnVnSW5mbyIsImdldFZhcmlhYmxlcyIsIl9hIiwiX2kiLCJhcHBseSIsImdldFZhcmlhbnRzIiwiYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIiLCJyZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciIsImZvcmNlQ29udGVudFVwZGF0ZSIsInVzZVNlc3Npb25MZW5ndGgiLCJzdGFydCIsInVzZXJJZCIsInVzZXJBdHRyaWJ1dGVzIiwic3RhcnRGcm9tQ2FjaGUiLCJzdG9wIiwicGF1c2VTZXNzaW9uIiwicmVzdW1lU2Vzc2lvbiIsInBhdXNlU3RhdGUiLCJyZXN1bWVTdGF0ZSIsImdldFVzZXJJZCIsInNldFVzZXJJZCIsInNldFVzZXJBdHRyaWJ1dGVzIiwidHJhY2siLCJwYXJhbXMiLCJ0cmFja1B1cmNoYXNlIiwiY3VycmVuY3lDb2RlIiwiYWR2YW5jZVRvIiwiaXNXZWJQdXNoU3VwcG9ydGVkIiwiaXNXZWJQdXNoU3Vic2NyaWJlZCIsInNldFdlYlB1c2hPcHRpb25zIiwicmVnaXN0ZXJGb3JXZWJQdXNoIiwic2VydmljZVdvcmtlclVybCIsInVucmVnaXN0ZXJGcm9tV2ViUHVzaCIsImNsZWFyVXNlckNvbnRlbnQiLCJkZWZpbmVBY3Rpb24iLCJhcHBseVF1ZXVlIiwicXVldWUiLCJnZXRGaWxlVXJsIiwiZmlsZW5hbWUiLCJfX2Rlc3Ryb3kiLCJWRVJTSU9OIiwiX19hc3NpZ24iLCJhc3NpZ24iLCJMZWFucGx1bUluYm94TWVzc2FnZSIsIkFyZ3NCdWlsZGVyXzEiLCJTdG9yYWdlTWFuYWdlcl8xIiwiTGVhbnBsdW1JbmJveCIsImNyZWF0ZVJlcXVlc3QiLCJvbkFjdGlvbiIsIm1lc3NhZ2VNYXAiLCJjaGFuZ2VIYW5kbGVycyIsImRvd25sb2FkTWVzc2FnZXMiLCJfdGhpcyIsInF1ZXVlZCIsInNlbmROb3ciLCJuZXdzZmVlZE1lc3NhZ2VzIiwidHJpZ2dlckNoYW5nZUhhbmRsZXJzIiwibWFya0FzUmVhZCIsImlzUmVhZCIsImluYm94TWVzc2FnZSIsIm9wZW5BY3Rpb24iLCJvbkNoYW5nZWQiLCJ1bnJlYWRDb3VudCIsImNyZWF0ZSIsImFsbE1lc3NhZ2VzIiwidW5yZWFkTWVzc2FnZXMiLCJfaWQiLCJfdGl0bGUiLCJfc3VidGl0bGUiLCJfZGF0YSIsIl90aW1lc3RhbXAiLCJfaXNSZWFkIiwiX2ltYWdlVXJsIiwiX29wZW5BY3Rpb24iLCJtZXNzYWdlSW5mbyIsIl9iIiwiX2MiLCJfZCIsIl9lIiwiX2YiLCJfZyIsIl9oIiwiX2oiLCJfayIsIl9sIiwicGFyZW50Q2FtcGFpZ25JZCIsIm1lc3NhZ2VEYXRhIiwiVGl0bGUiLCJTdWJ0aXRsZSIsIkRhdGEiLCJkZWxpdmVyeVRpbWVzdGFtcCIsIkltYWdlIiwic3VidGl0bGUiLCJ0aW1lc3RhbXAiLCJCcm93c2VyRGV0ZWN0b3JfMSIsIkludGVybmFsU3RhdGVfMSIsIkxlYW5wbHVtSW5ib3hfMSIsIkxlYW5wbHVtUmVxdWVzdF8xIiwiTGVhbnBsdW1Tb2NrZXRfMSIsIlB1c2hNYW5hZ2VyXzEiLCJNZXNzYWdlc18xIiwiRXZlbnRFbWl0dGVyXzEiLCJNaWdyYXRpb25NYW5hZ2VyXzEiLCJwdWJsaWNfMSIsImludGVybmFsXzEiLCJWYXJDYWNoZV8xIiwiU0VTU0lPTl9LRVkiLCJMZWFucGx1bUludGVybmFsIiwiX21pZ3JhdGlvbiIsIl9ldmVudHMiLCJfaW50ZXJuYWxTdGF0ZSIsIl9scEluYm94Iiwib25JbmJveEFjdGlvbiIsIl9scFJlcXVlc3QiLCJfdmFyQ2FjaGUiLCJfbHBTb2NrZXQiLCJnZXRMYXN0UmVzcG9uc2UiLCJfcHVzaE1hbmFnZXIiLCJfbWVzc2FnZXMiLCJfYnJvd3NlckRldGVjdG9yIiwicHJldmVudGVkIiwicHJldmVudERlZmF1bHQiLCJzaGEiLCJ2ZXJpZnlTdGF0ZSIsIl9sb2NhbGUiLCJfZGV2aWNlTmFtZSIsIl9kZXZpY2VNb2RlbCIsImJhdGNoQ29vbGRvd24iLCJfc3lzdGVtTmFtZSIsIl9zeXN0ZW1WZXJzaW9uIiwidmFyaWFudHMiLCJ0cmFja01lc3NhZ2UiLCJyZWdpc3RlckFjdGlvbkRlZmluaXRpb24iLCJraW5kIiwiTWVzc2FnZUtpbmQiLCJUZW1wbGF0ZSIsImdldFZhcnNSZXNwb25zZSIsImlzU3VjY2VzcyIsImlzUmVzcG9uc2VTdWNjZXNzIiwiYXBwbHlEaWZmcyIsInNldFZhcmlhbnREZWJ1Z0luZm8iLCJfc2Vzc2lvbkxlbmd0aCIsImhhc0FjdGl2ZVNlc3Npb24iLCJnZXRTdGF0ZSIsIk1pZ3JhdGlvblN0YXRlIiwiRFVQTElDQVRFIiwiX2N0IiwiaW5pdENsZXZlclRhcCIsIkNMRVZFUlRBUCIsIm1pZ3JhdGVQdXNoVG9rZW4iLCJjbGVhbnVwIiwib25VcGRhdGUiLCJ0cmlnZ2VyVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzIiwic3RhcnRSZXNwb25zZSIsInVwZGF0ZVNlc3Npb24iLCJhY3Rpb25EZWZpbml0aW9ucyIsImxhdGVzdFZlcnNpb24iLCJjb25uZWN0U29ja2V0IiwibG9hZERpZmZzIiwic3VjY2VzcyIsImlzUHVyY2hhc2UiLCJjbGllbnRVcmwiLCJfd2ViUHVzaE9wdGlvbnMiLCJ3b3JrZXJVcmwiLCJpc1N1YnNjcmliZWQiLCJzdWJzY3JpYmVVc2VyIiwidW5zdWJzY3JpYmVVc2VyIiwiaW52b2NhdGlvbiIsImR1cGxpY2F0ZVJlcXVlc3QiLCJjb25uZWN0IiwiY3VycmVudFRpbWUiLCJsYXN0QWN0aXZlIiwiTmV0d29ya18xIiwiTGVhbnBsdW1SZXF1ZXN0IiwibmV0d29yayIsImNvb2xkb3duVGltZW91dCIsImxhc3RSZXF1ZXN0VGltZSIsInVzZXJJZFZhbHVlIiwibG9hZEhvc3RDb25maWciLCJsb2FkTG9jYWwiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwicG9zc2libGUiLCJzYXZlTG9jYWwiLCJhcmdzQnVpbGRlciIsInNlbmRSZXF1ZXN0Iiwic2VuZFVuc2VudFJlcXVlc3RzIiwicmVxdWVzdHNUb1NlbmQiLCJwb3BVbnNlbnRSZXF1ZXN0cyIsInJlcXVlc3REYXRhIiwibXVsdGlSZXF1ZXN0QXJncyIsInNhdmVSZXF1ZXN0Rm9yTGF0ZXIiLCJnZXRGaXJzdFJlc3BvbnNlIiwiQm9vbGVhbiIsInF1ZXJ5IiwiYWpheCIsIm1ldGhvZFJlc3BvbnNlIiwic2hhMjU2IiwibWlncmF0ZVN0YXRlIiwiYXBpSG9zdCIsImRldlNlcnZlckhvc3QiLCJyZW1vdmVMb2NhbCIsImlnbm9yZWQiLCJob3N0Q29uZmlnIiwibG9kYXNoX2lzZXF1YWxfMSIsIlNvY2tldElvQ2xpZW50XzEiLCJMZWFucGx1bVNvY2tldCIsIm5ldHdvcmtUaW1lb3V0U2Vjb25kcyIsInNvY2tldENsaWVudCIsInNvY2tldEhvc3QiLCJhdXRoIiwiV2ViU29ja2V0IiwiYXV0aFNlbnQiLCJvbm9wZW4iLCJzZW5kIiwib25tZXNzYWdlIiwib25NZXNzYWdlUmVjZWl2ZWQiLCJvbmNsb3NlIiwiY29ubmVjdGVkIiwiY29ubmVjdGluZyIsImRpc2Nvbm5lY3QiLCJhcmdzXzEiLCJkaWZmcyIsInNlbmRWYXJpYWJsZXMiLCJ1cGRhdGVkIiwic2VuZEFjdGlvbnMiLCJhbGVydCIsIlZhbHVlVHJhbnNmb3Jtc18xIiwiT2NjdXJyZW5jZVRyYWNrZXIiLCJ0cmlnZ2VycyIsIm9jY3VycmVuY2VzIiwicmVjb3JkT2NjdXJyZW5jZSIsInNlc3Npb25PY2N1cnJlbmNlcyIsInJlY29yZFRyaWdnZXJPY2N1cnJlbmNlIiwidHJpZ2dlck9jY3VycmVuY2VzIiwiZ2V0U2Vzc2lvbk9jY3VycmFuY2VDb3VudCIsImdldE9jY3VycmVuY2VzIiwiY2xlYXJTZXNzaW9uIiwibWF5YmVKU09OIiwic3RyIiwiTWVzc2FnZXMiLCJfbWVzc2FnZUNhY2hlIiwib2NjdXJyZW5jZVRyYWNrZXIiLCJfc2hvd1JpY2hJQU0iLCJvbk1lc3NhZ2VQcmV2aWV3Iiwib25NZXNzYWdlc1JlY2VpdmVkIiwib25UcmlnZ2VyIiwidHJpZ2dlciIsImF0dHJpYnV0ZXMiLCJjb250ZXh0IiwiZ2V0TWVzc2FnZXMiLCJzaG91bGRTaG93TWVzc2FnZSIsInNob3dNZXNzYWdlIiwiZXZlbnRJbmZvIiwicnVuQWN0aW9uTmFtZWQiLCJhY3Rpb25OYW1lIiwicnVuVHJhY2tlZEFjdGlvbk5hbWVkIiwiaGFuZGxlTWVzc2FnZSIsImFkZERlZmF1bHRzIiwicmVjZWl2ZWRNZXNzYWdlcyIsIm1hdGNoZXNUcmlnZ2VyIiwid2hlblRyaWdnZXJzIiwibWF0Y2hlc1VubGVzcyIsInVubGVzc1RyaWdnZXJzIiwidHJpZ2dlcnNDb3VudCIsIm1hdGNoZXNMaW1pdHMiLCJ3aGVuTGltaXRzIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsImV2ZW50VXJsIiwicGFyYW0iLCJtZXRhZGF0YSIsImFuY2hvclByb3AiLCJhbHRQcm9wIiwicGFyYW1ldGVycyIsIl9fbmFtZV9fIiwicmVzb2x2ZUZpbGVzIiwidGVtcGxhdGVOYW1lIiwidGVtcGxhdGUiLCJyZW5kZXJSaWNoSW5BcHBNZXNzYWdlIiwicmVzb2x2ZUZpZWxkcyIsImpvaW4iLCJjb250ZW50IiwiZG9jIiwid3JpdGUiLCJjbG9zZSIsInRyYWNrT3B0aW9ucyIsImRlZmluZWQiLCJwYXJlbnRNZXNzYWdlSWQiLCJwcm9jZXNzQWN0aW9uIiwiVVJMIiwibWVzc2FnZUlkRnJvbUFjdGlvbiIsImNoYWluZWRNZXNzYWdlSWRfMSIsIm1lc3NhZ2VfMSIsImRlZmluaXRpb24iLCJraW5kcyIsInVzZURlZmF1bHRzIiwiZGVmYXVsdFZhbHVlcyIsImZpbGVQcmVmaXgiLCJjb2xvclN1ZmZpeCIsImRlY29kZUNvbG9yIiwiaWdub3JlQ2FzZUVxdWFscyIsImxvY2FsZUNvbXBhcmUiLCJzZW5zaXRpdml0eSIsIm1hdGNoZXNUcmlnZ2VycyIsImNvbnRleHROb3VuIiwibWF0Y2hlc05vdW4iLCJub3VuIiwidmVyYiIsIm9iamVjdHMiLCJwYXJhbWV0ZXIiLCJtYXRjaGVzUGFyYW0iLCJzb21lIiwic3ViamVjdCIsImNvbnRhaW5zQXR0cmlidXRlIiwiY29udGV4dFZhbHVlXzEiLCJldmVyeSIsImxpbWl0IiwicGVySW50ZXJ2YWwiLCJ0aW1lU2xvdCIsInZlcmJUb0ludGVydmFsIiwiSWRlbnRpdHlNYW5hZ2VyIiwiSWRlbnRpdHlTdGF0ZSIsImNsZXZlcnRhcF93ZWJfc2RrXzEiLCJub29wIiwidG9NaWdyYXRpb25TdGF0ZSIsInNkayIsIkxFQU5QTFVNIiwiVU5LTk9XTiIsIk1pZ3JhdGlvbk1hbmFnZXIiLCJfZmV0Y2hpbmciLCJzYXZlZFJlc3BvbnNlIiwiZ2V0TWlncmF0aW9uU3RhdGUiLCJpc0Fub255bW91cyIsImN0IiwicmVnaW9uQ29kZSIsImFyZ3NEaWN0IiwiZXZlbnRQdXNoIiwicHJvZmlsZVB1c2giLCJhdHRycyIsIm1hcEF0dHJpYnV0ZXMiLCJjb252ZXJ0QXJyYXlzIiwiaXNFbmdhZ2VtZW50RXZlbnQiLCJldmVudFBhcmFtcyIsImFyciIsIm1hcHBpbmciLCJhdHRyaWJ1dGVNYXBwaW5ncyIsIkFOT05ZTU9VUyIsImlkZW50aWZ5IiwiSURFTlRJRklFRCIsImlkZW50aWZ5Tm9uQW5vbnltb3VzIiwiTmV0d29yayIsInJlcXVlc3RRdWV1ZSIsInJ1bm5pbmdSZXF1ZXN0IiwicGxhaW5UZXh0IiwiZW5xdWV1ZVJlcXVlc3QiLCJYRG9tYWluUmVxdWVzdCIsImFqYXhJRTgiLCJoYW5kbGVkIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZXNwb25zZV8xIiwicGFyc2VFcnJvciIsInJlc3BvbnNlVGV4dCIsImRlcXVldWVSZXF1ZXN0IiwiYmxvY2tlZCIsIm9udGltZW91dCIsInNldFJlcXVlc3RIZWFkZXIiLCJhYm9ydCIsInhkciIsIm9ucHJvZ3Jlc3MiLCJyZXF1ZXN0QXJndW1lbnRzIiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJyZWplY3RlZCIsImRvbmUiLCJfX2dlbmVyYXRvciIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwiaXRlcmF0b3IiLCJvcCIsIlB1c2hNYW5hZ2VyIiwiZ2V0U2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiIsInVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyIiwiZXJyb3JfMSIsImVycm9yXzIiLCJ1cmxCNjRUb1VpbnQ4QXJyYXkiLCJlcnJvcl8zIiwiZ2V0UmVnaXN0cmF0aW9uIiwiZGVjb2RlRGF0YSIsIm91dHB1dEFycmF5IiwicHJlcGFyZWRTdWJzY3JpcHRpb24iLCJwcmVwYXJlU3Vic2NyaXB0aW9uIiwicHJlcGFyZWRTdWJzY3JpcHRpb25TdHJpbmciLCJzZXRTdWJzY3JpcHRpb24iLCJrZXlBc2NpaSIsImVuY29kZURhdGEiLCJhdXRoQXNjaWkiLCJidG9hIiwiU29ja2V0SW9DbGllbnQiLCJsaW5lIiwicGFydHMiLCJoZWFydGJlYXQiLCJzb2NrZXQiLCJoZWFydGJlYXRJbnRlcnZhbCIsIm1lc3NhZ2VQYXJ0cyIsIm1lc3NhZ2VFdmVudCIsImFyZ3NKc29uIiwic3RvcmFnZUVuYWJsZWQiLCJsb2NhbCIsImFsdGVybmF0ZVN0b3JhZ2UiLCJWYWx1ZVRyYW5zZm9ybXMiLCJjb2xvciIsImVuY29kZUNvbG9yIiwicmdiYSIsImhleCIsIlZhckNhY2hlIiwiaGFzUmVjZWl2ZWREaWZmcyIsIm1lcmdlZCIsInZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycyIsInZhcmlhbnREZWJ1Z0luZm8iLCJreCIsIm1lcmdlSGVscGVyIiwic2F2ZURpZmZzIiwiY3VycmVudCIsInNldFZhcnMiLCJhcmd1bWVudFRyZWUiLCJhcmd1bWVudEtpbmRzIiwib3B0aW9uc1RvRGVmaW5pdGlvbnMiLCJwcmVmaXgiLCJvYmpJdGVyYXRvciIsImF0dHIiLCJ2YXJzSXRlcmF0b3IiLCJkaWZmSXRlcmF0b3IiLCJhdHRyaWJ1dGUiLCJtZXJnZWRfMSIsInZhclN1YnNjcmlwdCIsInN1YnNjcmlwdCIsImRpZmZWYWx1ZSIsIkFjdGlvblBhcmFtZXRlclR5cGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJsb2FkZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2xvYmFsVGhpcyIsIm5tZCIsInBhdGhzIl0sInNvdXJjZVJvb3QiOiIifQ==