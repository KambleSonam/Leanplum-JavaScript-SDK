!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Leanplum=t():e.Leanplum=t()}(self,(()=>(()=>{var e={739:function(e){e.exports=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e,t,n){return d=c()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&l(r,n.prototype),r},d.apply(null,arguments)}function f(e){var t="function"==typeof Map?new Map:void 0;return f=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return d(e,arguments,u(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),l(i,e)},f(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?p(e):t}function v(e){var t=c();return function(){var n,i=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return h(this,n)}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function y(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}var m=0;function b(e){return"__private_"+m+++"_"+e}function S(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var _,w="clevertap-prod.com",k="https:",A=b("accountId"),E=b("region"),P=b("targetDomain"),O=b("dcSdkversion"),C=function(){function e(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;t(this,e),Object.defineProperty(this,A,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:""}),Object.defineProperty(this,P,{writable:!0,value:w}),Object.defineProperty(this,O,{writable:!0,value:""}),this.id=n,i&&(this.region=i),r&&(this.targetDomain=r)}return i(e,[{key:"id",get:function(){return S(this,A)[A]},set:function(e){S(this,A)[A]=e}},{key:"region",get:function(){return S(this,E)[E]},set:function(e){S(this,E)[E]=e}},{key:"dcSDKVersion",get:function(){return S(this,O)[O]},set:function(e){S(this,O)[O]=e}},{key:"targetDomain",get:function(){return S(this,P)[P]},set:function(e){S(this,P)[P]=e}},{key:"finalTargetDomain",get:function(){return this.region?"".concat(this.region,".").concat(this.targetDomain):this.targetDomain===w?"".concat("eu1",".").concat(this.targetDomain):this.targetDomain}},{key:"dataPostURL",get:function(){return"".concat(k,"//").concat(this.finalTargetDomain,"/a?t=96")}},{key:"recorderURL",get:function(){return"".concat(k,"//").concat(this.finalTargetDomain,"/r?r=1")}},{key:"emailURL",get:function(){return"".concat(k,"//").concat(this.finalTargetDomain,"/e?r=1")}}]),e}(),I=new RegExp("^\\s+|\\.|:|\\$|'|\"|\\\\|\\s+$","g"),T=new RegExp("^\\s+|'|\"|\\\\|\\s+$","g"),R=new RegExp("'","g"),M="clear",D="Charged ID",N="WZRK_CHARGED_ID",L="WZRK_G",j="WZRK_K",U="WZRK_CAMP",x="WZRK_EV",F="WZRK_META",V="WZRK_PR",q="WZRK_ARP",z="WZRK_L",K="global",H="display",W="optOut",B="useIP",G="WZRK_X",Y="isOUL",J="push",$=31536e4,Z="2",Q="cUsY",X="wzrk_",ee="wzrk_id",te="Notification Viewed",ne="Notification Clicked",ie="WZRK_FPU",re="WZRK_PSD",oe="$incr",ae="$decr",se="$set",ue="$add",le="$remove",ce="$delete",de=["Stayed","UTM Visited","App Launched","Notification Sent",te,ne],fe=function(e){return"string"==typeof e||e instanceof String},pe=function(e){return"[object Object]"===Object.prototype.toString.call(e)},he=function(t){return"object"===e(t)&&t instanceof Date},ve=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},ge=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ye=function(e){return/^-?[\d.]+(?:e-?\d+)?$/.test(e)&&"number"==typeof e},me=function(e){return null!=e&&"undefined"!==e},be=function t(n,i){var r;if("object"!==e(n))return fe(n)?(r=Se(n,T)).length>1024&&(r=r.substring(0,1024),i.reportError(521,r+"... length exceeded 1024 chars. Trimmed.")):r=n,r;for(var o in n)if(n.hasOwnProperty(o)){var a=t(n[o],i),s=void 0;(s=Se(o,I)).length>1024&&(s=s.substring(0,1024),i.reportError(520,s+"... length exceeded 1024 chars. Trimmed.")),delete n[o],n[s]=a}return n},Se=function(e,t){return e.replace(t,"")},_e=function(){var e=new Date;return e.getFullYear()+""+e.getMonth()+e.getDay()},we=function(){return Math.floor((new Date).getTime()/1e3)},ke=function(e){return"$D_"+Math.round(e.getTime()/1e3)},Ae=function(e){if(Ee(e))return"$D_"+e},Ee=function(e){var t=/^(\d{4})(\d{2})(\d{2})$/.exec(e);if(null==t)return!1;var n=t[3],i=t[2]-1,r=t[1],o=new Date(r,i,n);return o.getDate()==n&&o.getMonth()==i&&o.getFullYear()==r},Pe=function(){function e(){t(this,e)}return i(e,null,[{key:"save",value:function(e,t){return!(!e||!t)&&(this._isLocalStorageSupported()?(localStorage.setItem(e,"string"==typeof t?t:JSON.stringify(t)),!0):void 0)}},{key:"read",value:function(e){if(!e)return!1;var t=null;if(this._isLocalStorageSupported()&&(t=localStorage.getItem(e)),null!=t)try{t=JSON.parse(t)}catch(e){}return t}},{key:"remove",value:function(e){return!!e&&(this._isLocalStorageSupported()?(localStorage.removeItem(e),!0):void 0)}},{key:"removeCookie",value:function(e,t){var n=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;";t&&(n=n+" domain="+t+"; path=/"),document.cookie=n}},{key:"createCookie",value:function(e,t,n,i){var r="",o="";if(n){var a=new Date;a.setTime(a.getTime()+1e3*n),r="; expires="+a.toGMTString()}i&&(o="; domain="+i),t=encodeURIComponent(t),document.cookie=e+"="+t+r+o+"; path=/"}},{key:"readCookie",value:function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return decodeURIComponent(r.substring(t.length,r.length))}return null}},{key:"_isLocalStorageSupported",value:function(){return"localStorage"in window&&null!==window.localStorage&&"function"==typeof window.localStorage.setItem}},{key:"saveToLSorCookie",value:function(e,t){if(null!=t)try{this._isLocalStorageSupported()?this.save(e,encodeURIComponent(JSON.stringify(t))):e===L?this.createCookie(e,encodeURIComponent(t),0,window.location.hostname):this.createCookie(e,encodeURIComponent(JSON.stringify(t)),0,window.location.hostname),Oe.globalCache[e]=t}catch(e){}}},{key:"readFromLSorCookie",value:function(e){var t;if(Oe.globalCache.hasOwnProperty(e))return Oe.globalCache[e];if(null!=(t=this._isLocalStorageSupported()?this.read(e):this.readCookie(e))&&("function"!=typeof t.trim||""!==t.trim())){var n;try{n=JSON.parse(decodeURIComponent(t))}catch(e){n=decodeURIComponent(t)}return Oe.globalCache[e]=n,n}}},{key:"createBroadCookie",value:function(e,t,n,i){if(i){var r=Oe.broadDomain;if(null==r)for(var o=i.split("."),a="",s=o.length-1;s>=0;s--){if(a=0===s?o[s]+a:"."+o[s]+a,this.readCookie(e)){var u="test_"+e+s;if(this.createCookie(u,t,10,a),!this.readCookie(u))continue;this.removeCookie(u,a)}if(this.createCookie(e,t,n,a),this.readCookie(e)==t){r=a,Oe.broadDomain=r;break}}else this.createCookie(e,t,n,r)}else this.createCookie(e,t,n,i)}},{key:"getMetaProp",value:function(e){var t=this.readFromLSorCookie(F);if(null!=t)return t[e]}},{key:"setMetaProp",value:function(e,t){if(this._isLocalStorageSupported()){var n=this.readFromLSorCookie(F);null==n&&(n={}),void 0===t?delete n[e]:n[e]=t,this.saveToLSorCookie(F,n)}}},{key:"getAndClearMetaProp",value:function(e){var t=this.getMetaProp(e);return this.setMetaProp(e,void 0),t}},{key:"setInstantDeleteFlagInK",value:function(){var e=this.readFromLSorCookie(j);null==e&&(e={}),e.flag=!0,this.saveToLSorCookie(j,e)}},{key:"backupEvent",value:function(e,t,n){var i=this.readFromLSorCookie(z);void 0===i&&(i={}),i[t]={q:e},this.saveToLSorCookie(z,i),n.debug("stored in ".concat(z," reqNo : ").concat(t," -> ").concat(e))}},{key:"removeBackup",value:function(e,t){var n=this.readFromLSorCookie(z);null!=n&&void 0!==n[e]&&(t.debug("del event: ".concat(e," data-> ").concat(n[e].q)),delete n[e],this.saveToLSorCookie(z,n))}}]),e}(),Oe={globalCache:{gcookie:null,REQ_N:0,RESP_N:0},LRU_CACHE:null,globalProfileMap:void 0,globalEventsMap:void 0,blockRequest:!1,isOptInRequest:!1,broadDomain:null,webPushEnabled:null,campaignDivMap:{},currentSessionId:null,wiz_counter:0,notifApi:{notifEnabledFromApi:!1},unsubGroups:[],updatedCategoryLong:null,isPrivacyArrPushed:!1,privacyArray:[]},Ce=b("keyOrder"),Ie=b("deleteFromObject"),Te=function(){function e(n){t(this,e),Object.defineProperty(this,Ie,{value:Re}),Object.defineProperty(this,Ce,{writable:!0,value:void 0}),this.max=n;var i=Pe.readFromLSorCookie(G);if(i){var r={};for(var o in S(this,Ce)[Ce]=[],i=i.cache)i.hasOwnProperty(o)&&(r[i[o][0]]=i[o][1],S(this,Ce)[Ce].push(i[o][0]));this.cache=r}else this.cache={},S(this,Ce)[Ce]=[]}return i(e,[{key:"get",value:function(e){var t=this.cache[e];return t&&(this.cache=S(this,Ie)[Ie](e,this.cache),this.cache[e]=t,S(this,Ce)[Ce].push(e)),this.saveCacheToLS(this.cache),t}},{key:"set",value:function(e,t){var n=this.cache[e],i=S(this,Ce)[Ce];null!=n?this.cache=S(this,Ie)[Ie](e,this.cache):i.length===this.max&&(this.cache=S(this,Ie)[Ie](i[0],this.cache)),this.cache[e]=t,S(this,Ce)[Ce][S(this,Ce)[Ce]-1]!==e&&S(this,Ce)[Ce].push(e),this.saveCacheToLS(this.cache)}},{key:"saveCacheToLS",value:function(e){var t=[],n=S(this,Ce)[Ce];for(var i in n)if(n.hasOwnProperty(i)){var r=[];r.push(n[i]),r.push(e[n[i]]),t.push(r)}Pe.saveToLSorCookie(G,{cache:t})}},{key:"getKey",value:function(e){if(null===e)return null;var t=S(this,Ce)[Ce];for(var n in t)if(t.hasOwnProperty(n)&&this.cache[t[n]]===e)return t[n];return null}},{key:"getSecondLastKey",value:function(){var e=S(this,Ce)[Ce];return null!=e&&e.length>1?e[e.length-2]:-1}},{key:"getLastKey",value:function(){var e=S(this,Ce)[Ce].length;if(e)return S(this,Ce)[Ce][e-1]}}]),e}(),Re=function(e,t){var n,i=JSON.parse(JSON.stringify(S(this,Ce)[Ce])),r={};for(var o in i)i.hasOwnProperty(o)&&(i[o]!==e?r[i[o]]=t[i[o]]:n=o);return i.splice(n,1),S(this,Ce)[Ce]=JSON.parse(JSON.stringify(i)),r},Me=b("logger"),De=b("request"),Ne=b("device"),Le=b("session"),je=function(){function e(n){var i=n.logger,r=n.request,o=n.device,a=n.session;t(this,e),Object.defineProperty(this,Me,{writable:!0,value:void 0}),Object.defineProperty(this,De,{writable:!0,value:void 0}),Object.defineProperty(this,Ne,{writable:!0,value:void 0}),Object.defineProperty(this,Le,{writable:!0,value:void 0}),S(this,Me)[Me]=i,S(this,De)[De]=r,S(this,Ne)[Ne]=o,S(this,Le)[Le]=a}return i(e,[{key:"s",value:function(e,t,n,i,r){if(void 0===i&&(i=0),Pe.removeBackup(i,S(this,Me)[Me]),!(i>Oe.globalCache.REQ_N)&&(!window.isOULInProgress||n)){if(n&&(window.isOULInProgress=!1),(!me(S(this,Ne)[Ne].gcookie)||n||"boolean"==typeof r)&&(S(this,Me)[Me].debug("Cookie was ".concat(S(this,Ne)[Ne].gcookie," set to ").concat(e)),S(this,Ne)[Ne].gcookie=e,me(S(this,Ne)[Ne].gcookie)||Pe.getAndClearMetaProp(B),e&&Pe._isLocalStorageSupported())){null==Oe.LRU_CACHE&&(Oe.LRU_CACHE=new Te(100));var o=Pe.readFromLSorCookie(j);null!=o&&o.id&&n&&(Oe.LRU_CACHE.cache[o.id]||(Pe.saveToLSorCookie(ie,!0),Oe.LRU_CACHE.set(o.id,e))),Pe.saveToLSorCookie(L,e);var a=Oe.LRU_CACHE.getSecondLastKey();if(Pe.readFromLSorCookie(ie)&&-1!==a){var s=Oe.LRU_CACHE.cache[a];S(this,De)[De].unregisterTokenForGuid(s)}}Pe.createBroadCookie(L,e,$,window.location.hostname),Pe.saveToLSorCookie(L,e),Pe._isLocalStorageSupported()&&S(this,Le)[Le].manageSession(t);var u=S(this,Le)[Le].getSessionCookieObject();(void 0===u.s||u.s<=t)&&(u.s=t,u.t=we(),S(this,Le)[Le].setSessionCookieObject(u)),me(S(this,Ne)[Ne].gcookie)&&(Oe.blockRequest=!1),Oe.blockRequest||S(this,De)[De].processingBackup||S(this,De)[De].processBackupEvents(),Oe.globalCache.RESP_N=i}}}]),e}(),Ue=b("logger"),xe=function(){function e(n){var i=n.logger;t(this,e),Object.defineProperty(this,Ue,{writable:!0,value:void 0}),this.gcookie=void 0,S(this,Ue)[Ue]=i,this.gcookie=this.getGuid()}return i(e,[{key:"getGuid",value:function(){var e=null;if(me(this.gcookie))return this.gcookie;if(Pe._isLocalStorageSupported()){var t=Pe.read(L);if(me(t)){try{e=JSON.parse(decodeURIComponent(t))}catch(n){S(this,Ue)[Ue].debug("Cannot parse Gcookie from localstorage - must be encoded "+t),32===t.length?(e=t,Pe.saveToLSorCookie(L,t)):S(this,Ue)[Ue].error("Illegal guid "+t)}me(e)&&Pe.createBroadCookie(L,e,$,window.location.hostname)}}return me(e)||(e=Pe.readCookie(L),!me(e)||0!==e.indexOf("%")&&0!==e.indexOf("'")&&0!==e.indexOf('"')||(e=null),me(e)&&Pe.saveToLSorCookie(L,e)),e}}]),e}(),Fe="This property has been ignored.",Ve="CleverTap error:",qe="".concat(Ve," Incorrect embed script."),ze="".concat(Ve," Event structure not valid. ").concat(Fe),Ke="".concat(Ve," Gender value should be either M or F. ").concat(Fe),He="".concat(Ve," Employed value should be either Y or N. ").concat(Fe),We="".concat(Ve," Married value should be either Y or N. ").concat(Fe),Be="".concat(Ve," Education value should be either School, College or Graduate. ").concat(Fe),Ge="".concat(Ve," Age value should be a number. ").concat(Fe),Ye="".concat(Ve," DOB value should be a Date Object"),Je="".concat(Ve," setEnum(value). value should be a string or a number"),$e="".concat(Ve," Phone number should be formatted as +[country code][number]"),Ze=function(e){if(pe(e)){for(var t in e)if(e.hasOwnProperty(t)){if(pe(e[t])||Array.isArray(e[t]))return!1;he(e[t])&&(e[t]=ke(e[t]))}return!0}return!1},Qe=function(e,t){if(pe(e)){for(var n in e)if(e.hasOwnProperty(n))if("Items"===n){if(!Array.isArray(e[n]))return!1;for(var i in e[n].length>16&&t.reportError(522,"Charged Items exceed 16 limit. Actual count: "+e[n].length+". Additional items will be dropped."),e[n])if(e[n].hasOwnProperty(i)&&(!pe(e[n][i])||!Ze(e[n][i])))return!1}else{if(pe(e[n])||Array.isArray(e[n]))return!1;he(e[n])&&(e[n]=ke(e[n]))}if(fe(e[D])||ye(e[D])){var r=e[D]+"";if(void 0===_&&(_=Pe.readFromLSorCookie(N)),void 0!==_&&_.trim()===r.trim())return t.error("Duplicate charged Id - Dropped"+e),!1;_=r,Pe.saveToLSorCookie(N,r)}return!0}return!1},Xe=b("logger"),et=b("oldValues"),tt=b("request"),nt=b("isPersonalisationActive"),it=b("processEventArray"),rt=function(e){s(r,e);var n=v(r);function r(e,i){var o,a=e.logger,s=e.request,u=e.isPersonalisationActive;return t(this,r),o=n.call(this),Object.defineProperty(p(o),it,{value:ot}),Object.defineProperty(p(o),Xe,{writable:!0,value:void 0}),Object.defineProperty(p(o),et,{writable:!0,value:void 0}),Object.defineProperty(p(o),tt,{writable:!0,value:void 0}),Object.defineProperty(p(o),nt,{writable:!0,value:void 0}),S(p(o),Xe)[Xe]=a,S(p(o),et)[et]=i,S(p(o),tt)[tt]=s,S(p(o),nt)[nt]=u,o}return i(r,[{key:"push",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S(this,it)[it](t),0}},{key:"_processOldValues",value:function(){S(this,et)[et]&&S(this,it)[it](S(this,et)[et]),S(this,et)[et]=null}},{key:"getDetails",value:function(e){if(S(this,nt)[nt]()&&(void 0===Oe.globalEventsMap&&(Oe.globalEventsMap=Pe.readFromLSorCookie(x)),void 0!==Oe.globalEventsMap)){var t=Oe.globalEventsMap[e],n={};return void 0!==t?(n.firstTime=new Date(1e3*t[1]),n.lastTime=new Date(1e3*t[2]),n.count=t[0],n):void 0}}}]),r}(f(Array)),ot=function(e){if(Array.isArray(e))for(;e.length>0;){var t=e.shift();if(fe(t))if(t.length>1024&&(t=t.substring(0,1024),S(this,Xe)[Xe].reportError(510,t+"... length exceeded 1024 chars. Trimmed.")),de.includes(t))S(this,Xe)[Xe].reportError(513,t+" is a restricted system event. It cannot be used as an event name.");else{var n={type:"event"};if(n.evtName=Se(t,I),0!==e.length){var i=e.shift();if(pe(i)){if("Charged"===t){if(!Qe(i,S(this,Xe)[Xe])){S(this,Xe)[Xe].reportError(511,"Charged event structure invalid. Not sent.");continue}}else if(!Ze(i)){S(this,Xe)[Xe].reportError(512,t+" event structure invalid. Not sent.");continue}n.evtData=i}else e.unshift(i)}S(this,tt)[tt].processEvent(n)}else S(this,Xe)[Xe].error(ze)}},at=function(e){var t={},n=e.indexOf("?");if(n>1){var i,r=e.substring(n+1),o=/\+/g,a=/([^&=]+)=?([^&]*)/g,s=function(e){var t=e.replace(o," ");try{t=decodeURIComponent(t)}catch(e){}return t};for(i=a.exec(r);i;)t[s(i[1])]=s(i[2]),i=a.exec(r)}return t},st=function(e,t,n){return e+"&"+t+"="+encodeURIComponent(n)},ut=function(){return window.location.hostname},lt=function(e,t){return t&&"function"==typeof t.debug&&t.debug("dobj:"+e),dt(e)},ct=function(){var e="",t=0;for(t=0;t<=25;t++)e+=String.fromCharCode(t+65);for(t=0;t<=25;t++)e+=String.fromCharCode(t+97);for(t=0;t<10;t++)e+=t;return e+"+/="}(),dt=function(e){if(null==e)return"";var t,n,i,r,o,a,s,u="",l=0;for(e=function(e){if(null==e)return"";var t,n,i,r={},o={},a="",s="",u="",l=2,c=3,d=2,f="",p=0,h=0,v=String.fromCharCode;for(i=0;i<e.length;i+=1)if(a=e.charAt(i),Object.prototype.hasOwnProperty.call(r,a)||(r[a]=c++,o[a]=!0),s=u+a,Object.prototype.hasOwnProperty.call(r,s))u=s;else{if(Object.prototype.hasOwnProperty.call(o,u)){if(u.charCodeAt(0)<256){for(t=0;t<d;t++)p<<=1,15==h?(h=0,f+=v(p),p=0):h++;for(n=u.charCodeAt(0),t=0;t<8;t++)p=p<<1|1&n,15==h?(h=0,f+=v(p),p=0):h++,n>>=1}else{for(n=1,t=0;t<d;t++)p=p<<1|n,15==h?(h=0,f+=v(p),p=0):h++,n=0;for(n=u.charCodeAt(0),t=0;t<16;t++)p=p<<1|1&n,15==h?(h=0,f+=v(p),p=0):h++,n>>=1}0==--l&&(l=Math.pow(2,d),d++),delete o[u]}else for(n=r[u],t=0;t<d;t++)p=p<<1|1&n,15==h?(h=0,f+=v(p),p=0):h++,n>>=1;0==--l&&(l=Math.pow(2,d),d++),r[s]=c++,u=String(a)}if(""!==u){if(Object.prototype.hasOwnProperty.call(o,u)){if(u.charCodeAt(0)<256){for(t=0;t<d;t++)p<<=1,15==h?(h=0,f+=v(p),p=0):h++;for(n=u.charCodeAt(0),t=0;t<8;t++)p=p<<1|1&n,15==h?(h=0,f+=v(p),p=0):h++,n>>=1}else{for(n=1,t=0;t<d;t++)p=p<<1|n,15==h?(h=0,f+=v(p),p=0):h++,n=0;for(n=u.charCodeAt(0),t=0;t<16;t++)p=p<<1|1&n,15==h?(h=0,f+=v(p),p=0):h++,n>>=1}0==--l&&(l=Math.pow(2,d),d++),delete o[u]}else for(n=r[u],t=0;t<d;t++)p=p<<1|1&n,15==h?(h=0,f+=v(p),p=0):h++,n>>=1;0==--l&&(l=Math.pow(2,d),d++)}for(n=2,t=0;t<d;t++)p=p<<1|1&n,15==h?(h=0,f+=v(p),p=0):h++,n>>=1;for(;;){if(p<<=1,15==h){f+=v(p);break}h++}return f}(e);l<2*e.length;)l%2==0?(t=e.charCodeAt(l/2)>>8,n=255&e.charCodeAt(l/2),i=l/2+1<e.length?e.charCodeAt(l/2+1)>>8:NaN):(t=255&e.charCodeAt((l-1)/2),(l+1)/2<e.length?(n=e.charCodeAt((l+1)/2)>>8,i=255&e.charCodeAt((l+1)/2)):n=i=NaN),l+=3,r=t>>2,o=(3&t)<<4|n>>4,a=(15&n)<<2|i>>6,s=63&i,isNaN(n)?a=s=64:isNaN(i)&&(s=64),u=u+ct.charAt(r)+ct.charAt(o)+ct.charAt(a)+ct.charAt(s);return u},ft=b("fireRequest"),pt=b("dropRequestDueToOptOut"),ht=b("addUseIPToRequest"),vt=b("addARPToRequest"),gt=function(){function e(){t(this,e)}return i(e,null,[{key:"fireRequest",value:function(e,t,n){S(this,ft)[ft](e,1,t,n)}}]),e}();gt.logger=void 0,gt.device=void 0,Object.defineProperty(gt,ft,{value:function(e,t,n,i){var r,o,a=this;if(S(this,pt)[pt]())this.logger.debug("req dropped due to optout cookie: "+this.device.gcookie);else if(me(this.device.gcookie)||(Oe.blockRequest=!0),!me(this.device.gcookie)&&Oe.globalCache.RESP_N<Oe.globalCache.REQ_N-1&&t<200)setTimeout((function(){a.logger.debug("retrying fire request for url: ".concat(e,", tries: ").concat(t)),S(a,ft)[ft](e,t+1,n,i)}),50);else{if(i?window.isOULInProgress=!0:(me(this.device.gcookie)&&(e=st(e,"gc",this.device.gcookie)),e=S(this,vt)[vt](e,n)),e=st(e,"tries",t),e=S(this,ht)[ht](e),e=st(e,"r",(new Date).getTime()),(null===(r=window.clevertap)||void 0===r?void 0:r.hasOwnProperty("plugin"))||(null===(o=window.wizrocket)||void 0===o?void 0:o.hasOwnProperty("plugin"))){var s=window.clevertap.plugin||window.wizrocket.plugin;e=st(e,"ct_pl",s)}-1!==e.indexOf("chrome-extension:")&&(e=e.replace("chrome-extension:","https:"));for(var u=document.getElementsByClassName("ct-jp-cb");u[0];)u[0].parentNode.removeChild(u[0]);var l=document.createElement("script");l.setAttribute("type","text/javascript"),l.setAttribute("src",e),l.setAttribute("class","ct-jp-cb"),l.setAttribute("rel","nofollow"),l.async=!0,document.getElementsByTagName("head")[0].appendChild(l),this.logger.debug("req snt -> url: "+e)}}}),Object.defineProperty(gt,pt,{value:function(){return!Oe.isOptInRequest&&me(this.device.gcookie)&&fe(this.device.gcookie)?":OO"===this.device.gcookie.slice(-3):(Oe.isOptInRequest=!1,!1)}}),Object.defineProperty(gt,ht,{value:function(e){var t=Pe.getMetaProp(B);return"boolean"!=typeof t&&(t=!1),st(e,B,t?"true":"false")}}),Object.defineProperty(gt,vt,{value:function(e,t){if(!0===t){return st(e,"arp",lt(JSON.stringify({skipResARP:!0}),this.logger))}return Pe._isLocalStorageSupported()&&void 0!==localStorage.getItem(q)&&null!==localStorage.getItem(q)?st(e,"arp",lt(JSON.stringify(Pe.readFromLSorCookie(q)),this.logger)):e}});var yt=function(){var e={};return Pe._isLocalStorageSupported()&&(e=null!=(e=Pe.read(U))?JSON.parse(decodeURIComponent(e).replace(R,'"')):{}),e},mt=function(e){if(Pe._isLocalStorageSupported()){var t=JSON.stringify(e);Pe.save(U,encodeURIComponent(t))}},bt=function(){var e={};if(Pe._isLocalStorageSupported()){var t=[],n=(e=yt()).global,i=e[_e()];if(void 0!==n){var r=Object.keys(n);for(var o in r)if(r.hasOwnProperty(o)){var a=0,s=0,u=r[o];if("tc"===u)continue;void 0!==i&&void 0!==i[u]&&(a=i[u]),void 0!==n&&void 0!==n[u]&&(s=n[u]);var l=[u,a,s];t.push(l)}}var c=0;return void 0!==i&&void 0!==i.tc&&(c=i.tc),{wmp:c,tlc:t}}},St=function(e,t){var n=t.logger,i=!1;if(pe(e))for(var r in e)if(e.hasOwnProperty(r)){i=!0;var o=e[r];if(null==o){delete e[r];continue}"Gender"!==r||o.match(/^M$|^F$/)||(i=!1,n.error(Ke)),"Employed"!==r||o.match(/^Y$|^N$/)||(i=!1,n.error(He)),"Married"!==r||o.match(/^Y$|^N$/)||(i=!1,n.error(We)),"Education"!==r||o.match(/^School$|^College$|^Graduate$/)||(i=!1,n.error(Be)),"Age"===r&&null!=o&&(ge(o)?e.Age=+o:(i=!1,n.error(Ge))),"DOB"===r?(/^\$D_/.test(o)&&11===(o+"").length||he(o)||(i=!1,n.error(Ye)),he(o)&&(e[r]=ke(o))):he(o)&&(e[r]=ke(o)),"Phone"!==r||ve(o)||(o.length>8&&"+"===o.charAt(0)?(o=o.substring(1,o.length),ge(o)?e.Phone=+o:(i=!1,n.error($e+". Removed."))):(i=!1,n.error($e+". Removed."))),i||delete e[r]}return i},_t=function(e){var t={};t.Name=e.name,null!=e.id&&(t.FBID=e.id+""),"male"===e.gender?t.Gender="M":"female"===e.gender?t.Gender="F":t.Gender="O";null!=e.relationship_status&&(t.Married="N","Married"===e.relationship_status&&(t.Married="Y"));var n=function(e){if(null!=e){for(var t="",n="",i=0;i<e.length;i++){var r=e[i];if(null!=r.type){var o=r.type;if("Graduate School"===o)return"Graduate";"College"===o?t="1":"High School"===o&&(n="1")}}if("1"===t)return"College";if("1"===n)return"School"}}(e.education);null!=n&&(t.Education=n);var i=null!=e.work?e.work.length:0;if(t.Employed=i>0?"Y":"N",null!=e.email&&(t.Email=e.email),null!=e.birthday){var r=e.birthday.split("/");t.DOB=Ae(r[2]+r[0]+r[1])}return t},wt=function(e,t){var n=t.logger,i={};if(null!=e.displayName&&(i.Name=e.displayName),null!=e.id&&(i.GPID=e.id+""),null!=e.gender&&("male"===e.gender?i.Gender="M":"female"===e.gender?i.Gender="F":"other"===e.gender&&(i.Gender="O")),null!=e.image&&!1===e.image.isDefault&&(i.Photo=e.image.url.split("?sz")[0]),null!=e.emails)for(var r=0;r<e.emails.length;r++){var o=e.emails[r];"account"===o.type&&(i.Email=o.value)}if(null!=e.organizations){i.Employed="N";for(var a=0;a<e.organizations.length;a++)"work"===e.organizations[a].type&&(i.Employed="Y")}if(null!=e.birthday){var s=e.birthday.split("-");i.DOB=Ae(s[0]+s[1]+s[2])}return null!=e.relationshipStatus&&(i.Married="N","married"===e.relationshipStatus&&(i.Married="Y")),n.debug("gplus usr profile "+JSON.stringify(i)),i},kt=function(e,t){if(Pe._isLocalStorageSupported()){if(null==Oe.globalProfileMap&&(Oe.globalProfileMap=Pe.readFromLSorCookie(V),null==Oe.globalProfileMap&&(Oe.globalProfileMap={})),null!=e._custom){var n=e._custom;for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i]);delete e._custom}for(var r in e)if(e.hasOwnProperty(r)){if(Oe.globalProfileMap.hasOwnProperty(r)&&!t)continue;Oe.globalProfileMap[r]=e[r]}null!=Oe.globalProfileMap._custom&&delete Oe.globalProfileMap._custom,Pe.saveToLSorCookie(V,Oe.globalProfileMap)}},At=function(e,t,n){if(null!=e&&"-1"!==e&&Pe._isLocalStorageSupported()){var i=yt(),r=i[n];null==r&&(r={},i[n]=r),r[e]="dnd",mt(i)}if(null!=Oe.campaignDivMap){var o=Oe.campaignDivMap[e];null!=o&&(document.getElementById(o).style.display="none","intentPreview"===o&&null!=document.getElementById("intentOpacityDiv")&&(document.getElementById("intentOpacityDiv").style.display="none"))}},Et=function(e,t){if(fe(e)||ye(e))return"$E_"+e;t.error(Je)},Pt=function(e,t,n,i,r){var o=at(location.href),a=o.e,s=o.p;if(void 0!==a){var u={};u.id=i.id,u.unsubGroups=Oe.unsubGroups,Oe.updatedCategoryLong&&(u[Q]=Oe.updatedCategoryLong);var l=i.emailURL;n&&(l=st(l,"fetchGroups",n)),t&&(l=st(l,"encoded",t)),l=st(l,"e",a),l=st(l,"d",lt(JSON.stringify(u),r)),s&&(l=st(l,"p",s)),"-1"!==e&&(l=st(l,"sub",e)),gt.fireRequest(l)}},Ot=b("logger"),Ct=b("request"),It=b("account"),Tt=b("oldValues"),Rt=b("isPersonalisationActive"),Mt=b("processProfileArray"),Dt=function(e){s(o,e);var n=v(o);function o(e,i){var r,a=e.logger,s=e.request,u=e.account,l=e.isPersonalisationActive;return t(this,o),r=n.call(this),Object.defineProperty(p(r),Mt,{value:Nt}),Object.defineProperty(p(r),Ot,{writable:!0,value:void 0}),Object.defineProperty(p(r),Ct,{writable:!0,value:void 0}),Object.defineProperty(p(r),It,{writable:!0,value:void 0}),Object.defineProperty(p(r),Tt,{writable:!0,value:void 0}),Object.defineProperty(p(r),Rt,{writable:!0,value:void 0}),S(p(r),Ot)[Ot]=a,S(p(r),Ct)[Ct]=s,S(p(r),It)[It]=u,S(p(r),Tt)[Tt]=i,S(p(r),Rt)[Rt]=l,r}return i(o,[{key:"push",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S(this,Mt)[Mt](t),0}},{key:"_processOldValues",value:function(){S(this,Tt)[Tt]&&S(this,Mt)[Mt](S(this,Tt)[Tt]),S(this,Tt)[Tt]=null}},{key:"getAttribute",value:function(e){if(S(this,Rt)[Rt]())return null==Oe.globalProfileMap&&(Oe.globalProfileMap=Pe.readFromLSorCookie(V)),null!=Oe.globalProfileMap?Oe.globalProfileMap[e]:void 0}},{key:"_handleIncrementDecrementValue",value:function(e,t,n){var i;if(null==Oe.globalProfileMap&&(Oe.globalProfileMap=Pe.readFromLSorCookie(V)),null!=Oe.globalProfileMap||(null===(i=Oe.globalProfileMap)||void 0===i?void 0:i.hasOwnProperty(e)))if(!t||"number"!=typeof t||t<=0)console.error("Value should be a number greater than 0");else{Oe.globalProfileMap[e]=n===oe?Oe.globalProfileMap[e]+t:Oe.globalProfileMap[e]-t,Pe.saveToLSorCookie(V,Oe.globalProfileMap);var o={},a={};o.type="profile",a[e]=r({},n,t),null==a.tz&&(a.tz=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1]),o.profile=a,o=S(this,Ct)[Ct].addSystemDataToProfileObject(o,void 0),S(this,Ct)[Ct].addFlags(o);var s=lt(JSON.stringify(o),S(this,Ot)[Ot]),u=S(this,It)[It].dataPostURL;u=st(u,"type",J),u=st(u,"d",s),S(this,Ct)[Ct].saveAndFireRequest(u,Oe.blockRequest)}else console.error("Kindly create profile with required proprty to increment/decrement.")}},{key:"_handleMultiValueSet",value:function(e,t,n){for(var i=[],r=0;r<t.length;r++)"number"!=typeof t[r]||i.includes(t[r])?"string"!=typeof t[r]||i.includes(t[r].toLowerCase())?console.error("array supports only string or number type values"):i.push(t[r].toLowerCase()):i.push(t[r]);null==Oe.globalProfileMap&&(Oe.globalProfileMap=Pe.readFromLSorCookie(V)),Oe.globalProfileMap[e]=i,Pe.saveToLSorCookie(V,Oe.globalProfileMap),this.sendMultiValueData(e,t,n)}},{key:"_handleMultiValueAdd",value:function(e,t,n){var i=[];if(null==Oe.globalProfileMap&&(Oe.globalProfileMap=Pe.readFromLSorCookie(V)),"string"==typeof t||"number"==typeof t)Oe.globalProfileMap.hasOwnProperty(e)?(i=Oe.globalProfileMap[e],"number"==typeof t?i.push(t):i.push(t.toLowerCase())):Oe.globalProfileMap[e]=t;else{Oe.globalProfileMap.hasOwnProperty(e)&&(i=Oe.globalProfileMap[e]);for(var r=0;r<t.length;r++)"number"!=typeof t[r]||i.includes(t[r])?"string"!=typeof t[r]||i.includes(t[r].toLowerCase())?"number"==typeof t[r]&&i.includes(t[r])||"string"==typeof t[r]&&i.includes(t[r].toLowerCase())?console.error("Values already included"):console.error("array supports only string or number type values"):i.push(t[r].toLowerCase()):i.push(t[r]);Oe.globalProfileMap[e]=i}Pe.saveToLSorCookie(V,Oe.globalProfileMap),this.sendMultiValueData(e,t,n)}},{key:"_handleMultiValueRemove",value:function(e,t,n){if(null==Oe.globalProfileMap&&(Oe.globalProfileMap=Pe.readFromLSorCookie(V)),Oe.globalProfileMap.hasOwnProperty(e))if("string"==typeof t||"number"==typeof t){var i=Oe.globalProfileMap[e].indexOf(t);-1!==i&&Oe.globalProfileMap[e].splice(i,1)}else for(var r=0;r<t.length;r++){var o=Oe.globalProfileMap[e].indexOf(t[r]);-1!==o&&Oe.globalProfileMap[e].splice(o,1)}else console.error("The property ".concat(e," does not exist."));Pe.saveToLSorCookie(V,Oe.globalProfileMap),this.sendMultiValueData(e,t,n)}},{key:"_handleMultiValueDelete",value:function(e,t){null==Oe.globalProfileMap&&(Oe.globalProfileMap=Pe.readFromLSorCookie(V)),Oe.globalProfileMap.hasOwnProperty(e)?delete Oe.globalProfileMap[e]:console.error("The property ".concat(e," does not exist.")),Pe.saveToLSorCookie(V,Oe.globalProfileMap),this.sendMultiValueData(e,null,t)}},{key:"sendMultiValueData",value:function(e,t,n){var i={},o={};i.type="profile",o[e]=r({},n,n===ce||t),null==o.tz&&(o.tz=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1]),i.profile=o,i=S(this,Ct)[Ct].addSystemDataToProfileObject(i,void 0),S(this,Ct)[Ct].addFlags(i);var a=lt(JSON.stringify(i),S(this,Ot)[Ot]),s=S(this,It)[It].dataPostURL;s=st(s,"type",J),s=st(s,"d",a),S(this,Ct)[Ct].saveAndFireRequest(s,Oe.blockRequest)}}]),o}(f(Array)),Nt=function(e){if(Array.isArray(e)&&e.length>0)for(var t in e)if(e.hasOwnProperty(t)){var n=e[t],i={},r=void 0;if(null!=n.Site){if(r=n.Site,ve(r)||!St(r,{logger:S(this,Ot)[Ot]}))return}else if(null!=n.Facebook){var o=n.Facebook;ve(o)||o.error||(r=_t(o))}else if(null!=n["Google Plus"]){var a=n["Google Plus"];ve(a)||a.error||(r=wt(a,{logger:S(this,Ot)[Ot]}))}if(null!=r&&!ve(r)){i.type="profile",null==r.tz&&(r.tz=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1]),i.profile=r,kt(r,!0),i=S(this,Ct)[Ct].addSystemDataToObject(i,void 0),S(this,Ct)[Ct].addFlags(i);var s=lt(JSON.stringify(i),S(this,Ot)[Ot]),u=S(this,It)[It].dataPostURL;u=st(u,"type",J),u=st(u,"d",s),S(this,Ct)[Ct].saveAndFireRequest(u,Oe.blockRequest)}}},Lt=b("request"),jt=b("logger"),Ut=b("account"),xt=b("session"),Ft=b("oldValues"),Vt=b("device"),qt=b("processOUL"),zt=b("handleCookieFromCache"),Kt=b("deleteUser"),Ht=b("processLoginArray"),Wt=function(e){s(r,e);var n=v(r);function r(e,i){var o,a=e.request,s=e.account,u=e.session,l=e.logger,c=e.device;return t(this,r),o=n.call(this),Object.defineProperty(p(o),Ht,{value:Jt}),Object.defineProperty(p(o),Kt,{value:Yt}),Object.defineProperty(p(o),zt,{value:Gt}),Object.defineProperty(p(o),qt,{value:Bt}),Object.defineProperty(p(o),Lt,{writable:!0,value:void 0}),Object.defineProperty(p(o),jt,{writable:!0,value:void 0}),Object.defineProperty(p(o),Ut,{writable:!0,value:void 0}),Object.defineProperty(p(o),xt,{writable:!0,value:void 0}),Object.defineProperty(p(o),Ft,{writable:!0,value:void 0}),Object.defineProperty(p(o),Vt,{writable:!0,value:void 0}),S(p(o),Lt)[Lt]=a,S(p(o),Ut)[Ut]=s,S(p(o),xt)[xt]=u,S(p(o),jt)[jt]=l,S(p(o),Ft)[Ft]=i,S(p(o),Vt)[Vt]=c,o}return i(r,[{key:"clear",value:function(){S(this,jt)[jt].debug("clear called. Reset flag has been set."),S(this,Kt)[Kt](),Pe.setMetaProp(M,!0)}},{key:"push",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S(this,Ht)[Ht](t),0}},{key:"_processOldValues",value:function(){S(this,Ft)[Ft]&&S(this,Ht)[Ht](S(this,Ft)[Ft]),S(this,Ft)[Ft]=null}}]),r}(f(Array)),Bt=function(e){var t=this,n=!0;Pe.saveToLSorCookie(ie,n);var i=function(e){var i,r=Pe.readFromLSorCookie(j),o=Pe.readFromLSorCookie(L);if(null==r)r={},i=e;else{var a=!1,s=!1;if(null==(i=r.id)&&(i=e[0],a=!0),null==Oe.LRU_CACHE&&Pe._isLocalStorageSupported()&&(Oe.LRU_CACHE=new Te(100)),a)null!=o&&(Oe.LRU_CACHE.set(i,o),Oe.blockRequest=!1);else for(var u in e)if(e.hasOwnProperty(u)){var l=e[u];if(Oe.LRU_CACHE.cache[l]){i=l,s=!0;break}}if(s){i!==Oe.LRU_CACHE.getLastKey()?S(t,zt)[zt]():(n=!1,Pe.saveToLSorCookie(ie,n));var c=Oe.LRU_CACHE.get(i);Oe.LRU_CACHE.set(i,c),Pe.saveToLSorCookie(L,c),S(t,Vt)[Vt].gcookie=c;var d=Oe.LRU_CACHE.getSecondLastKey();if(Pe.readFromLSorCookie(ie)&&-1!==d){var f=Oe.LRU_CACHE.cache[d];S(t,Lt)[Lt].unregisterTokenForGuid(f)}}else a?null!=o&&(S(t,Vt)[Vt].gcookie=o,Pe.saveToLSorCookie(L,o),n=!1):t.clear(),Pe.saveToLSorCookie(ie,!1),i=e[0]}r.id=i,Pe.saveToLSorCookie(j,r)};if(Array.isArray(e)&&e.length>0)for(var r in e)if(e.hasOwnProperty(r)){var o=e[r],a={},s=void 0;if(null!=o.Site){if(s=o.Site,ve(s)||!St(s,{logger:S(this,jt)[jt]}))return}else if(null!=o.Facebook){var u=o.Facebook;ve(u)||u.error||(s=_t(u))}else if(null!=o["Google Plus"]){var l=o["Google Plus"];ve(l)&&!l.error&&(s=wt(l,{logger:S(this,jt)[jt]}))}if(null!=s&&!ve(s)){a.type="profile",null==s.tz&&(s.tz=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1]),a.profile=s;var c=[];Pe._isLocalStorageSupported()&&(null!=s.Identity&&c.push(s.Identity),null!=s.Email&&c.push(s.Email),null!=s.GPID&&c.push("GP:"+s.GPID),null!=s.FBID&&c.push("FB:"+s.FBID),c.length>0&&i(c)),kt(s,!0),a=S(this,Lt)[Lt].addSystemDataToObject(a,void 0),S(this,Lt)[Lt].addFlags(a),n&&(a[Y]=!0);var d=lt(JSON.stringify(a),S(this,jt)[jt]),f=S(this,Ut)[Ut].dataPostURL;f=st(f,"type",J),f=st(f,"d",d),S(this,Lt)[Lt].saveAndFireRequest(f,Oe.blockRequest,n)}}},Gt=function(){Oe.blockRequest=!1,console.debug("Block request is false"),Pe._isLocalStorageSupported()&&(delete localStorage[V],delete localStorage[x],delete localStorage[F],delete localStorage[q],delete localStorage[U],delete localStorage[N]),Pe.removeCookie(U,ut()),Pe.removeCookie(S(this,xt)[xt].cookieName,Oe.broadDomain),Pe.removeCookie(q,Oe.broadDomain),S(this,xt)[xt].setSessionCookieObject("")},Yt=function(){Oe.blockRequest=!0,S(this,jt)[jt].debug("Block request is true"),Oe.globalCache={gcookie:null,REQ_N:0,RESP_N:0},Pe._isLocalStorageSupported()&&(delete localStorage[L],delete localStorage[j],delete localStorage[V],delete localStorage[x],delete localStorage[F],delete localStorage[q],delete localStorage[U],delete localStorage[N]),Pe.removeCookie(L,Oe.broadDomain),Pe.removeCookie(U,ut()),Pe.removeCookie(j,ut()),Pe.removeCookie(S(this,xt)[xt].cookieName,Oe.broadDomain),Pe.removeCookie(q,Oe.broadDomain),S(this,Vt)[Vt].gcookie=null,S(this,xt)[xt].setSessionCookieObject("")},Jt=function(e){if(Array.isArray(e)&&e.length>0){var t=e.pop();if(null!=t&&pe(t)&&(null!=t.Site&&Object.keys(t.Site).length>0||null!=t.Facebook&&Object.keys(t.Facebook).length>0||null!=t["Google Plus"]&&Object.keys(t["Google Plus"]).length>0)){Pe.setInstantDeleteFlagInK();try{S(this,qt)[qt]([t])}catch(e){S(this,jt)[jt].debug(e)}}else S(this,jt)[jt].error("Profile object is in incorrect format")}},$t=function(e){s(r,e);var n=v(r);function r(){var e;return t(this,r),(e=n.call(this))._details=null,e.shadow=null,e.shadow=e.attachShadow({mode:"open"}),e}return i(r,[{key:"renderBanner",value:function(){var e=this;this.shadow.innerHTML=this.getBannerContent(),!1!==this.trackClick&&this.addEventListener("click",(function(){var t=e.details.onClick;t&&(e.details.window?window.open(t,"_blank"):window.parent.location.href=t),window.clevertap.renderNotificationClicked({msgId:e.msgId,pivotId:e.pivotId})})),window.clevertap.renderNotificationViewed({msgId:this.msgId,pivotId:this.pivotId})}},{key:"getBannerContent",value:function(){return'\n      <style type="text/css">\n        .banner {\n          position: relative;\n          cursor: pointer;\n        }\n        img {\n          height: '.concat(this.divHeight?this.divHeight:"auto",";\n          width: 100%;\n        }\n        .wrapper:is(.left, .right, .center) {\n          display: flex;\n          justify-content: center;\n          flex-direction: column;\n          align-items: center;\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          overflow: auto;\n          top: 0;\n        }\n        ").concat(this.details.css?this.details.css:"",'\n      </style>\n      <div class="banner">\n        <picture>\n          <source media="(min-width:480px)" srcset="').concat(this.details.desktopImageURL,'">\n          <source srcset="').concat(this.details.mobileImageURL,'">\n          <img src="').concat(this.details.desktopImageURL,'" alt="Please upload a picture" style="width:100%;">\n        </picture>\n        ').concat(this.details.html?this.details.html:"","\n      </div>\n    ")}},{key:"details",get:function(){return this._details||""},set:function(e){null===this._details&&(this._details=e,this.renderBanner())}}]),r}(f(HTMLElement)),Zt=function(e){s(r,e);var n=v(r);function r(){var e;return t(this,r),(e=n.call(this))._target=null,e._carousel=null,e.shadow=null,e.slides=0,e.previouslySelectedItem=-1,e.selectedItem=1,e.autoSlide=null,e.stopAutoSlideTimeout=null,e.shadow=e.attachShadow({mode:"open"}),void 0===customElements.get("ct-web-personalisation-banner")&&customElements.define("ct-web-personalisation-banner",$t),e}return i(r,[{key:"renderCarousel",value:function(){this.slides=this.details.length,this.shadow.innerHTML=this.getStyles();var e=this.getCarouselContent();this.display.showNavBtns&&e.insertAdjacentHTML("beforeend",this.display.navBtnsHtml),this.display.showNavArrows&&(e.insertAdjacentHTML("beforeend",this.display.leftNavArrowHtml),e.insertAdjacentHTML("beforeend",this.display.rightNavArrowHtml)),this._carousel=e,this.shadow.appendChild(e),this.setupClick(),this.updateSelectedItem(),this.startAutoSlide(),this.setupOnHover(),window.clevertap.renderNotificationViewed({msgId:this.target.wzrk_id,pivotId:this.target.wzrk_pivot})}},{key:"setupClick",value:function(){var e=this;this._carousel.addEventListener("click",(function(t){var n=t.target.id;if(n.startsWith("carousel__button")){var i=+n.split("-")[1];i!==e.selectedItem&&(e.previouslySelectedItem=e.selectedItem,e.selectedItem=i,e.updateSelectedItem(),e.startAutoSlide())}else if(n.startsWith("carousel__arrow"))n.endsWith("right")?e.goToNext():e.goToPrev(),e.startAutoSlide();else if(n.indexOf("-")>-1){var r=+n.split("-")[1],o=r-1;window.parent.clevertap&&window.clevertap.renderNotificationClicked({msgId:e.target.wzrk_id,pivotId:e.target.wzrk_pivot,wzrk_slideNo:r});var a=e.details[o].onClick;""!==a&&(e.details[o].window?window.open(a,"_blank"):window.location.href=a)}}))}},{key:"setupOnHover",value:function(){var e=this;this._carousel.addEventListener("mouseenter",(function(t){e.stopAutoSlideTimeout=setTimeout((function(){e.autoSlide=clearInterval(e.autoSlide)}),500)})),this._carousel.addEventListener("mouseleave",(function(t){clearTimeout(e.stopAutoSlideTimeout),void 0===e.autoSlide&&e.startAutoSlide()}))}},{key:"getCarouselContent",value:function(){var e=document.createElement("div");return e.setAttribute("class","carousel"),this.details.forEach((function(t,n){var i=document.createElement("ct-web-personalisation-banner");i.classList.add("carousel__item"),i.trackClick=!1,i.setAttribute("id","carousel__item-".concat(n+1)),i.details=t,e.appendChild(i)})),e}},{key:"getStyles",value:function(){return"\n      <style>\n      .carousel {\n        position: relative;\n      }\n\n      .carousel__item {\n        background-color: grey;\n        display: none;\n        background-repeat: no-repeat;\n        background-size: cover;\n      }\n\n      .carousel__item img {\n        height: auto;\n        width: 100%;\n        transition: 2s;\n      }\n\n      .carousel__item--selected {\n        display: block;\n      }\n      ".concat(this.display.navBtnsCss,"\n      ").concat(this.display.navArrowsCss,"\n      </style>\n  ")}},{key:"updateSelectedItem",value:function(){var e;if(-1!==this.previouslySelectedItem){var t,n=this.shadow.getElementById("carousel__item-".concat(this.previouslySelectedItem)),i=this.shadow.getElementById("carousel__button-".concat(this.previouslySelectedItem));n.classList.remove("carousel__item--selected"),null!==(t=null!==i)&&void 0!==t||i.classList.remove("carousel__button--selected")}var r=this.shadow.getElementById("carousel__item-".concat(this.selectedItem)),o=this.shadow.getElementById("carousel__button-".concat(this.selectedItem));r.classList.add("carousel__item--selected"),null!==(e=null!==o)&&void 0!==e||o.classList.add("carousel__button--selected")}},{key:"startAutoSlide",value:function(){var e=this;clearInterval(this.autoSlide),this.autoSlide=setInterval((function(){e.goToNext()}),this.display.sliderTime?1e3*this.display.sliderTime:3e3)}},{key:"goToNext",value:function(){this.goTo(this.selectedItem,(this.selectedItem+1)%this.slides)}},{key:"goToPrev",value:function(){this.goTo(this.selectedItem,this.selectedItem-1)}},{key:"goTo",value:function(e,t){this.previouslySelectedItem=e,this.selectedItem=t,0===t&&(this.selectedItem=this.slides),this.updateSelectedItem()}},{key:"target",get:function(){return this._target||""},set:function(e){null===this._target&&(this._target=e,this.renderCarousel())}},{key:"details",get:function(){return this.target.display.details}},{key:"display",get:function(){return this.target.display}}]),r}(f(HTMLElement)),Qt=function e(t,n){var i,o=n.device,s=n.session,u=n.request,l=n.logger,c=n.isWebPopUpSpamControlDisabled,d=o,f=s,p=u,h=l,v=0,g=function(n){var i=n.wzrk_id.split("_")[0],r=_e(),o=function(e,t,n){var i=0,r=0;null!=e[t]&&(i=e[t]),i++,null!=e.tc&&(r=e.tc),n<0&&r++,e.tc=r,e[t]=i};if(Pe._isLocalStorageSupported()){delete sessionStorage[U];var a=yt();null==n[H].wmc&&(n[H].wmc=1);var s=-1,u=-1,l=-1,c=-1,v=-1,g=-1;null!=n[H].efc&&(s=parseInt(n[H].efc,10)),null!=n[H].mdc&&(u=parseInt(n[H].mdc,10)),null!=n[H].tdc&&(l=parseInt(n[H].tdc,10)),null!=n[H].tlc&&(c=parseInt(n[H].tlc,10)),null!=n[H].wmp&&(v=parseInt(n[H].wmp,10)),null!=n[H].wmc&&(g=parseInt(n[H].wmc,10));var y=a[f.sessionId];if(y){var m=y[i],b=y.tc;if("dnd"===m)return!1;if(g>0&&b>=g&&s<0)return!1;if(u>0&&m>=u)return!1}else y={},a[f.sessionId]=y;var S=a[r];if(null!=S){var _=S[i],w=S.tc;if(v>0&&w>=v&&s<0)return!1;if(l>0&&_>=l)return!1}else S={},a[r]=S;var k=a[K];if(null!=k){var A=k[i];if(c>0&&A>=c)return!1}else k={},a[K]=k}if(null!=n[H].delay&&n[H].delay>0){var E=n[H].delay;return n[H].delay=0,setTimeout(e,1e3*E,t,{device:d,session:f,request:p,logger:h}),!1}var P=f.getSessionCookieObject();o(P,i,s),o(S,i,s),o(k,i,s);var O={};O[f.sessionId]=P,O[r]=S,O[K]=k,mt(O)},m=function(){var e=d.getGuid(),t=f.getSessionCookieObject();return"&t=wc&d="+encodeURIComponent(dt(e+"|"+t.p+"|"+t.s))},b=function(e,t){var n=window.parent[e];"function"==typeof n&&(null!=t.display.kv?n(t.display.kv):n())},S=function(e,t,n,i,r){_(t),function(e,t,n,i,r){if(""!==e&&null!=e){var o,a;r?o=n:null!==n&&null!=(a=n.getElementsByClassName("jsCT_CTA"))&&1===a.length&&(o=a[0]);var s=t.display.jsFunc,u=t.display.preview;null==u&&(e+=m()),null!=o&&(o.onclick=function(){if(null!=s)return null==u&&gt.fireRequest(e),b(s,t),void At("-1",0,f.sessionId);1===t.display.window?window.open(e,"_blank"):window.location=e})}}(e,t,n,0,r)},_=function(e){var t={type:"event"};t.evtName=te,t.evtData=r({},ee,e.wzrk_id),e.wzrk_pivot&&(t.evtData=a(a({},t.evtData),{},{wzrk_pivot:e.wzrk_pivot})),p.processEvent(t)},w=function(e){var t=e.wzrk_id.split("_")[0],n=e.display;if(2===n.wtarget_type){if(1===e.msgContent.type){var i={};i.msgId=e.wzrk_id,e.wzrk_pivot&&(i.pivotId=e.wzrk_pivot),null!=e.msgContent.kv&&(i.kv=e.msgContent.kv);var r=new CustomEvent("CT_web_native_display",{detail:i});return void document.dispatchEvent(r)}if(2===e.msgContent.type){var o=e.display.divId;if(null==document.getElementById(o))return;return void 0===customElements.get("ct-web-personalisation-banner")&&customElements.define("ct-web-personalisation-banner",$t),function(e){var t=e.display.divId,n=document.createElement("ct-web-personalisation-banner");n.msgId=e.wzrk_id,n.pivotId=e.wzrk_pivot,n.divHeight=e.display.divHeight,n.details=e.display.details[0];var i=document.getElementById(t);i.innerHTML="",i.appendChild(n)}(e)}if(3===e.msgContent.type){var a=e.display.divId;if(null==document.getElementById(a))return;return void 0===customElements.get("ct-web-personalisation-carousel")&&customElements.define("ct-web-personalisation-carousel",Zt),function(e){var t=e.display.divId,n=document.createElement("ct-web-personalisation-carousel");n.target=e;var i=document.getElementById(t);i.innerHTML="",i.appendChild(n)}(e)}}if(1===n.layout)return P(void 0,e);if(c||!1!==g(e)){var s="wizParDiv"+n.layout;if(c&&null!=document.getElementById(s)&&document.getElementById(s).remove(),null==document.getElementById(s)){Oe.campaignDivMap[t]=s;var u=2===n.layout,l=document.createElement("div");l.id=s;var d=window.innerHeight,f=window.innerWidth,p=!1;if(u)l.setAttribute("style",n.iFrameStyle);else{var h=10,v=5*f/100,y=h+5*d/100,m=30*f/100+20,b="width:30%;";(/mobile/i.test(navigator.userAgent)||/mini/i.test(navigator.userAgent))&&!1===/iPad/i.test(navigator.userAgent)?(m=85*f/100+20,v=5*f/100,y=5*d/100,b="width:80%;"):("ontouchstart"in window||/tablet/i.test(navigator.userAgent))&&(m=50*f/100+20,v=5*f/100,y=5*d/100,b="width:50%;"),null==n.proto?(p=!0,l.setAttribute("style","display:block;overflow:hidden; bottom:"+y+"px !important;width:"+m+"px !important;right:"+v+"px !important;position:fixed;z-index:2147483647;")):l.setAttribute("style",b+n.iFrameStyle)}document.body.appendChild(l);var _=document.createElement("iframe"),w=!1===n.br?"0":"8";_.frameborder="0px",_.marginheight="0px",_.marginwidth="0px",_.scrolling="no",_.id="wiz-iframe";var A,E=e.display.onClick,O="";if(""!==E&&null!=E&&(O="cursor:pointer;"),1===e.msgContent.type)A=(A=e.msgContent.html).replace(/##campaignId##/g,t);else{var C,I,T,R,M,D='<style type="text/css">body{margin:0;padding:0;}#contentDiv.wzrk{overflow:hidden;padding:0;text-align:center;'+O+"}#contentDiv.wzrk td{padding:15px 10px;}.wzrkPPtitle{font-weight: bold;font-size: 16px;font-family:arial;padding-bottom:10px;word-break: break-word;}.wzrkPPdscr{font-size: 14px;font-family:arial;line-height:16px;word-break: break-word;display:inline-block;}.PL15{padding-left:15px;}.wzrkPPwarp{margin:20px 20px 0 5px;padding:0px;border-radius: "+w+"px;box-shadow: 1px 1px 5px #888888;}a.wzrkClose{cursor:pointer;position: absolute;top: 11px;right: 11px;z-index: 2147483647;font-size:19px;font-family:arial;font-weight:bold;text-decoration: none;width: 25px;/*height: 25px;*/text-align: center; -webkit-appearance: none; line-height: 25px;background: #353535;border: #fff 2px solid;border-radius: 100%;box-shadow: #777 2px 2px 2px;color:#fff;}a:hover.wzrkClose{background-color:#d1914a !important;color:#fff !important; -webkit-appearance: none;}td{vertical-align:top;}td.imgTd{border-top-left-radius:8px;border-bottom-left-radius:8px;}</style>";"dark"===e.display.theme?(C="#2d2d2e",I="#eaeaea",T="#353535",R="#353535",M="#ffffff"):(C="#ffffff",I="#000000",R="#f4f4f4",T="#a5a6a6",M="#ffffff");var N=e.msgContent.title,L=e.msgContent.description,j="";null!=e.msgContent.imageUrl&&""!==e.msgContent.imageUrl&&(j="<td class='imgTd' style='background-color:"+R+"'><img src='"+e.msgContent.imageUrl+"' height='60' width='60'></td>"),A=D+"<div class='wzrkPPwarp' style='color:"+I+";background-color:"+C+";'><a href='javascript:void(0);' onclick=parent.$WZRK_WR.closeIframe("+t+",'"+s+"'); class='wzrkClose' style='background-color:"+T+";color:"+M+"'>&times;</a><div id='contentDiv' class='wzrk'><table cellpadding='0' cellspacing='0' border='0'><tr>"+j+"<td style='vertical-align:top;'><div class='wzrkPPtitle' style='color:"+I+"'>"+N+"</div><div class='wzrkPPdscr' style='color:"+I+"'>"+L+"<div></td></tr></table></div>"}_.setAttribute("style","z-index: 2147483647; display:block; width: 100% !important; border:0px !important; border-color:none !important;"),l.appendChild(_);var U=(_.contentWindow?_.contentWindow:_.contentDocument.document?_.contentDocument.document:_.contentDocument).document;U.open(),U.write(A),n["custom-editor"]&&k(e,U),U.close();var x=function(){h=document.getElementById("wiz-iframe").contentDocument.getElementById("contentDiv").scrollHeight,!0===n["custom-editor"]||u||(h+=25),document.getElementById("wiz-iframe").contentDocument.body.style.margin="0px",document.getElementById("wiz-iframe").style.height=h+"px"},F=navigator.userAgent.toLowerCase();if(-1!==F.indexOf("safari"))if(F.indexOf("chrome")>-1)_.onload=function(){x();var t=document.getElementById("wiz-iframe").contentDocument.getElementById("contentDiv");S(E,e,t,0,p)};else{var V=_.contentDocument||_.contentWindow;V.document&&(V=V.document),x();var q=setInterval((function(){if("complete"===V.readyState){clearInterval(q),x();var t=document.getElementById("wiz-iframe").contentDocument.getElementById("contentDiv");S(E,e,t,0,p)}}),10)}else _.onload=function(){x();var t=document.getElementById("wiz-iframe").contentDocument.getElementById("contentDiv");S(E,e,t,0,p)}}}},k=function(e,t){var n=t.createElement("script");n.innerHTML="\n      const ct__camapignId = '".concat(e.wzrk_id,"';\n      const ct__formatVal = (v) => {\n          return v && v.trim().substring(0, 20);\n      }\n      const ct__parentOrigin =  window.parent.origin;\n      document.body.addEventListener('click', (event) => {\n        const elem = event.target.closest?.('a[wzrk_c2a], button[wzrk_c2a]');\n        if (elem) {\n            const {innerText, id, name, value, href} = elem;\n            const clickAttr = elem.getAttribute('onclick') || elem.getAttribute('click');\n            const onclickURL = clickAttr?.match(/(window.open)[(](\"|')(.*)(\"|',)/)?.[3] || clickAttr?.match(/(location.href *= *)(\"|')(.*)(\"|')/)?.[3];\n            const props = {innerText, id, name, value};\n            let msgCTkv = Object.keys(props).reduce((acc, c) => {\n                const formattedVal = ct__formatVal(props[c]);\n                formattedVal && (acc['wzrk_click_' + c] = formattedVal);\n                return acc;\n            }, {});\n            if(onclickURL) { msgCTkv['wzrk_click_' + 'url'] = onclickURL; }\n            if(href) { msgCTkv['wzrk_click_' + 'c2a'] = href; }\n            const notifData = { msgId: ct__camapignId, msgCTkv, pivotId: '").concat(e.wzrk_pivot,"' };\n            window.parent.clevertap.renderNotificationClicked(notifData);\n        }\n      });\n    "),t.body.appendChild(n)},A=!1,E=function(e){var t=e.display.onClick;if(window.clevertap.hasOwnProperty("notificationCallback")&&void 0!==window.clevertap.notificationCallback&&"function"==typeof window.clevertap.notificationCallback){var n=window.clevertap.notificationCallback;if(!A){var i={};i.msgContent=e.msgContent,i.msgId=e.wzrk_id,e.wzrk_pivot&&(i.pivotId=e.wzrk_pivot),null!=e.display.kv&&(i.kv=e.display.kv),window.clevertap.raiseNotificationClicked=function(){if(""!==t&&null!=t){var n=e.display.jsFunc;if(t+=m(),null!=n)return gt.fireRequest(t),void b(n,e);1===e.display.window?window.open(t,"_blank"):window.location=t}},window.clevertap.raiseNotificationViewed=function(){_(e)},n(i),A=!0}}else if(window.clevertap.popupCurrentWzrkId=e.wzrk_id,w(e),window.clevertap.hasOwnProperty("popupCallbacks")&&void 0!==window.clevertap.popupCallbacks&&"function"==typeof window.clevertap.popupCallbacks[e.wzrk_id]){var o=window.clevertap.popupCallbacks[e.wzrk_id],s={};s.msgContent=e.msgContent,s.msgId=e.wzrk_id,e.wzrk_pivot&&(s.pivotId=e.wzrk_pivot);var u=[];for(var l in e)if(l.startsWith(X)&&l!==ee){var c=r({},l,e[l]);u.push(c)}u.length>0&&(s.msgCTkv=u),null!=e.display.kv&&(s.kv=e.display.kv),window.clevertap.raisePopupNotificationClicked=function(t){if(t&&t.msgId){var n={type:"event"};if(n.evtName=ne,n.evtData=r({},ee,t.msgId),e.wzrk_pivot&&(n.evtData=a(a({},n.evtData),{},{wzrk_pivot:t.pivotId})),t.msgCTkv){var i,o=y(t.msgCTkv);try{for(o.s();!(i=o.n()).done;){var s=i.value;n.evtData=a(a({},n.evtData),s)}}catch(e){o.e(e)}finally{o.f()}}p.processEvent(n)}},o(s)}},P=function(e,t){var n;if(!(null!=e&&e.clientY>0||(n=null==t?i:t,c&&0===n.display.wtarget_type&&null!=document.getElementById("intentPreview")&&null!=document.getElementById("intentOpacityDiv")&&(document.getElementById("intentPreview").remove(),document.getElementById("intentOpacityDiv").remove()),null!=document.getElementById("intentPreview")||null==n.display.layout&&(/mobile/i.test(navigator.userAgent)||/mini/i.test(navigator.userAgent)||/iPad/i.test(navigator.userAgent)||"ontouchstart"in window||/tablet/i.test(navigator.userAgent))))){var r=n.wzrk_id.split("_")[0];if(c||!1!==g(n)){Oe.campaignDivMap[r]="intentPreview";var o=!1,a=document.createElement("div");a.id="intentOpacityDiv",a.setAttribute("style","position: fixed;top: 0;bottom: 0;left: 0;width: 100%;height: 100%;z-index: 2147483646;background: rgba(0,0,0,0.7);"),document.body.appendChild(a);var s=document.createElement("div");s.id="intentPreview",null==n.display.proto?(o=!0,s.setAttribute("style","display:block;overflow:hidden;top:55% !important;left:50% !important;position:fixed;z-index:2147483647;width:600px !important;height:600px !important;margin:-300px 0 0 -300px !important;")):s.setAttribute("style",n.display.iFrameStyle),document.body.appendChild(s);var u=document.createElement("iframe"),l=!1===n.display.br?"0":"8";u.frameborder="0px",u.marginheight="0px",u.marginwidth="0px",u.scrolling="no",u.id="wiz-iframe-intent";var d,f=n.display.onClick,p="";if(""!==f&&null!=f&&(p="cursor:pointer;"),1===n.msgContent.type)d=(d=n.msgContent.html).replace(/##campaignId##/g,r);else{var h,v,y,m,b='<style type="text/css">body{margin:0;padding:0;}#contentDiv.wzrk{overflow:hidden;padding:0 0 20px 0;text-align:center;'+p+"}#contentDiv.wzrk td{padding:15px 10px;}.wzrkPPtitle{font-weight: bold;font-size: 24px;font-family:arial;word-break: break-word;padding-top:20px;}.wzrkPPdscr{font-size: 14px;font-family:arial;line-height:16px;word-break: break-word;display:inline-block;padding:20px 20px 0 20px;line-height:20px;}.PL15{padding-left:15px;}.wzrkPPwarp{margin:20px 20px 0 5px;padding:0px;border-radius: "+l+"px;box-shadow: 1px 1px 5px #888888;}a.wzrkClose{cursor:pointer;position: absolute;top: 11px;right: 11px;z-index: 2147483647;font-size:19px;font-family:arial;font-weight:bold;text-decoration: none;width: 25px;/*height: 25px;*/text-align: center; -webkit-appearance: none; line-height: 25px;background: #353535;border: #fff 2px solid;border-radius: 100%;box-shadow: #777 2px 2px 2px;color:#fff;}a:hover.wzrkClose{background-color:#d1914a !important;color:#fff !important; -webkit-appearance: none;}#contentDiv .button{padding-top:20px;}#contentDiv .button a{font-size: 14px;font-weight:bold;font-family:arial;text-align:center;display:inline-block;text-decoration:none;padding:0 30px;height:40px;line-height:40px;background:#ea693b;color:#fff;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;}</style>";"dark"===n.display.theme?(h="#2d2d2e",v="#eaeaea",y="#353535",m="#ffffff"):(h="#ffffff",v="#000000",y="#a5a6a6",m="#ffffff");var _=n.msgContent.title,w=n.msgContent.description,A="";null!=n.msgContent.ctaText&&""!==n.msgContent.ctaText&&(A="<div class='button'><a href='#'>"+n.msgContent.ctaText+"</a></div>");var E="";null!=n.msgContent.imageUrl&&""!==n.msgContent.imageUrl&&(E="<div style='padding-top:20px;'><img src='"+n.msgContent.imageUrl+"' width='500' alt="+_+" /></div>"),d=b+"<div class='wzrkPPwarp' style='color:"+v+";background-color:"+h+";'><a href='javascript:void(0);' onclick=parent.$WZRK_WR.closeIframe("+r+",'intentPreview'); class='wzrkClose' style='background-color:"+y+";color:"+m+"'>&times;</a><div id='contentDiv' class='wzrk'><div class='wzrkPPtitle' style='color:"+v+"'>"+_+"</div><div class='wzrkPPdscr' style='color:"+v+"'>"+w+"</div>"+E+A+"</div></div>"}u.setAttribute("style","z-index: 2147483647; display:block; height: 100% !important; width: 100% !important;min-height:80px !important;border:0px !important; border-color:none !important;"),s.appendChild(u);var P=(u.contentWindow?u.contentWindow:u.contentDocument.document?u.contentDocument.document:u.contentDocument).document;P.open(),P.write(d),n.display["custom-editor"]&&k(n,P),P.close();var O=document.getElementById("wiz-iframe-intent").contentDocument.getElementById("contentDiv");S(f,n,O,0,o)}}};if(document.body){if(null!=t.inapp_notifs)for(var O=0;O<t.inapp_notifs.length;O++){var C=t.inapp_notifs[O];null==C.display.wtarget_type||0===C.display.wtarget_type||2===C.display.wtarget_type?E(C):1===C.display.wtarget_type&&(i=C,window.document.body.onmouseleave=P)}if(Pe._isLocalStorageSupported())try{if(null!=t.evpr){var I=t.evpr.events,T=t.evpr.profile,R=t.evpr.expires_in,M=we();Pe.setMetaProp("lsTime",M),Pe.setMetaProp("exTs",R),function(e){if(null!=Oe.globalEventsMap||(Oe.globalEventsMap=Pe.readFromLSorCookie(x),null!=Oe.globalEventsMap)){for(var t in e)if(e.hasOwnProperty(t)){var n=Oe.globalEventsMap[t],i=e[t];null!=Oe.globalEventsMap[t]?null!=i[0]&&i[0]>n[0]&&(Oe.globalEventsMap[t]=i):Oe.globalEventsMap[t]=i}}else Oe.globalEventsMap=e}(I),Pe.saveToLSorCookie(x,Oe.globalEventsMap),null==Oe.globalProfileMap?kt(T,!0):kt(T,!1)}if(null!=t.arp&&function(e){if(null!=e.skipResARP&&e.skipResARP)return console.debug("Update ARP Request rejected",e),null;var t=!(null==e[Y]||!0!==e[Y]);if(Pe._isLocalStorageSupported())try{var n=Pe.readFromLSorCookie(q);for(var i in(null==n||t)&&(n={}),e)e.hasOwnProperty(i)&&(-1===e[i]?delete n[i]:n[i]=e[i]);Pe.saveToLSorCookie(q,n)}catch(e){console.error("Unable to parse ARP JSON: "+e)}}(t.arp),null!=t.inapp_stale){var D=yt(),N=D.global;if(null!=N)for(var L in t.inapp_stale)t.inapp_stale.hasOwnProperty(L)&&delete N[t.inapp_stale[L]];mt(D)}}catch(e){h.error("Unable to persist evrp/arp: "+e)}}else v<6&&(v++,setTimeout(e,1e3,t,{device:d,session:f,request:p,logger:h}))},Xt=b("isPersonalisationActive"),en=function(){function e(n){var i=n.isPersonalisationActive;t(this,e),Object.defineProperty(this,Xt,{writable:!0,value:void 0}),S(this,Xt)[Xt]=i}return i(e,[{key:"getTotalVisits",value:function(){if(S(this,Xt)[Xt]()){var e=Pe.getMetaProp("sc");return null==e&&(e=1),e}}},{key:"getLastVisit",value:function(){if(S(this,Xt)[Xt]()){var e=Pe.getMetaProp("ps");return null!=e?new Date(1e3*e):void 0}}}]),e}(),tn=1,nn=2,rn=3,on=b("logLevel"),an=b("log"),sn=b("isLegacyDebug"),un=function(){function e(n){t(this,e),Object.defineProperty(this,sn,{get:cn,set:void 0}),Object.defineProperty(this,an,{value:ln}),Object.defineProperty(this,on,{writable:!0,value:void 0}),this.wzrkError={},S(this,on)[on]=null==n?n:nn,this.wzrkError={}}return i(e,[{key:"error",value:function(e){S(this,on)[on]>=tn&&S(this,an)[an]("error",e)}},{key:"info",value:function(e){S(this,on)[on]>=nn&&S(this,an)[an]("log",e)}},{key:"debug",value:function(e){(S(this,on)[on]>=rn||S(this,sn)[sn])&&S(this,an)[an]("debug",e)}},{key:"reportError",value:function(e,t){this.wzrkError.c=e,this.wzrkError.d=t,this.error("".concat(Ve," ").concat(e,": ").concat(t))}},{key:"logLevel",get:function(){return S(this,on)[on]},set:function(e){S(this,on)[on]=e}}]),e}(),ln=function(e,t){if(window.console)try{var n=(new Date).getTime();console[e]("CleverTap [".concat(n,"]: ").concat(t))}catch(e){}},cn=function(){return"undefined"!=typeof sessionStorage&&""===sessionStorage.WZRK_D},dn=b("logger"),fn=b("sessionId"),pn=b("isPersonalisationActive"),hn=function(){function e(n){var i=n.logger,r=n.isPersonalisationActive;t(this,e),Object.defineProperty(this,dn,{writable:!0,value:void 0}),Object.defineProperty(this,fn,{writable:!0,value:void 0}),Object.defineProperty(this,pn,{writable:!0,value:void 0}),this.cookieName=void 0,this.scookieObj=void 0,this.sessionId=Pe.getMetaProp("cs"),S(this,dn)[dn]=i,S(this,pn)[pn]=r}return i(e,[{key:"getSessionCookieObject",value:function(){var e=Pe.readCookie(this.cookieName),t={};if(null!=e)if(e=e.replace(R,'"'),t=JSON.parse(e),pe(t)){if(void 0!==t.t){var n=t.t;we()-n>1260&&(t={})}}else t={};return this.scookieObj=t,t}},{key:"setSessionCookieObject",value:function(e){var t=JSON.stringify(e);Pe.createBroadCookie(this.cookieName,t,1200,ut())}},{key:"manageSession",value:function(e){if(void 0===this.sessionId||this.sessionId!==e){var t=Pe.getMetaProp("cs");if(void 0===t)Pe.setMetaProp("ps",e),Pe.setMetaProp("cs",e),Pe.setMetaProp("sc",1);else if(t!==e){Pe.setMetaProp("ps",t),Pe.setMetaProp("cs",e);var n=Pe.getMetaProp("sc");void 0===n&&(n=0),Pe.setMetaProp("sc",n+1)}this.sessionId=e}}},{key:"getTimeElapsed",value:function(){if(S(this,pn)[pn]()){null!=this.scookieObj&&(this.scookieObj=this.getSessionCookieObject());var e=this.scookieObj.s;if(null!=e){var t=we();return Math.floor(t-e)}}}},{key:"getPageCount",value:function(){if(S(this,pn)[pn]())return null!=this.scookieObj&&(this.scookieObj=this.getSessionCookieObject()),this.scookieObj.p}},{key:"sessionId",get:function(){return S(this,fn)[fn]},set:function(e){S(this,fn)[fn]=e}}]),e}(),vn=0,gn=0,yn=b("logger"),mn=b("account"),bn=b("device"),Sn=b("session"),_n=b("isPersonalisationActive"),wn=b("clearCookie"),kn=b("addToLocalEventMap"),An=function(){function e(n){var i=n.logger,r=n.account,o=n.device,a=n.session,s=n.isPersonalisationActive;t(this,e),Object.defineProperty(this,kn,{value:En}),Object.defineProperty(this,yn,{writable:!0,value:void 0}),Object.defineProperty(this,mn,{writable:!0,value:void 0}),Object.defineProperty(this,bn,{writable:!0,value:void 0}),Object.defineProperty(this,Sn,{writable:!0,value:void 0}),Object.defineProperty(this,_n,{writable:!0,value:void 0}),Object.defineProperty(this,wn,{writable:!0,value:!1}),this.processingBackup=!1,S(this,yn)[yn]=i,S(this,mn)[mn]=r,S(this,bn)[bn]=o,S(this,Sn)[Sn]=a,S(this,_n)[_n]=s,gt.logger=i,gt.device=o}return i(e,[{key:"processBackupEvents",value:function(){var e=Pe.readFromLSorCookie(z);if(null!=e){for(var t in this.processingBackup=!0,e)if(e.hasOwnProperty(t)){var n=e[t];void 0===n.fired&&(S(this,yn)[yn].debug("Processing backup event : "+n.q),void 0!==n.q&&gt.fireRequest(n.q),n.fired=!0)}Pe.saveToLSorCookie(z,e),this.processingBackup=!1}}},{key:"addSystemDataToObject",value:function(e,t){void 0===t&&(e=be(e,S(this,yn)[yn])),ve(S(this,yn)[yn].wzrkError)||(e.wzrk_error=S(this,yn)[yn].wzrkError,S(this,yn)[yn].wzrkError={}),e.id=S(this,mn)[mn].id,me(S(this,bn)[bn].gcookie)&&(e.g=S(this,bn)[bn].gcookie);var n=S(this,Sn)[Sn].getSessionCookieObject();return e.s=n.s,e.pg=void 0===n.p?1:n.p,e}},{key:"addSystemDataToProfileObject",value:function(e,t){ve(S(this,yn)[yn].wzrkError)||(e.wzrk_error=S(this,yn)[yn].wzrkError,S(this,yn)[yn].wzrkError={}),e.id=S(this,mn)[mn].id,me(S(this,bn)[bn].gcookie)&&(e.g=S(this,bn)[bn].gcookie);var n=S(this,Sn)[Sn].getSessionCookieObject();return e.s=n.s,e.pg=void 0===n.p?1:n.p,e}},{key:"addFlags",value:function(e){if(S(this,wn)[wn]=Pe.getAndClearMetaProp(M),void 0!==S(this,wn)[wn]&&S(this,wn)[wn]&&(e.rc=!0,S(this,yn)[yn].debug("reset cookie sent in request and cleared from meta for future requests.")),S(this,_n)[_n]()){var t=Pe.getMetaProp("lsTime"),n=Pe.getMetaProp("exTs");if(void 0===t||void 0===n)return void(e.dsync=!0);t+n<we()&&(e.dsync=!0)}}},{key:"saveAndFireRequest",value:function(e,t,n){var i=we(),r=(e=st(e,"rn",++Oe.globalCache.REQ_N))+"&i="+i+"&sn="+vn;Pe.backupEvent(r,Oe.globalCache.REQ_N,S(this,yn)[yn]),t&&(void 0===S(this,wn)[wn]||!S(this,wn)[wn])||window.isOULInProgress?S(this,yn)[yn].debug("Not fired due to override - ".concat(Oe.blockRequest," or clearCookie - ").concat(S(this,wn)[wn]," or OUL request in progress - ").concat(window.isOULInProgress)):(i===gn?vn++:(gn=i,vn=0),gt.fireRequest(r,!1,n))}},{key:"unregisterTokenForGuid",value:function(e){var t=Pe.readFromLSorCookie(re);if(t){var n={type:"data"};me(e)&&(n.g=e),n.action="unregister",n.id=S(this,mn)[mn].id;var i=S(this,Sn)[Sn].getSessionCookieObject();n.s=i.s;var r=lt(JSON.stringify(n),S(this,yn)[yn]),o=S(this,mn)[mn].dataPostURL;o=st(o,"type","data"),o=st(o,"d",r),gt.fireRequest(o,!0),Pe.saveToLSorCookie(ie,!1)}this.registerToken(t)}},{key:"registerToken",value:function(e){if(e){e=this.addSystemDataToObject(e,!0),e=JSON.stringify(e);var t=S(this,mn)[mn].dataPostURL;t=st(t,"type","data"),t=st(t,"d",lt(e,S(this,yn)[yn])),gt.fireRequest(t),Pe.save("WZRK_WPR","ok")}}},{key:"processEvent",value:function(e){S(this,kn)[kn](e.evtName),e=this.addSystemDataToObject(e,void 0),this.addFlags(e),e[U]=bt();var t=lt(JSON.stringify(e),S(this,yn)[yn]),n=S(this,mn)[mn].dataPostURL;n=st(n,"type",J),n=st(n,"d",t),this.saveAndFireRequest(n,Oe.blockRequest)}}]),e}(),En=function(e){if(Pe._isLocalStorageSupported()){void 0===Oe.globalEventsMap&&(Oe.globalEventsMap=Pe.readFromLSorCookie(x),void 0===Oe.globalEventsMap&&(Oe.globalEventsMap={}));var t=we(),n=Oe.globalEventsMap[e];void 0!==n?(n[2]=t,n[0]++):((n=[]).push(1),n.push(t),n.push(t)),Oe.globalEventsMap[e]=n,Pe.saveToLSorCookie(x,Oe.globalEventsMap)}},Pn=b("request"),On=b("account"),Cn=b("oldValues"),In=b("logger"),Tn=b("processPrivacyArray"),Rn=function(e){s(r,e);var n=v(r);function r(e,i){var o,a=e.request,s=e.account,u=e.logger;return t(this,r),o=n.call(this),Object.defineProperty(p(o),Tn,{value:Mn}),Object.defineProperty(p(o),Pn,{writable:!0,value:void 0}),Object.defineProperty(p(o),On,{writable:!0,value:void 0}),Object.defineProperty(p(o),Cn,{writable:!0,value:void 0}),Object.defineProperty(p(o),In,{writable:!0,value:void 0}),S(p(o),In)[In]=u,S(p(o),Pn)[Pn]=a,S(p(o),On)[On]=s,S(p(o),Cn)[Cn]=i,o}return i(r,[{key:"push",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i;return Oe.isPrivacyArrPushed?S(this,Tn)[Tn](Oe.privacyArray.length>0?Oe.privacyArray:t):(i=Oe.privacyArray).push.apply(i,t),0}},{key:"_processOldValues",value:function(){S(this,Cn)[Cn]&&S(this,Tn)[Tn](S(this,Cn)[Cn]),S(this,Cn)[Cn]=null}}]),r}(f(Array)),Mn=function(e){if(Array.isArray(e)&&e.length>0){var t=e.reduce((function(e,t){return a(a({},e),t)}),{}),n={},i={},r=!1;if(t.hasOwnProperty(W)&&"boolean"==typeof(r=t[W])&&(i.ct_optout=r,Oe.isOptInRequest=!r),t.hasOwnProperty(B)){var o=t[B],s="boolean"==typeof o&&o;Pe.setMetaProp(B,s)}if(!ve(i)){n.type="profile",n.profile=i,n=S(this,Pn)[Pn].addSystemDataToObject(n,void 0);var u=lt(JSON.stringify(n),S(this,In)[In]),l=S(this,On)[On].dataPostURL;l=st(l,"type",J),l=st(l,"d",u),l=st(l,W,r?"true":"false"),S(this,Pn)[Pn].saveAndFireRequest(l,Oe.blockRequest),e.splice(0,e.length)}}},Dn=b("oldValues"),Nn=b("logger"),Ln=b("request"),jn=b("account"),Un=b("wizAlertJSPath"),xn=b("fcmPublicKey"),Fn=b("setUpWebPush"),Vn=b("setUpWebPushNotifications"),qn=b("setApplicationServerKey"),zn=b("setUpSafariNotifications"),Kn=b("setUpChromeFirefoxNotifications"),Hn=b("addWizAlertJS"),Wn=b("removeWizAlertJS"),Bn=b("handleNotificationRegistration"),Gn=function(e){s(r,e);var n=v(r);function r(e,i){var o,a=e.logger,s=(e.session,e.request),u=e.account;return t(this,r),o=n.call(this),Object.defineProperty(p(o),Bn,{value:ti}),Object.defineProperty(p(o),Wn,{value:ei}),Object.defineProperty(p(o),Hn,{value:Xn}),Object.defineProperty(p(o),Kn,{value:Qn}),Object.defineProperty(p(o),zn,{value:Zn}),Object.defineProperty(p(o),qn,{value:$n}),Object.defineProperty(p(o),Vn,{value:Jn}),Object.defineProperty(p(o),Fn,{value:Yn}),Object.defineProperty(p(o),Dn,{writable:!0,value:void 0}),Object.defineProperty(p(o),Nn,{writable:!0,value:void 0}),Object.defineProperty(p(o),Ln,{writable:!0,value:void 0}),Object.defineProperty(p(o),jn,{writable:!0,value:void 0}),Object.defineProperty(p(o),Un,{writable:!0,value:void 0}),Object.defineProperty(p(o),xn,{writable:!0,value:void 0}),S(p(o),Un)[Un]="https://d2r1yp2w7bby2u.cloudfront.net/js/wzrk_dialog.min.js",S(p(o),xn)[xn]=null,S(p(o),Dn)[Dn]=i,S(p(o),Nn)[Nn]=a,S(p(o),Ln)[Ln]=s,S(p(o),jn)[jn]=u,o}return i(r,[{key:"push",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S(this,Fn)[Fn](t),0}},{key:"_processOldValues",value:function(){S(this,Dn)[Dn]&&S(this,Fn)[Fn](S(this,Dn)[Dn]),S(this,Dn)[Dn]=null}},{key:"_enableWebPush",value:function(e,t){Oe.webPushEnabled=e,null!=t&&S(this,qn)[qn](t),Oe.webPushEnabled&&Oe.notifApi.notifEnabledFromApi?S(this,Bn)[Bn](Oe.notifApi.displayArgs):!Oe.webPushEnabled&&Oe.notifApi.notifEnabledFromApi&&S(this,Nn)[Nn].error("Ensure that web push notifications are fully enabled and integrated before requesting them")}}]),r}(f(Array)),Yn=function(e){Oe.webPushEnabled&&e.length>0?S(this,Bn)[Bn](e):null==Oe.webPushEnabled&&e.length>0?(Oe.notifApi.notifEnabledFromApi=!0,Oe.notifApi.displayArgs=e.slice()):!1===Oe.webPushEnabled&&e.length>0&&S(this,Nn)[Nn].error("Make sure push notifications are fully enabled and integrated")},Jn=function(e,t,n,i){-1!==navigator.userAgent.indexOf("Chrome")||-1!==navigator.userAgent.indexOf("Firefox")?S(this,Kn)[Kn](e,t):-1!==navigator.userAgent.indexOf("Safari")&&S(this,zn)[zn](e,n,i)},$n=function(e){S(this,xn)[xn]=e},Zn=function(e,t,n){var i=this;void 0===t&&S(this,Nn)[Nn].error("Ensure that APNS Web Push ID is supplied"),void 0===n&&S(this,Nn)[Nn].error("Ensure that APNS Web Push service path is supplied"),"safari"in window&&"pushNotification"in window.safari&&window.safari.pushNotification.requestPermission(n,t,{},(function(e){if("granted"===e.permission){var t=JSON.parse(JSON.stringify(e));t.endpoint=e.deviceToken,t.browser="Safari",Pe.saveToLSorCookie(re,t),S(i,Ln)[Ln].registerToken(t),S(i,Nn)[Nn].info("Safari Web Push registered. Device Token: "+e.deviceToken)}else"denied"===e.permission&&S(i,Nn)[Nn].info("Error subscribing to Safari web push")}))},Qn=function(e,t){var n=this,i="";"serviceWorker"in navigator&&navigator.serviceWorker.register(t).then((function(e){return"undefined"!=typeof __wzrk_account_id?new Promise((function(t){return setTimeout((function(){return t(e)}),5e3)})):(i=e.scope,/^(\.?)(\/?)([^/]*).js$/.test(t)?navigator.serviceWorker.ready:-1!==navigator.userAgent.indexOf("Chrome")?new Promise((function(t){return setTimeout((function(){return t(e)}),5e3)})):navigator.serviceWorker.getRegistrations())})).then((function(t){-1!==navigator.userAgent.indexOf("Firefox")&&Array.isArray(t)&&(t=t.filter((function(e){return e.scope===i}))[0]);var r={userVisibleOnly:!0};null!=S(n,xn)[xn]&&(r.applicationServerKey=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),i=[],r=0;r<n.length;r++)i.push(n.charCodeAt(r));return new Uint8Array(i)}(S(n,xn)[xn])),t.pushManager.subscribe(r).then((function(t){S(n,Nn)[Nn].info("Service Worker registered. Endpoint: "+t.endpoint);var i=JSON.parse(JSON.stringify(t));-1!==navigator.userAgent.indexOf("Chrome")?(i.endpoint=i.endpoint.split("/").pop(),i.browser="Chrome"):-1!==navigator.userAgent.indexOf("Firefox")&&(i.endpoint=i.endpoint.split("/").pop(),i.browser="Firefox"),Pe.saveToLSorCookie(re,i),S(n,Ln)[Ln].registerToken(i),void 0!==e&&"function"==typeof e&&e()})).catch((function(e){S(n,Nn)[Nn].error("Error subscribing: "+e),t.pushManager.getSubscription().then((function(e){null!==e&&e.unsubscribe().then((function(e){S(n,Nn)[Nn].info("Unsubscription successful")})).catch((function(e){S(n,Nn)[Nn].error("Error unsubscribing: "+e)}))}))}))})).catch((function(e){S(n,Nn)[Nn].error("error registering service worker: "+e)}))},Xn=function(){var e=document.createElement("script");return e.setAttribute("type","text/javascript"),e.setAttribute("id","wzrk-alert-js"),e.setAttribute("src",S(this,Un)[Un]),document.getElementsByTagName("body")[0].appendChild(e),e},ei=function(){var e=document.getElementById("wzrk-alert-js");e.parentNode.removeChild(e)},ti=function(e){var t,n,i,r,o,a,s,u,l,c,d,f,p,h,v,g,y=this;if(1===e.length){if(pe(e[0])){var m=e[0];t=m.titleText,n=m.bodyText,i=m.okButtonText,r=m.rejectButtonText,o=m.okButtonColor,a=m.skipDialog,s=m.askAgainTimeInSeconds,u=m.okCallback,l=m.rejectCallback,c=m.subscriptionCallback,d=m.hidePoweredByCT,f=m.serviceWorkerPath,p=m.httpsPopupPath,h=m.httpsIframePath,v=m.apnsWebPushId,g=m.apnsWebPushServiceUrl}}else t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],a=e[5],s=e[6];if(null==a&&(a=!1),null==d&&(d=!1),null==f&&(f="/clevertap_sw.js"),void 0!==navigator.serviceWorker){var b=null!=p&&null!=h;if("https:"===window.location.protocol||"localhost"===document.location.hostname||b){if(-1!==navigator.userAgent.indexOf("Chrome")){var _=navigator.userAgent.match(/Chrome\/(\d+)/);if(null==_||parseInt(_[1],10)<50)return}else if(-1!==navigator.userAgent.indexOf("Firefox")){var w=navigator.userAgent.match(/Firefox\/(\d+)/);if(null==w||parseInt(w[1],10)<50)return}else{if(-1===navigator.userAgent.indexOf("Safari"))return;var k=navigator.userAgent.match(/Safari\/(\d+)/);if(null==k||parseInt(k[1],10)<50)return}if(!b){if(null==Notification)return;if("granted"===Notification.permission)return void S(this,Vn)[Vn](c,f,v,g);if("denied"===Notification.permission)return;if(a)return void S(this,Vn)[Vn](c,f,v,g)}if(t&&n&&i&&r){null!=o&&o.match(/^#[a-f\d]{6}$/i)||(o="#f28046");var A=(new Date).getTime()/1e3;if(null==Pe.getMetaProp("notif_last_time"))Pe.setMetaProp("notif_last_time",A);else{if(null==s&&(s=604800),A-Pe.getMetaProp("notif_last_time")<s)return;Pe.setMetaProp("notif_last_time",A)}if(b){var E=document.createElement("iframe");E.setAttribute("style","display:none;"),E.setAttribute("src",h),document.body.appendChild(E),window.addEventListener("message",(function(e){if(null!=e.data){var a={};try{a=JSON.parse(e.data)}catch(e){return}null!=a.state&&"ct"===a.from&&"not"===a.state&&(S(y,Hn)[Hn]().onload=function(){window.wzrkPermissionPopup.wizAlert({title:t,body:n,confirmButtonText:i,confirmButtonColor:o,rejectButtonText:r,hidePoweredByCT:d},(function(e){e?("function"==typeof u&&u(),window.open(p)):"function"==typeof l&&l(),S(y,Wn)[Wn]()}))})}}),!1)}else S(this,Hn)[Hn]().onload=function(){window.wzrkPermissionPopup.wizAlert({title:t,body:n,confirmButtonText:i,confirmButtonColor:o,rejectButtonText:r,hidePoweredByCT:d},(function(e){e?("function"==typeof u&&u(),S(y,Vn)[Vn](c,f,v,g)):"function"==typeof l&&l(),S(y,Wn)[Wn]()}))}}else S(this,Nn)[Nn].error("Missing input parameters; please specify title, body, ok button and cancel button text")}else S(this,Nn)[Nn].error("Make sure you are https or localhost to register for notifications")}},ni=b("logger"),ii=b("api"),ri=b("onloadcalled"),oi=b("device"),ai=b("session"),si=b("account"),ui=b("request"),li=b("isSpa"),ci=b("previousUrl"),di=b("boundCheckPageChanged"),fi=b("isWebPopUpSpamControlDisabled"),pi=b("processOldValues"),hi=b("checkPageChanged"),vi=b("pingRequest"),gi=b("isPingContinuous"),yi=b("overrideDSyncFlag"),mi=function(){function e(){var n,i,o,s,u=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),Object.defineProperty(this,yi,{value:ki}),Object.defineProperty(this,gi,{value:wi}),Object.defineProperty(this,vi,{value:_i}),Object.defineProperty(this,hi,{value:Si}),Object.defineProperty(this,pi,{value:bi}),Object.defineProperty(this,ni,{writable:!0,value:void 0}),Object.defineProperty(this,ii,{writable:!0,value:void 0}),Object.defineProperty(this,ri,{writable:!0,value:void 0}),Object.defineProperty(this,oi,{writable:!0,value:void 0}),Object.defineProperty(this,ai,{writable:!0,value:void 0}),Object.defineProperty(this,si,{writable:!0,value:void 0}),Object.defineProperty(this,ui,{writable:!0,value:void 0}),Object.defineProperty(this,li,{writable:!0,value:void 0}),Object.defineProperty(this,ci,{writable:!0,value:void 0}),Object.defineProperty(this,di,{writable:!0,value:S(this,hi)[hi].bind(this)}),Object.defineProperty(this,fi,{writable:!0,value:void 0}),this.enablePersonalization=void 0,this.popupCallbacks={},this.popupCurrentWzrkId="",S(this,ri)[ri]=0,this._isPersonalisationActive=this._isPersonalisationActive.bind(this),this.raiseNotificationClicked=function(){},S(this,ni)[ni]=new un(nn),S(this,si)[si]=new C(null===(n=l.account)||void 0===n?void 0:n[0],l.region||(null===(i=l.account)||void 0===i?void 0:i[1]),l.targetDomain||(null===(o=l.account)||void 0===o?void 0:o[2])),S(this,oi)[oi]=new xe({logger:S(this,ni)[ni]}),S(this,ai)[ai]=new hn({logger:S(this,ni)[ni],isPersonalisationActive:this._isPersonalisationActive}),S(this,ui)[ui]=new An({logger:S(this,ni)[ni],account:S(this,si)[si],device:S(this,oi)[oi],session:S(this,ai)[ai],isPersonalisationActive:this._isPersonalisationActive}),this.enablePersonalization=l.enablePersonalization||!1,this.event=new rt({logger:S(this,ni)[ni],request:S(this,ui)[ui],isPersonalisationActive:this._isPersonalisationActive},l.event),this.profile=new Dt({logger:S(this,ni)[ni],request:S(this,ui)[ui],account:S(this,si)[si],isPersonalisationActive:this._isPersonalisationActive},l.profile),this.onUserLogin=new Wt({request:S(this,ui)[ui],account:S(this,si)[si],session:S(this,ai)[ai],logger:S(this,ni)[ni],device:S(this,oi)[oi]},l.onUserLogin),this.privacy=new Rn({request:S(this,ui)[ui],account:S(this,si)[si],logger:S(this,ni)[ni]},l.privacy),this.notifications=new Gn({logger:S(this,ni)[ni],request:S(this,ui)[ui],account:S(this,si)[si]},l.notifications),S(this,ii)[ii]=new je({logger:S(this,ni)[ni],request:S(this,ui)[ui],device:S(this,oi)[oi],session:S(this,ai)[ai]}),this.spa=l.spa,this.dismissSpamControl=l.dismissSpamControl,this.user=new en({isPersonalisationActive:this._isPersonalisationActive}),this.session={getTimeElapsed:function(){return S(u,ai)[ai].getTimeElapsed()},getPageCount:function(){return S(u,ai)[ai].getPageCount()}},this.logout=function(){S(u,ni)[ni].debug("logout called"),Pe.setInstantDeleteFlagInK()},this.clear=function(){u.onUserLogin.clear()},this.getCleverTapID=function(){return S(u,oi)[oi].getGuid()},this.getAccountID=function(){return S(u,si)[si].id},this.getSCDomain=function(){return S(u,si)[si].finalTargetDomain},this.setSCSDKVersion=function(e){S(u,si)[si].scSDKVersion=e;var t={};t.af={scv:"sc-sdk-v"+S(u,si)[si].scSDKVersion};var n=S(u,si)[si].dataPostURL;n=st(n,"type","page"),n=st(n,"d",lt(JSON.stringify(t),S(u,ni)[ni])),S(u,ui)[ui].saveAndFireRequest(n,!1)},this.renderNotificationViewed=function(e){c(te,e)},this.renderNotificationClicked=function(e){c(ne,e)};var c=function(e,t){if(t&&t.msgId){var n={type:"event"};if(n.evtName=e,n.evtData=r({},ee,t.msgId),t.pivotId&&(n.evtData=a(a({},n.evtData),{},{wzrk_pivot:t.pivotId})),t.wzrk_slideNo&&(n.evtData=a(a({},n.evtData),{},{wzrk_slideNo:t.wzrk_slideNo})),t.kv&&null!==t.kv&&void 0!==t.kv)for(var i in t.kv)i.startsWith(X)&&(n.evtData=a(a({},n.evtData),{},r({},i,t.kv[i])));if(t.msgCTkv&&null!==t.msgCTkv&&void 0!==t.msgCTkv)for(var o in t.msgCTkv)o.startsWith(X)&&(n.evtData=a(a({},n.evtData),{},r({},o,t.msgCTkv[o])));S(u,ui)[ui].processEvent(n)}};this.setLogLevel=function(e){S(u,ni)[ni].logLevel=Number(e),3===e?sessionStorage.WZRK_D="":delete sessionStorage.WZRK_D},this.handleIncrementValue=function(e,t){u.profile._handleIncrementDecrementValue(e,t,oe)},this.handleDecrementValue=function(e,t){u.profile._handleIncrementDecrementValue(e,t,ae)},this.setMultiValuesForKey=function(e,t){Array.isArray(t)?u.profile._handleMultiValueSet(e,t,se):console.error("setMultiValuesForKey should be called with a value of type array")},this.addMultiValueForKey=function(e,t){"string"==typeof t||"number"==typeof t?u.profile._handleMultiValueAdd(e,t,ue):console.error("addMultiValueForKey should be called with a value of type string or number.")},this.addMultiValuesForKey=function(e,t){Array.isArray(t)?u.profile._handleMultiValueAdd(e,t,ue):console.error("addMultiValuesForKey should be called with a value of type array.")},this.removeMultiValueForKey=function(e,t){"string"==typeof t||"number"==typeof t?u.profile._handleMultiValueRemove(e,t,le):console.error("removeMultiValueForKey should be called with a value of type string or number.")},this.removeMultiValuesForKey=function(e,t){Array.isArray(t)?u.profile._handleMultiValueRemove(e,t,le):console.error("removeMultiValuesForKey should be called with a value of type array.")},this.removeValueForKey=function(e){u.profile._handleMultiValueDelete(e,ce)};var d=function(e,t,n){Pt(e,t,n,S(u,si)[si],S(u,ni)[ni])},f=S(this,ii)[ii];f.logout=this.logout,f.clear=this.clear,f.closeIframe=function(e,t){At(e,0,S(u,ai)[ai].sessionId)},f.enableWebPush=function(e,t){u.notifications._enableWebPush(e,t)},f.tr=function(e){Qt(e,{device:S(u,oi)[oi],session:S(u,ai)[ai],request:S(u,ui)[ui],logger:S(u,ni)[ni],isWebPopUpSpamControlDisabled:S(u,fi)[fi]})},f.setEnum=function(e){Et(e,S(u,ni)[ni])},f.is_onloadcalled=function(){return 1===S(u,ri)[ri]},f.subEmail=function(e){d("1",e)},f.getEmail=function(e,t){d("-1",e,t)},f.unSubEmail=function(e){d("0",e)},f.unsubEmailGroups=function(e){Oe.unsubGroups=[];for(var t=document.getElementsByClassName("ct-unsub-group-input-item"),n=0;n<t.length;n++){var i=t[n];if(i.name){var r={name:i.name,isUnsubscribed:i.checked};Oe.unsubGroups.push(r)}}d(Z,e)},f.setSubscriptionGroups=function(e){Oe.unsubGroups=e},f.getSubscriptionGroups=function(){return Oe.unsubGroups},f.changeSubscriptionGroups=function(e,t){f.setSubscriptionGroups(t),d(Z,e)},f.setUpdatedCategoryLong=function(e){e[Q]&&(Oe.updatedCategoryLong=e[Q])},window.$CLTP_WR=window.$WZRK_WR=f,(null===(s=l.account)||void 0===s?void 0:s[0].id)&&this.init()}return i(e,[{key:"spa",get:function(){return S(this,li)[li]},set:function(e){var t=!0===e;S(this,li)[li]!==t&&1===S(this,ri)[ri]&&(t?document.addEventListener("click",S(this,di)[di]):document.removeEventListener("click",S(this,di)[di])),S(this,li)[li]=t}},{key:"dismissSpamControl",get:function(){return S(this,fi)[fi]},set:function(e){var t=!0===e;S(this,fi)[fi]=t}}]),i(e,[{key:"init",value:function(e,t,n){if(1!==S(this,ri)[ri]){if(Pe.removeCookie("WZRK_P",window.location.hostname),!S(this,si)[si].id){if(!e)return void S(this,ni)[ni].error(qe);S(this,si)[si].id=e}S(this,ai)[ai].cookieName="WZRK_S_"+S(this,si)[si].id,t&&(S(this,si)[si].region=t),n&&(S(this,si)[si].targetDomain=n);var i=location.href,r=at(i.toLowerCase());void 0!==r.e&&"0"==r.wzrk_ex||(S(this,ui)[ui].processBackupEvents(),Oe.isPrivacyArrPushed=!0,Oe.privacyArray.length>0&&this.privacy.push(Oe.privacyArray),S(this,pi)[pi](),this.pageChanged(),S(this,li)[li]?document.addEventListener("click",S(this,di)[di]):document.removeEventListener("click",S(this,di)[di]),S(this,ri)[ri]=1)}}},{key:"pageChanged",value:function(){var e=this,t=window.location.href,n=at(t.toLowerCase()),i=S(this,ai)[ai].getSessionCookieObject(),r=void 0===i.p?0:i.p;i.p=++r,S(this,ai)[ai].setSessionCookieObject(i);var o={},a=function(e){if(""===e)return"";var t=document.createElement("a");return t.href=e,t.hostname}(document.referrer);if(window.location.hostname!==a){var s=120;""!==a&&(a=a.length>s?a.substring(0,s):a,o.referrer=a);var u=n.utm_source||n.wzrk_source;void 0!==u&&(u=u.length>s?u.substring(0,s):u,o.us=u);var l=n.utm_medium||n.wzrk_medium;void 0!==l&&(l=l.length>s?l.substring(0,s):l,o.um=l);var c=n.utm_campaign||n.wzrk_campaign;if(void 0!==c&&(c=c.length>s?c.substring(0,s):c,o.uc=c),void 0!==n.wzrk_medium){var d=n.wzrk_medium;d.match(/^email$|^social$|^search$/)&&(o.wm=d)}}(o=S(this,ui)[ui].addSystemDataToObject(o,void 0)).cpg=t,o[U]=bt();var f=S(this,si)[si].dataPostURL;S(this,ui)[ui].addFlags(o),1===parseInt(o.pg)&&S(this,yi)[yi](o),o.af={lib:"web-sdk-v1.3.3"},f=st(f,"type","page"),f=st(f,"d",lt(JSON.stringify(o),S(this,ni)[ni])),S(this,ui)[ui].saveAndFireRequest(f,!1),S(this,ci)[ci]=t,setTimeout((function(){r<=3&&S(e,vi)[vi](),S(e,gi)[gi]()&&setInterval((function(){S(e,vi)[vi]()}),3e5)}),12e4)}},{key:"_isPersonalisationActive",value:function(){return Pe._isLocalStorageSupported()&&this.enablePersonalization}},{key:"sendMultiValueData",value:function(e){var t={af:{}},n={};t.type="profile",null==n.tz&&(n.tz=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1]),t.profile=n,e&&Object.keys(e).forEach((function(n){t.af[n]=e[n]})),t=S(this,ui)[ui].addSystemDataToProfileObject(t,void 0),S(this,ui)[ui].addFlags(t);var i=lt(JSON.stringify(t),S(this,ni)[ni]),r=S(this,si)[si].dataPostURL;r=st(r,"type",J),r=st(r,"d",i),S(this,ui)[ui].saveAndFireRequest(r,Oe.blockRequest)}},{key:"popupCallback",set:function(e){this.popupCallbacks[this.popupCurrentWzrkId]=e}}]),e}(),bi=function(){this.onUserLogin._processOldValues(),this.privacy._processOldValues(),this.event._processOldValues(),this.profile._processOldValues(),this.notifications._processOldValues()},Si=function(){S(this,ci)[ci]!==location.href&&this.pageChanged()},_i=function(){var e=S(this,si)[si].dataPostURL,t={};t=S(this,ui)[ui].addSystemDataToObject(t,void 0),e=st(e,"type","ping"),e=st(e,"d",lt(JSON.stringify(t),S(this,ni)[ni])),S(this,ui)[ui].saveAndFireRequest(e,!1)},wi=function(){return void 0!==window.wzrk_d&&"continuous"===window.wzrk_d.ping},ki=function(e){this._isPersonalisationActive()&&(e.dsync=!0)},Ai=new mi(window.clevertap);return window.clevertap=window.wizrocket=Ai,Ai}()},307:(e,t,n)=>{e=n.nmd(e);var i="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",a="[object Array]",s="[object Boolean]",u="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",f="[object Number]",p="[object Object]",h="[object Promise]",v="[object RegExp]",g="[object Set]",y="[object String]",m="[object WeakMap]",b="[object ArrayBuffer]",S="[object DataView]",_=/^\[object .+?Constructor\]$/,w=/^(?:0|[1-9]\d*)$/,k={};k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k[o]=k[a]=k[b]=k[s]=k[S]=k[u]=k[l]=k[c]=k[d]=k[f]=k[p]=k[v]=k[g]=k[y]=k[m]=!1;var A="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,E="object"==typeof self&&self&&self.Object===Object&&self,P=A||E||Function("return this")(),O=t&&!t.nodeType&&t,C=O&&e&&!e.nodeType&&e,I=C&&C.exports===O,T=I&&A.process,R=function(){try{return T&&T.binding&&T.binding("util")}catch(e){}}(),M=R&&R.isTypedArray;function D(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function N(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function L(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var j,U,x,F=Array.prototype,V=Function.prototype,q=Object.prototype,z=P["__core-js_shared__"],K=V.toString,H=q.hasOwnProperty,W=(j=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",B=q.toString,G=RegExp("^"+K.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=I?P.Buffer:void 0,J=P.Symbol,$=P.Uint8Array,Z=q.propertyIsEnumerable,Q=F.splice,X=J?J.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=Y?Y.isBuffer:void 0,ne=(U=Object.keys,x=Object,function(e){return U(x(e))}),ie=Ce(P,"DataView"),re=Ce(P,"Map"),oe=Ce(P,"Promise"),ae=Ce(P,"Set"),se=Ce(P,"WeakMap"),ue=Ce(Object,"create"),le=Me(ie),ce=Me(re),de=Me(oe),fe=Me(ae),pe=Me(se),he=J?J.prototype:void 0,ve=he?he.valueOf:void 0;function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function me(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new me;++t<n;)this.add(e[t])}function Se(e){var t=this.__data__=new ye(e);this.size=t.size}function _e(e,t){for(var n=e.length;n--;)if(De(e[n][0],t))return n;return-1}function we(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":X&&X in Object(e)?function(e){var t=H.call(e,X),n=e[X];try{e[X]=void 0;var i=!0}catch(e){}var r=B.call(e);return i&&(t?e[X]=n:delete e[X]),r}(e):function(e){return B.call(e)}(e)}function ke(e){return Ve(e)&&we(e)==o}function Ae(e,t,n,i,r){return e===t||(null==e||null==t||!Ve(e)&&!Ve(t)?e!=e&&t!=t:function(e,t,n,i,r,c){var h=Le(e),m=Le(t),_=h?a:Te(e),w=m?a:Te(t),k=(_=_==o?p:_)==p,A=(w=w==o?p:w)==p,E=_==w;if(E&&je(e)){if(!je(t))return!1;h=!0,k=!1}if(E&&!k)return c||(c=new Se),h||qe(e)?Ee(e,t,n,i,r,c):function(e,t,n,i,r,o,a){switch(n){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!o(new $(e),new $(t)));case s:case u:case f:return De(+e,+t);case l:return e.name==t.name&&e.message==t.message;case v:case y:return e==t+"";case d:var c=N;case g:var p=1&i;if(c||(c=L),e.size!=t.size&&!p)return!1;var h=a.get(e);if(h)return h==t;i|=2,a.set(e,t);var m=Ee(c(e),c(t),i,r,o,a);return a.delete(e),m;case"[object Symbol]":if(ve)return ve.call(e)==ve.call(t)}return!1}(e,t,_,n,i,r,c);if(!(1&n)){var P=k&&H.call(e,"__wrapped__"),O=A&&H.call(t,"__wrapped__");if(P||O){var C=P?e.value():e,I=O?t.value():t;return c||(c=new Se),r(C,I,n,i,c)}}return!!E&&(c||(c=new Se),function(e,t,n,i,r,o){var a=1&n,s=Pe(e),u=s.length;if(u!=Pe(t).length&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in t:H.call(t,c)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var f=!0;o.set(e,t),o.set(t,e);for(var p=a;++l<u;){var h=e[c=s[l]],v=t[c];if(i)var g=a?i(v,h,c,t,e,o):i(h,v,c,e,t,o);if(!(void 0===g?h===v||r(h,v,n,i,o):g)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var y=e.constructor,m=t.constructor;y==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,i,r,c))}(e,t,n,i,Ae,r))}function Ee(e,t,n,i,r,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(e);if(l&&o.get(t))return l==t;var c=-1,d=!0,f=2&n?new be:void 0;for(o.set(e,t),o.set(t,e);++c<s;){var p=e[c],h=t[c];if(i)var v=a?i(h,p,c,t,e,o):i(p,h,c,e,t,o);if(void 0!==v){if(v)continue;d=!1;break}if(f){if(!D(t,(function(e,t){if(a=t,!f.has(a)&&(p===e||r(p,e,n,i,o)))return f.push(t);var a}))){d=!1;break}}else if(p!==h&&!r(p,h,n,i,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Pe(e){return function(e,t,n){var i=t(e);return Le(e)?i:function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}(i,n(e))}(e,ze,Ie)}function Oe(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Ce(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Fe(e)||function(e){return!!W&&W in e}(e))&&(Ue(e)?G:_).test(Me(e))}(n)?n:void 0}ge.prototype.clear=function(){this.__data__=ue?ue(null):{},this.size=0},ge.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ge.prototype.get=function(e){var t=this.__data__;if(ue){var n=t[e];return n===i?void 0:n}return H.call(t,e)?t[e]:void 0},ge.prototype.has=function(e){var t=this.__data__;return ue?void 0!==t[e]:H.call(t,e)},ge.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ue&&void 0===t?i:t,this},ye.prototype.clear=function(){this.__data__=[],this.size=0},ye.prototype.delete=function(e){var t=this.__data__,n=_e(t,e);return!(n<0||(n==t.length-1?t.pop():Q.call(t,n,1),--this.size,0))},ye.prototype.get=function(e){var t=this.__data__,n=_e(t,e);return n<0?void 0:t[n][1]},ye.prototype.has=function(e){return _e(this.__data__,e)>-1},ye.prototype.set=function(e,t){var n=this.__data__,i=_e(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},me.prototype.clear=function(){this.size=0,this.__data__={hash:new ge,map:new(re||ye),string:new ge}},me.prototype.delete=function(e){var t=Oe(this,e).delete(e);return this.size-=t?1:0,t},me.prototype.get=function(e){return Oe(this,e).get(e)},me.prototype.has=function(e){return Oe(this,e).has(e)},me.prototype.set=function(e,t){var n=Oe(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},be.prototype.add=be.prototype.push=function(e){return this.__data__.set(e,i),this},be.prototype.has=function(e){return this.__data__.has(e)},Se.prototype.clear=function(){this.__data__=new ye,this.size=0},Se.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Se.prototype.get=function(e){return this.__data__.get(e)},Se.prototype.has=function(e){return this.__data__.has(e)},Se.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ye){var i=n.__data__;if(!re||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new me(i)}return n.set(e,t),this.size=n.size,this};var Ie=ee?function(e){return null==e?[]:(e=Object(e),function(t,n){for(var i=-1,r=null==t?0:t.length,o=0,a=[];++i<r;){var s=t[i];u=s,Z.call(e,u)&&(a[o++]=s)}var u;return a}(ee(e)))}:function(){return[]},Te=we;function Re(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||w.test(e))&&e>-1&&e%1==0&&e<t}function Me(e){if(null!=e){try{return K.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function De(e,t){return e===t||e!=e&&t!=t}(ie&&Te(new ie(new ArrayBuffer(1)))!=S||re&&Te(new re)!=d||oe&&Te(oe.resolve())!=h||ae&&Te(new ae)!=g||se&&Te(new se)!=m)&&(Te=function(e){var t=we(e),n=t==p?e.constructor:void 0,i=n?Me(n):"";if(i)switch(i){case le:return S;case ce:return d;case de:return h;case fe:return g;case pe:return m}return t});var Ne=ke(function(){return arguments}())?ke:function(e){return Ve(e)&&H.call(e,"callee")&&!Z.call(e,"callee")},Le=Array.isArray,je=te||function(){return!1};function Ue(e){if(!Fe(e))return!1;var t=we(e);return t==c||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function xe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function Fe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ve(e){return null!=e&&"object"==typeof e}var qe=M?function(e){return function(t){return e(t)}}(M):function(e){return Ve(e)&&xe(e.length)&&!!k[we(e)]};function ze(e){return null!=(t=e)&&xe(t.length)&&!Ue(t)?function(e,t){var n=Le(e),i=!n&&Ne(e),r=!n&&!i&&je(e),o=!n&&!i&&!r&&qe(e),a=n||i||r||o,s=a?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],u=s.length;for(var l in e)!t&&!H.call(e,l)||a&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Re(l,u))||s.push(l);return s}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||q))return ne(e);var t,n,i=[];for(var r in Object(e))H.call(e,r)&&"constructor"!=r&&i.push(r);return i}(e);var t}e.exports=function(e,t){return Ae(e,t)}},600:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(749)),o=function(){function e(){this.argString="",this.argValues={}}return e.prototype.add=function(e,t){if(void 0===t)return this;this.argString&&(this.argString+="&");var n;return n=t instanceof Array?JSON.stringify(t):encodeURIComponent(t),this.argString+="".concat(e,"=").concat(n),this.argValues[e]=t,this},e.prototype.body=function(e){return e?(this._body=e,this):this._body},e.prototype.attachApiKeys=function(e,t){return this.add(r.default.PARAMS.APP_ID,e).add(r.default.PARAMS.CLIENT,r.default.CLIENT).add(r.default.PARAMS.CLIENT_KEY,t)},e.prototype.build=function(){return this.argString},e.prototype.buildDict=function(){return this.argValues},e}();t.default=o},266:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.browser=this.searchString(this.getBrowserData(e))||"Unknown Browser",this.version=this.searchVersion(e.navigator.userAgent)||this.searchVersion(e.navigator.appVersion)||"Unknown Version",this.OS=this.searchString(this.getOSData(e))||"Unknown OS"}return e.prototype.searchString=function(e){for(var t=0;t<e.length;t++){var n=e[t].string,i=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,n){if(-1!==n.indexOf(e[t].subString))return e[t].identity}else if(i)return e[t].identity}},e.prototype.searchVersion=function(e){if(e){var t=e.indexOf(this.versionSearchString);if(-1!==t)return parseFloat(e.substring(t+this.versionSearchString.length+1))}},e.prototype.getBrowserData=function(e){return[{string:e.navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:e.navigator.userAgent,subString:"OmniWeb",identity:"OmniWeb",versionSearch:"OmniWeb/"},{string:e.navigator.userAgent,subString:"CriOS",identity:"Chrome",versionSearch:"CriOS"},{string:e.navigator.userAgent,subString:"FxiOS",identity:"Firefox",versionSearch:"FxiOS"},{string:e.navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:e.opera,identity:"Opera",versionSearch:"Version"},{string:e.navigator.vendor,subString:"iCab",identity:"iCab"},{string:e.navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:e.navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:e.navigator.vendor,subString:"Camino",identity:"Camino"},{string:e.navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:e.navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:e.navigator.userAgent,subString:"Android",identity:"Android Browser",versionSearch:"Version"},{string:e.navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:e.navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}]},e.prototype.getOSData=function(e){return[{string:e.navigator.platform,subString:"Win",identity:"Windows"},{string:e.navigator.platform,subString:"Mac",identity:"Mac OS"},{string:e.navigator.platform,subString:"iPad",identity:"iOS"},{string:e.navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:e.navigator.userAgent,subString:"Android",identity:"Android"},{string:e.navigator.platform,subString:"Linux",identity:"Linux"}]},e}();t.default=n},749:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={METHODS:{START:"start",STOP:"stop",ADVANCE:"advance",TRACK:"track",PAUSE_SESSION:"pauseSession",RESUME_SESSION:"resumeSession",PAUSE_STATE:"pauseState",RESUME_STATE:"resumeState",DOWNLOAD_FILE:"downloadFile",MULTI:"multi",SET_VARS:"setVars",GET_VARS:"getVars",SET_USER_ATTRIBUTES:"setUserAttributes",SET_DEVICE_ATTRIBUTES:"setDeviceAttributes",UPLOAD_FILE:"uploadFile",REGISTER_DEVICE:"registerDevice"},SDK_VERSION:"1.11.0-develop.4",CLIENT:"js",PARAMS:{ACTION:"action",APP_ID:"appId",CLIENT:"client",CLIENT_KEY:"clientKey",CT:"ct",CURRENCY_CODE:"currencyCode",DEVICE_ID:"deviceId",SDK_VERSION:"sdkVersion",USER_ID:"userId",NEW_USER_ID:"newUserId",DEV_MODE:"devMode",VERSION_NAME:"versionName",SYSTEM_NAME:"systemName",SYSTEM_VERSION:"systemVersion",BROWSER_NAME:"browserName",BROWSER_VERSION:"browserVersion",DEVICE_NAME:"deviceName",DEVICE_MODEL:"deviceModel",USER_ATTRIBUTES:"userAttributes",LOCALE:"locale",COUNTRY:"country",REGION:"region",CITY:"city",LOCATION:"location",STATE:"state",INFO:"info",EVENT:"event",VALUE:"value",FILENAME:"filename",TIME:"time",DATA:"data",VARS:"vars",FILE:"file",SIZE:"size",VARIATION:"variation",HASH:"hash",EMAIL:"email",VARIABLES:"vars",ACTION_DEFINITIONS:"actionDefinitions",PARAMS:"params",INCLUDE_DEFAULTS:"includeDefaults",INCLUDE_VARIANT_DEBUG_INFO:"includeVariantDebugInfo",NEWSFEED_MESSAGES:"newsfeedMessages",MESSAGE_ID:"messageId",WEB_PUSH_SUBSCRIPTION:"webPushSubscription"},KEYS:{IS_REGISTERED:"isRegistered",LATEST_VERSION:"latestVersion",SYNC_INBOX:"syncNewsfeed",MESSAGES:"messages",VARS:"vars",VARIANTS:"variants",VARIANT_DEBUG_INFO:"variantDebugInfo",ACTION_DEFINITIONS:"actionDefinitions",TOKEN:"token"},DEFAULT_KEYS:{COUNT:"__leanplum_unsynced",ITEM:"__leanplum_unsynced_",VARIABLES:"__leanplum_variables",VARIANTS:"__leanplum_variants",VARIANT_DEBUG_INFO:"__leanplum_variant_debug_info",ACTION_DEFINITIONS:"__leanplum_action_definitions",HOST_CONFIG:"__leanplum_hosts",INBOX_MESSAGES:"__leanplum_inbox_messages",TOKEN:"__leanplum_token",DEVICE_ID:"__leanplum_device_id",USER_ID:"__leanplum_user_id",SESSION:"__leanplum_session",MESSAGE_OCCURRENCES:"__leanplum_message_occurrences",MESSAGE_CACHE:"__leanplum_message_cache",MIGRATION_STATE:"__leanplum_migration_state",PUSH_SUBSCRIPTION:"__leanplum_push_subscription"},VALUES:{DETECT:"(detect)",DEFAULT_PUSH_ACTION:"Open action"}}},565:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.handlers=[]}return e.prototype.on=function(e,t){this.handlers.push({eventName:e,callback:t})},e.prototype.off=function(e,t){this.handlers=this.handlers.filter((function(n){return n.eventName!==e||n.callback!==t}))},e.prototype.emit=function(e,t){this.handlers.forEach((function(n){n.eventName===e&&n.callback(t)}))},e}();t.default=n},157:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.startHandlers=[],this.devMode=!1,this.hasStarted=!1,this.startSuccessful=!1,this.variantDebugInfoEnabled=!1}return e.prototype.addStartResponseHandler=function(e){this.startHandlers.push(e),this.hasStarted&&e(this.startSuccessful)},e.prototype.removeStartResponseHandler=function(e){var t=this.startHandlers.indexOf(e);t>=0&&this.startHandlers.splice(t,1)},e.prototype.triggerStartHandlers=function(){for(var e=0;e<this.startHandlers.length;e++)this.startHandlers[e](this.startSuccessful)},e}();t.default=n},876:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(749)),o=i(n(642)),a=function(){function e(){}return e.setApiPath=function(t){e._lp.setApiPath(t)},e.setEmail=function(){},e.setNetworkTimeout=function(t){e._lp.setNetworkTimeout(t)},e.setAppIdForDevelopmentMode=function(t,n){e._lp.setAppIdForDevelopmentMode(t,n)},e.setAppIdForProductionMode=function(t,n){e._lp.setAppIdForProductionMode(t,n)},e.setSocketHost=function(t){e._lp.setSocketHost(t)},e.setDeviceId=function(t){e._lp.setDeviceId(t)},e.setLocale=function(t){e._lp.setLocale(t)},e.setAppVersion=function(t){e._lp.setAppVersion(t)},e.setDeviceName=function(t){e._lp.setDeviceName(t)},e.setDeviceModel=function(t){e._lp.setDeviceModel(t)},e.setRequestBatching=function(t,n){e._lp.setRequestBatching(t,n)},e.setSystemName=function(t){e._lp.setSystemName(t)},e.setSystemVersion=function(t){e._lp.setSystemVersion(t)},e.setVariables=function(t){e._lp.setVariables(t)},e.setVariantDebugInfoEnabled=function(t){e._lp.setVariantDebugInfoEnabled(t)},e.enableRichInAppMessages=function(t){e._lp.enableRichInAppMessages(t)},e.processMessageEvent=function(t,n){e._lp.processMessageEvent(t,n)},e.getVariantDebugInfo=function(){return e._lp.getVariantDebugInfo()},e.getVariables=function(){return e._lp.getVariables()},e.getVariable=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=e._lp).getVariable.apply(t,n)},e.getVariants=function(){return e._lp.getVariants()},e.inbox=function(){return e._lp.inbox()},e.addStartResponseHandler=function(t){e._lp.addStartResponseHandler(t)},e.removeStartResponseHandler=function(t){e._lp.removeStartResponseHandler(t)},e.addVariablesChangedHandler=function(t){e._lp.addVariablesChangedHandler(t)},e.removeVariablesChangedHandler=function(t){e._lp.removeVariablesChangedHandler(t)},e.forceContentUpdate=function(t){e._lp.forceContentUpdate(t)},e.useSessionLength=function(t){e._lp.useSessionLength(t)},e.start=function(t,n,i){e._lp.start(t,n,i)},e.startFromCache=function(t,n,i){e._lp.startFromCache(t,n,i)},e.stop=function(){e._lp.stop()},e.pauseSession=function(){e._lp.pauseSession()},e.resumeSession=function(){e._lp.resumeSession()},e.pauseState=function(){e._lp.pauseState()},e.resumeState=function(){e._lp.resumeState()},e.getUserId=function(){return this._lp.getUserId()},e.setUserId=function(t){e.setUserAttributes(t)},e.setUserAttributes=function(t,n){e._lp.setUserAttributes(t,n)},e.track=function(t,n,i,r){e._lp.track(t,n,i,r)},e.trackPurchase=function(t,n,i,r){void 0===r&&(r="Purchase"),e._lp.trackPurchase(t,n,i,r)},e.advanceTo=function(t,n,i){e._lp.advanceTo(t,n,i)},e.isWebPushSupported=function(){return e._lp.isWebPushSupported()},e.isWebPushSubscribed=function(){return e._lp.isWebPushSubscribed()},e.setWebPushOptions=function(t){return e._lp.setWebPushOptions(t)},e.registerForWebPush=function(t){return e._lp.registerForWebPush(t)},e.unregisterFromWebPush=function(){return e._lp.unregisterFromWebPush()},e.clearUserContent=function(){e._lp.clearUserContent()},e.defineAction=function(t){e._lp.defineAction(t)},e.applyQueue=function(t){e._lp.applyQueue(t)},e.on=function(t,n){e._lp.on(t,n)},e.off=function(t,n){e._lp.off(t,n)},e.getFileUrl=function(t){return e._lp.getFileUrl(t)},e.__destroy=function(){this._lp=new o.default(window)},e._lp=new o.default(window),e.VERSION=r.default.SDK_VERSION,e}();t.default=a},234:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LeanplumInboxMessage=void 0;var o=r(n(600)),a=r(n(749)),s=r(n(88)),u=function(e){return Object.keys(e).map((function(t){return e[t]}))},l=function(){function e(e,t){this.createRequest=e,this.onAction=t,this.messageMap={},this.changeHandlers=[],this.load()}return e.prototype.downloadMessages=function(){var e=this;this.createRequest("getNewsfeedMessages",void 0,{queued:!0,sendNow:!0,response:function(t){var n=null==t?void 0:t.response[0];n&&n.newsfeedMessages&&(e.messageMap=n.newsfeedMessages,e.triggerChangeHandlers())}})},e.prototype.markAsRead=function(e){var t=this.messageMap[e];if(t&&!t.isRead){t.isRead=!0,this.triggerChangeHandlers();var n=new o.default;n.add("newsfeedMessageId",e),this.createRequest("markNewsfeedMessageAsRead",n,{})}},e.prototype.read=function(e){this.markAsRead(e);var t=this.message(e),n=e.split("##")[0],i=(null==t?void 0:t.openAction())||null;this.onAction(n,i)},e.prototype.remove=function(e){if(this.messageMap[e]){delete this.messageMap[e],this.triggerChangeHandlers();var t=new o.default;t.add("newsfeedMessageId",e),this.createRequest("deleteNewsfeedMessage",t,{})}},e.prototype.onChanged=function(e){this.changeHandlers.push(e)},e.prototype.triggerChangeHandlers=function(){this.changeHandlers.forEach((function(e){return e()})),this.save()},e.prototype.save=function(){s.default.save(a.default.DEFAULT_KEYS.INBOX_MESSAGES,JSON.stringify(this.messageMap),"session")},e.prototype.load=function(){var e=s.default.get(a.default.DEFAULT_KEYS.INBOX_MESSAGES,"session");try{this.messageMap=JSON.parse(e)||{}}catch(e){this.messageMap={}}},e.prototype.count=function(){return u(this.messageMap).length},e.prototype.unreadCount=function(){return u(this.messageMap).filter((function(e){return!e.isRead})).length},e.prototype.messages=function(e){var t=[];for(var n in this.messageMap){var i=this.messageMap[n];e(i)&&t.push(c.create(n,i))}return t},e.prototype.allMessages=function(){return this.messages((function(){return!0}))},e.prototype.unreadMessages=function(){return this.messages((function(e){return!e.isRead}))},e.prototype.messageIds=function(){return Object.keys(this.messageMap)},e.prototype.message=function(e){var t=this.messageMap[e];return t?c.create(e,t):null},e}();t.default=l;var c=function(){function e(e,t,n,i,r,o,a,s){this._id=e,this._title=t,this._subtitle=n,this._data=i,this._timestamp=r,this._isRead=o,this._imageUrl=a,this._openAction=s}return e.create=function(t,n){var r,o,s,u,l,c,d,f,p,h,v,g=null===(r=n.messageData)||void 0===r?void 0:r.parentCampaignId,y=i(i({},null===(s=null===(o=n.messageData)||void 0===o?void 0:o.vars)||void 0===s?void 0:s[a.default.VALUES.DEFAULT_PUSH_ACTION]),{parentCampaignId:g});return new e(t,null===(l=null===(u=n.messageData)||void 0===u?void 0:u.vars)||void 0===l?void 0:l.Title,null===(d=null===(c=n.messageData)||void 0===c?void 0:c.vars)||void 0===d?void 0:d.Subtitle,null===(p=null===(f=n.messageData)||void 0===f?void 0:f.vars)||void 0===p?void 0:p.Data,n.deliveryTimestamp,n.isRead,null===(v=null===(h=n.messageData)||void 0===h?void 0:h.vars)||void 0===v?void 0:v.Image,y)},e.prototype.id=function(){return this._id},e.prototype.title=function(){return this._title},e.prototype.subtitle=function(){return this._subtitle},e.prototype.data=function(){return this._data},e.prototype.timestamp=function(){return this._timestamp},e.prototype.isRead=function(){return this._isRead},e.prototype.imageUrl=function(){return this._imageUrl},e.prototype.openAction=function(){return this._openAction},e}();t.LeanplumInboxMessage=c},642:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(600)),a=r(n(266)),s=r(n(749)),u=r(n(157)),l=r(n(234)),c=r(n(343)),d=r(n(34)),f=r(n(88)),p=r(n(95)),h=r(n(14)),v=r(n(565)),g=r(n(316)),y=n(772),m=n(205),b=r(n(816)),S=s.default.DEFAULT_KEYS.SESSION,_=function(){function e(e){var t=this;this.wnd=e,this._migration=new g.default(this.createRequest.bind(this)),this._events=new v.default,this._internalState=new u.default,this._lpInbox=new l.default(this.createRequest.bind(this),this.onInboxAction.bind(this)),this._lpRequest=new c.default(this._events),this._varCache=new b.default(this.createRequest.bind(this)),this._lpSocket=new d.default(this._varCache,this.createRequest.bind(this),this._lpRequest.getLastResponse.bind(this._lpRequest),this._events),this._pushManager=new p.default(this._events,this.createRequest.bind(this)),this._messages=new h.default(this._events,this.createRequest.bind(this),this.getFileUrl.bind(this)),this._browserDetector=new a.default(e),this._events.on("navigationChange",(function(e){var n=!1;t._events.emit("openUrl",{preventDefault:function(){return n=!0},url:e}),n||t.wnd.location.assign(e)})),this._events.on("registerForPush",(function(){return t.registerForWebPush()})),this._events.on("updateDevServerHost",(function(e){return t.setSocketHost(e)})),this._events.on("migrateStateReceived",(function(e){return t._migration.verifyState(e)})),this._events.on("webPushSubscribed",(function(){var e,n=null===(e=t._webPushOptions)||void 0===e?void 0:e.serviceWorkerUrl,r=n?{serviceWorkerPath:n}:{};t._ct&&t._ct.notifications.push(i({titleText:"",bodyText:"",okButtonText:"",rejectButtonText:""},r))}))}return e.prototype.setApiPath=function(e){this._lpRequest.apiPath&&(this._lpRequest.apiPath=e)},e.prototype.setNetworkTimeout=function(e){this._lpRequest.setNetworkTimeout(e),this._lpSocket.setNetworkTimeout(e)},e.prototype.setAppIdForDevelopmentMode=function(e,t){this._lpRequest.appId=e,this._lpRequest.clientKey=t,this._internalState.devMode=!0},e.prototype.setAppIdForProductionMode=function(e,t){this._lpRequest.appId=e,this._lpRequest.clientKey=t,this._internalState.devMode=!1},e.prototype.setSocketHost=function(e){this._lpSocket.setSocketHost(e)},e.prototype.setDeviceId=function(e){this._lpRequest.deviceId=e},e.prototype.setLocale=function(e){this._locale=e},e.prototype.setAppVersion=function(e){this._lpRequest.versionName=e},e.prototype.setDeviceName=function(e){this._deviceName=e},e.prototype.setDeviceModel=function(e){this._deviceModel=e},e.prototype.setRequestBatching=function(e,t){this._lpRequest.batchEnabled=e,this._lpRequest.batchCooldown=t},e.prototype.setSystemName=function(e){this._systemName=e},e.prototype.setSystemVersion=function(e){this._systemVersion=e},e.prototype.setVariables=function(e){this._varCache.setVariables(e)},e.prototype.setVariantDebugInfoEnabled=function(e){this._internalState.variantDebugInfoEnabled=e},e.prototype.enableRichInAppMessages=function(e){this._messages.enableRichInAppMessages(e)},e.prototype.processMessageEvent=function(e,t){this._messages.processMessageEvent(e,t)},e.prototype.getVariantDebugInfo=function(){return this._varCache.getVariantDebugInfo()},e.prototype.getVariables=function(){return this._varCache.getVariables()},e.prototype.getVariable=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._varCache).getVariable.apply(e,t)},e.prototype.getVariants=function(){return this._varCache.variants||[]},e.prototype.inbox=function(){return this._lpInbox},e.prototype.on=function(e,t){this._events.on(e,t)},e.prototype.off=function(e,t){this._events.off(e,t)},e.prototype.onInboxAction=function(e,t){var n=this;this._messages.trackMessage(e,{event:"Open"},(function(){return t&&n._messages.onAction(t)}))},e.prototype.defineAction=function(e){this._varCache.registerActionDefinition(i({kind:y.MessageKind.Template},e))},e.prototype.addStartResponseHandler=function(e){this._internalState.addStartResponseHandler(e)},e.prototype.removeStartResponseHandler=function(e){this._internalState.removeStartResponseHandler(e)},e.prototype.addVariablesChangedHandler=function(e){this._varCache.addVariablesChangedHandler(e)},e.prototype.removeVariablesChangedHandler=function(e){this._varCache.removeVariablesChangedHandler(e)},e.prototype.getFileUrl=function(e){return this._lpRequest.getFileUrl(e)},e.prototype.forceContentUpdate=function(e){var t=this,n=(new o.default).add(s.default.PARAMS.INCLUDE_DEFAULTS,!1).add(s.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,this._internalState.variantDebugInfoEnabled);this.createRequest(s.default.METHODS.GET_VARS,n,{queued:!1,sendNow:!0,response:function(n){var i=t._lpRequest.getLastResponse(n),r=t._lpRequest.isResponseSuccess(i);r&&(t._varCache.applyDiffs(i[s.default.KEYS.VARS],i[s.default.KEYS.VARIANTS],i[s.default.KEYS.ACTION_DEFINITIONS]),t._varCache.setVariantDebugInfo(i[s.default.KEYS.VARIANT_DEBUG_INFO]),t._events.emit("messagesReceived",i[s.default.KEYS.MESSAGES])),e&&e(r)}})},e.prototype.useSessionLength=function(e){this._sessionLength=e},e.prototype.start=function(e,t,n){var i=this;if("function"==typeof e?(n=e,t={},e=null):"object"==typeof e&&null!=e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t={}),this.hasActiveSession()&&!this._internalState.devMode)return this.startFromCache(e,t,n);this._migration.getState((function(r){r===m.MigrationState.DUPLICATE?(i._ct=i._migration.initCleverTap(),i.isWebPushSubscribed().then((function(e){e&&i._events.emit("webPushSubscribed")}))):r===m.MigrationState.CLEVERTAP&&(i._ct=i._migration.initCleverTap(),Object.values(s.default.DEFAULT_KEYS).filter((function(e){return![s.default.DEFAULT_KEYS.USER_ID,s.default.DEFAULT_KEYS.DEVICE_ID,s.default.DEFAULT_KEYS.TOKEN].includes(e)})).forEach((function(e){return f.default.remove(e)}))),i._lpRequest.userId=e,n&&i.addStartResponseHandler(n),i._varCache.onUpdate=function(){i._varCache.triggerVariablesChangedHandlers()};var a=(new o.default).add(s.default.PARAMS.USER_ATTRIBUTES,JSON.stringify(t)).add(s.default.PARAMS.COUNTRY,s.default.VALUES.DETECT).add(s.default.PARAMS.REGION,s.default.VALUES.DETECT).add(s.default.PARAMS.CITY,s.default.VALUES.DETECT).add(s.default.PARAMS.LOCATION,s.default.VALUES.DETECT).add(s.default.PARAMS.SYSTEM_NAME,i._systemName||i._browserDetector.OS).add(s.default.PARAMS.SYSTEM_VERSION,(i._systemVersion||"").toString()).add(s.default.PARAMS.BROWSER_NAME,i._browserDetector.browser).add(s.default.PARAMS.BROWSER_VERSION,i._browserDetector.version.toString()).add(s.default.PARAMS.LOCALE,i._locale||s.default.VALUES.DETECT).add(s.default.PARAMS.DEVICE_NAME,i._deviceName||"".concat(i._browserDetector.browser," ").concat(i._browserDetector.version)).add(s.default.PARAMS.DEVICE_MODEL,i._deviceModel||"Web Browser").add(s.default.PARAMS.NEWSFEED_MESSAGES,i._lpInbox.messageIds()).add(s.default.PARAMS.INCLUDE_DEFAULTS,!1).add(s.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,i._internalState.variantDebugInfoEnabled);i.createRequest(s.default.METHODS.START,a,{queued:!0,sendNow:!0,response:function(e){i._internalState.hasStarted=!0;var t=i._lpRequest.getLastResponse(e),n=i._lpRequest.isResponseSuccess(t);if(i._internalState.startSuccessful=n,n){i.updateSession();var r=t[s.default.KEYS.MESSAGES];if(t.actionDefinitions&&(r.actionDefinitions=t.actionDefinitions),i._events.emit("messagesReceived",r),t[s.default.KEYS.SYNC_INBOX]&&i._lpInbox.downloadMessages(),i._internalState.devMode){var o=t[s.default.KEYS.LATEST_VERSION];o&&console.log("A newer version of the Leanplum SDK, ".concat(o,', is available.\n  Use "npm update leanplum-sdk" or go to https://docs.leanplum.com/reference#javascript-setup to download it.')),i.connectSocket()}i._varCache.applyDiffs(t[s.default.KEYS.VARS],t[s.default.KEYS.VARIANTS],t[s.default.KEYS.ACTION_DEFINITIONS]),i._varCache.setVariantDebugInfo(t[s.default.KEYS.VARIANT_DEBUG_INFO]),i._varCache.token=t[s.default.KEYS.TOKEN]}else i._varCache.loadDiffs();i._events.emit("start",{success:n}),i._internalState.triggerStartHandlers()}})}))},e.prototype.startFromCache=function(e,t,n){"function"==typeof e?(n=e,t={},e=null):"object"==typeof e&&null!=e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t={}),this.updateSession(),this._lpRequest.userId=e,n&&this.addStartResponseHandler(n),this._internalState.hasStarted=!0,this._internalState.startSuccessful=!0,this._internalState.devMode&&this.connectSocket(),this._varCache.loadDiffs(),this._events.emit("resume"),this._internalState.triggerStartHandlers()},e.prototype.stop=function(){this.createRequest(s.default.METHODS.STOP,void 0,{sendNow:!0,queued:!0,response:function(){f.default.remove(S)}})},e.prototype.pauseSession=function(){this.createRequest(s.default.METHODS.PAUSE_SESSION,void 0,{sendNow:!0,queued:!0})},e.prototype.resumeSession=function(){this._events.emit("resume"),this.createRequest(s.default.METHODS.RESUME_SESSION,void 0,{sendNow:!0,queued:!0})},e.prototype.pauseState=function(){this.createRequest(s.default.METHODS.PAUSE_STATE,void 0,{queued:!0})},e.prototype.resumeState=function(){this.createRequest(s.default.METHODS.RESUME_STATE,void 0,{queued:!0})},e.prototype.getUserId=function(){return this._lpRequest.userId},e.prototype.setUserId=function(e){this.setUserAttributes(e)},e.prototype.setUserAttributes=function(e,t){if(void 0===t)if("object"==typeof e)t=e,e=void 0;else if("string"!=typeof e)return void console.log("Leanplum: setUserAttributes expects a string or an object");var n=(new o.default).add(s.default.PARAMS.USER_ATTRIBUTES,t?JSON.stringify(t):void 0).add(s.default.PARAMS.NEW_USER_ID,e);this._events.emit("setUserAttribute",t),this.createRequest(s.default.METHODS.SET_USER_ATTRIBUTES,n,{queued:!0}),e&&(this._lpRequest.userId=e,f.default.save(s.default.DEFAULT_KEYS.USER_ID,this._lpRequest.userId))},e.prototype.track=function(e,t,n,i){var r=this;"object"==typeof t&&null!=t?(i=t,n=void 0,t=void 0):"string"==typeof t?(i=n,n=t,t=void 0):"object"==typeof n&&null!=n&&(i=n,n=void 0);var a=(new o.default).add(s.default.PARAMS.EVENT,e).add(s.default.PARAMS.VALUE,t||0).add(s.default.PARAMS.INFO,n).add(s.default.PARAMS.PARAMS,JSON.stringify(i));this._events.emit("track",{eventName:e,params:i}),this.createRequest(s.default.METHODS.TRACK,a,{queued:!0,response:function(){return r.updateSession()}})},e.prototype.trackPurchase=function(e,t,n,i){void 0===i&&(i="Purchase");var r=(new o.default).add(s.default.PARAMS.EVENT,i).add(s.default.PARAMS.VALUE,e||0).add(s.default.PARAMS.PARAMS,JSON.stringify(n));t&&r.add(s.default.PARAMS.CURRENCY_CODE,t),this._events.emit("track",{eventName:i}),this.createRequest(s.default.METHODS.TRACK,r,{queued:!0,isPurchase:!0})},e.prototype.advanceTo=function(e,t,n){"object"==typeof t&&null!=t&&(n=t,t=void 0);var i=(new o.default).add(s.default.PARAMS.STATE,e).add(s.default.PARAMS.INFO,t).add(s.default.PARAMS.PARAMS,JSON.stringify(n));this._events.emit("advanceState",{state:e,params:n}),this.createRequest(s.default.METHODS.ADVANCE,i,{queued:!0})},e.prototype.isWebPushSupported=function(){return this._pushManager.isWebPushSupported()},e.prototype.isWebPushSubscribed=function(){var e,t=(null===(e=this._webPushOptions)||void 0===e?void 0:e.clientUrl)||"";return this._pushManager.isWebPushSubscribed(t)},e.prototype.setWebPushOptions=function(e){this._webPushOptions=i({},e)},e.prototype.registerForWebPush=function(e){var t=this;if(this._pushManager.isWebPushSupported()){var n=this._webPushOptions||{},i=e||n.serviceWorkerUrl,r=n&&n.scope?{scope:n.scope}:null;return this._pushManager.register(i,r,(function(e){return e?Promise.resolve(!0):t._pushManager.subscribeUser()}))}return Promise.reject("Leanplum: WebPush is not supported.")},e.prototype.unregisterFromWebPush=function(){var e,t=(null===(e=this._webPushOptions)||void 0===e?void 0:e.clientUrl)||"";return this._pushManager.unsubscribeUser(t)},e.prototype.clearUserContent=function(){this._varCache.clearUserContent()},e.prototype.applyQueue=function(e){var t=this;e.forEach((function(e){return t[e.name].apply(t,e.args)}))},e.prototype.createRequest=function(e,t,n){void 0===n&&(n={}),this._migration.duplicateRequest(e,t,n)||this._lpRequest.request(e,t,i({devMode:this._internalState.devMode},n))},e.prototype.connectSocket=function(){this._lpSocket.connect({appId:this._lpRequest.appId,deviceId:this._lpRequest.deviceId})},e.prototype.hasActiveSession=function(){if(!this._sessionLength)return!1;var e=Date.now(),t=parseInt(f.default.get(S));return!isNaN(t)&&e-t<1e3*this._sessionLength},e.prototype.updateSession=function(){f.default.save(S,String(Date.now()))},e}();t.default=_},343:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(600)),o=i(n(749)),a=i(n(88)),s=i(n(967)),u=function(){function e(e,t){void 0===t&&(t=new s.default),this.events=e,this.network=t,this.cooldownTimeout=null,this.lastRequestTime=void 0,this.userIdValue=void 0,this.apiPath="https://api.leanplum.com/api",this.batchCooldown=5,this.batchEnabled=!0,this.loadHostConfig()}return Object.defineProperty(e.prototype,"userId",{get:function(){var e,t;return null!==(t=null!==(e=this.userIdValue)&&void 0!==e?e:this.loadLocal(o.default.DEFAULT_KEYS.USER_ID))&&void 0!==t?t:this.deviceId},set:function(e){this.userIdValue=e},enumerable:!1,configurable:!0}),e.prototype.request=function(e,t,n){var i=this;if(void 0===n&&(n={}),n=n||{},t=t||new r.default,this.deviceId||(this.deviceId=this.loadLocal(o.default.DEFAULT_KEYS.DEVICE_ID)),!this.deviceId){for(var a="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",u=0;u<16;u++)a+=s.charAt(Math.floor(Math.random()*s.length));this.deviceId=a,this.saveLocal(o.default.DEFAULT_KEYS.DEVICE_ID,a)}this.saveLocal(o.default.DEFAULT_KEYS.USER_ID,this.userId);var l=t.attachApiKeys(this.appId,this.clientKey).add(o.default.PARAMS.SDK_VERSION,o.default.SDK_VERSION).add(o.default.PARAMS.DEVICE_ID,this.deviceId).add(o.default.PARAMS.USER_ID,this.userId).add(o.default.PARAMS.ACTION,e).add(o.default.PARAMS.VERSION_NAME,this.versionName).add(o.default.PARAMS.DEV_MODE,n.devMode).add(o.default.PARAMS.TIME,((new Date).getTime()/1e3).toString()),c=n.success||n.response,d=n.error||n.response;if(!this.appId||!this.clientKey){var f="Leanplum App ID and client key are not set. Make sure you are calling setAppIdForDevelopmentMode or setAppIdForProductionMode before issuing API calls.";return console.error(f),void(d&&d(f))}if(t.body())this.sendRequest("?".concat(l.build()),t.body(),c,d,n.queued);else{var p=n.devMode||n.sendNow||!this.batchEnabled,h=function(){var e=i.popUnsentRequests();if(e.length>0){var t=JSON.stringify({data:e}),a=(new r.default).attachApiKeys(i.appId,i.clientKey).add(o.default.PARAMS.SDK_VERSION,o.default.SDK_VERSION).add(o.default.PARAMS.ACTION,o.default.METHODS.MULTI).add(o.default.PARAMS.TIME,((new Date).getTime()/1e3).toString().toString()).build();i.sendRequest("?".concat(a),t,c,d,n.queued)}};if(!p&&this.batchCooldown){var v=(new Date).getTime()/1e3;!this.lastRequestTime||v-this.lastRequestTime>=this.batchCooldown?(p=!0,this.lastRequestTime=v):this.cooldownTimeout||(this.cooldownTimeout=setTimeout((function(){i.cooldownTimeout=null,i.lastRequestTime=(new Date).getTime()/1e3,h()}),1e3*(this.batchCooldown-(v-this.lastRequestTime))))}this.saveRequestForLater(l.buildDict()),p&&h()}},e.prototype.getFileUrl=function(e){if(!e)return"";if(/^https?:/.test(e))return e;var t=(new r.default).attachApiKeys(this.appId,this.clientKey).add(o.default.PARAMS.SDK_VERSION,o.default.SDK_VERSION).add(o.default.PARAMS.ACTION,"downloadFile").add("filename",e);return"".concat(this.apiPath,"?").concat(t.build())},e.prototype.setNetworkTimeout=function(e){this.network.setNetworkTimeout(e)},e.prototype.getLastResponse=function(e){var t,n,i,r=null!==(n=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.length)&&void 0!==n?n:0;return r>0?null===(i=null==e?void 0:e.response)||void 0===i?void 0:i[r-1]:null},e.prototype.getFirstResponse=function(e){var t,n,i;return(null!==(n=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.length)&&void 0!==n?n:0)>0?null===(i=null==e?void 0:e.response)||void 0===i?void 0:i[0]:null},e.prototype.isResponseSuccess=function(e){return Boolean(null==e?void 0:e.success)},e.prototype.saveRequestForLater=function(e){var t=this.loadLocal(o.default.DEFAULT_KEYS.COUNT)||0,n=o.default.DEFAULT_KEYS.ITEM+t;this.saveLocal(n,JSON.stringify(e)),t++,this.saveLocal(o.default.DEFAULT_KEYS.COUNT,t)},e.prototype.sendRequest=function(e,t,n,i,r){var a=this;this.network.ajax("POST","".concat(this.apiPath).concat(e),t,(function(s){var u,l=a.getFirstResponse(s),c=(null===(u=s.migrateState)||void 0===u?void 0:u.sha256)||l.sha256;if(a.events.emit("migrateStateReceived",c),!l.success&&l.apiHost){var d=l.apiHost,f=l.apiPath,p=l.devServerHost;a.saveLocal(o.default.DEFAULT_KEYS.HOST_CONFIG,JSON.stringify({apiHost:d,apiPath:f,devServerHost:p})),a.apiPath="https://".concat(d,"/").concat(f),a.sendRequest(e,t,n,i,r),a.events.emit("updateDevServerHost",p)}else n&&n(s)}),i,r)},e.prototype.popUnsentRequests=function(){var e=[],t=this.loadLocal(o.default.DEFAULT_KEYS.COUNT)||0;this.removeLocal(o.default.DEFAULT_KEYS.COUNT);for(var n=0;n<t;n++){var i=o.default.DEFAULT_KEYS.ITEM+n;try{e.push(JSON.parse(this.loadLocal(i)))}catch(e){}this.removeLocal(i)}return e},e.prototype.loadHostConfig=function(){var e=JSON.parse(this.loadLocal(o.default.DEFAULT_KEYS.HOST_CONFIG)||"null");if(e){var t=e.apiHost,n=e.apiPath,i=e.devServerHost;this.apiPath="https://".concat(t,"/").concat(n),this.events.emit("updateDevServerHost",i)}},e.prototype.loadLocal=function(e){return a.default.get(e)},e.prototype.saveLocal=function(e,t){a.default.save(e,t)},e.prototype.removeLocal=function(e){a.default.remove(e)},e}();t.default=u},34:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(307)),o=i(n(600)),a=i(n(749)),s=i(n(897)),u=function(){function e(e,t,n,i){this.cache=e,this.createRequest=t,this.getLastResponse=n,this.events=i,this.networkTimeoutSeconds=10,this.socketClient=null,this.socketHost="dev.leanplum.com",this.auth=null}return e.prototype.connect=function(e){var t=this;if(WebSocket){this.auth=e;var n=!1;this.socketClient=new s.default,this.socketClient.setNetworkTimeout(this.networkTimeoutSeconds),this.socketClient.onopen=function(){var i;n||(console.log("Leanplum: Connected to development server."),t.socketClient.send("auth",((i={})[a.default.PARAMS.APP_ID]=e.appId,i[a.default.PARAMS.DEVICE_ID]=e.deviceId,i)),n=!0)},this.socketClient.onerror=function(e){console.log("Leanplum: Socket error",e)},this.socketClient.onmessage=this.onMessageReceived.bind(this),this.socketClient.onclose=function(){console.log("Leanplum: Disconnected from development server."),n=!1},this.socketClient.connect(this.socketHost),setInterval((function(){t.socketClient.connected||t.socketClient.connecting||t.socketClient.connect(t.socketHost)}),5e3)}else console.log("Your browser doesn't support WebSockets.")},e.prototype.setSocketHost=function(e){this.socketHost=e,this.socketClient.connected&&(this.socketClient.disconnect(),this.connect(this.auth))},e.prototype.setNetworkTimeout=function(e){var t;this.networkTimeoutSeconds=e,null===(t=this.socketClient)||void 0===t||t.setNetworkTimeout(e)},e.prototype.onMessageReceived=function(e,t){var n=this;if("updateVars"===e){var i=(new o.default).add(a.default.PARAMS.INCLUDE_DEFAULTS,!1);this.createRequest(a.default.METHODS.GET_VARS,i,{queued:!1,sendNow:!0,response:function(e){var t=n.getLastResponse(e),i=t[a.default.KEYS.VARS],o=t[a.default.KEYS.VARIANTS],s=t[a.default.KEYS.ACTION_DEFINITIONS];(0,r.default)(i,n.cache.diffs)||n.cache.applyDiffs(i,o,s)}})}else if("getVariables"===e)this.cache.sendVariables(),this.socketClient.send("getContentResponse",{updated:!0});else if("getActions"===e){var s=this.cache.sendActions();this.socketClient.send("getContentResponse",{updated:s})}else if("registerDevice"===e){var u=t[0];alert("Your device has been registered to ".concat(u.email,"."))}else"trigger"===e&&(u=t[0],this.events.emit("previewRequest",u))},e}();t.default=u},14:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(749)),a=r(n(600)),s=r(n(967)),u=r(n(307)),l=r(n(88)),c=r(n(375)),d=function(){function e(){this.session={},this.triggers={},this.occurrences={}}return e.prototype.recordOccurrence=function(e){var t=(this.session[e]||0)+1;this.session[e]=t;var n=this.occurrences[e]||[];n.push(Date.now()),this.occurrences[e]=n,this.save()},e.prototype.recordTriggerOccurrence=function(e){var t=this.triggers[e]||[];return t.push(Date.now()),this.triggers[e]=t,this.save(),t.length},e.prototype.getSessionOccurranceCount=function(e){return this.session[e]||0},e.prototype.getOccurrences=function(e){return this.occurrences[e]||[]},e.prototype.clearSession=function(){this.session={}},e.prototype.load=function(){var e=l.default.get(o.default.DEFAULT_KEYS.MESSAGE_OCCURRENCES);if(e){var t=f(e);t&&(this.session=t.session,this.triggers=t.triggers,this.occurrences=t.occurrences)}},e.prototype.save=function(){var e=o.default.DEFAULT_KEYS.MESSAGE_OCCURRENCES;l.default.save(e,JSON.stringify({session:this.session,triggers:this.triggers,occurrences:this.occurrences}))},e}(),f=function(e){try{return JSON.parse(e)}catch(e){return}},p=function(){function e(e,t,n){var i=this;this.events=e,this.createRequest=t,this.getFileUrl=n,this._messageCache={},this.occurrenceTracker=new d,this._showRichIAM=!1,e.on("previewRequest",this.onMessagePreview.bind(this)),e.on("messagesReceived",this.onMessagesReceived.bind(this)),e.on("start",(function(){i.occurrenceTracker.load(),i.occurrenceTracker.clearSession(),i.onTrigger({trigger:"start"})})),e.on("resume",(function(){var e=o.default.DEFAULT_KEYS.MESSAGE_CACHE,t=f(l.default.get(e));i._messageCache=t||i._messageCache,i.occurrenceTracker.load(),i.onTrigger({trigger:"resume"})})),e.on("track",(function(e){i.onTrigger({trigger:"event",eventName:e.eventName,params:e.params||{}})})),e.on("advanceState",(function(e){return i.onTrigger({trigger:"state",state:e.state,params:e.params||{}})})),e.on("setUserAttribute",(function(e){return i.onTrigger({trigger:"userAttribute",attributes:e})}))}return e.prototype.enableRichInAppMessages=function(e){this._showRichIAM=e},e.prototype.onTrigger=function(e){var t=this,n=this.getMessages();Object.keys(n).filter((function(i){return t.shouldShowMessage(i,n[i],e)})).slice(0,1).forEach((function(e){return t.showMessage(e,n[e])}))},e.prototype.onMessagePreview=function(e){var t=e.action,n={track:function(t){var n=t?"event '".concat(t,"'"):"impression";console.log("Tracking ".concat(n," for ").concat(e.messageId))},runActionNamed:function(e){return console.log("Running untracked action '".concat(e,"'"))},runTrackedActionNamed:function(e){return console.log("Running tracked action '".concat(e,"'"))}};this.handleMessage({isPreview:!0,message:this.addDefaults(i({messageId:e.messageId},t)),context:n})},e.prototype.onMessagesReceived=function(e){var t=e||{};this._messageCache=t,l.default.save(o.default.DEFAULT_KEYS.MESSAGE_CACHE,JSON.stringify(t))},e.prototype.shouldShowMessage=function(e,t,n){var i=Date.now(),r=this.matchesTrigger(t.whenTriggers,n),o=this.matchesTrigger(t.unlessTriggers,n);if(!r||o)return!1;var a=this.occurrenceTracker.recordTriggerOccurrence(e);return!!this.matchesLimits(e,t.whenLimits,a)&&!(t.startTime&&t.endTime&&(i<t.startTime||t.endTime<i))},e.prototype.showMessage=function(e,t){var n=this,r=this.addDefaults(i({},t.vars)),o={track:function(t,i,r,o){n.occurrenceTracker.recordOccurrence(e),n.trackMessage(e,{event:t,value:i,info:r,params:o})},runActionNamed:function(t){return n.onAction(r[t],e)},runTrackedActionNamed:function(t){var i=t.replace(/ action$/,"");n.trackMessage(e,{event:i},(function(){return n.onAction(r[t],e)}))}};this.handleMessage({context:o,message:i({messageId:e},r)})},e.prototype.processMessageEvent=function(e,t){var n=document.getElementById("lp-message-".concat(e));if(n){var i=t.replace(/^http:\/\/leanplum\//,"").split("?"),r=i[0],o=i[1],a=(void 0===o?"":o).split("&").reduce((function(e,t){var n=t.split("="),i=n[0],r=n[1];return e[i]=decodeURIComponent(r),e}),{}),s=n.metadata,u=s.message,l=s.context;switch(r){case"loadFinished":if(n.style.visibility="visible",n.style.left="0",u["HTML Height"]>0){var c=u["HTML Width"];n.style.height="".concat(u["HTML Height"],"px"),n.style.width=c,n.style.left="calc((100% - ".concat(c,") / 2)");var d=u["HTML Align"].toLowerCase(),p="top"===d?"bottom":"top";n.style[d]="0",n.style[p]=""}else n.style.top="0";n.contentWindow.focus(),l.track();break;case"track":l.track(a.event,parseFloat(a.value),a.info,f(a.parameters));break;case"runAction":case"runTrackedAction":l["".concat(r,"Named")](a.action);case"close":n.metadata=null,n.parentNode.removeChild(n)}}else console.log("message closed, skipping event processing")},e.prototype.handleMessage=function(e){var t=this;if(this._showRichIAM&&"HTML"===e.message.__name__){this.resolveFiles(e.message);var n=e.message.Template||"";(new s.default).ajax("get",n.replace("-10.html","-11.html"),"",(function(n){return t.renderRichInAppMessage(n,e)}),(function(){}),!1,!0)}else this.events.emit("showMessage",this.resolveFields(e))},e.prototype.renderRichInAppMessage=function(e,t){var n=t.message.messageId,i=JSON.stringify(t.message),r=document.createElement("iframe");r.setAttribute("id","lp-message-".concat(n)),r.setAttribute("title","Popup"),r.setAttribute("aria-modal","true"),r.style.cssText=["border-width: 0","position: fixed","top: -100%","left: -100%","width: 100%","height: 100%","visibility: hidden","z-index: 100000"].join(";"),document.body.insertBefore(r,document.body.firstChild),r.metadata=t,r.contentWindow.messageId=n;var o=e.replace("##Vars##",i).replace("<body>","<body><script>window.messageId='".concat(n,"'<\/script>"));if("srcdoc"in r)r.srcdoc=o;else{var a=r.contentWindow.document;a.open(),a.write(o),a.close()}},e.prototype.trackMessage=function(e,t,n){void 0===t&&(t={event:null}),void 0===n&&(n=function(){});var i=(new a.default).add(o.default.PARAMS.MESSAGE_ID,e),r=function(e){return void 0!==e};t.event&&i.add(o.default.PARAMS.EVENT,t.event),r(t.value)&&i.add(o.default.PARAMS.VALUE,t.value||0),r(t.info)&&i.add(o.default.PARAMS.INFO,t.info),r(t.params)&&i.add(o.default.PARAMS.PARAMS,JSON.stringify(t.params)),this.createRequest(o.default.METHODS.TRACK,i,{queued:!0,sendNow:!0,response:n})},e.prototype.onAction=function(e,t){var n=this;if(void 0===t&&(t=""),e){var i=this._messageCache;if("Chain to Existing Message"!==e.__name__){var r=function(){var i=e.__name__;"Open URL"===e.__name__?n.events.emit("navigationChange",e.URL):"Register For Push"===e.__name__?n.events.emit("registerForPush"):i&&n.showMessage(t,{messageId:t,action:i,vars:e})},o=this.messageIdFromAction(e);o?this.trackMessage(o,{event:null},r):r()}else{var a=e["Chained message"],s=i[a];"Open URL"===s.action?this.trackMessage(a,{event:"View"},(function(){return n.onAction(s.vars,a)})):"Register For Push"===s.action?this.events.emit("registerForPush"):this.showMessage(a,s)}}},e.prototype.getMessages=function(){return this._messageCache||{}},e.prototype.addDefaults=function(e){var t=this,n=(this.getMessages().actionDefinitions||{})[e.__name__],r=null==n?void 0:n.kinds;if(!n)return e;var o=function(e,n,i){void 0===i&&(i="");for(var a=0,s=Object.keys(n);a<s.length;a++){var u=s[a],l=n[u];"object"==typeof l?e[u]=o(e[u]||{},l,"".concat(i).concat(u,".")):void 0===e[u]&&(e[u]=l),"FILE"===r["".concat(i).concat(u)]&&(e[u]=t.getFileUrl(e[u]))}return e};return o(i({},e),n.values)},e.prototype.resolveFiles=function(e){var t=/^__file__/;for(var n in e)t.test(n)?e[n.replace(t,"")]=this.getFileUrl(e[n]):"object"==typeof e[n]&&(e[n]=this.resolveFiles(e[n]));return e},e.prototype.resolveFields=function(e){var t=/\bcolor/i,n=/^__file__/;for(var i in e)n.test(i)?e[i.replace(n,"")+" URL"]=this.getFileUrl(e[i]):t.test(i)?e[i]=c.default.decodeColor(e[i]):"object"==typeof e[i]&&(e[i]=this.resolveFields(e[i]));return e},e.prototype.messageIdFromAction=function(e){var t=this._messageCache,n=i({},e);delete n.parentCampaignId;for(var r=0,o=Object.keys(t);r<o.length;r++){var a=o[r],s=t[a];if(s.parentCampaignId===e.parentCampaignId&&(0,u.default)(s.vars,n))return a}},e.prototype.matchesTrigger=function(e,t){if(!e)return!1;var n=function(e,t){return void 0===t&&(t=""),0===e.toString().localeCompare(t.toString(),void 0,{sensitivity:"accent"})},i=function(e,t,i){var r=e===i.noun;if("triggers"===i.verb)return r;if("triggersWithParameter"===i.verb){var o=i.objects,a=o[0],s=o[1],u=a in t&&n(s,t[a]);return r&&u}};return e.children.some((function(e){var r=e.subject;switch(t.trigger){case"start":return"start"===r||"resume"===r;case"resume":return"resume"===r;case"event":return"event"===r&&i(t.eventName,t.params,e);case"userAttribute":if("userAttribute"!==r)return!1;var o=e.noun in t.attributes;if("changes"===e.verb)return o;if("changesTo"===e.verb){if(!o)return!1;var a=t.attributes[e.noun];return e.objects.some((function(e){return null===e&&null===a||e&&a&&n(e,a)}))}break;case"state":return"state"===r&&i(t.state,t.params,e)}return!1}))},e.prototype.matchesLimits=function(e,t,n){var i=this;return!t||t.children.every((function(t){var r=t.subject,o=t.verb,a=parseInt(t.noun.toString());if("times"===r){if("limitSession"===o)return i.occurrenceTracker.getSessionOccurranceCount(e)+1===a;if("limitUser"===o)return(s=i.occurrenceTracker.getOccurrences(e).length)+1<=a;var s,u=parseInt(t.objects[0].toString())||1,l=function(e){switch(e){case"limitSecond":return 1e3;case"limitMinute":return 6e4;case"limitHour":return 36e5;case"limitDay":return 864e5}}(o)*u,c=(s=i.occurrenceTracker.getOccurrences(e)).length;return c<a||s.slice(c-a,c)[0]<Date.now()-l}return"onNthOccurrence"===r?n===a:"everyNthOccurrence"===r&&n%a==0}))},e}();t.default=p},316:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IdentityManager=t.IdentityState=void 0;var r,o=i(n(739)),a=n(205),s=i(n(88)),u=i(n(749)),l=i(n(600)),c=function(){},d=function(e){switch(null==e?void 0:e.sdk){case"lp":return a.MigrationState.LEANPLUM;case"lp+ct":return a.MigrationState.DUPLICATE;case"ct":return a.MigrationState.CLEVERTAP;default:return a.MigrationState.UNKNOWN}},f=function(){function e(e){var t;this.createRequest=e,this.response=null;var n=s.default.get(u.default.DEFAULT_KEYS.MIGRATION_STATE),i=s.default.get(u.default.DEFAULT_KEYS.DEVICE_ID),r=null!==(t=s.default.get(u.default.DEFAULT_KEYS.USER_ID))&&void 0!==t?t:i;this.identity=new p(r,i),n&&(this.response=JSON.parse(n))}return e.prototype.getState=function(e){void 0===e&&(e=c);var t=this.response,n=d(this.response);t&&n!==a.MigrationState.UNKNOWN?e(n):this.getMigrationState(e)},e.prototype.verifyState=function(e){var t;(null===(t=this.response)||void 0===t?void 0:t.sha256)!==e&&this.getMigrationState(c)},e.prototype.initCleverTap=function(){var e,t=null===(e=this.response)||void 0===e?void 0:e.ct;if(t)return o.default.init(t.accountId,t.regionCode),o.default},e.prototype.duplicateRequest=function(e,t,n){var i=d(this.response);if(i===a.MigrationState.LEANPLUM)return!1;t||(t=new l.default),i===a.MigrationState.DUPLICATE&&t.add(u.default.PARAMS.CT,!0);var r=(null==t?void 0:t.buildDict())||{};switch(e){case u.default.METHODS.START:this.identity.isAnonymous||o.default.onUserLogin.push({Site:this.identity.profile});break;case u.default.METHODS.TRACK:this.eventPush(r,n);break;case u.default.METHODS.ADVANCE:r.event="state_".concat(r.state),this.eventPush(r,n);break;case u.default.METHODS.SET_USER_ATTRIBUTES:this.profilePush(r)}return i===a.MigrationState.CLEVERTAP},e.prototype.profilePush=function(e){var t=e[u.default.PARAMS.NEW_USER_ID],n=this.mapAttributes(this.convertArrays(JSON.parse(e.userAttributes||"{}")));t?(Object.assign(n,{Identity:t}),o.default.onUserLogin.push({Site:n})):o.default.profile.push({Site:n})},e.prototype.eventPush=function(e,t){var n=e[u.default.PARAMS.MESSAGE_ID],i=t.isPurchase?"Charged":e.event;if(i&&!n){var r={};if(e.params){var a=this.convertArrays(JSON.parse(e.params));Object.assign(r,a)}e.value&&Object.assign(r,{value:e.value}),e.info&&Object.assign(r,{info:e.info}),t.isPurchase&&e.currencyCode&&Object.assign(r,{currencyCode:e.currencyCode}),o.default.event.push(i,r)}},e.prototype.convertArrays=function(e){return Object.keys(e).reduce((function(t,n){if(Array.isArray(e[n])){var i=e[n];t[n]="[".concat(i.join(","),"]")}else t[n]=e[n];return t}),{})},e.prototype.mapAttributes=function(e){var t,n,i=null===(n=null===(t=this.response)||void 0===t?void 0:t.ct)||void 0===n?void 0:n.attributeMappings;return i?Object.keys(e).reduce((function(t,n){return i[n]?t[i[n]]=e[n]:t[n]=e[n],t}),{}):e},e.prototype.getMigrationState=function(e){var t=this;this.createRequest("getMigrateState",new l.default,{sendNow:!0,response:function(n){var i,r=null===(i=null==n?void 0:n.response)||void 0===i?void 0:i[0],o=d(r);o&&o!==a.MigrationState.UNKNOWN&&(s.default.save(u.default.DEFAULT_KEYS.MIGRATION_STATE,JSON.stringify(r)),t.response=r),e(o)}})},e}();t.default=f,function(e){e.ANONYMOUS="anonymous",e.IDENTIFIED="identified"}(r=t.IdentityState||(t.IdentityState={}));var p=function(){function e(e,t){this.userId=e,this.deviceId=t,this.state=r.ANONYMOUS,this.identify()}return e.prototype.setUserId=function(e){this.state===r.ANONYMOUS&&(this.anonymousLoginUserId=e,this.state=r.IDENTIFIED),this.userId=e},e.prototype.identify=function(){this.isAnonymous?this.state=r.ANONYMOUS:this.identifyNonAnonymous()},e.prototype.identifyNonAnonymous=function(){this.state===r.ANONYMOUS&&(this.anonymousLoginUserId=this.userId),this.state=r.IDENTIFIED},Object.defineProperty(e.prototype,"cleverTapID",{get:function(){return this.userId===this.anonymousLoginUserId||this.isAnonymous?this.deviceId:"".concat(this.deviceId,"_").concat(this.userId)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"profile",{get:function(){return{Identity:this.userId}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAnonymous",{get:function(){return this.userId===this.deviceId},enumerable:!1,configurable:!0}),e}();t.IdentityManager=p},967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.networkTimeoutSeconds=10,this.requestQueue=[],this.runningRequest=!1}return e.prototype.setNetworkTimeout=function(e){this.networkTimeoutSeconds=e},e.prototype.ajax=function(e,t,n,i,r,o,a){var s=this;if(o){if(this.runningRequest)return this.enqueueRequest(arguments);this.runningRequest=!0}if("undefined"!=typeof XDomainRequest)return"http:"===location.protocol&&0===t.indexOf("https:")&&(t="http:".concat(t.substring(6))),this.ajaxIE8(e,t,n,i,r,o,a);var u=!1,l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===l.readyState){if(u)return;var e;u=!0;var t=!1;if(a)e=l.responseText;else try{e=JSON.parse(l.responseText)}catch(e){setTimeout((function(){r&&r(null,l)}),0),t=!0}t||(l.status>=200&&l.status<300?setTimeout((function(){i&&i(e,l)}),0):setTimeout((function(){r&&r(e,l)}),0)),o&&(s.runningRequest=!1,s.dequeueRequest())}},l.open(e,t,!0),l.setRequestHeader("Content-Type","text/plain"),l.send(n),setTimeout((function(){u||l.abort()}),1e3*this.networkTimeoutSeconds)},e.prototype.ajaxIE8=function(e,t,n,i,r,o,a){var s=this,u=new XDomainRequest;u.onload=function(){var e,t=!1;if(a)e=u.responseText;else try{e=JSON.parse(u.responseText)}catch(e){setTimeout((function(){r&&r(null,u)}),0),t=!0}t||setTimeout((function(){i&&i(e,u)}),0),o&&(s.runningRequest=!1,s.dequeueRequest())},u.onerror=u.ontimeout=function(){setTimeout((function(){r&&r(null,u)}),0),o&&(s.runningRequest=!1,s.dequeueRequest())},u.onprogress=function(){},u.open(e,t),u.timeout=1e3*this.networkTimeoutSeconds,u.send(n)},e.prototype.enqueueRequest=function(e){this.requestQueue.push(e)},e.prototype.dequeueRequest=function(){var e=this.requestQueue.shift();e&&this.ajax.apply(this,e)},e}();t.default=n},95:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(600)),s=o(n(749)),u=o(n(88)),l=function(){function e(e,t){this.events=e,this.createRequest=t,this.serviceWorkerRegistration=null}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return window.navigator.serviceWorker},enumerable:!1,configurable:!0}),e.prototype.isWebPushSupported=function(){return Boolean(void 0!==(null===window||void 0===window?void 0:window.navigator)&&"serviceWorker"in window.navigator&&"PushManager"in window)},e.prototype.isWebPushSubscribed=function(e){return void 0===e&&(e=""),i(this,void 0,Promise,(function(){var t,n,i;return r(this,(function(r){switch(r.label){case 0:return this.isWebPushSupported()?[4,this.getServiceWorkerRegistration(e)]:[2,!1];case 1:return(t=r.sent())?[4,t.pushManager.getSubscription()]:[2,!1];case 2:return n=r.sent(),(i=null!==n)&&this.updateNewSubscriptionOnServer(n),[2,i]}}))}))},e.prototype.register=function(e,t,n){return i(this,void 0,Promise,(function(){var i,o,a,s;return r(this,(function(r){switch(r.label){case 0:if(!this.isWebPushSupported())return console.log("Leanplum: Push messaging is not supported."),[2,n(!1)];r.label=1;case 1:return r.trys.push([1,4,,5]),i=this,[4,this.serviceWorker.register(e||"/sw.min.js",t)];case 2:return i.serviceWorkerRegistration=r.sent(),[4,this.serviceWorkerRegistration.pushManager.getSubscription()];case 3:return o=r.sent(),(a=null!==o)&&this.updateNewSubscriptionOnServer(o),[2,n(a)];case 4:return s=r.sent(),console.log("Leanplum: Service Worker Error: ",s),[2,n(!1)];case 5:return[2]}}))}))},e.prototype.subscribeUser=function(){return i(this,void 0,Promise,(function(){var e,t,n;return r(this,(function(i){switch(i.label){case 0:e=this.urlB64ToUint8Array("BInWPpWntfR39rgXSP04pqdmEdDGa50z6zqbMvxyxJCwzXIuSpSh8C888-CfJ82WELl7Xe8cjAnfCt-3vK0Ci68"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})];case 2:if(!(t=i.sent()))throw new Error;return this.updateNewSubscriptionOnServer(t),[3,4];case 3:throw n=i.sent(),new Error("Leanplum: Failed to subscribe the user: ".concat(n));case 4:return[2,!0]}}))}))},e.prototype.unsubscribeUser=function(e){return void 0===e&&(e=""),i(this,void 0,Promise,(function(){var t,n;return r(this,(function(i){switch(i.label){case 0:return[4,this.isWebPushSubscribed(e)];case 1:if(!i.sent())return[3,6];i.label=2;case 2:return i.trys.push([2,5,,6]),[4,this.serviceWorkerRegistration.pushManager.getSubscription()];case 3:if(!(t=i.sent()))throw new Error;return[4,t.unsubscribe()];case 4:return i.sent(),[3,6];case 5:throw n=i.sent(),new Error("Leanplum: Error unsubscribing: ".concat(n));case 6:return[2]}}))}))},e.prototype.getServiceWorkerRegistration=function(e){return void 0===e&&(e=""),i(this,void 0,Promise,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return this.serviceWorkerRegistration?[3,2]:(t=this,[4,this.serviceWorker.getRegistration(e)]);case 1:t.serviceWorkerRegistration=n.sent(),n.label=2;case 2:return[2,this.serviceWorkerRegistration]}}))}))},e.prototype.urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=this.decodeData(t),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i},e.prototype.updateNewSubscriptionOnServer=function(e){if(e){var t=this.prepareSubscription(e),n=JSON.stringify(t);u.default.get(s.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION)!==n&&(this.events.emit("webPushSubscribed"),u.default.save(s.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION,n),this.setSubscription(n))}},e.prototype.prepareSubscription=function(e){var t="getKey"in e?e.getKey("p256dh"):[],n="getKey"in e?e.getKey("auth"):[],i=this.encodeData(String.fromCharCode.apply(null,new Uint8Array(t))),r=this.encodeData(String.fromCharCode.apply(null,new Uint8Array(n)));return{endpoint:e.endpoint,key:i,auth:r}},e.prototype.setSubscription=function(e){if(e){var t=(new a.default).add(s.default.PARAMS.WEB_PUSH_SUBSCRIPTION,e);this.createRequest(s.default.METHODS.SET_DEVICE_ATTRIBUTES,t,{queued:!1,sendNow:!0})}},e.prototype.encodeData=function(e){return window.btoa(e)},e.prototype.decodeData=function(e){return window.atob(e)},e}();t.default=l},897:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(967)),o=function(){function e(){this.network=new r.default,this.connected=!1,this.connecting=!1,this.connected=!1,this.connecting=!1}return e.prototype.connect=function(e){var t=this;this.connecting=!0,this.network.ajax("POST","https://".concat(e,"/socket.io/1"),"",(function(n){var i=n.split(":"),r=i[0],o=parseInt(i[1])/2*1e3;t.socket=new WebSocket("wss://".concat(e,"/socket.io/1/websocket/").concat(r));var a=null;t.socket.onopen=function(){t.connected=!0,t.connecting=!1,t.onopen&&t.onopen(),a=setInterval((function(){t.socket.send("2:::")}),o)},t.socket.onclose=function(){t.connected=!1,clearInterval(a),t.onclose&&t.onclose()},t.socket.onmessage=function(e){var n=e.data.split(":"),i=parseInt(n[0]);if(2===i)t.socket.send("2::");else if(5===i){var r=n[1],o=JSON.parse(n.slice(3).join(":")),a=o.name,s=o.args;r&&t.socket.send("6:::".concat(r)),t.onmessage&&t.onmessage(a,s)}else 7===i&&console.log("Socket error: ".concat(e.data))},t.socket.onerror=function(e){t.socket.close(),t.onerror&&t.onerror(e)}}),null,!1,!0)},e.prototype.disconnect=function(){this.socket.close(),this.connected=!1,this.connecting=!1},e.prototype.send=function(e,t){if(this.connected){var n=JSON.stringify({name:e,args:t});this.socket.send("5:::".concat(n))}else console.log("Leanplum: Socket is not connected.")},e.prototype.setNetworkTimeout=function(e){this.network.setNetworkTimeout(e)},e}();t.default=o},88:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={local:!0,session:!0},i={local:{},session:{}},r=function(){function e(){}return e.get=function(e,t){if(void 0===t&&(t="local"),!n[t])return i[t][e];try{return"local"===t?localStorage[e]:sessionStorage.getItem(e)}catch(r){return n[t]=!1,i[t][e]}},e.save=function(e,t,r){if(void 0===r&&(r="local"),n[r])try{"local"===r?localStorage[e]=t:sessionStorage.setItem(e,t)}catch(o){n[r]=!1,i[r][e]=t}else i[r][e]=t},e.remove=function(e,t){if(void 0===t&&(t="local"),n[t])try{"local"===t?localStorage.removeItem(e):sessionStorage.removeItem(e)}catch(r){n[t]=!1,delete i[t][e]}else delete i[t][e]},e}();t.default=r},375:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.decodeColor=function(e){var t=255&e,n=255&(e>>=8),i=255&(e>>=8),r=(255&(e>>=8))/255;return"rgba(".concat(i,",").concat(n,",").concat(t,",").concat(r,")")},e.encodeColor=function(e){if("number"==typeof e)return e;var t=/^rgba\((\d+),(\d+),(\d+),(\d+(\.\d+)?)\)$/.exec(e);if(t)return(255*parseInt(t[4],10)<<24)+((255&parseInt(t[1],10))<<16)+((255&parseInt(t[2],10))<<8)+(255&parseInt(t[3],10));var n=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e);if(n)return(255<<24)+((255&parseInt(n[1],16))<<16)+((255&parseInt(n[2],16))<<8)+(255&parseInt(n[3],16));throw new Error('Could not parse color "'.concat(e,'"'))},e}();t.default=n},816:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(600)),a=r(n(749)),s=r(n(88)),u=r(n(375)),l=function(){function e(e){this.createRequest=e,this.actionDefinitions={},this.hasReceivedDiffs=!1,this.merged=void 0,this.variables=null,this.variablesChangedHandlers=[],this.variantDebugInfo={},this.diffs=void 0,this.token="",this.variants=[]}return e.prototype.applyDiffs=function(e,t,n){var r;this.diffs=e,this.variants=t,this.actionDefinitions=i(i({},this.actionDefinitions),(r=n)?Object.keys(r).reduce((function(e,t){e[t]=i({},r[t]);var n=r[t].kinds;return n&&(e[t].kinds=Object.keys(n).reduce((function(i,r){var o=n[r].toLowerCase();return i[r]=o,"action"===o&&(e[t].values[r]=""),i}),{})),e}),{}):r),this.hasReceivedDiffs=!0,this.merged=f(this.variables,e),this.saveDiffs(),this.onUpdate&&this.onUpdate()},e.prototype.loadDiffs=function(){try{this.applyDiffs(JSON.parse(this.loadLocal(a.default.DEFAULT_KEYS.VARIABLES)||null),JSON.parse(this.loadLocal(a.default.DEFAULT_KEYS.VARIANTS)||null),JSON.parse(this.loadLocal(a.default.DEFAULT_KEYS.ACTION_DEFINITIONS)||null)),this.token=this.loadLocal(a.default.DEFAULT_KEYS.TOKEN),this.variantDebugInfo=this.loadLocal(a.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO)}catch(e){console.log("Leanplum: Invalid diffs: ".concat(e))}},e.prototype.saveDiffs=function(){this.saveLocal(a.default.DEFAULT_KEYS.VARIABLES,JSON.stringify(this.diffs||{})),this.saveLocal(a.default.DEFAULT_KEYS.VARIANTS,JSON.stringify(this.variants||[])),this.saveLocal(a.default.DEFAULT_KEYS.ACTION_DEFINITIONS,JSON.stringify(this.actionDefinitions||{})),this.saveLocal(a.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO,JSON.stringify(this.variantDebugInfo||{})),this.saveLocal(a.default.DEFAULT_KEYS.TOKEN,this.token)},e.prototype.getVariable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getVariables();if(n)for(var i=0;i<e.length;i++)n=n[e[i]];return n},e.prototype.getVariables=function(){return void 0!==this.merged?this.merged:this.variables},e.prototype.setVariables=function(e){this.variables=e},e.prototype.addVariablesChangedHandler=function(e){this.variablesChangedHandlers.push(e),this.hasReceivedDiffs&&e()},e.prototype.removeVariablesChangedHandler=function(e){var t=this.variablesChangedHandlers.indexOf(e);t>=0&&this.variablesChangedHandlers.splice(t,1)},e.prototype.triggerVariablesChangedHandlers=function(){for(var e=0;e<this.variablesChangedHandlers.length;e++)this.variablesChangedHandlers[e]()},e.prototype.getVariantDebugInfo=function(){return this.variantDebugInfo},e.prototype.setVariantDebugInfo=function(e){this.variantDebugInfo=e},e.prototype.sendActions=function(){var e;return!!Object.keys(this.actionDefinitions).length&&(this.setVars(((e={})[a.default.PARAMS.ACTION_DEFINITIONS]=this.actionDefinitions,e)),!0)},e.prototype.sendVariables=function(){var e;this.setVars(((e={})[a.default.PARAMS.VARIABLES]=this.variables,e))},e.prototype.setVars=function(e){var t=(new o.default).body(JSON.stringify(e));this.createRequest(a.default.METHODS.SET_VARS,t,{sendNow:!0})},e.prototype.clearUserContent=function(){this.diffs=void 0,this.variables=null,this.variants=[],this.variantDebugInfo={},this.merged=void 0},e.prototype.registerActionDefinition=function(e){this.actionDefinitions[e.name]=function(e){return{kind:e.kind||3,options:null,values:c(e.args),kinds:d(e.args)}}(e)},e.prototype.loadLocal=function(e){return s.default.get(e)},e.prototype.saveLocal=function(e,t){s.default.save(e,t)},e}();function c(e){return e.reduce((function(e,t){return t.value instanceof Array?e[t.name]=c(t.value):"action"===t.type?e[t.name]="":"color"===t.type?e[t.name]=u.default.encodeColor(t.value):e[t.name]=t.value,e}),{})}function d(e,t){return void 0===t&&(t=""),e.reduce((function(e,n){var r,o="".concat(t).concat(n.name);return n.value instanceof Array?e=i(((r={})[o]="group",r),d(n.value,"".concat(o,"."))):e[o]=n.type.toLowerCase(),e}),{})}function f(e,t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t)return t;if(null==t)return e;var n=function(e){return function(t){if(e instanceof Array)for(var n=0;n<e.length;n++)t(e[n]);else for(var i in e)({}).hasOwnProperty.call(e,i)&&t(i)}},i=n(e),r=n(t),o=!1;if(null===e&&!(t instanceof Array))for(var a in o=null,t)if(t.hasOwnProperty(a)){if(null===o&&(o=!0),"string"!=typeof a){o=!1;break}if(a.length<3||"["!==a.charAt(0)||"]"!==a.charAt(a.length-1)){o=!1;break}}if(e instanceof Array||o){var s=[];return i((function(e){s.push(e)})),r((function(e){for(var n=parseInt(e.substring(1,e.length-1)),i=t[e];n>=s.length;)s.push(null);s[n]=f(s[n],i)})),s}var u={};return i((function(n){null!==t[n]&&void 0!==t[n]||(u[n]=e[n])})),r((function(n){u[n]=f(null===e?null:e[n]||{},t[n])})),u}t.default=l},804:(e,t,n)=>{var i=n(876);e.exports=i.default},205:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MigrationState=void 0,(n=t.MigrationState||(t.MigrationState={})).UNKNOWN="unknown",n.LEANPLUM="lp",n.DUPLICATE="lp+ct",n.CLEVERTAP="ct"},772:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageKind=t.ActionParameterType=void 0,(i=t.ActionParameterType||(t.ActionParameterType={})).Integer="integer",i.Color="color",i.Float="float",i.Decimal="decimal",i.Number="number",i.Boolean="bool",i.String="string",i.Text="text",i.HTML="html",i.File="file",i.List="list",i.Group="group",i.Action="action",i.Unknown="",(n=t.MessageKind||(t.MessageKind={}))[n.Action=2]="Action",n[n.Template=3]="Template"}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n(804)})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFXLElBQ2pDeHZELEdDQWtCczRELEVBQW9CLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9MZWFucGx1bS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvY2xldmVydGFwLXdlYi1zZGsvY2xldmVydGFwLmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC5pc2VxdWFsL2luZGV4LmpzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0FyZ3NCdWlsZGVyLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0Jyb3dzZXJEZXRlY3Rvci50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9Db25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvRXZlbnRFbWl0dGVyLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0ludGVybmFsU3RhdGUudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTGVhbnBsdW0udHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTGVhbnBsdW1JbmJveC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9MZWFucGx1bUludGVybmFsLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0xlYW5wbHVtUmVxdWVzdC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9MZWFucGx1bVNvY2tldC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9NZXNzYWdlcy50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9NaWdyYXRpb25NYW5hZ2VyLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL05ldHdvcmsudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvUHVzaE1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvU29ja2V0SW9DbGllbnQudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvU3RvcmFnZU1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvVmFsdWVUcmFuc2Zvcm1zLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL1ZhckNhY2hlLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL2J1bmRsZXMvbGVhbnBsdW0uZnVsbC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy90eXBlcy9pbnRlcm5hbC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy90eXBlcy9wdWJsaWMudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9MZWFucGx1bS93ZWJwYWNrL3J1bnRpbWUvbm9kZSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL0xlYW5wbHVtL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJMZWFucGx1bVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJMZWFucGx1bVwiXSA9IGZhY3RvcnkoKTtcbn0pKHNlbGYsICgpID0+IHtcbnJldHVybiAiLCIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gIChnbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogZ2xvYmFsIHx8IHNlbGYsIGdsb2JhbC5jbGV2ZXJ0YXAgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbiAgZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHtcbiAgICAgIF90eXBlb2YgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3R5cGVvZiA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBfdHlwZW9mKG9iaik7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXG4gICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpO1xuICAgICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTtcbiAgICAgIH0pO1xuICAgICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpO1xuICAgIH1cblxuICAgIHJldHVybiBrZXlzO1xuICB9XG5cbiAgZnVuY3Rpb24gX29iamVjdFNwcmVhZDIodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuXG4gICAgICBpZiAoaSAlIDIpIHtcbiAgICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7XG4gICAgfVxuXG4gICAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7XG4gICAgfTtcbiAgICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xuICB9XG5cbiAgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICAgIG8uX19wcm90b19fID0gcDtcbiAgICAgIHJldHVybiBvO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xuICB9XG5cbiAgZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlO1xuXG4gICAgdHJ5IHtcbiAgICAgIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gICAgaWYgKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkge1xuICAgICAgX2NvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0O1xuICAgIH0gZWxzZSB7XG4gICAgICBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gICAgICAgIHZhciBhID0gW251bGxdO1xuICAgICAgICBhLnB1c2guYXBwbHkoYSwgYXJncyk7XG4gICAgICAgIHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gbmV3IENvbnN0cnVjdG9yKCk7XG4gICAgICAgIGlmIChDbGFzcykgX3NldFByb3RvdHlwZU9mKGluc3RhbmNlLCBDbGFzcy5wcm90b3R5cGUpO1xuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBfY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbihmbikge1xuICAgIHJldHVybiBGdW5jdGlvbi50b1N0cmluZy5jYWxsKGZuKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSAhPT0gLTE7XG4gIH1cblxuICBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gICAgdmFyIF9jYWNoZSA9IHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIiA/IG5ldyBNYXAoKSA6IHVuZGVmaW5lZDtcblxuICAgIF93cmFwTmF0aXZlU3VwZXIgPSBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gICAgICBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzO1xuXG4gICAgICBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIF9jYWNoZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAoX2NhY2hlLmhhcyhDbGFzcykpIHJldHVybiBfY2FjaGUuZ2V0KENsYXNzKTtcblxuICAgICAgICBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gV3JhcHBlcigpIHtcbiAgICAgICAgcmV0dXJuIF9jb25zdHJ1Y3QoQ2xhc3MsIGFyZ3VtZW50cywgX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTtcbiAgICAgIH1cblxuICAgICAgV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENsYXNzLnByb3RvdHlwZSwge1xuICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgIHZhbHVlOiBXcmFwcGVyLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyk7XG4gIH1cblxuICBmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7XG4gICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cblxuICBmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gICAgaWYgKGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7XG4gICAgICByZXR1cm4gY2FsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7XG4gICAgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7XG4gICAgICB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksXG4gICAgICAgICAgcmVzdWx0O1xuXG4gICAgICBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkge1xuICAgICAgICB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yO1xuXG4gICAgICAgIHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICAgIGlmICghbykgcmV0dXJuO1xuICAgIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gICAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICAgIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gICAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB9XG5cbiAgZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTtcblxuICAgIHJldHVybiBhcnIyO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHtcbiAgICB2YXIgaXQ7XG5cbiAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBvW1N5bWJvbC5pdGVyYXRvcl0gPT0gbnVsbCkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBpZiAoaXQpIG8gPSBpdDtcbiAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgIHZhciBGID0gZnVuY3Rpb24gKCkge307XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzOiBGLFxuICAgICAgICAgIG46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4ge1xuICAgICAgICAgICAgICBkb25lOiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgICAgIHZhbHVlOiBvW2krK11cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGY6IEZcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xuICAgIH1cblxuICAgIHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSxcbiAgICAgICAgZGlkRXJyID0gZmFsc2UsXG4gICAgICAgIGVycjtcbiAgICByZXR1cm4ge1xuICAgICAgczogZnVuY3Rpb24gKCkge1xuICAgICAgICBpdCA9IG9bU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgfSxcbiAgICAgIG46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7XG4gICAgICAgIG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7XG4gICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgfSxcbiAgICAgIGU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGRpZEVyciA9IHRydWU7XG4gICAgICAgIGVyciA9IGU7XG4gICAgICB9LFxuICAgICAgZjogZnVuY3Rpb24gKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaWYgKGRpZEVycikgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHZhciBpZCA9IDA7XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkobmFtZSkge1xuICAgIHJldHVybiBcIl9fcHJpdmF0ZV9cIiArIGlkKysgKyBcIl9cIiArIG5hbWU7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UocmVjZWl2ZXIsIHByaXZhdGVLZXkpIHtcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZWNlaXZlciwgcHJpdmF0ZUtleSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gdXNlIHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xuICAgIH1cblxuICAgIHJldHVybiByZWNlaXZlcjtcbiAgfVxuXG4gIHZhciBUQVJHRVRfRE9NQUlOID0gJ2NsZXZlcnRhcC1wcm9kLmNvbSc7XG4gIHZhciBUQVJHRVRfUFJPVE9DT0wgPSAnaHR0cHM6JztcbiAgdmFyIERFRkFVTFRfUkVHSU9OID0gJ2V1MSc7XG5cbiAgdmFyIF9hY2NvdW50SWQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImFjY291bnRJZFwiKTtcblxuICB2YXIgX3JlZ2lvbiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicmVnaW9uXCIpO1xuXG4gIHZhciBfdGFyZ2V0RG9tYWluID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJ0YXJnZXREb21haW5cIik7XG5cbiAgdmFyIF9kY1Nka3ZlcnNpb24gPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImRjU2RrdmVyc2lvblwiKTtcblxuICB2YXIgQWNjb3VudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQWNjb3VudCgpIHtcbiAgICAgIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSxcbiAgICAgICAgICBpZCA9IF9yZWYuaWQ7XG5cbiAgICAgIHZhciByZWdpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xuICAgICAgdmFyIHRhcmdldERvbWFpbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogVEFSR0VUX0RPTUFJTjtcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFjY291bnQpO1xuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2FjY291bnRJZCwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3JlZ2lvbiwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6ICcnXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfdGFyZ2V0RG9tYWluLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogVEFSR0VUX0RPTUFJTlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2RjU2RrdmVyc2lvbiwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6ICcnXG4gICAgICB9KTtcbiAgICAgIHRoaXMuaWQgPSBpZDtcblxuICAgICAgaWYgKHJlZ2lvbikge1xuICAgICAgICB0aGlzLnJlZ2lvbiA9IHJlZ2lvbjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRhcmdldERvbWFpbikge1xuICAgICAgICB0aGlzLnRhcmdldERvbWFpbiA9IHRhcmdldERvbWFpbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQWNjb3VudCwgW3tcbiAgICAgIGtleTogXCJpZFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnRJZClbX2FjY291bnRJZF07XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoYWNjb3VudElkKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudElkKVtfYWNjb3VudElkXSA9IGFjY291bnRJZDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVnaW9uXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVnaW9uKVtfcmVnaW9uXTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldChyZWdpb24pIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZWdpb24pW19yZWdpb25dID0gcmVnaW9uO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkY1NES1ZlcnNpb25cIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kY1Nka3ZlcnNpb24pW19kY1Nka3ZlcnNpb25dO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KGRjU0RLVmVyc2lvbikge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RjU2RrdmVyc2lvbilbX2RjU2RrdmVyc2lvbl0gPSBkY1NES1ZlcnNpb247XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInRhcmdldERvbWFpblwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3RhcmdldERvbWFpbilbX3RhcmdldERvbWFpbl07XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodGFyZ2V0RG9tYWluKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdGFyZ2V0RG9tYWluKVtfdGFyZ2V0RG9tYWluXSA9IHRhcmdldERvbWFpbjtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZmluYWxUYXJnZXREb21haW5cIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICBpZiAodGhpcy5yZWdpb24pIHtcbiAgICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQodGhpcy5yZWdpb24sIFwiLlwiKS5jb25jYXQodGhpcy50YXJnZXREb21haW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0aGlzLnRhcmdldERvbWFpbiA9PT0gVEFSR0VUX0RPTUFJTikge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KERFRkFVTFRfUkVHSU9OLCBcIi5cIikuY29uY2F0KHRoaXMudGFyZ2V0RG9tYWluKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXREb21haW47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGF0YVBvc3RVUkxcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQoVEFSR0VUX1BST1RPQ09MLCBcIi8vXCIpLmNvbmNhdCh0aGlzLmZpbmFsVGFyZ2V0RG9tYWluLCBcIi9hP3Q9OTZcIik7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInJlY29yZGVyVVJMXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KFRBUkdFVF9QUk9UT0NPTCwgXCIvL1wiKS5jb25jYXQodGhpcy5maW5hbFRhcmdldERvbWFpbiwgXCIvcj9yPTFcIik7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImVtYWlsVVJMXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KFRBUkdFVF9QUk9UT0NPTCwgXCIvL1wiKS5jb25jYXQodGhpcy5maW5hbFRhcmdldERvbWFpbiwgXCIvZT9yPTFcIik7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEFjY291bnQ7XG4gIH0oKTtcblxuICB2YXIgdW5zdXBwb3J0ZWRLZXlDaGFyUmVnZXggPSBuZXcgUmVnRXhwKCdeXFxcXHMrfFxcXFxcXC58XFw6fFxcXFxcXCR8XFwnfFxcXCJ8XFxcXFxcXFx8XFxcXHMrJCcsICdnJyk7XG4gIHZhciB1bnN1cHBvcnRlZFZhbHVlQ2hhclJlZ2V4ID0gbmV3IFJlZ0V4cChcIl5cXFxccyt8XFwnfFxcXCJ8XFxcXFxcXFx8XFxcXHMrJFwiLCAnZycpO1xuICB2YXIgc2luZ2xlUXVvdGVSZWdleCA9IG5ldyBSZWdFeHAoJ1xcJycsICdnJyk7XG4gIHZhciBDTEVBUiA9ICdjbGVhcic7XG4gIHZhciBDSEFSR0VEX0lEID0gJ0NoYXJnZWQgSUQnO1xuICB2YXIgQ0hBUkdFRElEX0NPT0tJRV9OQU1FID0gJ1daUktfQ0hBUkdFRF9JRCc7XG4gIHZhciBHQ09PS0lFX05BTUUgPSAnV1pSS19HJztcbiAgdmFyIEtDT09LSUVfTkFNRSA9ICdXWlJLX0snO1xuICB2YXIgQ0FNUF9DT09LSUVfTkFNRSA9ICdXWlJLX0NBTVAnO1xuICB2YXIgU0NPT0tJRV9QUkVGSVggPSAnV1pSS19TJztcbiAgdmFyIFNDT09LSUVfRVhQX1RJTUVfSU5fU0VDUyA9IDYwICogMjA7IC8vIDIwIG1pbnNcblxuICB2YXIgRVZfQ09PS0lFID0gJ1daUktfRVYnO1xuICB2YXIgTUVUQV9DT09LSUUgPSAnV1pSS19NRVRBJztcbiAgdmFyIFBSX0NPT0tJRSA9ICdXWlJLX1BSJztcbiAgdmFyIEFSUF9DT09LSUUgPSAnV1pSS19BUlAnO1xuICB2YXIgTENPT0tJRV9OQU1FID0gJ1daUktfTCc7XG4gIHZhciBHTE9CQUwgPSAnZ2xvYmFsJztcbiAgdmFyIERJU1BMQVkgPSAnZGlzcGxheSc7XG4gIHZhciBXRUJQVVNIX0xTX0tFWSA9ICdXWlJLX1dQUic7XG4gIHZhciBPUFRPVVRfS0VZID0gJ29wdE91dCc7XG4gIHZhciBDVF9PUFRPVVRfS0VZID0gJ2N0X29wdG91dCc7XG4gIHZhciBPUFRPVVRfQ09PS0lFX0VORFNXSVRIID0gJzpPTyc7XG4gIHZhciBVU0VJUF9LRVkgPSAndXNlSVAnO1xuICB2YXIgTFJVX0NBQ0hFID0gJ1daUktfWCc7XG4gIHZhciBMUlVfQ0FDSEVfU0laRSA9IDEwMDtcbiAgdmFyIElTX09VTCA9ICdpc09VTCc7XG4gIHZhciBFVlRfUFVTSCA9ICdwdXNoJztcbiAgdmFyIEVWVF9QSU5HID0gJ3BpbmcnO1xuICB2YXIgQ09PS0lFX0VYUElSWSA9IDg2NDAwICogMzY1ICogMTA7IC8vIDEwIFllYXJzIGluIHNlY29uZHNcblxuICB2YXIgTUFYX1RSSUVTID0gMjAwOyAvLyBBUEkgdHJpZXNcblxuICB2YXIgRklSU1RfUElOR19GUkVRX0lOX01JTExJUyA9IDIgKiA2MCAqIDEwMDA7IC8vIDIgbWluc1xuXG4gIHZhciBDT05USU5VT1VTX1BJTkdfRlJFUV9JTl9NSUxMSVMgPSA1ICogNjAgKiAxMDAwOyAvLyA1IG1pbnNcblxuICB2YXIgR1JPVVBfU1VCU0NSSVBUSU9OX1JFUVVFU1RfSUQgPSAnMic7XG4gIHZhciBjYXRlZ29yeUxvbmdLZXkgPSAnY1VzWSc7XG4gIHZhciBXWlJLX1BSRUZJWCA9ICd3enJrXyc7XG4gIHZhciBXWlJLX0lEID0gJ3d6cmtfaWQnO1xuICB2YXIgTk9USUZJQ0FUSU9OX1ZJRVdFRCA9ICdOb3RpZmljYXRpb24gVmlld2VkJztcbiAgdmFyIE5PVElGSUNBVElPTl9DTElDS0VEID0gJ05vdGlmaWNhdGlvbiBDbGlja2VkJztcbiAgdmFyIEZJUkVfUFVTSF9VTlJFR0lTVEVSRUQgPSAnV1pSS19GUFUnO1xuICB2YXIgUFVTSF9TVUJTQ1JJUFRJT05fREFUQSA9ICdXWlJLX1BTRCc7IC8vIFBVU0ggU1VCU0NSSVBUSU9OIERBVEEgRk9SIFJFR0lTVEVSL1VOUkVHSVNURVIgVE9LRU5cblxuICB2YXIgQ09NTUFORF9JTkNSRU1FTlQgPSAnJGluY3InO1xuICB2YXIgQ09NTUFORF9ERUNSRU1FTlQgPSAnJGRlY3InO1xuICB2YXIgQ09NTUFORF9TRVQgPSAnJHNldCc7XG4gIHZhciBDT01NQU5EX0FERCA9ICckYWRkJztcbiAgdmFyIENPTU1BTkRfUkVNT1ZFID0gJyRyZW1vdmUnO1xuICB2YXIgQ09NTUFORF9ERUxFVEUgPSAnJGRlbGV0ZSc7XG4gIHZhciBTWVNURU1fRVZFTlRTID0gWydTdGF5ZWQnLCAnVVRNIFZpc2l0ZWQnLCAnQXBwIExhdW5jaGVkJywgJ05vdGlmaWNhdGlvbiBTZW50JywgTk9USUZJQ0FUSU9OX1ZJRVdFRCwgTk9USUZJQ0FUSU9OX0NMSUNLRURdO1xuXG4gIHZhciBpc1N0cmluZyA9IGZ1bmN0aW9uIGlzU3RyaW5nKGlucHV0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycgfHwgaW5wdXQgaW5zdGFuY2VvZiBTdHJpbmc7XG4gIH07XG4gIHZhciBpc09iamVjdCA9IGZ1bmN0aW9uIGlzT2JqZWN0KGlucHV0KSB7XG4gICAgLy8gVE9ETzogcmVmaW5lXG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuICB9O1xuICB2YXIgaXNEYXRlT2JqZWN0ID0gZnVuY3Rpb24gaXNEYXRlT2JqZWN0KGlucHV0KSB7XG4gICAgcmV0dXJuIF90eXBlb2YoaW5wdXQpID09PSAnb2JqZWN0JyAmJiBpbnB1dCBpbnN0YW5jZW9mIERhdGU7XG4gIH07XG4gIHZhciBpc09iamVjdEVtcHR5ID0gZnVuY3Rpb24gaXNPYmplY3RFbXB0eShvYmopIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIHZhciBpc0NvbnZlcnRpYmxlVG9OdW1iZXIgPSBmdW5jdGlvbiBpc0NvbnZlcnRpYmxlVG9OdW1iZXIobikge1xuICAgIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdChuKSkgJiYgaXNGaW5pdGUobik7XG4gIH07XG4gIHZhciBpc051bWJlciA9IGZ1bmN0aW9uIGlzTnVtYmVyKG4pIHtcbiAgICByZXR1cm4gL14tP1tcXGQuXSsoPzplLT9cXGQrKT8kLy50ZXN0KG4pICYmIHR5cGVvZiBuID09PSAnbnVtYmVyJztcbiAgfTtcbiAgdmFyIGlzVmFsdWVWYWxpZCA9IGZ1bmN0aW9uIGlzVmFsdWVWYWxpZCh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICB2YXIgcmVtb3ZlVW5zdXBwb3J0ZWRDaGFycyA9IGZ1bmN0aW9uIHJlbW92ZVVuc3VwcG9ydGVkQ2hhcnMobywgbG9nZ2VyKSB7XG4gICAgLy8ga2V5cyBjYW4ndCBiZSBncmVhdGVyIHRoYW4gMTAyNCBjaGFycywgdmFsdWVzIGNhbid0IGJlIGdyZWF0ZXIgdGhhbiAxMDI0IGNoYXJzXG4gICAgaWYgKF90eXBlb2YobykgPT09ICdvYmplY3QnKSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gbykge1xuICAgICAgICBpZiAoby5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgdmFyIHNhbml0aXplZFZhbCA9IHJlbW92ZVVuc3VwcG9ydGVkQ2hhcnMob1trZXldLCBsb2dnZXIpO1xuICAgICAgICAgIHZhciBzYW5pdGl6ZWRLZXkgPSB2b2lkIDA7XG4gICAgICAgICAgc2FuaXRpemVkS2V5ID0gc2FuaXRpemUoa2V5LCB1bnN1cHBvcnRlZEtleUNoYXJSZWdleCk7XG5cbiAgICAgICAgICBpZiAoc2FuaXRpemVkS2V5Lmxlbmd0aCA+IDEwMjQpIHtcbiAgICAgICAgICAgIHNhbml0aXplZEtleSA9IHNhbml0aXplZEtleS5zdWJzdHJpbmcoMCwgMTAyNCk7XG4gICAgICAgICAgICBsb2dnZXIucmVwb3J0RXJyb3IoNTIwLCBzYW5pdGl6ZWRLZXkgKyAnLi4uIGxlbmd0aCBleGNlZWRlZCAxMDI0IGNoYXJzLiBUcmltbWVkLicpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRlbGV0ZSBvW2tleV07XG4gICAgICAgICAgb1tzYW5pdGl6ZWRLZXldID0gc2FuaXRpemVkVmFsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB2YWw7XG5cbiAgICAgIGlmIChpc1N0cmluZyhvKSkge1xuICAgICAgICB2YWwgPSBzYW5pdGl6ZShvLCB1bnN1cHBvcnRlZFZhbHVlQ2hhclJlZ2V4KTtcblxuICAgICAgICBpZiAodmFsLmxlbmd0aCA+IDEwMjQpIHtcbiAgICAgICAgICB2YWwgPSB2YWwuc3Vic3RyaW5nKDAsIDEwMjQpO1xuICAgICAgICAgIGxvZ2dlci5yZXBvcnRFcnJvcig1MjEsIHZhbCArICcuLi4gbGVuZ3RoIGV4Y2VlZGVkIDEwMjQgY2hhcnMuIFRyaW1tZWQuJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbCA9IG87XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuXG4gICAgcmV0dXJuIG87XG4gIH07XG4gIHZhciBzYW5pdGl6ZSA9IGZ1bmN0aW9uIHNhbml0aXplKGlucHV0LCByZWdleCkge1xuICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKHJlZ2V4LCAnJyk7XG4gIH07XG5cbiAgdmFyIGdldFRvZGF5ID0gZnVuY3Rpb24gZ2V0VG9kYXkoKSB7XG4gICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICByZXR1cm4gdG9kYXkuZ2V0RnVsbFllYXIoKSArICcnICsgdG9kYXkuZ2V0TW9udGgoKSArICcnICsgdG9kYXkuZ2V0RGF5KCk7XG4gIH07XG4gIHZhciBnZXROb3cgPSBmdW5jdGlvbiBnZXROb3coKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKTtcbiAgfTtcbiAgdmFyIGNvbnZlcnRUb1daUktEYXRlID0gZnVuY3Rpb24gY29udmVydFRvV1pSS0RhdGUoZGF0ZU9iaikge1xuICAgIHJldHVybiAnJERfJyArIE1hdGgucm91bmQoZGF0ZU9iai5nZXRUaW1lKCkgLyAxMDAwKTtcbiAgfTtcbiAgdmFyIHNldERhdGUgPSBmdW5jdGlvbiBzZXREYXRlKGR0KSB7XG4gICAgLy8gZXhwZWN0aW5nICB5eXl5bW1kZCBmb3JtYXQgZWl0aGVyIGFzIGEgbnVtYmVyIG9yIGEgc3RyaW5nXG4gICAgaWYgKGlzRGF0ZVZhbGlkKGR0KSkge1xuICAgICAgcmV0dXJuICckRF8nICsgZHQ7XG4gICAgfVxuICB9O1xuICB2YXIgaXNEYXRlVmFsaWQgPSBmdW5jdGlvbiBpc0RhdGVWYWxpZChkYXRlKSB7XG4gICAgdmFyIG1hdGNoZXMgPSAvXihcXGR7NH0pKFxcZHsyfSkoXFxkezJ9KSQvLmV4ZWMoZGF0ZSk7XG4gICAgaWYgKG1hdGNoZXMgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBkID0gbWF0Y2hlc1szXTtcbiAgICB2YXIgbSA9IG1hdGNoZXNbMl0gLSAxO1xuICAgIHZhciB5ID0gbWF0Y2hlc1sxXTtcbiAgICB2YXIgY29tcG9zZWREYXRlID0gbmV3IERhdGUoeSwgbSwgZCk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblxuICAgIHJldHVybiBjb21wb3NlZERhdGUuZ2V0RGF0ZSgpID09IGQgJiYgY29tcG9zZWREYXRlLmdldE1vbnRoKCkgPT0gbSAmJiBjb21wb3NlZERhdGUuZ2V0RnVsbFllYXIoKSA9PSB5O1xuICB9O1xuXG4gIHZhciBTdG9yYWdlTWFuYWdlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RvcmFnZU1hbmFnZXIoKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RvcmFnZU1hbmFnZXIpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhTdG9yYWdlTWFuYWdlciwgbnVsbCwgW3tcbiAgICAgIGtleTogXCJzYXZlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZShrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICgha2V5IHx8ICF2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInJlYWRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZWFkKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRhID0gbnVsbDtcblxuICAgICAgICBpZiAodGhpcy5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgIGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEgIT0gbnVsbCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInJlbW92ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZShrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVtb3ZlQ29va2llXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQ29va2llKG5hbWUsIGRvbWFpbikge1xuICAgICAgICB2YXIgY29va2llU3RyID0gbmFtZSArICc9OyBleHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDEgR01UOyc7XG5cbiAgICAgICAgaWYgKGRvbWFpbikge1xuICAgICAgICAgIGNvb2tpZVN0ciA9IGNvb2tpZVN0ciArICcgZG9tYWluPScgKyBkb21haW4gKyAnOyBwYXRoPS8nO1xuICAgICAgICB9XG5cbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llU3RyO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJjcmVhdGVDb29raWVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVDb29raWUobmFtZSwgdmFsdWUsIHNlY29uZHMsIGRvbWFpbikge1xuICAgICAgICB2YXIgZXhwaXJlcyA9ICcnO1xuICAgICAgICB2YXIgZG9tYWluU3RyID0gJyc7XG5cbiAgICAgICAgaWYgKHNlY29uZHMpIHtcbiAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpICsgc2Vjb25kcyAqIDEwMDApO1xuICAgICAgICAgIGV4cGlyZXMgPSAnOyBleHBpcmVzPScgKyBkYXRlLnRvR01UU3RyaW5nKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZG9tYWluKSB7XG4gICAgICAgICAgZG9tYWluU3RyID0gJzsgZG9tYWluPScgKyBkb21haW47XG4gICAgICAgIH1cblxuICAgICAgICB2YWx1ZSA9IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyAnPScgKyB2YWx1ZSArIGV4cGlyZXMgKyBkb21haW5TdHIgKyAnOyBwYXRoPS8nO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJyZWFkQ29va2llXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVhZENvb2tpZShuYW1lKSB7XG4gICAgICAgIHZhciBuYW1lRVEgPSBuYW1lICsgJz0nO1xuICAgICAgICB2YXIgY2EgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKTtcblxuICAgICAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBjYS5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgdmFyIGMgPSBjYVtpZHhdO1xuXG4gICAgICAgICAgd2hpbGUgKGMuY2hhckF0KDApID09PSAnICcpIHtcbiAgICAgICAgICAgIGMgPSBjLnN1YnN0cmluZygxLCBjLmxlbmd0aCk7XG4gICAgICAgICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cblxuICAgICAgICAgIGlmIChjLmluZGV4T2YobmFtZUVRKSA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGMuc3Vic3RyaW5nKG5hbWVFUS5sZW5ndGgsIGMubGVuZ3RoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuICdsb2NhbFN0b3JhZ2UnIGluIHdpbmRvdyAmJiB3aW5kb3cubG9jYWxTdG9yYWdlICE9PSBudWxsICYmIHR5cGVvZiB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0gPT09ICdmdW5jdGlvbic7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInNhdmVUb0xTb3JDb29raWVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlVG9MU29yQ29va2llKHByb3BlcnR5LCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2F2ZShwcm9wZXJ0eSwgZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHZhbHVlKSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocHJvcGVydHkgPT09IEdDT09LSUVfTkFNRSkge1xuICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUNvb2tpZShwcm9wZXJ0eSwgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSwgMCwgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuY3JlYXRlQ29va2llKHByb3BlcnR5LCBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkodmFsdWUpKSwgMCwgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAkY3QuZ2xvYmFsQ2FjaGVbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInJlYWRGcm9tTFNvckNvb2tpZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlYWRGcm9tTFNvckNvb2tpZShwcm9wZXJ0eSkge1xuICAgICAgICB2YXIgZGF0YTtcblxuICAgICAgICBpZiAoJGN0Lmdsb2JhbENhY2hlLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICAgIHJldHVybiAkY3QuZ2xvYmFsQ2FjaGVbcHJvcGVydHldO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICBkYXRhID0gdGhpcy5yZWFkKHByb3BlcnR5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkYXRhID0gdGhpcy5yZWFkQ29va2llKHByb3BlcnR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhICE9PSBudWxsICYmIGRhdGEgIT09IHVuZGVmaW5lZCAmJiAhKHR5cGVvZiBkYXRhLnRyaW0gPT09ICdmdW5jdGlvbicgJiYgZGF0YS50cmltKCkgPT09ICcnKSkge1xuICAgICAgICAgIHZhciB2YWx1ZTtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YWx1ZSA9IEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KGRhdGEpKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHZhbHVlID0gZGVjb2RlVVJJQ29tcG9uZW50KGRhdGEpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICRjdC5nbG9iYWxDYWNoZVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY3JlYXRlQnJvYWRDb29raWVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVCcm9hZENvb2tpZShuYW1lLCB2YWx1ZSwgc2Vjb25kcywgZG9tYWluKSB7XG4gICAgICAgIC8vIHNldHMgY29va2llIG9uIHRoZSBiYXNlIGRvbWFpbi4gZS5nLiBpZiBkb21haW4gaXMgYmF6LmZvby5iYXIuY29tLCBzZXQgY29va2llIG9uIFwiLmJhci5jb21cIlxuICAgICAgICAvLyBUbyB1cGRhdGUgYW4gZXhpc3RpbmcgXCJicm9hZCBkb21haW5cIiBjb29raWUsIHdlIG5lZWQgdG8ga25vdyB3aGF0IGRvbWFpbiBpdCB3YXMgYWN0dWFsbHkgc2V0IG9uLlxuICAgICAgICAvLyBzaW5jZSBhIHJldHJpZXZlZCBjb29raWUgbmV2ZXIgdGVsbHMgd2hpY2ggZG9tYWluIGl0IHdhcyBzZXQgb24sIHdlIG5lZWQgdG8gc2V0IGFub3RoZXIgdGVzdCBjb29raWVcbiAgICAgICAgLy8gdG8gZmluZCBvdXQgd2hpY2ggXCJicm9hZGVzdFwiIGRvbWFpbiB0aGUgY29va2llIHdhcyBzZXQgb24uIFRoZW4gZGVsZXRlIHRoZSB0ZXN0IGNvb2tpZSwgYW5kIHVzZSB0aGF0IGRvbWFpblxuICAgICAgICAvLyBmb3IgdXBkYXRpbmcgdGhlIGFjdHVhbCBjb29raWUuXG4gICAgICAgIGlmIChkb21haW4pIHtcbiAgICAgICAgICB2YXIgYnJvYWREb21haW4gPSAkY3QuYnJvYWREb21haW47XG5cbiAgICAgICAgICBpZiAoYnJvYWREb21haW4gPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gaWYgd2UgZG9uJ3Qga25vdyB0aGUgYnJvYWREb21haW4geWV0LCB0aGVuIGZpbmQgb3V0XG4gICAgICAgICAgICB2YXIgZG9tYWluUGFydHMgPSBkb21haW4uc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIHZhciB0ZXN0QnJvYWREb21haW4gPSAnJztcblxuICAgICAgICAgICAgZm9yICh2YXIgaWR4ID0gZG9tYWluUGFydHMubGVuZ3RoIC0gMTsgaWR4ID49IDA7IGlkeC0tKSB7XG4gICAgICAgICAgICAgIGlmIChpZHggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0ZXN0QnJvYWREb21haW4gPSBkb21haW5QYXJ0c1tpZHhdICsgdGVzdEJyb2FkRG9tYWluO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRlc3RCcm9hZERvbWFpbiA9ICcuJyArIGRvbWFpblBhcnRzW2lkeF0gKyB0ZXN0QnJvYWREb21haW47XG4gICAgICAgICAgICAgIH0gLy8gb25seSBuZWVkZWQgaWYgdGhlIGNvb2tpZSBhbHJlYWR5IGV4aXN0cyBhbmQgbmVlZHMgdG8gYmUgdXBkYXRlZC4gU2VlIG5vdGUgYWJvdmUuXG5cblxuICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkQ29va2llKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gZ3VhcmFudGVlIHRoYXQgYnJvd3NlciB3aWxsIGRlbGV0ZSBjb29raWUsIGhlbmNlIGNyZWF0ZSBzaG9ydCBsaXZlZCBjb29raWVzXG4gICAgICAgICAgICAgICAgdmFyIHRlc3RDb29raWVOYW1lID0gJ3Rlc3RfJyArIG5hbWUgKyBpZHg7XG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVDb29raWUodGVzdENvb2tpZU5hbWUsIHZhbHVlLCAxMCwgdGVzdEJyb2FkRG9tYWluKTsgLy8gc2VsZi1kZXN0cnVjdCBhZnRlciAxMCBzZWNvbmRzXG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucmVhZENvb2tpZSh0ZXN0Q29va2llTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgIC8vIGlmIHRlc3QgY29va2llIG5vdCBzZXQsIHRoZW4gdGhlIGFjdHVhbCBjb29raWUgd291bGRuJ3QgaGF2ZSBiZWVuIHNldCBvbiB0aGlzIGRvbWFpbiBlaXRoZXIuXG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gZWxzZSBpZiBjb29raWUgc2V0LCB0aGVuIGRlbGV0ZSB0aGUgdGVzdCBhbmQgdGhlIG9yaWdpbmFsIGNvb2tpZVxuICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDb29raWUodGVzdENvb2tpZU5hbWUsIHRlc3RCcm9hZERvbWFpbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdGhpcy5jcmVhdGVDb29raWUobmFtZSwgdmFsdWUsIHNlY29uZHMsIHRlc3RCcm9hZERvbWFpbik7XG4gICAgICAgICAgICAgIHZhciB0ZW1wQ29va2llID0gdGhpcy5yZWFkQ29va2llKG5hbWUpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cbiAgICAgICAgICAgICAgaWYgKHRlbXBDb29raWUgPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBicm9hZERvbWFpbiA9IHRlc3RCcm9hZERvbWFpbjtcbiAgICAgICAgICAgICAgICAkY3QuYnJvYWREb21haW4gPSBicm9hZERvbWFpbjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUNvb2tpZShuYW1lLCB2YWx1ZSwgc2Vjb25kcywgYnJvYWREb21haW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmNyZWF0ZUNvb2tpZShuYW1lLCB2YWx1ZSwgc2Vjb25kcywgZG9tYWluKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRNZXRhUHJvcFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1ldGFQcm9wKHByb3BlcnR5KSB7XG4gICAgICAgIHZhciBtZXRhT2JqID0gdGhpcy5yZWFkRnJvbUxTb3JDb29raWUoTUVUQV9DT09LSUUpO1xuXG4gICAgICAgIGlmIChtZXRhT2JqICE9IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gbWV0YU9ialtwcm9wZXJ0eV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2V0TWV0YVByb3BcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRNZXRhUHJvcChwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICB2YXIgd3pya01ldGFPYmogPSB0aGlzLnJlYWRGcm9tTFNvckNvb2tpZShNRVRBX0NPT0tJRSk7XG5cbiAgICAgICAgICBpZiAod3pya01ldGFPYmogPT0gbnVsbCkge1xuICAgICAgICAgICAgd3pya01ldGFPYmogPSB7fTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVsZXRlIHd6cmtNZXRhT2JqW3Byb3BlcnR5XTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd3pya01ldGFPYmpbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5zYXZlVG9MU29yQ29va2llKE1FVEFfQ09PS0lFLCB3enJrTWV0YU9iaik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0QW5kQ2xlYXJNZXRhUHJvcFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFuZENsZWFyTWV0YVByb3AocHJvcGVydHkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5nZXRNZXRhUHJvcChwcm9wZXJ0eSk7XG4gICAgICAgIHRoaXMuc2V0TWV0YVByb3AocHJvcGVydHksIHVuZGVmaW5lZCk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2V0SW5zdGFudERlbGV0ZUZsYWdJbktcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRJbnN0YW50RGVsZXRlRmxhZ0luSygpIHtcbiAgICAgICAgdmFyIGsgPSB0aGlzLnJlYWRGcm9tTFNvckNvb2tpZShLQ09PS0lFX05BTUUpO1xuXG4gICAgICAgIGlmIChrID09IG51bGwpIHtcbiAgICAgICAgICBrID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBrLmZsYWcgPSB0cnVlO1xuICAgICAgICB0aGlzLnNhdmVUb0xTb3JDb29raWUoS0NPT0tJRV9OQU1FLCBrKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiYmFja3VwRXZlbnRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBiYWNrdXBFdmVudChkYXRhLCByZXFObywgbG9nZ2VyKSB7XG4gICAgICAgIHZhciBiYWNrdXBBcnIgPSB0aGlzLnJlYWRGcm9tTFNvckNvb2tpZShMQ09PS0lFX05BTUUpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgYmFja3VwQXJyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGJhY2t1cEFyciA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgYmFja3VwQXJyW3JlcU5vXSA9IHtcbiAgICAgICAgICBxOiBkYXRhXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2F2ZVRvTFNvckNvb2tpZShMQ09PS0lFX05BTUUsIGJhY2t1cEFycik7XG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhcInN0b3JlZCBpbiBcIi5jb25jYXQoTENPT0tJRV9OQU1FLCBcIiByZXFObyA6IFwiKS5jb25jYXQocmVxTm8sIFwiIC0+IFwiKS5jb25jYXQoZGF0YSkpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJyZW1vdmVCYWNrdXBcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVCYWNrdXAocmVzcE5vLCBsb2dnZXIpIHtcbiAgICAgICAgdmFyIGJhY2t1cE1hcCA9IHRoaXMucmVhZEZyb21MU29yQ29va2llKExDT09LSUVfTkFNRSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBiYWNrdXBNYXAgIT09ICd1bmRlZmluZWQnICYmIGJhY2t1cE1hcCAhPT0gbnVsbCAmJiB0eXBlb2YgYmFja3VwTWFwW3Jlc3BOb10gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgbG9nZ2VyLmRlYnVnKFwiZGVsIGV2ZW50OiBcIi5jb25jYXQocmVzcE5vLCBcIiBkYXRhLT4gXCIpLmNvbmNhdChiYWNrdXBNYXBbcmVzcE5vXS5xKSk7XG4gICAgICAgICAgZGVsZXRlIGJhY2t1cE1hcFtyZXNwTm9dO1xuICAgICAgICAgIHRoaXMuc2F2ZVRvTFNvckNvb2tpZShMQ09PS0lFX05BTUUsIGJhY2t1cE1hcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gU3RvcmFnZU1hbmFnZXI7XG4gIH0oKTtcbiAgdmFyICRjdCA9IHtcbiAgICBnbG9iYWxDYWNoZToge1xuICAgICAgZ2Nvb2tpZTogbnVsbCxcbiAgICAgIFJFUV9OOiAwLFxuICAgICAgUkVTUF9OOiAwXG4gICAgfSxcbiAgICBMUlVfQ0FDSEU6IG51bGwsXG4gICAgZ2xvYmFsUHJvZmlsZU1hcDogdW5kZWZpbmVkLFxuICAgIGdsb2JhbEV2ZW50c01hcDogdW5kZWZpbmVkLFxuICAgIGJsb2NrUmVxdWVzdDogZmFsc2UsXG4gICAgaXNPcHRJblJlcXVlc3Q6IGZhbHNlLFxuICAgIGJyb2FkRG9tYWluOiBudWxsLFxuICAgIHdlYlB1c2hFbmFibGVkOiBudWxsLFxuICAgIGNhbXBhaWduRGl2TWFwOiB7fSxcbiAgICBjdXJyZW50U2Vzc2lvbklkOiBudWxsLFxuICAgIHdpel9jb3VudGVyOiAwLFxuICAgIC8vIHRvIGtlZXAgdHJhY2sgb2YgbnVtYmVyIG9mIHRpbWVzIHdlIGxvYWQgdGhlIGJvZHlcbiAgICBub3RpZkFwaToge1xuICAgICAgbm90aWZFbmFibGVkRnJvbUFwaTogZmFsc2VcbiAgICB9LFxuICAgIC8vIGhlbHBlciB2YXJpYWJsZSB0byBoYW5kbGUgcmFjZSBjb25kaXRpb24gYW5kIGNoZWNrIHdoZW4gbm90aWZpY2F0aW9ucyB3ZXJlIGNhbGxlZFxuICAgIHVuc3ViR3JvdXBzOiBbXSxcbiAgICB1cGRhdGVkQ2F0ZWdvcnlMb25nOiBudWxsLFxuICAgIGlzUHJpdmFjeUFyclB1c2hlZDogZmFsc2UsXG4gICAgcHJpdmFjeUFycmF5OiBbXSAvLyBkb21haW46IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSwgdXJsIC0+IGdldEhvc3ROYW1lKClcbiAgICAvLyBnY29va2llOiAtPiBkZXZpY2VcblxuICB9O1xuXG4gIHZhciBfa2V5T3JkZXIgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImtleU9yZGVyXCIpO1xuXG4gIHZhciBfZGVsZXRlRnJvbU9iamVjdCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZGVsZXRlRnJvbU9iamVjdFwiKTtcblxuICB2YXIgTFJVQ2FjaGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExSVUNhY2hlKG1heCkge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExSVUNhY2hlKTtcblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9kZWxldGVGcm9tT2JqZWN0LCB7XG4gICAgICAgIHZhbHVlOiBfZGVsZXRlRnJvbU9iamVjdDJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9rZXlPcmRlciwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICB0aGlzLm1heCA9IG1heDtcbiAgICAgIHZhciBscnVDYWNoZSA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShMUlVfQ0FDSEUpO1xuXG4gICAgICBpZiAobHJ1Q2FjaGUpIHtcbiAgICAgICAgdmFyIHRlbXBMcnVDYWNoZSA9IHt9O1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2tleU9yZGVyKVtfa2V5T3JkZXJdID0gW107XG4gICAgICAgIGxydUNhY2hlID0gbHJ1Q2FjaGUuY2FjaGU7XG5cbiAgICAgICAgZm9yICh2YXIgZW50cnkgaW4gbHJ1Q2FjaGUpIHtcbiAgICAgICAgICBpZiAobHJ1Q2FjaGUuaGFzT3duUHJvcGVydHkoZW50cnkpKSB7XG4gICAgICAgICAgICB0ZW1wTHJ1Q2FjaGVbbHJ1Q2FjaGVbZW50cnldWzBdXSA9IGxydUNhY2hlW2VudHJ5XVsxXTtcblxuICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9rZXlPcmRlcilbX2tleU9yZGVyXS5wdXNoKGxydUNhY2hlW2VudHJ5XVswXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWNoZSA9IHRlbXBMcnVDYWNoZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2FjaGUgPSB7fTtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9rZXlPcmRlcilbX2tleU9yZGVyXSA9IFtdO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhMUlVDYWNoZSwgW3tcbiAgICAgIGtleTogXCJnZXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoa2V5KSB7XG4gICAgICAgIHZhciBpdGVtID0gdGhpcy5jYWNoZVtrZXldO1xuXG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgdGhpcy5jYWNoZSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGVsZXRlRnJvbU9iamVjdClbX2RlbGV0ZUZyb21PYmplY3RdKGtleSwgdGhpcy5jYWNoZSk7XG4gICAgICAgICAgdGhpcy5jYWNoZVtrZXldID0gaXRlbTtcblxuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfa2V5T3JkZXIpW19rZXlPcmRlcl0ucHVzaChrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zYXZlQ2FjaGVUb0xTKHRoaXMuY2FjaGUpO1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2V0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLmNhY2hlW2tleV07XG5cbiAgICAgICAgdmFyIGFsbEtleXMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2tleU9yZGVyKVtfa2V5T3JkZXJdO1xuXG4gICAgICAgIGlmIChpdGVtICE9IG51bGwpIHtcbiAgICAgICAgICB0aGlzLmNhY2hlID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZWxldGVGcm9tT2JqZWN0KVtfZGVsZXRlRnJvbU9iamVjdF0oa2V5LCB0aGlzLmNhY2hlKTtcbiAgICAgICAgfSBlbHNlIGlmIChhbGxLZXlzLmxlbmd0aCA9PT0gdGhpcy5tYXgpIHtcbiAgICAgICAgICB0aGlzLmNhY2hlID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZWxldGVGcm9tT2JqZWN0KVtfZGVsZXRlRnJvbU9iamVjdF0oYWxsS2V5c1swXSwgdGhpcy5jYWNoZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhY2hlW2tleV0gPSB2YWx1ZTtcblxuICAgICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9rZXlPcmRlcilbX2tleU9yZGVyXVtfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2tleU9yZGVyKVtfa2V5T3JkZXJdIC0gMV0gIT09IGtleSkge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfa2V5T3JkZXIpW19rZXlPcmRlcl0ucHVzaChrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zYXZlQ2FjaGVUb0xTKHRoaXMuY2FjaGUpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzYXZlQ2FjaGVUb0xTXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZUNhY2hlVG9MUyhjYWNoZSkge1xuICAgICAgICB2YXIgb2JqVG9BcnJheSA9IFtdO1xuXG4gICAgICAgIHZhciBhbGxLZXlzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9rZXlPcmRlcilbX2tleU9yZGVyXTtcblxuICAgICAgICBmb3IgKHZhciBpbmRleCBpbiBhbGxLZXlzKSB7XG4gICAgICAgICAgaWYgKGFsbEtleXMuaGFzT3duUHJvcGVydHkoaW5kZXgpKSB7XG4gICAgICAgICAgICB2YXIgdGVtcCA9IFtdO1xuICAgICAgICAgICAgdGVtcC5wdXNoKGFsbEtleXNbaW5kZXhdKTtcbiAgICAgICAgICAgIHRlbXAucHVzaChjYWNoZVthbGxLZXlzW2luZGV4XV0pO1xuICAgICAgICAgICAgb2JqVG9BcnJheS5wdXNoKHRlbXApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoTFJVX0NBQ0hFLCB7XG4gICAgICAgICAgY2FjaGU6IG9ialRvQXJyYXlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImdldEtleVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEtleSh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhbGxLZXlzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9rZXlPcmRlcilbX2tleU9yZGVyXTtcblxuICAgICAgICBmb3IgKHZhciBpbmRleCBpbiBhbGxLZXlzKSB7XG4gICAgICAgICAgaWYgKGFsbEtleXMuaGFzT3duUHJvcGVydHkoaW5kZXgpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYWNoZVthbGxLZXlzW2luZGV4XV0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBhbGxLZXlzW2luZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0U2Vjb25kTGFzdEtleVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlY29uZExhc3RLZXkoKSB7XG4gICAgICAgIHZhciBrZXlzQXJyID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9rZXlPcmRlcilbX2tleU9yZGVyXTtcblxuICAgICAgICBpZiAoa2V5c0FyciAhPSBudWxsICYmIGtleXNBcnIubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHJldHVybiBrZXlzQXJyW2tleXNBcnIubGVuZ3RoIC0gMl07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImdldExhc3RLZXlcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMYXN0S2V5KCkge1xuICAgICAgICB2YXIga2V5c0xlbmd0aCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfa2V5T3JkZXIpW19rZXlPcmRlcl0ubGVuZ3RoO1xuXG4gICAgICAgIGlmIChrZXlzTGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfa2V5T3JkZXIpW19rZXlPcmRlcl1ba2V5c0xlbmd0aCAtIDFdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIExSVUNhY2hlO1xuICB9KCk7XG5cbiAgdmFyIF9kZWxldGVGcm9tT2JqZWN0MiA9IGZ1bmN0aW9uIF9kZWxldGVGcm9tT2JqZWN0MihrZXksIG9iaikge1xuICAgIHZhciBhbGxLZXlzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2tleU9yZGVyKVtfa2V5T3JkZXJdKSk7XG4gICAgdmFyIG5ld0NhY2hlID0ge307XG4gICAgdmFyIGluZGV4VG9EZWxldGU7XG5cbiAgICBmb3IgKHZhciBpbmRleCBpbiBhbGxLZXlzKSB7XG4gICAgICBpZiAoYWxsS2V5cy5oYXNPd25Qcm9wZXJ0eShpbmRleCkpIHtcbiAgICAgICAgaWYgKGFsbEtleXNbaW5kZXhdICE9PSBrZXkpIHtcbiAgICAgICAgICBuZXdDYWNoZVthbGxLZXlzW2luZGV4XV0gPSBvYmpbYWxsS2V5c1tpbmRleF1dO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGluZGV4VG9EZWxldGUgPSBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGFsbEtleXMuc3BsaWNlKGluZGV4VG9EZWxldGUsIDEpO1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfa2V5T3JkZXIpW19rZXlPcmRlcl0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFsbEtleXMpKTtcbiAgICByZXR1cm4gbmV3Q2FjaGU7XG4gIH07XG5cbiAgdmFyIF9sb2dnZXIgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImxvZ2dlclwiKTtcblxuICB2YXIgX3JlcXVlc3QgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInJlcXVlc3RcIik7XG5cbiAgdmFyIF9kZXZpY2UgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImRldmljZVwiKTtcblxuICB2YXIgX3Nlc3Npb24gPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInNlc3Npb25cIik7XG5cbiAgdmFyIENsZXZlclRhcEFQSSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2xldmVyVGFwQVBJKF9yZWYpIHtcbiAgICAgIHZhciBsb2dnZXIgPSBfcmVmLmxvZ2dlcixcbiAgICAgICAgICByZXF1ZXN0ID0gX3JlZi5yZXF1ZXN0LFxuICAgICAgICAgIGRldmljZSA9IF9yZWYuZGV2aWNlLFxuICAgICAgICAgIHNlc3Npb24gPSBfcmVmLnNlc3Npb247XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGV2ZXJUYXBBUEkpO1xuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2xvZ2dlciwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3JlcXVlc3QsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9kZXZpY2UsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9zZXNzaW9uLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyKVtfbG9nZ2VyXSA9IGxvZ2dlcjtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdClbX3JlcXVlc3RdID0gcmVxdWVzdDtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlKVtfZGV2aWNlXSA9IGRldmljZTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbilbX3Nlc3Npb25dID0gc2Vzc2lvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZ2xvYmFsIGdjb29raWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2Vzc2lvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVzdW1lIHRydWUgaW4gY2FzZSBvZiBPVUwgKG9uIHVzZXIgbG9naW4pLCBmYWxzZSBpbiBhbGwgb3RoZXIgY2FzZXNcbiAgICAgKiB0cnVlIHNpZ25pZmllcyB0aGF0IHRoZSByZXNwb25zZSBpbiBPVUwgcmVzcG9uc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzcE51bWJlciB0aGUgaW5kZXggb2YgdGhlIHJlcXVlc3QgaW4gYmFja3VwbWFuYWdlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0T3V0UmVzcG9uc2VcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoQ2xldmVyVGFwQVBJLCBbe1xuICAgICAga2V5OiBcInNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzKGdsb2JhbCwgc2Vzc2lvbiwgcmVzdW1lLCByZXNwTnVtYmVyLCBvcHRPdXRSZXNwb25zZSkge1xuICAgICAgICAvLyBjYWxsIGJhY2sgZnVuY3Rpb24gdXNlZCB0byBzdG9yZSBnbG9iYWwgYW5kIHNlc3Npb24gaWRzIGZvciB0aGUgdXNlclxuICAgICAgICBpZiAodHlwZW9mIHJlc3BOdW1iZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgcmVzcE51bWJlciA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBTdG9yYWdlTWFuYWdlci5yZW1vdmVCYWNrdXAocmVzcE51bWJlciwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIpW19sb2dnZXJdKTtcblxuICAgICAgICBpZiAocmVzcE51bWJlciA+ICRjdC5nbG9iYWxDYWNoZS5SRVFfTikge1xuICAgICAgICAgIC8vIHJlcXVlc3QgZm9yIHNvbWUgb3RoZXIgdXNlciBzbyBpZ25vcmVcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gZm9yIGEgY29uZGl0aW9uIHdoZW4gYSByZXF1ZXN0J3MgcmVzcG9uc2UgaXMgcmVjZWl2ZWRcbiAgICAgICAgLy8gd2hpbGUgYW4gT1VMIHJlcXVlc3QgaXMgYWxyZWFkeSBpbiBwcm9ncmVzc1xuICAgICAgICAvLyByZW1vdmUgdGhlIHJlcXVlc3QgZnJvbSBiYWNrdXAgY2FjaGUgYW5kIHJldHVyblxuXG5cbiAgICAgICAgaWYgKHdpbmRvdy5pc09VTEluUHJvZ3Jlc3MgJiYgIXJlc3VtZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBzZXQgaXNPVUxJblByb2dyZXNzIHRvIGZhbHNlLCBpZiByZXN1bWUgaXMgdHJ1ZVxuXG5cbiAgICAgICAgaWYgKHJlc3VtZSkge1xuICAgICAgICAgIHdpbmRvdy5pc09VTEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgfSAvLyBvcHRvdXRcblxuXG4gICAgICAgIGlmICghaXNWYWx1ZVZhbGlkKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlKVtfZGV2aWNlXS5nY29va2llKSB8fCByZXN1bWUgfHwgdHlwZW9mIG9wdE91dFJlc3BvbnNlID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlcilbX2xvZ2dlcl0uZGVidWcoXCJDb29raWUgd2FzIFwiLmNvbmNhdChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSlbX2RldmljZV0uZ2Nvb2tpZSwgXCIgc2V0IHRvIFwiKS5jb25jYXQoZ2xvYmFsKSk7XG5cbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSlbX2RldmljZV0uZ2Nvb2tpZSA9IGdsb2JhbDtcblxuICAgICAgICAgIGlmICghaXNWYWx1ZVZhbGlkKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlKVtfZGV2aWNlXS5nY29va2llKSkge1xuICAgICAgICAgICAgLy8gY2xlYXIgdXNlSVAgbWV0YSBwcm9wXG4gICAgICAgICAgICBTdG9yYWdlTWFuYWdlci5nZXRBbmRDbGVhck1ldGFQcm9wKFVTRUlQX0tFWSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGdsb2JhbCAmJiBTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgaWYgKCRjdC5MUlVfQ0FDSEUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAkY3QuTFJVX0NBQ0hFID0gbmV3IExSVUNhY2hlKExSVV9DQUNIRV9TSVpFKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGtJZEZyb21MUyA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShLQ09PS0lFX05BTUUpO1xuXG4gICAgICAgICAgICBpZiAoa0lkRnJvbUxTICE9IG51bGwgJiYga0lkRnJvbUxTLmlkICYmIHJlc3VtZSkge1xuICAgICAgICAgICAgICB2YXIgZ3VpZEZyb21MUlVDYWNoZSA9ICRjdC5MUlVfQ0FDSEUuY2FjaGVba0lkRnJvbUxTLmlkXTtcblxuICAgICAgICAgICAgICBpZiAoIWd1aWRGcm9tTFJVQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEZJUkVfUFVTSF9VTlJFR0lTVEVSRUQsIHRydWUpOyAvLyByZXBsYWNlIGxvZ2luIGlkZW50aXR5IGluIE9VTCByZXF1ZXN0XG4gICAgICAgICAgICAgICAgLy8gd2l0aCB0aGUgZ2Nvb2tpZSByZXR1cm5lZCBpbiBleGNoYW5nZVxuXG4gICAgICAgICAgICAgICAgJGN0LkxSVV9DQUNIRS5zZXQoa0lkRnJvbUxTLmlkLCBnbG9iYWwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoR0NPT0tJRV9OQU1FLCBnbG9iYWwpO1xuICAgICAgICAgICAgdmFyIGxhc3RLID0gJGN0LkxSVV9DQUNIRS5nZXRTZWNvbmRMYXN0S2V5KCk7XG5cbiAgICAgICAgICAgIGlmIChTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoRklSRV9QVVNIX1VOUkVHSVNURVJFRCkgJiYgbGFzdEsgIT09IC0xKSB7XG4gICAgICAgICAgICAgIHZhciBsYXN0R1VJRCA9ICRjdC5MUlVfQ0FDSEUuY2FjaGVbbGFzdEtdO1xuXG4gICAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdClbX3JlcXVlc3RdLnVucmVnaXN0ZXJUb2tlbkZvckd1aWQobGFzdEdVSUQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyLmNyZWF0ZUJyb2FkQ29va2llKEdDT09LSUVfTkFNRSwgZ2xvYmFsLCBDT09LSUVfRVhQSVJZLCB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpO1xuICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEdDT09LSUVfTkFNRSwgZ2xvYmFsKTtcblxuICAgICAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24pW19zZXNzaW9uXS5tYW5hZ2VTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICB9IC8vIHNlc3Npb24gY29va2llXG5cblxuICAgICAgICB2YXIgb2JqID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uKVtfc2Vzc2lvbl0uZ2V0U2Vzc2lvbkNvb2tpZU9iamVjdCgpOyAvLyBmb3IgdGhlIHJhY2UtY29uZGl0aW9uIHdoZXJlIHR3byByZXNwb25zZXMgY29tZSBiYWNrIHdpdGggZGlmZmVyZW50IHNlc3Npb24gaWRzLiBkb24ndCB3cml0ZSB0aGUgb2xkZXIgc2Vzc2lvbiBpZC5cblxuXG4gICAgICAgIGlmICh0eXBlb2Ygb2JqLnMgPT09ICd1bmRlZmluZWQnIHx8IG9iai5zIDw9IHNlc3Npb24pIHtcbiAgICAgICAgICBvYmoucyA9IHNlc3Npb247XG4gICAgICAgICAgb2JqLnQgPSBnZXROb3coKTsgLy8gdGltZSBvZiBsYXN0IHJlc3BvbnNlIGZyb20gc2VydmVyXG5cbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24pW19zZXNzaW9uXS5zZXRTZXNzaW9uQ29va2llT2JqZWN0KG9iaik7XG4gICAgICAgIH0gLy8gc2V0IGJsb2NrUmVxdWVzdCB0byBmYWxzZSBvbmx5IGlmIHRoZSBkZXZpY2UgaGFzIGEgdmFsaWQgZ2Nvb2tpZVxuXG5cbiAgICAgICAgaWYgKGlzVmFsdWVWYWxpZChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSlbX2RldmljZV0uZ2Nvb2tpZSkpIHtcbiAgICAgICAgICAkY3QuYmxvY2tSZXF1ZXN0ID0gZmFsc2U7XG4gICAgICAgIH0gLy8gaWYgcmVxdWVzdCBhcmUgbm90IGJsb2NrZWQgYW5kIG90aGVyIG5ldHdvcmsgcmVxdWVzdChzKSBhcmUgbm90IGJlaW5nIHByb2Nlc3NlZFxuICAgICAgICAvLyBwcm9jZXNzIHJlcXVlc3QocykgZnJvbSBiYWNrdXAgZnJvbSBsb2NhbCBzdG9yYWdlIG9yIGNvb2tpZVxuXG5cbiAgICAgICAgaWYgKCEkY3QuYmxvY2tSZXF1ZXN0ICYmICFfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QpW19yZXF1ZXN0XS5wcm9jZXNzaW5nQmFja3VwKSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0KVtfcmVxdWVzdF0ucHJvY2Vzc0JhY2t1cEV2ZW50cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgJGN0Lmdsb2JhbENhY2hlLlJFU1BfTiA9IHJlc3BOdW1iZXI7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENsZXZlclRhcEFQSTtcbiAgfSgpO1xuXG4gIHZhciBfbG9nZ2VyJDEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImxvZ2dlclwiKTtcblxuICB2YXIgRGV2aWNlTWFuYWdlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGV2aWNlTWFuYWdlcihfcmVmKSB7XG4gICAgICB2YXIgbG9nZ2VyID0gX3JlZi5sb2dnZXI7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEZXZpY2VNYW5hZ2VyKTtcblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9sb2dnZXIkMSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICB0aGlzLmdjb29raWUgPSB2b2lkIDA7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQxKVtfbG9nZ2VyJDFdID0gbG9nZ2VyO1xuICAgICAgdGhpcy5nY29va2llID0gdGhpcy5nZXRHdWlkKCk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKERldmljZU1hbmFnZXIsIFt7XG4gICAgICBrZXk6IFwiZ2V0R3VpZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEd1aWQoKSB7XG4gICAgICAgIHZhciBndWlkID0gbnVsbDtcblxuICAgICAgICBpZiAoaXNWYWx1ZVZhbGlkKHRoaXMuZ2Nvb2tpZSkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5nY29va2llO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gU3RvcmFnZU1hbmFnZXIucmVhZChHQ09PS0lFX05BTUUpO1xuXG4gICAgICAgICAgaWYgKGlzVmFsdWVWYWxpZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGd1aWQgPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQxKVtfbG9nZ2VyJDFdLmRlYnVnKCdDYW5ub3QgcGFyc2UgR2Nvb2tpZSBmcm9tIGxvY2Fsc3RvcmFnZSAtIG11c3QgYmUgZW5jb2RlZCAnICsgdmFsdWUpOyAvLyBhc3N1bW1pbmcgZ3VpZHMgYXJlIG9mIHNpemUgMzIuIHN1cHBvcnRpbmcgYm90aCBmb3JtYXRzLlxuICAgICAgICAgICAgICAvLyBndWlkIGNhbiBoYXZlIGVuY29kZWRVUklDb21wb25lbnQgb3IgYmUgd2l0aG91dCBpdC5cbiAgICAgICAgICAgICAgLy8gMS41NmU0MDc4ZWQxNTc0OTkyOGMwNDI0NzllYzJiNGQ0NyAtIGJyZWFrcyBvbiBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudCgpKVxuICAgICAgICAgICAgICAvLyAyLiUyMjU2ZTQwNzhlZDE1NzQ5OTI4YzA0MjQ3OWVjMmI0ZDQ3JTIyXG5cblxuICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAzMikge1xuICAgICAgICAgICAgICAgIGd1aWQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEdDT09LSUVfTkFNRSwgdmFsdWUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDEpW19sb2dnZXIkMV0uZXJyb3IoJ0lsbGVnYWwgZ3VpZCAnICsgdmFsdWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IC8vIFBlcnNpc3QgdG8gY29va2llIHN0b3JhZ2UgaWYgbm90IHByZXNlbnQgdGhlcmUuXG5cblxuICAgICAgICAgICAgaWYgKGlzVmFsdWVWYWxpZChndWlkKSkge1xuICAgICAgICAgICAgICBTdG9yYWdlTWFuYWdlci5jcmVhdGVCcm9hZENvb2tpZShHQ09PS0lFX05BTUUsIGd1aWQsIENPT0tJRV9FWFBJUlksIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc1ZhbHVlVmFsaWQoZ3VpZCkpIHtcbiAgICAgICAgICBndWlkID0gU3RvcmFnZU1hbmFnZXIucmVhZENvb2tpZShHQ09PS0lFX05BTUUpO1xuXG4gICAgICAgICAgaWYgKGlzVmFsdWVWYWxpZChndWlkKSAmJiAoZ3VpZC5pbmRleE9mKCclJykgPT09IDAgfHwgZ3VpZC5pbmRleE9mKCdcXCcnKSA9PT0gMCB8fCBndWlkLmluZGV4T2YoJ1wiJykgPT09IDApKSB7XG4gICAgICAgICAgICBndWlkID0gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaXNWYWx1ZVZhbGlkKGd1aWQpKSB7XG4gICAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEdDT09LSUVfTkFNRSwgZ3VpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGd1aWQ7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIERldmljZU1hbmFnZXI7XG4gIH0oKTtcblxuICB2YXIgREFUQV9OT1RfU0VOVF9URVhUID0gJ1RoaXMgcHJvcGVydHkgaGFzIGJlZW4gaWdub3JlZC4nO1xuICB2YXIgQ0xFVkVSVEFQX0VSUk9SX1BSRUZJWCA9ICdDbGV2ZXJUYXAgZXJyb3I6JzsgLy8gRm9ybWVybHkgd3pya19lcnJvcl90eHRcblxuICB2YXIgRU1CRURfRVJST1IgPSBcIlwiLmNvbmNhdChDTEVWRVJUQVBfRVJST1JfUFJFRklYLCBcIiBJbmNvcnJlY3QgZW1iZWQgc2NyaXB0LlwiKTtcbiAgdmFyIEVWRU5UX0VSUk9SID0gXCJcIi5jb25jYXQoQ0xFVkVSVEFQX0VSUk9SX1BSRUZJWCwgXCIgRXZlbnQgc3RydWN0dXJlIG5vdCB2YWxpZC4gXCIpLmNvbmNhdChEQVRBX05PVF9TRU5UX1RFWFQpO1xuICB2YXIgR0VOREVSX0VSUk9SID0gXCJcIi5jb25jYXQoQ0xFVkVSVEFQX0VSUk9SX1BSRUZJWCwgXCIgR2VuZGVyIHZhbHVlIHNob3VsZCBiZSBlaXRoZXIgTSBvciBGLiBcIikuY29uY2F0KERBVEFfTk9UX1NFTlRfVEVYVCk7XG4gIHZhciBFTVBMT1lFRF9FUlJPUiA9IFwiXCIuY29uY2F0KENMRVZFUlRBUF9FUlJPUl9QUkVGSVgsIFwiIEVtcGxveWVkIHZhbHVlIHNob3VsZCBiZSBlaXRoZXIgWSBvciBOLiBcIikuY29uY2F0KERBVEFfTk9UX1NFTlRfVEVYVCk7XG4gIHZhciBNQVJSSUVEX0VSUk9SID0gXCJcIi5jb25jYXQoQ0xFVkVSVEFQX0VSUk9SX1BSRUZJWCwgXCIgTWFycmllZCB2YWx1ZSBzaG91bGQgYmUgZWl0aGVyIFkgb3IgTi4gXCIpLmNvbmNhdChEQVRBX05PVF9TRU5UX1RFWFQpO1xuICB2YXIgRURVQ0FUSU9OX0VSUk9SID0gXCJcIi5jb25jYXQoQ0xFVkVSVEFQX0VSUk9SX1BSRUZJWCwgXCIgRWR1Y2F0aW9uIHZhbHVlIHNob3VsZCBiZSBlaXRoZXIgU2Nob29sLCBDb2xsZWdlIG9yIEdyYWR1YXRlLiBcIikuY29uY2F0KERBVEFfTk9UX1NFTlRfVEVYVCk7XG4gIHZhciBBR0VfRVJST1IgPSBcIlwiLmNvbmNhdChDTEVWRVJUQVBfRVJST1JfUFJFRklYLCBcIiBBZ2UgdmFsdWUgc2hvdWxkIGJlIGEgbnVtYmVyLiBcIikuY29uY2F0KERBVEFfTk9UX1NFTlRfVEVYVCk7XG4gIHZhciBET0JfRVJST1IgPSBcIlwiLmNvbmNhdChDTEVWRVJUQVBfRVJST1JfUFJFRklYLCBcIiBET0IgdmFsdWUgc2hvdWxkIGJlIGEgRGF0ZSBPYmplY3RcIik7XG4gIHZhciBFTlVNX0ZPUk1BVF9FUlJPUiA9IFwiXCIuY29uY2F0KENMRVZFUlRBUF9FUlJPUl9QUkVGSVgsIFwiIHNldEVudW0odmFsdWUpLiB2YWx1ZSBzaG91bGQgYmUgYSBzdHJpbmcgb3IgYSBudW1iZXJcIik7XG4gIHZhciBQSE9ORV9GT1JNQVRfRVJST1IgPSBcIlwiLmNvbmNhdChDTEVWRVJUQVBfRVJST1JfUFJFRklYLCBcIiBQaG9uZSBudW1iZXIgc2hvdWxkIGJlIGZvcm1hdHRlZCBhcyArW2NvdW50cnkgY29kZV1bbnVtYmVyXVwiKTtcblxuICB2YXIgX2dsb2JhbENoYXJnZWRJZDtcblxuICB2YXIgaXNFdmVudFN0cnVjdHVyZUZsYXQgPSBmdW5jdGlvbiBpc0V2ZW50U3RydWN0dXJlRmxhdChldmVudE9iaikge1xuICAgIC8vIEV2ZW50cyBjYW5ub3QgaGF2ZSBuZXN0ZWQgc3RydWN0dXJlIG9yIEFycmF5c1xuICAgIGlmIChpc09iamVjdChldmVudE9iaikpIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiBldmVudE9iaikge1xuICAgICAgICBpZiAoZXZlbnRPYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGlmIChpc09iamVjdChldmVudE9ialtrZXldKSB8fCBBcnJheS5pc0FycmF5KGV2ZW50T2JqW2tleV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc0RhdGVPYmplY3QoZXZlbnRPYmpba2V5XSkpIHtcbiAgICAgICAgICAgIGV2ZW50T2JqW2tleV0gPSBjb252ZXJ0VG9XWlJLRGF0ZShldmVudE9ialtrZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICB2YXIgaXNDaGFyZ2VkRXZlbnRTdHJ1Y3R1cmVWYWxpZCA9IGZ1bmN0aW9uIGlzQ2hhcmdlZEV2ZW50U3RydWN0dXJlVmFsaWQoY2hhcmdlZE9iaiwgbG9nZ2VyKSB7XG4gICAgaWYgKGlzT2JqZWN0KGNoYXJnZWRPYmopKSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gY2hhcmdlZE9iaikge1xuICAgICAgICBpZiAoY2hhcmdlZE9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ0l0ZW1zJykge1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGNoYXJnZWRPYmpba2V5XSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2hhcmdlZE9ialtrZXldLmxlbmd0aCA+IDE2KSB7XG4gICAgICAgICAgICAgIGxvZ2dlci5yZXBvcnRFcnJvcig1MjIsICdDaGFyZ2VkIEl0ZW1zIGV4Y2VlZCAxNiBsaW1pdC4gQWN0dWFsIGNvdW50OiAnICsgY2hhcmdlZE9ialtrZXldLmxlbmd0aCArICcuIEFkZGl0aW9uYWwgaXRlbXMgd2lsbCBiZSBkcm9wcGVkLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtS2V5IGluIGNoYXJnZWRPYmpba2V5XSkge1xuICAgICAgICAgICAgICBpZiAoY2hhcmdlZE9ialtrZXldLmhhc093blByb3BlcnR5KGl0ZW1LZXkpKSB7XG4gICAgICAgICAgICAgICAgLy8gc2luY2UgZGVmYXVsdCBhcnJheSBpbXBsZW1lbnRhdGlvbiBjb3VsZCBiZSBvdmVycmlkZGVuIC0gZS5nLiBUZWFib3ggc2l0ZVxuICAgICAgICAgICAgICAgIGlmICghaXNPYmplY3QoY2hhcmdlZE9ialtrZXldW2l0ZW1LZXldKSB8fCAhaXNFdmVudFN0cnVjdHVyZUZsYXQoY2hhcmdlZE9ialtrZXldW2l0ZW1LZXldKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoaXNPYmplY3QoY2hhcmdlZE9ialtrZXldKSB8fCBBcnJheS5pc0FycmF5KGNoYXJnZWRPYmpba2V5XSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0RhdGVPYmplY3QoY2hhcmdlZE9ialtrZXldKSkge1xuICAgICAgICAgICAgICBjaGFyZ2VkT2JqW2tleV0gPSBjb252ZXJ0VG9XWlJLRGF0ZShjaGFyZ2VkT2JqW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNTdHJpbmcoY2hhcmdlZE9ialtDSEFSR0VEX0lEXSkgfHwgaXNOdW1iZXIoY2hhcmdlZE9ialtDSEFSR0VEX0lEXSkpIHtcbiAgICAgICAgLy8gc2F2ZSBjaGFyZ2VkIElkXG4gICAgICAgIHZhciBjaGFyZ2VkSWQgPSBjaGFyZ2VkT2JqW0NIQVJHRURfSURdICsgJyc7IC8vIGNhc3RpbmcgY2hhcmdlZElkIHRvIHN0cmluZ1xuXG4gICAgICAgIGlmICh0eXBlb2YgX2dsb2JhbENoYXJnZWRJZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBfZ2xvYmFsQ2hhcmdlZElkID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKENIQVJHRURJRF9DT09LSUVfTkFNRSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIF9nbG9iYWxDaGFyZ2VkSWQgIT09ICd1bmRlZmluZWQnICYmIF9nbG9iYWxDaGFyZ2VkSWQudHJpbSgpID09PSBjaGFyZ2VkSWQudHJpbSgpKSB7XG4gICAgICAgICAgLy8gZHJvcCBldmVudC0gZHVwbGljYXRlIGNoYXJnZWQgaWRcbiAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0R1cGxpY2F0ZSBjaGFyZ2VkIElkIC0gRHJvcHBlZCcgKyBjaGFyZ2VkT2JqKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBfZ2xvYmFsQ2hhcmdlZElkID0gY2hhcmdlZElkO1xuICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKENIQVJHRURJRF9DT09LSUVfTkFNRSwgY2hhcmdlZElkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSAvLyBpZiBvYmplY3QgKGNoYXJnZWRPYmplY3QpXG5cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICB2YXIgX2xvZ2dlciQyID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJsb2dnZXJcIik7XG5cbiAgdmFyIF9vbGRWYWx1ZXMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcIm9sZFZhbHVlc1wiKTtcblxuICB2YXIgX3JlcXVlc3QkMSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicmVxdWVzdFwiKTtcblxuICB2YXIgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZVwiKTtcblxuICB2YXIgX3Byb2Nlc3NFdmVudEFycmF5ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJwcm9jZXNzRXZlbnRBcnJheVwiKTtcblxuICB2YXIgRXZlbnRIYW5kbGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQXJyYXkpIHtcbiAgICBfaW5oZXJpdHMoRXZlbnRIYW5kbGVyLCBfQXJyYXkpO1xuXG4gICAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihFdmVudEhhbmRsZXIpO1xuXG4gICAgZnVuY3Rpb24gRXZlbnRIYW5kbGVyKF9yZWYsIHZhbHVlcykge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICB2YXIgbG9nZ2VyID0gX3JlZi5sb2dnZXIsXG4gICAgICAgICAgcmVxdWVzdCA9IF9yZWYucmVxdWVzdCxcbiAgICAgICAgICBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSA9IF9yZWYuaXNQZXJzb25hbGlzYXRpb25BY3RpdmU7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudEhhbmRsZXIpO1xuXG4gICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfcHJvY2Vzc0V2ZW50QXJyYXksIHtcbiAgICAgICAgdmFsdWU6IF9wcm9jZXNzRXZlbnRBcnJheTJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfbG9nZ2VyJDIsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfb2xkVmFsdWVzLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgX3JlcXVlc3QkMSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIF9sb2dnZXIkMilbX2xvZ2dlciQyXSA9IGxvZ2dlcjtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgX29sZFZhbHVlcylbX29sZFZhbHVlc10gPSB2YWx1ZXM7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIF9yZXF1ZXN0JDEpW19yZXF1ZXN0JDFdID0gcmVxdWVzdDtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlKVtfaXNQZXJzb25hbGlzYXRpb25BY3RpdmVdID0gaXNQZXJzb25hbGlzYXRpb25BY3RpdmU7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKEV2ZW50SGFuZGxlciwgW3tcbiAgICAgIGtleTogXCJwdXNoXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcHVzaCgpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGV2ZW50c0FyciA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBldmVudHNBcnJbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Byb2Nlc3NFdmVudEFycmF5KVtfcHJvY2Vzc0V2ZW50QXJyYXldKGV2ZW50c0Fycik7XG5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9wcm9jZXNzT2xkVmFsdWVzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3Byb2Nlc3NPbGRWYWx1ZXMoKSB7XG4gICAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcylbX29sZFZhbHVlc10pIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Byb2Nlc3NFdmVudEFycmF5KVtfcHJvY2Vzc0V2ZW50QXJyYXldKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzKVtfb2xkVmFsdWVzXSk7XG4gICAgICAgIH1cblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcylbX29sZFZhbHVlc10gPSBudWxsO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXREZXRhaWxzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGV0YWlscyhldnROYW1lKSB7XG4gICAgICAgIGlmICghX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSlbX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlXSgpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiAkY3QuZ2xvYmFsRXZlbnRzTWFwID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICRjdC5nbG9iYWxFdmVudHNNYXAgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoRVZfQ09PS0lFKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgJGN0Lmdsb2JhbEV2ZW50c01hcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZXZ0T2JqID0gJGN0Lmdsb2JhbEV2ZW50c01hcFtldnROYW1lXTtcbiAgICAgICAgdmFyIHJlc3BPYmogPSB7fTtcblxuICAgICAgICBpZiAodHlwZW9mIGV2dE9iaiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICByZXNwT2JqLmZpcnN0VGltZSA9IG5ldyBEYXRlKGV2dE9ialsxXSAqIDEwMDApO1xuICAgICAgICAgIHJlc3BPYmoubGFzdFRpbWUgPSBuZXcgRGF0ZShldnRPYmpbMl0gKiAxMDAwKTtcbiAgICAgICAgICByZXNwT2JqLmNvdW50ID0gZXZ0T2JqWzBdO1xuICAgICAgICAgIHJldHVybiByZXNwT2JqO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEV2ZW50SGFuZGxlcjtcbiAgfSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoQXJyYXkpKTtcblxuICB2YXIgX3Byb2Nlc3NFdmVudEFycmF5MiA9IGZ1bmN0aW9uIF9wcm9jZXNzRXZlbnRBcnJheTIoZXZlbnRzQXJyKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZXZlbnRzQXJyKSkge1xuICAgICAgd2hpbGUgKGV2ZW50c0Fyci5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBldmVudE5hbWUgPSBldmVudHNBcnIuc2hpZnQoKTtcblxuICAgICAgICBpZiAoIWlzU3RyaW5nKGV2ZW50TmFtZSkpIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQyKVtfbG9nZ2VyJDJdLmVycm9yKEVWRU5UX0VSUk9SKTtcblxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50TmFtZS5sZW5ndGggPiAxMDI0KSB7XG4gICAgICAgICAgZXZlbnROYW1lID0gZXZlbnROYW1lLnN1YnN0cmluZygwLCAxMDI0KTtcblxuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDIpW19sb2dnZXIkMl0ucmVwb3J0RXJyb3IoNTEwLCBldmVudE5hbWUgKyAnLi4uIGxlbmd0aCBleGNlZWRlZCAxMDI0IGNoYXJzLiBUcmltbWVkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFNZU1RFTV9FVkVOVFMuaW5jbHVkZXMoZXZlbnROYW1lKSkge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDIpW19sb2dnZXIkMl0ucmVwb3J0RXJyb3IoNTEzLCBldmVudE5hbWUgKyAnIGlzIGEgcmVzdHJpY3RlZCBzeXN0ZW0gZXZlbnQuIEl0IGNhbm5vdCBiZSB1c2VkIGFzIGFuIGV2ZW50IG5hbWUuJyk7XG5cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgIGRhdGEudHlwZSA9ICdldmVudCc7XG4gICAgICAgIGRhdGEuZXZ0TmFtZSA9IHNhbml0aXplKGV2ZW50TmFtZSwgdW5zdXBwb3J0ZWRLZXlDaGFyUmVnZXgpO1xuXG4gICAgICAgIGlmIChldmVudHNBcnIubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgdmFyIGV2ZW50T2JqID0gZXZlbnRzQXJyLnNoaWZ0KCk7XG5cbiAgICAgICAgICBpZiAoIWlzT2JqZWN0KGV2ZW50T2JqKSkge1xuICAgICAgICAgICAgLy8gcHV0IGl0IGJhY2sgaWYgaXQgaXMgbm90IGFuIG9iamVjdFxuICAgICAgICAgICAgZXZlbnRzQXJyLnVuc2hpZnQoZXZlbnRPYmopO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBjaGVjayBDaGFyZ2VkIEV2ZW50IHZzLiBvdGhlciBldmVudHMuXG4gICAgICAgICAgICBpZiAoZXZlbnROYW1lID09PSAnQ2hhcmdlZCcpIHtcbiAgICAgICAgICAgICAgaWYgKCFpc0NoYXJnZWRFdmVudFN0cnVjdHVyZVZhbGlkKGV2ZW50T2JqLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQyKVtfbG9nZ2VyJDJdKSkge1xuICAgICAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDIpW19sb2dnZXIkMl0ucmVwb3J0RXJyb3IoNTExLCAnQ2hhcmdlZCBldmVudCBzdHJ1Y3R1cmUgaW52YWxpZC4gTm90IHNlbnQuJyk7XG5cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKCFpc0V2ZW50U3RydWN0dXJlRmxhdChldmVudE9iaikpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQyKVtfbG9nZ2VyJDJdLnJlcG9ydEVycm9yKDUxMiwgZXZlbnROYW1lICsgJyBldmVudCBzdHJ1Y3R1cmUgaW52YWxpZC4gTm90IHNlbnQuJyk7XG5cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRhLmV2dERhdGEgPSBldmVudE9iajtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMSlbX3JlcXVlc3QkMV0ucHJvY2Vzc0V2ZW50KGRhdGEpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgZ2V0VVJMUGFyYW1zID0gZnVuY3Rpb24gZ2V0VVJMUGFyYW1zKHVybCkge1xuICAgIHZhciB1cmxQYXJhbXMgPSB7fTtcbiAgICB2YXIgaWR4ID0gdXJsLmluZGV4T2YoJz8nKTtcblxuICAgIGlmIChpZHggPiAxKSB7XG4gICAgICB2YXIgdXJpID0gdXJsLnN1YnN0cmluZyhpZHggKyAxKTtcbiAgICAgIHZhciBtYXRjaDtcbiAgICAgIHZhciBwbCA9IC9cXCsvZzsgLy8gUmVnZXggZm9yIHJlcGxhY2luZyBhZGRpdGlvbiBzeW1ib2wgd2l0aCBhIHNwYWNlXG5cbiAgICAgIHZhciBzZWFyY2ggPSAvKFteJj1dKyk9PyhbXiZdKikvZztcblxuICAgICAgdmFyIGRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShzKSB7XG4gICAgICAgIHZhciByZXBsYWNlbWVudCA9IHMucmVwbGFjZShwbCwgJyAnKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJlcGxhY2VtZW50ID0gZGVjb2RlVVJJQ29tcG9uZW50KHJlcGxhY2VtZW50KTtcbiAgICAgICAgfSBjYXRjaCAoZSkgey8vIGVhdFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcGxhY2VtZW50O1xuICAgICAgfTtcblxuICAgICAgbWF0Y2ggPSBzZWFyY2guZXhlYyh1cmkpO1xuXG4gICAgICB3aGlsZSAobWF0Y2gpIHtcbiAgICAgICAgdXJsUGFyYW1zW2RlY29kZShtYXRjaFsxXSldID0gZGVjb2RlKG1hdGNoWzJdKTtcbiAgICAgICAgbWF0Y2ggPSBzZWFyY2guZXhlYyh1cmkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB1cmxQYXJhbXM7XG4gIH07XG4gIHZhciBnZXREb21haW4gPSBmdW5jdGlvbiBnZXREb21haW4odXJsKSB7XG4gICAgaWYgKHVybCA9PT0gJycpIHJldHVybiAnJztcbiAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICBhLmhyZWYgPSB1cmw7XG4gICAgcmV0dXJuIGEuaG9zdG5hbWU7XG4gIH07XG4gIHZhciBhZGRUb1VSTCA9IGZ1bmN0aW9uIGFkZFRvVVJMKHVybCwgaywgdikge1xuICAgIHJldHVybiB1cmwgKyAnJicgKyBrICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHYpO1xuICB9O1xuICB2YXIgZ2V0SG9zdE5hbWUgPSBmdW5jdGlvbiBnZXRIb3N0TmFtZSgpIHtcbiAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO1xuICB9O1xuXG4gIC8qIGVzbGludC1kaXNhYmxlICovXG4gIHZhciB1cmxCYXNlNjRUb1VpbnQ4QXJyYXkgPSBmdW5jdGlvbiB1cmxCYXNlNjRUb1VpbnQ4QXJyYXkoYmFzZTY0U3RyaW5nKSB7XG4gICAgdmFyIHBhZGRpbmcgPSAnPScucmVwZWF0KCg0IC0gYmFzZTY0U3RyaW5nLmxlbmd0aCAlIDQpICUgNCk7XG4gICAgdmFyIGJhc2U2NCA9IChiYXNlNjRTdHJpbmcgKyBwYWRkaW5nKS5yZXBsYWNlKC9cXC0vZywgJysnKS5yZXBsYWNlKC9fL2csICcvJyk7XG4gICAgdmFyIHJhd0RhdGEgPSB3aW5kb3cuYXRvYihiYXNlNjQpO1xuICAgIHZhciBwcm9jZXNzZWREYXRhID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhd0RhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIHByb2Nlc3NlZERhdGEucHVzaChyYXdEYXRhLmNoYXJDb2RlQXQoaSkpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgVWludDhBcnJheShwcm9jZXNzZWREYXRhKTtcbiAgfTtcbiAgdmFyIGNvbXByZXNzRGF0YSA9IGZ1bmN0aW9uIGNvbXByZXNzRGF0YShkYXRhT2JqZWN0LCBsb2dnZXIpIHtcbiAgICBsb2dnZXIgJiYgdHlwZW9mIGxvZ2dlci5kZWJ1ZyA9PT0gJ2Z1bmN0aW9uJyAmJiBsb2dnZXIuZGVidWcoJ2RvYmo6JyArIGRhdGFPYmplY3QpO1xuICAgIHJldHVybiBjb21wcmVzc1RvQmFzZTY0KGRhdGFPYmplY3QpO1xuICB9O1xuICB2YXIgY29tcHJlc3MgPSBmdW5jdGlvbiBjb21wcmVzcyh1bmNvbXByZXNzZWQpIHtcbiAgICBpZiAodW5jb21wcmVzc2VkID09IG51bGwpIHJldHVybiAnJztcbiAgICB2YXIgaSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGNvbnRleHRfZGljdGlvbmFyeSA9IHt9LFxuICAgICAgICBjb250ZXh0X2RpY3Rpb25hcnlUb0NyZWF0ZSA9IHt9LFxuICAgICAgICBjb250ZXh0X2MgPSAnJyxcbiAgICAgICAgY29udGV4dF93YyA9ICcnLFxuICAgICAgICBjb250ZXh0X3cgPSAnJyxcbiAgICAgICAgY29udGV4dF9lbmxhcmdlSW4gPSAyLFxuICAgICAgICAvLyBDb21wZW5zYXRlIGZvciB0aGUgZmlyc3QgZW50cnkgd2hpY2ggc2hvdWxkIG5vdCBjb3VudFxuICAgIGNvbnRleHRfZGljdFNpemUgPSAzLFxuICAgICAgICBjb250ZXh0X251bUJpdHMgPSAyLFxuICAgICAgICBjb250ZXh0X2RhdGFfc3RyaW5nID0gJycsXG4gICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAwLFxuICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24gPSAwLFxuICAgICAgICBpaSxcbiAgICAgICAgZiA9IFN0cmluZy5mcm9tQ2hhckNvZGU7XG5cbiAgICBmb3IgKGlpID0gMDsgaWkgPCB1bmNvbXByZXNzZWQubGVuZ3RoOyBpaSArPSAxKSB7XG4gICAgICBjb250ZXh0X2MgPSB1bmNvbXByZXNzZWQuY2hhckF0KGlpKTtcblxuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY29udGV4dF9kaWN0aW9uYXJ5LCBjb250ZXh0X2MpKSB7XG4gICAgICAgIGNvbnRleHRfZGljdGlvbmFyeVtjb250ZXh0X2NdID0gY29udGV4dF9kaWN0U2l6ZSsrO1xuICAgICAgICBjb250ZXh0X2RpY3Rpb25hcnlUb0NyZWF0ZVtjb250ZXh0X2NdID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgY29udGV4dF93YyA9IGNvbnRleHRfdyArIGNvbnRleHRfYztcblxuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjb250ZXh0X2RpY3Rpb25hcnksIGNvbnRleHRfd2MpKSB7XG4gICAgICAgIGNvbnRleHRfdyA9IGNvbnRleHRfd2M7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbnRleHRfZGljdGlvbmFyeVRvQ3JlYXRlLCBjb250ZXh0X3cpKSB7XG4gICAgICAgICAgaWYgKGNvbnRleHRfdy5jaGFyQ29kZUF0KDApIDwgMjU2KSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29udGV4dF9udW1CaXRzOyBpKyspIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IGNvbnRleHRfZGF0YV92YWwgPDwgMTtcblxuICAgICAgICAgICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IDE1KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uID0gMDtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfc3RyaW5nICs9IGYoY29udGV4dF9kYXRhX3ZhbCk7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IDA7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFsdWUgPSBjb250ZXh0X3cuY2hhckNvZGVBdCgwKTtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDg7IGkrKykge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gY29udGV4dF9kYXRhX3ZhbCA8PCAxIHwgdmFsdWUgJiAxO1xuXG4gICAgICAgICAgICAgIGlmIChjb250ZXh0X2RhdGFfcG9zaXRpb24gPT0gMTUpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9zdHJpbmcgKz0gZihjb250ZXh0X2RhdGFfdmFsKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gMDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgPj4gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSAxO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29udGV4dF9udW1CaXRzOyBpKyspIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IGNvbnRleHRfZGF0YV92YWwgPDwgMSB8IHZhbHVlO1xuXG4gICAgICAgICAgICAgIGlmIChjb250ZXh0X2RhdGFfcG9zaXRpb24gPT0gMTUpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9zdHJpbmcgKz0gZihjb250ZXh0X2RhdGFfdmFsKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gMDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhbHVlID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFsdWUgPSBjb250ZXh0X3cuY2hhckNvZGVBdCgwKTtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IGNvbnRleHRfZGF0YV92YWwgPDwgMSB8IHZhbHVlICYgMTtcblxuICAgICAgICAgICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IDE1KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uID0gMDtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfc3RyaW5nICs9IGYoY29udGV4dF9kYXRhX3ZhbCk7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IDA7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlID4+IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dF9lbmxhcmdlSW4tLTtcblxuICAgICAgICAgIGlmIChjb250ZXh0X2VubGFyZ2VJbiA9PSAwKSB7XG4gICAgICAgICAgICBjb250ZXh0X2VubGFyZ2VJbiA9IE1hdGgucG93KDIsIGNvbnRleHRfbnVtQml0cyk7XG4gICAgICAgICAgICBjb250ZXh0X251bUJpdHMrKztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZWxldGUgY29udGV4dF9kaWN0aW9uYXJ5VG9DcmVhdGVbY29udGV4dF93XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZSA9IGNvbnRleHRfZGljdGlvbmFyeVtjb250ZXh0X3ddO1xuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbnRleHRfbnVtQml0czsgaSsrKSB7XG4gICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gY29udGV4dF9kYXRhX3ZhbCA8PCAxIHwgdmFsdWUgJiAxO1xuXG4gICAgICAgICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IDE1KSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9zdHJpbmcgKz0gZihjb250ZXh0X2RhdGFfdmFsKTtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA+PiAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHRfZW5sYXJnZUluLS07XG5cbiAgICAgICAgaWYgKGNvbnRleHRfZW5sYXJnZUluID09IDApIHtcbiAgICAgICAgICBjb250ZXh0X2VubGFyZ2VJbiA9IE1hdGgucG93KDIsIGNvbnRleHRfbnVtQml0cyk7XG4gICAgICAgICAgY29udGV4dF9udW1CaXRzKys7XG4gICAgICAgIH0gLy8gQWRkIHdjIHRvIHRoZSBkaWN0aW9uYXJ5LlxuXG5cbiAgICAgICAgY29udGV4dF9kaWN0aW9uYXJ5W2NvbnRleHRfd2NdID0gY29udGV4dF9kaWN0U2l6ZSsrO1xuICAgICAgICBjb250ZXh0X3cgPSBTdHJpbmcoY29udGV4dF9jKTtcbiAgICAgIH1cbiAgICB9IC8vIE91dHB1dCB0aGUgY29kZSBmb3Igdy5cblxuXG4gICAgaWYgKGNvbnRleHRfdyAhPT0gJycpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY29udGV4dF9kaWN0aW9uYXJ5VG9DcmVhdGUsIGNvbnRleHRfdykpIHtcbiAgICAgICAgaWYgKGNvbnRleHRfdy5jaGFyQ29kZUF0KDApIDwgMjU2KSB7XG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbnRleHRfbnVtQml0czsgaSsrKSB7XG4gICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gY29udGV4dF9kYXRhX3ZhbCA8PCAxO1xuXG4gICAgICAgICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IDE1KSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9zdHJpbmcgKz0gZihjb250ZXh0X2RhdGFfdmFsKTtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YWx1ZSA9IGNvbnRleHRfdy5jaGFyQ29kZUF0KDApO1xuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IDg7IGkrKykge1xuICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IGNvbnRleHRfZGF0YV92YWwgPDwgMSB8IHZhbHVlICYgMTtcblxuICAgICAgICAgICAgaWYgKGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9PSAxNSkge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfc3RyaW5nICs9IGYoY29udGV4dF9kYXRhX3ZhbCk7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgPj4gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUgPSAxO1xuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbnRleHRfbnVtQml0czsgaSsrKSB7XG4gICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gY29udGV4dF9kYXRhX3ZhbCA8PCAxIHwgdmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChjb250ZXh0X2RhdGFfcG9zaXRpb24gPT0gMTUpIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uID0gMDtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3N0cmluZyArPSBmKGNvbnRleHRfZGF0YV92YWwpO1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbisrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWx1ZSA9IDA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFsdWUgPSBjb250ZXh0X3cuY2hhckNvZGVBdCgwKTtcblxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gY29udGV4dF9kYXRhX3ZhbCA8PCAxIHwgdmFsdWUgJiAxO1xuXG4gICAgICAgICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IDE1KSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9zdHJpbmcgKz0gZihjb250ZXh0X2RhdGFfdmFsKTtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA+PiAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHRfZW5sYXJnZUluLS07XG5cbiAgICAgICAgaWYgKGNvbnRleHRfZW5sYXJnZUluID09IDApIHtcbiAgICAgICAgICBjb250ZXh0X2VubGFyZ2VJbiA9IE1hdGgucG93KDIsIGNvbnRleHRfbnVtQml0cyk7XG4gICAgICAgICAgY29udGV4dF9udW1CaXRzKys7XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgY29udGV4dF9kaWN0aW9uYXJ5VG9DcmVhdGVbY29udGV4dF93XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gY29udGV4dF9kaWN0aW9uYXJ5W2NvbnRleHRfd107XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbnRleHRfbnVtQml0czsgaSsrKSB7XG4gICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IGNvbnRleHRfZGF0YV92YWwgPDwgMSB8IHZhbHVlICYgMTtcblxuICAgICAgICAgIGlmIChjb250ZXh0X2RhdGFfcG9zaXRpb24gPT0gMTUpIHtcbiAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICBjb250ZXh0X2RhdGFfc3RyaW5nICs9IGYoY29udGV4dF9kYXRhX3ZhbCk7XG4gICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gMDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZSA+PiAxO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHRfZW5sYXJnZUluLS07XG5cbiAgICAgIGlmIChjb250ZXh0X2VubGFyZ2VJbiA9PSAwKSB7XG4gICAgICAgIGNvbnRleHRfZW5sYXJnZUluID0gTWF0aC5wb3coMiwgY29udGV4dF9udW1CaXRzKTtcbiAgICAgICAgY29udGV4dF9udW1CaXRzKys7XG4gICAgICB9XG4gICAgfSAvLyBNYXJrIHRoZSBlbmQgb2YgdGhlIHN0cmVhbVxuXG5cbiAgICB2YWx1ZSA9IDI7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgY29udGV4dF9udW1CaXRzOyBpKyspIHtcbiAgICAgIGNvbnRleHRfZGF0YV92YWwgPSBjb250ZXh0X2RhdGFfdmFsIDw8IDEgfCB2YWx1ZSAmIDE7XG5cbiAgICAgIGlmIChjb250ZXh0X2RhdGFfcG9zaXRpb24gPT0gMTUpIHtcbiAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uID0gMDtcbiAgICAgICAgY29udGV4dF9kYXRhX3N0cmluZyArPSBmKGNvbnRleHRfZGF0YV92YWwpO1xuICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbisrO1xuICAgICAgfVxuXG4gICAgICB2YWx1ZSA9IHZhbHVlID4+IDE7XG4gICAgfSAvLyBGbHVzaCB0aGUgbGFzdCBjaGFyXG5cblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb250ZXh0X2RhdGFfdmFsID0gY29udGV4dF9kYXRhX3ZhbCA8PCAxO1xuXG4gICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IDE1KSB7XG4gICAgICAgIGNvbnRleHRfZGF0YV9zdHJpbmcgKz0gZihjb250ZXh0X2RhdGFfdmFsKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2UgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRleHRfZGF0YV9zdHJpbmc7XG4gIH07XG4gIHZhciBnZXRLZXlTdHIgPSBmdW5jdGlvbiBnZXRLZXlTdHIoKSB7XG4gICAgdmFyIGtleSA9ICcnO1xuICAgIHZhciBpID0gMDtcblxuICAgIGZvciAoaSA9IDA7IGkgPD0gMjU7IGkrKykge1xuICAgICAga2V5ID0ga2V5ICsgU3RyaW5nLmZyb21DaGFyQ29kZShpICsgNjUpO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPD0gMjU7IGkrKykge1xuICAgICAga2V5ID0ga2V5ICsgU3RyaW5nLmZyb21DaGFyQ29kZShpICsgOTcpO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXkgKyBpO1xuICAgIH1cblxuICAgIHJldHVybiBrZXkgKyAnKy89JztcbiAgfTtcblxuICB2YXIgX2tleVN0ciA9IGdldEtleVN0cigpO1xuICB2YXIgY29tcHJlc3NUb0Jhc2U2NCA9IGZ1bmN0aW9uIGNvbXByZXNzVG9CYXNlNjQoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQgPT0gbnVsbCkgcmV0dXJuICcnO1xuICAgIHZhciBvdXRwdXQgPSAnJztcbiAgICB2YXIgY2hyMSwgY2hyMiwgY2hyMywgZW5jMSwgZW5jMiwgZW5jMywgZW5jNDtcbiAgICB2YXIgaSA9IDA7XG4gICAgaW5wdXQgPSBjb21wcmVzcyhpbnB1dCk7XG5cbiAgICB3aGlsZSAoaSA8IGlucHV0Lmxlbmd0aCAqIDIpIHtcbiAgICAgIGlmIChpICUgMiA9PSAwKSB7XG4gICAgICAgIGNocjEgPSBpbnB1dC5jaGFyQ29kZUF0KGkgLyAyKSA+PiA4O1xuICAgICAgICBjaHIyID0gaW5wdXQuY2hhckNvZGVBdChpIC8gMikgJiAyNTU7XG4gICAgICAgIGlmIChpIC8gMiArIDEgPCBpbnB1dC5sZW5ndGgpIGNocjMgPSBpbnB1dC5jaGFyQ29kZUF0KGkgLyAyICsgMSkgPj4gODtlbHNlIGNocjMgPSBOYU47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaHIxID0gaW5wdXQuY2hhckNvZGVBdCgoaSAtIDEpIC8gMikgJiAyNTU7XG5cbiAgICAgICAgaWYgKChpICsgMSkgLyAyIDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgY2hyMiA9IGlucHV0LmNoYXJDb2RlQXQoKGkgKyAxKSAvIDIpID4+IDg7XG4gICAgICAgICAgY2hyMyA9IGlucHV0LmNoYXJDb2RlQXQoKGkgKyAxKSAvIDIpICYgMjU1O1xuICAgICAgICB9IGVsc2UgY2hyMiA9IGNocjMgPSBOYU47XG4gICAgICB9XG5cbiAgICAgIGkgKz0gMztcbiAgICAgIGVuYzEgPSBjaHIxID4+IDI7XG4gICAgICBlbmMyID0gKGNocjEgJiAzKSA8PCA0IHwgY2hyMiA+PiA0O1xuICAgICAgZW5jMyA9IChjaHIyICYgMTUpIDw8IDIgfCBjaHIzID4+IDY7XG4gICAgICBlbmM0ID0gY2hyMyAmIDYzO1xuXG4gICAgICBpZiAoaXNOYU4oY2hyMikpIHtcbiAgICAgICAgZW5jMyA9IGVuYzQgPSA2NDtcbiAgICAgIH0gZWxzZSBpZiAoaXNOYU4oY2hyMykpIHtcbiAgICAgICAgZW5jNCA9IDY0O1xuICAgICAgfVxuXG4gICAgICBvdXRwdXQgPSBvdXRwdXQgKyBfa2V5U3RyLmNoYXJBdChlbmMxKSArIF9rZXlTdHIuY2hhckF0KGVuYzIpICsgX2tleVN0ci5jaGFyQXQoZW5jMykgKyBfa2V5U3RyLmNoYXJBdChlbmM0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9O1xuXG4gIHZhciBfZmlyZVJlcXVlc3QgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImZpcmVSZXF1ZXN0XCIpO1xuXG4gIHZhciBfZHJvcFJlcXVlc3REdWVUb09wdE91dCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZHJvcFJlcXVlc3REdWVUb09wdE91dFwiKTtcblxuICB2YXIgX2FkZFVzZUlQVG9SZXF1ZXN0ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJhZGRVc2VJUFRvUmVxdWVzdFwiKTtcblxuICB2YXIgX2FkZEFSUFRvUmVxdWVzdCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYWRkQVJQVG9SZXF1ZXN0XCIpO1xuXG4gIHZhciBSZXF1ZXN0RGlzcGF0Y2hlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVxdWVzdERpc3BhdGNoZXIoKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVxdWVzdERpc3BhdGNoZXIpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhSZXF1ZXN0RGlzcGF0Y2hlciwgbnVsbCwgW3tcbiAgICAgIGtleTogXCJmaXJlUmVxdWVzdFwiLFxuICAgICAgLy8gQU5DSE9SIC0gUmVxdWVzdHMgZ2V0IGZpcmVkIGZyb20gaGVyZVxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZpcmVSZXF1ZXN0KHVybCwgc2tpcEFSUCwgc2VuZE9VTEZsYWcpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9maXJlUmVxdWVzdClbX2ZpcmVSZXF1ZXN0XSh1cmwsIDEsIHNraXBBUlAsIHNlbmRPVUxGbGFnKTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUmVxdWVzdERpc3BhdGNoZXI7XG4gIH0oKTtcblxuICB2YXIgX2FkZEFSUFRvUmVxdWVzdDIgPSBmdW5jdGlvbiBfYWRkQVJQVG9SZXF1ZXN0Mih1cmwsIHNraXBSZXNBUlApIHtcbiAgICBpZiAoc2tpcFJlc0FSUCA9PT0gdHJ1ZSkge1xuICAgICAgdmFyIF9hcnAgPSB7fTtcbiAgICAgIF9hcnAuc2tpcFJlc0FSUCA9IHRydWU7XG4gICAgICByZXR1cm4gYWRkVG9VUkwodXJsLCAnYXJwJywgY29tcHJlc3NEYXRhKEpTT04uc3RyaW5naWZ5KF9hcnApLCB0aGlzLmxvZ2dlcikpO1xuICAgIH1cblxuICAgIGlmIChTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSAmJiB0eXBlb2YgbG9jYWxTdG9yYWdlLmdldEl0ZW0oQVJQX0NPT0tJRSkgIT09ICd1bmRlZmluZWQnICYmIGxvY2FsU3RvcmFnZS5nZXRJdGVtKEFSUF9DT09LSUUpICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gYWRkVG9VUkwodXJsLCAnYXJwJywgY29tcHJlc3NEYXRhKEpTT04uc3RyaW5naWZ5KFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShBUlBfQ09PS0lFKSksIHRoaXMubG9nZ2VyKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVybDtcbiAgfTtcblxuICB2YXIgX2FkZFVzZUlQVG9SZXF1ZXN0MiA9IGZ1bmN0aW9uIF9hZGRVc2VJUFRvUmVxdWVzdDIocGFnZUxvYWRVcmwpIHtcbiAgICB2YXIgdXNlSVAgPSBTdG9yYWdlTWFuYWdlci5nZXRNZXRhUHJvcChVU0VJUF9LRVkpO1xuXG4gICAgaWYgKHR5cGVvZiB1c2VJUCAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB1c2VJUCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBhZGRUb1VSTChwYWdlTG9hZFVybCwgVVNFSVBfS0VZLCB1c2VJUCA/ICd0cnVlJyA6ICdmYWxzZScpO1xuICB9O1xuXG4gIHZhciBfZHJvcFJlcXVlc3REdWVUb09wdE91dDIgPSBmdW5jdGlvbiBfZHJvcFJlcXVlc3REdWVUb09wdE91dDIoKSB7XG4gICAgaWYgKCRjdC5pc09wdEluUmVxdWVzdCB8fCAhaXNWYWx1ZVZhbGlkKHRoaXMuZGV2aWNlLmdjb29raWUpIHx8ICFpc1N0cmluZyh0aGlzLmRldmljZS5nY29va2llKSkge1xuICAgICAgJGN0LmlzT3B0SW5SZXF1ZXN0ID0gZmFsc2U7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZGV2aWNlLmdjb29raWUuc2xpY2UoLTMpID09PSBPUFRPVVRfQ09PS0lFX0VORFNXSVRIO1xuICB9O1xuXG4gIHZhciBfZmlyZVJlcXVlc3QyID0gZnVuY3Rpb24gX2ZpcmVSZXF1ZXN0Mih1cmwsIHRyaWVzLCBza2lwQVJQLCBzZW5kT1VMRmxhZykge1xuICAgIHZhciBfdGhpcyA9IHRoaXMsXG4gICAgICAgIF93aW5kb3ckY2xldmVydGFwLFxuICAgICAgICBfd2luZG93JHdpenJvY2tldDtcblxuICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2Ryb3BSZXF1ZXN0RHVlVG9PcHRPdXQpW19kcm9wUmVxdWVzdER1ZVRvT3B0T3V0XSgpKSB7XG4gICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygncmVxIGRyb3BwZWQgZHVlIHRvIG9wdG91dCBjb29raWU6ICcgKyB0aGlzLmRldmljZS5nY29va2llKTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIHNldCBhIHJlcXVlc3QgaW4gcHJvZ3Jlc3NcbiAgICAvLyBzbyB0aGF0IGlmIGdjb29raWUgaXMgbm90IHByZXNlbnQsIG5vIG90aGVyIHJlcXVlc3QgY2FuIGJlIG1hZGUgYXN5bmNocm9udXNseVxuXG5cbiAgICBpZiAoIWlzVmFsdWVWYWxpZCh0aGlzLmRldmljZS5nY29va2llKSkge1xuICAgICAgJGN0LmJsb2NrUmVxdWVzdCA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGlmIHRoZSBnY29va2llIGlzIG51bGxcbiAgICAgKiBhbmQgdGhlIHJlcXVlc3QgaXMgbm90IHRoZSBmaXJzdCByZXF1ZXN0XG4gICAgICogYW5kIHRoZSB0cmllcyBhcmUgbGVzcyB0aGFuIG1heCB0cmllc1xuICAgICAqIGtlZXAgcmV0cnlpbmdcbiAgICAgKi9cblxuXG4gICAgaWYgKCFpc1ZhbHVlVmFsaWQodGhpcy5kZXZpY2UuZ2Nvb2tpZSkgJiYgJGN0Lmdsb2JhbENhY2hlLlJFU1BfTiA8ICRjdC5nbG9iYWxDYWNoZS5SRVFfTiAtIDEgJiYgdHJpZXMgPCBNQVhfVFJJRVMpIHtcbiAgICAgIC8vIGlmIG9uZ29pbmcgRmlyc3QgUmVxdWVzdCBpcyBpbiBwcm9ncmVzcywgaW5pdGlhdGUgcmV0cnlcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5sb2dnZXIuZGVidWcoXCJyZXRyeWluZyBmaXJlIHJlcXVlc3QgZm9yIHVybDogXCIuY29uY2F0KHVybCwgXCIsIHRyaWVzOiBcIikuY29uY2F0KHRyaWVzKSk7XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF90aGlzLCBfZmlyZVJlcXVlc3QpW19maXJlUmVxdWVzdF0odXJsLCB0cmllcyArIDEsIHNraXBBUlAsIHNlbmRPVUxGbGFnKTtcbiAgICAgIH0sIDUwKTtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIHNldCBpc09VTEluUHJvZ3Jlc3MgdG8gdHJ1ZVxuICAgIC8vIHdoZW4gc2VuZE9VTEZsYWcgaXMgc2V0IHRvIHRydWVcblxuXG4gICAgaWYgKCFzZW5kT1VMRmxhZykge1xuICAgICAgaWYgKGlzVmFsdWVWYWxpZCh0aGlzLmRldmljZS5nY29va2llKSkge1xuICAgICAgICAvLyBhZGQgZ2Nvb2tpZSB0byB1cmxcbiAgICAgICAgdXJsID0gYWRkVG9VUkwodXJsLCAnZ2MnLCB0aGlzLmRldmljZS5nY29va2llKTtcbiAgICAgIH1cblxuICAgICAgdXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hZGRBUlBUb1JlcXVlc3QpW19hZGRBUlBUb1JlcXVlc3RdKHVybCwgc2tpcEFSUCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5pc09VTEluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgIH1cblxuICAgIHVybCA9IGFkZFRvVVJMKHVybCwgJ3RyaWVzJywgdHJpZXMpOyAvLyBBZGQgdHJpZXMgdG8gVVJMXG5cbiAgICB1cmwgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FkZFVzZUlQVG9SZXF1ZXN0KVtfYWRkVXNlSVBUb1JlcXVlc3RdKHVybCk7XG4gICAgdXJsID0gYWRkVG9VUkwodXJsLCAncicsIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTsgLy8gYWRkIGVwb2NoIHRvIGJlYXQgY2FjaGluZyBvZiB0aGUgVVJMXG4gICAgLy8gVE9ETzogRmlndXJlIG91dCBhIGJldHRlciB3YXkgdG8gaGFuZGxlIHBsdWdpbiBjaGVja1xuXG4gICAgaWYgKCgoX3dpbmRvdyRjbGV2ZXJ0YXAgPSB3aW5kb3cuY2xldmVydGFwKSA9PT0gbnVsbCB8fCBfd2luZG93JGNsZXZlcnRhcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3dpbmRvdyRjbGV2ZXJ0YXAuaGFzT3duUHJvcGVydHkoJ3BsdWdpbicpKSB8fCAoKF93aW5kb3ckd2l6cm9ja2V0ID0gd2luZG93LndpenJvY2tldCkgPT09IG51bGwgfHwgX3dpbmRvdyR3aXpyb2NrZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF93aW5kb3ckd2l6cm9ja2V0Lmhhc093blByb3BlcnR5KCdwbHVnaW4nKSkpIHtcbiAgICAgIC8vIHVzZWQgdG8gYWRkIHBsdWdpbiBuYW1lIGluIHJlcXVlc3QgcGFyYW1ldGVyXG4gICAgICB2YXIgcGx1Z2luID0gd2luZG93LmNsZXZlcnRhcC5wbHVnaW4gfHwgd2luZG93LndpenJvY2tldC5wbHVnaW47XG4gICAgICB1cmwgPSBhZGRUb1VSTCh1cmwsICdjdF9wbCcsIHBsdWdpbik7XG4gICAgfVxuXG4gICAgaWYgKHVybC5pbmRleE9mKCdjaHJvbWUtZXh0ZW5zaW9uOicpICE9PSAtMSkge1xuICAgICAgdXJsID0gdXJsLnJlcGxhY2UoJ2Nocm9tZS1leHRlbnNpb246JywgJ2h0dHBzOicpO1xuICAgIH0gLy8gVE9ETzogVHJ5IHVzaW5nIEZ1bmN0aW9uIGNvbnN0cnVjdG9yIGluc3RlYWQgb2YgYXBwZW5kaW5nIHNjcmlwdC5cblxuXG4gICAgdmFyIGN0Q2JTY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY3QtanAtY2InKTtcblxuICAgIHdoaWxlIChjdENiU2NyaXB0c1swXSkge1xuICAgICAgY3RDYlNjcmlwdHNbMF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjdENiU2NyaXB0c1swXSk7XG4gICAgfVxuXG4gICAgdmFyIHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBzLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2phdmFzY3JpcHQnKTtcbiAgICBzLnNldEF0dHJpYnV0ZSgnc3JjJywgdXJsKTtcbiAgICBzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY3QtanAtY2InKTtcbiAgICBzLnNldEF0dHJpYnV0ZSgncmVsJywgJ25vZm9sbG93Jyk7XG4gICAgcy5hc3luYyA9IHRydWU7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChzKTtcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZygncmVxIHNudCAtPiB1cmw6ICcgKyB1cmwpO1xuICB9O1xuXG4gIFJlcXVlc3REaXNwYXRjaGVyLmxvZ2dlciA9IHZvaWQgMDtcbiAgUmVxdWVzdERpc3BhdGNoZXIuZGV2aWNlID0gdm9pZCAwO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVxdWVzdERpc3BhdGNoZXIsIF9maXJlUmVxdWVzdCwge1xuICAgIHZhbHVlOiBfZmlyZVJlcXVlc3QyXG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVxdWVzdERpc3BhdGNoZXIsIF9kcm9wUmVxdWVzdER1ZVRvT3B0T3V0LCB7XG4gICAgdmFsdWU6IF9kcm9wUmVxdWVzdER1ZVRvT3B0T3V0MlxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlcXVlc3REaXNwYXRjaGVyLCBfYWRkVXNlSVBUb1JlcXVlc3QsIHtcbiAgICB2YWx1ZTogX2FkZFVzZUlQVG9SZXF1ZXN0MlxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlcXVlc3REaXNwYXRjaGVyLCBfYWRkQVJQVG9SZXF1ZXN0LCB7XG4gICAgdmFsdWU6IF9hZGRBUlBUb1JlcXVlc3QyXG4gIH0pO1xuXG4gIC8vIENsZXZlclRhcCBzcGVjaWZpYyB1dGlsaXRpZXNcbiAgdmFyIGdldENhbXBhaWduT2JqZWN0ID0gZnVuY3Rpb24gZ2V0Q2FtcGFpZ25PYmplY3QoKSB7XG4gICAgdmFyIGNhbXBPYmogPSB7fTtcblxuICAgIGlmIChTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgY2FtcE9iaiA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWQoQ0FNUF9DT09LSUVfTkFNRSk7XG5cbiAgICAgIGlmIChjYW1wT2JqICE9IG51bGwpIHtcbiAgICAgICAgY2FtcE9iaiA9IEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KGNhbXBPYmopLnJlcGxhY2Uoc2luZ2xlUXVvdGVSZWdleCwgJ1xcXCInKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYW1wT2JqID0ge307XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhbXBPYmo7XG4gIH07XG4gIHZhciBzYXZlQ2FtcGFpZ25PYmplY3QgPSBmdW5jdGlvbiBzYXZlQ2FtcGFpZ25PYmplY3QoY2FtcGFpZ25PYmopIHtcbiAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgIHZhciBjYW1wT2JqID0gSlNPTi5zdHJpbmdpZnkoY2FtcGFpZ25PYmopO1xuICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZShDQU1QX0NPT0tJRV9OQU1FLCBlbmNvZGVVUklDb21wb25lbnQoY2FtcE9iaikpO1xuICAgIH1cbiAgfTtcbiAgdmFyIGdldENhbXBhaWduT2JqRm9yTGMgPSBmdW5jdGlvbiBnZXRDYW1wYWlnbk9iakZvckxjKCkge1xuICAgIHZhciBjYW1wT2JqID0ge307XG5cbiAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgIGNhbXBPYmogPSBnZXRDYW1wYWlnbk9iamVjdCgpO1xuICAgICAgdmFyIHJlc3VsdE9iaiA9IFtdO1xuICAgICAgdmFyIGdsb2JhbE9iaiA9IGNhbXBPYmouZ2xvYmFsO1xuICAgICAgdmFyIHRvZGF5ID0gZ2V0VG9kYXkoKTtcbiAgICAgIHZhciBkYWlseU9iaiA9IGNhbXBPYmpbdG9kYXldO1xuXG4gICAgICBpZiAodHlwZW9mIGdsb2JhbE9iaiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGNhbXBhaWduSWRBcnJheSA9IE9iamVjdC5rZXlzKGdsb2JhbE9iaik7XG5cbiAgICAgICAgZm9yICh2YXIgaW5kZXggaW4gY2FtcGFpZ25JZEFycmF5KSB7XG4gICAgICAgICAgaWYgKGNhbXBhaWduSWRBcnJheS5oYXNPd25Qcm9wZXJ0eShpbmRleCkpIHtcbiAgICAgICAgICAgIHZhciBkYWlseUMgPSAwO1xuICAgICAgICAgICAgdmFyIHRvdGFsQyA9IDA7XG4gICAgICAgICAgICB2YXIgY2FtcGFpZ25JZCA9IGNhbXBhaWduSWRBcnJheVtpbmRleF07XG5cbiAgICAgICAgICAgIGlmIChjYW1wYWlnbklkID09PSAndGMnKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGRhaWx5T2JqICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZGFpbHlPYmpbY2FtcGFpZ25JZF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIGRhaWx5QyA9IGRhaWx5T2JqW2NhbXBhaWduSWRdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGdsb2JhbE9iaiAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGdsb2JhbE9ialtjYW1wYWlnbklkXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgdG90YWxDID0gZ2xvYmFsT2JqW2NhbXBhaWduSWRdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IFtjYW1wYWlnbklkLCBkYWlseUMsIHRvdGFsQ107XG4gICAgICAgICAgICByZXN1bHRPYmoucHVzaChlbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHRvZGF5QyA9IDA7XG5cbiAgICAgIGlmICh0eXBlb2YgZGFpbHlPYmogIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkYWlseU9iai50YyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdG9kYXlDID0gZGFpbHlPYmoudGM7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdE9iaiA9IHtcbiAgICAgICAgd21wOiB0b2RheUMsXG4gICAgICAgIHRsYzogcmVzdWx0T2JqXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHJlc3VsdE9iajtcbiAgICB9XG4gIH07XG4gIHZhciBpc1Byb2ZpbGVWYWxpZCA9IGZ1bmN0aW9uIGlzUHJvZmlsZVZhbGlkKHByb2ZpbGVPYmosIF9yZWYpIHtcbiAgICB2YXIgbG9nZ2VyID0gX3JlZi5sb2dnZXI7XG4gICAgdmFyIHZhbGlkID0gZmFsc2U7XG5cbiAgICBpZiAoaXNPYmplY3QocHJvZmlsZU9iaikpIHtcbiAgICAgIGZvciAodmFyIHByb2ZpbGVLZXkgaW4gcHJvZmlsZU9iaikge1xuICAgICAgICBpZiAocHJvZmlsZU9iai5oYXNPd25Qcm9wZXJ0eShwcm9maWxlS2V5KSkge1xuICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICB2YXIgcHJvZmlsZVZhbCA9IHByb2ZpbGVPYmpbcHJvZmlsZUtleV07XG5cbiAgICAgICAgICBpZiAocHJvZmlsZVZhbCA9PSBudWxsKSB7XG4gICAgICAgICAgICBkZWxldGUgcHJvZmlsZU9ialtwcm9maWxlS2V5XTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwcm9maWxlS2V5ID09PSAnR2VuZGVyJyAmJiAhcHJvZmlsZVZhbC5tYXRjaCgvXk0kfF5GJC8pKSB7XG4gICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKEdFTkRFUl9FUlJPUik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHByb2ZpbGVLZXkgPT09ICdFbXBsb3llZCcgJiYgIXByb2ZpbGVWYWwubWF0Y2goL15ZJHxeTiQvKSkge1xuICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihFTVBMT1lFRF9FUlJPUik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHByb2ZpbGVLZXkgPT09ICdNYXJyaWVkJyAmJiAhcHJvZmlsZVZhbC5tYXRjaCgvXlkkfF5OJC8pKSB7XG4gICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKE1BUlJJRURfRVJST1IpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwcm9maWxlS2V5ID09PSAnRWR1Y2F0aW9uJyAmJiAhcHJvZmlsZVZhbC5tYXRjaCgvXlNjaG9vbCR8XkNvbGxlZ2UkfF5HcmFkdWF0ZSQvKSkge1xuICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihFRFVDQVRJT05fRVJST1IpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwcm9maWxlS2V5ID09PSAnQWdlJyAmJiBwcm9maWxlVmFsICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChpc0NvbnZlcnRpYmxlVG9OdW1iZXIocHJvZmlsZVZhbCkpIHtcbiAgICAgICAgICAgICAgcHJvZmlsZU9iai5BZ2UgPSArcHJvZmlsZVZhbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihBR0VfRVJST1IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy8gZG9iIHdpbGwgY29tZSBpbiBsaWtlIHRoaXMgLSAkZHRfMTk0NzA4MTUgb3IgZGF0ZU9iamVjdFxuXG5cbiAgICAgICAgICBpZiAocHJvZmlsZUtleSA9PT0gJ0RPQicpIHtcbiAgICAgICAgICAgIGlmICgoIS9eXFwkRF8vLnRlc3QocHJvZmlsZVZhbCkgfHwgKHByb2ZpbGVWYWwgKyAnJykubGVuZ3RoICE9PSAxMSkgJiYgIWlzRGF0ZU9iamVjdChwcm9maWxlVmFsKSkge1xuICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoRE9CX0VSUk9SKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzRGF0ZU9iamVjdChwcm9maWxlVmFsKSkge1xuICAgICAgICAgICAgICBwcm9maWxlT2JqW3Byb2ZpbGVLZXldID0gY29udmVydFRvV1pSS0RhdGUocHJvZmlsZVZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChpc0RhdGVPYmplY3QocHJvZmlsZVZhbCkpIHtcbiAgICAgICAgICAgIHByb2ZpbGVPYmpbcHJvZmlsZUtleV0gPSBjb252ZXJ0VG9XWlJLRGF0ZShwcm9maWxlVmFsKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocHJvZmlsZUtleSA9PT0gJ1Bob25lJyAmJiAhaXNPYmplY3RFbXB0eShwcm9maWxlVmFsKSkge1xuICAgICAgICAgICAgaWYgKHByb2ZpbGVWYWwubGVuZ3RoID4gOCAmJiBwcm9maWxlVmFsLmNoYXJBdCgwKSA9PT0gJysnKSB7XG4gICAgICAgICAgICAgIC8vIHZhbGlkIHBob25lIG51bWJlclxuICAgICAgICAgICAgICBwcm9maWxlVmFsID0gcHJvZmlsZVZhbC5zdWJzdHJpbmcoMSwgcHJvZmlsZVZhbC5sZW5ndGgpO1xuXG4gICAgICAgICAgICAgIGlmIChpc0NvbnZlcnRpYmxlVG9OdW1iZXIocHJvZmlsZVZhbCkpIHtcbiAgICAgICAgICAgICAgICBwcm9maWxlT2JqLlBob25lID0gK3Byb2ZpbGVWYWw7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoUEhPTkVfRk9STUFUX0VSUk9SICsgJy4gUmVtb3ZlZC4nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKFBIT05FX0ZPUk1BVF9FUlJPUiArICcuIFJlbW92ZWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCF2YWxpZCkge1xuICAgICAgICAgICAgZGVsZXRlIHByb2ZpbGVPYmpbcHJvZmlsZUtleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbGlkO1xuICB9O1xuICB2YXIgcHJvY2Vzc0ZCVXNlck9iaiA9IGZ1bmN0aW9uIHByb2Nlc3NGQlVzZXJPYmoodXNlcikge1xuICAgIHZhciBwcm9maWxlRGF0YSA9IHt9O1xuICAgIHByb2ZpbGVEYXRhLk5hbWUgPSB1c2VyLm5hbWU7XG5cbiAgICBpZiAodXNlci5pZCAhPSBudWxsKSB7XG4gICAgICBwcm9maWxlRGF0YS5GQklEID0gdXNlci5pZCArICcnO1xuICAgIH0gLy8gRmViIDIwMTQgLSBGQiBhbm5vdW5jZWQgb3ZlciA1OCBnZW5kZXIgb3B0aW9ucywgaGVuY2Ugd2Ugc3BlY2lmaWNhbGx5IGxvb2sgZm9yIG1hbGUgb3IgZmVtYWxlLiBSZXN0IHdlIGRvbid0IGNhcmUuXG5cblxuICAgIGlmICh1c2VyLmdlbmRlciA9PT0gJ21hbGUnKSB7XG4gICAgICBwcm9maWxlRGF0YS5HZW5kZXIgPSAnTSc7XG4gICAgfSBlbHNlIGlmICh1c2VyLmdlbmRlciA9PT0gJ2ZlbWFsZScpIHtcbiAgICAgIHByb2ZpbGVEYXRhLkdlbmRlciA9ICdGJztcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvZmlsZURhdGEuR2VuZGVyID0gJ08nO1xuICAgIH1cblxuICAgIHZhciBnZXRIaWdoZXN0RWR1Y2F0aW9uID0gZnVuY3Rpb24gZ2V0SGlnaGVzdEVkdWNhdGlvbihlZHVBcnIpIHtcbiAgICAgIGlmIChlZHVBcnIgIT0gbnVsbCkge1xuICAgICAgICB2YXIgY29sbGVnZSA9ICcnO1xuICAgICAgICB2YXIgaGlnaHNjaG9vbCA9ICcnO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWR1QXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIF9lZHUgPSBlZHVBcnJbaV07XG5cbiAgICAgICAgICBpZiAoX2VkdS50eXBlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciB0eXBlID0gX2VkdS50eXBlO1xuXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ0dyYWR1YXRlIFNjaG9vbCcpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICdHcmFkdWF0ZSc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdDb2xsZWdlJykge1xuICAgICAgICAgICAgICBjb2xsZWdlID0gJzEnO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnSGlnaCBTY2hvb2wnKSB7XG4gICAgICAgICAgICAgIGhpZ2hzY2hvb2wgPSAnMSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbGxlZ2UgPT09ICcxJykge1xuICAgICAgICAgIHJldHVybiAnQ29sbGVnZSc7XG4gICAgICAgIH0gZWxzZSBpZiAoaGlnaHNjaG9vbCA9PT0gJzEnKSB7XG4gICAgICAgICAgcmV0dXJuICdTY2hvb2wnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh1c2VyLnJlbGF0aW9uc2hpcF9zdGF0dXMgIT0gbnVsbCkge1xuICAgICAgcHJvZmlsZURhdGEuTWFycmllZCA9ICdOJztcblxuICAgICAgaWYgKHVzZXIucmVsYXRpb25zaGlwX3N0YXR1cyA9PT0gJ01hcnJpZWQnKSB7XG4gICAgICAgIHByb2ZpbGVEYXRhLk1hcnJpZWQgPSAnWSc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGVkdSA9IGdldEhpZ2hlc3RFZHVjYXRpb24odXNlci5lZHVjYXRpb24pO1xuXG4gICAgaWYgKGVkdSAhPSBudWxsKSB7XG4gICAgICBwcm9maWxlRGF0YS5FZHVjYXRpb24gPSBlZHU7XG4gICAgfVxuXG4gICAgdmFyIHdvcmsgPSB1c2VyLndvcmsgIT0gbnVsbCA/IHVzZXIud29yay5sZW5ndGggOiAwO1xuXG4gICAgaWYgKHdvcmsgPiAwKSB7XG4gICAgICBwcm9maWxlRGF0YS5FbXBsb3llZCA9ICdZJztcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvZmlsZURhdGEuRW1wbG95ZWQgPSAnTic7XG4gICAgfVxuXG4gICAgaWYgKHVzZXIuZW1haWwgIT0gbnVsbCkge1xuICAgICAgcHJvZmlsZURhdGEuRW1haWwgPSB1c2VyLmVtYWlsO1xuICAgIH1cblxuICAgIGlmICh1c2VyLmJpcnRoZGF5ICE9IG51bGwpIHtcbiAgICAgIHZhciBtbWRkeXkgPSB1c2VyLmJpcnRoZGF5LnNwbGl0KCcvJyk7IC8vIGNvbWVzIGluIGFzIFwiMDgvMTUvMTk0N1wiXG5cbiAgICAgIHByb2ZpbGVEYXRhLkRPQiA9IHNldERhdGUobW1kZHl5WzJdICsgbW1kZHl5WzBdICsgbW1kZHl5WzFdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvZmlsZURhdGE7XG4gIH07XG4gIHZhciBwcm9jZXNzR1BsdXNVc2VyT2JqID0gZnVuY3Rpb24gcHJvY2Vzc0dQbHVzVXNlck9iaih1c2VyLCBfcmVmMikge1xuICAgIHZhciBsb2dnZXIgPSBfcmVmMi5sb2dnZXI7XG4gICAgdmFyIHByb2ZpbGVEYXRhID0ge307XG5cbiAgICBpZiAodXNlci5kaXNwbGF5TmFtZSAhPSBudWxsKSB7XG4gICAgICBwcm9maWxlRGF0YS5OYW1lID0gdXNlci5kaXNwbGF5TmFtZTtcbiAgICB9XG5cbiAgICBpZiAodXNlci5pZCAhPSBudWxsKSB7XG4gICAgICBwcm9maWxlRGF0YS5HUElEID0gdXNlci5pZCArICcnO1xuICAgIH1cblxuICAgIGlmICh1c2VyLmdlbmRlciAhPSBudWxsKSB7XG4gICAgICBpZiAodXNlci5nZW5kZXIgPT09ICdtYWxlJykge1xuICAgICAgICBwcm9maWxlRGF0YS5HZW5kZXIgPSAnTSc7XG4gICAgICB9IGVsc2UgaWYgKHVzZXIuZ2VuZGVyID09PSAnZmVtYWxlJykge1xuICAgICAgICBwcm9maWxlRGF0YS5HZW5kZXIgPSAnRic7XG4gICAgICB9IGVsc2UgaWYgKHVzZXIuZ2VuZGVyID09PSAnb3RoZXInKSB7XG4gICAgICAgIHByb2ZpbGVEYXRhLkdlbmRlciA9ICdPJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXNlci5pbWFnZSAhPSBudWxsKSB7XG4gICAgICBpZiAodXNlci5pbWFnZS5pc0RlZmF1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgIHByb2ZpbGVEYXRhLlBob3RvID0gdXNlci5pbWFnZS51cmwuc3BsaXQoJz9zeicpWzBdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1c2VyLmVtYWlscyAhPSBudWxsKSB7XG4gICAgICBmb3IgKHZhciBlbWFpbElkeCA9IDA7IGVtYWlsSWR4IDwgdXNlci5lbWFpbHMubGVuZ3RoOyBlbWFpbElkeCsrKSB7XG4gICAgICAgIHZhciBlbWFpbE9iaiA9IHVzZXIuZW1haWxzW2VtYWlsSWR4XTtcblxuICAgICAgICBpZiAoZW1haWxPYmoudHlwZSA9PT0gJ2FjY291bnQnKSB7XG4gICAgICAgICAgcHJvZmlsZURhdGEuRW1haWwgPSBlbWFpbE9iai52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1c2VyLm9yZ2FuaXphdGlvbnMgIT0gbnVsbCkge1xuICAgICAgcHJvZmlsZURhdGEuRW1wbG95ZWQgPSAnTic7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdXNlci5vcmdhbml6YXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBvcmdPYmogPSB1c2VyLm9yZ2FuaXphdGlvbnNbaV07XG5cbiAgICAgICAgaWYgKG9yZ09iai50eXBlID09PSAnd29yaycpIHtcbiAgICAgICAgICBwcm9maWxlRGF0YS5FbXBsb3llZCA9ICdZJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1c2VyLmJpcnRoZGF5ICE9IG51bGwpIHtcbiAgICAgIHZhciB5eXl5bW1kZCA9IHVzZXIuYmlydGhkYXkuc3BsaXQoJy0nKTsgLy8gY29tZXMgaW4gYXMgXCIxOTc2LTA3LTI3XCJcblxuICAgICAgcHJvZmlsZURhdGEuRE9CID0gc2V0RGF0ZSh5eXl5bW1kZFswXSArIHl5eXltbWRkWzFdICsgeXl5eW1tZGRbMl0pO1xuICAgIH1cblxuICAgIGlmICh1c2VyLnJlbGF0aW9uc2hpcFN0YXR1cyAhPSBudWxsKSB7XG4gICAgICBwcm9maWxlRGF0YS5NYXJyaWVkID0gJ04nO1xuXG4gICAgICBpZiAodXNlci5yZWxhdGlvbnNoaXBTdGF0dXMgPT09ICdtYXJyaWVkJykge1xuICAgICAgICBwcm9maWxlRGF0YS5NYXJyaWVkID0gJ1knO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxvZ2dlci5kZWJ1ZygnZ3BsdXMgdXNyIHByb2ZpbGUgJyArIEpTT04uc3RyaW5naWZ5KHByb2ZpbGVEYXRhKSk7XG4gICAgcmV0dXJuIHByb2ZpbGVEYXRhO1xuICB9O1xuICB2YXIgYWRkVG9Mb2NhbFByb2ZpbGVNYXAgPSBmdW5jdGlvbiBhZGRUb0xvY2FsUHJvZmlsZU1hcChwcm9maWxlT2JqLCBvdmVycmlkZSkge1xuICAgIGlmIChTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwID09IG51bGwpIHtcbiAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoUFJfQ09PS0lFKTtcblxuICAgICAgICBpZiAoJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPT0gbnVsbCkge1xuICAgICAgICAgICRjdC5nbG9iYWxQcm9maWxlTWFwID0ge307XG4gICAgICAgIH1cbiAgICAgIH0gLy8gTW92ZSBwcm9wcyBmcm9tIGN1c3RvbSBidWNrZXQgdG8gb3V0c2lkZS5cblxuXG4gICAgICBpZiAocHJvZmlsZU9iai5fY3VzdG9tICE9IG51bGwpIHtcbiAgICAgICAgdmFyIGtleXMgPSBwcm9maWxlT2JqLl9jdXN0b207XG5cbiAgICAgICAgZm9yICh2YXIga2V5IGluIGtleXMpIHtcbiAgICAgICAgICBpZiAoa2V5cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICBwcm9maWxlT2JqW2tleV0gPSBrZXlzW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHByb2ZpbGVPYmouX2N1c3RvbTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgcHJvcCBpbiBwcm9maWxlT2JqKSB7XG4gICAgICAgIGlmIChwcm9maWxlT2JqLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwLmhhc093blByb3BlcnR5KHByb3ApICYmICFvdmVycmlkZSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXBbcHJvcF0gPSBwcm9maWxlT2JqW3Byb3BdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcC5fY3VzdG9tICE9IG51bGwpIHtcbiAgICAgICAgZGVsZXRlICRjdC5nbG9iYWxQcm9maWxlTWFwLl9jdXN0b207XG4gICAgICB9XG5cbiAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoUFJfQ09PS0lFLCAkY3QuZ2xvYmFsUHJvZmlsZU1hcCk7XG4gICAgfVxuICB9O1xuICB2YXIgY2xvc2VJZnJhbWUgPSBmdW5jdGlvbiBjbG9zZUlmcmFtZShjYW1wYWlnbklkLCBkaXZJZElnbm9yZWQsIGN1cnJlbnRTZXNzaW9uSWQpIHtcbiAgICBpZiAoY2FtcGFpZ25JZCAhPSBudWxsICYmIGNhbXBhaWduSWQgIT09ICctMScpIHtcbiAgICAgIGlmIChTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgICB2YXIgY2FtcGFpZ25PYmogPSBnZXRDYW1wYWlnbk9iamVjdCgpO1xuICAgICAgICB2YXIgc2Vzc2lvbkNhbXBhaWduT2JqID0gY2FtcGFpZ25PYmpbY3VycmVudFNlc3Npb25JZF07XG5cbiAgICAgICAgaWYgKHNlc3Npb25DYW1wYWlnbk9iaiA9PSBudWxsKSB7XG4gICAgICAgICAgc2Vzc2lvbkNhbXBhaWduT2JqID0ge307XG4gICAgICAgICAgY2FtcGFpZ25PYmpbY3VycmVudFNlc3Npb25JZF0gPSBzZXNzaW9uQ2FtcGFpZ25PYmo7XG4gICAgICAgIH1cblxuICAgICAgICBzZXNzaW9uQ2FtcGFpZ25PYmpbY2FtcGFpZ25JZF0gPSAnZG5kJztcbiAgICAgICAgc2F2ZUNhbXBhaWduT2JqZWN0KGNhbXBhaWduT2JqKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoJGN0LmNhbXBhaWduRGl2TWFwICE9IG51bGwpIHtcbiAgICAgIHZhciBkaXZJZCA9ICRjdC5jYW1wYWlnbkRpdk1hcFtjYW1wYWlnbklkXTtcblxuICAgICAgaWYgKGRpdklkICE9IG51bGwpIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2SWQpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgaWYgKGRpdklkID09PSAnaW50ZW50UHJldmlldycpIHtcbiAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludGVudE9wYWNpdHlEaXYnKSAhPSBudWxsKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW50ZW50T3BhY2l0eURpdicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICB2YXIgYXJwID0gZnVuY3Rpb24gYXJwKGpzb25NYXApIHtcbiAgICAvLyBGb3IgdW5yZWdpc3RlciBjYWxscyBkb250IHNldCBhcnAgaW4gTFNcbiAgICBpZiAoanNvbk1hcC5za2lwUmVzQVJQICE9IG51bGwgJiYganNvbk1hcC5za2lwUmVzQVJQKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdVcGRhdGUgQVJQIFJlcXVlc3QgcmVqZWN0ZWQnLCBqc29uTWFwKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBpc09VTEFSUCA9ICEhKGpzb25NYXBbSVNfT1VMXSAhPSBudWxsICYmIGpzb25NYXBbSVNfT1VMXSA9PT0gdHJ1ZSk7XG5cbiAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBhcnBGcm9tU3RvcmFnZSA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShBUlBfQ09PS0lFKTtcblxuICAgICAgICBpZiAoYXJwRnJvbVN0b3JhZ2UgPT0gbnVsbCB8fCBpc09VTEFSUCkge1xuICAgICAgICAgIGFycEZyb21TdG9yYWdlID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBrZXkgaW4ganNvbk1hcCkge1xuICAgICAgICAgIGlmIChqc29uTWFwLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIGlmIChqc29uTWFwW2tleV0gPT09IC0xKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBhcnBGcm9tU3RvcmFnZVtrZXldO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYXJwRnJvbVN0b3JhZ2Vba2V5XSA9IGpzb25NYXBba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEFSUF9DT09LSUUsIGFycEZyb21TdG9yYWdlKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIHBhcnNlIEFSUCBKU09OOiAnICsgZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICB2YXIgc2V0RW51bSA9IGZ1bmN0aW9uIHNldEVudW0oZW51bVZhbCwgbG9nZ2VyKSB7XG4gICAgaWYgKGlzU3RyaW5nKGVudW1WYWwpIHx8IGlzTnVtYmVyKGVudW1WYWwpKSB7XG4gICAgICByZXR1cm4gJyRFXycgKyBlbnVtVmFsO1xuICAgIH1cblxuICAgIGxvZ2dlci5lcnJvcihFTlVNX0ZPUk1BVF9FUlJPUik7XG4gIH07XG4gIHZhciBoYW5kbGVFbWFpbFN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIGhhbmRsZUVtYWlsU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbiwgcmVFbmNvZGVkLCBmZXRjaEdyb3VwcywgYWNjb3VudCwgbG9nZ2VyKSB7XG4gICAgdmFyIHVybFBhcmFtc0FzSXMgPSBnZXRVUkxQYXJhbXMobG9jYXRpb24uaHJlZik7IC8vIGNhbid0IHVzZSB1cmxfcGFyYW1zIGFzIGl0IGlzIGluIGxvd2VyY2FzZSBhYm92ZVxuXG4gICAgdmFyIGVuY29kZWRFbWFpbElkID0gdXJsUGFyYW1zQXNJcy5lO1xuICAgIHZhciBlbmNvZGVkUHJvZmlsZVByb3BzID0gdXJsUGFyYW1zQXNJcy5wO1xuXG4gICAgaWYgKHR5cGVvZiBlbmNvZGVkRW1haWxJZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBkYXRhID0ge307XG4gICAgICBkYXRhLmlkID0gYWNjb3VudC5pZDsgLy8gYWNjb3VudElkXG5cbiAgICAgIGRhdGEudW5zdWJHcm91cHMgPSAkY3QudW5zdWJHcm91cHM7IC8vIHVuc3Vic2NyaWJlIGdyb3Vwc1xuXG4gICAgICBpZiAoJGN0LnVwZGF0ZWRDYXRlZ29yeUxvbmcpIHtcbiAgICAgICAgZGF0YVtjYXRlZ29yeUxvbmdLZXldID0gJGN0LnVwZGF0ZWRDYXRlZ29yeUxvbmc7XG4gICAgICB9XG5cbiAgICAgIHZhciB1cmwgPSBhY2NvdW50LmVtYWlsVVJMO1xuXG4gICAgICBpZiAoZmV0Y2hHcm91cHMpIHtcbiAgICAgICAgdXJsID0gYWRkVG9VUkwodXJsLCAnZmV0Y2hHcm91cHMnLCBmZXRjaEdyb3Vwcyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZUVuY29kZWQpIHtcbiAgICAgICAgdXJsID0gYWRkVG9VUkwodXJsLCAnZW5jb2RlZCcsIHJlRW5jb2RlZCk7XG4gICAgICB9XG5cbiAgICAgIHVybCA9IGFkZFRvVVJMKHVybCwgJ2UnLCBlbmNvZGVkRW1haWxJZCk7XG4gICAgICB1cmwgPSBhZGRUb1VSTCh1cmwsICdkJywgY29tcHJlc3NEYXRhKEpTT04uc3RyaW5naWZ5KGRhdGEpLCBsb2dnZXIpKTtcblxuICAgICAgaWYgKGVuY29kZWRQcm9maWxlUHJvcHMpIHtcbiAgICAgICAgdXJsID0gYWRkVG9VUkwodXJsLCAncCcsIGVuY29kZWRQcm9maWxlUHJvcHMpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3Vic2NyaXB0aW9uICE9PSAnLTEnKSB7XG4gICAgICAgIHVybCA9IGFkZFRvVVJMKHVybCwgJ3N1YicsIHN1YnNjcmlwdGlvbik7XG4gICAgICB9XG5cbiAgICAgIFJlcXVlc3REaXNwYXRjaGVyLmZpcmVSZXF1ZXN0KHVybCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBfbG9nZ2VyJDMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImxvZ2dlclwiKTtcblxuICB2YXIgX3JlcXVlc3QkMiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicmVxdWVzdFwiKTtcblxuICB2YXIgX2FjY291bnQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImFjY291bnRcIik7XG5cbiAgdmFyIF9vbGRWYWx1ZXMkMSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwib2xkVmFsdWVzXCIpO1xuXG4gIHZhciBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiaXNQZXJzb25hbGlzYXRpb25BY3RpdmVcIik7XG5cbiAgdmFyIF9wcm9jZXNzUHJvZmlsZUFycmF5ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJwcm9jZXNzUHJvZmlsZUFycmF5XCIpO1xuXG4gIHZhciBQcm9maWxlSGFuZGxlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0FycmF5KSB7XG4gICAgX2luaGVyaXRzKFByb2ZpbGVIYW5kbGVyLCBfQXJyYXkpO1xuXG4gICAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihQcm9maWxlSGFuZGxlcik7XG5cbiAgICBmdW5jdGlvbiBQcm9maWxlSGFuZGxlcihfcmVmLCB2YWx1ZXMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgdmFyIGxvZ2dlciA9IF9yZWYubG9nZ2VyLFxuICAgICAgICAgIHJlcXVlc3QgPSBfcmVmLnJlcXVlc3QsXG4gICAgICAgICAgYWNjb3VudCA9IF9yZWYuYWNjb3VudCxcbiAgICAgICAgICBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSA9IF9yZWYuaXNQZXJzb25hbGlzYXRpb25BY3RpdmU7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcm9maWxlSGFuZGxlcik7XG5cbiAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIF9wcm9jZXNzUHJvZmlsZUFycmF5LCB7XG4gICAgICAgIHZhbHVlOiBfcHJvY2Vzc1Byb2ZpbGVBcnJheTJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfbG9nZ2VyJDMsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfcmVxdWVzdCQyLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgX2FjY291bnQsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfb2xkVmFsdWVzJDEsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIF9sb2dnZXIkMylbX2xvZ2dlciQzXSA9IGxvZ2dlcjtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgX3JlcXVlc3QkMilbX3JlcXVlc3QkMl0gPSByZXF1ZXN0O1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfYWNjb3VudClbX2FjY291bnRdID0gYWNjb3VudDtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgX29sZFZhbHVlcyQxKVtfb2xkVmFsdWVzJDFdID0gdmFsdWVzO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMSlbX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDFdID0gaXNQZXJzb25hbGlzYXRpb25BY3RpdmU7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFByb2ZpbGVIYW5kbGVyLCBbe1xuICAgICAga2V5OiBcInB1c2hcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBwdXNoKCkge1xuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcHJvZmlsZXNBcnIgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgcHJvZmlsZXNBcnJbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Byb2Nlc3NQcm9maWxlQXJyYXkpW19wcm9jZXNzUHJvZmlsZUFycmF5XShwcm9maWxlc0Fycik7XG5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9wcm9jZXNzT2xkVmFsdWVzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3Byb2Nlc3NPbGRWYWx1ZXMoKSB7XG4gICAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQxKVtfb2xkVmFsdWVzJDFdKSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wcm9jZXNzUHJvZmlsZUFycmF5KVtfcHJvY2Vzc1Byb2ZpbGVBcnJheV0oX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMkMSlbX29sZFZhbHVlcyQxXSk7XG4gICAgICAgIH1cblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQxKVtfb2xkVmFsdWVzJDFdID0gbnVsbDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0QXR0cmlidXRlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QXR0cmlidXRlKHByb3BOYW1lKSB7XG4gICAgICAgIGlmICghX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQxKVtfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMV0oKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9PSBudWxsKSB7XG4gICAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoUFJfQ09PS0lFKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcCAhPSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuICRjdC5nbG9iYWxQcm9maWxlTWFwW3Byb3BOYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlSW5jcmVtZW50RGVjcmVtZW50VmFsdWVcIixcblxuICAgICAgLyoqXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHthbnl9IGtleVxuICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29tbWFuZFxuICAgICAgICogaW5jcmVhc2VzIG9yIGRlY3JlYXNlcyB2YWx1ZSBvZiB0aGUgbnVtYmVyIHR5cGUgcHJvcGVydGllcyBpbiBwcm9maWxlIG9iamVjdFxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUluY3JlbWVudERlY3JlbWVudFZhbHVlKGtleSwgdmFsdWUsIGNvbW1hbmQpIHtcbiAgICAgICAgdmFyIF8kY3QkZ2xvYmFsUHJvZmlsZU1hcDtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIDBcbiAgICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwID09IG51bGwpIHtcbiAgICAgICAgICAkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShQUl9DT09LSUUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwID09IG51bGwgJiYgISgoXyRjdCRnbG9iYWxQcm9maWxlTWFwID0gJGN0Lmdsb2JhbFByb2ZpbGVNYXApID09PSBudWxsIHx8IF8kY3QkZ2xvYmFsUHJvZmlsZU1hcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXyRjdCRnbG9iYWxQcm9maWxlTWFwLmhhc093blByb3BlcnR5KGtleSkpKSB7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHByb2ZpbGUgbWFwIGFscmVhZHkgaGFzIHRoZSBwcm9wZXJ5IGRlZmluZWRcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdLaW5kbHkgY3JlYXRlIHByb2ZpbGUgd2l0aCByZXF1aXJlZCBwcm9wcnR5IHRvIGluY3JlbWVudC9kZWNyZW1lbnQuJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicgfHwgdmFsdWUgPD0gMCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ZhbHVlIHNob3VsZCBiZSBhIG51bWJlciBncmVhdGVyIHRoYW4gMCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgcHJvZmlsZSBwcm9wZXJ0eSBpbiBsb2NhbCBzdG9yYWdlXG4gICAgICAgICAgaWYgKGNvbW1hbmQgPT09IENPTU1BTkRfSU5DUkVNRU5UKSB7XG4gICAgICAgICAgICAkY3QuZ2xvYmFsUHJvZmlsZU1hcFtrZXldID0gJGN0Lmdsb2JhbFByb2ZpbGVNYXBba2V5XSArIHZhbHVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkY3QuZ2xvYmFsUHJvZmlsZU1hcFtrZXldID0gJGN0Lmdsb2JhbFByb2ZpbGVNYXBba2V5XSAtIHZhbHVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoUFJfQ09PS0lFLCAkY3QuZ2xvYmFsUHJvZmlsZU1hcCk7IC8vIFNlbmQgdGhlIHVwZGF0ZWQgdmFsdWUgdG8gTENcblxuICAgICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgICAgdmFyIHByb2ZpbGVPYmogPSB7fTtcbiAgICAgICAgICBkYXRhLnR5cGUgPSAncHJvZmlsZSc7XG4gICAgICAgICAgcHJvZmlsZU9ialtrZXldID0gX2RlZmluZVByb3BlcnR5KHt9LCBjb21tYW5kLCB2YWx1ZSk7XG5cbiAgICAgICAgICBpZiAocHJvZmlsZU9iai50eiA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyB0cnkgdG8gYXV0byBjYXB0dXJlIHVzZXIgdGltZXpvbmUgaWYgbm90IHByZXNlbnRcbiAgICAgICAgICAgIHByb2ZpbGVPYmoudHogPSBuZXcgRGF0ZSgpLnRvU3RyaW5nKCkubWF0Y2goLyhbQS1aXStbXFwrLV1bMC05XSspLylbMV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF0YS5wcm9maWxlID0gcHJvZmlsZU9iajtcbiAgICAgICAgICBkYXRhID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDIpW19yZXF1ZXN0JDJdLmFkZFN5c3RlbURhdGFUb1Byb2ZpbGVPYmplY3QoZGF0YSwgdW5kZWZpbmVkKTtcblxuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQyKVtfcmVxdWVzdCQyXS5hZGRGbGFncyhkYXRhKTtcblxuICAgICAgICAgIHZhciBjb21wcmVzc2VkRGF0YSA9IGNvbXByZXNzRGF0YShKU09OLnN0cmluZ2lmeShkYXRhKSwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkMylbX2xvZ2dlciQzXSk7XG5cbiAgICAgICAgICB2YXIgcGFnZUxvYWRVcmwgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQpW19hY2NvdW50XS5kYXRhUG9zdFVSTDtcblxuICAgICAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICd0eXBlJywgRVZUX1BVU0gpO1xuICAgICAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICdkJywgY29tcHJlc3NlZERhdGEpO1xuXG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDIpW19yZXF1ZXN0JDJdLnNhdmVBbmRGaXJlUmVxdWVzdChwYWdlTG9hZFVybCwgJGN0LmJsb2NrUmVxdWVzdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7YW55fSBrZXlcbiAgICAgICAqIEBwYXJhbSB7YXJyYXl9IGFycmF5VmFsXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29tbWFuZFxuICAgICAgICogb3ZlcndyaXRlcy9zZXRzIG5ldyB2YWx1ZShzKSBhZ2FpbnN0IGEga2V5L3Byb3BlcnR5IGluIHByb2ZpbGUgb2JqZWN0XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlTXVsdGlWYWx1ZVNldFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVNdWx0aVZhbHVlU2V0KGtleSwgYXJyYXlWYWwsIGNvbW1hbmQpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheVZhbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICh0eXBlb2YgYXJyYXlWYWxbaV0gPT09ICdudW1iZXInICYmICFhcnJheS5pbmNsdWRlcyhhcnJheVZhbFtpXSkpIHtcbiAgICAgICAgICAgIGFycmF5LnB1c2goYXJyYXlWYWxbaV0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFycmF5VmFsW2ldID09PSAnc3RyaW5nJyAmJiAhYXJyYXkuaW5jbHVkZXMoYXJyYXlWYWxbaV0udG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAgIGFycmF5LnB1c2goYXJyYXlWYWxbaV0udG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2FycmF5IHN1cHBvcnRzIG9ubHkgc3RyaW5nIG9yIG51bWJlciB0eXBlIHZhbHVlcycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9PSBudWxsKSB7XG4gICAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoUFJfQ09PS0lFKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRjdC5nbG9iYWxQcm9maWxlTWFwW2tleV0gPSBhcnJheTtcbiAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShQUl9DT09LSUUsICRjdC5nbG9iYWxQcm9maWxlTWFwKTtcbiAgICAgICAgdGhpcy5zZW5kTXVsdGlWYWx1ZURhdGEoa2V5LCBhcnJheVZhbCwgY29tbWFuZCk7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2FueX0gcHJvcEtleSAtIHRoZSBwcm9wZXJ0eSBuYW1lIHRvIGJlIGFkZGVkIGluIHRoZSBwcm9maWxlIG9iamVjdFxuICAgICAgICogQHBhcmFtIHtzdHJpbmcsIG51bWJlciwgYXJyYXl9IHByb3BWYWwgLSB0aGUgcHJvcGVydHkgdmFsdWUgdG8gYmUgYWRkZWQgYWdhaW5zdCB0aGUgQHByb3BrZXkga2V5XG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29tbWFuZFxuICAgICAgICogQWRkcyBhcnJheSBvciBzaW5nbGUgdmFsdWUgYWdhaW5zdCBhIGtleS9wcm9wZXJ0eSBpbiBwcm9maWxlIG9iamVjdFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2hhbmRsZU11bHRpVmFsdWVBZGRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlTXVsdGlWYWx1ZUFkZChwcm9wS2V5LCBwcm9wVmFsLCBjb21tYW5kKSB7XG4gICAgICAgIHZhciBhcnJheSA9IFtdO1xuXG4gICAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9PSBudWxsKSB7XG4gICAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoUFJfQ09PS0lFKTtcbiAgICAgICAgfSAvLyBpZiB0aGUgdmFsdWUgdG8gYmUgc2V0IGlzIGVpdGhlciBzdHJpbmcgb3IgbnVtYmVyXG5cblxuICAgICAgICBpZiAodHlwZW9mIHByb3BWYWwgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBwcm9wVmFsID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcC5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgICAgICAgYXJyYXkgPSAkY3QuZ2xvYmFsUHJvZmlsZU1hcFtwcm9wS2V5XTtcbiAgICAgICAgICAgIHR5cGVvZiBwcm9wVmFsID09PSAnbnVtYmVyJyA/IGFycmF5LnB1c2gocHJvcFZhbCkgOiBhcnJheS5wdXNoKHByb3BWYWwudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRjdC5nbG9iYWxQcm9maWxlTWFwW3Byb3BLZXldID0gcHJvcFZhbDtcbiAgICAgICAgICB9IC8vIGlmIHByb3BWYWwgaXMgYW4gYXJyYXlcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcC5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgICAgICAgYXJyYXkgPSAkY3QuZ2xvYmFsUHJvZmlsZU1hcFtwcm9wS2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogY2hlY2tzIGZvciBjYXNlIHNlbnNpdGl2ZSBpbnB1dHMgYW5kIGZpbHRlcnMgdGhlIHNhbWUgb25lc1xuICAgICAgICAgICAqL1xuXG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BWYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcFZhbFtpXSA9PT0gJ251bWJlcicgJiYgIWFycmF5LmluY2x1ZGVzKHByb3BWYWxbaV0pKSB7XG4gICAgICAgICAgICAgIGFycmF5LnB1c2gocHJvcFZhbFtpXSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9wVmFsW2ldID09PSAnc3RyaW5nJyAmJiAhYXJyYXkuaW5jbHVkZXMocHJvcFZhbFtpXS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgICBhcnJheS5wdXNoKHByb3BWYWxbaV0udG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9wVmFsW2ldID09PSAnbnVtYmVyJyAmJiBhcnJheS5pbmNsdWRlcyhwcm9wVmFsW2ldKSB8fCB0eXBlb2YgcHJvcFZhbFtpXSA9PT0gJ3N0cmluZycgJiYgYXJyYXkuaW5jbHVkZXMocHJvcFZhbFtpXS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdWYWx1ZXMgYWxyZWFkeSBpbmNsdWRlZCcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignYXJyYXkgc3VwcG9ydHMgb25seSBzdHJpbmcgb3IgbnVtYmVyIHR5cGUgdmFsdWVzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXBbcHJvcEtleV0gPSBhcnJheTtcbiAgICAgICAgfVxuXG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoUFJfQ09PS0lFLCAkY3QuZ2xvYmFsUHJvZmlsZU1hcCk7XG4gICAgICAgIHRoaXMuc2VuZE11bHRpVmFsdWVEYXRhKHByb3BLZXksIHByb3BWYWwsIGNvbW1hbmQpO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHthbnl9IHByb3BLZXlcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nLCBudW1iZXIsIGFycmF5fSBwcm9wVmFsXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29tbWFuZFxuICAgICAgICogcmVtb3ZlcyB2YWx1ZShzKSBhZ2FpbnN0IGEga2V5L3Byb3BlcnR5IGluIHByb2ZpbGUgb2JqZWN0XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlTXVsdGlWYWx1ZVJlbW92ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVNdWx0aVZhbHVlUmVtb3ZlKHByb3BLZXksIHByb3BWYWwsIGNvbW1hbmQpIHtcbiAgICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwID09IG51bGwpIHtcbiAgICAgICAgICAkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShQUl9DT09LSUUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEkY3QuZ2xvYmFsUHJvZmlsZU1hcC5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJUaGUgcHJvcGVydHkgXCIuY29uY2F0KHByb3BLZXksIFwiIGRvZXMgbm90IGV4aXN0LlwiKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBwcm9wVmFsID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcHJvcFZhbCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9ICRjdC5nbG9iYWxQcm9maWxlTWFwW3Byb3BLZXldLmluZGV4T2YocHJvcFZhbCk7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXBbcHJvcEtleV0uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBwcm9wVmFsLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgIHZhciBpZHggPSAkY3QuZ2xvYmFsUHJvZmlsZU1hcFtwcm9wS2V5XS5pbmRleE9mKHByb3BWYWxba10pO1xuXG4gICAgICAgICAgICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXBbcHJvcEtleV0uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKFBSX0NPT0tJRSwgJGN0Lmdsb2JhbFByb2ZpbGVNYXApO1xuICAgICAgICB0aGlzLnNlbmRNdWx0aVZhbHVlRGF0YShwcm9wS2V5LCBwcm9wVmFsLCBjb21tYW5kKTtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7YW55fSBwcm9wS2V5XG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29tbWFuZFxuICAgICAgICogZGVsZXRlcyBhIGtleSB2YWx1ZSBwYWlyIGZyb20gdGhlIHByb2ZpbGUgb2JqZWN0XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaGFuZGxlTXVsdGlWYWx1ZURlbGV0ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVNdWx0aVZhbHVlRGVsZXRlKHByb3BLZXksIGNvbW1hbmQpIHtcbiAgICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwID09IG51bGwpIHtcbiAgICAgICAgICAkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShQUl9DT09LSUUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEkY3QuZ2xvYmFsUHJvZmlsZU1hcC5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJUaGUgcHJvcGVydHkgXCIuY29uY2F0KHByb3BLZXksIFwiIGRvZXMgbm90IGV4aXN0LlwiKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlICRjdC5nbG9iYWxQcm9maWxlTWFwW3Byb3BLZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShQUl9DT09LSUUsICRjdC5nbG9iYWxQcm9maWxlTWFwKTtcbiAgICAgICAgdGhpcy5zZW5kTXVsdGlWYWx1ZURhdGEocHJvcEtleSwgbnVsbCwgY29tbWFuZCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInNlbmRNdWx0aVZhbHVlRGF0YVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmRNdWx0aVZhbHVlRGF0YShwcm9wS2V5LCBwcm9wVmFsLCBjb21tYW5kKSB7XG4gICAgICAgIC8vIFNlbmQgdGhlIHVwZGF0ZWQgdmFsdWUgdG8gTENcbiAgICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgICAgdmFyIHByb2ZpbGVPYmogPSB7fTtcbiAgICAgICAgZGF0YS50eXBlID0gJ3Byb2ZpbGUnOyAvLyB0aGlzIHJlbW92ZXMgdGhlIHByb3BlcnR5IGF0IGJhY2tlbmRcblxuICAgICAgICBwcm9maWxlT2JqW3Byb3BLZXldID0gX2RlZmluZVByb3BlcnR5KHt9LCBjb21tYW5kLCBjb21tYW5kID09PSBDT01NQU5EX0RFTEVURSA/IHRydWUgOiBwcm9wVmFsKTtcblxuICAgICAgICBpZiAocHJvZmlsZU9iai50eiA9PSBudWxsKSB7XG4gICAgICAgICAgcHJvZmlsZU9iai50eiA9IG5ldyBEYXRlKCkudG9TdHJpbmcoKS5tYXRjaCgvKFtBLVpdK1tcXCstXVswLTldKykvKVsxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEucHJvZmlsZSA9IHByb2ZpbGVPYmo7XG4gICAgICAgIGRhdGEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMilbX3JlcXVlc3QkMl0uYWRkU3lzdGVtRGF0YVRvUHJvZmlsZU9iamVjdChkYXRhLCB1bmRlZmluZWQpO1xuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQyKVtfcmVxdWVzdCQyXS5hZGRGbGFncyhkYXRhKTtcblxuICAgICAgICB2YXIgY29tcHJlc3NlZERhdGEgPSBjb21wcmVzc0RhdGEoSlNPTi5zdHJpbmdpZnkoZGF0YSksIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDMpW19sb2dnZXIkM10pO1xuXG4gICAgICAgIHZhciBwYWdlTG9hZFVybCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudClbX2FjY291bnRdLmRhdGFQb3N0VVJMO1xuXG4gICAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICd0eXBlJywgRVZUX1BVU0gpO1xuICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAnZCcsIGNvbXByZXNzZWREYXRhKTtcblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMilbX3JlcXVlc3QkMl0uc2F2ZUFuZEZpcmVSZXF1ZXN0KHBhZ2VMb2FkVXJsLCAkY3QuYmxvY2tSZXF1ZXN0KTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUHJvZmlsZUhhbmRsZXI7XG4gIH0oIC8qI19fUFVSRV9fKi9fd3JhcE5hdGl2ZVN1cGVyKEFycmF5KSk7XG5cbiAgdmFyIF9wcm9jZXNzUHJvZmlsZUFycmF5MiA9IGZ1bmN0aW9uIF9wcm9jZXNzUHJvZmlsZUFycmF5Mihwcm9maWxlQXJyKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocHJvZmlsZUFycikgJiYgcHJvZmlsZUFyci5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKHZhciBpbmRleCBpbiBwcm9maWxlQXJyKSB7XG4gICAgICAgIGlmIChwcm9maWxlQXJyLmhhc093blByb3BlcnR5KGluZGV4KSkge1xuICAgICAgICAgIHZhciBvdXRlck9iaiA9IHByb2ZpbGVBcnJbaW5kZXhdO1xuICAgICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgICAgdmFyIHByb2ZpbGVPYmogPSB2b2lkIDA7XG5cbiAgICAgICAgICBpZiAob3V0ZXJPYmouU2l0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBvcmdhbmljIGRhdGEgZnJvbSB0aGUgc2l0ZVxuICAgICAgICAgICAgcHJvZmlsZU9iaiA9IG91dGVyT2JqLlNpdGU7XG5cbiAgICAgICAgICAgIGlmIChpc09iamVjdEVtcHR5KHByb2ZpbGVPYmopIHx8ICFpc1Byb2ZpbGVWYWxpZChwcm9maWxlT2JqLCB7XG4gICAgICAgICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkMylbX2xvZ2dlciQzXVxuICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAob3V0ZXJPYmouRmFjZWJvb2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gZmIgY29ubmVjdCBkYXRhXG4gICAgICAgICAgICB2YXIgRmJQcm9maWxlT2JqID0gb3V0ZXJPYmouRmFjZWJvb2s7IC8vIG1ha2Ugc3VyZSB0aGF0IHRoZSBvYmplY3QgY29udGFpbnMgYW55IGRhdGEgYXQgYWxsXG5cbiAgICAgICAgICAgIGlmICghaXNPYmplY3RFbXB0eShGYlByb2ZpbGVPYmopICYmICFGYlByb2ZpbGVPYmouZXJyb3IpIHtcbiAgICAgICAgICAgICAgcHJvZmlsZU9iaiA9IHByb2Nlc3NGQlVzZXJPYmooRmJQcm9maWxlT2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKG91dGVyT2JqWydHb29nbGUgUGx1cyddICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBHUGx1c1Byb2ZpbGVPYmogPSBvdXRlck9ialsnR29vZ2xlIFBsdXMnXTtcblxuICAgICAgICAgICAgaWYgKCFpc09iamVjdEVtcHR5KEdQbHVzUHJvZmlsZU9iaikgJiYgIUdQbHVzUHJvZmlsZU9iai5lcnJvcikge1xuICAgICAgICAgICAgICBwcm9maWxlT2JqID0gcHJvY2Vzc0dQbHVzVXNlck9iaihHUGx1c1Byb2ZpbGVPYmosIHtcbiAgICAgICAgICAgICAgICBsb2dnZXI6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDMpW19sb2dnZXIkM11cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHByb2ZpbGVPYmogIT0gbnVsbCAmJiAhaXNPYmplY3RFbXB0eShwcm9maWxlT2JqKSkge1xuICAgICAgICAgICAgLy8gcHJvZmlsZSBnb3Qgc2V0IGZyb20gYWJvdmVcbiAgICAgICAgICAgIGRhdGEudHlwZSA9ICdwcm9maWxlJztcblxuICAgICAgICAgICAgaWYgKHByb2ZpbGVPYmoudHogPT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyB0cnkgdG8gYXV0byBjYXB0dXJlIHVzZXIgdGltZXpvbmUgaWYgbm90IHByZXNlbnRcbiAgICAgICAgICAgICAgcHJvZmlsZU9iai50eiA9IG5ldyBEYXRlKCkudG9TdHJpbmcoKS5tYXRjaCgvKFtBLVpdK1tcXCstXVswLTldKykvKVsxXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF0YS5wcm9maWxlID0gcHJvZmlsZU9iajtcbiAgICAgICAgICAgIGFkZFRvTG9jYWxQcm9maWxlTWFwKHByb2ZpbGVPYmosIHRydWUpO1xuICAgICAgICAgICAgZGF0YSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQyKVtfcmVxdWVzdCQyXS5hZGRTeXN0ZW1EYXRhVG9PYmplY3QoZGF0YSwgdW5kZWZpbmVkKTtcblxuICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDIpW19yZXF1ZXN0JDJdLmFkZEZsYWdzKGRhdGEpO1xuXG4gICAgICAgICAgICB2YXIgY29tcHJlc3NlZERhdGEgPSBjb21wcmVzc0RhdGEoSlNPTi5zdHJpbmdpZnkoZGF0YSksIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDMpW19sb2dnZXIkM10pO1xuXG4gICAgICAgICAgICB2YXIgcGFnZUxvYWRVcmwgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQpW19hY2NvdW50XS5kYXRhUG9zdFVSTDtcblxuICAgICAgICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ3R5cGUnLCBFVlRfUFVTSCk7XG4gICAgICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAnZCcsIGNvbXByZXNzZWREYXRhKTtcblxuICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDIpW19yZXF1ZXN0JDJdLnNhdmVBbmRGaXJlUmVxdWVzdChwYWdlTG9hZFVybCwgJGN0LmJsb2NrUmVxdWVzdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBfcmVxdWVzdCQzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJyZXF1ZXN0XCIpO1xuXG4gIHZhciBfbG9nZ2VyJDQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImxvZ2dlclwiKTtcblxuICB2YXIgX2FjY291bnQkMSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYWNjb3VudFwiKTtcblxuICB2YXIgX3Nlc3Npb24kMSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwic2Vzc2lvblwiKTtcblxuICB2YXIgX29sZFZhbHVlcyQyID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJvbGRWYWx1ZXNcIik7XG5cbiAgdmFyIF9kZXZpY2UkMSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZGV2aWNlXCIpO1xuXG4gIHZhciBfcHJvY2Vzc09VTCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicHJvY2Vzc09VTFwiKTtcblxuICB2YXIgX2hhbmRsZUNvb2tpZUZyb21DYWNoZSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiaGFuZGxlQ29va2llRnJvbUNhY2hlXCIpO1xuXG4gIHZhciBfZGVsZXRlVXNlciA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZGVsZXRlVXNlclwiKTtcblxuICB2YXIgX3Byb2Nlc3NMb2dpbkFycmF5ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJwcm9jZXNzTG9naW5BcnJheVwiKTtcblxuICB2YXIgVXNlckxvZ2luSGFuZGxlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0FycmF5KSB7XG4gICAgX2luaGVyaXRzKFVzZXJMb2dpbkhhbmRsZXIsIF9BcnJheSk7XG5cbiAgICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFVzZXJMb2dpbkhhbmRsZXIpO1xuXG4gICAgZnVuY3Rpb24gVXNlckxvZ2luSGFuZGxlcihfcmVmLCB2YWx1ZXMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgdmFyIHJlcXVlc3QgPSBfcmVmLnJlcXVlc3QsXG4gICAgICAgICAgYWNjb3VudCA9IF9yZWYuYWNjb3VudCxcbiAgICAgICAgICBzZXNzaW9uID0gX3JlZi5zZXNzaW9uLFxuICAgICAgICAgIGxvZ2dlciA9IF9yZWYubG9nZ2VyLFxuICAgICAgICAgIGRldmljZSA9IF9yZWYuZGV2aWNlO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVXNlckxvZ2luSGFuZGxlcik7XG5cbiAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIF9wcm9jZXNzTG9naW5BcnJheSwge1xuICAgICAgICB2YWx1ZTogX3Byb2Nlc3NMb2dpbkFycmF5MlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIF9kZWxldGVVc2VyLCB7XG4gICAgICAgIHZhbHVlOiBfZGVsZXRlVXNlcjJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfaGFuZGxlQ29va2llRnJvbUNhY2hlLCB7XG4gICAgICAgIHZhbHVlOiBfaGFuZGxlQ29va2llRnJvbUNhY2hlMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIF9wcm9jZXNzT1VMLCB7XG4gICAgICAgIHZhbHVlOiBfcHJvY2Vzc09VTDJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfcmVxdWVzdCQzLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgX2xvZ2dlciQ0LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgX2FjY291bnQkMSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIF9zZXNzaW9uJDEsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfb2xkVmFsdWVzJDIsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfZGV2aWNlJDEsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfcmVxdWVzdCQzKVtfcmVxdWVzdCQzXSA9IHJlcXVlc3Q7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIF9hY2NvdW50JDEpW19hY2NvdW50JDFdID0gYWNjb3VudDtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgX3Nlc3Npb24kMSlbX3Nlc3Npb24kMV0gPSBzZXNzaW9uO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfbG9nZ2VyJDQpW19sb2dnZXIkNF0gPSBsb2dnZXI7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIF9vbGRWYWx1ZXMkMilbX29sZFZhbHVlcyQyXSA9IHZhbHVlcztcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgX2RldmljZSQxKVtfZGV2aWNlJDFdID0gZGV2aWNlO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH0gLy8gT24gVXNlciBMb2dpblxuXG5cbiAgICBfY3JlYXRlQ2xhc3MoVXNlckxvZ2luSGFuZGxlciwgW3tcbiAgICAgIGtleTogXCJjbGVhclwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ0KVtfbG9nZ2VyJDRdLmRlYnVnKCdjbGVhciBjYWxsZWQuIFJlc2V0IGZsYWcgaGFzIGJlZW4gc2V0LicpO1xuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGVsZXRlVXNlcilbX2RlbGV0ZVVzZXJdKCk7XG5cbiAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2V0TWV0YVByb3AoQ0xFQVIsIHRydWUpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJwdXNoXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcHVzaCgpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHByb2ZpbGVzQXJyID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIHByb2ZpbGVzQXJyW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wcm9jZXNzTG9naW5BcnJheSlbX3Byb2Nlc3NMb2dpbkFycmF5XShwcm9maWxlc0Fycik7XG5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9wcm9jZXNzT2xkVmFsdWVzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3Byb2Nlc3NPbGRWYWx1ZXMoKSB7XG4gICAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQyKVtfb2xkVmFsdWVzJDJdKSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wcm9jZXNzTG9naW5BcnJheSlbX3Byb2Nlc3NMb2dpbkFycmF5XShfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQyKVtfb2xkVmFsdWVzJDJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzJDIpW19vbGRWYWx1ZXMkMl0gPSBudWxsO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBVc2VyTG9naW5IYW5kbGVyO1xuICB9KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihBcnJheSkpO1xuXG4gIHZhciBfcHJvY2Vzc09VTDIgPSBmdW5jdGlvbiBfcHJvY2Vzc09VTDIocHJvZmlsZUFycikge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIHNlbmRPVUxGbGFnID0gdHJ1ZTtcbiAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEZJUkVfUFVTSF9VTlJFR0lTVEVSRUQsIHNlbmRPVUxGbGFnKTtcblxuICAgIHZhciBhZGRUb0sgPSBmdW5jdGlvbiBhZGRUb0soaWRzKSB7XG4gICAgICB2YXIgayA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShLQ09PS0lFX05BTUUpO1xuICAgICAgdmFyIGcgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoR0NPT0tJRV9OQU1FKTtcbiAgICAgIHZhciBrSWQ7XG5cbiAgICAgIGlmIChrID09IG51bGwpIHtcbiAgICAgICAgayA9IHt9O1xuICAgICAgICBrSWQgPSBpZHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBjaGVjayBpZiBhbHJlYWR5IGV4aXN0cyAqL1xuICAgICAgICBrSWQgPSBrLmlkO1xuICAgICAgICB2YXIgYW5vbnltb3VzVXNlciA9IGZhbHNlO1xuICAgICAgICB2YXIgZm91bmRJbkNhY2hlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGtJZCA9PSBudWxsKSB7XG4gICAgICAgICAga0lkID0gaWRzWzBdO1xuICAgICAgICAgIGFub255bW91c1VzZXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCRjdC5MUlVfQ0FDSEUgPT0gbnVsbCAmJiBTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICRjdC5MUlVfQ0FDSEUgPSBuZXcgTFJVQ2FjaGUoTFJVX0NBQ0hFX1NJWkUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFub255bW91c1VzZXIpIHtcbiAgICAgICAgICBpZiAoZyAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBpZiBoYXZlIGdjb29raWVcbiAgICAgICAgICAgICRjdC5MUlVfQ0FDSEUuc2V0KGtJZCwgZyk7XG4gICAgICAgICAgICAkY3QuYmxvY2tSZXF1ZXN0ID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZSBpZCBpcyBwcmVzZW50IGluIHRoZSBjYWNoZVxuICAgICAgICAgIC8vIHNldCBmb3VuZEluQ2FjaGUgdG8gdHJ1ZVxuICAgICAgICAgIGZvciAodmFyIGlkeCBpbiBpZHMpIHtcbiAgICAgICAgICAgIGlmIChpZHMuaGFzT3duUHJvcGVydHkoaWR4KSkge1xuICAgICAgICAgICAgICB2YXIgaWQgPSBpZHNbaWR4XTtcblxuICAgICAgICAgICAgICBpZiAoJGN0LkxSVV9DQUNIRS5jYWNoZVtpZF0pIHtcbiAgICAgICAgICAgICAgICBrSWQgPSBpZDtcbiAgICAgICAgICAgICAgICBmb3VuZEluQ2FjaGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZvdW5kSW5DYWNoZSkge1xuICAgICAgICAgIGlmIChrSWQgIT09ICRjdC5MUlVfQ0FDSEUuZ2V0TGFzdEtleSgpKSB7XG4gICAgICAgICAgICAvLyBOZXcgVXNlciBmb3VuZFxuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBlbnRpcmUgY2FjaGVcbiAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfdGhpczIsIF9oYW5kbGVDb29raWVGcm9tQ2FjaGUpW19oYW5kbGVDb29raWVGcm9tQ2FjaGVdKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbmRPVUxGbGFnID0gZmFsc2U7XG4gICAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEZJUkVfUFVTSF9VTlJFR0lTVEVSRUQsIHNlbmRPVUxGbGFnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgZ0Zyb21DYWNoZSA9ICRjdC5MUlVfQ0FDSEUuZ2V0KGtJZCk7XG4gICAgICAgICAgJGN0LkxSVV9DQUNIRS5zZXQoa0lkLCBnRnJvbUNhY2hlKTtcbiAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEdDT09LSUVfTkFNRSwgZ0Zyb21DYWNoZSk7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF90aGlzMiwgX2RldmljZSQxKVtfZGV2aWNlJDFdLmdjb29raWUgPSBnRnJvbUNhY2hlO1xuICAgICAgICAgIHZhciBsYXN0SyA9ICRjdC5MUlVfQ0FDSEUuZ2V0U2Vjb25kTGFzdEtleSgpO1xuXG4gICAgICAgICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShGSVJFX1BVU0hfVU5SRUdJU1RFUkVEKSAmJiBsYXN0SyAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIENBQ0hFRCBPTEQgVVNFUiBGT1VORC4gVFJBTlNGRVIgUFVTSCBUT0tFTiBUTyBUSElTIFVTRVJcbiAgICAgICAgICAgIHZhciBsYXN0R1VJRCA9ICRjdC5MUlVfQ0FDSEUuY2FjaGVbbGFzdEtdO1xuXG4gICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX3RoaXMyLCBfcmVxdWVzdCQzKVtfcmVxdWVzdCQzXS51bnJlZ2lzdGVyVG9rZW5Gb3JHdWlkKGxhc3RHVUlEKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFhbm9ueW1vdXNVc2VyKSB7XG4gICAgICAgICAgICBfdGhpczIuY2xlYXIoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGcgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX3RoaXMyLCBfZGV2aWNlJDEpW19kZXZpY2UkMV0uZ2Nvb2tpZSA9IGc7XG4gICAgICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoR0NPT0tJRV9OQU1FLCBnKTtcbiAgICAgICAgICAgICAgc2VuZE9VTEZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEZJUkVfUFVTSF9VTlJFR0lTVEVSRUQsIGZhbHNlKTtcbiAgICAgICAgICBrSWQgPSBpZHNbMF07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgay5pZCA9IGtJZDtcbiAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoS0NPT0tJRV9OQU1FLCBrKTtcbiAgICB9O1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkocHJvZmlsZUFycikgJiYgcHJvZmlsZUFyci5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKHZhciBpbmRleCBpbiBwcm9maWxlQXJyKSB7XG4gICAgICAgIGlmIChwcm9maWxlQXJyLmhhc093blByb3BlcnR5KGluZGV4KSkge1xuICAgICAgICAgIHZhciBvdXRlck9iaiA9IHByb2ZpbGVBcnJbaW5kZXhdO1xuICAgICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgICAgdmFyIHByb2ZpbGVPYmogPSB2b2lkIDA7XG5cbiAgICAgICAgICBpZiAob3V0ZXJPYmouU2l0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBvcmdhbmljIGRhdGEgZnJvbSB0aGUgc2l0ZVxuICAgICAgICAgICAgcHJvZmlsZU9iaiA9IG91dGVyT2JqLlNpdGU7XG5cbiAgICAgICAgICAgIGlmIChpc09iamVjdEVtcHR5KHByb2ZpbGVPYmopIHx8ICFpc1Byb2ZpbGVWYWxpZChwcm9maWxlT2JqLCB7XG4gICAgICAgICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNClbX2xvZ2dlciQ0XVxuICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAob3V0ZXJPYmouRmFjZWJvb2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gZmIgY29ubmVjdCBkYXRhXG4gICAgICAgICAgICB2YXIgRmJQcm9maWxlT2JqID0gb3V0ZXJPYmouRmFjZWJvb2s7IC8vIG1ha2Ugc3VyZSB0aGF0IHRoZSBvYmplY3QgY29udGFpbnMgYW55IGRhdGEgYXQgYWxsXG5cbiAgICAgICAgICAgIGlmICghaXNPYmplY3RFbXB0eShGYlByb2ZpbGVPYmopICYmICFGYlByb2ZpbGVPYmouZXJyb3IpIHtcbiAgICAgICAgICAgICAgcHJvZmlsZU9iaiA9IHByb2Nlc3NGQlVzZXJPYmooRmJQcm9maWxlT2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKG91dGVyT2JqWydHb29nbGUgUGx1cyddICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBHUGx1c1Byb2ZpbGVPYmogPSBvdXRlck9ialsnR29vZ2xlIFBsdXMnXTtcblxuICAgICAgICAgICAgaWYgKGlzT2JqZWN0RW1wdHkoR1BsdXNQcm9maWxlT2JqKSAmJiAhR1BsdXNQcm9maWxlT2JqLmVycm9yKSB7XG4gICAgICAgICAgICAgIHByb2ZpbGVPYmogPSBwcm9jZXNzR1BsdXNVc2VyT2JqKEdQbHVzUHJvZmlsZU9iaiwge1xuICAgICAgICAgICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNClbX2xvZ2dlciQ0XVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocHJvZmlsZU9iaiAhPSBudWxsICYmICFpc09iamVjdEVtcHR5KHByb2ZpbGVPYmopKSB7XG4gICAgICAgICAgICAvLyBwcm9maWxlIGdvdCBzZXQgZnJvbSBhYm92ZVxuICAgICAgICAgICAgZGF0YS50eXBlID0gJ3Byb2ZpbGUnO1xuXG4gICAgICAgICAgICBpZiAocHJvZmlsZU9iai50eiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgIC8vIHRyeSB0byBhdXRvIGNhcHR1cmUgdXNlciB0aW1lem9uZSBpZiBub3QgcHJlc2VudFxuICAgICAgICAgICAgICBwcm9maWxlT2JqLnR6ID0gbmV3IERhdGUoKS50b1N0cmluZygpLm1hdGNoKC8oW0EtWl0rW1xcKy1dWzAtOV0rKS8pWzFdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRhLnByb2ZpbGUgPSBwcm9maWxlT2JqO1xuICAgICAgICAgICAgdmFyIGlkcyA9IFtdO1xuXG4gICAgICAgICAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgICAgaWYgKHByb2ZpbGVPYmouSWRlbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlkcy5wdXNoKHByb2ZpbGVPYmouSWRlbnRpdHkpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHByb2ZpbGVPYmouRW1haWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlkcy5wdXNoKHByb2ZpbGVPYmouRW1haWwpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHByb2ZpbGVPYmouR1BJRCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWRzLnB1c2goJ0dQOicgKyBwcm9maWxlT2JqLkdQSUQpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHByb2ZpbGVPYmouRkJJRCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWRzLnB1c2goJ0ZCOicgKyBwcm9maWxlT2JqLkZCSUQpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGlkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgYWRkVG9LKGlkcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWRkVG9Mb2NhbFByb2ZpbGVNYXAocHJvZmlsZU9iaiwgdHJ1ZSk7XG4gICAgICAgICAgICBkYXRhID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDMpW19yZXF1ZXN0JDNdLmFkZFN5c3RlbURhdGFUb09iamVjdChkYXRhLCB1bmRlZmluZWQpO1xuXG4gICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMylbX3JlcXVlc3QkM10uYWRkRmxhZ3MoZGF0YSk7IC8vIEFkZGluZyAnaXNPVUwnIGZsYWcgaW4gdHJ1ZSBmb3IgT1VMIGNhc2VzIHdoaWNoLlxuICAgICAgICAgICAgLy8gVGhpcyBmbGFnIHRlbGxzIExDIHRvIGNyZWF0ZSBhIG5ldyBhcnAgb2JqZWN0LlxuICAgICAgICAgICAgLy8gQWxzbyB3ZSB3aWxsIHJlY2VpdmUgdGhlIHNhbWUgZmxhZyBpbiByZXNwb25zZSBhcnAgd2hpY2ggdGVsbHMgdG8gZGVsZXRlIGV4aXN0aW5nIGFycCBvYmplY3QuXG5cblxuICAgICAgICAgICAgaWYgKHNlbmRPVUxGbGFnKSB7XG4gICAgICAgICAgICAgIGRhdGFbSVNfT1VMXSA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjb21wcmVzc2VkRGF0YSA9IGNvbXByZXNzRGF0YShKU09OLnN0cmluZ2lmeShkYXRhKSwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNClbX2xvZ2dlciQ0XSk7XG5cbiAgICAgICAgICAgIHZhciBwYWdlTG9hZFVybCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQxKVtfYWNjb3VudCQxXS5kYXRhUG9zdFVSTDtcblxuICAgICAgICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ3R5cGUnLCBFVlRfUFVTSCk7XG4gICAgICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAnZCcsIGNvbXByZXNzZWREYXRhKTsgLy8gV2hlbmV2ZXIgc2VuZE9VTEZsYWcgaXMgdHJ1ZSB0aGVuIGRvbnQgc2VuZCBhcnAgYW5kIGdjb29raWUgKGd1aWQgaW4gbWVtb3J5IGluIHRoZSByZXF1ZXN0KVxuICAgICAgICAgICAgLy8gQWxzbyB3aGVuIHRoaXMgZmxhZyBpcyBzZXQgd2Ugd2lsbCBnZXQgYW5vdGhlciBmbGFnIGZyb20gTEMgaW4gYXJwIHdoaWNoIHRlbGxzIHVzIHRvIGRlbGV0ZSBhcnBcbiAgICAgICAgICAgIC8vIHN0b3JlZCBpbiB0aGUgY2FjaGUgYW5kIHJlcGxhY2UgaXQgd2l0aCB0aGUgcmVzcG9uc2UgYXJwLlxuXG4gICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMylbX3JlcXVlc3QkM10uc2F2ZUFuZEZpcmVSZXF1ZXN0KHBhZ2VMb2FkVXJsLCAkY3QuYmxvY2tSZXF1ZXN0LCBzZW5kT1VMRmxhZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBfaGFuZGxlQ29va2llRnJvbUNhY2hlMiA9IGZ1bmN0aW9uIF9oYW5kbGVDb29raWVGcm9tQ2FjaGUyKCkge1xuICAgICRjdC5ibG9ja1JlcXVlc3QgPSBmYWxzZTtcbiAgICBjb25zb2xlLmRlYnVnKCdCbG9jayByZXF1ZXN0IGlzIGZhbHNlJyk7XG5cbiAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbUFJfQ09PS0lFXTtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbRVZfQ09PS0lFXTtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbTUVUQV9DT09LSUVdO1xuICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtBUlBfQ09PS0lFXTtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbQ0FNUF9DT09LSUVfTkFNRV07XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW0NIQVJHRURJRF9DT09LSUVfTkFNRV07XG4gICAgfVxuXG4gICAgU3RvcmFnZU1hbmFnZXIucmVtb3ZlQ29va2llKENBTVBfQ09PS0lFX05BTUUsIGdldEhvc3ROYW1lKCkpO1xuICAgIFN0b3JhZ2VNYW5hZ2VyLnJlbW92ZUNvb2tpZShfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMSlbX3Nlc3Npb24kMV0uY29va2llTmFtZSwgJGN0LmJyb2FkRG9tYWluKTtcbiAgICBTdG9yYWdlTWFuYWdlci5yZW1vdmVDb29raWUoQVJQX0NPT0tJRSwgJGN0LmJyb2FkRG9tYWluKTtcblxuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbiQxKVtfc2Vzc2lvbiQxXS5zZXRTZXNzaW9uQ29va2llT2JqZWN0KCcnKTtcbiAgfTtcblxuICB2YXIgX2RlbGV0ZVVzZXIyID0gZnVuY3Rpb24gX2RlbGV0ZVVzZXIyKCkge1xuICAgICRjdC5ibG9ja1JlcXVlc3QgPSB0cnVlO1xuXG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNClbX2xvZ2dlciQ0XS5kZWJ1ZygnQmxvY2sgcmVxdWVzdCBpcyB0cnVlJyk7XG5cbiAgICAkY3QuZ2xvYmFsQ2FjaGUgPSB7XG4gICAgICBnY29va2llOiBudWxsLFxuICAgICAgUkVRX046IDAsXG4gICAgICBSRVNQX046IDBcbiAgICB9O1xuXG4gICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW0dDT09LSUVfTkFNRV07XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW0tDT09LSUVfTkFNRV07XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW1BSX0NPT0tJRV07XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW0VWX0NPT0tJRV07XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW01FVEFfQ09PS0lFXTtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbQVJQX0NPT0tJRV07XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW0NBTVBfQ09PS0lFX05BTUVdO1xuICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtDSEFSR0VESURfQ09PS0lFX05BTUVdO1xuICAgIH1cblxuICAgIFN0b3JhZ2VNYW5hZ2VyLnJlbW92ZUNvb2tpZShHQ09PS0lFX05BTUUsICRjdC5icm9hZERvbWFpbik7XG4gICAgU3RvcmFnZU1hbmFnZXIucmVtb3ZlQ29va2llKENBTVBfQ09PS0lFX05BTUUsIGdldEhvc3ROYW1lKCkpO1xuICAgIFN0b3JhZ2VNYW5hZ2VyLnJlbW92ZUNvb2tpZShLQ09PS0lFX05BTUUsIGdldEhvc3ROYW1lKCkpO1xuICAgIFN0b3JhZ2VNYW5hZ2VyLnJlbW92ZUNvb2tpZShfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMSlbX3Nlc3Npb24kMV0uY29va2llTmFtZSwgJGN0LmJyb2FkRG9tYWluKTtcbiAgICBTdG9yYWdlTWFuYWdlci5yZW1vdmVDb29raWUoQVJQX0NPT0tJRSwgJGN0LmJyb2FkRG9tYWluKTtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSQxKVtfZGV2aWNlJDFdLmdjb29raWUgPSBudWxsO1xuXG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uJDEpW19zZXNzaW9uJDFdLnNldFNlc3Npb25Db29raWVPYmplY3QoJycpO1xuICB9O1xuXG4gIHZhciBfcHJvY2Vzc0xvZ2luQXJyYXkyID0gZnVuY3Rpb24gX3Byb2Nlc3NMb2dpbkFycmF5Mihsb2dpbkFycikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGxvZ2luQXJyKSAmJiBsb2dpbkFyci5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgcHJvZmlsZU9iaiA9IGxvZ2luQXJyLnBvcCgpO1xuICAgICAgdmFyIHByb2Nlc3NQcm9maWxlID0gcHJvZmlsZU9iaiAhPSBudWxsICYmIGlzT2JqZWN0KHByb2ZpbGVPYmopICYmIChwcm9maWxlT2JqLlNpdGUgIT0gbnVsbCAmJiBPYmplY3Qua2V5cyhwcm9maWxlT2JqLlNpdGUpLmxlbmd0aCA+IDAgfHwgcHJvZmlsZU9iai5GYWNlYm9vayAhPSBudWxsICYmIE9iamVjdC5rZXlzKHByb2ZpbGVPYmouRmFjZWJvb2spLmxlbmd0aCA+IDAgfHwgcHJvZmlsZU9ialsnR29vZ2xlIFBsdXMnXSAhPSBudWxsICYmIE9iamVjdC5rZXlzKHByb2ZpbGVPYmpbJ0dvb2dsZSBQbHVzJ10pLmxlbmd0aCA+IDApO1xuXG4gICAgICBpZiAocHJvY2Vzc1Byb2ZpbGUpIHtcbiAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2V0SW5zdGFudERlbGV0ZUZsYWdJbksoKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcHJvY2Vzc09VTClbX3Byb2Nlc3NPVUxdKFtwcm9maWxlT2JqXSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ0KVtfbG9nZ2VyJDRdLmRlYnVnKGUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ0KVtfbG9nZ2VyJDRdLmVycm9yKCdQcm9maWxlIG9iamVjdCBpcyBpbiBpbmNvcnJlY3QgZm9ybWF0Jyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBDVFdlYlBlcnNvbmFsaXNhdGlvbkJhbm5lciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0hUTUxFbGVtZW50KSB7XG4gICAgX2luaGVyaXRzKENUV2ViUGVyc29uYWxpc2F0aW9uQmFubmVyLCBfSFRNTEVsZW1lbnQpO1xuXG4gICAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihDVFdlYlBlcnNvbmFsaXNhdGlvbkJhbm5lcik7XG5cbiAgICBmdW5jdGlvbiBDVFdlYlBlcnNvbmFsaXNhdGlvbkJhbm5lcigpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENUV2ViUGVyc29uYWxpc2F0aW9uQmFubmVyKTtcblxuICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgIF90aGlzLl9kZXRhaWxzID0gbnVsbDtcbiAgICAgIF90aGlzLnNoYWRvdyA9IG51bGw7XG4gICAgICBfdGhpcy5zaGFkb3cgPSBfdGhpcy5hdHRhY2hTaGFkb3coe1xuICAgICAgICBtb2RlOiAnb3BlbidcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhDVFdlYlBlcnNvbmFsaXNhdGlvbkJhbm5lciwgW3tcbiAgICAgIGtleTogXCJyZW5kZXJCYW5uZXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJCYW5uZXIoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuc2hhZG93LmlubmVySFRNTCA9IHRoaXMuZ2V0QmFubmVyQ29udGVudCgpO1xuXG4gICAgICAgIGlmICh0aGlzLnRyYWNrQ2xpY2sgIT09IGZhbHNlKSB7XG4gICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvbkNsaWNrVXJsID0gX3RoaXMyLmRldGFpbHMub25DbGljaztcblxuICAgICAgICAgICAgaWYgKG9uQ2xpY2tVcmwpIHtcbiAgICAgICAgICAgICAgX3RoaXMyLmRldGFpbHMud2luZG93ID8gd2luZG93Lm9wZW4ob25DbGlja1VybCwgJ19ibGFuaycpIDogd2luZG93LnBhcmVudC5sb2NhdGlvbi5ocmVmID0gb25DbGlja1VybDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2luZG93LmNsZXZlcnRhcC5yZW5kZXJOb3RpZmljYXRpb25DbGlja2VkKHtcbiAgICAgICAgICAgICAgbXNnSWQ6IF90aGlzMi5tc2dJZCxcbiAgICAgICAgICAgICAgcGl2b3RJZDogX3RoaXMyLnBpdm90SWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgd2luZG93LmNsZXZlcnRhcC5yZW5kZXJOb3RpZmljYXRpb25WaWV3ZWQoe1xuICAgICAgICAgIG1zZ0lkOiB0aGlzLm1zZ0lkLFxuICAgICAgICAgIHBpdm90SWQ6IHRoaXMucGl2b3RJZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0QmFubmVyQ29udGVudFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEJhbm5lckNvbnRlbnQoKSB7XG4gICAgICAgIHJldHVybiBcIlxcbiAgICAgIDxzdHlsZSB0eXBlPVxcXCJ0ZXh0L2Nzc1xcXCI+XFxuICAgICAgICAuYmFubmVyIHtcXG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgICAgICB9XFxuICAgICAgICBpbWcge1xcbiAgICAgICAgICBoZWlnaHQ6IFwiLmNvbmNhdCh0aGlzLmRpdkhlaWdodCA/IHRoaXMuZGl2SGVpZ2h0IDogJ2F1dG8nLCBcIjtcXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgICB9XFxuICAgICAgICAud3JhcHBlcjppcygubGVmdCwgLnJpZ2h0LCAuY2VudGVyKSB7XFxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgICAgICAgIG92ZXJmbG93OiBhdXRvO1xcbiAgICAgICAgICB0b3A6IDA7XFxuICAgICAgICB9XFxuICAgICAgICBcIikuY29uY2F0KHRoaXMuZGV0YWlscy5jc3MgPyB0aGlzLmRldGFpbHMuY3NzIDogJycsIFwiXFxuICAgICAgPC9zdHlsZT5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJiYW5uZXJcXFwiPlxcbiAgICAgICAgPHBpY3R1cmU+XFxuICAgICAgICAgIDxzb3VyY2UgbWVkaWE9XFxcIihtaW4td2lkdGg6NDgwcHgpXFxcIiBzcmNzZXQ9XFxcIlwiKS5jb25jYXQodGhpcy5kZXRhaWxzLmRlc2t0b3BJbWFnZVVSTCwgXCJcXFwiPlxcbiAgICAgICAgICA8c291cmNlIHNyY3NldD1cXFwiXCIpLmNvbmNhdCh0aGlzLmRldGFpbHMubW9iaWxlSW1hZ2VVUkwsIFwiXFxcIj5cXG4gICAgICAgICAgPGltZyBzcmM9XFxcIlwiKS5jb25jYXQodGhpcy5kZXRhaWxzLmRlc2t0b3BJbWFnZVVSTCwgXCJcXFwiIGFsdD1cXFwiUGxlYXNlIHVwbG9hZCBhIHBpY3R1cmVcXFwiIHN0eWxlPVxcXCJ3aWR0aDoxMDAlO1xcXCI+XFxuICAgICAgICA8L3BpY3R1cmU+XFxuICAgICAgICBcIikuY29uY2F0KHRoaXMuZGV0YWlscy5odG1sID8gdGhpcy5kZXRhaWxzLmh0bWwgOiAnJywgXCJcXG4gICAgICA8L2Rpdj5cXG4gICAgXCIpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkZXRhaWxzXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RldGFpbHMgfHwgJyc7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZXRhaWxzID09PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5fZGV0YWlscyA9IHZhbDtcbiAgICAgICAgICB0aGlzLnJlbmRlckJhbm5lcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENUV2ViUGVyc29uYWxpc2F0aW9uQmFubmVyO1xuICB9KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihIVE1MRWxlbWVudCkpO1xuXG4gIHZhciBDVFdlYlBlcnNvbmFsaXNhdGlvbkNhcm91c2VsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfSFRNTEVsZW1lbnQpIHtcbiAgICBfaW5oZXJpdHMoQ1RXZWJQZXJzb25hbGlzYXRpb25DYXJvdXNlbCwgX0hUTUxFbGVtZW50KTtcblxuICAgIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQ1RXZWJQZXJzb25hbGlzYXRpb25DYXJvdXNlbCk7XG5cbiAgICBmdW5jdGlvbiBDVFdlYlBlcnNvbmFsaXNhdGlvbkNhcm91c2VsKCkge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ1RXZWJQZXJzb25hbGlzYXRpb25DYXJvdXNlbCk7XG5cbiAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICBfdGhpcy5fdGFyZ2V0ID0gbnVsbDtcbiAgICAgIF90aGlzLl9jYXJvdXNlbCA9IG51bGw7XG4gICAgICBfdGhpcy5zaGFkb3cgPSBudWxsO1xuICAgICAgX3RoaXMuc2xpZGVzID0gMDtcbiAgICAgIF90aGlzLnByZXZpb3VzbHlTZWxlY3RlZEl0ZW0gPSAtMTtcbiAgICAgIF90aGlzLnNlbGVjdGVkSXRlbSA9IDE7XG4gICAgICBfdGhpcy5hdXRvU2xpZGUgPSBudWxsO1xuICAgICAgX3RoaXMuc3RvcEF1dG9TbGlkZVRpbWVvdXQgPSBudWxsO1xuICAgICAgX3RoaXMuc2hhZG93ID0gX3RoaXMuYXR0YWNoU2hhZG93KHtcbiAgICAgICAgbW9kZTogJ29wZW4nXG4gICAgICB9KTtcblxuICAgICAgaWYgKGN1c3RvbUVsZW1lbnRzLmdldCgnY3Qtd2ViLXBlcnNvbmFsaXNhdGlvbi1iYW5uZXInKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnY3Qtd2ViLXBlcnNvbmFsaXNhdGlvbi1iYW5uZXInLCBDVFdlYlBlcnNvbmFsaXNhdGlvbkJhbm5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQ1RXZWJQZXJzb25hbGlzYXRpb25DYXJvdXNlbCwgW3tcbiAgICAgIGtleTogXCJyZW5kZXJDYXJvdXNlbFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckNhcm91c2VsKCkge1xuICAgICAgICB0aGlzLnNsaWRlcyA9IHRoaXMuZGV0YWlscy5sZW5ndGg7XG4gICAgICAgIHRoaXMuc2hhZG93LmlubmVySFRNTCA9IHRoaXMuZ2V0U3R5bGVzKCk7XG4gICAgICAgIHZhciBjYXJvdXNlbCA9IHRoaXMuZ2V0Q2Fyb3VzZWxDb250ZW50KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZGlzcGxheS5zaG93TmF2QnRucykge1xuICAgICAgICAgIGNhcm91c2VsLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgdGhpcy5kaXNwbGF5Lm5hdkJ0bnNIdG1sKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRpc3BsYXkuc2hvd05hdkFycm93cykge1xuICAgICAgICAgIGNhcm91c2VsLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgdGhpcy5kaXNwbGF5LmxlZnROYXZBcnJvd0h0bWwpO1xuICAgICAgICAgIGNhcm91c2VsLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgdGhpcy5kaXNwbGF5LnJpZ2h0TmF2QXJyb3dIdG1sKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2Nhcm91c2VsID0gY2Fyb3VzZWw7XG4gICAgICAgIHRoaXMuc2hhZG93LmFwcGVuZENoaWxkKGNhcm91c2VsKTtcbiAgICAgICAgdGhpcy5zZXR1cENsaWNrKCk7XG4gICAgICAgIHRoaXMudXBkYXRlU2VsZWN0ZWRJdGVtKCk7IC8vIFRPRE86IGVuYWJsZSBjb25kaXRpb25hbGx5XG5cbiAgICAgICAgdGhpcy5zdGFydEF1dG9TbGlkZSgpO1xuICAgICAgICB0aGlzLnNldHVwT25Ib3ZlcigpO1xuICAgICAgICB3aW5kb3cuY2xldmVydGFwLnJlbmRlck5vdGlmaWNhdGlvblZpZXdlZCh7XG4gICAgICAgICAgbXNnSWQ6IHRoaXMudGFyZ2V0Lnd6cmtfaWQsXG4gICAgICAgICAgcGl2b3RJZDogdGhpcy50YXJnZXQud3pya19waXZvdFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2V0dXBDbGlja1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldHVwQ2xpY2soKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuX2Nhcm91c2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgdmFyIGV2ZW50SUQgPSBldmVudC50YXJnZXQuaWQ7XG5cbiAgICAgICAgICBpZiAoZXZlbnRJRC5zdGFydHNXaXRoKCdjYXJvdXNlbF9fYnV0dG9uJykpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9ICtldmVudElELnNwbGl0KCctJylbMV07XG5cbiAgICAgICAgICAgIGlmIChzZWxlY3RlZCAhPT0gX3RoaXMyLnNlbGVjdGVkSXRlbSkge1xuICAgICAgICAgICAgICBfdGhpczIucHJldmlvdXNseVNlbGVjdGVkSXRlbSA9IF90aGlzMi5zZWxlY3RlZEl0ZW07XG4gICAgICAgICAgICAgIF90aGlzMi5zZWxlY3RlZEl0ZW0gPSBzZWxlY3RlZDtcblxuICAgICAgICAgICAgICBfdGhpczIudXBkYXRlU2VsZWN0ZWRJdGVtKCk7XG5cbiAgICAgICAgICAgICAgX3RoaXMyLnN0YXJ0QXV0b1NsaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChldmVudElELnN0YXJ0c1dpdGgoJ2Nhcm91c2VsX19hcnJvdycpKSB7XG4gICAgICAgICAgICBldmVudElELmVuZHNXaXRoKCdyaWdodCcpID8gX3RoaXMyLmdvVG9OZXh0KCkgOiBfdGhpczIuZ29Ub1ByZXYoKTtcblxuICAgICAgICAgICAgX3RoaXMyLnN0YXJ0QXV0b1NsaWRlKCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChldmVudElELmluZGV4T2YoJy0nKSA+IC0xKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9ICtldmVudElELnNwbGl0KCctJylbMV07XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpdGVtIC0gMTtcblxuICAgICAgICAgICAgaWYgKHdpbmRvdy5wYXJlbnQuY2xldmVydGFwKSB7XG4gICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdSYWlzZSBub3RpZmljYXRpb24gY2xpY2tlZCBldmVudCBmb3IgJywgaXRlbSlcbiAgICAgICAgICAgICAgd2luZG93LmNsZXZlcnRhcC5yZW5kZXJOb3RpZmljYXRpb25DbGlja2VkKHtcbiAgICAgICAgICAgICAgICBtc2dJZDogX3RoaXMyLnRhcmdldC53enJrX2lkLFxuICAgICAgICAgICAgICAgIHBpdm90SWQ6IF90aGlzMi50YXJnZXQud3pya19waXZvdCxcbiAgICAgICAgICAgICAgICB3enJrX3NsaWRlTm86IGl0ZW1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB1cmwgPSBfdGhpczIuZGV0YWlsc1tpbmRleF0ub25DbGljaztcblxuICAgICAgICAgICAgaWYgKHVybCAhPT0gJycpIHtcbiAgICAgICAgICAgICAgX3RoaXMyLmRldGFpbHNbaW5kZXhdLndpbmRvdyA/IHdpbmRvdy5vcGVuKHVybCwgJ19ibGFuaycpIDogd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2V0dXBPbkhvdmVyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0dXBPbkhvdmVyKCkge1xuICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICB0aGlzLl9jYXJvdXNlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgX3RoaXMzLnN0b3BBdXRvU2xpZGVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczMuYXV0b1NsaWRlID0gY2xlYXJJbnRlcnZhbChfdGhpczMuYXV0b1NsaWRlKTtcbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9jYXJvdXNlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzMy5zdG9wQXV0b1NsaWRlVGltZW91dCk7XG5cbiAgICAgICAgICBpZiAoX3RoaXMzLmF1dG9TbGlkZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBfdGhpczMuc3RhcnRBdXRvU2xpZGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRDYXJvdXNlbENvbnRlbnRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDYXJvdXNlbENvbnRlbnQoKSB7XG4gICAgICAgIHZhciBjYXJvdXNlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjYXJvdXNlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2Nhcm91c2VsJyk7XG4gICAgICAgIHRoaXMuZGV0YWlscy5mb3JFYWNoKGZ1bmN0aW9uIChkZXRhaWwsIGkpIHtcbiAgICAgICAgICB2YXIgYmFubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY3Qtd2ViLXBlcnNvbmFsaXNhdGlvbi1iYW5uZXInKTtcbiAgICAgICAgICBiYW5uZXIuY2xhc3NMaXN0LmFkZCgnY2Fyb3VzZWxfX2l0ZW0nKTtcbiAgICAgICAgICBiYW5uZXIudHJhY2tDbGljayA9IGZhbHNlO1xuICAgICAgICAgIGJhbm5lci5zZXRBdHRyaWJ1dGUoJ2lkJywgXCJjYXJvdXNlbF9faXRlbS1cIi5jb25jYXQoaSArIDEpKTtcbiAgICAgICAgICBiYW5uZXIuZGV0YWlscyA9IGRldGFpbDtcbiAgICAgICAgICBjYXJvdXNlbC5hcHBlbmRDaGlsZChiYW5uZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNhcm91c2VsO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRTdHlsZXNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTdHlsZXMoKSB7XG4gICAgICAgIHJldHVybiBcIlxcbiAgICAgIDxzdHlsZT5cXG4gICAgICAuY2Fyb3VzZWwge1xcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICAgIH1cXG5cXG4gICAgICAuY2Fyb3VzZWxfX2l0ZW0ge1xcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogZ3JleTtcXG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgICAgICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcXG4gICAgICB9XFxuXFxuICAgICAgLmNhcm91c2VsX19pdGVtIGltZyB7XFxuICAgICAgICBoZWlnaHQ6IGF1dG87XFxuICAgICAgICB3aWR0aDogMTAwJTtcXG4gICAgICAgIHRyYW5zaXRpb246IDJzO1xcbiAgICAgIH1cXG5cXG4gICAgICAuY2Fyb3VzZWxfX2l0ZW0tLXNlbGVjdGVkIHtcXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICAgIH1cXG4gICAgICBcIi5jb25jYXQodGhpcy5kaXNwbGF5Lm5hdkJ0bnNDc3MsIFwiXFxuICAgICAgXCIpLmNvbmNhdCh0aGlzLmRpc3BsYXkubmF2QXJyb3dzQ3NzLCBcIlxcbiAgICAgIDwvc3R5bGU+XFxuICBcIik7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInVwZGF0ZVNlbGVjdGVkSXRlbVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGVkSXRlbSgpIHtcbiAgICAgICAgdmFyIF9yZWYyO1xuXG4gICAgICAgIGlmICh0aGlzLnByZXZpb3VzbHlTZWxlY3RlZEl0ZW0gIT09IC0xKSB7XG4gICAgICAgICAgdmFyIF9yZWY7XG5cbiAgICAgICAgICB2YXIgcHJldkl0ZW0gPSB0aGlzLnNoYWRvdy5nZXRFbGVtZW50QnlJZChcImNhcm91c2VsX19pdGVtLVwiLmNvbmNhdCh0aGlzLnByZXZpb3VzbHlTZWxlY3RlZEl0ZW0pKTtcbiAgICAgICAgICB2YXIgcHJldkJ1dHRvbiA9IHRoaXMuc2hhZG93LmdldEVsZW1lbnRCeUlkKFwiY2Fyb3VzZWxfX2J1dHRvbi1cIi5jb25jYXQodGhpcy5wcmV2aW91c2x5U2VsZWN0ZWRJdGVtKSk7XG4gICAgICAgICAgcHJldkl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnY2Fyb3VzZWxfX2l0ZW0tLXNlbGVjdGVkJyk7XG4gICAgICAgICAgKF9yZWYgPSBwcmV2QnV0dG9uICE9PSBudWxsKSAhPT0gbnVsbCAmJiBfcmVmICE9PSB2b2lkIDAgPyBfcmVmIDogcHJldkJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdjYXJvdXNlbF9fYnV0dG9uLS1zZWxlY3RlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLnNoYWRvdy5nZXRFbGVtZW50QnlJZChcImNhcm91c2VsX19pdGVtLVwiLmNvbmNhdCh0aGlzLnNlbGVjdGVkSXRlbSkpO1xuICAgICAgICB2YXIgYnV0dG9uID0gdGhpcy5zaGFkb3cuZ2V0RWxlbWVudEJ5SWQoXCJjYXJvdXNlbF9fYnV0dG9uLVwiLmNvbmNhdCh0aGlzLnNlbGVjdGVkSXRlbSkpO1xuICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ2Nhcm91c2VsX19pdGVtLS1zZWxlY3RlZCcpO1xuICAgICAgICAoX3JlZjIgPSBidXR0b24gIT09IG51bGwpICE9PSBudWxsICYmIF9yZWYyICE9PSB2b2lkIDAgPyBfcmVmMiA6IGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdjYXJvdXNlbF9fYnV0dG9uLS1zZWxlY3RlZCcpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzdGFydEF1dG9TbGlkZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0QXV0b1NsaWRlKCkge1xuICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuYXV0b1NsaWRlKTtcbiAgICAgICAgdGhpcy5hdXRvU2xpZGUgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXM0LmdvVG9OZXh0KCk7XG4gICAgICAgIH0sIHRoaXMuZGlzcGxheS5zbGlkZXJUaW1lID8gdGhpcy5kaXNwbGF5LnNsaWRlclRpbWUgKiAxMDAwIDogMzAwMCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImdvVG9OZXh0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ29Ub05leHQoKSB7XG4gICAgICAgIHRoaXMuZ29Ubyh0aGlzLnNlbGVjdGVkSXRlbSwgKHRoaXMuc2VsZWN0ZWRJdGVtICsgMSkgJSB0aGlzLnNsaWRlcyk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImdvVG9QcmV2XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ29Ub1ByZXYoKSB7XG4gICAgICAgIHRoaXMuZ29Ubyh0aGlzLnNlbGVjdGVkSXRlbSwgdGhpcy5zZWxlY3RlZEl0ZW0gLSAxKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ29Ub1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdvVG8ocHJldiwgY3VyKSB7XG4gICAgICAgIHRoaXMucHJldmlvdXNseVNlbGVjdGVkSXRlbSA9IHByZXY7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gY3VyO1xuXG4gICAgICAgIGlmIChjdXIgPT09IDApIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IHRoaXMuc2xpZGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVTZWxlY3RlZEl0ZW0oKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwidGFyZ2V0XCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldCB8fCAnJztcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuX3RhcmdldCA9IHZhbDtcbiAgICAgICAgICB0aGlzLnJlbmRlckNhcm91c2VsKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGV0YWlsc1wiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRhcmdldC5kaXNwbGF5LmRldGFpbHM7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRpc3BsYXlcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQuZGlzcGxheTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ1RXZWJQZXJzb25hbGlzYXRpb25DYXJvdXNlbDtcbiAgfSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoSFRNTEVsZW1lbnQpKTtcblxuICB2YXIgX3RyID0gZnVuY3Rpb24gX3RyKG1zZywgX3JlZikge1xuICAgIHZhciBkZXZpY2UgPSBfcmVmLmRldmljZSxcbiAgICAgICAgc2Vzc2lvbiA9IF9yZWYuc2Vzc2lvbixcbiAgICAgICAgcmVxdWVzdCA9IF9yZWYucmVxdWVzdCxcbiAgICAgICAgbG9nZ2VyID0gX3JlZi5sb2dnZXIsXG4gICAgICAgIGlzV2ViUG9wVXBTcGFtQ29udHJvbERpc2FibGVkID0gX3JlZi5pc1dlYlBvcFVwU3BhbUNvbnRyb2xEaXNhYmxlZDtcbiAgICB2YXIgX2RldmljZSA9IGRldmljZTtcbiAgICB2YXIgX3Nlc3Npb24gPSBzZXNzaW9uO1xuICAgIHZhciBfcmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgdmFyIF9sb2dnZXIgPSBsb2dnZXI7XG4gICAgdmFyIF93aXpDb3VudGVyID0gMDsgLy8gQ2FtcGFpZ24gSG91c2Uga2VlcGluZ1xuXG4gICAgdmFyIGRvQ2FtcEhvdXNlS2VlcGluZyA9IGZ1bmN0aW9uIGRvQ2FtcEhvdXNlS2VlcGluZyh0YXJnZXRpbmdNc2dKc29uKSB7XG4gICAgICB2YXIgY2FtcGFpZ25JZCA9IHRhcmdldGluZ01zZ0pzb24ud3pya19pZC5zcGxpdCgnXycpWzBdO1xuICAgICAgdmFyIHRvZGF5ID0gZ2V0VG9kYXkoKTtcblxuICAgICAgdmFyIGluY3JDb3VudCA9IGZ1bmN0aW9uIGluY3JDb3VudChvYmosIGNhbXBhaWduSWQsIGV4Y2x1ZGVGcm9tRnJlcUNhcHMpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRDb3VudCA9IDA7XG4gICAgICAgIHZhciB0b3RhbENvdW50ID0gMDtcblxuICAgICAgICBpZiAob2JqW2NhbXBhaWduSWRdICE9IG51bGwpIHtcbiAgICAgICAgICBjdXJyZW50Q291bnQgPSBvYmpbY2FtcGFpZ25JZF07XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50Q291bnQrKztcblxuICAgICAgICBpZiAob2JqLnRjICE9IG51bGwpIHtcbiAgICAgICAgICB0b3RhbENvdW50ID0gb2JqLnRjO1xuICAgICAgICB9IC8vIGlmIGV4Y2x1ZGUgZnJvbSBjYXBzIHRoZW4gZG9udCBhZGQgdG8gdG90YWwgY291bnRzXG5cblxuICAgICAgICBpZiAoZXhjbHVkZUZyb21GcmVxQ2FwcyA8IDApIHtcbiAgICAgICAgICB0b3RhbENvdW50Kys7XG4gICAgICAgIH1cblxuICAgICAgICBvYmoudGMgPSB0b3RhbENvdW50O1xuICAgICAgICBvYmpbY2FtcGFpZ25JZF0gPSBjdXJyZW50Q291bnQ7XG4gICAgICB9O1xuXG4gICAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgZGVsZXRlIHNlc3Npb25TdG9yYWdlW0NBTVBfQ09PS0lFX05BTUVdO1xuICAgICAgICB2YXIgY2FtcE9iaiA9IGdldENhbXBhaWduT2JqZWN0KCk7IC8vIGdsb2JhbCBzZXNzaW9uIGxpbWl0LiBkZWZhdWx0IGlzIDFcblxuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS53bWMgPT0gbnVsbCkge1xuICAgICAgICAgIHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0ud21jID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBleGNsdWRlRnJvbUZyZXFDYXBzID0gLTE7XG4gICAgICAgIHZhciBjYW1wYWlnblNlc3Npb25MaW1pdCA9IC0xO1xuICAgICAgICB2YXIgY2FtcGFpZ25EYWlseUxpbWl0ID0gLTE7XG4gICAgICAgIHZhciBjYW1wYWlnblRvdGFsTGltaXQgPSAtMTtcbiAgICAgICAgdmFyIHRvdGFsRGFpbHlMaW1pdCA9IC0xO1xuICAgICAgICB2YXIgdG90YWxTZXNzaW9uTGltaXQgPSAtMTtcblxuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS5lZmMgIT0gbnVsbCkge1xuICAgICAgICAgIGV4Y2x1ZGVGcm9tRnJlcUNhcHMgPSBwYXJzZUludCh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLmVmYywgMTApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0ubWRjICE9IG51bGwpIHtcbiAgICAgICAgICBjYW1wYWlnblNlc3Npb25MaW1pdCA9IHBhcnNlSW50KHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0ubWRjLCAxMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS50ZGMgIT0gbnVsbCkge1xuICAgICAgICAgIGNhbXBhaWduRGFpbHlMaW1pdCA9IHBhcnNlSW50KHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0udGRjLCAxMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS50bGMgIT0gbnVsbCkge1xuICAgICAgICAgIGNhbXBhaWduVG90YWxMaW1pdCA9IHBhcnNlSW50KHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0udGxjLCAxMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS53bXAgIT0gbnVsbCkge1xuICAgICAgICAgIHRvdGFsRGFpbHlMaW1pdCA9IHBhcnNlSW50KHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0ud21wLCAxMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS53bWMgIT0gbnVsbCkge1xuICAgICAgICAgIHRvdGFsU2Vzc2lvbkxpbWl0ID0gcGFyc2VJbnQodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS53bWMsIDEwKTtcbiAgICAgICAgfSAvLyBzZXNzaW9uIGxldmVsIGNhcHBpbmdcblxuXG4gICAgICAgIHZhciBfc2Vzc2lvbk9iaiA9IGNhbXBPYmpbX3Nlc3Npb24uc2Vzc2lvbklkXTtcblxuICAgICAgICBpZiAoX3Nlc3Npb25PYmopIHtcbiAgICAgICAgICB2YXIgY2FtcGFpZ25TZXNzaW9uQ291bnQgPSBfc2Vzc2lvbk9ialtjYW1wYWlnbklkXTtcbiAgICAgICAgICB2YXIgdG90YWxTZXNzaW9uQ291bnQgPSBfc2Vzc2lvbk9iai50YzsgLy8gZG5kXG5cbiAgICAgICAgICBpZiAoY2FtcGFpZ25TZXNzaW9uQ291bnQgPT09ICdkbmQnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSAvLyBzZXNzaW9uXG5cblxuICAgICAgICAgIGlmICh0b3RhbFNlc3Npb25MaW1pdCA+IDAgJiYgdG90YWxTZXNzaW9uQ291bnQgPj0gdG90YWxTZXNzaW9uTGltaXQgJiYgZXhjbHVkZUZyb21GcmVxQ2FwcyA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9IC8vIGNhbXBhaWduIHNlc3Npb25cblxuXG4gICAgICAgICAgaWYgKGNhbXBhaWduU2Vzc2lvbkxpbWl0ID4gMCAmJiBjYW1wYWlnblNlc3Npb25Db3VudCA+PSBjYW1wYWlnblNlc3Npb25MaW1pdCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfc2Vzc2lvbk9iaiA9IHt9O1xuICAgICAgICAgIGNhbXBPYmpbX3Nlc3Npb24uc2Vzc2lvbklkXSA9IF9zZXNzaW9uT2JqO1xuICAgICAgICB9IC8vIGRhaWx5IGxldmVsIGNhcHBpbmdcblxuXG4gICAgICAgIHZhciBkYWlseU9iaiA9IGNhbXBPYmpbdG9kYXldO1xuXG4gICAgICAgIGlmIChkYWlseU9iaiAhPSBudWxsKSB7XG4gICAgICAgICAgdmFyIGNhbXBhaWduRGFpbHlDb3VudCA9IGRhaWx5T2JqW2NhbXBhaWduSWRdO1xuICAgICAgICAgIHZhciB0b3RhbERhaWx5Q291bnQgPSBkYWlseU9iai50YzsgLy8gZGFpbHlcblxuICAgICAgICAgIGlmICh0b3RhbERhaWx5TGltaXQgPiAwICYmIHRvdGFsRGFpbHlDb3VudCA+PSB0b3RhbERhaWx5TGltaXQgJiYgZXhjbHVkZUZyb21GcmVxQ2FwcyA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9IC8vIGNhbXBhaWduIGRhaWx5XG5cblxuICAgICAgICAgIGlmIChjYW1wYWlnbkRhaWx5TGltaXQgPiAwICYmIGNhbXBhaWduRGFpbHlDb3VudCA+PSBjYW1wYWlnbkRhaWx5TGltaXQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGFpbHlPYmogPSB7fTtcbiAgICAgICAgICBjYW1wT2JqW3RvZGF5XSA9IGRhaWx5T2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGdsb2JhbE9iaiA9IGNhbXBPYmpbR0xPQkFMXTtcblxuICAgICAgICBpZiAoZ2xvYmFsT2JqICE9IG51bGwpIHtcbiAgICAgICAgICB2YXIgY2FtcGFpZ25Ub3RhbENvdW50ID0gZ2xvYmFsT2JqW2NhbXBhaWduSWRdOyAvLyBjYW1wYWlnbiB0b3RhbFxuXG4gICAgICAgICAgaWYgKGNhbXBhaWduVG90YWxMaW1pdCA+IDAgJiYgY2FtcGFpZ25Ub3RhbENvdW50ID49IGNhbXBhaWduVG90YWxMaW1pdCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBnbG9iYWxPYmogPSB7fTtcbiAgICAgICAgICBjYW1wT2JqW0dMT0JBTF0gPSBnbG9iYWxPYmo7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gZGVsYXlcblxuXG4gICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS5kZWxheSAhPSBudWxsICYmIHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0uZGVsYXkgPiAwKSB7XG4gICAgICAgIHZhciBkZWxheSA9IHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0uZGVsYXk7XG4gICAgICAgIHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0uZGVsYXkgPSAwO1xuICAgICAgICBzZXRUaW1lb3V0KF90ciwgZGVsYXkgKiAxMDAwLCBtc2csIHtcbiAgICAgICAgICBkZXZpY2U6IF9kZXZpY2UsXG4gICAgICAgICAgc2Vzc2lvbjogX3Nlc3Npb24sXG4gICAgICAgICAgcmVxdWVzdDogX3JlcXVlc3QsXG4gICAgICAgICAgbG9nZ2VyOiBfbG9nZ2VyXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBzZXNzaW9uT2JqID0gX3Nlc3Npb24uZ2V0U2Vzc2lvbkNvb2tpZU9iamVjdCgpO1xuXG4gICAgICBpbmNyQ291bnQoc2Vzc2lvbk9iaiwgY2FtcGFpZ25JZCwgZXhjbHVkZUZyb21GcmVxQ2Fwcyk7XG4gICAgICBpbmNyQ291bnQoZGFpbHlPYmosIGNhbXBhaWduSWQsIGV4Y2x1ZGVGcm9tRnJlcUNhcHMpO1xuICAgICAgaW5jckNvdW50KGdsb2JhbE9iaiwgY2FtcGFpZ25JZCwgZXhjbHVkZUZyb21GcmVxQ2Fwcyk7IC8vIGdldCByaWRlIG9mIHN0YWxlIHNlc3Npb25zIGFuZCBkYXkgZW50cmllc1xuXG4gICAgICB2YXIgbmV3Q2FtcE9iaiA9IHt9O1xuICAgICAgbmV3Q2FtcE9ialtfc2Vzc2lvbi5zZXNzaW9uSWRdID0gc2Vzc2lvbk9iajtcbiAgICAgIG5ld0NhbXBPYmpbdG9kYXldID0gZGFpbHlPYmo7XG4gICAgICBuZXdDYW1wT2JqW0dMT0JBTF0gPSBnbG9iYWxPYmo7XG4gICAgICBzYXZlQ2FtcGFpZ25PYmplY3QobmV3Q2FtcE9iaik7XG4gICAgfTtcblxuICAgIHZhciBnZXRDb29raWVQYXJhbXMgPSBmdW5jdGlvbiBnZXRDb29raWVQYXJhbXMoKSB7XG4gICAgICB2YXIgZ2Nvb2tpZSA9IF9kZXZpY2UuZ2V0R3VpZCgpO1xuXG4gICAgICB2YXIgc2Nvb2tpZU9iaiA9IF9zZXNzaW9uLmdldFNlc3Npb25Db29raWVPYmplY3QoKTtcblxuICAgICAgcmV0dXJuICcmdD13YyZkPScgKyBlbmNvZGVVUklDb21wb25lbnQoY29tcHJlc3NUb0Jhc2U2NChnY29va2llICsgJ3wnICsgc2Nvb2tpZU9iai5wICsgJ3wnICsgc2Nvb2tpZU9iai5zKSk7XG4gICAgfTtcblxuICAgIHZhciBzZXR1cENsaWNrRXZlbnQgPSBmdW5jdGlvbiBzZXR1cENsaWNrRXZlbnQob25DbGljaywgdGFyZ2V0aW5nTXNnSnNvbiwgY29udGVudERpdiwgZGl2SWQsIGlzTGVnYWN5KSB7XG4gICAgICBpZiAob25DbGljayAhPT0gJycgJiYgb25DbGljayAhPSBudWxsKSB7XG4gICAgICAgIHZhciBjdGFFbGVtZW50O1xuICAgICAgICB2YXIganNDVEFFbGVtZW50cztcblxuICAgICAgICBpZiAoaXNMZWdhY3kpIHtcbiAgICAgICAgICBjdGFFbGVtZW50ID0gY29udGVudERpdjtcbiAgICAgICAgfSBlbHNlIGlmIChjb250ZW50RGl2ICE9PSBudWxsKSB7XG4gICAgICAgICAganNDVEFFbGVtZW50cyA9IGNvbnRlbnREaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnanNDVF9DVEEnKTtcblxuICAgICAgICAgIGlmIChqc0NUQUVsZW1lbnRzICE9IG51bGwgJiYganNDVEFFbGVtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGN0YUVsZW1lbnQgPSBqc0NUQUVsZW1lbnRzWzBdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBqc0Z1bmMgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkuanNGdW5jO1xuICAgICAgICB2YXIgaXNQcmV2aWV3ID0gdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LnByZXZpZXc7XG5cbiAgICAgICAgaWYgKGlzUHJldmlldyA9PSBudWxsKSB7XG4gICAgICAgICAgb25DbGljayArPSBnZXRDb29raWVQYXJhbXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdGFFbGVtZW50ICE9IG51bGwpIHtcbiAgICAgICAgICBjdGFFbGVtZW50Lm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBpbnZva2UganMgZnVuY3Rpb24gY2FsbFxuICAgICAgICAgICAgaWYgKGpzRnVuYyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIC8vIHRyYWNrIG5vdGlmaWNhdGlvbiBjbGlja2VkIGV2ZW50XG4gICAgICAgICAgICAgIGlmIChpc1ByZXZpZXcgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIFJlcXVlc3REaXNwYXRjaGVyLmZpcmVSZXF1ZXN0KG9uQ2xpY2spO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaW52b2tlRXh0ZXJuYWxKcyhqc0Z1bmMsIHRhcmdldGluZ01zZ0pzb24pOyAvLyBjbG9zZSBpZnJhbWUuIHVzaW5nIC0xIGZvciBubyBjYW1wYWlnbklkXG5cbiAgICAgICAgICAgICAgY2xvc2VJZnJhbWUoJy0xJywgZGl2SWQsIF9zZXNzaW9uLnNlc3Npb25JZCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gLy8gcGFzcyBvbiB0aGUgZ2Nvb2tpZXxwYWdlfHNjb29raWVJZCBmb3IgY2FwdHVyaW5nIHRoZSBjbGljayBldmVudFxuXG5cbiAgICAgICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkud2luZG93ID09PSAxKSB7XG4gICAgICAgICAgICAgIHdpbmRvdy5vcGVuKG9uQ2xpY2ssICdfYmxhbmsnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IG9uQ2xpY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgaW52b2tlRXh0ZXJuYWxKcyA9IGZ1bmN0aW9uIGludm9rZUV4dGVybmFsSnMoanNGdW5jLCB0YXJnZXRpbmdNc2dKc29uKSB7XG4gICAgICB2YXIgZnVuYyA9IHdpbmRvdy5wYXJlbnRbanNGdW5jXTtcblxuICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkua3YgIT0gbnVsbCkge1xuICAgICAgICAgIGZ1bmModGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5Lmt2KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmdW5jKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHNldHVwQ2xpY2tVcmwgPSBmdW5jdGlvbiBzZXR1cENsaWNrVXJsKG9uQ2xpY2ssIHRhcmdldGluZ01zZ0pzb24sIGNvbnRlbnREaXYsIGRpdklkLCBpc0xlZ2FjeSkge1xuICAgICAgaW5jcmVtZW50SW1wcmVzc2lvbih0YXJnZXRpbmdNc2dKc29uKTtcbiAgICAgIHNldHVwQ2xpY2tFdmVudChvbkNsaWNrLCB0YXJnZXRpbmdNc2dKc29uLCBjb250ZW50RGl2LCBkaXZJZCwgaXNMZWdhY3kpO1xuICAgIH07XG5cbiAgICB2YXIgaW5jcmVtZW50SW1wcmVzc2lvbiA9IGZ1bmN0aW9uIGluY3JlbWVudEltcHJlc3Npb24odGFyZ2V0aW5nTXNnSnNvbikge1xuICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgIGRhdGEudHlwZSA9ICdldmVudCc7XG4gICAgICBkYXRhLmV2dE5hbWUgPSBOT1RJRklDQVRJT05fVklFV0VEO1xuICAgICAgZGF0YS5ldnREYXRhID0gX2RlZmluZVByb3BlcnR5KHt9LCBXWlJLX0lELCB0YXJnZXRpbmdNc2dKc29uLnd6cmtfaWQpO1xuXG4gICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi53enJrX3Bpdm90KSB7XG4gICAgICAgIGRhdGEuZXZ0RGF0YSA9IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBkYXRhLmV2dERhdGEpLCB7fSwge1xuICAgICAgICAgIHd6cmtfcGl2b3Q6IHRhcmdldGluZ01zZ0pzb24ud3pya19waXZvdFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgX3JlcXVlc3QucHJvY2Vzc0V2ZW50KGRhdGEpO1xuICAgIH07XG5cbiAgICB2YXIgcmVuZGVyUGVyc29uYWxpc2F0aW9uQmFubmVyID0gZnVuY3Rpb24gcmVuZGVyUGVyc29uYWxpc2F0aW9uQmFubmVyKHRhcmdldGluZ01zZ0pzb24pIHtcbiAgICAgIHZhciBkaXZJZCA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5kaXZJZDtcbiAgICAgIHZhciBiYW5uZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2N0LXdlYi1wZXJzb25hbGlzYXRpb24tYmFubmVyJyk7XG4gICAgICBiYW5uZXJFbC5tc2dJZCA9IHRhcmdldGluZ01zZ0pzb24ud3pya19pZDtcbiAgICAgIGJhbm5lckVsLnBpdm90SWQgPSB0YXJnZXRpbmdNc2dKc29uLnd6cmtfcGl2b3Q7XG4gICAgICBiYW5uZXJFbC5kaXZIZWlnaHQgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkuZGl2SGVpZ2h0O1xuICAgICAgYmFubmVyRWwuZGV0YWlscyA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5kZXRhaWxzWzBdO1xuICAgICAgdmFyIGNvbnRhaW5lckVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2SWQpO1xuICAgICAgY29udGFpbmVyRWwuaW5uZXJIVE1MID0gJyc7XG4gICAgICBjb250YWluZXJFbC5hcHBlbmRDaGlsZChiYW5uZXJFbCk7XG4gICAgfTtcblxuICAgIHZhciByZW5kZXJQZXJzb25hbGlzYXRpb25DYXJvdXNlbCA9IGZ1bmN0aW9uIHJlbmRlclBlcnNvbmFsaXNhdGlvbkNhcm91c2VsKHRhcmdldGluZ01zZ0pzb24pIHtcbiAgICAgIHZhciBkaXZJZCA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5kaXZJZDtcbiAgICAgIHZhciBjYXJvdXNlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2N0LXdlYi1wZXJzb25hbGlzYXRpb24tY2Fyb3VzZWwnKTtcbiAgICAgIGNhcm91c2VsLnRhcmdldCA9IHRhcmdldGluZ01zZ0pzb247XG4gICAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2SWQpO1xuICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNhcm91c2VsKTtcbiAgICB9O1xuXG4gICAgdmFyIHJlbmRlckZvb3Rlck5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIHJlbmRlckZvb3Rlck5vdGlmaWNhdGlvbih0YXJnZXRpbmdNc2dKc29uKSB7XG4gICAgICB2YXIgY2FtcGFpZ25JZCA9IHRhcmdldGluZ01zZ0pzb24ud3pya19pZC5zcGxpdCgnXycpWzBdO1xuICAgICAgdmFyIGRpc3BsYXlPYmogPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXk7XG5cbiAgICAgIGlmIChkaXNwbGF5T2JqLnd0YXJnZXRfdHlwZSA9PT0gMikge1xuICAgICAgICAvLyBMb2dpYyBmb3Iga3YgcGFpciBkYXRhXG4gICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQudHlwZSA9PT0gMSkge1xuICAgICAgICAgIHZhciBpbmFPYmogPSB7fTtcbiAgICAgICAgICBpbmFPYmoubXNnSWQgPSB0YXJnZXRpbmdNc2dKc29uLnd6cmtfaWQ7XG5cbiAgICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi53enJrX3Bpdm90KSB7XG4gICAgICAgICAgICBpbmFPYmoucGl2b3RJZCA9IHRhcmdldGluZ01zZ0pzb24ud3pya19waXZvdDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50Lmt2ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGluYU9iai5rdiA9IHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5rdjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIga3ZQYWlyc0V2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdDVF93ZWJfbmF0aXZlX2Rpc3BsYXknLCB7XG4gICAgICAgICAgICBkZXRhaWw6IGluYU9ialxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoa3ZQYWlyc0V2ZW50KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gTG9naWMgZm9yIHBlcnNvbmFsaXNhdGlvbiBiYW5uZXJcblxuXG4gICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQudHlwZSA9PT0gMikge1xuICAgICAgICAgIHZhciBfZGl2SWQgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkuZGl2SWQ7XG5cbiAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoX2RpdklkKSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGN1c3RvbUVsZW1lbnRzLmdldCgnY3Qtd2ViLXBlcnNvbmFsaXNhdGlvbi1iYW5uZXInKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ2N0LXdlYi1wZXJzb25hbGlzYXRpb24tYmFubmVyJywgQ1RXZWJQZXJzb25hbGlzYXRpb25CYW5uZXIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiByZW5kZXJQZXJzb25hbGlzYXRpb25CYW5uZXIodGFyZ2V0aW5nTXNnSnNvbik7XG4gICAgICAgIH0gLy8gTG9naWMgZm9yIHBlcnNvbmFsaXNhdGlvbiBjYXJvdXNlbFxuXG5cbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC50eXBlID09PSAzKSB7XG4gICAgICAgICAgdmFyIF9kaXZJZDIgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkuZGl2SWQ7XG5cbiAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoX2RpdklkMikgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjdXN0b21FbGVtZW50cy5nZXQoJ2N0LXdlYi1wZXJzb25hbGlzYXRpb24tY2Fyb3VzZWwnKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ2N0LXdlYi1wZXJzb25hbGlzYXRpb24tY2Fyb3VzZWwnLCBDVFdlYlBlcnNvbmFsaXNhdGlvbkNhcm91c2VsKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gcmVuZGVyUGVyc29uYWxpc2F0aW9uQ2Fyb3VzZWwodGFyZ2V0aW5nTXNnSnNvbik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGRpc3BsYXlPYmoubGF5b3V0ID09PSAxKSB7XG4gICAgICAgIHJldHVybiBzaG93RXhpdEludGVudCh1bmRlZmluZWQsIHRhcmdldGluZ01zZ0pzb24pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzV2ViUG9wVXBTcGFtQ29udHJvbERpc2FibGVkICYmIGRvQ2FtcEhvdXNlS2VlcGluZyh0YXJnZXRpbmdNc2dKc29uKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgZGl2SWQgPSAnd2l6UGFyRGl2JyArIGRpc3BsYXlPYmoubGF5b3V0O1xuXG4gICAgICBpZiAoaXNXZWJQb3BVcFNwYW1Db250cm9sRGlzYWJsZWQgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2SWQpICE9IG51bGwpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaXZJZCk7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaXZJZCkgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICRjdC5jYW1wYWlnbkRpdk1hcFtjYW1wYWlnbklkXSA9IGRpdklkO1xuICAgICAgdmFyIGlzQmFubmVyID0gZGlzcGxheU9iai5sYXlvdXQgPT09IDI7XG4gICAgICB2YXIgbXNnRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBtc2dEaXYuaWQgPSBkaXZJZDtcbiAgICAgIHZhciB2aWV3SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgdmFyIHZpZXdXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdmFyIGxlZ2FjeSA9IGZhbHNlO1xuXG4gICAgICBpZiAoIWlzQmFubmVyKSB7XG4gICAgICAgIHZhciBtYXJnaW5Cb3R0b20gPSB2aWV3SGVpZ2h0ICogNSAvIDEwMDtcbiAgICAgICAgdmFyIGNvbnRlbnRIZWlnaHQgPSAxMDtcbiAgICAgICAgdmFyIHJpZ2h0ID0gdmlld1dpZHRoICogNSAvIDEwMDtcbiAgICAgICAgdmFyIGJvdHRvbVBvc2l0aW9uID0gY29udGVudEhlaWdodCArIG1hcmdpbkJvdHRvbTtcbiAgICAgICAgdmFyIHdpZHRoID0gdmlld1dpZHRoICogMzAgLyAxMDAgKyAyMDtcbiAgICAgICAgdmFyIHdpZHRoUGVyY3QgPSAnd2lkdGg6MzAlOyc7IC8vIGZvciBzbWFsbCBkZXZpY2VzICAtIG1vYmlsZSBwaG9uZXNcblxuICAgICAgICBpZiAoKC9tb2JpbGUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpIHx8IC9taW5pL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkgJiYgL2lQYWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpID09PSBmYWxzZSkge1xuICAgICAgICAgIHdpZHRoID0gdmlld1dpZHRoICogODUgLyAxMDAgKyAyMDtcbiAgICAgICAgICByaWdodCA9IHZpZXdXaWR0aCAqIDUgLyAxMDA7XG4gICAgICAgICAgYm90dG9tUG9zaXRpb24gPSB2aWV3SGVpZ2h0ICogNSAvIDEwMDtcbiAgICAgICAgICB3aWR0aFBlcmN0ID0gJ3dpZHRoOjgwJTsnOyAvLyBtZWRpdW0gZGV2aWNlcyAtIHRhYmxldHNcbiAgICAgICAgfSBlbHNlIGlmICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgfHwgL3RhYmxldC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcbiAgICAgICAgICB3aWR0aCA9IHZpZXdXaWR0aCAqIDUwIC8gMTAwICsgMjA7XG4gICAgICAgICAgcmlnaHQgPSB2aWV3V2lkdGggKiA1IC8gMTAwO1xuICAgICAgICAgIGJvdHRvbVBvc2l0aW9uID0gdmlld0hlaWdodCAqIDUgLyAxMDA7XG4gICAgICAgICAgd2lkdGhQZXJjdCA9ICd3aWR0aDo1MCU7JztcbiAgICAgICAgfSAvLyBsZWdhY3kgZm9vdGVyIG5vdGlmXG5cblxuICAgICAgICBpZiAoZGlzcGxheU9iai5wcm90byA9PSBudWxsKSB7XG4gICAgICAgICAgbGVnYWN5ID0gdHJ1ZTtcbiAgICAgICAgICBtc2dEaXYuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5OmJsb2NrO292ZXJmbG93OmhpZGRlbjsgYm90dG9tOicgKyBib3R0b21Qb3NpdGlvbiArICdweCAhaW1wb3J0YW50O3dpZHRoOicgKyB3aWR0aCArICdweCAhaW1wb3J0YW50O3JpZ2h0OicgKyByaWdodCArICdweCAhaW1wb3J0YW50O3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6MjE0NzQ4MzY0NzsnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtc2dEaXYuc2V0QXR0cmlidXRlKCdzdHlsZScsIHdpZHRoUGVyY3QgKyBkaXNwbGF5T2JqLmlGcmFtZVN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbXNnRGl2LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBkaXNwbGF5T2JqLmlGcmFtZVN0eWxlKTtcbiAgICAgIH1cblxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtc2dEaXYpO1xuICAgICAgdmFyIGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgICAgdmFyIGJvcmRlclJhZGl1cyA9IGRpc3BsYXlPYmouYnIgPT09IGZhbHNlID8gJzAnIDogJzgnO1xuICAgICAgaWZyYW1lLmZyYW1lYm9yZGVyID0gJzBweCc7XG4gICAgICBpZnJhbWUubWFyZ2luaGVpZ2h0ID0gJzBweCc7XG4gICAgICBpZnJhbWUubWFyZ2lud2lkdGggPSAnMHB4JztcbiAgICAgIGlmcmFtZS5zY3JvbGxpbmcgPSAnbm8nO1xuICAgICAgaWZyYW1lLmlkID0gJ3dpei1pZnJhbWUnO1xuICAgICAgdmFyIG9uQ2xpY2sgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkub25DbGljaztcbiAgICAgIHZhciBwb2ludGVyQ3NzID0gJyc7XG5cbiAgICAgIGlmIChvbkNsaWNrICE9PSAnJyAmJiBvbkNsaWNrICE9IG51bGwpIHtcbiAgICAgICAgcG9pbnRlckNzcyA9ICdjdXJzb3I6cG9pbnRlcjsnO1xuICAgICAgfVxuXG4gICAgICB2YXIgaHRtbDsgLy8gZGlyZWN0IGh0bWxcblxuICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC50eXBlID09PSAxKSB7XG4gICAgICAgIGh0bWwgPSB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQuaHRtbDtcbiAgICAgICAgaHRtbCA9IGh0bWwucmVwbGFjZSgvIyNjYW1wYWlnbklkIyMvZywgY2FtcGFpZ25JZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgY3NzID0gJycgKyAnPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPicgKyAnYm9keXttYXJnaW46MDtwYWRkaW5nOjA7fScgKyAnI2NvbnRlbnREaXYud3pya3tvdmVyZmxvdzpoaWRkZW47cGFkZGluZzowO3RleHQtYWxpZ246Y2VudGVyOycgKyBwb2ludGVyQ3NzICsgJ30nICsgJyNjb250ZW50RGl2Lnd6cmsgdGR7cGFkZGluZzoxNXB4IDEwcHg7fScgKyAnLnd6cmtQUHRpdGxle2ZvbnQtd2VpZ2h0OiBib2xkO2ZvbnQtc2l6ZTogMTZweDtmb250LWZhbWlseTphcmlhbDtwYWRkaW5nLWJvdHRvbToxMHB4O3dvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7fScgKyAnLnd6cmtQUGRzY3J7Zm9udC1zaXplOiAxNHB4O2ZvbnQtZmFtaWx5OmFyaWFsO2xpbmUtaGVpZ2h0OjE2cHg7d29yZC1icmVhazogYnJlYWstd29yZDtkaXNwbGF5OmlubGluZS1ibG9jazt9JyArICcuUEwxNXtwYWRkaW5nLWxlZnQ6MTVweDt9JyArICcud3pya1BQd2FycHttYXJnaW46MjBweCAyMHB4IDAgNXB4O3BhZGRpbmc6MHB4O2JvcmRlci1yYWRpdXM6ICcgKyBib3JkZXJSYWRpdXMgKyAncHg7Ym94LXNoYWRvdzogMXB4IDFweCA1cHggIzg4ODg4ODt9JyArICdhLnd6cmtDbG9zZXtjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjogYWJzb2x1dGU7dG9wOiAxMXB4O3JpZ2h0OiAxMXB4O3otaW5kZXg6IDIxNDc0ODM2NDc7Zm9udC1zaXplOjE5cHg7Zm9udC1mYW1pbHk6YXJpYWw7Zm9udC13ZWlnaHQ6Ym9sZDt0ZXh0LWRlY29yYXRpb246IG5vbmU7d2lkdGg6IDI1cHg7LypoZWlnaHQ6IDI1cHg7Ki90ZXh0LWFsaWduOiBjZW50ZXI7IC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsgbGluZS1oZWlnaHQ6IDI1cHg7JyArICdiYWNrZ3JvdW5kOiAjMzUzNTM1O2JvcmRlcjogI2ZmZiAycHggc29saWQ7Ym9yZGVyLXJhZGl1czogMTAwJTtib3gtc2hhZG93OiAjNzc3IDJweCAycHggMnB4O2NvbG9yOiNmZmY7fScgKyAnYTpob3Zlci53enJrQ2xvc2V7YmFja2dyb3VuZC1jb2xvcjojZDE5MTRhICFpbXBvcnRhbnQ7Y29sb3I6I2ZmZiAhaW1wb3J0YW50OyAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7fScgKyAndGR7dmVydGljYWwtYWxpZ246dG9wO30nICsgJ3RkLmltZ1Rke2JvcmRlci10b3AtbGVmdC1yYWRpdXM6OHB4O2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6OHB4O30nICsgJzwvc3R5bGU+JztcbiAgICAgICAgdmFyIGJnQ29sb3IsIHRleHRDb2xvciwgYnRuQmcsIGxlZnRUZCwgYnRDb2xvcjtcblxuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LnRoZW1lID09PSAnZGFyaycpIHtcbiAgICAgICAgICBiZ0NvbG9yID0gJyMyZDJkMmUnO1xuICAgICAgICAgIHRleHRDb2xvciA9ICcjZWFlYWVhJztcbiAgICAgICAgICBidG5CZyA9ICcjMzUzNTM1JztcbiAgICAgICAgICBsZWZ0VGQgPSAnIzM1MzUzNSc7XG4gICAgICAgICAgYnRDb2xvciA9ICcjZmZmZmZmJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBiZ0NvbG9yID0gJyNmZmZmZmYnO1xuICAgICAgICAgIHRleHRDb2xvciA9ICcjMDAwMDAwJztcbiAgICAgICAgICBsZWZ0VGQgPSAnI2Y0ZjRmNCc7XG4gICAgICAgICAgYnRuQmcgPSAnI2E1YTZhNic7XG4gICAgICAgICAgYnRDb2xvciA9ICcjZmZmZmZmJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0aXRsZVRleHQgPSB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQudGl0bGU7XG4gICAgICAgIHZhciBkZXNjcmlwdGlvblRleHQgPSB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQuZGVzY3JpcHRpb247XG4gICAgICAgIHZhciBpbWFnZVRkID0gJyc7XG5cbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5pbWFnZVVybCAhPSBudWxsICYmIHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5pbWFnZVVybCAhPT0gJycpIHtcbiAgICAgICAgICBpbWFnZVRkID0gXCI8dGQgY2xhc3M9J2ltZ1RkJyBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjpcIiArIGxlZnRUZCArIFwiJz48aW1nIHNyYz0nXCIgKyB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQuaW1hZ2VVcmwgKyBcIicgaGVpZ2h0PSc2MCcgd2lkdGg9JzYwJz48L3RkPlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG9uQ2xpY2tTdHIgPSAncGFyZW50LiRXWlJLX1dSLmNsb3NlSWZyYW1lKCcgKyBjYW1wYWlnbklkICsgXCIsJ1wiICsgZGl2SWQgKyBcIicpO1wiO1xuICAgICAgICB2YXIgdGl0bGUgPSBcIjxkaXYgY2xhc3M9J3d6cmtQUHdhcnAnIHN0eWxlPSdjb2xvcjpcIiArIHRleHRDb2xvciArICc7YmFja2dyb3VuZC1jb2xvcjonICsgYmdDb2xvciArIFwiOyc+XCIgKyBcIjxhIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKTsnIG9uY2xpY2s9XCIgKyBvbkNsaWNrU3RyICsgXCIgY2xhc3M9J3d6cmtDbG9zZScgc3R5bGU9J2JhY2tncm91bmQtY29sb3I6XCIgKyBidG5CZyArICc7Y29sb3I6JyArIGJ0Q29sb3IgKyBcIic+JnRpbWVzOzwvYT5cIiArIFwiPGRpdiBpZD0nY29udGVudERpdicgY2xhc3M9J3d6cmsnPlwiICsgXCI8dGFibGUgY2VsbHBhZGRpbmc9JzAnIGNlbGxzcGFjaW5nPScwJyBib3JkZXI9JzAnPlwiICsgLy8gXCI8dHI+PHRkIGNvbHNwYW49JzInPjwvdGQ+PC90cj5cIitcbiAgICAgICAgJzx0cj4nICsgaW1hZ2VUZCArIFwiPHRkIHN0eWxlPSd2ZXJ0aWNhbC1hbGlnbjp0b3A7Jz5cIiArIFwiPGRpdiBjbGFzcz0nd3pya1BQdGl0bGUnIHN0eWxlPSdjb2xvcjpcIiArIHRleHRDb2xvciArIFwiJz5cIiArIHRpdGxlVGV4dCArICc8L2Rpdj4nO1xuICAgICAgICB2YXIgYm9keSA9IFwiPGRpdiBjbGFzcz0nd3pya1BQZHNjcicgc3R5bGU9J2NvbG9yOlwiICsgdGV4dENvbG9yICsgXCInPlwiICsgZGVzY3JpcHRpb25UZXh0ICsgJzxkaXY+PC90ZD48L3RyPjwvdGFibGU+PC9kaXY+JztcbiAgICAgICAgaHRtbCA9IGNzcyArIHRpdGxlICsgYm9keTtcbiAgICAgIH1cblxuICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnei1pbmRleDogMjE0NzQ4MzY0NzsgZGlzcGxheTpibG9jazsgd2lkdGg6IDEwMCUgIWltcG9ydGFudDsgYm9yZGVyOjBweCAhaW1wb3J0YW50OyBib3JkZXItY29sb3I6bm9uZSAhaW1wb3J0YW50OycpO1xuICAgICAgbXNnRGl2LmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgICB2YXIgaWZybSA9IGlmcmFtZS5jb250ZW50V2luZG93ID8gaWZyYW1lLmNvbnRlbnRXaW5kb3cgOiBpZnJhbWUuY29udGVudERvY3VtZW50LmRvY3VtZW50ID8gaWZyYW1lLmNvbnRlbnREb2N1bWVudC5kb2N1bWVudCA6IGlmcmFtZS5jb250ZW50RG9jdW1lbnQ7XG4gICAgICB2YXIgZG9jID0gaWZybS5kb2N1bWVudDtcbiAgICAgIGRvYy5vcGVuKCk7XG4gICAgICBkb2Mud3JpdGUoaHRtbCk7XG5cbiAgICAgIGlmIChkaXNwbGF5T2JqWydjdXN0b20tZWRpdG9yJ10pIHtcbiAgICAgICAgYXBwZW5kU2NyaXB0Rm9yQ3VzdG9tRXZlbnQodGFyZ2V0aW5nTXNnSnNvbiwgZG9jKTtcbiAgICAgIH1cblxuICAgICAgZG9jLmNsb3NlKCk7XG5cbiAgICAgIHZhciBhZGp1c3RJRnJhbWVIZWlnaHQgPSBmdW5jdGlvbiBhZGp1c3RJRnJhbWVIZWlnaHQoKSB7XG4gICAgICAgIC8vIGFkanVzdCBpZnJhbWUgYW5kIGJvZHkgaGVpZ2h0IG9mIGh0bWwgaW5zaWRlIGNvcnJlY3RseVxuICAgICAgICBjb250ZW50SGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpei1pZnJhbWUnKS5jb250ZW50RG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnREaXYnKS5zY3JvbGxIZWlnaHQ7XG5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmpbJ2N1c3RvbS1lZGl0b3InXSAhPT0gdHJ1ZSAmJiAhaXNCYW5uZXIpIHtcbiAgICAgICAgICBjb250ZW50SGVpZ2h0ICs9IDI1O1xuICAgICAgICB9XG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpei1pZnJhbWUnKS5jb250ZW50RG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSAnMHB4JztcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpei1pZnJhbWUnKS5zdHlsZS5oZWlnaHQgPSBjb250ZW50SGVpZ2h0ICsgJ3B4JztcbiAgICAgIH07XG5cbiAgICAgIHZhciB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcblxuICAgICAgaWYgKHVhLmluZGV4T2YoJ3NhZmFyaScpICE9PSAtMSkge1xuICAgICAgICBpZiAodWEuaW5kZXhPZignY2hyb21lJykgPiAtMSkge1xuICAgICAgICAgIGlmcmFtZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhZGp1c3RJRnJhbWVIZWlnaHQoKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpei1pZnJhbWUnKS5jb250ZW50RG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnREaXYnKTtcbiAgICAgICAgICAgIHNldHVwQ2xpY2tVcmwob25DbGljaywgdGFyZ2V0aW5nTXNnSnNvbiwgY29udGVudERpdiwgZGl2SWQsIGxlZ2FjeSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaW5Eb2MgPSBpZnJhbWUuY29udGVudERvY3VtZW50IHx8IGlmcmFtZS5jb250ZW50V2luZG93O1xuICAgICAgICAgIGlmIChpbkRvYy5kb2N1bWVudCkgaW5Eb2MgPSBpbkRvYy5kb2N1bWVudDsgLy8gc2FmYXJpIGlwaG9uZSA3KyBuZWVkcyB0aGlzLlxuXG4gICAgICAgICAgYWRqdXN0SUZyYW1lSGVpZ2h0KCk7XG5cbiAgICAgICAgICB2YXIgX3RpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGluRG9jLnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChfdGltZXIpOyAvLyBhZGp1c3QgaWZyYW1lIGFuZCBib2R5IGhlaWdodCBvZiBodG1sIGluc2lkZSBjb3JyZWN0bHlcblxuICAgICAgICAgICAgICBhZGp1c3RJRnJhbWVIZWlnaHQoKTtcbiAgICAgICAgICAgICAgdmFyIGNvbnRlbnREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6LWlmcmFtZScpLmNvbnRlbnREb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudERpdicpO1xuICAgICAgICAgICAgICBzZXR1cENsaWNrVXJsKG9uQ2xpY2ssIHRhcmdldGluZ01zZ0pzb24sIGNvbnRlbnREaXYsIGRpdklkLCBsZWdhY3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWZyYW1lLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBhZGp1c3QgaWZyYW1lIGFuZCBib2R5IGhlaWdodCBvZiBodG1sIGluc2lkZSBjb3JyZWN0bHlcbiAgICAgICAgICBhZGp1c3RJRnJhbWVIZWlnaHQoKTtcbiAgICAgICAgICB2YXIgY29udGVudERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aXotaWZyYW1lJykuY29udGVudERvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50RGl2Jyk7XG4gICAgICAgICAgc2V0dXBDbGlja1VybChvbkNsaWNrLCB0YXJnZXRpbmdNc2dKc29uLCBjb250ZW50RGl2LCBkaXZJZCwgbGVnYWN5KTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGFwcGVuZFNjcmlwdEZvckN1c3RvbUV2ZW50ID0gZnVuY3Rpb24gYXBwZW5kU2NyaXB0Rm9yQ3VzdG9tRXZlbnQodGFyZ2V0aW5nTXNnSnNvbiwgZG9jKSB7XG4gICAgICB2YXIgc2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgc2NyaXB0LmlubmVySFRNTCA9IFwiXFxuICAgICAgY29uc3QgY3RfX2NhbWFwaWduSWQgPSAnXCIuY29uY2F0KHRhcmdldGluZ01zZ0pzb24ud3pya19pZCwgXCInO1xcbiAgICAgIGNvbnN0IGN0X19mb3JtYXRWYWwgPSAodikgPT4ge1xcbiAgICAgICAgICByZXR1cm4gdiAmJiB2LnRyaW0oKS5zdWJzdHJpbmcoMCwgMjApO1xcbiAgICAgIH1cXG4gICAgICBjb25zdCBjdF9fcGFyZW50T3JpZ2luID0gIHdpbmRvdy5wYXJlbnQub3JpZ2luO1xcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcXG4gICAgICAgIGNvbnN0IGVsZW0gPSBldmVudC50YXJnZXQuY2xvc2VzdD8uKCdhW3d6cmtfYzJhXSwgYnV0dG9uW3d6cmtfYzJhXScpO1xcbiAgICAgICAgaWYgKGVsZW0pIHtcXG4gICAgICAgICAgICBjb25zdCB7aW5uZXJUZXh0LCBpZCwgbmFtZSwgdmFsdWUsIGhyZWZ9ID0gZWxlbTtcXG4gICAgICAgICAgICBjb25zdCBjbGlja0F0dHIgPSBlbGVtLmdldEF0dHJpYnV0ZSgnb25jbGljaycpIHx8IGVsZW0uZ2V0QXR0cmlidXRlKCdjbGljaycpO1xcbiAgICAgICAgICAgIGNvbnN0IG9uY2xpY2tVUkwgPSBjbGlja0F0dHI/Lm1hdGNoKC8od2luZG93Lm9wZW4pWyhdKFxcXCJ8JykoLiopKFxcXCJ8JywpLyk/LlszXSB8fCBjbGlja0F0dHI/Lm1hdGNoKC8obG9jYXRpb24uaHJlZiAqPSAqKShcXFwifCcpKC4qKShcXFwifCcpLyk/LlszXTtcXG4gICAgICAgICAgICBjb25zdCBwcm9wcyA9IHtpbm5lclRleHQsIGlkLCBuYW1lLCB2YWx1ZX07XFxuICAgICAgICAgICAgbGV0IG1zZ0NUa3YgPSBPYmplY3Qua2V5cyhwcm9wcykucmVkdWNlKChhY2MsIGMpID0+IHtcXG4gICAgICAgICAgICAgICAgY29uc3QgZm9ybWF0dGVkVmFsID0gY3RfX2Zvcm1hdFZhbChwcm9wc1tjXSk7XFxuICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbCAmJiAoYWNjWyd3enJrX2NsaWNrXycgKyBjXSA9IGZvcm1hdHRlZFZhbCk7XFxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XFxuICAgICAgICAgICAgfSwge30pO1xcbiAgICAgICAgICAgIGlmKG9uY2xpY2tVUkwpIHsgbXNnQ1Rrdlsnd3pya19jbGlja18nICsgJ3VybCddID0gb25jbGlja1VSTDsgfVxcbiAgICAgICAgICAgIGlmKGhyZWYpIHsgbXNnQ1Rrdlsnd3pya19jbGlja18nICsgJ2MyYSddID0gaHJlZjsgfVxcbiAgICAgICAgICAgIGNvbnN0IG5vdGlmRGF0YSA9IHsgbXNnSWQ6IGN0X19jYW1hcGlnbklkLCBtc2dDVGt2LCBwaXZvdElkOiAnXCIpLmNvbmNhdCh0YXJnZXRpbmdNc2dKc29uLnd6cmtfcGl2b3QsIFwiJyB9O1xcbiAgICAgICAgICAgIHdpbmRvdy5wYXJlbnQuY2xldmVydGFwLnJlbmRlck5vdGlmaWNhdGlvbkNsaWNrZWQobm90aWZEYXRhKTtcXG4gICAgICAgIH1cXG4gICAgICB9KTtcXG4gICAgXCIpO1xuICAgICAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICB9O1xuXG4gICAgdmFyIF9jYWxsQmFja0NhbGxlZCA9IGZhbHNlO1xuXG4gICAgdmFyIHNob3dGb290ZXJOb3RpZmljYXRpb24gPSBmdW5jdGlvbiBzaG93Rm9vdGVyTm90aWZpY2F0aW9uKHRhcmdldGluZ01zZ0pzb24pIHtcbiAgICAgIHZhciBvbkNsaWNrID0gdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5Lm9uQ2xpY2s7IC8vIFRPRE86IE5lZWRzIHdpenJvY2tldCBhcyBhIGdsb2JhbCB2YXJpYWJsZVxuXG4gICAgICBpZiAod2luZG93LmNsZXZlcnRhcC5oYXNPd25Qcm9wZXJ0eSgnbm90aWZpY2F0aW9uQ2FsbGJhY2snKSAmJiB0eXBlb2Ygd2luZG93LmNsZXZlcnRhcC5ub3RpZmljYXRpb25DYWxsYmFjayAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5jbGV2ZXJ0YXAubm90aWZpY2F0aW9uQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIG5vdGlmaWNhdGlvbkNhbGxiYWNrID0gd2luZG93LmNsZXZlcnRhcC5ub3RpZmljYXRpb25DYWxsYmFjaztcblxuICAgICAgICBpZiAoIV9jYWxsQmFja0NhbGxlZCkge1xuICAgICAgICAgIHZhciBpbmFPYmogPSB7fTtcbiAgICAgICAgICBpbmFPYmoubXNnQ29udGVudCA9IHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudDtcbiAgICAgICAgICBpbmFPYmoubXNnSWQgPSB0YXJnZXRpbmdNc2dKc29uLnd6cmtfaWQ7XG5cbiAgICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi53enJrX3Bpdm90KSB7XG4gICAgICAgICAgICBpbmFPYmoucGl2b3RJZCA9IHRhcmdldGluZ01zZ0pzb24ud3pya19waXZvdDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5Lmt2ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGluYU9iai5rdiA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5rdjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB3aW5kb3cuY2xldmVydGFwLnJhaXNlTm90aWZpY2F0aW9uQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvbkNsaWNrICE9PSAnJyAmJiBvbkNsaWNrICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgdmFyIGpzRnVuYyA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5qc0Z1bmM7XG4gICAgICAgICAgICAgIG9uQ2xpY2sgKz0gZ2V0Q29va2llUGFyYW1zKCk7IC8vIGludm9rZSBqcyBmdW5jdGlvbiBjYWxsXG5cbiAgICAgICAgICAgICAgaWYgKGpzRnVuYyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gdHJhY2sgbm90aWZpY2F0aW9uIGNsaWNrZWQgZXZlbnRcbiAgICAgICAgICAgICAgICBSZXF1ZXN0RGlzcGF0Y2hlci5maXJlUmVxdWVzdChvbkNsaWNrKTtcbiAgICAgICAgICAgICAgICBpbnZva2VFeHRlcm5hbEpzKGpzRnVuYywgdGFyZ2V0aW5nTXNnSnNvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9IC8vIHBhc3Mgb24gdGhlIGdjb29raWV8cGFnZXxzY29va2llSWQgZm9yIGNhcHR1cmluZyB0aGUgY2xpY2sgZXZlbnRcblxuXG4gICAgICAgICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkud2luZG93ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgd2luZG93Lm9wZW4ob25DbGljaywgJ19ibGFuaycpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IG9uQ2xpY2s7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgd2luZG93LmNsZXZlcnRhcC5yYWlzZU5vdGlmaWNhdGlvblZpZXdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGluY3JlbWVudEltcHJlc3Npb24odGFyZ2V0aW5nTXNnSnNvbik7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIG5vdGlmaWNhdGlvbkNhbGxiYWNrKGluYU9iaik7XG4gICAgICAgICAgX2NhbGxCYWNrQ2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LmNsZXZlcnRhcC5wb3B1cEN1cnJlbnRXenJrSWQgPSB0YXJnZXRpbmdNc2dKc29uLnd6cmtfaWQ7XG4gICAgICAgIHJlbmRlckZvb3Rlck5vdGlmaWNhdGlvbih0YXJnZXRpbmdNc2dKc29uKTtcblxuICAgICAgICBpZiAod2luZG93LmNsZXZlcnRhcC5oYXNPd25Qcm9wZXJ0eSgncG9wdXBDYWxsYmFja3MnKSAmJiB0eXBlb2Ygd2luZG93LmNsZXZlcnRhcC5wb3B1cENhbGxiYWNrcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5jbGV2ZXJ0YXAucG9wdXBDYWxsYmFja3NbdGFyZ2V0aW5nTXNnSnNvbi53enJrX2lkXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHZhciBwb3B1cENhbGxiYWNrID0gd2luZG93LmNsZXZlcnRhcC5wb3B1cENhbGxiYWNrc1t0YXJnZXRpbmdNc2dKc29uLnd6cmtfaWRdO1xuICAgICAgICAgIHZhciBfaW5hT2JqID0ge307XG4gICAgICAgICAgX2luYU9iai5tc2dDb250ZW50ID0gdGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50O1xuICAgICAgICAgIF9pbmFPYmoubXNnSWQgPSB0YXJnZXRpbmdNc2dKc29uLnd6cmtfaWQ7XG5cbiAgICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi53enJrX3Bpdm90KSB7XG4gICAgICAgICAgICBfaW5hT2JqLnBpdm90SWQgPSB0YXJnZXRpbmdNc2dKc29uLnd6cmtfcGl2b3Q7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIG1zZ0NUa3YgPSBbXTtcblxuICAgICAgICAgIGZvciAodmFyIHd6cmtQcmVmaXhLZXkgaW4gdGFyZ2V0aW5nTXNnSnNvbikge1xuICAgICAgICAgICAgLy8gQUREIFdaUksgUFJFRklYIEtFWSBWQUxVRSBQQUlSU1xuICAgICAgICAgICAgaWYgKHd6cmtQcmVmaXhLZXkuc3RhcnRzV2l0aChXWlJLX1BSRUZJWCkgJiYgd3pya1ByZWZpeEtleSAhPT0gV1pSS19JRCkge1xuICAgICAgICAgICAgICB2YXIgd3pya0pzb24gPSBfZGVmaW5lUHJvcGVydHkoe30sIHd6cmtQcmVmaXhLZXksIHRhcmdldGluZ01zZ0pzb25bd3pya1ByZWZpeEtleV0pO1xuXG4gICAgICAgICAgICAgIG1zZ0NUa3YucHVzaCh3enJrSnNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG1zZ0NUa3YubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgX2luYU9iai5tc2dDVGt2ID0gbXNnQ1RrdjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5Lmt2ICE9IG51bGwpIHtcbiAgICAgICAgICAgIF9pbmFPYmoua3YgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkua3Y7XG4gICAgICAgICAgfSAvLyBQVUJMSUMgQVBJIFRPIFJFQ09SRCBDTElDS0VEIEVWRU5UXG5cblxuICAgICAgICAgIHdpbmRvdy5jbGV2ZXJ0YXAucmFpc2VQb3B1cE5vdGlmaWNhdGlvbkNsaWNrZWQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uRGF0YSkge1xuICAgICAgICAgICAgaWYgKCFub3RpZmljYXRpb25EYXRhIHx8ICFub3RpZmljYXRpb25EYXRhLm1zZ0lkKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGV2ZW50RGF0YSA9IHt9O1xuICAgICAgICAgICAgZXZlbnREYXRhLnR5cGUgPSAnZXZlbnQnO1xuICAgICAgICAgICAgZXZlbnREYXRhLmV2dE5hbWUgPSBOT1RJRklDQVRJT05fQ0xJQ0tFRDtcbiAgICAgICAgICAgIGV2ZW50RGF0YS5ldnREYXRhID0gX2RlZmluZVByb3BlcnR5KHt9LCBXWlJLX0lELCBub3RpZmljYXRpb25EYXRhLm1zZ0lkKTtcblxuICAgICAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ud3pya19waXZvdCkge1xuICAgICAgICAgICAgICBldmVudERhdGEuZXZ0RGF0YSA9IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBldmVudERhdGEuZXZ0RGF0YSksIHt9LCB7XG4gICAgICAgICAgICAgICAgd3pya19waXZvdDogbm90aWZpY2F0aW9uRGF0YS5waXZvdElkXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSAvLyBXWlJLIFBSRUZJWCBLRVkgVkFMVUUgUEFJUlNcblxuXG4gICAgICAgICAgICBpZiAobm90aWZpY2F0aW9uRGF0YS5tc2dDVGt2KSB7XG4gICAgICAgICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihub3RpZmljYXRpb25EYXRhLm1zZ0NUa3YpLFxuICAgICAgICAgICAgICAgICAgX3N0ZXA7XG5cbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgICAgICAgICAgICAgdmFyIHd6cmtQcmVmaXhPYmogPSBfc3RlcC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5ldnREYXRhID0gX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe30sIGV2ZW50RGF0YS5ldnREYXRhKSwgd3pya1ByZWZpeE9iaik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3JlcXVlc3QucHJvY2Vzc0V2ZW50KGV2ZW50RGF0YSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHBvcHVwQ2FsbGJhY2soX2luYU9iaik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGV4aXRpbnRlbnRPYmo7XG5cbiAgICB2YXIgc2hvd0V4aXRJbnRlbnQgPSBmdW5jdGlvbiBzaG93RXhpdEludGVudChldmVudCwgdGFyZ2V0T2JqKSB7XG4gICAgICB2YXIgdGFyZ2V0aW5nTXNnSnNvbjtcblxuICAgICAgaWYgKGV2ZW50ICE9IG51bGwgJiYgZXZlbnQuY2xpZW50WSA+IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGFyZ2V0T2JqID09IG51bGwpIHtcbiAgICAgICAgdGFyZ2V0aW5nTXNnSnNvbiA9IGV4aXRpbnRlbnRPYmo7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXRpbmdNc2dKc29uID0gdGFyZ2V0T2JqO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNXZWJQb3BVcFNwYW1Db250cm9sRGlzYWJsZWQgJiYgdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5Lnd0YXJnZXRfdHlwZSA9PT0gMCAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW50ZW50UHJldmlldycpICE9IG51bGwgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludGVudE9wYWNpdHlEaXYnKSAhPSBudWxsKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludGVudFByZXZpZXcnKTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludGVudE9wYWNpdHlEaXYnKS5yZW1vdmUoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnRlbnRQcmV2aWV3JykgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIGRvbnQgc2hvdyBleGl0IGludGVudCBvbiB0YWJsZXQvbW9iaWxlIC0gb25seSBvbiBkZXNrdG9wXG5cblxuICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5sYXlvdXQgPT0gbnVsbCAmJiAoL21vYmlsZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgL21pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpIHx8IC9pUGFkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSB8fCAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgfHwgL3RhYmxldC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNhbXBhaWduSWQgPSB0YXJnZXRpbmdNc2dKc29uLnd6cmtfaWQuc3BsaXQoJ18nKVswXTtcblxuICAgICAgaWYgKCFpc1dlYlBvcFVwU3BhbUNvbnRyb2xEaXNhYmxlZCAmJiBkb0NhbXBIb3VzZUtlZXBpbmcodGFyZ2V0aW5nTXNnSnNvbikgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgJGN0LmNhbXBhaWduRGl2TWFwW2NhbXBhaWduSWRdID0gJ2ludGVudFByZXZpZXcnO1xuICAgICAgdmFyIGxlZ2FjeSA9IGZhbHNlO1xuICAgICAgdmFyIG9wYWNpdHlEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG9wYWNpdHlEaXYuaWQgPSAnaW50ZW50T3BhY2l0eURpdic7XG4gICAgICBvcGFjaXR5RGl2LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAncG9zaXRpb246IGZpeGVkO3RvcDogMDtib3R0b206IDA7bGVmdDogMDt3aWR0aDogMTAwJTtoZWlnaHQ6IDEwMCU7ei1pbmRleDogMjE0NzQ4MzY0NjtiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDAuNyk7Jyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG9wYWNpdHlEaXYpO1xuICAgICAgdmFyIG1zZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbXNnRGl2LmlkID0gJ2ludGVudFByZXZpZXcnO1xuXG4gICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LnByb3RvID09IG51bGwpIHtcbiAgICAgICAgbGVnYWN5ID0gdHJ1ZTtcbiAgICAgICAgbXNnRGl2LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTpibG9jaztvdmVyZmxvdzpoaWRkZW47dG9wOjU1JSAhaW1wb3J0YW50O2xlZnQ6NTAlICFpbXBvcnRhbnQ7cG9zaXRpb246Zml4ZWQ7ei1pbmRleDoyMTQ3NDgzNjQ3O3dpZHRoOjYwMHB4ICFpbXBvcnRhbnQ7aGVpZ2h0OjYwMHB4ICFpbXBvcnRhbnQ7bWFyZ2luOi0zMDBweCAwIDAgLTMwMHB4ICFpbXBvcnRhbnQ7Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtc2dEaXYuc2V0QXR0cmlidXRlKCdzdHlsZScsIHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5pRnJhbWVTdHlsZSk7XG4gICAgICB9XG5cbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobXNnRGl2KTtcbiAgICAgIHZhciBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICAgIHZhciBib3JkZXJSYWRpdXMgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkuYnIgPT09IGZhbHNlID8gJzAnIDogJzgnO1xuICAgICAgaWZyYW1lLmZyYW1lYm9yZGVyID0gJzBweCc7XG4gICAgICBpZnJhbWUubWFyZ2luaGVpZ2h0ID0gJzBweCc7XG4gICAgICBpZnJhbWUubWFyZ2lud2lkdGggPSAnMHB4JztcbiAgICAgIGlmcmFtZS5zY3JvbGxpbmcgPSAnbm8nO1xuICAgICAgaWZyYW1lLmlkID0gJ3dpei1pZnJhbWUtaW50ZW50JztcbiAgICAgIHZhciBvbkNsaWNrID0gdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5Lm9uQ2xpY2s7XG4gICAgICB2YXIgcG9pbnRlckNzcyA9ICcnO1xuXG4gICAgICBpZiAob25DbGljayAhPT0gJycgJiYgb25DbGljayAhPSBudWxsKSB7XG4gICAgICAgIHBvaW50ZXJDc3MgPSAnY3Vyc29yOnBvaW50ZXI7JztcbiAgICAgIH1cblxuICAgICAgdmFyIGh0bWw7IC8vIGRpcmVjdCBodG1sXG5cbiAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQudHlwZSA9PT0gMSkge1xuICAgICAgICBodG1sID0gdGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50Lmh0bWw7XG4gICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoLyMjY2FtcGFpZ25JZCMjL2csIGNhbXBhaWduSWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGNzcyA9ICcnICsgJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj4nICsgJ2JvZHl7bWFyZ2luOjA7cGFkZGluZzowO30nICsgJyNjb250ZW50RGl2Lnd6cmt7b3ZlcmZsb3c6aGlkZGVuO3BhZGRpbmc6MCAwIDIwcHggMDt0ZXh0LWFsaWduOmNlbnRlcjsnICsgcG9pbnRlckNzcyArICd9JyArICcjY29udGVudERpdi53enJrIHRke3BhZGRpbmc6MTVweCAxMHB4O30nICsgJy53enJrUFB0aXRsZXtmb250LXdlaWdodDogYm9sZDtmb250LXNpemU6IDI0cHg7Zm9udC1mYW1pbHk6YXJpYWw7d29yZC1icmVhazogYnJlYWstd29yZDtwYWRkaW5nLXRvcDoyMHB4O30nICsgJy53enJrUFBkc2Nye2ZvbnQtc2l6ZTogMTRweDtmb250LWZhbWlseTphcmlhbDtsaW5lLWhlaWdodDoxNnB4O3dvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7ZGlzcGxheTppbmxpbmUtYmxvY2s7cGFkZGluZzoyMHB4IDIwcHggMCAyMHB4O2xpbmUtaGVpZ2h0OjIwcHg7fScgKyAnLlBMMTV7cGFkZGluZy1sZWZ0OjE1cHg7fScgKyAnLnd6cmtQUHdhcnB7bWFyZ2luOjIwcHggMjBweCAwIDVweDtwYWRkaW5nOjBweDtib3JkZXItcmFkaXVzOiAnICsgYm9yZGVyUmFkaXVzICsgJ3B4O2JveC1zaGFkb3c6IDFweCAxcHggNXB4ICM4ODg4ODg7fScgKyAnYS53enJrQ2xvc2V7Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246IGFic29sdXRlO3RvcDogMTFweDtyaWdodDogMTFweDt6LWluZGV4OiAyMTQ3NDgzNjQ3O2ZvbnQtc2l6ZToxOXB4O2ZvbnQtZmFtaWx5OmFyaWFsO2ZvbnQtd2VpZ2h0OmJvbGQ7dGV4dC1kZWNvcmF0aW9uOiBub25lO3dpZHRoOiAyNXB4Oy8qaGVpZ2h0OiAyNXB4OyovdGV4dC1hbGlnbjogY2VudGVyOyAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7IGxpbmUtaGVpZ2h0OiAyNXB4OycgKyAnYmFja2dyb3VuZDogIzM1MzUzNTtib3JkZXI6ICNmZmYgMnB4IHNvbGlkO2JvcmRlci1yYWRpdXM6IDEwMCU7Ym94LXNoYWRvdzogIzc3NyAycHggMnB4IDJweDtjb2xvcjojZmZmO30nICsgJ2E6aG92ZXIud3pya0Nsb3Nle2JhY2tncm91bmQtY29sb3I6I2QxOTE0YSAhaW1wb3J0YW50O2NvbG9yOiNmZmYgIWltcG9ydGFudDsgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO30nICsgJyNjb250ZW50RGl2IC5idXR0b257cGFkZGluZy10b3A6MjBweDt9JyArICcjY29udGVudERpdiAuYnV0dG9uIGF7Zm9udC1zaXplOiAxNHB4O2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1mYW1pbHk6YXJpYWw7dGV4dC1hbGlnbjpjZW50ZXI7ZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1kZWNvcmF0aW9uOm5vbmU7cGFkZGluZzowIDMwcHg7aGVpZ2h0OjQwcHg7bGluZS1oZWlnaHQ6NDBweDtiYWNrZ3JvdW5kOiNlYTY5M2I7Y29sb3I6I2ZmZjtib3JkZXItcmFkaXVzOjRweDstd2Via2l0LWJvcmRlci1yYWRpdXM6NHB4Oy1tb3otYm9yZGVyLXJhZGl1czo0cHg7fScgKyAnPC9zdHlsZT4nO1xuICAgICAgICB2YXIgYmdDb2xvciwgdGV4dENvbG9yLCBidG5CZywgYnRDb2xvcjtcblxuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LnRoZW1lID09PSAnZGFyaycpIHtcbiAgICAgICAgICBiZ0NvbG9yID0gJyMyZDJkMmUnO1xuICAgICAgICAgIHRleHRDb2xvciA9ICcjZWFlYWVhJztcbiAgICAgICAgICBidG5CZyA9ICcjMzUzNTM1JztcbiAgICAgICAgICBidENvbG9yID0gJyNmZmZmZmYnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJnQ29sb3IgPSAnI2ZmZmZmZic7XG4gICAgICAgICAgdGV4dENvbG9yID0gJyMwMDAwMDAnO1xuICAgICAgICAgIGJ0bkJnID0gJyNhNWE2YTYnO1xuICAgICAgICAgIGJ0Q29sb3IgPSAnI2ZmZmZmZic7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGl0bGVUZXh0ID0gdGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50LnRpdGxlO1xuICAgICAgICB2YXIgZGVzY3JpcHRpb25UZXh0ID0gdGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50LmRlc2NyaXB0aW9uO1xuICAgICAgICB2YXIgY3RhVGV4dCA9ICcnO1xuXG4gICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQuY3RhVGV4dCAhPSBudWxsICYmIHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5jdGFUZXh0ICE9PSAnJykge1xuICAgICAgICAgIGN0YVRleHQgPSBcIjxkaXYgY2xhc3M9J2J1dHRvbic+PGEgaHJlZj0nIyc+XCIgKyB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQuY3RhVGV4dCArICc8L2E+PC9kaXY+JztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbWFnZVRkID0gJyc7XG5cbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5pbWFnZVVybCAhPSBudWxsICYmIHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5pbWFnZVVybCAhPT0gJycpIHtcbiAgICAgICAgICBpbWFnZVRkID0gXCI8ZGl2IHN0eWxlPSdwYWRkaW5nLXRvcDoyMHB4Oyc+PGltZyBzcmM9J1wiICsgdGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50LmltYWdlVXJsICsgXCInIHdpZHRoPSc1MDAnIGFsdD1cIiArIHRpdGxlVGV4dCArICcgLz48L2Rpdj4nO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG9uQ2xpY2tTdHIgPSAncGFyZW50LiRXWlJLX1dSLmNsb3NlSWZyYW1lKCcgKyBjYW1wYWlnbklkICsgXCIsJ2ludGVudFByZXZpZXcnKTtcIjtcbiAgICAgICAgdmFyIHRpdGxlID0gXCI8ZGl2IGNsYXNzPSd3enJrUFB3YXJwJyBzdHlsZT0nY29sb3I6XCIgKyB0ZXh0Q29sb3IgKyAnO2JhY2tncm91bmQtY29sb3I6JyArIGJnQ29sb3IgKyBcIjsnPlwiICsgXCI8YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7JyBvbmNsaWNrPVwiICsgb25DbGlja1N0ciArIFwiIGNsYXNzPSd3enJrQ2xvc2UnIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOlwiICsgYnRuQmcgKyAnO2NvbG9yOicgKyBidENvbG9yICsgXCInPiZ0aW1lczs8L2E+XCIgKyBcIjxkaXYgaWQ9J2NvbnRlbnREaXYnIGNsYXNzPSd3enJrJz5cIiArIFwiPGRpdiBjbGFzcz0nd3pya1BQdGl0bGUnIHN0eWxlPSdjb2xvcjpcIiArIHRleHRDb2xvciArIFwiJz5cIiArIHRpdGxlVGV4dCArICc8L2Rpdj4nO1xuICAgICAgICB2YXIgYm9keSA9IFwiPGRpdiBjbGFzcz0nd3pya1BQZHNjcicgc3R5bGU9J2NvbG9yOlwiICsgdGV4dENvbG9yICsgXCInPlwiICsgZGVzY3JpcHRpb25UZXh0ICsgJzwvZGl2PicgKyBpbWFnZVRkICsgY3RhVGV4dCArICc8L2Rpdj48L2Rpdj4nO1xuICAgICAgICBodG1sID0gY3NzICsgdGl0bGUgKyBib2R5O1xuICAgICAgfVxuXG4gICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdzdHlsZScsICd6LWluZGV4OiAyMTQ3NDgzNjQ3OyBkaXNwbGF5OmJsb2NrOyBoZWlnaHQ6IDEwMCUgIWltcG9ydGFudDsgd2lkdGg6IDEwMCUgIWltcG9ydGFudDttaW4taGVpZ2h0OjgwcHggIWltcG9ydGFudDtib3JkZXI6MHB4ICFpbXBvcnRhbnQ7IGJvcmRlci1jb2xvcjpub25lICFpbXBvcnRhbnQ7Jyk7XG4gICAgICBtc2dEaXYuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgICAgIHZhciBpZnJtID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cgPyBpZnJhbWUuY29udGVudFdpbmRvdyA6IGlmcmFtZS5jb250ZW50RG9jdW1lbnQuZG9jdW1lbnQgPyBpZnJhbWUuY29udGVudERvY3VtZW50LmRvY3VtZW50IDogaWZyYW1lLmNvbnRlbnREb2N1bWVudDtcbiAgICAgIHZhciBkb2MgPSBpZnJtLmRvY3VtZW50O1xuICAgICAgZG9jLm9wZW4oKTtcbiAgICAgIGRvYy53cml0ZShodG1sKTtcblxuICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24uZGlzcGxheVsnY3VzdG9tLWVkaXRvciddKSB7XG4gICAgICAgIGFwcGVuZFNjcmlwdEZvckN1c3RvbUV2ZW50KHRhcmdldGluZ01zZ0pzb24sIGRvYyk7XG4gICAgICB9XG5cbiAgICAgIGRvYy5jbG9zZSgpO1xuICAgICAgdmFyIGNvbnRlbnREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6LWlmcmFtZS1pbnRlbnQnKS5jb250ZW50RG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnREaXYnKTtcbiAgICAgIHNldHVwQ2xpY2tVcmwob25DbGljaywgdGFyZ2V0aW5nTXNnSnNvbiwgY29udGVudERpdiwgJ2ludGVudFByZXZpZXcnLCBsZWdhY3kpO1xuICAgIH07XG5cbiAgICBpZiAoIWRvY3VtZW50LmJvZHkpIHtcbiAgICAgIGlmIChfd2l6Q291bnRlciA8IDYpIHtcbiAgICAgICAgX3dpekNvdW50ZXIrKztcbiAgICAgICAgc2V0VGltZW91dChfdHIsIDEwMDAsIG1zZywge1xuICAgICAgICAgIGRldmljZTogX2RldmljZSxcbiAgICAgICAgICBzZXNzaW9uOiBfc2Vzc2lvbixcbiAgICAgICAgICByZXF1ZXN0OiBfcmVxdWVzdCxcbiAgICAgICAgICBsb2dnZXI6IF9sb2dnZXJcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobXNnLmluYXBwX25vdGlmcyAhPSBudWxsKSB7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbXNnLmluYXBwX25vdGlmcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIHRhcmdldE5vdGlmID0gbXNnLmluYXBwX25vdGlmc1tpbmRleF07XG5cbiAgICAgICAgaWYgKHRhcmdldE5vdGlmLmRpc3BsYXkud3RhcmdldF90eXBlID09IG51bGwgfHwgdGFyZ2V0Tm90aWYuZGlzcGxheS53dGFyZ2V0X3R5cGUgPT09IDAgfHwgdGFyZ2V0Tm90aWYuZGlzcGxheS53dGFyZ2V0X3R5cGUgPT09IDIpIHtcbiAgICAgICAgICBzaG93Rm9vdGVyTm90aWZpY2F0aW9uKHRhcmdldE5vdGlmKTtcbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXROb3RpZi5kaXNwbGF5Lnd0YXJnZXRfdHlwZSA9PT0gMSkge1xuICAgICAgICAgIC8vIGlmIGRpc3BsYXlbJ3d0YXJnZXRfdHlwZSddPT0xIHRoZW4gZXhpdCBpbnRlbnRcbiAgICAgICAgICBleGl0aW50ZW50T2JqID0gdGFyZ2V0Tm90aWY7XG4gICAgICAgICAgd2luZG93LmRvY3VtZW50LmJvZHkub25tb3VzZWxlYXZlID0gc2hvd0V4aXRJbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbWVyZ2VFdmVudE1hcCA9IGZ1bmN0aW9uIG1lcmdlRXZlbnRNYXAobmV3RXZ0TWFwKSB7XG4gICAgICBpZiAoJGN0Lmdsb2JhbEV2ZW50c01hcCA9PSBudWxsKSB7XG4gICAgICAgICRjdC5nbG9iYWxFdmVudHNNYXAgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoRVZfQ09PS0lFKTtcblxuICAgICAgICBpZiAoJGN0Lmdsb2JhbEV2ZW50c01hcCA9PSBudWxsKSB7XG4gICAgICAgICAgJGN0Lmdsb2JhbEV2ZW50c01hcCA9IG5ld0V2dE1hcDtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIga2V5IGluIG5ld0V2dE1hcCkge1xuICAgICAgICBpZiAobmV3RXZ0TWFwLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICB2YXIgb2xkRXZ0T2JqID0gJGN0Lmdsb2JhbEV2ZW50c01hcFtrZXldO1xuICAgICAgICAgIHZhciBuZXdFdnRPYmogPSBuZXdFdnRNYXBba2V5XTtcblxuICAgICAgICAgIGlmICgkY3QuZ2xvYmFsRXZlbnRzTWFwW2tleV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKG5ld0V2dE9ialswXSAhPSBudWxsICYmIG5ld0V2dE9ialswXSA+IG9sZEV2dE9ialswXSkge1xuICAgICAgICAgICAgICAkY3QuZ2xvYmFsRXZlbnRzTWFwW2tleV0gPSBuZXdFdnRPYmo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRjdC5nbG9iYWxFdmVudHNNYXBba2V5XSA9IG5ld0V2dE9iajtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAobXNnLmV2cHIgIT0gbnVsbCkge1xuICAgICAgICAgIHZhciBldmVudHNNYXAgPSBtc2cuZXZwci5ldmVudHM7XG4gICAgICAgICAgdmFyIHByb2ZpbGVNYXAgPSBtc2cuZXZwci5wcm9maWxlO1xuICAgICAgICAgIHZhciBzeW5jRXhwaXJ5ID0gbXNnLmV2cHIuZXhwaXJlc19pbjtcbiAgICAgICAgICB2YXIgbm93ID0gZ2V0Tm93KCk7XG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2V0TWV0YVByb3AoJ2xzVGltZScsIG5vdyk7XG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2V0TWV0YVByb3AoJ2V4VHMnLCBzeW5jRXhwaXJ5KTtcbiAgICAgICAgICBtZXJnZUV2ZW50TWFwKGV2ZW50c01hcCk7XG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShFVl9DT09LSUUsICRjdC5nbG9iYWxFdmVudHNNYXApO1xuXG4gICAgICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwID09IG51bGwpIHtcbiAgICAgICAgICAgIGFkZFRvTG9jYWxQcm9maWxlTWFwKHByb2ZpbGVNYXAsIHRydWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhZGRUb0xvY2FsUHJvZmlsZU1hcChwcm9maWxlTWFwLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1zZy5hcnAgIT0gbnVsbCkge1xuICAgICAgICAgIGFycChtc2cuYXJwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtc2cuaW5hcHBfc3RhbGUgIT0gbnVsbCkge1xuICAgICAgICAgIHZhciBjYW1wT2JqID0gZ2V0Q2FtcGFpZ25PYmplY3QoKTtcbiAgICAgICAgICB2YXIgZ2xvYmFsT2JqID0gY2FtcE9iai5nbG9iYWw7XG5cbiAgICAgICAgICBpZiAoZ2xvYmFsT2JqICE9IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGlkeCBpbiBtc2cuaW5hcHBfc3RhbGUpIHtcbiAgICAgICAgICAgICAgaWYgKG1zZy5pbmFwcF9zdGFsZS5oYXNPd25Qcm9wZXJ0eShpZHgpKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGdsb2JhbE9ialttc2cuaW5hcHBfc3RhbGVbaWR4XV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzYXZlQ2FtcGFpZ25PYmplY3QoY2FtcE9iaik7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgX2xvZ2dlci5lcnJvcignVW5hYmxlIHRvIHBlcnNpc3QgZXZycC9hcnA6ICcgKyBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQyID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZVwiKTtcblxuICB2YXIgVXNlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVXNlcihfcmVmKSB7XG4gICAgICB2YXIgaXNQZXJzb25hbGlzYXRpb25BY3RpdmUgPSBfcmVmLmlzUGVyc29uYWxpc2F0aW9uQWN0aXZlO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVXNlcik7XG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMiwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDIpW19pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQyXSA9IGlzUGVyc29uYWxpc2F0aW9uQWN0aXZlO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhVc2VyLCBbe1xuICAgICAga2V5OiBcImdldFRvdGFsVmlzaXRzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VG90YWxWaXNpdHMoKSB7XG4gICAgICAgIGlmICghX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQyKVtfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMl0oKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2aXNpdENvdW50ID0gU3RvcmFnZU1hbmFnZXIuZ2V0TWV0YVByb3AoJ3NjJyk7XG5cbiAgICAgICAgaWYgKHZpc2l0Q291bnQgPT0gbnVsbCkge1xuICAgICAgICAgIHZpc2l0Q291bnQgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZpc2l0Q291bnQ7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImdldExhc3RWaXNpdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldExhc3RWaXNpdCgpIHtcbiAgICAgICAgaWYgKCFfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDIpW19pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQyXSgpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHByZXZTZXNzaW9uID0gU3RvcmFnZU1hbmFnZXIuZ2V0TWV0YVByb3AoJ3BzJyk7XG5cbiAgICAgICAgaWYgKHByZXZTZXNzaW9uICE9IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IERhdGUocHJldlNlc3Npb24gKiAxMDAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBVc2VyO1xuICB9KCk7XG5cbiAgdmFyIGxvZ0xldmVscyA9IHtcbiAgICBESVNBQkxFOiAwLFxuICAgIEVSUk9SOiAxLFxuICAgIElORk86IDIsXG4gICAgREVCVUc6IDNcbiAgfTtcblxuICB2YXIgX2xvZ0xldmVsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJsb2dMZXZlbFwiKTtcblxuICB2YXIgX2xvZyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwibG9nXCIpO1xuXG4gIHZhciBfaXNMZWdhY3lEZWJ1ZyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiaXNMZWdhY3lEZWJ1Z1wiKTtcblxuICB2YXIgTG9nZ2VyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMb2dnZXIobG9nTGV2ZWwpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMb2dnZXIpO1xuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2lzTGVnYWN5RGVidWcsIHtcbiAgICAgICAgZ2V0OiBfZ2V0X2lzTGVnYWN5RGVidWcsXG4gICAgICAgIHNldDogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfbG9nLCB7XG4gICAgICAgIHZhbHVlOiBfbG9nMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2xvZ0xldmVsLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIHRoaXMud3pya0Vycm9yID0ge307XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ0xldmVsKVtfbG9nTGV2ZWxdID0gbG9nTGV2ZWwgPT0gbnVsbCA/IGxvZ0xldmVsIDogbG9nTGV2ZWxzLklORk87XG4gICAgICB0aGlzLnd6cmtFcnJvciA9IHt9O1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhMb2dnZXIsIFt7XG4gICAgICBrZXk6IFwiZXJyb3JcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBlcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ0xldmVsKVtfbG9nTGV2ZWxdID49IGxvZ0xldmVscy5FUlJPUikge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nKVtfbG9nXSgnZXJyb3InLCBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJpbmZvXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5mbyhtZXNzYWdlKSB7XG4gICAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ0xldmVsKVtfbG9nTGV2ZWxdID49IGxvZ0xldmVscy5JTkZPKSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2cpW19sb2ddKCdsb2cnLCBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkZWJ1Z1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlYnVnKG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nTGV2ZWwpW19sb2dMZXZlbF0gPj0gbG9nTGV2ZWxzLkRFQlVHIHx8IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNMZWdhY3lEZWJ1ZylbX2lzTGVnYWN5RGVidWddKSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2cpW19sb2ddKCdkZWJ1ZycsIG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInJlcG9ydEVycm9yXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVwb3J0RXJyb3IoY29kZSwgZGVzY3JpcHRpb24pIHtcbiAgICAgICAgdGhpcy53enJrRXJyb3IuYyA9IGNvZGU7XG4gICAgICAgIHRoaXMud3pya0Vycm9yLmQgPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5lcnJvcihcIlwiLmNvbmNhdChDTEVWRVJUQVBfRVJST1JfUFJFRklYLCBcIiBcIikuY29uY2F0KGNvZGUsIFwiOiBcIikuY29uY2F0KGRlc2NyaXB0aW9uKSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImxvZ0xldmVsXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nTGV2ZWwpW19sb2dMZXZlbF07XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobG9nTGV2ZWwpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dMZXZlbClbX2xvZ0xldmVsXSA9IGxvZ0xldmVsO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBMb2dnZXI7XG4gIH0oKTtcblxuICB2YXIgX2xvZzIgPSBmdW5jdGlvbiBfbG9nMihsZXZlbCwgbWVzc2FnZSkge1xuICAgIGlmICh3aW5kb3cuY29uc29sZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHRzID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIGNvbnNvbGVbbGV2ZWxdKFwiQ2xldmVyVGFwIFtcIi5jb25jYXQodHMsIFwiXTogXCIpLmNvbmNhdChtZXNzYWdlKSk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfTtcblxuICB2YXIgX2dldF9pc0xlZ2FjeURlYnVnID0gZnVuY3Rpb24gX2dldF9pc0xlZ2FjeURlYnVnKCkge1xuICAgIHJldHVybiB0eXBlb2Ygc2Vzc2lvblN0b3JhZ2UgIT09ICd1bmRlZmluZWQnICYmIHNlc3Npb25TdG9yYWdlLldaUktfRCA9PT0gJyc7XG4gIH07XG5cbiAgdmFyIF9sb2dnZXIkNSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwibG9nZ2VyXCIpO1xuXG4gIHZhciBfc2Vzc2lvbklkID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJzZXNzaW9uSWRcIik7XG5cbiAgdmFyIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZVwiKTtcblxuICB2YXIgU2Vzc2lvbk1hbmFnZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIC8vIFNDT09LSUVfTkFNRVxuICAgIGZ1bmN0aW9uIFNlc3Npb25NYW5hZ2VyKF9yZWYpIHtcbiAgICAgIHZhciBsb2dnZXIgPSBfcmVmLmxvZ2dlcixcbiAgICAgICAgICBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSA9IF9yZWYuaXNQZXJzb25hbGlzYXRpb25BY3RpdmU7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZXNzaW9uTWFuYWdlcik7XG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfbG9nZ2VyJDUsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9zZXNzaW9uSWQsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQzLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIHRoaXMuY29va2llTmFtZSA9IHZvaWQgMDtcbiAgICAgIHRoaXMuc2Nvb2tpZU9iaiA9IHZvaWQgMDtcbiAgICAgIHRoaXMuc2Vzc2lvbklkID0gU3RvcmFnZU1hbmFnZXIuZ2V0TWV0YVByb3AoJ2NzJyk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ1KVtfbG9nZ2VyJDVdID0gbG9nZ2VyO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQzKVtfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkM10gPSBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoU2Vzc2lvbk1hbmFnZXIsIFt7XG4gICAgICBrZXk6IFwiZ2V0U2Vzc2lvbkNvb2tpZU9iamVjdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlc3Npb25Db29raWVPYmplY3QoKSB7XG4gICAgICAgIHZhciBzY29va2llU3RyID0gU3RvcmFnZU1hbmFnZXIucmVhZENvb2tpZSh0aGlzLmNvb2tpZU5hbWUpO1xuICAgICAgICB2YXIgb2JqID0ge307XG5cbiAgICAgICAgaWYgKHNjb29raWVTdHIgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIGNvbnZlcnRpbmcgYmFjayBzaW5nbGUgcXVvdGVzIHRvIGRvdWJsZSBmb3IgSlNPTiBwYXJzaW5nIC0gaHR0cDovL3d3dy5pYW5kZXZsaW4uY29tL2Jsb2cvMjAxMi8wNC9odG1sNS9jb29raWVzLWpzb24tbG9jYWxzdG9yYWdlLWFuZC1vcGVyYVxuICAgICAgICAgIHNjb29raWVTdHIgPSBzY29va2llU3RyLnJlcGxhY2Uoc2luZ2xlUXVvdGVSZWdleCwgJ1wiJyk7XG4gICAgICAgICAgb2JqID0gSlNPTi5wYXJzZShzY29va2llU3RyKTtcblxuICAgICAgICAgIGlmICghaXNPYmplY3Qob2JqKSkge1xuICAgICAgICAgICAgb2JqID0ge307XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqLnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIC8vIGNoZWNrIHRpbWUgZWxhcHNlZCBzaW5jZSBsYXN0IHJlcXVlc3RcbiAgICAgICAgICAgICAgdmFyIGxhc3RUaW1lID0gb2JqLnQ7XG4gICAgICAgICAgICAgIHZhciBub3cgPSBnZXROb3coKTtcblxuICAgICAgICAgICAgICBpZiAobm93IC0gbGFzdFRpbWUgPiBTQ09PS0lFX0VYUF9USU1FX0lOX1NFQ1MgKyA2MCkge1xuICAgICAgICAgICAgICAgIC8vIGFkZGluZyA2MCBzZWNvbmRzIHRvIGNvbXBlbnNhdGUgZm9yIGluLWpvdXJuZXkgcmVxdWVzdHNcbiAgICAgICAgICAgICAgICAvLyBpZGVhbGx5IHRoZSBjb29raWUgc2hvdWxkJ3ZlIGRpZWQgYWZ0ZXIgU0NPT0tJRV9FWFBfVElNRV9JTl9TRUNTIGJ1dCBpdCdzIHN0aWxsIGFyb3VuZCBhcyB3ZSBjYW4gcmVhZFxuICAgICAgICAgICAgICAgIC8vIGhlbmNlIHdlIHNob3VsZG4ndCB1c2UgaXQuXG4gICAgICAgICAgICAgICAgb2JqID0ge307XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNjb29raWVPYmogPSBvYmo7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInNldFNlc3Npb25Db29raWVPYmplY3RcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTZXNzaW9uQ29va2llT2JqZWN0KG9iaikge1xuICAgICAgICB2YXIgb2JqU3RyID0gSlNPTi5zdHJpbmdpZnkob2JqKTtcbiAgICAgICAgU3RvcmFnZU1hbmFnZXIuY3JlYXRlQnJvYWRDb29raWUodGhpcy5jb29raWVOYW1lLCBvYmpTdHIsIFNDT09LSUVfRVhQX1RJTUVfSU5fU0VDUywgZ2V0SG9zdE5hbWUoKSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIm1hbmFnZVNlc3Npb25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBtYW5hZ2VTZXNzaW9uKHNlc3Npb24pIHtcbiAgICAgICAgLy8gZmlyc3QgdGltZS4gY2hlY2sgaWYgY3VycmVudCBzZXNzaW9uIGlkIGluIGxvY2Fsc3RvcmFnZSBpcyBzYW1lXG4gICAgICAgIC8vIGlmIG5vdCBzYW1lIHRoZW4gcHJldiA9IGN1cnJlbnQgYW5kIGN1cnJlbnQgPSB0aGlzIG5ldyBzZXNzaW9uXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5zZXNzaW9uSWQgPT09ICd1bmRlZmluZWQnIHx8IHRoaXMuc2Vzc2lvbklkICE9PSBzZXNzaW9uKSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnRTZXNzaW9uSW5MUyA9IFN0b3JhZ2VNYW5hZ2VyLmdldE1ldGFQcm9wKCdjcycpOyAvLyBpZiBzZXNzaW9uSWQgaW4gbWV0YSBpcyB1bmRlZmluZWQgLSBzZXQgY3VycmVudCB0byBib3RoXG5cbiAgICAgICAgICBpZiAodHlwZW9mIGN1cnJlbnRTZXNzaW9uSW5MUyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNldE1ldGFQcm9wKCdwcycsIHNlc3Npb24pO1xuICAgICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2V0TWV0YVByb3AoJ2NzJywgc2Vzc2lvbik7XG4gICAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zZXRNZXRhUHJvcCgnc2MnLCAxKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRTZXNzaW9uSW5MUyAhPT0gc2Vzc2lvbikge1xuICAgICAgICAgICAgLy8gbm90IHNhbWUgYXMgc2Vzc2lvbiBpbiBsb2NhbCBzdG9yYWdlLiBuZXcgc2Vzc2lvblxuICAgICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2V0TWV0YVByb3AoJ3BzJywgY3VycmVudFNlc3Npb25JbkxTKTtcbiAgICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNldE1ldGFQcm9wKCdjcycsIHNlc3Npb24pO1xuICAgICAgICAgICAgdmFyIHNlc3Npb25Db3VudCA9IFN0b3JhZ2VNYW5hZ2VyLmdldE1ldGFQcm9wKCdzYycpO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNlc3Npb25Db3VudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgc2Vzc2lvbkNvdW50ID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2V0TWV0YVByb3AoJ3NjJywgc2Vzc2lvbkNvdW50ICsgMSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5zZXNzaW9uSWQgPSBzZXNzaW9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImdldFRpbWVFbGFwc2VkXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VGltZUVsYXBzZWQoKSB7XG4gICAgICAgIGlmICghX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQzKVtfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkM10oKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNjb29raWVPYmogIT0gbnVsbCkge1xuICAgICAgICAgIC8vIFRPRE86IGNoZWNrIGxvZ2ljP1xuICAgICAgICAgIHRoaXMuc2Nvb2tpZU9iaiA9IHRoaXMuZ2V0U2Vzc2lvbkNvb2tpZU9iamVjdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlc3Npb25TdGFydCA9IHRoaXMuc2Nvb2tpZU9iai5zO1xuXG4gICAgICAgIGlmIChzZXNzaW9uU3RhcnQgIT0gbnVsbCkge1xuICAgICAgICAgIHZhciB0cyA9IGdldE5vdygpO1xuICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKHRzIC0gc2Vzc2lvblN0YXJ0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRQYWdlQ291bnRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQYWdlQ291bnQoKSB7XG4gICAgICAgIGlmICghX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQzKVtfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkM10oKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNjb29raWVPYmogIT0gbnVsbCkge1xuICAgICAgICAgIC8vIFRPRE86IGNoZWNrIGxvZ2ljXG4gICAgICAgICAgdGhpcy5zY29va2llT2JqID0gdGhpcy5nZXRTZXNzaW9uQ29va2llT2JqZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5zY29va2llT2JqLnA7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInNlc3Npb25JZFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb25JZClbX3Nlc3Npb25JZF07XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoc2Vzc2lvbklkKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbklkKVtfc2Vzc2lvbklkXSA9IHNlc3Npb25JZDtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gU2Vzc2lvbk1hbmFnZXI7XG4gIH0oKTtcblxuICB2YXIgc2VxTm8gPSAwO1xuICB2YXIgcmVxdWVzdFRpbWUgPSAwO1xuXG4gIHZhciBfbG9nZ2VyJDYgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImxvZ2dlclwiKTtcblxuICB2YXIgX2FjY291bnQkMiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYWNjb3VudFwiKTtcblxuICB2YXIgX2RldmljZSQyID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJkZXZpY2VcIik7XG5cbiAgdmFyIF9zZXNzaW9uJDIgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInNlc3Npb25cIik7XG5cbiAgdmFyIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQ0ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZVwiKTtcblxuICB2YXIgX2NsZWFyQ29va2llID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJjbGVhckNvb2tpZVwiKTtcblxuICB2YXIgX2FkZFRvTG9jYWxFdmVudE1hcCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYWRkVG9Mb2NhbEV2ZW50TWFwXCIpO1xuXG4gIHZhciBSZXF1ZXN0TWFuYWdlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVxdWVzdE1hbmFnZXIoX3JlZikge1xuICAgICAgdmFyIGxvZ2dlciA9IF9yZWYubG9nZ2VyLFxuICAgICAgICAgIGFjY291bnQgPSBfcmVmLmFjY291bnQsXG4gICAgICAgICAgZGV2aWNlID0gX3JlZi5kZXZpY2UsXG4gICAgICAgICAgc2Vzc2lvbiA9IF9yZWYuc2Vzc2lvbixcbiAgICAgICAgICBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSA9IF9yZWYuaXNQZXJzb25hbGlzYXRpb25BY3RpdmU7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZXF1ZXN0TWFuYWdlcik7XG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfYWRkVG9Mb2NhbEV2ZW50TWFwLCB7XG4gICAgICAgIHZhbHVlOiBfYWRkVG9Mb2NhbEV2ZW50TWFwMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2xvZ2dlciQ2LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfYWNjb3VudCQyLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfZGV2aWNlJDIsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9zZXNzaW9uJDIsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQ0LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfY2xlYXJDb29raWUsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICB0aGlzLnByb2Nlc3NpbmdCYWNrdXAgPSBmYWxzZTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0gPSBsb2dnZXI7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkMilbX2FjY291bnQkMl0gPSBhY2NvdW50O1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UkMilbX2RldmljZSQyXSA9IGRldmljZTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbiQyKVtfc2Vzc2lvbiQyXSA9IHNlc3Npb247XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDQpW19pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQ0XSA9IGlzUGVyc29uYWxpc2F0aW9uQWN0aXZlO1xuICAgICAgUmVxdWVzdERpc3BhdGNoZXIubG9nZ2VyID0gbG9nZ2VyO1xuICAgICAgUmVxdWVzdERpc3BhdGNoZXIuZGV2aWNlID0gZGV2aWNlO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhSZXF1ZXN0TWFuYWdlciwgW3tcbiAgICAgIGtleTogXCJwcm9jZXNzQmFja3VwRXZlbnRzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcHJvY2Vzc0JhY2t1cEV2ZW50cygpIHtcbiAgICAgICAgdmFyIGJhY2t1cE1hcCA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShMQ09PS0lFX05BTUUpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgYmFja3VwTWFwID09PSAndW5kZWZpbmVkJyB8fCBiYWNrdXBNYXAgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnByb2Nlc3NpbmdCYWNrdXAgPSB0cnVlO1xuXG4gICAgICAgIGZvciAodmFyIGlkeCBpbiBiYWNrdXBNYXApIHtcbiAgICAgICAgICBpZiAoYmFja3VwTWFwLmhhc093blByb3BlcnR5KGlkeCkpIHtcbiAgICAgICAgICAgIHZhciBiYWNrdXBFdmVudCA9IGJhY2t1cE1hcFtpZHhdO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGJhY2t1cEV2ZW50LmZpcmVkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ2KVtfbG9nZ2VyJDZdLmRlYnVnKCdQcm9jZXNzaW5nIGJhY2t1cCBldmVudCA6ICcgKyBiYWNrdXBFdmVudC5xKTtcblxuICAgICAgICAgICAgICBpZiAodHlwZW9mIGJhY2t1cEV2ZW50LnEgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgUmVxdWVzdERpc3BhdGNoZXIuZmlyZVJlcXVlc3QoYmFja3VwRXZlbnQucSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBiYWNrdXBFdmVudC5maXJlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShMQ09PS0lFX05BTUUsIGJhY2t1cE1hcCk7XG4gICAgICAgIHRoaXMucHJvY2Vzc2luZ0JhY2t1cCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJhZGRTeXN0ZW1EYXRhVG9PYmplY3RcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRTeXN0ZW1EYXRhVG9PYmplY3QoZGF0YU9iamVjdCwgaWdub3JlVHJpbSkge1xuICAgICAgICAvLyBpZ25vcmUgdHJpbSBmb3IgY2hyb21lIG5vdGlmaWNhdGlvbnM7IHVuZGVmaW5lZCBldmVyeXdoZXJlIGVsc2VcbiAgICAgICAgaWYgKHR5cGVvZiBpZ25vcmVUcmltID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGRhdGFPYmplY3QgPSByZW1vdmVVbnN1cHBvcnRlZENoYXJzKGRhdGFPYmplY3QsIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc09iamVjdEVtcHR5KF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0ud3pya0Vycm9yKSkge1xuICAgICAgICAgIGRhdGFPYmplY3Qud3pya19lcnJvciA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0ud3pya0Vycm9yO1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0ud3pya0Vycm9yID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhT2JqZWN0LmlkID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDIpW19hY2NvdW50JDJdLmlkO1xuXG4gICAgICAgIGlmIChpc1ZhbHVlVmFsaWQoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UkMilbX2RldmljZSQyXS5nY29va2llKSkge1xuICAgICAgICAgIGRhdGFPYmplY3QuZyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlJDIpW19kZXZpY2UkMl0uZ2Nvb2tpZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvYmogPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMilbX3Nlc3Npb24kMl0uZ2V0U2Vzc2lvbkNvb2tpZU9iamVjdCgpO1xuXG4gICAgICAgIGRhdGFPYmplY3QucyA9IG9iai5zOyAvLyBzZXNzaW9uIGNvb2tpZVxuXG4gICAgICAgIGRhdGFPYmplY3QucGcgPSB0eXBlb2Ygb2JqLnAgPT09ICd1bmRlZmluZWQnID8gMSA6IG9iai5wOyAvLyBQYWdlIGNvdW50XG5cbiAgICAgICAgcmV0dXJuIGRhdGFPYmplY3Q7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImFkZFN5c3RlbURhdGFUb1Byb2ZpbGVPYmplY3RcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRTeXN0ZW1EYXRhVG9Qcm9maWxlT2JqZWN0KGRhdGFPYmplY3QsIGlnbm9yZVRyaW0pIHtcbiAgICAgICAgaWYgKCFpc09iamVjdEVtcHR5KF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0ud3pya0Vycm9yKSkge1xuICAgICAgICAgIGRhdGFPYmplY3Qud3pya19lcnJvciA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0ud3pya0Vycm9yO1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0ud3pya0Vycm9yID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhT2JqZWN0LmlkID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDIpW19hY2NvdW50JDJdLmlkO1xuXG4gICAgICAgIGlmIChpc1ZhbHVlVmFsaWQoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UkMilbX2RldmljZSQyXS5nY29va2llKSkge1xuICAgICAgICAgIGRhdGFPYmplY3QuZyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlJDIpW19kZXZpY2UkMl0uZ2Nvb2tpZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvYmogPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMilbX3Nlc3Npb24kMl0uZ2V0U2Vzc2lvbkNvb2tpZU9iamVjdCgpO1xuXG4gICAgICAgIGRhdGFPYmplY3QucyA9IG9iai5zOyAvLyBzZXNzaW9uIGNvb2tpZVxuXG4gICAgICAgIGRhdGFPYmplY3QucGcgPSB0eXBlb2Ygb2JqLnAgPT09ICd1bmRlZmluZWQnID8gMSA6IG9iai5wOyAvLyBQYWdlIGNvdW50XG5cbiAgICAgICAgcmV0dXJuIGRhdGFPYmplY3Q7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImFkZEZsYWdzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRmxhZ3MoZGF0YSkge1xuICAgICAgICAvLyBjaGVjayBpZiBjb29raWUgc2hvdWxkIGJlIGNsZWFyZWQuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2xlYXJDb29raWUpW19jbGVhckNvb2tpZV0gPSBTdG9yYWdlTWFuYWdlci5nZXRBbmRDbGVhck1ldGFQcm9wKENMRUFSKTtcblxuICAgICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jbGVhckNvb2tpZSlbX2NsZWFyQ29va2llXSAhPT0gdW5kZWZpbmVkICYmIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2xlYXJDb29raWUpW19jbGVhckNvb2tpZV0pIHtcbiAgICAgICAgICBkYXRhLnJjID0gdHJ1ZTtcblxuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0uZGVidWcoJ3Jlc2V0IGNvb2tpZSBzZW50IGluIHJlcXVlc3QgYW5kIGNsZWFyZWQgZnJvbSBtZXRhIGZvciBmdXR1cmUgcmVxdWVzdHMuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQ0KVtfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkNF0oKSkge1xuICAgICAgICAgIHZhciBsYXN0U3luY1RpbWUgPSBTdG9yYWdlTWFuYWdlci5nZXRNZXRhUHJvcCgnbHNUaW1lJyk7XG4gICAgICAgICAgdmFyIGV4cGlyeVNlY29uZHMgPSBTdG9yYWdlTWFuYWdlci5nZXRNZXRhUHJvcCgnZXhUcycpOyAvLyBkc3luYyBub3QgZm91bmQgaW4gbG9jYWwgc3RvcmFnZSAtIGdldCBkYXRhIGZyb20gc2VydmVyXG5cbiAgICAgICAgICBpZiAodHlwZW9mIGxhc3RTeW5jVGltZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIGV4cGlyeVNlY29uZHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBkYXRhLmRzeW5jID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgbm93ID0gZ2V0Tm93KCk7IC8vIGxhc3Qgc3luYyB0aW1lIGhhcyBleHBpcmVkIC0gZ2V0IGZyZXNoIGRhdGEgZnJvbSBzZXJ2ZXJcblxuICAgICAgICAgIGlmIChsYXN0U3luY1RpbWUgKyBleHBpcnlTZWNvbmRzIDwgbm93KSB7XG4gICAgICAgICAgICBkYXRhLmRzeW5jID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gLy8gc2F2ZXMgdXJsIHRvIGJhY2t1cCBjYWNoZSBhbmQgZmlyZXMgdGhlIHJlcXVlc3RcblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJzYXZlQW5kRmlyZVJlcXVlc3RcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlQW5kRmlyZVJlcXVlc3QodXJsLCBvdmVycmlkZSwgc2VuZE9VTEZsYWcpIHtcbiAgICAgICAgdmFyIG5vdyA9IGdldE5vdygpO1xuICAgICAgICB1cmwgPSBhZGRUb1VSTCh1cmwsICdybicsICsrJGN0Lmdsb2JhbENhY2hlLlJFUV9OKTtcbiAgICAgICAgdmFyIGRhdGEgPSB1cmwgKyAnJmk9JyArIG5vdyArICcmc249JyArIHNlcU5vO1xuICAgICAgICBTdG9yYWdlTWFuYWdlci5iYWNrdXBFdmVudChkYXRhLCAkY3QuZ2xvYmFsQ2FjaGUuUkVRX04sIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0pOyAvLyBpZiB0aGVyZSBpcyBubyBvdmVycmlkZVxuICAgICAgICAvLyBhbmQgYW4gT1VMIHJlcXVlc3QgaXMgbm90IGluIHByb2dyZXNzXG4gICAgICAgIC8vIHRoZW4gcHJvY2VzcyB0aGUgcmVxdWVzdCBhcyBpdCBpc1xuICAgICAgICAvLyBlbHNlIGJsb2NrIHRoZSByZXF1ZXN0XG5cbiAgICAgICAgaWYgKCghb3ZlcnJpZGUgfHwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jbGVhckNvb2tpZSlbX2NsZWFyQ29va2llXSAhPT0gdW5kZWZpbmVkICYmIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2xlYXJDb29raWUpW19jbGVhckNvb2tpZV0pICYmICF3aW5kb3cuaXNPVUxJblByb2dyZXNzKSB7XG4gICAgICAgICAgaWYgKG5vdyA9PT0gcmVxdWVzdFRpbWUpIHtcbiAgICAgICAgICAgIHNlcU5vKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcXVlc3RUaW1lID0gbm93O1xuICAgICAgICAgICAgc2VxTm8gPSAwO1xuICAgICAgICAgIH0gLy8gc2Vjb25kIGFyZ3VtZW50IGV4cGxpY2l0bHkgc2V0IHRvIGZhbHNlIG9ubHkgaGVyZVxuICAgICAgICAgIC8vIGFzIHRoZSBhYm92ZSBvdmVycmlkZSBwYXJhbWV0ZXIgaXMgJGN0LmJsb2NrUmVxdWVzdFxuICAgICAgICAgIC8vIHdoaWNoIHNob3VsZCBjb250cm9sIGlmIHRoZSByZXF1ZXN0IHNob3VsZCBiZSBmaXJlZCBvciBub3RcblxuXG4gICAgICAgICAgUmVxdWVzdERpc3BhdGNoZXIuZmlyZVJlcXVlc3QoZGF0YSwgZmFsc2UsIHNlbmRPVUxGbGFnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ2KVtfbG9nZ2VyJDZdLmRlYnVnKFwiTm90IGZpcmVkIGR1ZSB0byBvdmVycmlkZSAtIFwiLmNvbmNhdCgkY3QuYmxvY2tSZXF1ZXN0LCBcIiBvciBjbGVhckNvb2tpZSAtIFwiKS5jb25jYXQoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jbGVhckNvb2tpZSlbX2NsZWFyQ29va2llXSwgXCIgb3IgT1VMIHJlcXVlc3QgaW4gcHJvZ3Jlc3MgLSBcIikuY29uY2F0KHdpbmRvdy5pc09VTEluUHJvZ3Jlc3MpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJ1bnJlZ2lzdGVyVG9rZW5Gb3JHdWlkXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdW5yZWdpc3RlclRva2VuRm9yR3VpZChnaXZlbkdVSUQpIHtcbiAgICAgICAgdmFyIHBheWxvYWQgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoUFVTSF9TVUJTQ1JJUFRJT05fREFUQSk7IC8vIFNlbmQgdW5yZWdpc3RlciBldmVudCBvbmx5IHdoZW4gdG9rZW4gaXMgYXZhaWxhYmxlXG5cbiAgICAgICAgaWYgKHBheWxvYWQpIHtcbiAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICAgIGRhdGEudHlwZSA9ICdkYXRhJztcblxuICAgICAgICAgIGlmIChpc1ZhbHVlVmFsaWQoZ2l2ZW5HVUlEKSkge1xuICAgICAgICAgICAgZGF0YS5nID0gZ2l2ZW5HVUlEO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRhdGEuYWN0aW9uID0gJ3VucmVnaXN0ZXInO1xuICAgICAgICAgIGRhdGEuaWQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkMilbX2FjY291bnQkMl0uaWQ7XG5cbiAgICAgICAgICB2YXIgb2JqID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uJDIpW19zZXNzaW9uJDJdLmdldFNlc3Npb25Db29raWVPYmplY3QoKTtcblxuICAgICAgICAgIGRhdGEucyA9IG9iai5zOyAvLyBzZXNzaW9uIGNvb2tpZVxuXG4gICAgICAgICAgdmFyIGNvbXByZXNzZWREYXRhID0gY29tcHJlc3NEYXRhKEpTT04uc3RyaW5naWZ5KGRhdGEpLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ2KVtfbG9nZ2VyJDZdKTtcblxuICAgICAgICAgIHZhciBwYWdlTG9hZFVybCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQyKVtfYWNjb3VudCQyXS5kYXRhUG9zdFVSTDtcblxuICAgICAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICd0eXBlJywgJ2RhdGEnKTtcbiAgICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAnZCcsIGNvbXByZXNzZWREYXRhKTtcbiAgICAgICAgICBSZXF1ZXN0RGlzcGF0Y2hlci5maXJlUmVxdWVzdChwYWdlTG9hZFVybCwgdHJ1ZSk7XG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShGSVJFX1BVU0hfVU5SRUdJU1RFUkVELCBmYWxzZSk7XG4gICAgICAgIH0gLy8gUkVHSVNURVIgVE9LRU5cblxuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJUb2tlbihwYXlsb2FkKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVnaXN0ZXJUb2tlblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyVG9rZW4ocGF5bG9hZCkge1xuICAgICAgICBpZiAoIXBheWxvYWQpIHJldHVybjtcbiAgICAgICAgcGF5bG9hZCA9IHRoaXMuYWRkU3lzdGVtRGF0YVRvT2JqZWN0KHBheWxvYWQsIHRydWUpO1xuICAgICAgICBwYXlsb2FkID0gSlNPTi5zdHJpbmdpZnkocGF5bG9hZCk7XG5cbiAgICAgICAgdmFyIHBhZ2VMb2FkVXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDIpW19hY2NvdW50JDJdLmRhdGFQb3N0VVJMO1xuXG4gICAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICd0eXBlJywgJ2RhdGEnKTtcbiAgICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ2QnLCBjb21wcmVzc0RhdGEocGF5bG9hZCwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNilbX2xvZ2dlciQ2XSkpO1xuICAgICAgICBSZXF1ZXN0RGlzcGF0Y2hlci5maXJlUmVxdWVzdChwYWdlTG9hZFVybCk7IC8vIHNldCBpbiBsb2NhbHN0b3JhZ2VcblxuICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlKFdFQlBVU0hfTFNfS0VZLCAnb2snKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicHJvY2Vzc0V2ZW50XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcHJvY2Vzc0V2ZW50KGRhdGEpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hZGRUb0xvY2FsRXZlbnRNYXApW19hZGRUb0xvY2FsRXZlbnRNYXBdKGRhdGEuZXZ0TmFtZSk7XG5cbiAgICAgICAgZGF0YSA9IHRoaXMuYWRkU3lzdGVtRGF0YVRvT2JqZWN0KGRhdGEsIHVuZGVmaW5lZCk7XG4gICAgICAgIHRoaXMuYWRkRmxhZ3MoZGF0YSk7XG4gICAgICAgIGRhdGFbQ0FNUF9DT09LSUVfTkFNRV0gPSBnZXRDYW1wYWlnbk9iakZvckxjKCk7XG4gICAgICAgIHZhciBjb21wcmVzc2VkRGF0YSA9IGNvbXByZXNzRGF0YShKU09OLnN0cmluZ2lmeShkYXRhKSwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNilbX2xvZ2dlciQ2XSk7XG5cbiAgICAgICAgdmFyIHBhZ2VMb2FkVXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDIpW19hY2NvdW50JDJdLmRhdGFQb3N0VVJMO1xuXG4gICAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICd0eXBlJywgRVZUX1BVU0gpO1xuICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAnZCcsIGNvbXByZXNzZWREYXRhKTtcbiAgICAgICAgdGhpcy5zYXZlQW5kRmlyZVJlcXVlc3QocGFnZUxvYWRVcmwsICRjdC5ibG9ja1JlcXVlc3QpO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBSZXF1ZXN0TWFuYWdlcjtcbiAgfSgpO1xuXG4gIHZhciBfYWRkVG9Mb2NhbEV2ZW50TWFwMiA9IGZ1bmN0aW9uIF9hZGRUb0xvY2FsRXZlbnRNYXAyKGV2dE5hbWUpIHtcbiAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgIGlmICh0eXBlb2YgJGN0Lmdsb2JhbEV2ZW50c01hcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgJGN0Lmdsb2JhbEV2ZW50c01hcCA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShFVl9DT09LSUUpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgJGN0Lmdsb2JhbEV2ZW50c01hcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAkY3QuZ2xvYmFsRXZlbnRzTWFwID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIG5vd1RzID0gZ2V0Tm93KCk7XG4gICAgICB2YXIgZXZ0RGV0YWlsID0gJGN0Lmdsb2JhbEV2ZW50c01hcFtldnROYW1lXTtcblxuICAgICAgaWYgKHR5cGVvZiBldnREZXRhaWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGV2dERldGFpbFsyXSA9IG5vd1RzO1xuICAgICAgICBldnREZXRhaWxbMF0rKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV2dERldGFpbCA9IFtdO1xuICAgICAgICBldnREZXRhaWwucHVzaCgxKTtcbiAgICAgICAgZXZ0RGV0YWlsLnB1c2gobm93VHMpO1xuICAgICAgICBldnREZXRhaWwucHVzaChub3dUcyk7XG4gICAgICB9XG5cbiAgICAgICRjdC5nbG9iYWxFdmVudHNNYXBbZXZ0TmFtZV0gPSBldnREZXRhaWw7XG4gICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEVWX0NPT0tJRSwgJGN0Lmdsb2JhbEV2ZW50c01hcCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBfcmVxdWVzdCQ0ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJyZXF1ZXN0XCIpO1xuXG4gIHZhciBfYWNjb3VudCQzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJhY2NvdW50XCIpO1xuXG4gIHZhciBfb2xkVmFsdWVzJDMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcIm9sZFZhbHVlc1wiKTtcblxuICB2YXIgX2xvZ2dlciQ3ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJsb2dnZXJcIik7XG5cbiAgdmFyIF9wcm9jZXNzUHJpdmFjeUFycmF5ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJwcm9jZXNzUHJpdmFjeUFycmF5XCIpO1xuXG4gIHZhciBQcml2YWN5ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQXJyYXkpIHtcbiAgICBfaW5oZXJpdHMoUHJpdmFjeSwgX0FycmF5KTtcblxuICAgIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoUHJpdmFjeSk7XG5cbiAgICBmdW5jdGlvbiBQcml2YWN5KF9yZWYsIHZhbHVlcykge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICB2YXIgcmVxdWVzdCA9IF9yZWYucmVxdWVzdCxcbiAgICAgICAgICBhY2NvdW50ID0gX3JlZi5hY2NvdW50LFxuICAgICAgICAgIGxvZ2dlciA9IF9yZWYubG9nZ2VyO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJpdmFjeSk7XG5cbiAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIF9wcm9jZXNzUHJpdmFjeUFycmF5LCB7XG4gICAgICAgIHZhbHVlOiBfcHJvY2Vzc1ByaXZhY3lBcnJheTJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfcmVxdWVzdCQ0LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgX2FjY291bnQkMywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIF9vbGRWYWx1ZXMkMywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIF9sb2dnZXIkNywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIF9sb2dnZXIkNylbX2xvZ2dlciQ3XSA9IGxvZ2dlcjtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgX3JlcXVlc3QkNClbX3JlcXVlc3QkNF0gPSByZXF1ZXN0O1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfYWNjb3VudCQzKVtfYWNjb3VudCQzXSA9IGFjY291bnQ7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIF9vbGRWYWx1ZXMkMylbX29sZFZhbHVlcyQzXSA9IHZhbHVlcztcbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoUHJpdmFjeSwgW3tcbiAgICAgIGtleTogXCJwdXNoXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcHVzaCgpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHByaXZhY3lBcnIgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgcHJpdmFjeUFycltfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkY3QuaXNQcml2YWN5QXJyUHVzaGVkKSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wcm9jZXNzUHJpdmFjeUFycmF5KVtfcHJvY2Vzc1ByaXZhY3lBcnJheV0oJGN0LnByaXZhY3lBcnJheS5sZW5ndGggPiAwID8gJGN0LnByaXZhY3lBcnJheSA6IHByaXZhY3lBcnIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBfJGN0JHByaXZhY3lBcnJheTtcblxuICAgICAgICAgIChfJGN0JHByaXZhY3lBcnJheSA9ICRjdC5wcml2YWN5QXJyYXkpLnB1c2guYXBwbHkoXyRjdCRwcml2YWN5QXJyYXksIHByaXZhY3lBcnIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9wcm9jZXNzT2xkVmFsdWVzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3Byb2Nlc3NPbGRWYWx1ZXMoKSB7XG4gICAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQzKVtfb2xkVmFsdWVzJDNdKSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wcm9jZXNzUHJpdmFjeUFycmF5KVtfcHJvY2Vzc1ByaXZhY3lBcnJheV0oX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMkMylbX29sZFZhbHVlcyQzXSk7XG4gICAgICAgIH1cblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQzKVtfb2xkVmFsdWVzJDNdID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUHJpdmFjeTtcbiAgfSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoQXJyYXkpKTtcblxuICB2YXIgX3Byb2Nlc3NQcml2YWN5QXJyYXkyID0gZnVuY3Rpb24gX3Byb2Nlc3NQcml2YWN5QXJyYXkyKHByaXZhY3lBcnIpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShwcml2YWN5QXJyKSAmJiBwcml2YWN5QXJyLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciBwcml2YWN5T2JqID0gcHJpdmFjeUFyci5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1cnIpIHtcbiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBwcmV2KSwgY3Vycik7XG4gICAgICB9LCB7fSk7XG4gICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgdmFyIHByb2ZpbGVPYmogPSB7fTtcbiAgICAgIHZhciBvcHRPdXQgPSBmYWxzZTtcblxuICAgICAgaWYgKHByaXZhY3lPYmouaGFzT3duUHJvcGVydHkoT1BUT1VUX0tFWSkpIHtcbiAgICAgICAgb3B0T3V0ID0gcHJpdmFjeU9ialtPUFRPVVRfS0VZXTtcblxuICAgICAgICBpZiAodHlwZW9mIG9wdE91dCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgcHJvZmlsZU9ialtDVF9PUFRPVVRfS0VZXSA9IG9wdE91dDsgLy8gc2hvdWxkIGJlIHRydWUgd2hlbiB1c2VyIHdhbnRzIHRvIG9wdCBpblxuXG4gICAgICAgICAgJGN0LmlzT3B0SW5SZXF1ZXN0ID0gIW9wdE91dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocHJpdmFjeU9iai5oYXNPd25Qcm9wZXJ0eShVU0VJUF9LRVkpKSB7XG4gICAgICAgIHZhciB1c2VJUCA9IHByaXZhY3lPYmpbVVNFSVBfS0VZXTtcbiAgICAgICAgdmFyIHNob3VsZFVzZUlQID0gdHlwZW9mIHVzZUlQID09PSAnYm9vbGVhbicgPyB1c2VJUCA6IGZhbHNlO1xuICAgICAgICBTdG9yYWdlTWFuYWdlci5zZXRNZXRhUHJvcChVU0VJUF9LRVksIHNob3VsZFVzZUlQKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc09iamVjdEVtcHR5KHByb2ZpbGVPYmopKSB7XG4gICAgICAgIGRhdGEudHlwZSA9ICdwcm9maWxlJztcbiAgICAgICAgZGF0YS5wcm9maWxlID0gcHJvZmlsZU9iajtcbiAgICAgICAgZGF0YSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ0KVtfcmVxdWVzdCQ0XS5hZGRTeXN0ZW1EYXRhVG9PYmplY3QoZGF0YSwgdW5kZWZpbmVkKTtcbiAgICAgICAgdmFyIGNvbXByZXNzZWREYXRhID0gY29tcHJlc3NEYXRhKEpTT04uc3RyaW5naWZ5KGRhdGEpLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ3KVtfbG9nZ2VyJDddKTtcblxuICAgICAgICB2YXIgcGFnZUxvYWRVcmwgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkMylbX2FjY291bnQkM10uZGF0YVBvc3RVUkw7XG5cbiAgICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ3R5cGUnLCBFVlRfUFVTSCk7XG4gICAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICdkJywgY29tcHJlc3NlZERhdGEpO1xuICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCBPUFRPVVRfS0VZLCBvcHRPdXQgPyAndHJ1ZScgOiAnZmFsc2UnKTtcblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNClbX3JlcXVlc3QkNF0uc2F2ZUFuZEZpcmVSZXF1ZXN0KHBhZ2VMb2FkVXJsLCAkY3QuYmxvY2tSZXF1ZXN0KTtcblxuICAgICAgICBwcml2YWN5QXJyLnNwbGljZSgwLCBwcml2YWN5QXJyLmxlbmd0aCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBfb2xkVmFsdWVzJDQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcIm9sZFZhbHVlc1wiKTtcblxuICB2YXIgX2xvZ2dlciQ4ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJsb2dnZXJcIik7XG5cbiAgdmFyIF9yZXF1ZXN0JDUgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInJlcXVlc3RcIik7XG5cbiAgdmFyIF9hY2NvdW50JDQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImFjY291bnRcIik7XG5cbiAgdmFyIF93aXpBbGVydEpTUGF0aCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwid2l6QWxlcnRKU1BhdGhcIik7XG5cbiAgdmFyIF9mY21QdWJsaWNLZXkgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImZjbVB1YmxpY0tleVwiKTtcblxuICB2YXIgX3NldFVwV2ViUHVzaCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwic2V0VXBXZWJQdXNoXCIpO1xuXG4gIHZhciBfc2V0VXBXZWJQdXNoTm90aWZpY2F0aW9ucyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwic2V0VXBXZWJQdXNoTm90aWZpY2F0aW9uc1wiKTtcblxuICB2YXIgX3NldEFwcGxpY2F0aW9uU2VydmVyS2V5ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJzZXRBcHBsaWNhdGlvblNlcnZlcktleVwiKTtcblxuICB2YXIgX3NldFVwU2FmYXJpTm90aWZpY2F0aW9ucyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwic2V0VXBTYWZhcmlOb3RpZmljYXRpb25zXCIpO1xuXG4gIHZhciBfc2V0VXBDaHJvbWVGaXJlZm94Tm90aWZpY2F0aW9ucyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwic2V0VXBDaHJvbWVGaXJlZm94Tm90aWZpY2F0aW9uc1wiKTtcblxuICB2YXIgX2FkZFdpekFsZXJ0SlMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImFkZFdpekFsZXJ0SlNcIik7XG5cbiAgdmFyIF9yZW1vdmVXaXpBbGVydEpTID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJyZW1vdmVXaXpBbGVydEpTXCIpO1xuXG4gIHZhciBfaGFuZGxlTm90aWZpY2F0aW9uUmVnaXN0cmF0aW9uID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJoYW5kbGVOb3RpZmljYXRpb25SZWdpc3RyYXRpb25cIik7XG5cbiAgdmFyIE5vdGlmaWNhdGlvbkhhbmRsZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9BcnJheSkge1xuICAgIF9pbmhlcml0cyhOb3RpZmljYXRpb25IYW5kbGVyLCBfQXJyYXkpO1xuXG4gICAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihOb3RpZmljYXRpb25IYW5kbGVyKTtcblxuICAgIGZ1bmN0aW9uIE5vdGlmaWNhdGlvbkhhbmRsZXIoX3JlZiwgdmFsdWVzKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIHZhciBsb2dnZXIgPSBfcmVmLmxvZ2dlcixcbiAgICAgICAgICBzZXNzaW9uID0gX3JlZi5zZXNzaW9uLFxuICAgICAgICAgIHJlcXVlc3QgPSBfcmVmLnJlcXVlc3QsXG4gICAgICAgICAgYWNjb3VudCA9IF9yZWYuYWNjb3VudDtcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5vdGlmaWNhdGlvbkhhbmRsZXIpO1xuXG4gICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfaGFuZGxlTm90aWZpY2F0aW9uUmVnaXN0cmF0aW9uLCB7XG4gICAgICAgIHZhbHVlOiBfaGFuZGxlTm90aWZpY2F0aW9uUmVnaXN0cmF0aW9uMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIF9yZW1vdmVXaXpBbGVydEpTLCB7XG4gICAgICAgIHZhbHVlOiBfcmVtb3ZlV2l6QWxlcnRKUzJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfYWRkV2l6QWxlcnRKUywge1xuICAgICAgICB2YWx1ZTogX2FkZFdpekFsZXJ0SlMyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgX3NldFVwQ2hyb21lRmlyZWZveE5vdGlmaWNhdGlvbnMsIHtcbiAgICAgICAgdmFsdWU6IF9zZXRVcENocm9tZUZpcmVmb3hOb3RpZmljYXRpb25zMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIF9zZXRVcFNhZmFyaU5vdGlmaWNhdGlvbnMsIHtcbiAgICAgICAgdmFsdWU6IF9zZXRVcFNhZmFyaU5vdGlmaWNhdGlvbnMyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgX3NldEFwcGxpY2F0aW9uU2VydmVyS2V5LCB7XG4gICAgICAgIHZhbHVlOiBfc2V0QXBwbGljYXRpb25TZXJ2ZXJLZXkyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgX3NldFVwV2ViUHVzaE5vdGlmaWNhdGlvbnMsIHtcbiAgICAgICAgdmFsdWU6IF9zZXRVcFdlYlB1c2hOb3RpZmljYXRpb25zMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIF9zZXRVcFdlYlB1c2gsIHtcbiAgICAgICAgdmFsdWU6IF9zZXRVcFdlYlB1c2gyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgX29sZFZhbHVlcyQ0LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgX2xvZ2dlciQ4LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgX3JlcXVlc3QkNSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIF9hY2NvdW50JDQsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfd2l6QWxlcnRKU1BhdGgsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfZmNtUHVibGljS2V5LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgX3dpekFsZXJ0SlNQYXRoKVtfd2l6QWxlcnRKU1BhdGhdID0gJ2h0dHBzOi8vZDJyMXlwMnc3YmJ5MnUuY2xvdWRmcm9udC5uZXQvanMvd3pya19kaWFsb2cubWluLmpzJztcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgX2ZjbVB1YmxpY0tleSlbX2ZjbVB1YmxpY0tleV0gPSBudWxsO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfb2xkVmFsdWVzJDQpW19vbGRWYWx1ZXMkNF0gPSB2YWx1ZXM7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIF9sb2dnZXIkOClbX2xvZ2dlciQ4XSA9IGxvZ2dlcjtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgX3JlcXVlc3QkNSlbX3JlcXVlc3QkNV0gPSByZXF1ZXN0O1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBfYWNjb3VudCQ0KVtfYWNjb3VudCQ0XSA9IGFjY291bnQ7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKE5vdGlmaWNhdGlvbkhhbmRsZXIsIFt7XG4gICAgICBrZXk6IFwicHVzaFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHB1c2goKSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBkaXNwbGF5QXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBkaXNwbGF5QXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2V0VXBXZWJQdXNoKVtfc2V0VXBXZWJQdXNoXShkaXNwbGF5QXJncyk7XG5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9wcm9jZXNzT2xkVmFsdWVzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3Byb2Nlc3NPbGRWYWx1ZXMoKSB7XG4gICAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQ0KVtfb2xkVmFsdWVzJDRdKSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXRVcFdlYlB1c2gpW19zZXRVcFdlYlB1c2hdKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzJDQpW19vbGRWYWx1ZXMkNF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMkNClbX29sZFZhbHVlcyQ0XSA9IG51bGw7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIl9lbmFibGVXZWJQdXNoXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2VuYWJsZVdlYlB1c2goZW5hYmxlZCwgYXBwbGljYXRpb25TZXJ2ZXJLZXkpIHtcbiAgICAgICAgJGN0LndlYlB1c2hFbmFibGVkID0gZW5hYmxlZDtcblxuICAgICAgICBpZiAoYXBwbGljYXRpb25TZXJ2ZXJLZXkgIT0gbnVsbCkge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2V0QXBwbGljYXRpb25TZXJ2ZXJLZXkpW19zZXRBcHBsaWNhdGlvblNlcnZlcktleV0oYXBwbGljYXRpb25TZXJ2ZXJLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCRjdC53ZWJQdXNoRW5hYmxlZCAmJiAkY3Qubm90aWZBcGkubm90aWZFbmFibGVkRnJvbUFwaSkge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaGFuZGxlTm90aWZpY2F0aW9uUmVnaXN0cmF0aW9uKVtfaGFuZGxlTm90aWZpY2F0aW9uUmVnaXN0cmF0aW9uXSgkY3Qubm90aWZBcGkuZGlzcGxheUFyZ3MpO1xuICAgICAgICB9IGVsc2UgaWYgKCEkY3Qud2ViUHVzaEVuYWJsZWQgJiYgJGN0Lm5vdGlmQXBpLm5vdGlmRW5hYmxlZEZyb21BcGkpIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ4KVtfbG9nZ2VyJDhdLmVycm9yKCdFbnN1cmUgdGhhdCB3ZWIgcHVzaCBub3RpZmljYXRpb25zIGFyZSBmdWxseSBlbmFibGVkIGFuZCBpbnRlZ3JhdGVkIGJlZm9yZSByZXF1ZXN0aW5nIHRoZW0nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBOb3RpZmljYXRpb25IYW5kbGVyO1xuICB9KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihBcnJheSkpO1xuXG4gIHZhciBfc2V0VXBXZWJQdXNoMiA9IGZ1bmN0aW9uIF9zZXRVcFdlYlB1c2gyKGRpc3BsYXlBcmdzKSB7XG4gICAgaWYgKCRjdC53ZWJQdXNoRW5hYmxlZCAmJiBkaXNwbGF5QXJncy5sZW5ndGggPiAwKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2hhbmRsZU5vdGlmaWNhdGlvblJlZ2lzdHJhdGlvbilbX2hhbmRsZU5vdGlmaWNhdGlvblJlZ2lzdHJhdGlvbl0oZGlzcGxheUFyZ3MpO1xuICAgIH0gZWxzZSBpZiAoJGN0LndlYlB1c2hFbmFibGVkID09IG51bGwgJiYgZGlzcGxheUFyZ3MubGVuZ3RoID4gMCkge1xuICAgICAgJGN0Lm5vdGlmQXBpLm5vdGlmRW5hYmxlZEZyb21BcGkgPSB0cnVlO1xuICAgICAgJGN0Lm5vdGlmQXBpLmRpc3BsYXlBcmdzID0gZGlzcGxheUFyZ3Muc2xpY2UoKTtcbiAgICB9IGVsc2UgaWYgKCRjdC53ZWJQdXNoRW5hYmxlZCA9PT0gZmFsc2UgJiYgZGlzcGxheUFyZ3MubGVuZ3RoID4gMCkge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOClbX2xvZ2dlciQ4XS5lcnJvcignTWFrZSBzdXJlIHB1c2ggbm90aWZpY2F0aW9ucyBhcmUgZnVsbHkgZW5hYmxlZCBhbmQgaW50ZWdyYXRlZCcpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgX3NldFVwV2ViUHVzaE5vdGlmaWNhdGlvbnMyID0gZnVuY3Rpb24gX3NldFVwV2ViUHVzaE5vdGlmaWNhdGlvbnMyKHN1YnNjcmlwdGlvbkNhbGxiYWNrLCBzZXJ2aWNlV29ya2VyUGF0aCwgYXBuc1dlYlB1c2hJZCwgYXBuc1NlcnZpY2VVcmwpIHtcbiAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUnKSAhPT0gLTEgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgIT09IC0xKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3NldFVwQ2hyb21lRmlyZWZveE5vdGlmaWNhdGlvbnMpW19zZXRVcENocm9tZUZpcmVmb3hOb3RpZmljYXRpb25zXShzdWJzY3JpcHRpb25DYWxsYmFjaywgc2VydmljZVdvcmtlclBhdGgpO1xuICAgIH0gZWxzZSBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdTYWZhcmknKSAhPT0gLTEpIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2V0VXBTYWZhcmlOb3RpZmljYXRpb25zKVtfc2V0VXBTYWZhcmlOb3RpZmljYXRpb25zXShzdWJzY3JpcHRpb25DYWxsYmFjaywgYXBuc1dlYlB1c2hJZCwgYXBuc1NlcnZpY2VVcmwpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgX3NldEFwcGxpY2F0aW9uU2VydmVyS2V5MiA9IGZ1bmN0aW9uIF9zZXRBcHBsaWNhdGlvblNlcnZlcktleTIoYXBwbGljYXRpb25TZXJ2ZXJLZXkpIHtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2ZjbVB1YmxpY0tleSlbX2ZjbVB1YmxpY0tleV0gPSBhcHBsaWNhdGlvblNlcnZlcktleTtcbiAgfTtcblxuICB2YXIgX3NldFVwU2FmYXJpTm90aWZpY2F0aW9uczIgPSBmdW5jdGlvbiBfc2V0VXBTYWZhcmlOb3RpZmljYXRpb25zMihzdWJzY3JpcHRpb25DYWxsYmFjaywgYXBuc1dlYlB1c2hJZCwgYXBuc1NlcnZpY2VVcmwpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIC8vIGVuc3VyZSB0aGF0IHByb3BlciBhcmd1bWVudHMgYXJlIHBhc3NlZFxuICAgIGlmICh0eXBlb2YgYXBuc1dlYlB1c2hJZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDgpW19sb2dnZXIkOF0uZXJyb3IoJ0Vuc3VyZSB0aGF0IEFQTlMgV2ViIFB1c2ggSUQgaXMgc3VwcGxpZWQnKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGFwbnNTZXJ2aWNlVXJsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOClbX2xvZ2dlciQ4XS5lcnJvcignRW5zdXJlIHRoYXQgQVBOUyBXZWIgUHVzaCBzZXJ2aWNlIHBhdGggaXMgc3VwcGxpZWQnKTtcbiAgICB9XG5cbiAgICBpZiAoJ3NhZmFyaScgaW4gd2luZG93ICYmICdwdXNoTm90aWZpY2F0aW9uJyBpbiB3aW5kb3cuc2FmYXJpKSB7XG4gICAgICB3aW5kb3cuc2FmYXJpLnB1c2hOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oYXBuc1NlcnZpY2VVcmwsIGFwbnNXZWJQdXNoSWQsIHt9LCBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb24ucGVybWlzc2lvbiA9PT0gJ2dyYW50ZWQnKSB7XG4gICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbkRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN1YnNjcmlwdGlvbikpO1xuICAgICAgICAgIHN1YnNjcmlwdGlvbkRhdGEuZW5kcG9pbnQgPSBzdWJzY3JpcHRpb24uZGV2aWNlVG9rZW47XG4gICAgICAgICAgc3Vic2NyaXB0aW9uRGF0YS5icm93c2VyID0gJ1NhZmFyaSc7XG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShQVVNIX1NVQlNDUklQVElPTl9EQVRBLCBzdWJzY3JpcHRpb25EYXRhKTtcblxuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfdGhpczIsIF9yZXF1ZXN0JDUpW19yZXF1ZXN0JDVdLnJlZ2lzdGVyVG9rZW4oc3Vic2NyaXB0aW9uRGF0YSk7XG5cbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX3RoaXMyLCBfbG9nZ2VyJDgpW19sb2dnZXIkOF0uaW5mbygnU2FmYXJpIFdlYiBQdXNoIHJlZ2lzdGVyZWQuIERldmljZSBUb2tlbjogJyArIHN1YnNjcmlwdGlvbi5kZXZpY2VUb2tlbik7XG4gICAgICAgIH0gZWxzZSBpZiAoc3Vic2NyaXB0aW9uLnBlcm1pc3Npb24gPT09ICdkZW5pZWQnKSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF90aGlzMiwgX2xvZ2dlciQ4KVtfbG9nZ2VyJDhdLmluZm8oJ0Vycm9yIHN1YnNjcmliaW5nIHRvIFNhZmFyaSB3ZWIgcHVzaCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIF9zZXRVcENocm9tZUZpcmVmb3hOb3RpZmljYXRpb25zMiA9IGZ1bmN0aW9uIF9zZXRVcENocm9tZUZpcmVmb3hOb3RpZmljYXRpb25zMihzdWJzY3JpcHRpb25DYWxsYmFjaywgc2VydmljZVdvcmtlclBhdGgpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHZhciByZWdpc3RyYXRpb25TY29wZSA9ICcnO1xuXG4gICAgaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IpIHtcbiAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKHNlcnZpY2VXb3JrZXJQYXRoKS50aGVuKGZ1bmN0aW9uIChyZWdpc3RyYXRpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBfX3d6cmtfYWNjb3VudF9pZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgLy8gc2hvcGlmeSBhY2NvdW50cyAsIHNpbmNlIHRoZSBzZXJ2aWNlIHdvcmtlciBpcyBub3QgYXQgcm9vdCwgc2VydmljZVdvcmtlci5yZWFkeSBpcyBuZXZlciByZXNvbHZlZC5cbiAgICAgICAgICAvLyBoZW5jZSBhZGQgYSB0aW1lb3V0IGFuZCBob3BlIHNlcnZpY2VXcm9rZXIgaXMgcmVhZHkgd2l0aGluIHRoYXQgdGltZS5cbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUocmVnaXN0cmF0aW9uKTtcbiAgICAgICAgICAgIH0sIDUwMDApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVnaXN0cmF0aW9uU2NvcGUgPSByZWdpc3RyYXRpb24uc2NvcGU7IC8vIElGIFNFUlZJQ0UgV09SS0VSIElTIEFUIFJPT1QsIFJFVFVSTiBUSEUgUkVBRFkgUFJPTUlTRVxuICAgICAgICAvLyBFTFNFIElGIENIUk9NRSBSRVRVUk4gUFJPTUlTRSBBRlRFUiA1IFNFQ09ORFNcbiAgICAgICAgLy8gT1IgZ2V0UmVnaXN0cmF0aW9ucyBQUk9NSVNFIElGIElUUyBGSVJFRk9YXG5cbiAgICAgICAgdmFyIHJvb3REaXJSZWdleCA9IC9eKFxcLj8pKFxcLz8pKFteL10qKS5qcyQvO1xuICAgICAgICB2YXIgaXNTZXJ2aWNlV29ya2VyQXRSb290ID0gcm9vdERpclJlZ2V4LnRlc3Qoc2VydmljZVdvcmtlclBhdGgpO1xuXG4gICAgICAgIGlmIChpc1NlcnZpY2VXb3JrZXJBdFJvb3QpIHtcbiAgICAgICAgICByZXR1cm4gbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVhZHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lJykgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHJlZ2lzdHJhdGlvbik7XG4gICAgICAgICAgICAgIH0sIDUwMDApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5nZXRSZWdpc3RyYXRpb25zKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKSB7XG4gICAgICAgIC8vIElUUyBBTiBBUlJBWSBJTiBDQVNFIE9GIEZJUkVGT1gsIFNPIFVTRSBUSEUgUkVHSVNUUkFUSU9OIFdJVEggUFJPUEVSIFNDT1BFXG4gICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSAhPT0gLTEgJiYgQXJyYXkuaXNBcnJheShzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKSkge1xuICAgICAgICAgIHNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24gPSBzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgcmV0dXJuIGkuc2NvcGUgPT09IHJlZ2lzdHJhdGlvblNjb3BlO1xuICAgICAgICAgIH0pWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN1YnNjcmliZU9iaiA9IHtcbiAgICAgICAgICB1c2VyVmlzaWJsZU9ubHk6IHRydWVcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF90aGlzMywgX2ZjbVB1YmxpY0tleSlbX2ZjbVB1YmxpY0tleV0gIT0gbnVsbCkge1xuICAgICAgICAgIHN1YnNjcmliZU9iai5hcHBsaWNhdGlvblNlcnZlcktleSA9IHVybEJhc2U2NFRvVWludDhBcnJheShfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX3RoaXMzLCBfZmNtUHVibGljS2V5KVtfZmNtUHVibGljS2V5XSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLnN1YnNjcmliZShzdWJzY3JpYmVPYmopLnRoZW4oZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfdGhpczMsIF9sb2dnZXIkOClbX2xvZ2dlciQ4XS5pbmZvKCdTZXJ2aWNlIFdvcmtlciByZWdpc3RlcmVkLiBFbmRwb2ludDogJyArIHN1YnNjcmlwdGlvbi5lbmRwb2ludCk7IC8vIGNvbnZlcnQgdGhlIHN1YnNjcmlwdGlvbiBrZXlzIHRvIHN0cmluZ3M7IHRoaXMgc2V0cyBpdCB1cCBuaWNlbHkgZm9yIHB1c2hpbmcgdG8gTENcblxuXG4gICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbkRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN1YnNjcmlwdGlvbikpOyAvLyByZW1vdmUgdGhlIGNvbW1vbiBjaHJvbWUvZmlyZWZveCBlbmRwb2ludCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSB0b2tlblxuXG4gICAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lJykgIT09IC0xKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25EYXRhLmVuZHBvaW50ID0gc3Vic2NyaXB0aW9uRGF0YS5lbmRwb2ludC5zcGxpdCgnLycpLnBvcCgpO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uRGF0YS5icm93c2VyID0gJ0Nocm9tZSc7XG4gICAgICAgICAgfSBlbHNlIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbkRhdGEuZW5kcG9pbnQgPSBzdWJzY3JpcHRpb25EYXRhLmVuZHBvaW50LnNwbGl0KCcvJykucG9wKCk7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25EYXRhLmJyb3dzZXIgPSAnRmlyZWZveCc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShQVVNIX1NVQlNDUklQVElPTl9EQVRBLCBzdWJzY3JpcHRpb25EYXRhKTsgLy8gdmFyIHNob3VsZFNlbmRUb2tlbiA9IHR5cGVvZiBzZXNzaW9uT2JqWydwJ10gPT09IFNUUklOR19DT05TVEFOVFMuVU5ERUZJTkVEIHx8IHNlc3Npb25PYmpbJ3AnXSA9PT0gMVxuXG4gICAgICAgICAge1xuICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF90aGlzMywgX3JlcXVlc3QkNSlbX3JlcXVlc3QkNV0ucmVnaXN0ZXJUb2tlbihzdWJzY3JpcHRpb25EYXRhKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHN1YnNjcmlwdGlvbkNhbGxiYWNrICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygc3Vic2NyaXB0aW9uQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbkNhbGxiYWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX3RoaXMzLCBfbG9nZ2VyJDgpW19sb2dnZXIkOF0uZXJyb3IoJ0Vycm9yIHN1YnNjcmliaW5nOiAnICsgZXJyb3IpOyAvLyB1bnN1YnNjcmliZSBmcm9tIHdlYnB1c2ggaWYgZXJyb3JcblxuXG4gICAgICAgICAgc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5nZXRTdWJzY3JpcHRpb24oKS50aGVuKGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCkudGhlbihmdW5jdGlvbiAoc3VjY2Vzc2Z1bCkge1xuICAgICAgICAgICAgICAgIC8vIFlvdSd2ZSBzdWNjZXNzZnVsbHkgdW5zdWJzY3JpYmVkXG4gICAgICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF90aGlzMywgX2xvZ2dlciQ4KVtfbG9nZ2VyJDhdLmluZm8oJ1Vuc3Vic2NyaXB0aW9uIHN1Y2Nlc3NmdWwnKTtcbiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBVbnN1YnNjcmlwdGlvbiBmYWlsZWRcbiAgICAgICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX3RoaXMzLCBfbG9nZ2VyJDgpW19sb2dnZXIkOF0uZXJyb3IoJ0Vycm9yIHVuc3Vic2NyaWJpbmc6ICcgKyBlKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX3RoaXMzLCBfbG9nZ2VyJDgpW19sb2dnZXIkOF0uZXJyb3IoJ2Vycm9yIHJlZ2lzdGVyaW5nIHNlcnZpY2Ugd29ya2VyOiAnICsgZXJyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgX2FkZFdpekFsZXJ0SlMyID0gZnVuY3Rpb24gX2FkZFdpekFsZXJ0SlMyKCkge1xuICAgIHZhciBzY3JpcHRUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBzY3JpcHRUYWcuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvamF2YXNjcmlwdCcpO1xuICAgIHNjcmlwdFRhZy5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3d6cmstYWxlcnQtanMnKTtcbiAgICBzY3JpcHRUYWcuc2V0QXR0cmlidXRlKCdzcmMnLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3dpekFsZXJ0SlNQYXRoKVtfd2l6QWxlcnRKU1BhdGhdKTsgLy8gYWRkIHRoZSBzY3JpcHQgdGFnIHRvIHRoZSBlbmQgb2YgdGhlIGJvZHlcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF0uYXBwZW5kQ2hpbGQoc2NyaXB0VGFnKTtcbiAgICByZXR1cm4gc2NyaXB0VGFnO1xuICB9O1xuXG4gIHZhciBfcmVtb3ZlV2l6QWxlcnRKUzIgPSBmdW5jdGlvbiBfcmVtb3ZlV2l6QWxlcnRKUzIoKSB7XG4gICAgdmFyIHNjcmlwdFRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3enJrLWFsZXJ0LWpzJyk7XG4gICAgc2NyaXB0VGFnLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0VGFnKTtcbiAgfTtcblxuICB2YXIgX2hhbmRsZU5vdGlmaWNhdGlvblJlZ2lzdHJhdGlvbjIgPSBmdW5jdGlvbiBfaGFuZGxlTm90aWZpY2F0aW9uUmVnaXN0cmF0aW9uMihkaXNwbGF5QXJncykge1xuICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgLy8gbWFrZSBzdXJlIGV2ZXJ5dGhpbmcgaXMgc3BlY2lmaWVkXG4gICAgdmFyIHRpdGxlVGV4dDtcbiAgICB2YXIgYm9keVRleHQ7XG4gICAgdmFyIG9rQnV0dG9uVGV4dDtcbiAgICB2YXIgcmVqZWN0QnV0dG9uVGV4dDtcbiAgICB2YXIgb2tCdXR0b25Db2xvcjtcbiAgICB2YXIgc2tpcERpYWxvZztcbiAgICB2YXIgYXNrQWdhaW5UaW1lSW5TZWNvbmRzO1xuICAgIHZhciBva0NhbGxiYWNrO1xuICAgIHZhciByZWplY3RDYWxsYmFjaztcbiAgICB2YXIgc3Vic2NyaXB0aW9uQ2FsbGJhY2s7XG4gICAgdmFyIGhpZGVQb3dlcmVkQnlDVDtcbiAgICB2YXIgc2VydmljZVdvcmtlclBhdGg7XG4gICAgdmFyIGh0dHBzUG9wdXBQYXRoO1xuICAgIHZhciBodHRwc0lmcmFtZVBhdGg7XG4gICAgdmFyIGFwbnNXZWJQdXNoSWQ7XG4gICAgdmFyIGFwbnNXZWJQdXNoU2VydmljZVVybDtcblxuICAgIGlmIChkaXNwbGF5QXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGlmIChpc09iamVjdChkaXNwbGF5QXJnc1swXSkpIHtcbiAgICAgICAgdmFyIG5vdGlmT2JqID0gZGlzcGxheUFyZ3NbMF07XG4gICAgICAgIHRpdGxlVGV4dCA9IG5vdGlmT2JqLnRpdGxlVGV4dDtcbiAgICAgICAgYm9keVRleHQgPSBub3RpZk9iai5ib2R5VGV4dDtcbiAgICAgICAgb2tCdXR0b25UZXh0ID0gbm90aWZPYmoub2tCdXR0b25UZXh0O1xuICAgICAgICByZWplY3RCdXR0b25UZXh0ID0gbm90aWZPYmoucmVqZWN0QnV0dG9uVGV4dDtcbiAgICAgICAgb2tCdXR0b25Db2xvciA9IG5vdGlmT2JqLm9rQnV0dG9uQ29sb3I7XG4gICAgICAgIHNraXBEaWFsb2cgPSBub3RpZk9iai5za2lwRGlhbG9nO1xuICAgICAgICBhc2tBZ2FpblRpbWVJblNlY29uZHMgPSBub3RpZk9iai5hc2tBZ2FpblRpbWVJblNlY29uZHM7XG4gICAgICAgIG9rQ2FsbGJhY2sgPSBub3RpZk9iai5va0NhbGxiYWNrO1xuICAgICAgICByZWplY3RDYWxsYmFjayA9IG5vdGlmT2JqLnJlamVjdENhbGxiYWNrO1xuICAgICAgICBzdWJzY3JpcHRpb25DYWxsYmFjayA9IG5vdGlmT2JqLnN1YnNjcmlwdGlvbkNhbGxiYWNrO1xuICAgICAgICBoaWRlUG93ZXJlZEJ5Q1QgPSBub3RpZk9iai5oaWRlUG93ZXJlZEJ5Q1Q7XG4gICAgICAgIHNlcnZpY2VXb3JrZXJQYXRoID0gbm90aWZPYmouc2VydmljZVdvcmtlclBhdGg7XG4gICAgICAgIGh0dHBzUG9wdXBQYXRoID0gbm90aWZPYmouaHR0cHNQb3B1cFBhdGg7XG4gICAgICAgIGh0dHBzSWZyYW1lUGF0aCA9IG5vdGlmT2JqLmh0dHBzSWZyYW1lUGF0aDtcbiAgICAgICAgYXBuc1dlYlB1c2hJZCA9IG5vdGlmT2JqLmFwbnNXZWJQdXNoSWQ7XG4gICAgICAgIGFwbnNXZWJQdXNoU2VydmljZVVybCA9IG5vdGlmT2JqLmFwbnNXZWJQdXNoU2VydmljZVVybDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGl0bGVUZXh0ID0gZGlzcGxheUFyZ3NbMF07XG4gICAgICBib2R5VGV4dCA9IGRpc3BsYXlBcmdzWzFdO1xuICAgICAgb2tCdXR0b25UZXh0ID0gZGlzcGxheUFyZ3NbMl07XG4gICAgICByZWplY3RCdXR0b25UZXh0ID0gZGlzcGxheUFyZ3NbM107XG4gICAgICBva0J1dHRvbkNvbG9yID0gZGlzcGxheUFyZ3NbNF07XG4gICAgICBza2lwRGlhbG9nID0gZGlzcGxheUFyZ3NbNV07XG4gICAgICBhc2tBZ2FpblRpbWVJblNlY29uZHMgPSBkaXNwbGF5QXJnc1s2XTtcbiAgICB9XG5cbiAgICBpZiAoc2tpcERpYWxvZyA9PSBudWxsKSB7XG4gICAgICBza2lwRGlhbG9nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGhpZGVQb3dlcmVkQnlDVCA9PSBudWxsKSB7XG4gICAgICBoaWRlUG93ZXJlZEJ5Q1QgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoc2VydmljZVdvcmtlclBhdGggPT0gbnVsbCkge1xuICAgICAgc2VydmljZVdvcmtlclBhdGggPSAnL2NsZXZlcnRhcF9zdy5qcyc7XG4gICAgfSAvLyBlbnN1cmUgdGhhdCB0aGUgYnJvd3NlciBzdXBwb3J0cyBub3RpZmljYXRpb25zXG5cblxuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGlzSFRUUCA9IGh0dHBzUG9wdXBQYXRoICE9IG51bGwgJiYgaHR0cHNJZnJhbWVQYXRoICE9IG51bGw7IC8vIG1ha2Ugc3VyZSB0aGUgc2l0ZSBpcyBvbiBodHRwcyBmb3IgY2hyb21lIG5vdGlmaWNhdGlvbnNcblxuICAgIGlmICh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgIT09ICdodHRwczonICYmIGRvY3VtZW50LmxvY2F0aW9uLmhvc3RuYW1lICE9PSAnbG9jYWxob3N0JyAmJiAhaXNIVFRQKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ4KVtfbG9nZ2VyJDhdLmVycm9yKCdNYWtlIHN1cmUgeW91IGFyZSBodHRwcyBvciBsb2NhbGhvc3QgdG8gcmVnaXN0ZXIgZm9yIG5vdGlmaWNhdGlvbnMnKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gcmlnaHQgbm93LCB3ZSBvbmx5IHN1cHBvcnQgQ2hyb21lIFY1MCAmIGhpZ2hlciAmIEZpcmVmb3hcblxuXG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lJykgIT09IC0xKSB7XG4gICAgICB2YXIgY2hyb21lQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbWVcXC8oXFxkKykvKTtcblxuICAgICAgaWYgKGNocm9tZUFnZW50ID09IG51bGwgfHwgcGFyc2VJbnQoY2hyb21lQWdlbnRbMV0sIDEwKSA8IDUwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpICE9PSAtMSkge1xuICAgICAgdmFyIGZpcmVmb3hBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0ZpcmVmb3hcXC8oXFxkKykvKTtcblxuICAgICAgaWYgKGZpcmVmb3hBZ2VudCA9PSBudWxsIHx8IHBhcnNlSW50KGZpcmVmb3hBZ2VudFsxXSwgMTApIDwgNTApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdTYWZhcmknKSAhPT0gLTEpIHtcbiAgICAgIHZhciBzYWZhcmlBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1NhZmFyaVxcLyhcXGQrKS8pO1xuXG4gICAgICBpZiAoc2FmYXJpQWdlbnQgPT0gbnVsbCB8fCBwYXJzZUludChzYWZhcmlBZ2VudFsxXSwgMTApIDwgNTApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyB3ZSBjaGVjayBmb3IgdGhlIGNvb2tpZSBpbiBzZXRVcENocm9tZU5vdGlmaWNhdGlvbnMoKSB0aGUgdG9rZW5zIG1heSBoYXZlIGNoYW5nZWRcblxuXG4gICAgaWYgKCFpc0hUVFApIHtcbiAgICAgIGlmIChOb3RpZmljYXRpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIGhhbmRsZSBtaWdyYXRpb25zIGZyb20gb3RoZXIgc2VydmljZXMgLT4gY2hyb21lIG5vdGlmaWNhdGlvbnMgbWF5IGhhdmUgYWxyZWFkeSBiZWVuIGFza2VkIGZvciBiZWZvcmVcblxuXG4gICAgICBpZiAoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT09ICdncmFudGVkJykge1xuICAgICAgICAvLyBza2lwIHRoZSBkaWFsb2cgYW5kIHJlZ2lzdGVyXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2V0VXBXZWJQdXNoTm90aWZpY2F0aW9ucylbX3NldFVwV2ViUHVzaE5vdGlmaWNhdGlvbnNdKHN1YnNjcmlwdGlvbkNhbGxiYWNrLCBzZXJ2aWNlV29ya2VyUGF0aCwgYXBuc1dlYlB1c2hJZCwgYXBuc1dlYlB1c2hTZXJ2aWNlVXJsKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09PSAnZGVuaWVkJykge1xuICAgICAgICAvLyB3ZSd2ZSBsb3N0IHRoaXMgcHJvZmlsZSA6JyhcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2tpcERpYWxvZykge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3NldFVwV2ViUHVzaE5vdGlmaWNhdGlvbnMpW19zZXRVcFdlYlB1c2hOb3RpZmljYXRpb25zXShzdWJzY3JpcHRpb25DYWxsYmFjaywgc2VydmljZVdvcmtlclBhdGgsIGFwbnNXZWJQdXNoSWQsIGFwbnNXZWJQdXNoU2VydmljZVVybCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gLy8gbWFrZSBzdXJlIHRoZSByaWdodCBwYXJhbWV0ZXJzIGFyZSBwYXNzZWRcblxuXG4gICAgaWYgKCF0aXRsZVRleHQgfHwgIWJvZHlUZXh0IHx8ICFva0J1dHRvblRleHQgfHwgIXJlamVjdEJ1dHRvblRleHQpIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDgpW19sb2dnZXIkOF0uZXJyb3IoJ01pc3NpbmcgaW5wdXQgcGFyYW1ldGVyczsgcGxlYXNlIHNwZWNpZnkgdGl0bGUsIGJvZHksIG9rIGJ1dHRvbiBhbmQgY2FuY2VsIGJ1dHRvbiB0ZXh0Jyk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9IC8vIG1ha2Ugc3VyZSBva0J1dHRvbkNvbG9yIGlzIGZvcm1hdHRlZCBwcm9wZXJseVxuXG5cbiAgICBpZiAob2tCdXR0b25Db2xvciA9PSBudWxsIHx8ICFva0J1dHRvbkNvbG9yLm1hdGNoKC9eI1thLWZcXGRdezZ9JC9pKSkge1xuICAgICAgb2tCdXR0b25Db2xvciA9ICcjZjI4MDQ2JzsgLy8gZGVmYXVsdCBjb2xvciBmb3IgcG9zaXRpdmUgYnV0dG9uXG4gICAgfSAvLyBtYWtlIHN1cmUgdGhlIHVzZXIgaXNuJ3QgYXNrZWQgZm9yIG5vdGlmaWNhdGlvbnMgbW9yZSB0aGFuIGFza0FnYWluVGltZUluU2Vjb25kc1xuXG5cbiAgICB2YXIgbm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwO1xuXG4gICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLmdldE1ldGFQcm9wKCdub3RpZl9sYXN0X3RpbWUnKSA9PSBudWxsKSB7XG4gICAgICBTdG9yYWdlTWFuYWdlci5zZXRNZXRhUHJvcCgnbm90aWZfbGFzdF90aW1lJywgbm93KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGFza0FnYWluVGltZUluU2Vjb25kcyA9PSBudWxsKSB7XG4gICAgICAgIC8vIDcgZGF5cyBieSBkZWZhdWx0XG4gICAgICAgIGFza0FnYWluVGltZUluU2Vjb25kcyA9IDcgKiAyNCAqIDYwICogNjA7XG4gICAgICB9XG5cbiAgICAgIGlmIChub3cgLSBTdG9yYWdlTWFuYWdlci5nZXRNZXRhUHJvcCgnbm90aWZfbGFzdF90aW1lJykgPCBhc2tBZ2FpblRpbWVJblNlY29uZHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY29udGludWUgYXNraW5nXG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNldE1ldGFQcm9wKCdub3RpZl9sYXN0X3RpbWUnLCBub3cpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc0hUVFApIHtcbiAgICAgIC8vIGFkZCB0aGUgaHR0cHMgaWZyYW1lXG4gICAgICB2YXIgaHR0cHNJZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICAgIGh0dHBzSWZyYW1lLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTpub25lOycpO1xuICAgICAgaHR0cHNJZnJhbWUuc2V0QXR0cmlidXRlKCdzcmMnLCBodHRwc0lmcmFtZVBhdGgpO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChodHRwc0lmcmFtZSk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuZGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgdmFyIG9iaiA9IHt9O1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9iaiA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gbm90IGEgY2FsbCBmcm9tIG91ciBpZnJhbWVcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob2JqLnN0YXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChvYmouZnJvbSA9PT0gJ2N0JyAmJiBvYmouc3RhdGUgPT09ICdub3QnKSB7XG4gICAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfdGhpczQsIF9hZGRXaXpBbGVydEpTKVtfYWRkV2l6QWxlcnRKU10oKS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIG91ciB3aXpyb2NrZXQgcG9wdXBcbiAgICAgICAgICAgICAgICB3aW5kb3cud3pya1Blcm1pc3Npb25Qb3B1cC53aXpBbGVydCh7XG4gICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGVUZXh0LFxuICAgICAgICAgICAgICAgICAgYm9keTogYm9keVRleHQsXG4gICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogb2tCdXR0b25UZXh0LFxuICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiBva0J1dHRvbkNvbG9yLFxuICAgICAgICAgICAgICAgICAgcmVqZWN0QnV0dG9uVGV4dDogcmVqZWN0QnV0dG9uVGV4dCxcbiAgICAgICAgICAgICAgICAgIGhpZGVQb3dlcmVkQnlDVDogaGlkZVBvd2VyZWRCeUNUXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgIC8vIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgdXNlciBhY2NlcHRlZCBvbiB0aGUgZGlhbG9nIGJveFxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9rQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICBva0NhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gLy8gcmVkaXJlY3QgdG8gcG9wdXAuaHRtbFxuXG5cbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oaHR0cHNQb3B1cFBhdGgpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZWplY3RDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgIHJlamVjdENhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF90aGlzNCwgX3JlbW92ZVdpekFsZXJ0SlMpW19yZW1vdmVXaXpBbGVydEpTXSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FkZFdpekFsZXJ0SlMpW19hZGRXaXpBbGVydEpTXSgpLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gY3JlYXRlIG91ciB3aXpyb2NrZXQgcG9wdXBcbiAgICAgICAgd2luZG93Lnd6cmtQZXJtaXNzaW9uUG9wdXAud2l6QWxlcnQoe1xuICAgICAgICAgIHRpdGxlOiB0aXRsZVRleHQsXG4gICAgICAgICAgYm9keTogYm9keVRleHQsXG4gICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IG9rQnV0dG9uVGV4dCxcbiAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6IG9rQnV0dG9uQ29sb3IsXG4gICAgICAgICAgcmVqZWN0QnV0dG9uVGV4dDogcmVqZWN0QnV0dG9uVGV4dCxcbiAgICAgICAgICBoaWRlUG93ZXJlZEJ5Q1Q6IGhpZGVQb3dlcmVkQnlDVFxuICAgICAgICB9LCBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICAgICAgICAgIC8vIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAgICAgICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgICAgICAgIC8vIHRoZSB1c2VyIGFjY2VwdGVkIG9uIHRoZSBkaWFsb2cgYm94XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9rQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgb2tDYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX3RoaXM0LCBfc2V0VXBXZWJQdXNoTm90aWZpY2F0aW9ucylbX3NldFVwV2ViUHVzaE5vdGlmaWNhdGlvbnNdKHN1YnNjcmlwdGlvbkNhbGxiYWNrLCBzZXJ2aWNlV29ya2VyUGF0aCwgYXBuc1dlYlB1c2hJZCwgYXBuc1dlYlB1c2hTZXJ2aWNlVXJsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZWplY3RDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICByZWplY3RDYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfdGhpczQsIF9yZW1vdmVXaXpBbGVydEpTKVtfcmVtb3ZlV2l6QWxlcnRKU10oKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICB2YXIgX2xvZ2dlciQ5ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJsb2dnZXJcIik7XG5cbiAgdmFyIF9hcGkgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImFwaVwiKTtcblxuICB2YXIgX29ubG9hZGNhbGxlZCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwib25sb2FkY2FsbGVkXCIpO1xuXG4gIHZhciBfZGV2aWNlJDMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImRldmljZVwiKTtcblxuICB2YXIgX3Nlc3Npb24kMyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwic2Vzc2lvblwiKTtcblxuICB2YXIgX2FjY291bnQkNSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYWNjb3VudFwiKTtcblxuICB2YXIgX3JlcXVlc3QkNiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicmVxdWVzdFwiKTtcblxuICB2YXIgX2lzU3BhID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJpc1NwYVwiKTtcblxuICB2YXIgX3ByZXZpb3VzVXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJwcmV2aW91c1VybFwiKTtcblxuICB2YXIgX2JvdW5kQ2hlY2tQYWdlQ2hhbmdlZCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYm91bmRDaGVja1BhZ2VDaGFuZ2VkXCIpO1xuXG4gIHZhciBfaXNXZWJQb3BVcFNwYW1Db250cm9sRGlzYWJsZWQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImlzV2ViUG9wVXBTcGFtQ29udHJvbERpc2FibGVkXCIpO1xuXG4gIHZhciBfcHJvY2Vzc09sZFZhbHVlcyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicHJvY2Vzc09sZFZhbHVlc1wiKTtcblxuICB2YXIgX2NoZWNrUGFnZUNoYW5nZWQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImNoZWNrUGFnZUNoYW5nZWRcIik7XG5cbiAgdmFyIF9waW5nUmVxdWVzdCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicGluZ1JlcXVlc3RcIik7XG5cbiAgdmFyIF9pc1BpbmdDb250aW51b3VzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJpc1BpbmdDb250aW51b3VzXCIpO1xuXG4gIHZhciBfb3ZlcnJpZGVEU3luY0ZsYWcgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcIm92ZXJyaWRlRFN5bmNGbGFnXCIpO1xuXG4gIHZhciBDbGV2ZXJUYXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIF9jcmVhdGVDbGFzcyhDbGV2ZXJUYXAsIFt7XG4gICAgICBrZXk6IFwic3BhXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNTcGEpW19pc1NwYV07XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgdmFyIGlzU3BhID0gdmFsdWUgPT09IHRydWU7XG5cbiAgICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNTcGEpW19pc1NwYV0gIT09IGlzU3BhICYmIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb25sb2FkY2FsbGVkKVtfb25sb2FkY2FsbGVkXSA9PT0gMSkge1xuICAgICAgICAgIC8vIGlmIGNsZXZlcnRhcC5zcGEgaXMgY2hhbmdlZCBhZnRlciBpbml0IGhhcyBiZWVuIGNhbGxlZCB0aGVuIHVwZGF0ZSB0aGUgY2xpY2sgbGlzdGVuZXJzXG4gICAgICAgICAgaWYgKGlzU3BhKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYm91bmRDaGVja1BhZ2VDaGFuZ2VkKVtfYm91bmRDaGVja1BhZ2VDaGFuZ2VkXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9ib3VuZENoZWNrUGFnZUNoYW5nZWQpW19ib3VuZENoZWNrUGFnZUNoYW5nZWRdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzU3BhKVtfaXNTcGFdID0gaXNTcGE7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRpc21pc3NTcGFtQ29udHJvbFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzV2ViUG9wVXBTcGFtQ29udHJvbERpc2FibGVkKVtfaXNXZWJQb3BVcFNwYW1Db250cm9sRGlzYWJsZWRdO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgIHZhciBpc1dlYlBvcFVwU3BhbUNvbnRyb2xEaXNhYmxlZCA9IHZhbHVlID09PSB0cnVlO1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzV2ViUG9wVXBTcGFtQ29udHJvbERpc2FibGVkKVtfaXNXZWJQb3BVcFNwYW1Db250cm9sRGlzYWJsZWRdID0gaXNXZWJQb3BVcFNwYW1Db250cm9sRGlzYWJsZWQ7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgZnVuY3Rpb24gQ2xldmVyVGFwKCkge1xuICAgICAgdmFyIF9jbGV2ZXJ0YXAkYWNjb3VudCxcbiAgICAgICAgICBfY2xldmVydGFwJGFjY291bnQyLFxuICAgICAgICAgIF9jbGV2ZXJ0YXAkYWNjb3VudDMsXG4gICAgICAgICAgX3RoaXMgPSB0aGlzLFxuICAgICAgICAgIF9jbGV2ZXJ0YXAkYWNjb3VudDQ7XG5cbiAgICAgIHZhciBjbGV2ZXJ0YXAgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2xldmVyVGFwKTtcblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9vdmVycmlkZURTeW5jRmxhZywge1xuICAgICAgICB2YWx1ZTogX292ZXJyaWRlRFN5bmNGbGFnMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2lzUGluZ0NvbnRpbnVvdXMsIHtcbiAgICAgICAgdmFsdWU6IF9pc1BpbmdDb250aW51b3VzMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3BpbmdSZXF1ZXN0LCB7XG4gICAgICAgIHZhbHVlOiBfcGluZ1JlcXVlc3QyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfY2hlY2tQYWdlQ2hhbmdlZCwge1xuICAgICAgICB2YWx1ZTogX2NoZWNrUGFnZUNoYW5nZWQyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcHJvY2Vzc09sZFZhbHVlcywge1xuICAgICAgICB2YWx1ZTogX3Byb2Nlc3NPbGRWYWx1ZXMyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfbG9nZ2VyJDksIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9hcGksIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9vbmxvYWRjYWxsZWQsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9kZXZpY2UkMywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3Nlc3Npb24kMywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2FjY291bnQkNSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3JlcXVlc3QkNiwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2lzU3BhLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcHJldmlvdXNVcmwsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9ib3VuZENoZWNrUGFnZUNoYW5nZWQsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NoZWNrUGFnZUNoYW5nZWQpW19jaGVja1BhZ2VDaGFuZ2VkXS5iaW5kKHRoaXMpXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfaXNXZWJQb3BVcFNwYW1Db250cm9sRGlzYWJsZWQsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgdGhpcy5lbmFibGVQZXJzb25hbGl6YXRpb24gPSB2b2lkIDA7XG4gICAgICB0aGlzLnBvcHVwQ2FsbGJhY2tzID0ge307XG4gICAgICB0aGlzLnBvcHVwQ3VycmVudFd6cmtJZCA9ICcnO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbmxvYWRjYWxsZWQpW19vbmxvYWRjYWxsZWRdID0gMDtcbiAgICAgIHRoaXMuX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlID0gdGhpcy5faXNQZXJzb25hbGlzYXRpb25BY3RpdmUuYmluZCh0aGlzKTtcblxuICAgICAgdGhpcy5yYWlzZU5vdGlmaWNhdGlvbkNsaWNrZWQgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOSlbX2xvZ2dlciQ5XSA9IG5ldyBMb2dnZXIobG9nTGV2ZWxzLklORk8pO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDUpW19hY2NvdW50JDVdID0gbmV3IEFjY291bnQoKF9jbGV2ZXJ0YXAkYWNjb3VudCA9IGNsZXZlcnRhcC5hY2NvdW50KSA9PT0gbnVsbCB8fCBfY2xldmVydGFwJGFjY291bnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jbGV2ZXJ0YXAkYWNjb3VudFswXSwgY2xldmVydGFwLnJlZ2lvbiB8fCAoKF9jbGV2ZXJ0YXAkYWNjb3VudDIgPSBjbGV2ZXJ0YXAuYWNjb3VudCkgPT09IG51bGwgfHwgX2NsZXZlcnRhcCRhY2NvdW50MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NsZXZlcnRhcCRhY2NvdW50MlsxXSksIGNsZXZlcnRhcC50YXJnZXREb21haW4gfHwgKChfY2xldmVydGFwJGFjY291bnQzID0gY2xldmVydGFwLmFjY291bnQpID09PSBudWxsIHx8IF9jbGV2ZXJ0YXAkYWNjb3VudDMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jbGV2ZXJ0YXAkYWNjb3VudDNbMl0pKTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlJDMpW19kZXZpY2UkM10gPSBuZXcgRGV2aWNlTWFuYWdlcih7XG4gICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOSlbX2xvZ2dlciQ5XVxuICAgICAgfSk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMylbX3Nlc3Npb24kM10gPSBuZXcgU2Vzc2lvbk1hbmFnZXIoe1xuICAgICAgICBsb2dnZXI6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDkpW19sb2dnZXIkOV0sXG4gICAgICAgIGlzUGVyc29uYWxpc2F0aW9uQWN0aXZlOiB0aGlzLl9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZVxuICAgICAgfSk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNilbX3JlcXVlc3QkNl0gPSBuZXcgUmVxdWVzdE1hbmFnZXIoe1xuICAgICAgICBsb2dnZXI6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDkpW19sb2dnZXIkOV0sXG4gICAgICAgIGFjY291bnQ6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ1KVtfYWNjb3VudCQ1XSxcbiAgICAgICAgZGV2aWNlOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSQzKVtfZGV2aWNlJDNdLFxuICAgICAgICBzZXNzaW9uOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMylbX3Nlc3Npb24kM10sXG4gICAgICAgIGlzUGVyc29uYWxpc2F0aW9uQWN0aXZlOiB0aGlzLl9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZVxuICAgICAgfSk7XG4gICAgICB0aGlzLmVuYWJsZVBlcnNvbmFsaXphdGlvbiA9IGNsZXZlcnRhcC5lbmFibGVQZXJzb25hbGl6YXRpb24gfHwgZmFsc2U7XG4gICAgICB0aGlzLmV2ZW50ID0gbmV3IEV2ZW50SGFuZGxlcih7XG4gICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOSlbX2xvZ2dlciQ5XSxcbiAgICAgICAgcmVxdWVzdDogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDYpW19yZXF1ZXN0JDZdLFxuICAgICAgICBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZTogdGhpcy5faXNQZXJzb25hbGlzYXRpb25BY3RpdmVcbiAgICAgIH0sIGNsZXZlcnRhcC5ldmVudCk7XG4gICAgICB0aGlzLnByb2ZpbGUgPSBuZXcgUHJvZmlsZUhhbmRsZXIoe1xuICAgICAgICBsb2dnZXI6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDkpW19sb2dnZXIkOV0sXG4gICAgICAgIHJlcXVlc3Q6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ2KVtfcmVxdWVzdCQ2XSxcbiAgICAgICAgYWNjb3VudDogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDUpW19hY2NvdW50JDVdLFxuICAgICAgICBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZTogdGhpcy5faXNQZXJzb25hbGlzYXRpb25BY3RpdmVcbiAgICAgIH0sIGNsZXZlcnRhcC5wcm9maWxlKTtcbiAgICAgIHRoaXMub25Vc2VyTG9naW4gPSBuZXcgVXNlckxvZ2luSGFuZGxlcih7XG4gICAgICAgIHJlcXVlc3Q6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ2KVtfcmVxdWVzdCQ2XSxcbiAgICAgICAgYWNjb3VudDogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDUpW19hY2NvdW50JDVdLFxuICAgICAgICBzZXNzaW9uOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMylbX3Nlc3Npb24kM10sXG4gICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOSlbX2xvZ2dlciQ5XSxcbiAgICAgICAgZGV2aWNlOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSQzKVtfZGV2aWNlJDNdXG4gICAgICB9LCBjbGV2ZXJ0YXAub25Vc2VyTG9naW4pO1xuICAgICAgdGhpcy5wcml2YWN5ID0gbmV3IFByaXZhY3koe1xuICAgICAgICByZXF1ZXN0OiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNilbX3JlcXVlc3QkNl0sXG4gICAgICAgIGFjY291bnQ6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ1KVtfYWNjb3VudCQ1XSxcbiAgICAgICAgbG9nZ2VyOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ5KVtfbG9nZ2VyJDldXG4gICAgICB9LCBjbGV2ZXJ0YXAucHJpdmFjeSk7XG4gICAgICB0aGlzLm5vdGlmaWNhdGlvbnMgPSBuZXcgTm90aWZpY2F0aW9uSGFuZGxlcih7XG4gICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOSlbX2xvZ2dlciQ5XSxcbiAgICAgICAgcmVxdWVzdDogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDYpW19yZXF1ZXN0JDZdLFxuICAgICAgICBhY2NvdW50OiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNSlbX2FjY291bnQkNV1cbiAgICAgIH0sIGNsZXZlcnRhcC5ub3RpZmljYXRpb25zKTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYXBpKVtfYXBpXSA9IG5ldyBDbGV2ZXJUYXBBUEkoe1xuICAgICAgICBsb2dnZXI6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDkpW19sb2dnZXIkOV0sXG4gICAgICAgIHJlcXVlc3Q6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ2KVtfcmVxdWVzdCQ2XSxcbiAgICAgICAgZGV2aWNlOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSQzKVtfZGV2aWNlJDNdLFxuICAgICAgICBzZXNzaW9uOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMylbX3Nlc3Npb24kM11cbiAgICAgIH0pO1xuICAgICAgdGhpcy5zcGEgPSBjbGV2ZXJ0YXAuc3BhO1xuICAgICAgdGhpcy5kaXNtaXNzU3BhbUNvbnRyb2wgPSBjbGV2ZXJ0YXAuZGlzbWlzc1NwYW1Db250cm9sO1xuICAgICAgdGhpcy51c2VyID0gbmV3IFVzZXIoe1xuICAgICAgICBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZTogdGhpcy5faXNQZXJzb25hbGlzYXRpb25BY3RpdmVcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZXNzaW9uID0ge1xuICAgICAgICBnZXRUaW1lRWxhcHNlZDogZnVuY3Rpb24gZ2V0VGltZUVsYXBzZWQoKSB7XG4gICAgICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfdGhpcywgX3Nlc3Npb24kMylbX3Nlc3Npb24kM10uZ2V0VGltZUVsYXBzZWQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0UGFnZUNvdW50OiBmdW5jdGlvbiBnZXRQYWdlQ291bnQoKSB7XG4gICAgICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfdGhpcywgX3Nlc3Npb24kMylbX3Nlc3Npb24kM10uZ2V0UGFnZUNvdW50KCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMubG9nb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX3RoaXMsIF9sb2dnZXIkOSlbX2xvZ2dlciQ5XS5kZWJ1ZygnbG9nb3V0IGNhbGxlZCcpO1xuXG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNldEluc3RhbnREZWxldGVGbGFnSW5LKCk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5vblVzZXJMb2dpbi5jbGVhcigpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5nZXRDbGV2ZXJUYXBJRCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfdGhpcywgX2RldmljZSQzKVtfZGV2aWNlJDNdLmdldEd1aWQoKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuZ2V0QWNjb3VudElEID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF90aGlzLCBfYWNjb3VudCQ1KVtfYWNjb3VudCQ1XS5pZDtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuZ2V0U0NEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX3RoaXMsIF9hY2NvdW50JDUpW19hY2NvdW50JDVdLmZpbmFsVGFyZ2V0RG9tYWluO1xuICAgICAgfTsgLy8gU2V0IHRoZSBTaWduZWQgQ2FsbCBzZGsgdmVyc2lvbiBhbmQgZmlyZSByZXF1ZXN0XG5cblxuICAgICAgdGhpcy5zZXRTQ1NES1ZlcnNpb24gPSBmdW5jdGlvbiAodmVyKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfdGhpcywgX2FjY291bnQkNSlbX2FjY291bnQkNV0uc2NTREtWZXJzaW9uID0gdmVyO1xuICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICBkYXRhLmFmID0ge1xuICAgICAgICAgIHNjdjogJ3NjLXNkay12JyArIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfdGhpcywgX2FjY291bnQkNSlbX2FjY291bnQkNV0uc2NTREtWZXJzaW9uXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHBhZ2VMb2FkVXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF90aGlzLCBfYWNjb3VudCQ1KVtfYWNjb3VudCQ1XS5kYXRhUG9zdFVSTDtcblxuICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAndHlwZScsICdwYWdlJyk7XG4gICAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICdkJywgY29tcHJlc3NEYXRhKEpTT04uc3RyaW5naWZ5KGRhdGEpLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX3RoaXMsIF9sb2dnZXIkOSlbX2xvZ2dlciQ5XSkpO1xuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfdGhpcywgX3JlcXVlc3QkNilbX3JlcXVlc3QkNl0uc2F2ZUFuZEZpcmVSZXF1ZXN0KHBhZ2VMb2FkVXJsLCBmYWxzZSk7XG4gICAgICB9OyAvLyBtZXRob2QgZm9yIG5vdGlmaWNhdGlvbiB2aWV3ZWRcblxuXG4gICAgICB0aGlzLnJlbmRlck5vdGlmaWNhdGlvblZpZXdlZCA9IGZ1bmN0aW9uIChkZXRhaWwpIHtcbiAgICAgICAgcHJvY2Vzc05vdGlmaWNhdGlvbkV2ZW50KE5PVElGSUNBVElPTl9WSUVXRUQsIGRldGFpbCk7XG4gICAgICB9OyAvLyBtZXRob2QgZm9yIG5vdGlmaWNhdGlvbiBjbGlja2VkXG5cblxuICAgICAgdGhpcy5yZW5kZXJOb3RpZmljYXRpb25DbGlja2VkID0gZnVuY3Rpb24gKGRldGFpbCkge1xuICAgICAgICBwcm9jZXNzTm90aWZpY2F0aW9uRXZlbnQoTk9USUZJQ0FUSU9OX0NMSUNLRUQsIGRldGFpbCk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgcHJvY2Vzc05vdGlmaWNhdGlvbkV2ZW50ID0gZnVuY3Rpb24gcHJvY2Vzc05vdGlmaWNhdGlvbkV2ZW50KGV2ZW50TmFtZSwgZXZlbnREZXRhaWwpIHtcbiAgICAgICAgaWYgKCFldmVudERldGFpbCB8fCAhZXZlbnREZXRhaWwubXNnSWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICBkYXRhLnR5cGUgPSAnZXZlbnQnO1xuICAgICAgICBkYXRhLmV2dE5hbWUgPSBldmVudE5hbWU7XG4gICAgICAgIGRhdGEuZXZ0RGF0YSA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgV1pSS19JRCwgZXZlbnREZXRhaWwubXNnSWQpO1xuXG4gICAgICAgIGlmIChldmVudERldGFpbC5waXZvdElkKSB7XG4gICAgICAgICAgZGF0YS5ldnREYXRhID0gX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe30sIGRhdGEuZXZ0RGF0YSksIHt9LCB7XG4gICAgICAgICAgICB3enJrX3Bpdm90OiBldmVudERldGFpbC5waXZvdElkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnREZXRhaWwud3pya19zbGlkZU5vKSB7XG4gICAgICAgICAgZGF0YS5ldnREYXRhID0gX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe30sIGRhdGEuZXZ0RGF0YSksIHt9LCB7XG4gICAgICAgICAgICB3enJrX3NsaWRlTm86IGV2ZW50RGV0YWlsLnd6cmtfc2xpZGVOb1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IC8vIEFkZGluZyBrdiBwYWlyIHRvIGV2ZW50IGRhdGFcblxuXG4gICAgICAgIGlmIChldmVudERldGFpbC5rdiAmJiBldmVudERldGFpbC5rdiAhPT0gbnVsbCAmJiBldmVudERldGFpbC5rdiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZm9yICh2YXIga2V5IGluIGV2ZW50RGV0YWlsLmt2KSB7XG4gICAgICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoV1pSS19QUkVGSVgpKSB7XG4gICAgICAgICAgICAgIGRhdGEuZXZ0RGF0YSA9IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBkYXRhLmV2dERhdGEpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBrZXksIGV2ZW50RGV0YWlsLmt2W2tleV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gQWRkaW5nIG1zZ0NUa3YgdG8gZXZlbnQgZGF0YVxuXG5cbiAgICAgICAgaWYgKGV2ZW50RGV0YWlsLm1zZ0NUa3YgJiYgZXZlbnREZXRhaWwubXNnQ1RrdiAhPT0gbnVsbCAmJiBldmVudERldGFpbC5tc2dDVGt2ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBmb3IgKHZhciBfa2V5IGluIGV2ZW50RGV0YWlsLm1zZ0NUa3YpIHtcbiAgICAgICAgICAgIGlmIChfa2V5LnN0YXJ0c1dpdGgoV1pSS19QUkVGSVgpKSB7XG4gICAgICAgICAgICAgIGRhdGEuZXZ0RGF0YSA9IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBkYXRhLmV2dERhdGEpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBfa2V5LCBldmVudERldGFpbC5tc2dDVGt2W19rZXldKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF90aGlzLCBfcmVxdWVzdCQ2KVtfcmVxdWVzdCQ2XS5wcm9jZXNzRXZlbnQoZGF0YSk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnNldExvZ0xldmVsID0gZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF90aGlzLCBfbG9nZ2VyJDkpW19sb2dnZXIkOV0ubG9nTGV2ZWwgPSBOdW1iZXIobCk7XG5cbiAgICAgICAgaWYgKGwgPT09IDMpIHtcbiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5XWlJLX0QgPSAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgc2Vzc2lvblN0b3JhZ2UuV1pSS19EO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAqIEBwYXJhbSB7fSBrZXlcbiAgICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAgKi9cblxuXG4gICAgICB0aGlzLmhhbmRsZUluY3JlbWVudFZhbHVlID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgX3RoaXMucHJvZmlsZS5faGFuZGxlSW5jcmVtZW50RGVjcmVtZW50VmFsdWUoa2V5LCB2YWx1ZSwgQ09NTUFORF9JTkNSRU1FTlQpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5oYW5kbGVEZWNyZW1lbnRWYWx1ZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIF90aGlzLnByb2ZpbGUuX2hhbmRsZUluY3JlbWVudERlY3JlbWVudFZhbHVlKGtleSwgdmFsdWUsIENPTU1BTkRfREVDUkVNRU5UKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuc2V0TXVsdGlWYWx1ZXNGb3JLZXkgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICBfdGhpcy5wcm9maWxlLl9oYW5kbGVNdWx0aVZhbHVlU2V0KGtleSwgdmFsdWUsIENPTU1BTkRfU0VUKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdzZXRNdWx0aVZhbHVlc0ZvcktleSBzaG91bGQgYmUgY2FsbGVkIHdpdGggYSB2YWx1ZSBvZiB0eXBlIGFycmF5Jyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMuYWRkTXVsdGlWYWx1ZUZvcktleSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBfdGhpcy5wcm9maWxlLl9oYW5kbGVNdWx0aVZhbHVlQWRkKGtleSwgdmFsdWUsIENPTU1BTkRfQUREKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdhZGRNdWx0aVZhbHVlRm9yS2V5IHNob3VsZCBiZSBjYWxsZWQgd2l0aCBhIHZhbHVlIG9mIHR5cGUgc3RyaW5nIG9yIG51bWJlci4nKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5hZGRNdWx0aVZhbHVlc0ZvcktleSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIF90aGlzLnByb2ZpbGUuX2hhbmRsZU11bHRpVmFsdWVBZGQoa2V5LCB2YWx1ZSwgQ09NTUFORF9BREQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2FkZE11bHRpVmFsdWVzRm9yS2V5IHNob3VsZCBiZSBjYWxsZWQgd2l0aCBhIHZhbHVlIG9mIHR5cGUgYXJyYXkuJyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMucmVtb3ZlTXVsdGlWYWx1ZUZvcktleSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBfdGhpcy5wcm9maWxlLl9oYW5kbGVNdWx0aVZhbHVlUmVtb3ZlKGtleSwgdmFsdWUsIENPTU1BTkRfUkVNT1ZFKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdyZW1vdmVNdWx0aVZhbHVlRm9yS2V5IHNob3VsZCBiZSBjYWxsZWQgd2l0aCBhIHZhbHVlIG9mIHR5cGUgc3RyaW5nIG9yIG51bWJlci4nKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5yZW1vdmVNdWx0aVZhbHVlc0ZvcktleSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIF90aGlzLnByb2ZpbGUuX2hhbmRsZU11bHRpVmFsdWVSZW1vdmUoa2V5LCB2YWx1ZSwgQ09NTUFORF9SRU1PVkUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3JlbW92ZU11bHRpVmFsdWVzRm9yS2V5IHNob3VsZCBiZSBjYWxsZWQgd2l0aCBhIHZhbHVlIG9mIHR5cGUgYXJyYXkuJyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMucmVtb3ZlVmFsdWVGb3JLZXkgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIF90aGlzLnByb2ZpbGUuX2hhbmRsZU11bHRpVmFsdWVEZWxldGUoa2V5LCBDT01NQU5EX0RFTEVURSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgX2hhbmRsZUVtYWlsU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gX2hhbmRsZUVtYWlsU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbiwgcmVFbmNvZGVkLCBmZXRjaEdyb3Vwcykge1xuICAgICAgICBoYW5kbGVFbWFpbFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24sIHJlRW5jb2RlZCwgZmV0Y2hHcm91cHMsIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfdGhpcywgX2FjY291bnQkNSlbX2FjY291bnQkNV0sIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfdGhpcywgX2xvZ2dlciQ5KVtfbG9nZ2VyJDldKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBhcGkgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FwaSlbX2FwaV07XG5cbiAgICAgIGFwaS5sb2dvdXQgPSB0aGlzLmxvZ291dDtcbiAgICAgIGFwaS5jbGVhciA9IHRoaXMuY2xlYXI7XG5cbiAgICAgIGFwaS5jbG9zZUlmcmFtZSA9IGZ1bmN0aW9uIChjYW1wYWlnbklkLCBkaXZJZElnbm9yZWQpIHtcbiAgICAgICAgY2xvc2VJZnJhbWUoY2FtcGFpZ25JZCwgZGl2SWRJZ25vcmVkLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX3RoaXMsIF9zZXNzaW9uJDMpW19zZXNzaW9uJDNdLnNlc3Npb25JZCk7XG4gICAgICB9O1xuXG4gICAgICBhcGkuZW5hYmxlV2ViUHVzaCA9IGZ1bmN0aW9uIChlbmFibGVkLCBhcHBsaWNhdGlvblNlcnZlcktleSkge1xuICAgICAgICBfdGhpcy5ub3RpZmljYXRpb25zLl9lbmFibGVXZWJQdXNoKGVuYWJsZWQsIGFwcGxpY2F0aW9uU2VydmVyS2V5KTtcbiAgICAgIH07XG5cbiAgICAgIGFwaS50ciA9IGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgX3RyKG1zZywge1xuICAgICAgICAgIGRldmljZTogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF90aGlzLCBfZGV2aWNlJDMpW19kZXZpY2UkM10sXG4gICAgICAgICAgc2Vzc2lvbjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF90aGlzLCBfc2Vzc2lvbiQzKVtfc2Vzc2lvbiQzXSxcbiAgICAgICAgICByZXF1ZXN0OiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX3RoaXMsIF9yZXF1ZXN0JDYpW19yZXF1ZXN0JDZdLFxuICAgICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF90aGlzLCBfbG9nZ2VyJDkpW19sb2dnZXIkOV0sXG4gICAgICAgICAgaXNXZWJQb3BVcFNwYW1Db250cm9sRGlzYWJsZWQ6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfdGhpcywgX2lzV2ViUG9wVXBTcGFtQ29udHJvbERpc2FibGVkKVtfaXNXZWJQb3BVcFNwYW1Db250cm9sRGlzYWJsZWRdXG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgYXBpLnNldEVudW0gPSBmdW5jdGlvbiAoZW51bVZhbCkge1xuICAgICAgICBzZXRFbnVtKGVudW1WYWwsIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfdGhpcywgX2xvZ2dlciQ5KVtfbG9nZ2VyJDldKTtcbiAgICAgIH07XG5cbiAgICAgIGFwaS5pc19vbmxvYWRjYWxsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX3RoaXMsIF9vbmxvYWRjYWxsZWQpW19vbmxvYWRjYWxsZWRdID09PSAxO1xuICAgICAgfTtcblxuICAgICAgYXBpLnN1YkVtYWlsID0gZnVuY3Rpb24gKHJlRW5jb2RlZCkge1xuICAgICAgICBfaGFuZGxlRW1haWxTdWJzY3JpcHRpb24oJzEnLCByZUVuY29kZWQpO1xuICAgICAgfTtcblxuICAgICAgYXBpLmdldEVtYWlsID0gZnVuY3Rpb24gKHJlRW5jb2RlZCwgd2l0aEdyb3Vwcykge1xuICAgICAgICBfaGFuZGxlRW1haWxTdWJzY3JpcHRpb24oJy0xJywgcmVFbmNvZGVkLCB3aXRoR3JvdXBzKTtcbiAgICAgIH07XG5cbiAgICAgIGFwaS51blN1YkVtYWlsID0gZnVuY3Rpb24gKHJlRW5jb2RlZCkge1xuICAgICAgICBfaGFuZGxlRW1haWxTdWJzY3JpcHRpb24oJzAnLCByZUVuY29kZWQpO1xuICAgICAgfTtcblxuICAgICAgYXBpLnVuc3ViRW1haWxHcm91cHMgPSBmdW5jdGlvbiAocmVFbmNvZGVkKSB7XG4gICAgICAgICRjdC51bnN1Ykdyb3VwcyA9IFtdO1xuICAgICAgICB2YXIgZWxlbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjdC11bnN1Yi1ncm91cC1pbnB1dC1pdGVtJyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBlbGVtZW50ID0gZWxlbWVudHNbaV07XG5cbiAgICAgICAgICBpZiAoZWxlbWVudC5uYW1lKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgICAgbmFtZTogZWxlbWVudC5uYW1lLFxuICAgICAgICAgICAgICBpc1Vuc3Vic2NyaWJlZDogZWxlbWVudC5jaGVja2VkXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJGN0LnVuc3ViR3JvdXBzLnB1c2goZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgX2hhbmRsZUVtYWlsU3Vic2NyaXB0aW9uKEdST1VQX1NVQlNDUklQVElPTl9SRVFVRVNUX0lELCByZUVuY29kZWQpO1xuICAgICAgfTtcblxuICAgICAgYXBpLnNldFN1YnNjcmlwdGlvbkdyb3VwcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAkY3QudW5zdWJHcm91cHMgPSB2YWx1ZTtcbiAgICAgIH07XG5cbiAgICAgIGFwaS5nZXRTdWJzY3JpcHRpb25Hcm91cHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAkY3QudW5zdWJHcm91cHM7XG4gICAgICB9O1xuXG4gICAgICBhcGkuY2hhbmdlU3Vic2NyaXB0aW9uR3JvdXBzID0gZnVuY3Rpb24gKHJlRW5jb2RlZCwgdXBkYXRlZEdyb3Vwcykge1xuICAgICAgICBhcGkuc2V0U3Vic2NyaXB0aW9uR3JvdXBzKHVwZGF0ZWRHcm91cHMpO1xuXG4gICAgICAgIF9oYW5kbGVFbWFpbFN1YnNjcmlwdGlvbihHUk9VUF9TVUJTQ1JJUFRJT05fUkVRVUVTVF9JRCwgcmVFbmNvZGVkKTtcbiAgICAgIH07XG5cbiAgICAgIGFwaS5zZXRVcGRhdGVkQ2F0ZWdvcnlMb25nID0gZnVuY3Rpb24gKHByb2ZpbGUpIHtcbiAgICAgICAgaWYgKHByb2ZpbGVbY2F0ZWdvcnlMb25nS2V5XSkge1xuICAgICAgICAgICRjdC51cGRhdGVkQ2F0ZWdvcnlMb25nID0gcHJvZmlsZVtjYXRlZ29yeUxvbmdLZXldO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB3aW5kb3cuJENMVFBfV1IgPSB3aW5kb3cuJFdaUktfV1IgPSBhcGk7XG5cbiAgICAgIGlmICgoX2NsZXZlcnRhcCRhY2NvdW50NCA9IGNsZXZlcnRhcC5hY2NvdW50KSA9PT0gbnVsbCB8fCBfY2xldmVydGFwJGFjY291bnQ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY2xldmVydGFwJGFjY291bnQ0WzBdLmlkKSB7XG4gICAgICAgIC8vIFRoZSBhY2NvdW50SWQgaXMgcHJlc2VudCBzbyBjYW4gaW5pdCB3aXRoIGVtcHR5IHZhbHVlcy5cbiAgICAgICAgLy8gTmVlZGVkIHRvIG1haW50YWluIGJhY2t3YXJkIGNvbXBhdGFiaWxpdHkgd2l0aCBsZWdhY3kgaW1wbGVtZW50YXRpb25zLlxuICAgICAgICAvLyBOcG0gaW1wb3J0cy9yZXF1aXJlIHdpbGwgbmVlZCB0byBjYWxsIGluaXQgZXhwbGljdGx5IHdpdGggYWNjb3VudElkXG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgfVxuICAgIH0gLy8gc3RhcnRzIGhlcmVcblxuXG4gICAgX2NyZWF0ZUNsYXNzKENsZXZlclRhcCwgW3tcbiAgICAgIGtleTogXCJpbml0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChhY2NvdW50SWQsIHJlZ2lvbiwgdGFyZ2V0RG9tYWluKSB7XG4gICAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29ubG9hZGNhbGxlZClbX29ubG9hZGNhbGxlZF0gPT09IDEpIHtcbiAgICAgICAgICAvLyBhbHJlYWR5IGluaXRhaWxzZWRcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBTdG9yYWdlTWFuYWdlci5yZW1vdmVDb29raWUoJ1daUktfUCcsIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSk7XG5cbiAgICAgICAgaWYgKCFfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNSlbX2FjY291bnQkNV0uaWQpIHtcbiAgICAgICAgICBpZiAoIWFjY291bnRJZCkge1xuICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOSlbX2xvZ2dlciQ5XS5lcnJvcihFTUJFRF9FUlJPUik7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNSlbX2FjY291bnQkNV0uaWQgPSBhY2NvdW50SWQ7XG4gICAgICAgIH1cblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMylbX3Nlc3Npb24kM10uY29va2llTmFtZSA9IFNDT09LSUVfUFJFRklYICsgJ18nICsgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDUpW19hY2NvdW50JDVdLmlkO1xuXG4gICAgICAgIGlmIChyZWdpb24pIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNSlbX2FjY291bnQkNV0ucmVnaW9uID0gcmVnaW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhcmdldERvbWFpbikge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ1KVtfYWNjb3VudCQ1XS50YXJnZXREb21haW4gPSB0YXJnZXREb21haW47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3VyckxvY2F0aW9uID0gbG9jYXRpb24uaHJlZjtcbiAgICAgICAgdmFyIHVybFBhcmFtcyA9IGdldFVSTFBhcmFtcyhjdXJyTG9jYXRpb24udG9Mb3dlckNhc2UoKSk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblxuICAgICAgICBpZiAodHlwZW9mIHVybFBhcmFtcy5lICE9PSAndW5kZWZpbmVkJyAmJiB1cmxQYXJhbXMud3pya19leCA9PSAnMCcpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNilbX3JlcXVlc3QkNl0ucHJvY2Vzc0JhY2t1cEV2ZW50cygpO1xuXG4gICAgICAgICRjdC5pc1ByaXZhY3lBcnJQdXNoZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmICgkY3QucHJpdmFjeUFycmF5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB0aGlzLnByaXZhY3kucHVzaCgkY3QucHJpdmFjeUFycmF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcHJvY2Vzc09sZFZhbHVlcylbX3Byb2Nlc3NPbGRWYWx1ZXNdKCk7XG5cbiAgICAgICAgdGhpcy5wYWdlQ2hhbmdlZCgpO1xuXG4gICAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzU3BhKVtfaXNTcGFdKSB7XG4gICAgICAgICAgLy8gbGlzdGVuIHRvIGNsaWNrIG9uIHRoZSBkb2N1bWVudCBhbmQgY2hlY2sgaWYgVVJMIGhhcyBjaGFuZ2VkLlxuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9ib3VuZENoZWNrUGFnZUNoYW5nZWQpW19ib3VuZENoZWNrUGFnZUNoYW5nZWRdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyByZW1vdmUgZXhpc3RpbmcgY2xpY2sgbGlzdGVuZXJzIGlmIGFueVxuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9ib3VuZENoZWNrUGFnZUNoYW5nZWQpW19ib3VuZENoZWNrUGFnZUNoYW5nZWRdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb25sb2FkY2FsbGVkKVtfb25sb2FkY2FsbGVkXSA9IDE7XG4gICAgICB9IC8vIHByb2Nlc3MgdGhlIG9wdGlvbiBhcnJheSBwcm92aWRlZCB0byB0aGUgY2xldmVydGFwIG9iamVjdFxuICAgICAgLy8gYWZ0ZXIgaXRzIGJlZW4gaW5pdGlhbGl6ZWRcblxuICAgIH0sIHtcbiAgICAgIGtleTogXCJwYWdlQ2hhbmdlZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHBhZ2VDaGFuZ2VkKCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB2YXIgY3VyckxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgICAgIHZhciB1cmxQYXJhbXMgPSBnZXRVUkxQYXJhbXMoY3VyckxvY2F0aW9uLnRvTG93ZXJDYXNlKCkpOyAvLyAtLSB1cGRhdGUgcGFnZSBjb3VudFxuXG4gICAgICAgIHZhciBvYmogPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMylbX3Nlc3Npb24kM10uZ2V0U2Vzc2lvbkNvb2tpZU9iamVjdCgpO1xuXG4gICAgICAgIHZhciBwZ0NvdW50ID0gdHlwZW9mIG9iai5wID09PSAndW5kZWZpbmVkJyA/IDAgOiBvYmoucDtcbiAgICAgICAgb2JqLnAgPSArK3BnQ291bnQ7XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uJDMpW19zZXNzaW9uJDNdLnNldFNlc3Npb25Db29raWVPYmplY3Qob2JqKTsgLy8gLS0gdXBkYXRlIHBhZ2UgY291bnRcblxuXG4gICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgIHZhciByZWZlcnJlckRvbWFpbiA9IGdldERvbWFpbihkb2N1bWVudC5yZWZlcnJlcik7XG5cbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSAhPT0gcmVmZXJyZXJEb21haW4pIHtcbiAgICAgICAgICB2YXIgbWF4TGVuID0gMTIwO1xuXG4gICAgICAgICAgaWYgKHJlZmVycmVyRG9tYWluICE9PSAnJykge1xuICAgICAgICAgICAgcmVmZXJyZXJEb21haW4gPSByZWZlcnJlckRvbWFpbi5sZW5ndGggPiBtYXhMZW4gPyByZWZlcnJlckRvbWFpbi5zdWJzdHJpbmcoMCwgbWF4TGVuKSA6IHJlZmVycmVyRG9tYWluO1xuICAgICAgICAgICAgZGF0YS5yZWZlcnJlciA9IHJlZmVycmVyRG9tYWluO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciB1dG1Tb3VyY2UgPSB1cmxQYXJhbXMudXRtX3NvdXJjZSB8fCB1cmxQYXJhbXMud3pya19zb3VyY2U7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHV0bVNvdXJjZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHV0bVNvdXJjZSA9IHV0bVNvdXJjZS5sZW5ndGggPiBtYXhMZW4gPyB1dG1Tb3VyY2Uuc3Vic3RyaW5nKDAsIG1heExlbikgOiB1dG1Tb3VyY2U7XG4gICAgICAgICAgICBkYXRhLnVzID0gdXRtU291cmNlOyAvLyB1dG1fc291cmNlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHV0bU1lZGl1bSA9IHVybFBhcmFtcy51dG1fbWVkaXVtIHx8IHVybFBhcmFtcy53enJrX21lZGl1bTtcblxuICAgICAgICAgIGlmICh0eXBlb2YgdXRtTWVkaXVtICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdXRtTWVkaXVtID0gdXRtTWVkaXVtLmxlbmd0aCA+IG1heExlbiA/IHV0bU1lZGl1bS5zdWJzdHJpbmcoMCwgbWF4TGVuKSA6IHV0bU1lZGl1bTtcbiAgICAgICAgICAgIGRhdGEudW0gPSB1dG1NZWRpdW07IC8vIHV0bV9tZWRpdW1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgdXRtQ2FtcGFpZ24gPSB1cmxQYXJhbXMudXRtX2NhbXBhaWduIHx8IHVybFBhcmFtcy53enJrX2NhbXBhaWduO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiB1dG1DYW1wYWlnbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHV0bUNhbXBhaWduID0gdXRtQ2FtcGFpZ24ubGVuZ3RoID4gbWF4TGVuID8gdXRtQ2FtcGFpZ24uc3Vic3RyaW5nKDAsIG1heExlbikgOiB1dG1DYW1wYWlnbjtcbiAgICAgICAgICAgIGRhdGEudWMgPSB1dG1DYW1wYWlnbjsgLy8gdXRtX2NhbXBhaWduXG4gICAgICAgICAgfSAvLyBhbHNvIGluZGVwZW5kZW50bHkgc2VuZCB3enJrX21lZGl1bSB0byB0aGUgYmFja2VuZFxuXG5cbiAgICAgICAgICBpZiAodHlwZW9mIHVybFBhcmFtcy53enJrX21lZGl1bSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHZhciB3bSA9IHVybFBhcmFtcy53enJrX21lZGl1bTtcblxuICAgICAgICAgICAgaWYgKHdtLm1hdGNoKC9eZW1haWwkfF5zb2NpYWwkfF5zZWFyY2gkLykpIHtcbiAgICAgICAgICAgICAgZGF0YS53bSA9IHdtOyAvLyB3enJrX21lZGl1bVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNilbX3JlcXVlc3QkNl0uYWRkU3lzdGVtRGF0YVRvT2JqZWN0KGRhdGEsIHVuZGVmaW5lZCk7XG4gICAgICAgIGRhdGEuY3BnID0gY3VyckxvY2F0aW9uO1xuICAgICAgICBkYXRhW0NBTVBfQ09PS0lFX05BTUVdID0gZ2V0Q2FtcGFpZ25PYmpGb3JMYygpO1xuXG4gICAgICAgIHZhciBwYWdlTG9hZFVybCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ1KVtfYWNjb3VudCQ1XS5kYXRhUG9zdFVSTDtcblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNilbX3JlcXVlc3QkNl0uYWRkRmxhZ3MoZGF0YSk7IC8vIHNlbmQgZHN5bmMgZmxhZyB3aGVuIHBhZ2UgPSAxXG5cblxuICAgICAgICBpZiAocGFyc2VJbnQoZGF0YS5wZykgPT09IDEpIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX292ZXJyaWRlRFN5bmNGbGFnKVtfb3ZlcnJpZGVEU3luY0ZsYWddKGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YS5hZiA9IHtcbiAgICAgICAgICBsaWI6ICd3ZWItc2RrLXYxLjMuMydcbiAgICAgICAgfTtcbiAgICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ3R5cGUnLCAncGFnZScpO1xuICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAnZCcsIGNvbXByZXNzRGF0YShKU09OLnN0cmluZ2lmeShkYXRhKSwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOSlbX2xvZ2dlciQ5XSkpO1xuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ2KVtfcmVxdWVzdCQ2XS5zYXZlQW5kRmlyZVJlcXVlc3QocGFnZUxvYWRVcmwsIGZhbHNlKTtcblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ByZXZpb3VzVXJsKVtfcHJldmlvdXNVcmxdID0gY3VyckxvY2F0aW9uOyAvLyBOT1RFIC0gd2h5IGRvIHdlIHVzZSBwaW5nIHJlcXVlc3RcbiAgICAgICAgLy8gTk9URSAtIERPIHdlIG5lZWQgdG8gY2xlYXIgdGhlIHRpbWVvdXQ/XG5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKHBnQ291bnQgPD0gMykge1xuICAgICAgICAgICAgLy8gc2VuZCBwaW5nIGZvciB1cCB0byAzIHBhZ2VzXG4gICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UoX3RoaXMyLCBfcGluZ1JlcXVlc3QpW19waW5nUmVxdWVzdF0oKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKF90aGlzMiwgX2lzUGluZ0NvbnRpbnVvdXMpW19pc1BpbmdDb250aW51b3VzXSgpKSB7XG4gICAgICAgICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZShfdGhpczIsIF9waW5nUmVxdWVzdClbX3BpbmdSZXF1ZXN0XSgpO1xuICAgICAgICAgICAgfSwgQ09OVElOVU9VU19QSU5HX0ZSRVFfSU5fTUlMTElTKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIEZJUlNUX1BJTkdfRlJFUV9JTl9NSUxMSVMpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJfaXNQZXJzb25hbGlzYXRpb25BY3RpdmVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiBTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSAmJiB0aGlzLmVuYWJsZVBlcnNvbmFsaXphdGlvbjtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2VuZE11bHRpVmFsdWVEYXRhXCIsXG5cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwYXlsb2FkXG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kTXVsdGlWYWx1ZURhdGEocGF5bG9hZCkge1xuICAgICAgICAvLyBTZW5kIHRoZSB1cGRhdGVkIHZhbHVlIHRvIExDXG4gICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgIGRhdGEuYWYgPSB7fTtcbiAgICAgICAgdmFyIHByb2ZpbGVPYmogPSB7fTtcbiAgICAgICAgZGF0YS50eXBlID0gJ3Byb2ZpbGUnO1xuXG4gICAgICAgIGlmIChwcm9maWxlT2JqLnR6ID09IG51bGwpIHtcbiAgICAgICAgICBwcm9maWxlT2JqLnR6ID0gbmV3IERhdGUoKS50b1N0cmluZygpLm1hdGNoKC8oW0EtWl0rW1xcKy1dWzAtOV0rKS8pWzFdO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YS5wcm9maWxlID0gcHJvZmlsZU9iajtcblxuICAgICAgICBpZiAocGF5bG9hZCkge1xuICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocGF5bG9hZCk7XG4gICAgICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIGRhdGEuYWZba2V5XSA9IHBheWxvYWRba2V5XTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNilbX3JlcXVlc3QkNl0uYWRkU3lzdGVtRGF0YVRvUHJvZmlsZU9iamVjdChkYXRhLCB1bmRlZmluZWQpO1xuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ2KVtfcmVxdWVzdCQ2XS5hZGRGbGFncyhkYXRhKTtcblxuICAgICAgICB2YXIgY29tcHJlc3NlZERhdGEgPSBjb21wcmVzc0RhdGEoSlNPTi5zdHJpbmdpZnkoZGF0YSksIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDkpW19sb2dnZXIkOV0pO1xuXG4gICAgICAgIHZhciBwYWdlTG9hZFVybCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ1KVtfYWNjb3VudCQ1XS5kYXRhUG9zdFVSTDtcblxuICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAndHlwZScsIEVWVF9QVVNIKTtcbiAgICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ2QnLCBjb21wcmVzc2VkRGF0YSk7XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDYpW19yZXF1ZXN0JDZdLnNhdmVBbmRGaXJlUmVxdWVzdChwYWdlTG9hZFVybCwgJGN0LmJsb2NrUmVxdWVzdCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInBvcHVwQ2FsbGJhY2tcIixcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBhY2Nlc3Nvci1wYWlyc1xuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5wb3B1cENhbGxiYWNrc1t0aGlzLnBvcHVwQ3VycmVudFd6cmtJZF0gPSBjYWxsYmFjaztcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ2xldmVyVGFwO1xuICB9KCk7XG5cbiAgdmFyIF9wcm9jZXNzT2xkVmFsdWVzMiA9IGZ1bmN0aW9uIF9wcm9jZXNzT2xkVmFsdWVzMigpIHtcbiAgICB0aGlzLm9uVXNlckxvZ2luLl9wcm9jZXNzT2xkVmFsdWVzKCk7XG5cbiAgICB0aGlzLnByaXZhY3kuX3Byb2Nlc3NPbGRWYWx1ZXMoKTtcblxuICAgIHRoaXMuZXZlbnQuX3Byb2Nlc3NPbGRWYWx1ZXMoKTtcblxuICAgIHRoaXMucHJvZmlsZS5fcHJvY2Vzc09sZFZhbHVlcygpO1xuXG4gICAgdGhpcy5ub3RpZmljYXRpb25zLl9wcm9jZXNzT2xkVmFsdWVzKCk7XG4gIH07XG5cbiAgdmFyIF9jaGVja1BhZ2VDaGFuZ2VkMiA9IGZ1bmN0aW9uIF9jaGVja1BhZ2VDaGFuZ2VkMigpIHtcbiAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wcmV2aW91c1VybClbX3ByZXZpb3VzVXJsXSAhPT0gbG9jYXRpb24uaHJlZikge1xuICAgICAgdGhpcy5wYWdlQ2hhbmdlZCgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgX3BpbmdSZXF1ZXN0MiA9IGZ1bmN0aW9uIF9waW5nUmVxdWVzdDIoKSB7XG4gICAgdmFyIHBhZ2VMb2FkVXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDUpW19hY2NvdW50JDVdLmRhdGFQb3N0VVJMO1xuXG4gICAgdmFyIGRhdGEgPSB7fTtcbiAgICBkYXRhID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDYpW19yZXF1ZXN0JDZdLmFkZFN5c3RlbURhdGFUb09iamVjdChkYXRhLCB1bmRlZmluZWQpO1xuICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICd0eXBlJywgRVZUX1BJTkcpO1xuICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICdkJywgY29tcHJlc3NEYXRhKEpTT04uc3RyaW5naWZ5KGRhdGEpLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ5KVtfbG9nZ2VyJDldKSk7XG5cbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNilbX3JlcXVlc3QkNl0uc2F2ZUFuZEZpcmVSZXF1ZXN0KHBhZ2VMb2FkVXJsLCBmYWxzZSk7XG4gIH07XG5cbiAgdmFyIF9pc1BpbmdDb250aW51b3VzMiA9IGZ1bmN0aW9uIF9pc1BpbmdDb250aW51b3VzMigpIHtcbiAgICByZXR1cm4gdHlwZW9mIHdpbmRvdy53enJrX2QgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy53enJrX2QucGluZyA9PT0gJ2NvbnRpbnVvdXMnO1xuICB9O1xuXG4gIHZhciBfb3ZlcnJpZGVEU3luY0ZsYWcyID0gZnVuY3Rpb24gX292ZXJyaWRlRFN5bmNGbGFnMihkYXRhKSB7XG4gICAgaWYgKHRoaXMuX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlKCkpIHtcbiAgICAgIGRhdGEuZHN5bmMgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICB2YXIgY2xldmVydGFwID0gbmV3IENsZXZlclRhcCh3aW5kb3cuY2xldmVydGFwKTtcbiAgd2luZG93LmNsZXZlcnRhcCA9IHdpbmRvdy53aXpyb2NrZXQgPSBjbGV2ZXJ0YXA7XG5cbiAgcmV0dXJuIGNsZXZlcnRhcDtcblxufSkpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsZXZlcnRhcC5qcy5tYXBcbiIsIi8qKlxuICogTG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pzLmZvdW5kYXRpb24vPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xudmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG52YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxLFxuICAgIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcgPSAyO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcHJvbWlzZVRhZyA9ICdbb2JqZWN0IFByb21pc2VdJyxcbiAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4vKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG52YXIgdHlwZWRBcnJheVRhZ3MgPSB7fTtcbnR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDhUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xudHlwZWRBcnJheVRhZ3NbYXJnc1RhZ10gPSB0eXBlZEFycmF5VGFnc1thcnJheVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZXJyb3JUYWddID0gdHlwZWRBcnJheVRhZ3NbZnVuY1RhZ10gPVxudHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbc2V0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3N0cmluZ1RhZ10gPVxudHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xudmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG52YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4vKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xudmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgcHJvY2Vzc2AgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cbi8qKiBVc2VkIHRvIGFjY2VzcyBmYXN0ZXIgTm9kZS5qcyBoZWxwZXJzLiAqL1xudmFyIG5vZGVVdGlsID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbi8qIE5vZGUuanMgaGVscGVyIHJlZmVyZW5jZXMuICovXG52YXIgbm9kZUlzVHlwZWRBcnJheSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZmlsdGVyYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5RmlsdGVyKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgYXJyYXlbb2Zmc2V0ICsgaW5kZXhdID0gdmFsdWVzW2luZGV4XTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNvbWVgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBhcnJheVNvbWUoYXJyYXksIHByZWRpY2F0ZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICovXG5mdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBgY2FjaGVgIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBjYWNoZSBUaGUgY2FjaGUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gY2FjaGVIYXMoY2FjaGUsIGtleSkge1xuICByZXR1cm4gY2FjaGUuaGFzKGtleSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBtYXBgIHRvIGl0cyBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gKi9cbmZ1bmN0aW9uIG1hcFRvQXJyYXkobWFwKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gIG1hcC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSBba2V5LCB2YWx1ZV07XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbnZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG59KCkpO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IHJvb3QuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgIFN5bWJvbCA9IHJvb3QuU3ltYm9sLFxuICAgIFVpbnQ4QXJyYXkgPSByb290LlVpbnQ4QXJyYXksXG4gICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUdldFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICAgIG5hdGl2ZUlzQnVmZmVyID0gQnVmZmVyID8gQnVmZmVyLmlzQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgIG5hdGl2ZUtleXMgPSBvdmVyQXJnKE9iamVjdC5rZXlzLCBPYmplY3QpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgRGF0YVZpZXcgPSBnZXROYXRpdmUocm9vdCwgJ0RhdGFWaWV3JyksXG4gICAgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKSxcbiAgICBQcm9taXNlID0gZ2V0TmF0aXZlKHJvb3QsICdQcm9taXNlJyksXG4gICAgU2V0ID0gZ2V0TmF0aXZlKHJvb3QsICdTZXQnKSxcbiAgICBXZWFrTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdXZWFrTWFwJyksXG4gICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWFwcywgc2V0cywgYW5kIHdlYWttYXBzLiAqL1xudmFyIGRhdGFWaWV3Q3RvclN0cmluZyA9IHRvU291cmNlKERhdGFWaWV3KSxcbiAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UpLFxuICAgIHNldEN0b3JTdHJpbmcgPSB0b1NvdXJjZShTZXQpLFxuICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKi9cbmZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgfVxuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgIGRhdGEucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICB9XG4gIC0tdGhpcy5zaXplO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgKyt0aGlzLnNpemU7XG4gICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5zaXplID0gMDtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG5NYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4vKipcbiAqXG4gKiBDcmVhdGVzIGFuIGFycmF5IGNhY2hlIG9iamVjdCB0byBzdG9yZSB1bmlxdWUgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIFNldENhY2hlKHZhbHVlcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHZhbHVlcyA9PSBudWxsID8gMCA6IHZhbHVlcy5sZW5ndGg7XG5cbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgfVxufVxuXG4vKipcbiAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGFkZFxuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAYWxpYXMgcHVzaFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcbiAgdGhpcy5fX2RhdGFfXy5zZXQodmFsdWUsIEhBU0hfVU5ERUZJTkVEKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVIYXModmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYFNldENhY2hlYC5cblNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuU2V0Q2FjaGUucHJvdG90eXBlLmhhcyA9IHNldENhY2hlSGFzO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBTdGFja1xuICovXG5mdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIHJlc3VsdCA9IGRhdGFbJ2RlbGV0ZSddKGtleSk7XG5cbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICB9XG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcblN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcblN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcblN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcblN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgLy8gU2FmYXJpIDkgaGFzIGVudW1lcmFibGUgYGFyZ3VtZW50cy5sZW5ndGhgIGluIHN0cmljdCBtb2RlLlxuICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgIChpc0J1ZmYgJiYgKGtleSA9PSAnb2Zmc2V0JyB8fCBrZXkgPT0gJ3BhcmVudCcpKSB8fFxuICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAvLyBTa2lwIGluZGV4IHByb3BlcnRpZXMuXG4gICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRBbGxLZXlzYCBhbmQgYGdldEFsbEtleXNJbmAgd2hpY2ggdXNlc1xuICogYGtleXNGdW5jYCBhbmQgYHN5bWJvbHNGdW5jYCB0byBnZXQgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3ltYm9sc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0Z1bmMsIHN5bWJvbHNGdW5jKSB7XG4gIHZhciByZXN1bHQgPSBrZXlzRnVuYyhvYmplY3QpO1xuICByZXR1cm4gaXNBcnJheShvYmplY3QpID8gcmVzdWx0IDogYXJyYXlQdXNoKHJlc3VsdCwgc3ltYm9sc0Z1bmMob2JqZWN0KSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICB9XG4gIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICovXG5mdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCB3aGljaCBzdXBwb3J0cyBwYXJ0aWFsIGNvbXBhcmlzb25zXG4gKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAqICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAqICAyIC0gUGFydGlhbCBjb21wYXJpc29uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykge1xuICBpZiAodmFsdWUgPT09IG90aGVyKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHZhbHVlID09IG51bGwgfHwgb3RoZXIgPT0gbnVsbCB8fCAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXI7XG4gIH1cbiAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGJhc2VJc0VxdWFsLCBzdGFjayk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICogZGVlcCBjb21wYXJpc29ucyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzRXF1YWxEZWVwKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgb3RoSXNBcnIgPSBpc0FycmF5KG90aGVyKSxcbiAgICAgIG9ialRhZyA9IG9iaklzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob2JqZWN0KSxcbiAgICAgIG90aFRhZyA9IG90aElzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob3RoZXIpO1xuXG4gIG9ialRhZyA9IG9ialRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb2JqVGFnO1xuICBvdGhUYWcgPSBvdGhUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG90aFRhZztcblxuICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgb3RoSXNPYmogPSBvdGhUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgaXNTYW1lVGFnID0gb2JqVGFnID09IG90aFRhZztcblxuICBpZiAoaXNTYW1lVGFnICYmIGlzQnVmZmVyKG9iamVjdCkpIHtcbiAgICBpZiAoIWlzQnVmZmVyKG90aGVyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBvYmpJc0FyciA9IHRydWU7XG4gICAgb2JqSXNPYmogPSBmYWxzZTtcbiAgfVxuICBpZiAoaXNTYW1lVGFnICYmICFvYmpJc09iaikge1xuICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgcmV0dXJuIChvYmpJc0FyciB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KSlcbiAgICAgID8gZXF1YWxBcnJheXMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaylcbiAgICAgIDogZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCBvYmpUYWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICB9XG4gIGlmICghKGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRykpIHtcbiAgICB2YXIgb2JqSXNXcmFwcGVkID0gb2JqSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdfX3dyYXBwZWRfXycpLFxuICAgICAgICBvdGhJc1dyYXBwZWQgPSBvdGhJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCAnX193cmFwcGVkX18nKTtcblxuICAgIGlmIChvYmpJc1dyYXBwZWQgfHwgb3RoSXNXcmFwcGVkKSB7XG4gICAgICB2YXIgb2JqVW53cmFwcGVkID0gb2JqSXNXcmFwcGVkID8gb2JqZWN0LnZhbHVlKCkgOiBvYmplY3QsXG4gICAgICAgICAgb3RoVW53cmFwcGVkID0gb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyO1xuXG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgcmV0dXJuIGVxdWFsRnVuYyhvYmpVbndyYXBwZWQsIG90aFVud3JhcHBlZCwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spO1xuICAgIH1cbiAgfVxuICBpZiAoIWlzU2FtZVRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJlxuICAgIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgISF0eXBlZEFycmF5VGFnc1tiYXNlR2V0VGFnKHZhbHVlKV07XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c2Agd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBiYXNlS2V5cyhvYmplY3QpIHtcbiAgaWYgKCFpc1Byb3RvdHlwZShvYmplY3QpKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gW107XG4gIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBrZXkgIT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGFycmF5cyB3aXRoIHN1cHBvcnQgZm9yXG4gKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtBcnJheX0gb3RoZXIgVGhlIG90aGVyIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBhcnJheWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsQXJyYXlzKGFycmF5LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgb3RoTGVuZ3RoID0gb3RoZXIubGVuZ3RoO1xuXG4gIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG4gIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgfVxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICBzZWVuID0gKGJpdG1hc2sgJiBDT01QQVJFX1VOT1JERVJFRF9GTEFHKSA/IG5ldyBTZXRDYWNoZSA6IHVuZGVmaW5lZDtcblxuICBzdGFjay5zZXQoYXJyYXksIG90aGVyKTtcbiAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgLy8gSWdub3JlIG5vbi1pbmRleCBwcm9wZXJ0aWVzLlxuICB3aGlsZSAoKytpbmRleCA8IGFyckxlbmd0aCkge1xuICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltpbmRleF07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgYXJyVmFsdWUsIGluZGV4LCBvdGhlciwgYXJyYXksIHN0YWNrKVxuICAgICAgICA6IGN1c3RvbWl6ZXIoYXJyVmFsdWUsIG90aFZhbHVlLCBpbmRleCwgYXJyYXksIG90aGVyLCBzdGFjayk7XG4gICAgfVxuICAgIGlmIChjb21wYXJlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoY29tcGFyZWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIGlmIChzZWVuKSB7XG4gICAgICBpZiAoIWFycmF5U29tZShvdGhlciwgZnVuY3Rpb24ob3RoVmFsdWUsIG90aEluZGV4KSB7XG4gICAgICAgICAgICBpZiAoIWNhY2hlSGFzKHNlZW4sIG90aEluZGV4KSAmJlxuICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKSkge1xuICAgICAgICAgICAgICByZXR1cm4gc2Vlbi5wdXNoKG90aEluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSkge1xuICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghKFxuICAgICAgICAgIGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fFxuICAgICAgICAgICAgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHN0YWNrWydkZWxldGUnXShhcnJheSk7XG4gIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBjb21wYXJpbmcgb2JqZWN0cyBvZlxuICogdGhlIHNhbWUgYHRvU3RyaW5nVGFnYC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNvbXBhcmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0cyB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAob2JqZWN0LmJ5dGVPZmZzZXQgIT0gb3RoZXIuYnl0ZU9mZnNldCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gb2JqZWN0LmJ1ZmZlcjtcbiAgICAgIG90aGVyID0gb3RoZXIuYnVmZmVyO1xuXG4gICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAhZXF1YWxGdW5jKG5ldyBVaW50OEFycmF5KG9iamVjdCksIG5ldyBVaW50OEFycmF5KG90aGVyKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlIGJvb2xUYWc6XG4gICAgY2FzZSBkYXRlVGFnOlxuICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgIC8vIEludmFsaWQgZGF0ZXMgYXJlIGNvZXJjZWQgdG8gYE5hTmAuXG4gICAgICByZXR1cm4gZXEoK29iamVjdCwgK290aGVyKTtcblxuICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICByZXR1cm4gb2JqZWN0Lm5hbWUgPT0gb3RoZXIubmFtZSAmJiBvYmplY3QubWVzc2FnZSA9PSBvdGhlci5tZXNzYWdlO1xuXG4gICAgY2FzZSByZWdleHBUYWc6XG4gICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAvLyBDb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIGFuZCB0cmVhdCBzdHJpbmdzLCBwcmltaXRpdmVzIGFuZCBvYmplY3RzLFxuICAgICAgLy8gYXMgZXF1YWwuIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcmVnZXhwLnByb3RvdHlwZS50b3N0cmluZ1xuICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIHJldHVybiBvYmplY3QgPT0gKG90aGVyICsgJycpO1xuXG4gICAgY2FzZSBtYXBUYWc6XG4gICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICBjYXNlIHNldFRhZzpcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUc7XG4gICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgIGlmIChvYmplY3Quc2l6ZSAhPSBvdGhlci5zaXplICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgfVxuICAgICAgYml0bWFzayB8PSBDT01QQVJFX1VOT1JERVJFRF9GTEFHO1xuXG4gICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgaWYgKHN5bWJvbFZhbHVlT2YpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YuY2FsbChvYmplY3QpID09IHN5bWJvbFZhbHVlT2YuY2FsbChvdGhlcik7XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3Igb2JqZWN0cyB3aXRoIHN1cHBvcnQgZm9yXG4gKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgb2JqUHJvcHMgPSBnZXRBbGxLZXlzKG9iamVjdCksXG4gICAgICBvYmpMZW5ndGggPSBvYmpQcm9wcy5sZW5ndGgsXG4gICAgICBvdGhQcm9wcyA9IGdldEFsbEtleXMob3RoZXIpLFxuICAgICAgb3RoTGVuZ3RoID0gb3RoUHJvcHMubGVuZ3RoO1xuXG4gIGlmIChvYmpMZW5ndGggIT0gb3RoTGVuZ3RoICYmICFpc1BhcnRpYWwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGluZGV4ID0gb2JqTGVuZ3RoO1xuICB3aGlsZSAoaW5kZXgtLSkge1xuICAgIHZhciBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgaWYgKCEoaXNQYXJ0aWFsID8ga2V5IGluIG90aGVyIDogaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwga2V5KSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IHRydWU7XG4gIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgc3RhY2suc2V0KG90aGVyLCBvYmplY3QpO1xuXG4gIHZhciBza2lwQ3RvciA9IGlzUGFydGlhbDtcbiAgd2hpbGUgKCsraW5kZXggPCBvYmpMZW5ndGgpIHtcbiAgICBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgIG90aFZhbHVlID0gb3RoZXJba2V5XTtcblxuICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBvYmpWYWx1ZSwga2V5LCBvdGhlciwgb2JqZWN0LCBzdGFjaylcbiAgICAgICAgOiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSwga2V5LCBvYmplY3QsIG90aGVyLCBzdGFjayk7XG4gICAgfVxuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIGlmICghKGNvbXBhcmVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICA/IChvYmpWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKG9ialZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKVxuICAgICAgICAgIDogY29tcGFyZWRcbiAgICAgICAgKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgc2tpcEN0b3IgfHwgKHNraXBDdG9yID0ga2V5ID09ICdjb25zdHJ1Y3RvcicpO1xuICB9XG4gIGlmIChyZXN1bHQgJiYgIXNraXBDdG9yKSB7XG4gICAgdmFyIG9iakN0b3IgPSBvYmplY3QuY29uc3RydWN0b3IsXG4gICAgICAgIG90aEN0b3IgPSBvdGhlci5jb25zdHJ1Y3RvcjtcblxuICAgIC8vIE5vbiBgT2JqZWN0YCBvYmplY3QgaW5zdGFuY2VzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWFsLlxuICAgIGlmIChvYmpDdG9yICE9IG90aEN0b3IgJiZcbiAgICAgICAgKCdjb25zdHJ1Y3RvcicgaW4gb2JqZWN0ICYmICdjb25zdHJ1Y3RvcicgaW4gb3RoZXIpICYmXG4gICAgICAgICEodHlwZW9mIG9iakN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvYmpDdG9yIGluc3RhbmNlb2Ygb2JqQ3RvciAmJlxuICAgICAgICAgIHR5cGVvZiBvdGhDdG9yID09ICdmdW5jdGlvbicgJiYgb3RoQ3RvciBpbnN0YW5jZW9mIG90aEN0b3IpKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAqL1xuZnVuY3Rpb24gZ2V0QWxsS2V5cyhvYmplY3QpIHtcbiAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5cywgZ2V0U3ltYm9scyk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gKi9cbmZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgOiBkYXRhLm1hcDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gKi9cbnZhciBnZXRTeW1ib2xzID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICByZXR1cm4gYXJyYXlGaWx0ZXIobmF0aXZlR2V0U3ltYm9scyhvYmplY3QpLCBmdW5jdGlvbihzeW1ib2wpIHtcbiAgICByZXR1cm4gcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsIHN5bWJvbCk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xudmFyIGdldFRhZyA9IGJhc2VHZXRUYWc7XG5cbi8vIEZhbGxiYWNrIGZvciBkYXRhIHZpZXdzLCBtYXBzLCBzZXRzLCBhbmQgd2VhayBtYXBzIGluIElFIDExIGFuZCBwcm9taXNlcyBpbiBOb2RlLmpzIDwgNi5cbmlmICgoRGF0YVZpZXcgJiYgZ2V0VGFnKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKSAhPSBkYXRhVmlld1RhZykgfHxcbiAgICAoTWFwICYmIGdldFRhZyhuZXcgTWFwKSAhPSBtYXBUYWcpIHx8XG4gICAgKFByb21pc2UgJiYgZ2V0VGFnKFByb21pc2UucmVzb2x2ZSgpKSAhPSBwcm9taXNlVGFnKSB8fFxuICAgIChTZXQgJiYgZ2V0VGFnKG5ldyBTZXQpICE9IHNldFRhZykgfHxcbiAgICAoV2Vha01hcCAmJiBnZXRUYWcobmV3IFdlYWtNYXApICE9IHdlYWtNYXBUYWcpKSB7XG4gIGdldFRhZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGJhc2VHZXRUYWcodmFsdWUpLFxuICAgICAgICBDdG9yID0gcmVzdWx0ID09IG9iamVjdFRhZyA/IHZhbHVlLmNvbnN0cnVjdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICBjdG9yU3RyaW5nID0gQ3RvciA/IHRvU291cmNlKEN0b3IpIDogJyc7XG5cbiAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgIGNhc2UgZGF0YVZpZXdDdG9yU3RyaW5nOiByZXR1cm4gZGF0YVZpZXdUYWc7XG4gICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgIGNhc2Ugc2V0Q3RvclN0cmluZzogcmV0dXJuIHNldFRhZztcbiAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fCByZUlzVWludC50ZXN0KHZhbHVlKSkgJiZcbiAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgIDogKHZhbHVlID09PSBudWxsKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJndW1lbnRzID0gYmFzZUlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID8gYmFzZUlzQXJndW1lbnRzIDogZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMy4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG4vKipcbiAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmVcbiAqIGVxdWl2YWxlbnQuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHN1cHBvcnRzIGNvbXBhcmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLFxuICogZGF0ZSBvYmplY3RzLCBlcnJvciBvYmplY3RzLCBtYXBzLCBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLFxuICogc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkIGFycmF5cy4gYE9iamVjdGAgb2JqZWN0cyBhcmUgY29tcGFyZWRcbiAqIGJ5IHRoZWlyIG93biwgbm90IGluaGVyaXRlZCwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLiBGdW5jdGlvbnMgYW5kIERPTVxuICogbm9kZXMgYXJlIGNvbXBhcmVkIGJ5IHN0cmljdCBlcXVhbGl0eSwgaS5lLiBgPT09YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5pc0VxdWFsKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIG9iamVjdCA9PT0gb3RoZXI7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0VxdWFsKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICogW0VTIHNwZWNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICogZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmtleXMobmV3IEZvbyk7XG4gKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKlxuICogXy5rZXlzKCdoaScpO1xuICogLy8gPT4gWycwJywgJzEnXVxuICovXG5mdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzKG9iamVjdCk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTMuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gKlxuICogY29uc29sZS5sb2coYXJyYXlzKTtcbiAqIC8vID0+IFtbXSwgW11dXG4gKlxuICogY29uc29sZS5sb2coYXJyYXlzWzBdID09PSBhcnJheXNbMV0pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gc3R1YkFycmF5KCkge1xuICByZXR1cm4gW107XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICovXG5mdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0VxdWFsO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4vKipcbiAqIExlYW5wbHVtIEFyZ3NCdWlsZGVyLCB1c2UgdG8gY29uc3RydWN0IHJlcXVlc3QgcGF5bG9hZC5cbiAqL1xudmFyIEFyZ3NCdWlsZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBlbXB0eSByZXF1ZXN0IGFyZ3VtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFyZ3NCdWlsZGVyKCkge1xuICAgICAgICB0aGlzLmFyZ1N0cmluZyA9ICcnO1xuICAgICAgICB0aGlzLmFyZ1ZhbHVlcyA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgZ2l2ZW4ga2V5LCB2YWx1ZSB0byB0aGUgcGF5bG9hZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgZm9yIHRoZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xib29sZWFufSB2YWx1ZSBUaGUgdmFsdWUgZm9yIGdpdmVuIGtleS5cbiAgICAgKiBAcmV0dXJuIHtBcmdzQnVpbGRlcn0gUmV0dXJucyBhbiBvYmplY3Qgb2YgQXJnc0J1aWxkZXIuXG4gICAgICovXG4gICAgQXJnc0J1aWxkZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hcmdTdHJpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuYXJnU3RyaW5nICs9ICcmJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsID0gJyc7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICB2YWwgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWwgPSBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXJnU3RyaW5nICs9IFwiXCIuY29uY2F0KGtleSwgXCI9XCIpLmNvbmNhdCh2YWwpO1xuICAgICAgICB0aGlzLmFyZ1ZhbHVlc1trZXldID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQXJnc0J1aWxkZXIucHJvdG90eXBlLmJvZHkgPSBmdW5jdGlvbiAoYm9keSkge1xuICAgICAgICBpZiAoYm9keSkge1xuICAgICAgICAgICAgdGhpcy5fYm9keSA9IGJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYm9keTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCB0byBhdHRhY2ggZ2l2ZW4gYXBwSWQgYW5kIGFwcEtleSB0byByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gYXBwSWQgVGhlIGFwcElkIHRvIGF0dGFjaC5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGNsaWVudEtleSBUaGUgYXBwS2V5IHRvIGF0dGFjaC5cbiAgICAgKiBAcmV0dXJuIHtBcmdzQnVpbGRlcn0gUmV0dXJucyBhbiBvYmplY3Qgb2YgQXJnc0J1aWxkZXIuXG4gICAgICovXG4gICAgQXJnc0J1aWxkZXIucHJvdG90eXBlLmF0dGFjaEFwaUtleXMgPSBmdW5jdGlvbiAoYXBwSWQsIGNsaWVudEtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQVBQX0lELCBhcHBJZClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQ0xJRU5ULCBDb25zdGFudHNfMS5kZWZhdWx0LkNMSUVOVClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQ0xJRU5UX0tFWSwgY2xpZW50S2V5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgYXJndW1lbnRzLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gQXJndW1lbnRzIHN0cmluZy5cbiAgICAgKi9cbiAgICBBcmdzQnVpbGRlci5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFyZ1N0cmluZztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgYXJndW1lbnQgdmFsdWVzLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGFyZ3VtZW50IHZhbHVlcy5cbiAgICAgKi9cbiAgICBBcmdzQnVpbGRlci5wcm90b3R5cGUuYnVpbGREaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcmdWYWx1ZXM7XG4gICAgfTtcbiAgICByZXR1cm4gQXJnc0J1aWxkZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQXJnc0J1aWxkZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyBCcm93c2VyIGRldGVjdGlvbi4gU291cmNlOiBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2pzL2RldGVjdC5odG1sXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBkZXRlY3Qgd2hpY2ggYnJvd3NlciBjbGllbnQgaXMgdXNpbmcuXG4gKi9cbnZhciBCcm93c2VyRGV0ZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIG9iamVjdCB3aXRoIGN1cnJlbnQgYnJvd3NlciBzZXR0aW5ncy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCcm93c2VyRGV0ZWN0b3Iod25kKSB7XG4gICAgICAgIHRoaXMuYnJvd3NlciA9IHRoaXMuc2VhcmNoU3RyaW5nKHRoaXMuZ2V0QnJvd3NlckRhdGEod25kKSkgfHwgJ1Vua25vd24gQnJvd3Nlcic7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9ICh0aGlzLnNlYXJjaFZlcnNpb24od25kLm5hdmlnYXRvci51c2VyQWdlbnQpIHx8XG4gICAgICAgICAgICB0aGlzLnNlYXJjaFZlcnNpb24od25kLm5hdmlnYXRvci5hcHBWZXJzaW9uKSB8fFxuICAgICAgICAgICAgJ1Vua25vd24gVmVyc2lvbicpO1xuICAgICAgICB0aGlzLk9TID0gdGhpcy5zZWFyY2hTdHJpbmcodGhpcy5nZXRPU0RhdGEod25kKSkgfHwgJ1Vua25vd24gT1MnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXRjaGVzIHRoZSBjbGllbnQncyBzeXN0ZW0gdG8gdGhlIHByZWRlZmluZWQgc3lzdGVtIGxpc3QuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGRhdGEgVGhlIGRhdGEgb2JqZWN0IHRvIHNjYW4uXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgZm91bmQgaWRlbnRpdHkgc3RyaW5nLlxuICAgICAqL1xuICAgIEJyb3dzZXJEZXRlY3Rvci5wcm90b3R5cGUuc2VhcmNoU3RyaW5nID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGF0YVN0cmluZyA9IGRhdGFbaV0uc3RyaW5nO1xuICAgICAgICAgICAgdmFyIGRhdGFQcm9wID0gZGF0YVtpXS5wcm9wO1xuICAgICAgICAgICAgdGhpcy52ZXJzaW9uU2VhcmNoU3RyaW5nID0gZGF0YVtpXS52ZXJzaW9uU2VhcmNoIHx8IGRhdGFbaV0uaWRlbnRpdHk7XG4gICAgICAgICAgICBpZiAoZGF0YVN0cmluZykge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhU3RyaW5nLmluZGV4T2YoZGF0YVtpXS5zdWJTdHJpbmcpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVtpXS5pZGVudGl0eTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkYXRhUHJvcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhW2ldLmlkZW50aXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgY3VycmVudCB2ZXJzaW9uIG9mIHRoZSBnaXZlbiBzeXN0ZW0uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGRhdGFTdHJpbmcgVGhlIGRhdGEgb2JqZWN0IHRvIHNjYW4uXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgZm91bmQgbnVtYmVyLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQnJvd3NlckRldGVjdG9yLnByb3RvdHlwZS5zZWFyY2hWZXJzaW9uID0gZnVuY3Rpb24gKGRhdGFTdHJpbmcpIHtcbiAgICAgICAgaWYgKCFkYXRhU3RyaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IGRhdGFTdHJpbmcuaW5kZXhPZih0aGlzLnZlcnNpb25TZWFyY2hTdHJpbmcpO1xuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGRhdGFTdHJpbmcuc3Vic3RyaW5nKGluZGV4ICsgdGhpcy52ZXJzaW9uU2VhcmNoU3RyaW5nLmxlbmd0aCArIDEpKTtcbiAgICB9O1xuICAgIEJyb3dzZXJEZXRlY3Rvci5wcm90b3R5cGUuZ2V0QnJvd3NlckRhdGEgPSBmdW5jdGlvbiAod25kKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdDaHJvbWUnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnQ2hyb21lJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdPbW5pV2ViJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ09tbmlXZWInLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdPbW5pV2ViLycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnQ3JpT1MnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnQ2hyb21lJyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uU2VhcmNoOiAnQ3JpT1MnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0Z4aU9TJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0ZpcmVmb3gnLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdGeGlPUycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci52ZW5kb3IsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnQXBwbGUnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnU2FmYXJpJyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uU2VhcmNoOiAnVmVyc2lvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByb3A6IHduZC5vcGVyYSxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ09wZXJhJyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uU2VhcmNoOiAnVmVyc2lvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci52ZW5kb3IsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnaUNhYicsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdpQ2FiJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnZlbmRvcixcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdLREUnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnS29ucXVlcm9yJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdGaXJlZm94JyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0ZpcmVmb3gnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudmVuZG9yLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0NhbWlubycsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdDYW1pbm8nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ05ldHNjYXBlJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ05ldHNjYXBlJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdNU0lFJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0V4cGxvcmVyJyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uU2VhcmNoOiAnTVNJRScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnQW5kcm9pZCcsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdBbmRyb2lkIEJyb3dzZXInLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdWZXJzaW9uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdHZWNrbycsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdNb3ppbGxhJyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uU2VhcmNoOiAncnYnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ01vemlsbGEnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnTmV0c2NhcGUnLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdNb3ppbGxhJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF07XG4gICAgfTtcbiAgICBCcm93c2VyRGV0ZWN0b3IucHJvdG90eXBlLmdldE9TRGF0YSA9IGZ1bmN0aW9uICh3bmQpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IucGxhdGZvcm0sXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnV2luJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ1dpbmRvd3MnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IucGxhdGZvcm0sXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnTWFjJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ01hYyBPUycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdpUGFkJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ2lPUycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnaVBob25lJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ2lPUycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnQW5kcm9pZCcsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdBbmRyb2lkJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnBsYXRmb3JtLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0xpbnV4JyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0xpbnV4JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF07XG4gICAgfTtcbiAgICByZXR1cm4gQnJvd3NlckRldGVjdG9yO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJyb3dzZXJEZXRlY3RvcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLypcbiAqXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2VcbiAqXG4gKi9cbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgICBNRVRIT0RTOiB7XG4gICAgICAgIFNUQVJUOiAnc3RhcnQnLFxuICAgICAgICBTVE9QOiAnc3RvcCcsXG4gICAgICAgIEFEVkFOQ0U6ICdhZHZhbmNlJyxcbiAgICAgICAgVFJBQ0s6ICd0cmFjaycsXG4gICAgICAgIFBBVVNFX1NFU1NJT046ICdwYXVzZVNlc3Npb24nLFxuICAgICAgICBSRVNVTUVfU0VTU0lPTjogJ3Jlc3VtZVNlc3Npb24nLFxuICAgICAgICBQQVVTRV9TVEFURTogJ3BhdXNlU3RhdGUnLFxuICAgICAgICBSRVNVTUVfU1RBVEU6ICdyZXN1bWVTdGF0ZScsXG4gICAgICAgIERPV05MT0FEX0ZJTEU6ICdkb3dubG9hZEZpbGUnLFxuICAgICAgICBNVUxUSTogJ211bHRpJyxcbiAgICAgICAgU0VUX1ZBUlM6ICdzZXRWYXJzJyxcbiAgICAgICAgR0VUX1ZBUlM6ICdnZXRWYXJzJyxcbiAgICAgICAgU0VUX1VTRVJfQVRUUklCVVRFUzogJ3NldFVzZXJBdHRyaWJ1dGVzJyxcbiAgICAgICAgU0VUX0RFVklDRV9BVFRSSUJVVEVTOiAnc2V0RGV2aWNlQXR0cmlidXRlcycsXG4gICAgICAgIFVQTE9BRF9GSUxFOiAndXBsb2FkRmlsZScsXG4gICAgICAgIFJFR0lTVEVSX0RFVklDRTogJ3JlZ2lzdGVyRGV2aWNlJyxcbiAgICB9LFxuICAgIFNES19WRVJTSU9OOiAnMS4xMS4wLWRldmVsb3AuNCcsXG4gICAgQ0xJRU5UOiAnanMnLFxuICAgIFBBUkFNUzoge1xuICAgICAgICBBQ1RJT046ICdhY3Rpb24nLFxuICAgICAgICBBUFBfSUQ6ICdhcHBJZCcsXG4gICAgICAgIENMSUVOVDogJ2NsaWVudCcsXG4gICAgICAgIENMSUVOVF9LRVk6ICdjbGllbnRLZXknLFxuICAgICAgICBDVDogJ2N0JyxcbiAgICAgICAgQ1VSUkVOQ1lfQ09ERTogJ2N1cnJlbmN5Q29kZScsXG4gICAgICAgIERFVklDRV9JRDogJ2RldmljZUlkJyxcbiAgICAgICAgU0RLX1ZFUlNJT046ICdzZGtWZXJzaW9uJyxcbiAgICAgICAgVVNFUl9JRDogJ3VzZXJJZCcsXG4gICAgICAgIE5FV19VU0VSX0lEOiAnbmV3VXNlcklkJyxcbiAgICAgICAgREVWX01PREU6ICdkZXZNb2RlJyxcbiAgICAgICAgVkVSU0lPTl9OQU1FOiAndmVyc2lvbk5hbWUnLFxuICAgICAgICBTWVNURU1fTkFNRTogJ3N5c3RlbU5hbWUnLFxuICAgICAgICBTWVNURU1fVkVSU0lPTjogJ3N5c3RlbVZlcnNpb24nLFxuICAgICAgICBCUk9XU0VSX05BTUU6ICdicm93c2VyTmFtZScsXG4gICAgICAgIEJST1dTRVJfVkVSU0lPTjogJ2Jyb3dzZXJWZXJzaW9uJyxcbiAgICAgICAgREVWSUNFX05BTUU6ICdkZXZpY2VOYW1lJyxcbiAgICAgICAgREVWSUNFX01PREVMOiAnZGV2aWNlTW9kZWwnLFxuICAgICAgICBVU0VSX0FUVFJJQlVURVM6ICd1c2VyQXR0cmlidXRlcycsXG4gICAgICAgIExPQ0FMRTogJ2xvY2FsZScsXG4gICAgICAgIENPVU5UUlk6ICdjb3VudHJ5JyxcbiAgICAgICAgUkVHSU9OOiAncmVnaW9uJyxcbiAgICAgICAgQ0lUWTogJ2NpdHknLFxuICAgICAgICBMT0NBVElPTjogJ2xvY2F0aW9uJyxcbiAgICAgICAgU1RBVEU6ICdzdGF0ZScsXG4gICAgICAgIElORk86ICdpbmZvJyxcbiAgICAgICAgRVZFTlQ6ICdldmVudCcsXG4gICAgICAgIFZBTFVFOiAndmFsdWUnLFxuICAgICAgICBGSUxFTkFNRTogJ2ZpbGVuYW1lJyxcbiAgICAgICAgVElNRTogJ3RpbWUnLFxuICAgICAgICBEQVRBOiAnZGF0YScsXG4gICAgICAgIFZBUlM6ICd2YXJzJyxcbiAgICAgICAgRklMRTogJ2ZpbGUnLFxuICAgICAgICBTSVpFOiAnc2l6ZScsXG4gICAgICAgIFZBUklBVElPTjogJ3ZhcmlhdGlvbicsXG4gICAgICAgIEhBU0g6ICdoYXNoJyxcbiAgICAgICAgRU1BSUw6ICdlbWFpbCcsXG4gICAgICAgIFZBUklBQkxFUzogJ3ZhcnMnLFxuICAgICAgICBBQ1RJT05fREVGSU5JVElPTlM6ICdhY3Rpb25EZWZpbml0aW9ucycsXG4gICAgICAgIFBBUkFNUzogJ3BhcmFtcycsXG4gICAgICAgIElOQ0xVREVfREVGQVVMVFM6ICdpbmNsdWRlRGVmYXVsdHMnLFxuICAgICAgICBJTkNMVURFX1ZBUklBTlRfREVCVUdfSU5GTzogJ2luY2x1ZGVWYXJpYW50RGVidWdJbmZvJyxcbiAgICAgICAgTkVXU0ZFRURfTUVTU0FHRVM6ICduZXdzZmVlZE1lc3NhZ2VzJyxcbiAgICAgICAgTUVTU0FHRV9JRDogJ21lc3NhZ2VJZCcsXG4gICAgICAgIFdFQl9QVVNIX1NVQlNDUklQVElPTjogJ3dlYlB1c2hTdWJzY3JpcHRpb24nLFxuICAgIH0sXG4gICAgS0VZUzoge1xuICAgICAgICBJU19SRUdJU1RFUkVEOiAnaXNSZWdpc3RlcmVkJyxcbiAgICAgICAgTEFURVNUX1ZFUlNJT046ICdsYXRlc3RWZXJzaW9uJyxcbiAgICAgICAgU1lOQ19JTkJPWDogJ3N5bmNOZXdzZmVlZCcsXG4gICAgICAgIE1FU1NBR0VTOiAnbWVzc2FnZXMnLFxuICAgICAgICBWQVJTOiAndmFycycsXG4gICAgICAgIFZBUklBTlRTOiAndmFyaWFudHMnLFxuICAgICAgICBWQVJJQU5UX0RFQlVHX0lORk86ICd2YXJpYW50RGVidWdJbmZvJyxcbiAgICAgICAgQUNUSU9OX0RFRklOSVRJT05TOiAnYWN0aW9uRGVmaW5pdGlvbnMnLFxuICAgICAgICBUT0tFTjogJ3Rva2VuJyxcbiAgICB9LFxuICAgIERFRkFVTFRfS0VZUzoge1xuICAgICAgICBDT1VOVDogJ19fbGVhbnBsdW1fdW5zeW5jZWQnLFxuICAgICAgICBJVEVNOiAnX19sZWFucGx1bV91bnN5bmNlZF8nLFxuICAgICAgICBWQVJJQUJMRVM6ICdfX2xlYW5wbHVtX3ZhcmlhYmxlcycsXG4gICAgICAgIFZBUklBTlRTOiAnX19sZWFucGx1bV92YXJpYW50cycsXG4gICAgICAgIFZBUklBTlRfREVCVUdfSU5GTzogJ19fbGVhbnBsdW1fdmFyaWFudF9kZWJ1Z19pbmZvJyxcbiAgICAgICAgQUNUSU9OX0RFRklOSVRJT05TOiAnX19sZWFucGx1bV9hY3Rpb25fZGVmaW5pdGlvbnMnLFxuICAgICAgICBIT1NUX0NPTkZJRzogJ19fbGVhbnBsdW1faG9zdHMnLFxuICAgICAgICBJTkJPWF9NRVNTQUdFUzogJ19fbGVhbnBsdW1faW5ib3hfbWVzc2FnZXMnLFxuICAgICAgICBUT0tFTjogJ19fbGVhbnBsdW1fdG9rZW4nLFxuICAgICAgICBERVZJQ0VfSUQ6ICdfX2xlYW5wbHVtX2RldmljZV9pZCcsXG4gICAgICAgIFVTRVJfSUQ6ICdfX2xlYW5wbHVtX3VzZXJfaWQnLFxuICAgICAgICBTRVNTSU9OOiAnX19sZWFucGx1bV9zZXNzaW9uJyxcbiAgICAgICAgTUVTU0FHRV9PQ0NVUlJFTkNFUzogJ19fbGVhbnBsdW1fbWVzc2FnZV9vY2N1cnJlbmNlcycsXG4gICAgICAgIE1FU1NBR0VfQ0FDSEU6ICdfX2xlYW5wbHVtX21lc3NhZ2VfY2FjaGUnLFxuICAgICAgICBNSUdSQVRJT05fU1RBVEU6ICdfX2xlYW5wbHVtX21pZ3JhdGlvbl9zdGF0ZScsXG4gICAgICAgIFBVU0hfU1VCU0NSSVBUSU9OOiAnX19sZWFucGx1bV9wdXNoX3N1YnNjcmlwdGlvbicsXG4gICAgfSxcbiAgICBWQUxVRVM6IHtcbiAgICAgICAgREVURUNUOiAnKGRldGVjdCknLFxuICAgICAgICBERUZBVUxUX1BVU0hfQUNUSU9OOiAnT3BlbiBhY3Rpb24nLFxuICAgIH0sXG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgRXZlbnRFbWl0dGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICAgIH1cbiAgICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycy5wdXNoKHsgZXZlbnROYW1lOiBldmVudE5hbWUsIGNhbGxiYWNrOiBjYWxsYmFjayB9KTtcbiAgICB9O1xuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IHRoaXMuaGFuZGxlcnMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmV2ZW50TmFtZSAhPT0gZXZlbnROYW1lIHx8IHguY2FsbGJhY2sgIT09IGNhbGxiYWNrOyB9KTtcbiAgICB9O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgYXJncykge1xuICAgICAgICB0aGlzLmhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgICAgIGlmIChoYW5kbGVyLmV2ZW50TmFtZSA9PT0gZXZlbnROYW1lKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5jYWxsYmFjayhhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEV2ZW50RW1pdHRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBJbnRlcm5hbFN0YXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEludGVybmFsU3RhdGUoKSB7XG4gICAgICAgIHRoaXMuc3RhcnRIYW5kbGVycyA9IFtdO1xuICAgICAgICB0aGlzLmRldk1vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNTdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhcnRTdWNjZXNzZnVsID0gZmFsc2U7XG4gICAgICAgIHRoaXMudmFyaWFudERlYnVnSW5mb0VuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgSW50ZXJuYWxTdGF0ZS5wcm90b3R5cGUuYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLnN0YXJ0SGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgICAgICAgaWYgKHRoaXMuaGFzU3RhcnRlZCkge1xuICAgICAgICAgICAgaGFuZGxlcih0aGlzLnN0YXJ0U3VjY2Vzc2Z1bCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEludGVybmFsU3RhdGUucHJvdG90eXBlLnJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMuc3RhcnRIYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpO1xuICAgICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSW50ZXJuYWxTdGF0ZS5wcm90b3R5cGUudHJpZ2dlclN0YXJ0SGFuZGxlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGFydEhhbmRsZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0SGFuZGxlcnNbaV0odGhpcy5zdGFydFN1Y2Nlc3NmdWwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gSW50ZXJuYWxTdGF0ZTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBJbnRlcm5hbFN0YXRlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgTGVhbnBsdW1JbnRlcm5hbF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0xlYW5wbHVtSW50ZXJuYWxcIikpO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlcyAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xudmFyIExlYW5wbHVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExlYW5wbHVtKCkge1xuICAgIH1cbiAgICBMZWFucGx1bS5zZXRBcGlQYXRoID0gZnVuY3Rpb24gKGFwaVBhdGgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldEFwaVBhdGgoYXBpUGF0aCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRFbWFpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gZGVwcmVjYXRlZFxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmV0d29yayB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZWNvbmRzIFRoZSB0aW1lb3V0IGluIHNlY29uZHMuXG4gICAgICovXG4gICAgTGVhbnBsdW0uc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0TmV0d29ya1RpbWVvdXQoc2Vjb25kcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRBcHBJZEZvckRldmVsb3BtZW50TW9kZSA9IGZ1bmN0aW9uIChhcHBJZCwgYWNjZXNzS2V5KSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRBcHBJZEZvckRldmVsb3BtZW50TW9kZShhcHBJZCwgYWNjZXNzS2V5KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldEFwcElkRm9yUHJvZHVjdGlvbk1vZGUgPSBmdW5jdGlvbiAoYXBwSWQsIGFjY2Vzc0tleSkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0QXBwSWRGb3JQcm9kdWN0aW9uTW9kZShhcHBJZCwgYWNjZXNzS2V5KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFNvY2tldEhvc3QgPSBmdW5jdGlvbiAoaG9zdCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0U29ja2V0SG9zdChob3N0KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldERldmljZUlkID0gZnVuY3Rpb24gKGRldmljZUlkKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXREZXZpY2VJZChkZXZpY2VJZCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRMb2NhbGUgPSBmdW5jdGlvbiAobG9jYWxlKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRMb2NhbGUobG9jYWxlKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldEFwcFZlcnNpb24gPSBmdW5jdGlvbiAodmVyc2lvbk5hbWUpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldEFwcFZlcnNpb24odmVyc2lvbk5hbWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0RGV2aWNlTmFtZSA9IGZ1bmN0aW9uIChkZXZpY2VOYW1lKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXREZXZpY2VOYW1lKGRldmljZU5hbWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0RGV2aWNlTW9kZWwgPSBmdW5jdGlvbiAoZGV2aWNlTW9kZWwpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldERldmljZU1vZGVsKGRldmljZU1vZGVsKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFJlcXVlc3RCYXRjaGluZyA9IGZ1bmN0aW9uIChiYXRjaEVuYWJsZWQsIGNvb2xkb3duU2Vjb25kcykge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0UmVxdWVzdEJhdGNoaW5nKGJhdGNoRW5hYmxlZCwgY29vbGRvd25TZWNvbmRzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFN5c3RlbU5hbWUgPSBmdW5jdGlvbiAoc3lzdGVtTmFtZSkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0U3lzdGVtTmFtZShzeXN0ZW1OYW1lKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFN5c3RlbVZlcnNpb24gPSBmdW5jdGlvbiAoc3lzdGVtVmVyc2lvbikge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0U3lzdGVtVmVyc2lvbihzeXN0ZW1WZXJzaW9uKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICh2YXJpYWJsZXMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFZhcmlhYmxlcyh2YXJpYWJsZXMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0VmFyaWFudERlYnVnSW5mb0VuYWJsZWQgPSBmdW5jdGlvbiAodmFyaWFudERlYnVnSW5mb0VuYWJsZWQpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldFZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKHZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmVuYWJsZVJpY2hJbkFwcE1lc3NhZ2VzID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmVuYWJsZVJpY2hJbkFwcE1lc3NhZ2VzKGVuYWJsZWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucHJvY2Vzc01lc3NhZ2VFdmVudCA9IGZ1bmN0aW9uIChtZXNzYWdlSWQsIG1lc3NhZ2UpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnByb2Nlc3NNZXNzYWdlRXZlbnQobWVzc2FnZUlkLCBtZXNzYWdlKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldFZhcmlhbnREZWJ1Z0luZm8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuZ2V0VmFyaWFudERlYnVnSW5mbygpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZ2V0VmFyaWFibGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmdldFZhcmlhYmxlcygpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZ2V0VmFyaWFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKF9hID0gTGVhbnBsdW0uX2xwKS5nZXRWYXJpYWJsZS5hcHBseShfYSwgYXJncyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5nZXRWYXJpYW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5nZXRWYXJpYW50cygpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uaW5ib3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuaW5ib3goKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucmVtb3ZlU3RhcnRSZXNwb25zZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICBMZWFucGx1bS5fbHAucmVtb3ZlU3RhcnRSZXNwb25zZUhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5hZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5hZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZm9yY2VDb250ZW50VXBkYXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5mb3JjZUNvbnRlbnRVcGRhdGUoY2FsbGJhY2spO1xuICAgIH07XG4gICAgTGVhbnBsdW0udXNlU2Vzc2lvbkxlbmd0aCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC51c2VTZXNzaW9uTGVuZ3RoKHNlY29uZHMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc3RhcnQgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnN0YXJ0KHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnN0YXJ0RnJvbUNhY2hlID0gZnVuY3Rpb24gKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zdGFydEZyb21DYWNoZSh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc3RvcCgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucGF1c2VTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAucGF1c2VTZXNzaW9uKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5yZXN1bWVTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAucmVzdW1lU2Vzc2lvbigpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucGF1c2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnBhdXNlU3RhdGUoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnJlc3VtZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAucmVzdW1lU3RhdGUoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldFVzZXJJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xwLmdldFVzZXJJZCgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0VXNlcklkID0gZnVuY3Rpb24gKHVzZXJJZCkge1xuICAgICAgICBMZWFucGx1bS5zZXRVc2VyQXR0cmlidXRlcyh1c2VySWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0VXNlckF0dHJpYnV0ZXMgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcykge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0VXNlckF0dHJpYnV0ZXModXNlcklkLCB1c2VyQXR0cmlidXRlcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS50cmFjayA9IGZ1bmN0aW9uIChldmVudCwgdmFsdWUsIGluZm8sIHBhcmFtcykge1xuICAgICAgICBMZWFucGx1bS5fbHAudHJhY2soZXZlbnQsIHZhbHVlLCBpbmZvLCBwYXJhbXMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0udHJhY2tQdXJjaGFzZSA9IGZ1bmN0aW9uICh2YWx1ZSwgY3VycmVuY3lDb2RlLCBwYXJhbXMsIGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudCA9PT0gdm9pZCAwKSB7IGV2ZW50ID0gJ1B1cmNoYXNlJzsgfVxuICAgICAgICBMZWFucGx1bS5fbHAudHJhY2tQdXJjaGFzZSh2YWx1ZSwgY3VycmVuY3lDb2RlLCBwYXJhbXMsIGV2ZW50KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmFkdmFuY2VUbyA9IGZ1bmN0aW9uIChzdGF0ZSwgaW5mbywgcGFyYW1zKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5hZHZhbmNlVG8oc3RhdGUsIGluZm8sIHBhcmFtcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHdlYiBwdXNoIGlzIHN1cHBvcnRlZCBpbiB0aGUgYnJvd3Nlci5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHN1cHBvcnRlZCwgZWxzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBMZWFucGx1bS5pc1dlYlB1c2hTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuaXNXZWJQdXNoU3VwcG9ydGVkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHdlYiBwdXNoIGlzIHN1YnNjcmliZWQuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gUmVzb2x2ZXMgaWYgdHJ1ZSwgcmVqZWN0cyBpZiBmYWxzZS5cbiAgICAgKi9cbiAgICBMZWFucGx1bS5pc1dlYlB1c2hTdWJzY3JpYmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmlzV2ViUHVzaFN1YnNjcmliZWQoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldFdlYlB1c2hPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5zZXRXZWJQdXNoT3B0aW9ucyhvcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIHRoZSBicm93c2VyIGZvciB3ZWIgcHVzaC5cbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgc2VydmljZVdvcmtlclVybCBUaGUgdXJsIG9uIHlvdXIgc2VydmVyIHRoYXQgaG9zdHMgdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3N3Lm1pbi5qcyBzZXJ2aWNlIHdvcmtlciBqcyBmaWxlLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICAgICAgICAgICAgIFJlc29sdmVzIGlmIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyd2lzZSBmYWlscy5cbiAgICAgKi9cbiAgICBMZWFucGx1bS5yZWdpc3RlckZvcldlYlB1c2ggPSBmdW5jdGlvbiAoc2VydmljZVdvcmtlclVybCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLnJlZ2lzdGVyRm9yV2ViUHVzaChzZXJ2aWNlV29ya2VyVXJsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVucmVnaXN0ZXJzIHRoZSBicm93c2VyIGZvcm0gd2ViIHB1c2guXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gICAgICAgICAgICBSZXNvbHZlcyBvbiBzdWNjZXNzLCBvdGhlcndpc2UgcmVqZWN0cy5cbiAgICAgKi9cbiAgICBMZWFucGx1bS51bnJlZ2lzdGVyRnJvbVdlYlB1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAudW5yZWdpc3RlckZyb21XZWJQdXNoKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhcnMgY2FjaGVkIHZhbHVlcyBmb3IgbWVzc2FnZXMsIHZhcmlhYmxlcyBhbmQgdGVzdCBhc3NpZ25tZW50cy5cbiAgICAgKiBVc2Ugc3BhcmluZ2x5IGFzIGlmIHRoZSBhcHAgaXMgdXBkYXRlZCwgeW91J2xsIGhhdmUgdG8gZGVhbCB3aXRoIHBvdGVudGlhbGx5XG4gICAgICogaW5jb25zaXN0ZW50IHN0YXRlIG9yIHVzZXIgZXhwZXJpZW5jZS5cbiAgICAgKi9cbiAgICBMZWFucGx1bS5jbGVhclVzZXJDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuY2xlYXJVc2VyQ29udGVudCgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZGVmaW5lQWN0aW9uID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmRlZmluZUFjdGlvbihvcHRpb25zKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmFwcGx5UXVldWUgPSBmdW5jdGlvbiAocXVldWUpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmFwcGx5UXVldWUocXVldWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ub24gPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5vbihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ub2ZmID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgICBMZWFucGx1bS5fbHAub2ZmKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5nZXRGaWxlVXJsID0gZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuZ2V0RmlsZVVybChmaWxlbmFtZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5fX2Rlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2xwID0gbmV3IExlYW5wbHVtSW50ZXJuYWxfMS5kZWZhdWx0KHdpbmRvdyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5fbHAgPSBuZXcgTGVhbnBsdW1JbnRlcm5hbF8xLmRlZmF1bHQod2luZG93KTtcbiAgICBMZWFucGx1bS5WRVJTSU9OID0gQ29uc3RhbnRzXzEuZGVmYXVsdC5TREtfVkVSU0lPTjtcbiAgICByZXR1cm4gTGVhbnBsdW07XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTGVhbnBsdW07XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxlYW5wbHVtSW5ib3hNZXNzYWdlID0gdm9pZCAwO1xudmFyIEFyZ3NCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQXJnc0J1aWxkZXJcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgU3RvcmFnZU1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9TdG9yYWdlTWFuYWdlclwiKSk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxudmFyIHZhbHVlcyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gb2JqW2tleV07IH0pO1xufTtcbnZhciBMZWFucGx1bUluYm94ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExlYW5wbHVtSW5ib3goY3JlYXRlUmVxdWVzdCwgb25BY3Rpb24pIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdDtcbiAgICAgICAgdGhpcy5vbkFjdGlvbiA9IG9uQWN0aW9uO1xuICAgICAgICB0aGlzLm1lc3NhZ2VNYXAgPSB7fTtcbiAgICAgICAgdGhpcy5jaGFuZ2VIYW5kbGVycyA9IFtdO1xuICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUuZG93bmxvYWRNZXNzYWdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KCdnZXROZXdzZmVlZE1lc3NhZ2VzJywgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLnJlc3BvbnNlWzBdO1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5uZXdzZmVlZE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm1lc3NhZ2VNYXAgPSByZXNwb25zZS5uZXdzZmVlZE1lc3NhZ2VzO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50cmlnZ2VyQ2hhbmdlSGFuZGxlcnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm1hcmtBc1JlYWQgPSBmdW5jdGlvbiAobWVzc2FnZUlkKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5tZXNzYWdlTWFwW21lc3NhZ2VJZF07XG4gICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbWVzc2FnZS5pc1JlYWQpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuaXNSZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlckNoYW5nZUhhbmRsZXJzKCk7XG4gICAgICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKTtcbiAgICAgICAgICAgIGFyZ3MuYWRkKCduZXdzZmVlZE1lc3NhZ2VJZCcsIG1lc3NhZ2VJZCk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoJ21hcmtOZXdzZmVlZE1lc3NhZ2VBc1JlYWQnLCBhcmdzLCB7fSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAobWVzc2FnZUlkKSB7XG4gICAgICAgIHRoaXMubWFya0FzUmVhZChtZXNzYWdlSWQpO1xuICAgICAgICB2YXIgaW5ib3hNZXNzYWdlID0gdGhpcy5tZXNzYWdlKG1lc3NhZ2VJZCk7XG4gICAgICAgIHZhciBpZCA9IG1lc3NhZ2VJZC5zcGxpdCgnIyMnKVswXTtcbiAgICAgICAgdmFyIG9wZW5BY3Rpb24gPSAoaW5ib3hNZXNzYWdlID09PSBudWxsIHx8IGluYm94TWVzc2FnZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5ib3hNZXNzYWdlLm9wZW5BY3Rpb24oKSkgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5vbkFjdGlvbihpZCwgb3BlbkFjdGlvbik7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAobWVzc2FnZUlkKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5tZXNzYWdlTWFwW21lc3NhZ2VJZF07XG4gICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLm1lc3NhZ2VNYXBbbWVzc2FnZUlkXTtcbiAgICAgICAgdGhpcy50cmlnZ2VyQ2hhbmdlSGFuZGxlcnMoKTtcbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KCk7XG4gICAgICAgIGFyZ3MuYWRkKCduZXdzZmVlZE1lc3NhZ2VJZCcsIG1lc3NhZ2VJZCk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCgnZGVsZXRlTmV3c2ZlZWRNZXNzYWdlJywgYXJncywge30pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUub25DaGFuZ2VkID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUudHJpZ2dlckNoYW5nZUhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNoYW5nZUhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIGhhbmRsZXIoKTsgfSk7XG4gICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmUoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuSU5CT1hfTUVTU0FHRVMsIEpTT04uc3RyaW5naWZ5KHRoaXMubWVzc2FnZU1hcCksICdzZXNzaW9uJyk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0KENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLklOQk9YX01FU1NBR0VTLCAnc2Vzc2lvbicpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlTWFwID0gSlNPTi5wYXJzZShzdGF0ZSkgfHwge307XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZU1hcCA9IHt9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5jb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcyh0aGlzLm1lc3NhZ2VNYXApLmxlbmd0aDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLnVucmVhZENvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdmFsdWVzKHRoaXMubWVzc2FnZU1hcCkuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiAheC5pc1JlYWQ7IH0pLmxlbmd0aDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm1lc3NhZ2VzID0gZnVuY3Rpb24gKGZpbHRlcikge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMubWVzc2FnZU1hcCkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLm1lc3NhZ2VNYXBbaWRdO1xuICAgICAgICAgICAgaWYgKGZpbHRlcihkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKExlYW5wbHVtSW5ib3hNZXNzYWdlLmNyZWF0ZShpZCwgZGF0YSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5hbGxNZXNzYWdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZXMoZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS51bnJlYWRNZXNzYWdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZXMoZnVuY3Rpb24gKHgpIHsgcmV0dXJuICF4LmlzUmVhZDsgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5tZXNzYWdlSWRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5tZXNzYWdlTWFwKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm1lc3NhZ2UgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VNYXBbaWRdO1xuICAgICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBMZWFucGx1bUluYm94TWVzc2FnZS5jcmVhdGUoaWQsIG1lc3NhZ2UpO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtSW5ib3g7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTGVhbnBsdW1JbmJveDtcbnZhciBMZWFucGx1bUluYm94TWVzc2FnZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bUluYm94TWVzc2FnZShfaWQsIF90aXRsZSwgX3N1YnRpdGxlLCBfZGF0YSwgX3RpbWVzdGFtcCwgX2lzUmVhZCwgX2ltYWdlVXJsLCBfb3BlbkFjdGlvbikge1xuICAgICAgICB0aGlzLl9pZCA9IF9pZDtcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBfdGl0bGU7XG4gICAgICAgIHRoaXMuX3N1YnRpdGxlID0gX3N1YnRpdGxlO1xuICAgICAgICB0aGlzLl9kYXRhID0gX2RhdGE7XG4gICAgICAgIHRoaXMuX3RpbWVzdGFtcCA9IF90aW1lc3RhbXA7XG4gICAgICAgIHRoaXMuX2lzUmVhZCA9IF9pc1JlYWQ7XG4gICAgICAgIHRoaXMuX2ltYWdlVXJsID0gX2ltYWdlVXJsO1xuICAgICAgICB0aGlzLl9vcGVuQWN0aW9uID0gX29wZW5BY3Rpb247XG4gICAgfVxuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLmNyZWF0ZSA9IGZ1bmN0aW9uIChpZCwgbWVzc2FnZUluZm8pIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbDtcbiAgICAgICAgdmFyIHBhcmVudENhbXBhaWduSWQgPSAoX2EgPSBtZXNzYWdlSW5mby5tZXNzYWdlRGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhcmVudENhbXBhaWduSWQ7XG4gICAgICAgIHZhciBhY3Rpb24gPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgKF9jID0gKF9iID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi52YXJzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVGQVVMVF9QVVNIX0FDVElPTl0pLCB7IHBhcmVudENhbXBhaWduSWQ6IHBhcmVudENhbXBhaWduSWQgfSk7XG4gICAgICAgIHJldHVybiBuZXcgTGVhbnBsdW1JbmJveE1lc3NhZ2UoaWQsIChfZSA9IChfZCA9IG1lc3NhZ2VJbmZvLm1lc3NhZ2VEYXRhKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QudmFycykgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLlRpdGxlLCAoX2cgPSAoX2YgPSBtZXNzYWdlSW5mby5tZXNzYWdlRGF0YSkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLnZhcnMpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5TdWJ0aXRsZSwgKF9qID0gKF9oID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9oID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaC52YXJzKSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ouRGF0YSwgbWVzc2FnZUluZm8uZGVsaXZlcnlUaW1lc3RhbXAsIG1lc3NhZ2VJbmZvLmlzUmVhZCwgKF9sID0gKF9rID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9rID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfay52YXJzKSA9PT0gbnVsbCB8fCBfbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2wuSW1hZ2UsIGFjdGlvbik7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUuaWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS50aXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpdGxlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLnN1YnRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3VidGl0bGU7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUuZGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUudGltZXN0YW1wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGltZXN0YW1wO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLmlzUmVhZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzUmVhZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS5pbWFnZVVybCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlVXJsO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLm9wZW5BY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcGVuQWN0aW9uO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtSW5ib3hNZXNzYWdlO1xufSgpKTtcbmV4cG9ydHMuTGVhbnBsdW1JbmJveE1lc3NhZ2UgPSBMZWFucGx1bUluYm94TWVzc2FnZTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBCcm93c2VyRGV0ZWN0b3JfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Ccm93c2VyRGV0ZWN0b3JcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgSW50ZXJuYWxTdGF0ZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0ludGVybmFsU3RhdGVcIikpO1xudmFyIExlYW5wbHVtSW5ib3hfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9MZWFucGx1bUluYm94XCIpKTtcbnZhciBMZWFucGx1bVJlcXVlc3RfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9MZWFucGx1bVJlcXVlc3RcIikpO1xudmFyIExlYW5wbHVtU29ja2V0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTGVhbnBsdW1Tb2NrZXRcIikpO1xudmFyIFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vU3RvcmFnZU1hbmFnZXJcIikpO1xudmFyIFB1c2hNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vUHVzaE1hbmFnZXJcIikpO1xudmFyIE1lc3NhZ2VzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTWVzc2FnZXNcIikpO1xudmFyIEV2ZW50RW1pdHRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0V2ZW50RW1pdHRlclwiKSk7XG52YXIgTWlncmF0aW9uTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL01pZ3JhdGlvbk1hbmFnZXJcIikpO1xudmFyIHB1YmxpY18xID0gcmVxdWlyZShcIi4vdHlwZXMvcHVibGljXCIpO1xudmFyIGludGVybmFsXzEgPSByZXF1aXJlKFwiLi90eXBlcy9pbnRlcm5hbFwiKTtcbnZhciBWYXJDYWNoZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1ZhckNhY2hlXCIpKTtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXMgKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbnZhciBTRVNTSU9OX0tFWSA9IENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlNFU1NJT047XG52YXIgTGVhbnBsdW1JbnRlcm5hbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bUludGVybmFsKHduZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnduZCA9IHduZDtcbiAgICAgICAgdGhpcy5fbWlncmF0aW9uID0gbmV3IE1pZ3JhdGlvbk1hbmFnZXJfMS5kZWZhdWx0KHRoaXMuY3JlYXRlUmVxdWVzdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50RW1pdHRlcl8xLmRlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZSA9IG5ldyBJbnRlcm5hbFN0YXRlXzEuZGVmYXVsdCgpO1xuICAgICAgICB0aGlzLl9scEluYm94ID0gbmV3IExlYW5wbHVtSW5ib3hfMS5kZWZhdWx0KHRoaXMuY3JlYXRlUmVxdWVzdC5iaW5kKHRoaXMpLCB0aGlzLm9uSW5ib3hBY3Rpb24uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdCA9IG5ldyBMZWFucGx1bVJlcXVlc3RfMS5kZWZhdWx0KHRoaXMuX2V2ZW50cyk7XG4gICAgICAgIHRoaXMuX3ZhckNhY2hlID0gbmV3IFZhckNhY2hlXzEuZGVmYXVsdCh0aGlzLmNyZWF0ZVJlcXVlc3QuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX2xwU29ja2V0ID0gbmV3IExlYW5wbHVtU29ja2V0XzEuZGVmYXVsdCh0aGlzLl92YXJDYWNoZSwgdGhpcy5jcmVhdGVSZXF1ZXN0LmJpbmQodGhpcyksIHRoaXMuX2xwUmVxdWVzdC5nZXRMYXN0UmVzcG9uc2UuYmluZCh0aGlzLl9scFJlcXVlc3QpLCB0aGlzLl9ldmVudHMpO1xuICAgICAgICB0aGlzLl9wdXNoTWFuYWdlciA9IG5ldyBQdXNoTWFuYWdlcl8xLmRlZmF1bHQodGhpcy5fZXZlbnRzLCB0aGlzLmNyZWF0ZVJlcXVlc3QuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX21lc3NhZ2VzID0gbmV3IE1lc3NhZ2VzXzEuZGVmYXVsdCh0aGlzLl9ldmVudHMsIHRoaXMuY3JlYXRlUmVxdWVzdC5iaW5kKHRoaXMpLCB0aGlzLmdldEZpbGVVcmwuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX2Jyb3dzZXJEZXRlY3RvciA9IG5ldyBCcm93c2VyRGV0ZWN0b3JfMS5kZWZhdWx0KHduZCk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5vbignbmF2aWdhdGlvbkNoYW5nZScsIGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgICAgIHZhciBwcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLl9ldmVudHMuZW1pdCgnb3BlblVybCcsIHtcbiAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJldmVudGVkID0gdHJ1ZTsgfSxcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFwcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy53bmQubG9jYXRpb24uYXNzaWduKHVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9ldmVudHMub24oJ3JlZ2lzdGVyRm9yUHVzaCcsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnJlZ2lzdGVyRm9yV2ViUHVzaCgpOyB9KTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLm9uKCd1cGRhdGVEZXZTZXJ2ZXJIb3N0JywgZnVuY3Rpb24gKGhvc3QpIHsgcmV0dXJuIF90aGlzLnNldFNvY2tldEhvc3QoaG9zdCk7IH0pO1xuICAgICAgICB0aGlzLl9ldmVudHMub24oJ21pZ3JhdGVTdGF0ZVJlY2VpdmVkJywgZnVuY3Rpb24gKHNoYSkgeyByZXR1cm4gX3RoaXMuX21pZ3JhdGlvbi52ZXJpZnlTdGF0ZShzaGEpOyB9KTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLm9uKCd3ZWJQdXNoU3Vic2NyaWJlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHZhciBzZXJ2aWNlV29ya2VyUGF0aCA9IChfYSA9IF90aGlzLl93ZWJQdXNoT3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNlcnZpY2VXb3JrZXJVcmw7XG4gICAgICAgICAgICB2YXIgcGF0aCA9IHNlcnZpY2VXb3JrZXJQYXRoID8geyBzZXJ2aWNlV29ya2VyUGF0aDogc2VydmljZVdvcmtlclBhdGggfSA6IHt9O1xuICAgICAgICAgICAgX3RoaXMuX2N0ICYmIF90aGlzLl9jdC5ub3RpZmljYXRpb25zLnB1c2goX19hc3NpZ24oeyB0aXRsZVRleHQ6ICcnLCBib2R5VGV4dDogJycsIG9rQnV0dG9uVGV4dDogJycsIHJlamVjdEJ1dHRvblRleHQ6ICcnIH0sIHBhdGgpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldEFwaVBhdGggPSBmdW5jdGlvbiAoYXBpUGF0aCkge1xuICAgICAgICBpZiAoIXRoaXMuX2xwUmVxdWVzdC5hcGlQYXRoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmFwaVBhdGggPSBhcGlQYXRoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmV0d29yayB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZWNvbmRzIFRoZSB0aW1lb3V0IGluIHNlY29uZHMuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICB0aGlzLl9scFJlcXVlc3Quc2V0TmV0d29ya1RpbWVvdXQoc2Vjb25kcyk7XG4gICAgICAgIHRoaXMuX2xwU29ja2V0LnNldE5ldHdvcmtUaW1lb3V0KHNlY29uZHMpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0QXBwSWRGb3JEZXZlbG9wbWVudE1vZGUgPSBmdW5jdGlvbiAoYXBwSWQsIGFjY2Vzc0tleSkge1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuYXBwSWQgPSBhcHBJZDtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmNsaWVudEtleSA9IGFjY2Vzc0tleTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlID0gdHJ1ZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldEFwcElkRm9yUHJvZHVjdGlvbk1vZGUgPSBmdW5jdGlvbiAoYXBwSWQsIGFjY2Vzc0tleSkge1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuYXBwSWQgPSBhcHBJZDtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmNsaWVudEtleSA9IGFjY2Vzc0tleTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlID0gZmFsc2U7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRTb2NrZXRIb3N0ID0gZnVuY3Rpb24gKGhvc3QpIHtcbiAgICAgICAgdGhpcy5fbHBTb2NrZXQuc2V0U29ja2V0SG9zdChob3N0KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldERldmljZUlkID0gZnVuY3Rpb24gKGRldmljZUlkKSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5kZXZpY2VJZCA9IGRldmljZUlkO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0TG9jYWxlID0gZnVuY3Rpb24gKGxvY2FsZSkge1xuICAgICAgICB0aGlzLl9sb2NhbGUgPSBsb2NhbGU7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRBcHBWZXJzaW9uID0gZnVuY3Rpb24gKHZlcnNpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC52ZXJzaW9uTmFtZSA9IHZlcnNpb25OYW1lO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0RGV2aWNlTmFtZSA9IGZ1bmN0aW9uIChkZXZpY2VOYW1lKSB7XG4gICAgICAgIHRoaXMuX2RldmljZU5hbWUgPSBkZXZpY2VOYW1lO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0RGV2aWNlTW9kZWwgPSBmdW5jdGlvbiAoZGV2aWNlTW9kZWwpIHtcbiAgICAgICAgdGhpcy5fZGV2aWNlTW9kZWwgPSBkZXZpY2VNb2RlbDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFJlcXVlc3RCYXRjaGluZyA9IGZ1bmN0aW9uIChiYXRjaEVuYWJsZWQsIGNvb2xkb3duU2Vjb25kcykge1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuYmF0Y2hFbmFibGVkID0gYmF0Y2hFbmFibGVkO1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuYmF0Y2hDb29sZG93biA9IGNvb2xkb3duU2Vjb25kcztcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFN5c3RlbU5hbWUgPSBmdW5jdGlvbiAoc3lzdGVtTmFtZSkge1xuICAgICAgICB0aGlzLl9zeXN0ZW1OYW1lID0gc3lzdGVtTmFtZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFN5c3RlbVZlcnNpb24gPSBmdW5jdGlvbiAoc3lzdGVtVmVyc2lvbikge1xuICAgICAgICB0aGlzLl9zeXN0ZW1WZXJzaW9uID0gc3lzdGVtVmVyc2lvbjtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICh2YXJpYWJsZXMpIHtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUuc2V0VmFyaWFibGVzKHZhcmlhYmxlcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRWYXJpYW50RGVidWdJbmZvRW5hYmxlZCA9IGZ1bmN0aW9uICh2YXJpYW50RGVidWdJbmZvRW5hYmxlZCkge1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLnZhcmlhbnREZWJ1Z0luZm9FbmFibGVkID0gdmFyaWFudERlYnVnSW5mb0VuYWJsZWQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5lbmFibGVSaWNoSW5BcHBNZXNzYWdlcyA9IGZ1bmN0aW9uIChlbmFibGVkKSB7XG4gICAgICAgIHRoaXMuX21lc3NhZ2VzLmVuYWJsZVJpY2hJbkFwcE1lc3NhZ2VzKGVuYWJsZWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucHJvY2Vzc01lc3NhZ2VFdmVudCA9IGZ1bmN0aW9uIChtZXNzYWdlSWQsIG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5fbWVzc2FnZXMucHJvY2Vzc01lc3NhZ2VFdmVudChtZXNzYWdlSWQsIG1lc3NhZ2UpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0VmFyaWFudERlYnVnSW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhckNhY2hlLmdldFZhcmlhbnREZWJ1Z0luZm8oKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhckNhY2hlLmdldFZhcmlhYmxlcygpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0VmFyaWFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5fdmFyQ2FjaGUpLmdldFZhcmlhYmxlLmFwcGx5KF9hLCBhcmdzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldFZhcmlhbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFyQ2FjaGUudmFyaWFudHMgfHwgW107XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5pbmJveCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xwSW5ib3g7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fZXZlbnRzLm9uKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5vZmYoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLm9uSW5ib3hBY3Rpb24gPSBmdW5jdGlvbiAobWVzc2FnZUlkLCBhY3Rpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fbWVzc2FnZXMudHJhY2tNZXNzYWdlKG1lc3NhZ2VJZCwgeyBldmVudDogJ09wZW4nIH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFjdGlvbiAmJiBfdGhpcy5fbWVzc2FnZXMub25BY3Rpb24oYWN0aW9uKTsgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5kZWZpbmVBY3Rpb24gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLl92YXJDYWNoZS5yZWdpc3RlckFjdGlvbkRlZmluaXRpb24oX19hc3NpZ24oeyBraW5kOiBwdWJsaWNfMS5NZXNzYWdlS2luZC5UZW1wbGF0ZSB9LCBvcHRpb25zKSk7XG4gICAgfTtcbiAgICAvLyBUT0RPKGJyZWFraW5nIGNoYW5nZSk6IHJlcGxhY2Ugd2l0aCBldmVudHMgYW5kIHJlbW92ZSBzdGF0ZWZ1bCBoYW5kbGVyc1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS5hZGRTdGFydFJlc3BvbnNlSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS5yZW1vdmVTdGFydFJlc3BvbnNlSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmFkZFZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUuYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5yZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX3ZhckNhY2hlLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0RmlsZVVybCA9IGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbHBSZXF1ZXN0LmdldEZpbGVVcmwoZmlsZW5hbWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZm9yY2VDb250ZW50VXBkYXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklOQ0xVREVfREVGQVVMVFMsIGZhbHNlKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkNMVURFX1ZBUklBTlRfREVCVUdfSU5GTywgdGhpcy5faW50ZXJuYWxTdGF0ZS52YXJpYW50RGVidWdJbmZvRW5hYmxlZCk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuR0VUX1ZBUlMsIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogZmFsc2UsXG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZhciBnZXRWYXJzUmVzcG9uc2UgPSBfdGhpcy5fbHBSZXF1ZXN0LmdldExhc3RSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgdmFyIGlzU3VjY2VzcyA9IF90aGlzLl9scFJlcXVlc3QuaXNSZXNwb25zZVN1Y2Nlc3MoZ2V0VmFyc1Jlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS5hcHBseURpZmZzKGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSU10sIGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVFNdLCBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLkFDVElPTl9ERUZJTklUSU9OU10pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUuc2V0VmFyaWFudERlYnVnSW5mbyhnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUklBTlRfREVCVUdfSU5GT10pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZXZlbnRzLmVtaXQoJ21lc3NhZ2VzUmVjZWl2ZWQnLCBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLk1FU1NBR0VTXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhpc1N1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUudXNlU2Vzc2lvbkxlbmd0aCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMuX3Nlc3Npb25MZW5ndGggPSBzZWNvbmRzO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlcklkO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgICAgIHVzZXJJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHVzZXJJZCA9PT0gJ29iamVjdCcgJiYgdXNlcklkICE9PSBudWxsICYmIHVzZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJBdHRyaWJ1dGVzO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB1c2VySWQ7XG4gICAgICAgICAgICB1c2VySWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VyQXR0cmlidXRlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VyQXR0cmlidXRlcztcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFzQWN0aXZlU2Vzc2lvbigpICYmICF0aGlzLl9pbnRlcm5hbFN0YXRlLmRldk1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXJ0RnJvbUNhY2hlKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9taWdyYXRpb24uZ2V0U3RhdGUoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09IGludGVybmFsXzEuTWlncmF0aW9uU3RhdGUuRFVQTElDQVRFKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2N0ID0gX3RoaXMuX21pZ3JhdGlvbi5pbml0Q2xldmVyVGFwKCk7XG4gICAgICAgICAgICAgICAgLy8gc2lsZW50bHkgcmVnaXN0ZXIgc3Vic2NyaXB0aW9uIGluIENUXG4gICAgICAgICAgICAgICAgX3RoaXMuaXNXZWJQdXNoU3Vic2NyaWJlZCgpLnRoZW4oZnVuY3Rpb24gKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZXZlbnRzLmVtaXQoJ3dlYlB1c2hTdWJzY3JpYmVkJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlID09PSBpbnRlcm5hbF8xLk1pZ3JhdGlvblN0YXRlLkNMRVZFUlRBUCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9jdCA9IF90aGlzLl9taWdyYXRpb24uaW5pdENsZXZlclRhcCgpO1xuICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXMoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMpXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gIVtcbiAgICAgICAgICAgICAgICAgICAgQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVVNFUl9JRCxcbiAgICAgICAgICAgICAgICAgICAgQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuREVWSUNFX0lELFxuICAgICAgICAgICAgICAgICAgICBDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5UT0tFTixcbiAgICAgICAgICAgICAgICBdLmluY2x1ZGVzKGtleSk7IH0pXG4gICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5yZW1vdmUoa2V5KTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZCA9IHVzZXJJZDtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIF90aGlzLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS5vblVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUudHJpZ2dlclZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycygpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5VU0VSX0FUVFJJQlVURVMsIEpTT04uc3RyaW5naWZ5KHVzZXJBdHRyaWJ1dGVzKSlcbiAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkNPVU5UUlksIENvbnN0YW50c18xLmRlZmF1bHQuVkFMVUVTLkRFVEVDVClcbiAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlJFR0lPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVURUNUKVxuICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQ0lUWSwgQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVURUNUKVxuICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuTE9DQVRJT04sIENvbnN0YW50c18xLmRlZmF1bHQuVkFMVUVTLkRFVEVDVClcbiAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNZU1RFTV9OQU1FLCBfdGhpcy5fc3lzdGVtTmFtZSB8fCBfdGhpcy5fYnJvd3NlckRldGVjdG9yLk9TKVxuICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuU1lTVEVNX1ZFUlNJT04sIChfdGhpcy5fc3lzdGVtVmVyc2lvbiB8fCAnJykudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkJST1dTRVJfTkFNRSwgX3RoaXMuX2Jyb3dzZXJEZXRlY3Rvci5icm93c2VyKVxuICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQlJPV1NFUl9WRVJTSU9OLCBfdGhpcy5fYnJvd3NlckRldGVjdG9yLnZlcnNpb24udG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkxPQ0FMRSwgX3RoaXMuX2xvY2FsZSB8fCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZJQ0VfTkFNRSwgX3RoaXMuX2RldmljZU5hbWUgfHxcbiAgICAgICAgICAgICAgICBcIlwiLmNvbmNhdChfdGhpcy5fYnJvd3NlckRldGVjdG9yLmJyb3dzZXIsIFwiIFwiKS5jb25jYXQoX3RoaXMuX2Jyb3dzZXJEZXRlY3Rvci52ZXJzaW9uKSlcbiAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkRFVklDRV9NT0RFTCwgX3RoaXMuX2RldmljZU1vZGVsIHx8ICdXZWIgQnJvd3NlcicpXG4gICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ORVdTRkVFRF9NRVNTQUdFUywgX3RoaXMuX2xwSW5ib3gubWVzc2FnZUlkcygpKVxuICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5DTFVERV9ERUZBVUxUUywgZmFsc2UpXG4gICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkNMVURFX1ZBUklBTlRfREVCVUdfSU5GTywgX3RoaXMuX2ludGVybmFsU3RhdGUudmFyaWFudERlYnVnSW5mb0VuYWJsZWQpO1xuICAgICAgICAgICAgX3RoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuU1RBUlQsIGFyZ3MsIHtcbiAgICAgICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9pbnRlcm5hbFN0YXRlLmhhc1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRSZXNwb25zZSA9IF90aGlzLl9scFJlcXVlc3QuZ2V0TGFzdFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzU3VjY2VzcyA9IF90aGlzLl9scFJlcXVlc3QuaXNSZXNwb25zZVN1Y2Nlc3Moc3RhcnRSZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9pbnRlcm5hbFN0YXRlLnN0YXJ0U3VjY2Vzc2Z1bCA9IGlzU3VjY2VzcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlU2Vzc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VzID0gc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuTUVTU0FHRVNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0UmVzcG9uc2UuYWN0aW9uRGVmaW5pdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlcy5hY3Rpb25EZWZpbml0aW9ucyA9IHN0YXJ0UmVzcG9uc2UuYWN0aW9uRGVmaW5pdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZXZlbnRzLmVtaXQoJ21lc3NhZ2VzUmVjZWl2ZWQnLCBtZXNzYWdlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuU1lOQ19JTkJPWF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fbHBJbmJveC5kb3dubG9hZE1lc3NhZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX2ludGVybmFsU3RhdGUuZGV2TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXRlc3RWZXJzaW9uID0gc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuTEFURVNUX1ZFUlNJT05dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXRlc3RWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQSBuZXdlciB2ZXJzaW9uIG9mIHRoZSBMZWFucGx1bSBTREssIFwiLmNvbmNhdChsYXRlc3RWZXJzaW9uLCBcIiwgaXMgYXZhaWxhYmxlLlxcbiAgVXNlIFxcXCJucG0gdXBkYXRlIGxlYW5wbHVtLXNka1xcXCIgb3IgZ28gdG8gaHR0cHM6Ly9kb2NzLmxlYW5wbHVtLmNvbS9yZWZlcmVuY2UjamF2YXNjcmlwdC1zZXR1cCB0byBkb3dubG9hZCBpdC5cIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0U29ja2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUuYXBwbHlEaWZmcyhzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJTXSwgc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVFNdLCBzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5BQ1RJT05fREVGSU5JVElPTlNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS5zZXRWYXJpYW50RGVidWdJbmZvKHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUklBTlRfREVCVUdfSU5GT10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3ZhckNhY2hlLnRva2VuID0gc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVE9LRU5dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3ZhckNhY2hlLmxvYWREaWZmcygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9ldmVudHMuZW1pdCgnc3RhcnQnLCB7IHN1Y2Nlc3M6IGlzU3VjY2VzcyB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2ludGVybmFsU3RhdGUudHJpZ2dlclN0YXJ0SGFuZGxlcnMoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc3RhcnRGcm9tQ2FjaGUgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlcklkO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgICAgIHVzZXJJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHVzZXJJZCA9PT0gJ29iamVjdCcgJiYgdXNlcklkICE9PSBudWxsICYmIHVzZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJBdHRyaWJ1dGVzO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB1c2VySWQ7XG4gICAgICAgICAgICB1c2VySWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VyQXR0cmlidXRlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VyQXR0cmlidXRlcztcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVTZXNzaW9uKCk7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC51c2VySWQgPSB1c2VySWQ7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgdGhpcy5hZGRTdGFydFJlc3BvbnNlSGFuZGxlcihjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS5oYXNTdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS5zdGFydFN1Y2Nlc3NmdWwgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RTb2NrZXQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl92YXJDYWNoZS5sb2FkRGlmZnMoKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLmVtaXQoJ3Jlc3VtZScpO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLnRyaWdnZXJTdGFydEhhbmRsZXJzKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlNUT1AsIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnJlbW92ZShTRVNTSU9OX0tFWSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnBhdXNlU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5QQVVTRV9TRVNTSU9OLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucmVzdW1lU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fZXZlbnRzLmVtaXQoJ3Jlc3VtZScpO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlJFU1VNRV9TRVNTSU9OLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucGF1c2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5QQVVTRV9TVEFURSwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucmVzdW1lU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuUkVTVU1FX1NUQVRFLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5nZXRVc2VySWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9scFJlcXVlc3QudXNlcklkO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0VXNlcklkID0gZnVuY3Rpb24gKHVzZXJJZCkge1xuICAgICAgICB0aGlzLnNldFVzZXJBdHRyaWJ1dGVzKHVzZXJJZCk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRVc2VyQXR0cmlidXRlcyA9IGZ1bmN0aW9uICh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmICh1c2VyQXR0cmlidXRlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHVzZXJJZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB1c2VyQXR0cmlidXRlcyA9IHVzZXJJZDtcbiAgICAgICAgICAgICAgICB1c2VySWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdXNlcklkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogc2V0VXNlckF0dHJpYnV0ZXMgZXhwZWN0cyBhIHN0cmluZyBvciBhbiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ29iamVjdCcpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5VU0VSX0FUVFJJQlVURVMsIHVzZXJBdHRyaWJ1dGVzID8gSlNPTi5zdHJpbmdpZnkodXNlckF0dHJpYnV0ZXMpIDogdW5kZWZpbmVkKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ORVdfVVNFUl9JRCwgdXNlcklkKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLmVtaXQoJ3NldFVzZXJBdHRyaWJ1dGUnLCB1c2VyQXR0cmlidXRlcyk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuU0VUX1VTRVJfQVRUUklCVVRFUywgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHVzZXJJZCkge1xuICAgICAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZCA9IHVzZXJJZDtcbiAgICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlVTRVJfSUQsIHRoaXMuX2xwUmVxdWVzdC51c2VySWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS50cmFjayA9IGZ1bmN0aW9uIChldmVudCwgdmFsdWUsIGluZm8sIHBhcmFtcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSB2YWx1ZTtcbiAgICAgICAgICAgIGluZm8gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSBpbmZvO1xuICAgICAgICAgICAgaW5mbyA9IHZhbHVlO1xuICAgICAgICAgICAgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGluZm8gPT09ICdvYmplY3QnICYmIGluZm8gIT09IG51bGwgJiYgaW5mbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSBpbmZvO1xuICAgICAgICAgICAgaW5mbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5FVkVOVCwgZXZlbnQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlZBTFVFLCB2YWx1ZSB8fCAwLjApXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklORk8sIGluZm8pXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlBBUkFNUywgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCd0cmFjaycsIHsgZXZlbnROYW1lOiBldmVudCwgcGFyYW1zOiBwYXJhbXMgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuVFJBQ0ssIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy51cGRhdGVTZXNzaW9uKCk7IH0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUudHJhY2tQdXJjaGFzZSA9IGZ1bmN0aW9uICh2YWx1ZSwgY3VycmVuY3lDb2RlLCBwYXJhbXMsIGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudCA9PT0gdm9pZCAwKSB7IGV2ZW50ID0gJ1B1cmNoYXNlJzsgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5FVkVOVCwgZXZlbnQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlZBTFVFLCB2YWx1ZSB8fCAwLjApXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlBBUkFNUywgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgICAgIGlmIChjdXJyZW5jeUNvZGUpIHtcbiAgICAgICAgICAgIGFyZ3MuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkNVUlJFTkNZX0NPREUsIGN1cnJlbmN5Q29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZXZlbnRzLmVtaXQoJ3RyYWNrJywgeyBldmVudE5hbWU6IGV2ZW50IH0pO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlRSQUNLLCBhcmdzLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgICAgICBpc1B1cmNoYXNlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmFkdmFuY2VUbyA9IGZ1bmN0aW9uIChzdGF0ZSwgaW5mbywgcGFyYW1zKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5mbyA9PT0gJ29iamVjdCcgJiYgaW5mbyAhPT0gbnVsbCAmJiBpbmZvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IGluZm87XG4gICAgICAgICAgICBpbmZvID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNUQVRFLCBzdGF0ZSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5GTywgaW5mbylcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuUEFSQU1TLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLmVtaXQoJ2FkdmFuY2VTdGF0ZScsIHsgc3RhdGU6IHN0YXRlLCBwYXJhbXM6IHBhcmFtcyB9KTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5BRFZBTkNFLCBhcmdzLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB3ZWIgcHVzaCBpcyBzdXBwb3J0ZWQgaW4gdGhlIGJyb3dzZXIuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBzdXBwb3J0ZWQsIGVsc2UgZmFsc2UuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuaXNXZWJQdXNoU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHVzaE1hbmFnZXIuaXNXZWJQdXNoU3VwcG9ydGVkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHdlYiBwdXNoIGlzIHN1YnNjcmliZWQuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gUmVzb2x2ZXMgaWYgdHJ1ZSwgcmVqZWN0cyBpZiBmYWxzZS5cbiAgICAgKi9cbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5pc1dlYlB1c2hTdWJzY3JpYmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBjbGllbnRVcmwgPSAoKF9hID0gdGhpcy5fd2ViUHVzaE9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGllbnRVcmwpIHx8ICcnO1xuICAgICAgICByZXR1cm4gdGhpcy5fcHVzaE1hbmFnZXIuaXNXZWJQdXNoU3Vic2NyaWJlZChjbGllbnRVcmwpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0V2ViUHVzaE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLl93ZWJQdXNoT3B0aW9ucyA9IF9fYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIHRoZSBicm93c2VyIGZvciB3ZWIgcHVzaC5cbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgc2VydmljZVdvcmtlclVybCBUaGUgdXJsIG9uIHlvdXIgc2VydmVyIHRoYXQgaG9zdHMgdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3N3Lm1pbi5qcyBzZXJ2aWNlIHdvcmtlciBqcyBmaWxlLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICAgICAgICAgICAgIFJlc29sdmVzIGlmIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyd2lzZSBmYWlscy5cbiAgICAgKi9cbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5yZWdpc3RlckZvcldlYlB1c2ggPSBmdW5jdGlvbiAoc2VydmljZVdvcmtlclVybCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fcHVzaE1hbmFnZXIuaXNXZWJQdXNoU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpYmUgPSBmdW5jdGlvbiAoaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3B1c2hNYW5hZ2VyLnN1YnNjcmliZVVzZXIoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMuX3dlYlB1c2hPcHRpb25zIHx8IHt9O1xuICAgICAgICAgICAgdmFyIHdvcmtlclVybCA9IHNlcnZpY2VXb3JrZXJVcmwgfHwgb3B0aW9ucy5zZXJ2aWNlV29ya2VyVXJsO1xuICAgICAgICAgICAgdmFyIHNjb3BlID0gb3B0aW9ucyAmJiBvcHRpb25zLnNjb3BlID8geyBzY29wZTogb3B0aW9ucy5zY29wZSB9IDogbnVsbDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wdXNoTWFuYWdlci5yZWdpc3Rlcih3b3JrZXJVcmwsIHNjb3BlLCBzdWJzY3JpYmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdMZWFucGx1bTogV2ViUHVzaCBpcyBub3Qgc3VwcG9ydGVkLicpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVbnJlZ2lzdGVycyB0aGUgYnJvd3NlciBmb3JtIHdlYiBwdXNoLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICAgICAgUmVzb2x2ZXMgb24gc3VjY2Vzcywgb3RoZXJ3aXNlIHJlamVjdHMuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUudW5yZWdpc3RlckZyb21XZWJQdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBjbGllbnRVcmwgPSAoKF9hID0gdGhpcy5fd2ViUHVzaE9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGllbnRVcmwpIHx8ICcnO1xuICAgICAgICByZXR1cm4gdGhpcy5fcHVzaE1hbmFnZXIudW5zdWJzY3JpYmVVc2VyKGNsaWVudFVybCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhcnMgY2FjaGVkIHZhbHVlcyBmb3IgbWVzc2FnZXMsIHZhcmlhYmxlcyBhbmQgdGVzdCBhc3NpZ25tZW50cy5cbiAgICAgKiBVc2Ugc3BhcmluZ2x5IGFzIGlmIHRoZSBhcHAgaXMgdXBkYXRlZCwgeW91J2xsIGhhdmUgdG8gZGVhbCB3aXRoIHBvdGVudGlhbGx5XG4gICAgICogaW5jb25zaXN0ZW50IHN0YXRlIG9yIHVzZXIgZXhwZXJpZW5jZS5cbiAgICAgKi9cbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5jbGVhclVzZXJDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl92YXJDYWNoZS5jbGVhclVzZXJDb250ZW50KCk7XG4gICAgfTtcbiAgICAvLyB1c2VkIGJ5IEdvb2dsZSBUYWcgTWFuYWdlciB0byBhcHBseSBjb21tYW5kcyBxdWV1ZWQgZHVyaW5nIGFzeW5jIHNjcmlwdCBsb2FkaW5nXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuYXBwbHlRdWV1ZSA9IGZ1bmN0aW9uIChxdWV1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBxdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uIChpbnZvY2F0aW9uKSB7IHJldHVybiBfdGhpc1tpbnZvY2F0aW9uLm5hbWVdLmFwcGx5KF90aGlzLCBpbnZvY2F0aW9uLmFyZ3MpOyB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmNyZWF0ZVJlcXVlc3QgPSBmdW5jdGlvbiAoYWN0aW9uLCBhcmdzLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHZhciBzdXBwcmVzcyA9IHRoaXMuX21pZ3JhdGlvbi5kdXBsaWNhdGVSZXF1ZXN0KGFjdGlvbiwgYXJncywgb3B0aW9ucyk7XG4gICAgICAgIGlmICghc3VwcHJlc3MpIHtcbiAgICAgICAgICAgIHRoaXMuX2xwUmVxdWVzdC5yZXF1ZXN0KGFjdGlvbiwgYXJncywgX19hc3NpZ24oeyBkZXZNb2RlOiB0aGlzLl9pbnRlcm5hbFN0YXRlLmRldk1vZGUgfSwgb3B0aW9ucykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5jb25uZWN0U29ja2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9scFNvY2tldC5jb25uZWN0KHtcbiAgICAgICAgICAgIGFwcElkOiB0aGlzLl9scFJlcXVlc3QuYXBwSWQsXG4gICAgICAgICAgICBkZXZpY2VJZDogdGhpcy5fbHBSZXF1ZXN0LmRldmljZUlkLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmhhc0FjdGl2ZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fc2Vzc2lvbkxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHZhciBsYXN0QWN0aXZlID0gcGFyc2VJbnQoU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldChTRVNTSU9OX0tFWSkpO1xuICAgICAgICBpZiAoaXNOYU4obGFzdEFjdGl2ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VycmVudFRpbWUgLSBsYXN0QWN0aXZlIDwgdGhpcy5fc2Vzc2lvbkxlbmd0aCAqIDEwMDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnVwZGF0ZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlKFNFU1NJT05fS0VZLCBTdHJpbmcoRGF0ZS5ub3coKSkpO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtSW50ZXJuYWw7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTGVhbnBsdW1JbnRlcm5hbDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBTdG9yYWdlTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1N0b3JhZ2VNYW5hZ2VyXCIpKTtcbnZhciBOZXR3b3JrXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTmV0d29ya1wiKSk7XG52YXIgTGVhbnBsdW1SZXF1ZXN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExlYW5wbHVtUmVxdWVzdChldmVudHMsIG5ldHdvcmspIHtcbiAgICAgICAgaWYgKG5ldHdvcmsgPT09IHZvaWQgMCkgeyBuZXR3b3JrID0gbmV3IE5ldHdvcmtfMS5kZWZhdWx0KCk7IH1cbiAgICAgICAgdGhpcy5ldmVudHMgPSBldmVudHM7XG4gICAgICAgIHRoaXMubmV0d29yayA9IG5ldHdvcms7XG4gICAgICAgIHRoaXMuY29vbGRvd25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0UmVxdWVzdFRpbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudXNlcklkVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYXBpUGF0aCA9ICdodHRwczovL2FwaS5sZWFucGx1bS5jb20vYXBpJztcbiAgICAgICAgdGhpcy5iYXRjaENvb2xkb3duID0gNTtcbiAgICAgICAgdGhpcy5iYXRjaEVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmxvYWRIb3N0Q29uZmlnKCk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLCBcInVzZXJJZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLnVzZXJJZFZhbHVlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5VU0VSX0lEKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5kZXZpY2VJZDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodXNlcklkKSB7XG4gICAgICAgICAgICB0aGlzLnVzZXJJZFZhbHVlID0gdXNlcklkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5yZXF1ZXN0ID0gZnVuY3Rpb24gKGFjdGlvbiwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBwYXJhbXMgPSBwYXJhbXMgfHwgbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpO1xuICAgICAgICAvLyBHZXQgb3IgY3JlYXRlIGRldmljZSBJRCBhbmQgdXNlciBJRC5cbiAgICAgICAgaWYgKCF0aGlzLmRldmljZUlkKSB7XG4gICAgICAgICAgICB0aGlzLmRldmljZUlkID0gdGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuREVWSUNFX0lEKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuZGV2aWNlSWQpIHtcbiAgICAgICAgICAgIHZhciBpZCA9ICcnO1xuICAgICAgICAgICAgdmFyIHBvc3NpYmxlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JztcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICAgICAgICAgIGlkICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGV2aWNlSWQgPSBpZDtcbiAgICAgICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkRFVklDRV9JRCwgaWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlVTRVJfSUQsIHRoaXMudXNlcklkKTtcbiAgICAgICAgdmFyIGFyZ3NCdWlsZGVyID0gcGFyYW1zXG4gICAgICAgICAgICAuYXR0YWNoQXBpS2V5cyh0aGlzLmFwcElkLCB0aGlzLmNsaWVudEtleSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuU0RLX1ZFUlNJT04sIENvbnN0YW50c18xLmRlZmF1bHQuU0RLX1ZFUlNJT04pXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkRFVklDRV9JRCwgdGhpcy5kZXZpY2VJZClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVVNFUl9JRCwgdGhpcy51c2VySWQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkFDVElPTiwgYWN0aW9uKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5WRVJTSU9OX05BTUUsIHRoaXMudmVyc2lvbk5hbWUpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkRFVl9NT0RFLCBvcHRpb25zLmRldk1vZGUpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlRJTUUsIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApLnRvU3RyaW5nKCkpO1xuICAgICAgICB2YXIgc3VjY2VzcyA9IG9wdGlvbnMuc3VjY2VzcyB8fCBvcHRpb25zLnJlc3BvbnNlO1xuICAgICAgICB2YXIgZXJyb3IgPSBvcHRpb25zLmVycm9yIHx8IG9wdGlvbnMucmVzcG9uc2U7XG4gICAgICAgIGlmICghdGhpcy5hcHBJZCB8fCAhdGhpcy5jbGllbnRLZXkpIHtcbiAgICAgICAgICAgIHZhciBlcnIgPSAnTGVhbnBsdW0gQXBwIElEIGFuZCBjbGllbnQga2V5IGFyZSBub3Qgc2V0LiBNYWtlIHN1cmUgeW91ICcgK1xuICAgICAgICAgICAgICAgICdhcmUgY2FsbGluZyBzZXRBcHBJZEZvckRldmVsb3BtZW50TW9kZSBvciBzZXRBcHBJZEZvclByb2R1Y3Rpb25Nb2RlICcgK1xuICAgICAgICAgICAgICAgICdiZWZvcmUgaXNzdWluZyBBUEkgY2FsbHMuJztcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICBlcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJhbXMuYm9keSgpKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRSZXF1ZXN0KFwiP1wiLmNvbmNhdChhcmdzQnVpbGRlci5idWlsZCgpKSwgcGFyYW1zLmJvZHkoKSwgc3VjY2VzcywgZXJyb3IsIG9wdGlvbnMucXVldWVkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2VuZE5vdyA9IG9wdGlvbnMuZGV2TW9kZSB8fCBvcHRpb25zLnNlbmROb3cgfHwgIXRoaXMuYmF0Y2hFbmFibGVkO1xuICAgICAgICB2YXIgc2VuZFVuc2VudFJlcXVlc3RzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlcXVlc3RzVG9TZW5kID0gX3RoaXMucG9wVW5zZW50UmVxdWVzdHMoKTtcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0c1RvU2VuZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlcXVlc3REYXRhID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAnZGF0YSc6IHJlcXVlc3RzVG9TZW5kLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBtdWx0aVJlcXVlc3RBcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRhY2hBcGlLZXlzKF90aGlzLmFwcElkLCBfdGhpcy5jbGllbnRLZXkpXG4gICAgICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuU0RLX1ZFUlNJT04sIENvbnN0YW50c18xLmRlZmF1bHQuU0RLX1ZFUlNJT04pXG4gICAgICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQUNUSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuTVVMVEkpXG4gICAgICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVElNRSwgKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCkudG9TdHJpbmcoKS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICAgICAuYnVpbGQoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZW5kUmVxdWVzdChcIj9cIi5jb25jYXQobXVsdGlSZXF1ZXN0QXJncyksIHJlcXVlc3REYXRhLCBzdWNjZXNzLCBlcnJvciwgb3B0aW9ucy5xdWV1ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBEZWFsIHdpdGggY29vbGRvd24uXG4gICAgICAgIGlmICghc2VuZE5vdyAmJiB0aGlzLmJhdGNoQ29vbGRvd24pIHtcbiAgICAgICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDA7XG4gICAgICAgICAgICBpZiAoIXRoaXMubGFzdFJlcXVlc3RUaW1lIHx8IG5vdyAtIHRoaXMubGFzdFJlcXVlc3RUaW1lID49IHRoaXMuYmF0Y2hDb29sZG93bikge1xuICAgICAgICAgICAgICAgIHNlbmROb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFJlcXVlc3RUaW1lID0gbm93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuY29vbGRvd25UaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb29sZG93blRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29vbGRvd25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubGFzdFJlcXVlc3RUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwO1xuICAgICAgICAgICAgICAgICAgICBzZW5kVW5zZW50UmVxdWVzdHMoKTtcbiAgICAgICAgICAgICAgICB9LCAodGhpcy5iYXRjaENvb2xkb3duIC0gKG5vdyAtIHRoaXMubGFzdFJlcXVlc3RUaW1lKSkgKiAxMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNhdmVSZXF1ZXN0Rm9yTGF0ZXIoYXJnc0J1aWxkZXIuYnVpbGREaWN0KCkpO1xuICAgICAgICBpZiAoc2VuZE5vdykge1xuICAgICAgICAgICAgc2VuZFVuc2VudFJlcXVlc3RzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuZ2V0RmlsZVVybCA9IGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICBpZiAoIWZpbGVuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKC9eaHR0cHM/Oi8udGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWxlbmFtZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmF0dGFjaEFwaUtleXModGhpcy5hcHBJZCwgdGhpcy5jbGllbnRLZXkpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNES19WRVJTSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlNES19WRVJTSU9OKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BQ1RJT04sICdkb3dubG9hZEZpbGUnKVxuICAgICAgICAgICAgLmFkZCgnZmlsZW5hbWUnLCBmaWxlbmFtZSk7XG4gICAgICAgIHJldHVybiBcIlwiLmNvbmNhdCh0aGlzLmFwaVBhdGgsIFwiP1wiKS5jb25jYXQoYXJncy5idWlsZCgpKTtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICB0aGlzLm5ldHdvcmsuc2V0TmV0d29ya1RpbWVvdXQoc2Vjb25kcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLmdldExhc3RSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgdmFyIGNvdW50ID0gKF9iID0gKF9hID0gcmVzcG9uc2UgPT09IG51bGwgfHwgcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbnNlLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAwO1xuICAgICAgICByZXR1cm4gKGNvdW50ID4gMCkgPyAoX2MgPSByZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uc2UucmVzcG9uc2UpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY1tjb3VudCAtIDFdIDogbnVsbDtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuZ2V0Rmlyc3RSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgdmFyIGNvdW50ID0gKF9iID0gKF9hID0gcmVzcG9uc2UgPT09IG51bGwgfHwgcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbnNlLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAwO1xuICAgICAgICByZXR1cm4gKGNvdW50ID4gMCkgPyAoX2MgPSByZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uc2UucmVzcG9uc2UpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY1swXSA6IG51bGw7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLmlzUmVzcG9uc2VTdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKHJlc3BvbnNlID09PSBudWxsIHx8IHJlc3BvbnNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNwb25zZS5zdWNjZXNzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuc2F2ZVJlcXVlc3RGb3JMYXRlciA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHZhciBjb3VudCA9IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkNPVU5UKSB8fCAwO1xuICAgICAgICB2YXIgaXRlbUtleSA9IENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLklURU0gKyBjb3VudDtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoaXRlbUtleSwgSlNPTi5zdHJpbmdpZnkoYXJncykpO1xuICAgICAgICBjb3VudCsrO1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5DT1VOVCwgY291bnQpO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5zZW5kUmVxdWVzdCA9IGZ1bmN0aW9uIChxdWVyeSwgZGF0YSwgc3VjY2VzcywgZXJyb3IsIHF1ZXVlZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLm5ldHdvcmsuYWpheCgnUE9TVCcsIFwiXCIuY29uY2F0KHRoaXMuYXBpUGF0aCkuY29uY2F0KHF1ZXJ5KSwgZGF0YSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICB2YXIgbWV0aG9kUmVzcG9uc2UgPSBfdGhpcy5nZXRGaXJzdFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIHZhciBzaGEyNTYgPSAoKF9hID0gcmVzcG9uc2UubWlncmF0ZVN0YXRlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2hhMjU2KSB8fCBtZXRob2RSZXNwb25zZS5zaGEyNTY7XG4gICAgICAgICAgICBfdGhpcy5ldmVudHMuZW1pdCgnbWlncmF0ZVN0YXRlUmVjZWl2ZWQnLCBzaGEyNTYpO1xuICAgICAgICAgICAgaWYgKCFtZXRob2RSZXNwb25zZS5zdWNjZXNzICYmIG1ldGhvZFJlc3BvbnNlLmFwaUhvc3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXBpSG9zdCA9IG1ldGhvZFJlc3BvbnNlLmFwaUhvc3QsIGFwaVBhdGggPSBtZXRob2RSZXNwb25zZS5hcGlQYXRoLCBkZXZTZXJ2ZXJIb3N0ID0gbWV0aG9kUmVzcG9uc2UuZGV2U2VydmVySG9zdDtcbiAgICAgICAgICAgICAgICBfdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuSE9TVF9DT05GSUcsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgYXBpSG9zdDogYXBpSG9zdCxcbiAgICAgICAgICAgICAgICAgICAgYXBpUGF0aDogYXBpUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgZGV2U2VydmVySG9zdDogZGV2U2VydmVySG9zdCxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuYXBpUGF0aCA9IFwiaHR0cHM6Ly9cIi5jb25jYXQoYXBpSG9zdCwgXCIvXCIpLmNvbmNhdChhcGlQYXRoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZW5kUmVxdWVzdChxdWVyeSwgZGF0YSwgc3VjY2VzcywgZXJyb3IsIHF1ZXVlZCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRzLmVtaXQoJ3VwZGF0ZURldlNlcnZlckhvc3QnLCBkZXZTZXJ2ZXJIb3N0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZXJyb3IsIHF1ZXVlZCk7XG4gICAgfTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUucG9wVW5zZW50UmVxdWVzdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXF1ZXN0RGF0YSA9IFtdO1xuICAgICAgICB2YXIgY291bnQgPSB0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5DT1VOVCkgfHwgMDtcbiAgICAgICAgdGhpcy5yZW1vdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5DT1VOVCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIGl0ZW1LZXkgPSBDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5JVEVNICsgaTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdERhdGEucHVzaChKU09OLnBhcnNlKHRoaXMubG9hZExvY2FsKGl0ZW1LZXkpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoaWdub3JlZCkge1xuICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmcuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUxvY2FsKGl0ZW1LZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXF1ZXN0RGF0YTtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUubG9hZEhvc3RDb25maWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBob3N0Q29uZmlnID0gSlNPTi5wYXJzZSh0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5IT1NUX0NPTkZJRykgfHwgJ251bGwnKTtcbiAgICAgICAgaWYgKGhvc3RDb25maWcpIHtcbiAgICAgICAgICAgIHZhciBhcGlIb3N0ID0gaG9zdENvbmZpZy5hcGlIb3N0LCBhcGlQYXRoID0gaG9zdENvbmZpZy5hcGlQYXRoLCBkZXZTZXJ2ZXJIb3N0ID0gaG9zdENvbmZpZy5kZXZTZXJ2ZXJIb3N0O1xuICAgICAgICAgICAgdGhpcy5hcGlQYXRoID0gXCJodHRwczovL1wiLmNvbmNhdChhcGlIb3N0LCBcIi9cIikuY29uY2F0KGFwaVBhdGgpO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgndXBkYXRlRGV2U2VydmVySG9zdCcsIGRldlNlcnZlckhvc3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLmxvYWRMb2NhbCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXQoa2V5KTtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuc2F2ZUxvY2FsID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmUoa2V5LCB2YWx1ZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLnJlbW92ZUxvY2FsID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQucmVtb3ZlKGtleSk7XG4gICAgfTtcbiAgICByZXR1cm4gTGVhbnBsdW1SZXF1ZXN0O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExlYW5wbHVtUmVxdWVzdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbG9kYXNoX2lzZXF1YWxfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwibG9kYXNoLmlzZXF1YWxcIikpO1xudmFyIEFyZ3NCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQXJnc0J1aWxkZXJcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgU29ja2V0SW9DbGllbnRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Tb2NrZXRJb0NsaWVudFwiKSk7XG52YXIgTGVhbnBsdW1Tb2NrZXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVhbnBsdW1Tb2NrZXQoY2FjaGUsIGNyZWF0ZVJlcXVlc3QsIFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgZ2V0TGFzdFJlc3BvbnNlLCBldmVudHMpIHtcbiAgICAgICAgdGhpcy5jYWNoZSA9IGNhY2hlO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuICAgICAgICB0aGlzLmdldExhc3RSZXNwb25zZSA9IGdldExhc3RSZXNwb25zZTtcbiAgICAgICAgdGhpcy5ldmVudHMgPSBldmVudHM7XG4gICAgICAgIHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzID0gMTA7XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zb2NrZXRIb3N0ID0gJ2Rldi5sZWFucGx1bS5jb20nO1xuICAgICAgICB0aGlzLmF1dGggPSBudWxsO1xuICAgIH1cbiAgICBMZWFucGx1bVNvY2tldC5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uIChhdXRoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghV2ViU29ja2V0KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnWW91ciBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IFdlYlNvY2tldHMuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hdXRoID0gYXV0aDtcbiAgICAgICAgdmFyIGF1dGhTZW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50ID0gbmV3IFNvY2tldElvQ2xpZW50XzEuZGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5zZXROZXR3b3JrVGltZW91dCh0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyk7XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50Lm9ub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmICghYXV0aFNlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IENvbm5lY3RlZCB0byBkZXZlbG9wbWVudCBzZXJ2ZXIuJyk7XG4gICAgICAgICAgICAgICAgX3RoaXMuc29ja2V0Q2xpZW50LnNlbmQoJ2F1dGgnLCAoX2EgPSB7fSxcbiAgICAgICAgICAgICAgICAgICAgX2FbQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQVBQX0lEXSA9IGF1dGguYXBwSWQsXG4gICAgICAgICAgICAgICAgICAgIF9hW0NvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkRFVklDRV9JRF0gPSBhdXRoLmRldmljZUlkLFxuICAgICAgICAgICAgICAgICAgICBfYSkpO1xuICAgICAgICAgICAgICAgIGF1dGhTZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBTb2NrZXQgZXJyb3InLCBldmVudCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50Lm9ubWVzc2FnZSA9IHRoaXMub25NZXNzYWdlUmVjZWl2ZWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQub25jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogRGlzY29ubmVjdGVkIGZyb20gZGV2ZWxvcG1lbnQgc2VydmVyLicpO1xuICAgICAgICAgICAgYXV0aFNlbnQgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQuY29ubmVjdCh0aGlzLnNvY2tldEhvc3QpO1xuICAgICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLnNvY2tldENsaWVudC5jb25uZWN0ZWQgJiYgIV90aGlzLnNvY2tldENsaWVudC5jb25uZWN0aW5nKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc29ja2V0Q2xpZW50LmNvbm5lY3QoX3RoaXMuc29ja2V0SG9zdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDUwMDApO1xuICAgIH07XG4gICAgTGVhbnBsdW1Tb2NrZXQucHJvdG90eXBlLnNldFNvY2tldEhvc3QgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5zb2NrZXRIb3N0ID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLnNvY2tldENsaWVudC5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc29ja2V0Q2xpZW50LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdCh0aGlzLmF1dGgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBuZXR3b3JrIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHNlY29uZHMgVGhlIHRpbWVvdXQgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBMZWFucGx1bVNvY2tldC5wcm90b3R5cGUuc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzID0gc2Vjb25kcztcbiAgICAgICAgKF9hID0gdGhpcy5zb2NrZXRDbGllbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXROZXR3b3JrVGltZW91dChzZWNvbmRzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtU29ja2V0LnByb3RvdHlwZS5vbk1lc3NhZ2VSZWNlaXZlZCA9IGZ1bmN0aW9uIChldmVudCwgYXJncykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoZXZlbnQgPT09ICd1cGRhdGVWYXJzJykge1xuICAgICAgICAgICAgdmFyIGFyZ3NfMSA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKS5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5DTFVERV9ERUZBVUxUUywgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5HRVRfVkFSUywgYXJnc18xLCB7XG4gICAgICAgICAgICAgICAgcXVldWVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdldFZhcnNSZXNwb25zZSA9IF90aGlzLmdldExhc3RSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUlNdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFyaWFudHMgPSBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUklBTlRTXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGlvbkRlZmluaXRpb25zID0gZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5BQ1RJT05fREVGSU5JVElPTlNdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoISgwLCBsb2Rhc2hfaXNlcXVhbF8xLmRlZmF1bHQpKHZhbHVlcywgX3RoaXMuY2FjaGUuZGlmZnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jYWNoZS5hcHBseURpZmZzKHZhbHVlcywgdmFyaWFudHMsIGFjdGlvbkRlZmluaXRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudCA9PT0gJ2dldFZhcmlhYmxlcycpIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGUuc2VuZFZhcmlhYmxlcygpO1xuICAgICAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQuc2VuZCgnZ2V0Q29udGVudFJlc3BvbnNlJywge1xuICAgICAgICAgICAgICAgICd1cGRhdGVkJzogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAnZ2V0QWN0aW9ucycpIHtcbiAgICAgICAgICAgIHZhciB1cGRhdGVkID0gdGhpcy5jYWNoZS5zZW5kQWN0aW9ucygpO1xuICAgICAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQuc2VuZCgnZ2V0Q29udGVudFJlc3BvbnNlJywge1xuICAgICAgICAgICAgICAgIHVwZGF0ZWQ6IHVwZGF0ZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudCA9PT0gJ3JlZ2lzdGVyRGV2aWNlJykge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBhcmdzWzBdO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWFsZXJ0XG4gICAgICAgICAgICBhbGVydChcIllvdXIgZGV2aWNlIGhhcyBiZWVuIHJlZ2lzdGVyZWQgdG8gXCIuY29uY2F0KG1lc3NhZ2UuZW1haWwsIFwiLlwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnQgPT09ICd0cmlnZ2VyJykge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBhcmdzWzBdO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncHJldmlld1JlcXVlc3QnLCBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtU29ja2V0O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExlYW5wbHVtU29ja2V0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgTmV0d29ya18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL05ldHdvcmtcIikpO1xudmFyIGxvZGFzaF9pc2VxdWFsXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImxvZGFzaC5pc2VxdWFsXCIpKTtcbnZhciBTdG9yYWdlTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1N0b3JhZ2VNYW5hZ2VyXCIpKTtcbnZhciBWYWx1ZVRyYW5zZm9ybXNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9WYWx1ZVRyYW5zZm9ybXNcIikpO1xudmFyIE9jY3VycmVuY2VUcmFja2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9jY3VycmVuY2VUcmFja2VyKCkge1xuICAgICAgICB0aGlzLnNlc3Npb24gPSB7fTtcbiAgICAgICAgdGhpcy50cmlnZ2VycyA9IHt9O1xuICAgICAgICB0aGlzLm9jY3VycmVuY2VzID0ge307XG4gICAgfVxuICAgIE9jY3VycmVuY2VUcmFja2VyLnByb3RvdHlwZS5yZWNvcmRPY2N1cnJlbmNlID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciBzZXNzaW9uT2NjdXJyZW5jZXMgPSAodGhpcy5zZXNzaW9uW2lkXSB8fCAwKSArIDE7XG4gICAgICAgIHRoaXMuc2Vzc2lvbltpZF0gPSBzZXNzaW9uT2NjdXJyZW5jZXM7XG4gICAgICAgIHZhciBvY2N1cnJlbmNlcyA9ICh0aGlzLm9jY3VycmVuY2VzW2lkXSB8fCBbXSk7XG4gICAgICAgIG9jY3VycmVuY2VzLnB1c2goRGF0ZS5ub3coKSk7XG4gICAgICAgIHRoaXMub2NjdXJyZW5jZXNbaWRdID0gb2NjdXJyZW5jZXM7XG4gICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVRyYWNrZXIucHJvdG90eXBlLnJlY29yZFRyaWdnZXJPY2N1cnJlbmNlID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciB0cmlnZ2VyT2NjdXJyZW5jZXMgPSB0aGlzLnRyaWdnZXJzW2lkXSB8fCBbXTtcbiAgICAgICAgdHJpZ2dlck9jY3VycmVuY2VzLnB1c2goRGF0ZS5ub3coKSk7XG4gICAgICAgIHRoaXMudHJpZ2dlcnNbaWRdID0gdHJpZ2dlck9jY3VycmVuY2VzO1xuICAgICAgICB0aGlzLnNhdmUoKTtcbiAgICAgICAgcmV0dXJuIHRyaWdnZXJPY2N1cnJlbmNlcy5sZW5ndGg7XG4gICAgfTtcbiAgICBPY2N1cnJlbmNlVHJhY2tlci5wcm90b3R5cGUuZ2V0U2Vzc2lvbk9jY3VycmFuY2VDb3VudCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uW2lkXSB8fCAwO1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVRyYWNrZXIucHJvdG90eXBlLmdldE9jY3VycmVuY2VzID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9jY3VycmVuY2VzW2lkXSB8fCBbXTtcbiAgICB9O1xuICAgIE9jY3VycmVuY2VUcmFja2VyLnByb3RvdHlwZS5jbGVhclNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVRyYWNrZXIucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjYWNoZSA9IFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXQoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuTUVTU0FHRV9PQ0NVUlJFTkNFUyk7XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgdmFyIGpzb24gPSBtYXliZUpTT04oY2FjaGUpO1xuICAgICAgICAgICAgaWYgKGpzb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb24gPSBqc29uLnNlc3Npb247XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VycyA9IGpzb24udHJpZ2dlcnM7XG4gICAgICAgICAgICAgICAgdGhpcy5vY2N1cnJlbmNlcyA9IGpzb24ub2NjdXJyZW5jZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9jY3VycmVuY2VUcmFja2VyLnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIga2V5ID0gQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuTUVTU0FHRV9PQ0NVUlJFTkNFUztcbiAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmUoa2V5LCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBzZXNzaW9uOiB0aGlzLnNlc3Npb24sXG4gICAgICAgICAgICB0cmlnZ2VyczogdGhpcy50cmlnZ2VycyxcbiAgICAgICAgICAgIG9jY3VycmVuY2VzOiB0aGlzLm9jY3VycmVuY2VzLFxuICAgICAgICB9KSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2NjdXJyZW5jZVRyYWNrZXI7XG59KCkpO1xudmFyIHZlcmJUb0ludGVydmFsID0gZnVuY3Rpb24gKHZlcmIpIHtcbiAgICB2YXIgU0VDT05EID0gMTAwMDtcbiAgICB2YXIgTUlOVVRFID0gNjAgKiBTRUNPTkQ7XG4gICAgdmFyIEhPVVIgPSA2MCAqIE1JTlVURTtcbiAgICB2YXIgREFZID0gMjQgKiBIT1VSO1xuICAgIHN3aXRjaCAodmVyYikge1xuICAgICAgICBjYXNlICdsaW1pdFNlY29uZCc6IHJldHVybiBTRUNPTkQ7XG4gICAgICAgIGNhc2UgJ2xpbWl0TWludXRlJzogcmV0dXJuIE1JTlVURTtcbiAgICAgICAgY2FzZSAnbGltaXRIb3VyJzogcmV0dXJuIEhPVVI7XG4gICAgICAgIGNhc2UgJ2xpbWl0RGF5JzogcmV0dXJuIERBWTtcbiAgICB9XG59O1xudmFyIG1heWJlSlNPTiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn07XG52YXIgTWVzc2FnZXMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWVzc2FnZXMoZXZlbnRzLCBjcmVhdGVSZXF1ZXN0LCBnZXRGaWxlVXJsKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuZXZlbnRzID0gZXZlbnRzO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuICAgICAgICB0aGlzLmdldEZpbGVVcmwgPSBnZXRGaWxlVXJsO1xuICAgICAgICB0aGlzLl9tZXNzYWdlQ2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5vY2N1cnJlbmNlVHJhY2tlciA9IG5ldyBPY2N1cnJlbmNlVHJhY2tlcigpO1xuICAgICAgICB0aGlzLl9zaG93UmljaElBTSA9IGZhbHNlO1xuICAgICAgICBldmVudHMub24oJ3ByZXZpZXdSZXF1ZXN0JywgdGhpcy5vbk1lc3NhZ2VQcmV2aWV3LmJpbmQodGhpcykpO1xuICAgICAgICBldmVudHMub24oJ21lc3NhZ2VzUmVjZWl2ZWQnLCB0aGlzLm9uTWVzc2FnZXNSZWNlaXZlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgZXZlbnRzLm9uKCdzdGFydCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLm9jY3VycmVuY2VUcmFja2VyLmxvYWQoKTtcbiAgICAgICAgICAgIF90aGlzLm9jY3VycmVuY2VUcmFja2VyLmNsZWFyU2Vzc2lvbigpO1xuICAgICAgICAgICAgX3RoaXMub25UcmlnZ2VyKHsgdHJpZ2dlcjogJ3N0YXJ0JyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGV2ZW50cy5vbigncmVzdW1lJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGtleSA9IENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLk1FU1NBR0VfQ0FDSEU7XG4gICAgICAgICAgICB2YXIgY2FjaGUgPSBtYXliZUpTT04oU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldChrZXkpKTtcbiAgICAgICAgICAgIF90aGlzLl9tZXNzYWdlQ2FjaGUgPSBjYWNoZSB8fCBfdGhpcy5fbWVzc2FnZUNhY2hlO1xuICAgICAgICAgICAgX3RoaXMub2NjdXJyZW5jZVRyYWNrZXIubG9hZCgpO1xuICAgICAgICAgICAgX3RoaXMub25UcmlnZ2VyKHsgdHJpZ2dlcjogJ3Jlc3VtZScgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBldmVudHMub24oJ3RyYWNrJywgZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgIF90aGlzLm9uVHJpZ2dlcih7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcjogJ2V2ZW50JyxcbiAgICAgICAgICAgICAgICBldmVudE5hbWU6IGFyZ3MuZXZlbnROYW1lLFxuICAgICAgICAgICAgICAgIHBhcmFtczogYXJncy5wYXJhbXMgfHwge30sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGV2ZW50cy5vbignYWR2YW5jZVN0YXRlJywgZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5vblRyaWdnZXIoe1xuICAgICAgICAgICAgICAgIHRyaWdnZXI6ICdzdGF0ZScsXG4gICAgICAgICAgICAgICAgc3RhdGU6IGFyZ3Muc3RhdGUsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBhcmdzLnBhcmFtcyB8fCB7fSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgZXZlbnRzLm9uKCdzZXRVc2VyQXR0cmlidXRlJywgZnVuY3Rpb24gKGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5vblRyaWdnZXIoeyB0cmlnZ2VyOiAndXNlckF0dHJpYnV0ZScsIGF0dHJpYnV0ZXM6IGF0dHJpYnV0ZXMgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBNZXNzYWdlcy5wcm90b3R5cGUuZW5hYmxlUmljaEluQXBwTWVzc2FnZXMgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICAgICAgICB0aGlzLl9zaG93UmljaElBTSA9IGVuYWJsZWQ7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUub25UcmlnZ2VyID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gdGhpcy5nZXRNZXNzYWdlcygpO1xuICAgICAgICB2YXIgbWVzc2FnZUlkcyA9IE9iamVjdC5rZXlzKG1lc3NhZ2VzKTtcbiAgICAgICAgbWVzc2FnZUlkc1xuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIF90aGlzLnNob3VsZFNob3dNZXNzYWdlKGlkLCBtZXNzYWdlc1tpZF0sIGNvbnRleHQpOyB9KVxuICAgICAgICAgICAgLnNsaWNlKDAsIDEpIC8vIFRPRE86IGNob29zZSByYW5kb21seVxuICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7IHJldHVybiBfdGhpcy5zaG93TWVzc2FnZShpZCwgbWVzc2FnZXNbaWRdKTsgfSk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUub25NZXNzYWdlUHJldmlldyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHZhciB2YXJzID0gbWVzc2FnZS5hY3Rpb247XG4gICAgICAgIHZhciBjb250ZXh0ID0ge1xuICAgICAgICAgICAgdHJhY2s6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudEluZm8gPSBldmVudCA/IFwiZXZlbnQgJ1wiLmNvbmNhdChldmVudCwgXCInXCIpIDogJ2ltcHJlc3Npb24nO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJhY2tpbmcgXCIuY29uY2F0KGV2ZW50SW5mbywgXCIgZm9yIFwiKS5jb25jYXQobWVzc2FnZS5tZXNzYWdlSWQpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBydW5BY3Rpb25OYW1lZDogZnVuY3Rpb24gKGFjdGlvbk5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coXCJSdW5uaW5nIHVudHJhY2tlZCBhY3Rpb24gJ1wiLmNvbmNhdChhY3Rpb25OYW1lLCBcIidcIikpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJ1blRyYWNrZWRBY3Rpb25OYW1lZDogZnVuY3Rpb24gKGFjdGlvbk5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coXCJSdW5uaW5nIHRyYWNrZWQgYWN0aW9uICdcIi5jb25jYXQoYWN0aW9uTmFtZSwgXCInXCIpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlTWVzc2FnZSh7XG4gICAgICAgICAgICBpc1ByZXZpZXc6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiB0aGlzLmFkZERlZmF1bHRzKF9fYXNzaWduKHsgbWVzc2FnZUlkOiBtZXNzYWdlLm1lc3NhZ2VJZCB9LCB2YXJzKSksXG4gICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5vbk1lc3NhZ2VzUmVjZWl2ZWQgPSBmdW5jdGlvbiAocmVjZWl2ZWRNZXNzYWdlcykge1xuICAgICAgICB2YXIgbWVzc2FnZXMgPSByZWNlaXZlZE1lc3NhZ2VzIHx8IHt9O1xuICAgICAgICB0aGlzLl9tZXNzYWdlQ2FjaGUgPSBtZXNzYWdlcztcbiAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmUoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuTUVTU0FHRV9DQUNIRSwgSlNPTi5zdHJpbmdpZnkobWVzc2FnZXMpKTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5zaG91bGRTaG93TWVzc2FnZSA9IGZ1bmN0aW9uIChpZCwgbWVzc2FnZSwgY29udGV4dCkge1xuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIG1hdGNoZXNUcmlnZ2VyID0gdGhpcy5tYXRjaGVzVHJpZ2dlcihtZXNzYWdlLndoZW5UcmlnZ2VycywgY29udGV4dCk7XG4gICAgICAgIHZhciBtYXRjaGVzVW5sZXNzID0gdGhpcy5tYXRjaGVzVHJpZ2dlcihtZXNzYWdlLnVubGVzc1RyaWdnZXJzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKCFtYXRjaGVzVHJpZ2dlciB8fCBtYXRjaGVzVW5sZXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRyaWdnZXJzQ291bnQgPSB0aGlzLm9jY3VycmVuY2VUcmFja2VyLnJlY29yZFRyaWdnZXJPY2N1cnJlbmNlKGlkKTtcbiAgICAgICAgaWYgKCF0aGlzLm1hdGNoZXNMaW1pdHMoaWQsIG1lc3NhZ2Uud2hlbkxpbWl0cywgdHJpZ2dlcnNDb3VudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zdGFydFRpbWUgJiYgbWVzc2FnZS5lbmRUaW1lKSB7XG4gICAgICAgICAgICB2YXIgb3V0c2lkZUFjdGl2ZVBlcmlvZCA9IG5vdyA8IG1lc3NhZ2Uuc3RhcnRUaW1lIHx8IG1lc3NhZ2UuZW5kVGltZSA8IG5vdztcbiAgICAgICAgICAgIGlmIChvdXRzaWRlQWN0aXZlUGVyaW9kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLnNob3dNZXNzYWdlID0gZnVuY3Rpb24gKGlkLCBtZXNzYWdlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB2YXJzID0gdGhpcy5hZGREZWZhdWx0cyhfX2Fzc2lnbih7fSwgbWVzc2FnZS52YXJzKSk7XG4gICAgICAgIHZhciBjb250ZXh0ID0ge1xuICAgICAgICAgICAgdHJhY2s6IGZ1bmN0aW9uIChldmVudCwgdmFsdWUsIGluZm8sIHBhcmFtcykge1xuICAgICAgICAgICAgICAgIF90aGlzLm9jY3VycmVuY2VUcmFja2VyLnJlY29yZE9jY3VycmVuY2UoaWQpO1xuICAgICAgICAgICAgICAgIF90aGlzLnRyYWNrTWVzc2FnZShpZCwgeyBldmVudDogZXZlbnQsIHZhbHVlOiB2YWx1ZSwgaW5mbzogaW5mbywgcGFyYW1zOiBwYXJhbXMgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcnVuQWN0aW9uTmFtZWQ6IGZ1bmN0aW9uIChhY3Rpb25OYW1lKSB7IHJldHVybiBfdGhpcy5vbkFjdGlvbih2YXJzW2FjdGlvbk5hbWVdLCBpZCk7IH0sXG4gICAgICAgICAgICBydW5UcmFja2VkQWN0aW9uTmFtZWQ6IGZ1bmN0aW9uIChhY3Rpb25OYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gYWN0aW9uTmFtZS5yZXBsYWNlKC8gYWN0aW9uJC8sICcnKTtcbiAgICAgICAgICAgICAgICBfdGhpcy50cmFja01lc3NhZ2UoaWQsIHsgZXZlbnQ6IGV2ZW50IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uQWN0aW9uKHZhcnNbYWN0aW9uTmFtZV0sIGlkKTsgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZU1lc3NhZ2Uoe1xuICAgICAgICAgICAgY29udGV4dDogY29udGV4dCxcbiAgICAgICAgICAgIG1lc3NhZ2U6IF9fYXNzaWduKHsgbWVzc2FnZUlkOiBpZCB9LCB2YXJzKSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUucHJvY2Vzc01lc3NhZ2VFdmVudCA9IGZ1bmN0aW9uIChtZXNzYWdlSWQsIGV2ZW50VXJsKSB7XG4gICAgICAgIHZhciBpZnJhbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxwLW1lc3NhZ2UtXCIuY29uY2F0KG1lc3NhZ2VJZCkpO1xuICAgICAgICBpZiAoIWlmcmFtZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ21lc3NhZ2UgY2xvc2VkLCBza2lwcGluZyBldmVudCBwcm9jZXNzaW5nJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gZXZlbnRVcmwucmVwbGFjZSgvXmh0dHA6XFwvXFwvbGVhbnBsdW1cXC8vLCAnJykuc3BsaXQoJz8nKSwgZXZlbnQgPSBfYVswXSwgX2IgPSBfYVsxXSwgcXVlcnkgPSBfYiA9PT0gdm9pZCAwID8gJycgOiBfYjtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgdmFyIHBhcmFtcyA9IHF1ZXJ5LnNwbGl0KCcmJykucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHBhcmFtKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBwYXJhbS5zcGxpdCgnPScpLCBrZXkgPSBfYVswXSwgdmFsdWUgPSBfYVsxXTtcbiAgICAgICAgICAgIGFjY1trZXldID0gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgdmFyIF9jID0gaWZyYW1lLm1ldGFkYXRhLCBtZXNzYWdlID0gX2MubWVzc2FnZSwgY29udGV4dCA9IF9jLmNvbnRleHQ7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQpIHtcbiAgICAgICAgICAgIGNhc2UgJ2xvYWRGaW5pc2hlZCc6XG4gICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VbJ0hUTUwgSGVpZ2h0J10gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IG1lc3NhZ2VbJ0hUTUwgV2lkdGgnXTtcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLmhlaWdodCA9IFwiXCIuY29uY2F0KG1lc3NhZ2VbJ0hUTUwgSGVpZ2h0J10sIFwicHhcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUubGVmdCA9IFwiY2FsYygoMTAwJSAtIFwiLmNvbmNhdCh3aWR0aCwgXCIpIC8gMilcIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbmNob3JQcm9wID0gbWVzc2FnZVsnSFRNTCBBbGlnbiddLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbHRQcm9wID0gYW5jaG9yUHJvcCA9PT0gJ3RvcCcgPyAnYm90dG9tJyA6ICd0b3AnO1xuICAgICAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGVbYW5jaG9yUHJvcF0gPSAnMCc7XG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZVthbHRQcm9wXSA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLnRvcCA9ICcwJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWZyYW1lLmNvbnRlbnRXaW5kb3cuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYWNrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd0cmFjayc6XG4gICAgICAgICAgICAgICAgY29udGV4dC50cmFjayhwYXJhbXMuZXZlbnQsIHBhcnNlRmxvYXQocGFyYW1zLnZhbHVlKSwgcGFyYW1zLmluZm8sIG1heWJlSlNPTihwYXJhbXMucGFyYW1ldGVycykpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncnVuQWN0aW9uJzpcbiAgICAgICAgICAgIGNhc2UgJ3J1blRyYWNrZWRBY3Rpb24nOlxuICAgICAgICAgICAgICAgIGNvbnRleHRbXCJcIi5jb25jYXQoZXZlbnQsIFwiTmFtZWRcIildKHBhcmFtcy5hY3Rpb24pO1xuICAgICAgICAgICAgLy8gZmFsbCB0aHJvdWdoIGFuZCBjbG9zZVxuICAgICAgICAgICAgY2FzZSAnY2xvc2UnOlxuICAgICAgICAgICAgICAgIGlmcmFtZS5tZXRhZGF0YSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLmhhbmRsZU1lc3NhZ2UgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fc2hvd1JpY2hJQU0gJiYgb3B0aW9ucy5tZXNzYWdlLl9fbmFtZV9fID09PSAnSFRNTCcpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZUZpbGVzKG9wdGlvbnMubWVzc2FnZSk7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVOYW1lID0gb3B0aW9ucy5tZXNzYWdlWydUZW1wbGF0ZSddIHx8ICcnO1xuICAgICAgICAgICAgbmV3IE5ldHdvcmtfMS5kZWZhdWx0KCkuYWpheCgnZ2V0JywgdGVtcGxhdGVOYW1lLnJlcGxhY2UoJy0xMC5odG1sJywgJy0xMS5odG1sJyksICcnLCBmdW5jdGlvbiAodGVtcGxhdGUpIHsgcmV0dXJuIF90aGlzLnJlbmRlclJpY2hJbkFwcE1lc3NhZ2UodGVtcGxhdGUsIG9wdGlvbnMpOyB9LCBmdW5jdGlvbiAoKSB7IH0sIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3Nob3dNZXNzYWdlJywgdGhpcy5yZXNvbHZlRmllbGRzKG9wdGlvbnMpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLnJlbmRlclJpY2hJbkFwcE1lc3NhZ2UgPSBmdW5jdGlvbiAodGVtcGxhdGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VJZCA9IG9wdGlvbnMubWVzc2FnZS5tZXNzYWdlSWQ7XG4gICAgICAgIHZhciB2YXJzID0gSlNPTi5zdHJpbmdpZnkob3B0aW9ucy5tZXNzYWdlKTtcbiAgICAgICAgdmFyIGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdpZCcsIFwibHAtbWVzc2FnZS1cIi5jb25jYXQobWVzc2FnZUlkKSk7XG4gICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ1BvcHVwJyk7XG4gICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbW9kYWwnLCAndHJ1ZScpO1xuICAgICAgICBpZnJhbWUuc3R5bGUuY3NzVGV4dCA9IFtcbiAgICAgICAgICAgICdib3JkZXItd2lkdGg6IDAnLFxuICAgICAgICAgICAgJ3Bvc2l0aW9uOiBmaXhlZCcsXG4gICAgICAgICAgICAndG9wOiAtMTAwJScsXG4gICAgICAgICAgICAnbGVmdDogLTEwMCUnLFxuICAgICAgICAgICAgJ3dpZHRoOiAxMDAlJyxcbiAgICAgICAgICAgICdoZWlnaHQ6IDEwMCUnLFxuICAgICAgICAgICAgJ3Zpc2liaWxpdHk6IGhpZGRlbicsXG4gICAgICAgICAgICAnei1pbmRleDogMTAwMDAwJyxcbiAgICAgICAgXS5qb2luKCc7Jyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKGlmcmFtZSwgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTtcbiAgICAgICAgLy8gcGFzcyBtZXNzYWdlIGluZm9cbiAgICAgICAgaWZyYW1lLm1ldGFkYXRhID0gb3B0aW9ucztcbiAgICAgICAgaWZyYW1lLmNvbnRlbnRXaW5kb3cubWVzc2FnZUlkID0gbWVzc2FnZUlkO1xuICAgICAgICB2YXIgY29udGVudCA9IHRlbXBsYXRlXG4gICAgICAgICAgICAucmVwbGFjZSgnIyNWYXJzIyMnLCB2YXJzKVxuICAgICAgICAgICAgLnJlcGxhY2UoJzxib2R5PicsIFwiPGJvZHk+PHNjcmlwdD53aW5kb3cubWVzc2FnZUlkPSdcIi5jb25jYXQobWVzc2FnZUlkLCBcIic8L3NjcmlwdD5cIikpO1xuICAgICAgICBpZiAoJ3NyY2RvYycgaW4gaWZyYW1lKSB7XG4gICAgICAgICAgICBpZnJhbWUuc3JjZG9jID0gY29udGVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBkb2MgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgICAgICAgICAgIGRvYy5vcGVuKCk7XG4gICAgICAgICAgICBkb2Mud3JpdGUoY29udGVudCk7XG4gICAgICAgICAgICBkb2MuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLnRyYWNrTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlSWQsIHRyYWNrT3B0aW9ucywgcmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHRyYWNrT3B0aW9ucyA9PT0gdm9pZCAwKSB7IHRyYWNrT3B0aW9ucyA9IHsgZXZlbnQ6IG51bGwgfTsgfVxuICAgICAgICBpZiAocmVzcG9uc2UgPT09IHZvaWQgMCkgeyByZXNwb25zZSA9IGZ1bmN0aW9uICgpIHsgfTsgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5NRVNTQUdFX0lELCBtZXNzYWdlSWQpO1xuICAgICAgICB2YXIgZGVmaW5lZCA9IGZ1bmN0aW9uICh4KSB7IHJldHVybiB0eXBlb2YgeCAhPT0gJ3VuZGVmaW5lZCc7IH07XG4gICAgICAgIGlmICh0cmFja09wdGlvbnMuZXZlbnQpIHtcbiAgICAgICAgICAgIGFyZ3MuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkVWRU5ULCB0cmFja09wdGlvbnMuZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWZpbmVkKHRyYWNrT3B0aW9ucy52YWx1ZSkpIHtcbiAgICAgICAgICAgIGFyZ3MuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlZBTFVFLCB0cmFja09wdGlvbnMudmFsdWUgfHwgMC4wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmaW5lZCh0cmFja09wdGlvbnMuaW5mbykpIHtcbiAgICAgICAgICAgIGFyZ3MuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklORk8sIHRyYWNrT3B0aW9ucy5pbmZvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmaW5lZCh0cmFja09wdGlvbnMucGFyYW1zKSkge1xuICAgICAgICAgICAgYXJncy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuUEFSQU1TLCBKU09OLnN0cmluZ2lmeSh0cmFja09wdGlvbnMucGFyYW1zKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5UUkFDSywgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiByZXNwb25zZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUub25BY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uLCBwYXJlbnRNZXNzYWdlSWQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHBhcmVudE1lc3NhZ2VJZCA9PT0gdm9pZCAwKSB7IHBhcmVudE1lc3NhZ2VJZCA9ICcnOyB9XG4gICAgICAgIGlmICghYWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gdGhpcy5fbWVzc2FnZUNhY2hlO1xuICAgICAgICBpZiAoYWN0aW9uLl9fbmFtZV9fID09PSAnQ2hhaW4gdG8gRXhpc3RpbmcgTWVzc2FnZScpIHtcbiAgICAgICAgICAgIHZhciBjaGFpbmVkTWVzc2FnZUlkXzEgPSBhY3Rpb25bJ0NoYWluZWQgbWVzc2FnZSddO1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2VfMSA9IG1lc3NhZ2VzW2NoYWluZWRNZXNzYWdlSWRfMV07XG4gICAgICAgICAgICBpZiAobWVzc2FnZV8xLmFjdGlvbiA9PT0gJ09wZW4gVVJMJykge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2tNZXNzYWdlKGNoYWluZWRNZXNzYWdlSWRfMSwgeyBldmVudDogJ1ZpZXcnIH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uQWN0aW9uKG1lc3NhZ2VfMS52YXJzLCBjaGFpbmVkTWVzc2FnZUlkXzEpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1lc3NhZ2VfMS5hY3Rpb24gPT09ICdSZWdpc3RlciBGb3IgUHVzaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdyZWdpc3RlckZvclB1c2gnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoY2hhaW5lZE1lc3NhZ2VJZF8xLCBtZXNzYWdlXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGhhbmRsZSBhcHAgZnVuY3Rpb25cbiAgICAgICAgdmFyIHByb2Nlc3NBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IGFjdGlvbi5fX25hbWVfXztcbiAgICAgICAgICAgIGlmIChhY3Rpb24uX19uYW1lX18gPT09ICdPcGVuIFVSTCcpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5ldmVudHMuZW1pdCgnbmF2aWdhdGlvbkNoYW5nZScsIGFjdGlvbi5VUkwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYWN0aW9uLl9fbmFtZV9fID09PSAnUmVnaXN0ZXIgRm9yIFB1c2gnKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRzLmVtaXQoJ3JlZ2lzdGVyRm9yUHVzaCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgIC8vIGVtYmVkZGVkIGNoYWluZWQgbWVzc2FnZVxuICAgICAgICAgICAgICAgIF90aGlzLnNob3dNZXNzYWdlKHBhcmVudE1lc3NhZ2VJZCwge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IHBhcmVudE1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YXJzOiBhY3Rpb24sIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG1lc3NhZ2VJZCA9IHRoaXMubWVzc2FnZUlkRnJvbUFjdGlvbihhY3Rpb24pO1xuICAgICAgICBpZiAobWVzc2FnZUlkKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNrTWVzc2FnZShtZXNzYWdlSWQsIHsgZXZlbnQ6IG51bGwgfSwgcHJvY2Vzc0FjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcm9jZXNzQWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5nZXRNZXNzYWdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lc3NhZ2VDYWNoZSB8fCB7fTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5hZGREZWZhdWx0cyA9IGZ1bmN0aW9uICh2YXJzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBkZWZpbml0aW9ucyA9IHRoaXMuZ2V0TWVzc2FnZXMoKS5hY3Rpb25EZWZpbml0aW9ucyB8fCB7fTtcbiAgICAgICAgdmFyIGRlZmluaXRpb24gPSBkZWZpbml0aW9uc1t2YXJzLl9fbmFtZV9fXTtcbiAgICAgICAgdmFyIGtpbmRzID0gZGVmaW5pdGlvbiA9PT0gbnVsbCB8fCBkZWZpbml0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWZpbml0aW9uLmtpbmRzO1xuICAgICAgICBpZiAoIWRlZmluaXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB2YXJzO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1c2VEZWZhdWx0cyA9IGZ1bmN0aW9uIChvYmosIGRlZmF1bHRWYWx1ZXMsIHBhdGgpIHtcbiAgICAgICAgICAgIGlmIChwYXRoID09PSB2b2lkIDApIHsgcGF0aCA9ICcnOyB9XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXMoZGVmYXVsdFZhbHVlcyk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBkZWZhdWx0VmFsdWVzW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSB1c2VEZWZhdWx0cyhvYmpba2V5XSB8fCB7fSwgdmFsdWUsIFwiXCIuY29uY2F0KHBhdGgpLmNvbmNhdChrZXksIFwiLlwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmpba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGtpbmRzW1wiXCIuY29uY2F0KHBhdGgpLmNvbmNhdChrZXkpXSA9PT0gJ0ZJTEUnKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gX3RoaXMuZ2V0RmlsZVVybChvYmpba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHVzZURlZmF1bHRzKF9fYXNzaWduKHt9LCB2YXJzKSwgZGVmaW5pdGlvbi52YWx1ZXMpO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLnJlc29sdmVGaWxlcyA9IGZ1bmN0aW9uICh2YXJzKSB7XG4gICAgICAgIHZhciBmaWxlUHJlZml4ID0gL15fX2ZpbGVfXy87XG4gICAgICAgIGZvciAodmFyIGtleSBpbiB2YXJzKSB7XG4gICAgICAgICAgICBpZiAoZmlsZVByZWZpeC50ZXN0KGtleSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGtleS5yZXBsYWNlKGZpbGVQcmVmaXgsICcnKTtcbiAgICAgICAgICAgICAgICB2YXJzW25hbWVdID0gdGhpcy5nZXRGaWxlVXJsKHZhcnNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFyc1trZXldID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHZhcnNba2V5XSA9IHRoaXMucmVzb2x2ZUZpbGVzKHZhcnNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhcnM7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUucmVzb2x2ZUZpZWxkcyA9IGZ1bmN0aW9uICh2YXJzKSB7XG4gICAgICAgIHZhciBjb2xvclN1ZmZpeCA9IC9cXGJjb2xvci9pO1xuICAgICAgICB2YXIgZmlsZVByZWZpeCA9IC9eX19maWxlX18vO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdmFycykge1xuICAgICAgICAgICAgaWYgKGZpbGVQcmVmaXgudGVzdChrZXkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBrZXkucmVwbGFjZShmaWxlUHJlZml4LCAnJyk7XG4gICAgICAgICAgICAgICAgdmFyc1tuYW1lICsgJyBVUkwnXSA9IHRoaXMuZ2V0RmlsZVVybCh2YXJzW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29sb3JTdWZmaXgudGVzdChrZXkpKSB7XG4gICAgICAgICAgICAgICAgdmFyc1trZXldID0gVmFsdWVUcmFuc2Zvcm1zXzEuZGVmYXVsdC5kZWNvZGVDb2xvcih2YXJzW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhcnNba2V5XSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB2YXJzW2tleV0gPSB0aGlzLnJlc29sdmVGaWVsZHModmFyc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFycztcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5tZXNzYWdlSWRGcm9tQWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB2YXIgbWVzc2FnZXMgPSB0aGlzLl9tZXNzYWdlQ2FjaGU7XG4gICAgICAgIHZhciB2YXJzID0gX19hc3NpZ24oe30sIGFjdGlvbik7XG4gICAgICAgIGRlbGV0ZSB2YXJzWydwYXJlbnRDYW1wYWlnbklkJ107XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyhtZXNzYWdlcyk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSBfYVtfaV07XG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG1lc3NhZ2VzW2lkXTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnBhcmVudENhbXBhaWduSWQgIT09IGFjdGlvbi5wYXJlbnRDYW1wYWlnbklkKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKDAsIGxvZGFzaF9pc2VxdWFsXzEuZGVmYXVsdCkobWVzc2FnZS52YXJzLCB2YXJzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLm1hdGNoZXNUcmlnZ2VyID0gZnVuY3Rpb24gKHdoZW5UcmlnZ2VycywgY29udGV4dCkge1xuICAgICAgICBpZiAoIXdoZW5UcmlnZ2Vycykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpZ25vcmVDYXNlRXF1YWxzID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIGlmIChiID09PSB2b2lkIDApIHsgYiA9ICcnOyB9XG4gICAgICAgICAgICByZXR1cm4gYS50b1N0cmluZygpLmxvY2FsZUNvbXBhcmUoYi50b1N0cmluZygpLCB1bmRlZmluZWQsIHsgc2Vuc2l0aXZpdHk6ICdhY2NlbnQnIH0pID09PSAwO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgbWF0Y2hlc1RyaWdnZXJzID0gZnVuY3Rpb24gKGNvbnRleHROb3VuLCBwYXJhbXMsIHRyaWdnZXIpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGVzTm91biA9IGNvbnRleHROb3VuID09PSB0cmlnZ2VyLm5vdW47XG4gICAgICAgICAgICBpZiAodHJpZ2dlci52ZXJiID09PSAndHJpZ2dlcnMnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNOb3VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHJpZ2dlci52ZXJiID09PSAndHJpZ2dlcnNXaXRoUGFyYW1ldGVyJykge1xuICAgICAgICAgICAgICAgIHZhciBfYSA9IHRyaWdnZXIub2JqZWN0cywgcGFyYW1ldGVyID0gX2FbMF0sIHZhbHVlID0gX2FbMV07XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5zUGFyYW0gPSBwYXJhbWV0ZXIgaW4gcGFyYW1zO1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzUGFyYW0gPSBjb250YWluc1BhcmFtICYmIGlnbm9yZUNhc2VFcXVhbHModmFsdWUsIHBhcmFtc1twYXJhbWV0ZXJdKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlc05vdW4gJiYgbWF0Y2hlc1BhcmFtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gd2hlblRyaWdnZXJzLmNoaWxkcmVuLnNvbWUoZnVuY3Rpb24gKHRyaWdnZXIpIHtcbiAgICAgICAgICAgIHZhciBzdWJqZWN0ID0gdHJpZ2dlci5zdWJqZWN0O1xuICAgICAgICAgICAgc3dpdGNoIChjb250ZXh0LnRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzdGFydCc6IHJldHVybiBzdWJqZWN0ID09PSAnc3RhcnQnIHx8IHN1YmplY3QgPT09ICdyZXN1bWUnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3Jlc3VtZSc6IHJldHVybiBzdWJqZWN0ID09PSAncmVzdW1lJztcbiAgICAgICAgICAgICAgICBjYXNlICdldmVudCc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJqZWN0ICE9PSAnZXZlbnQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNUcmlnZ2Vycyhjb250ZXh0LmV2ZW50TmFtZSwgY29udGV4dC5wYXJhbXMsIHRyaWdnZXIpO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VzZXJBdHRyaWJ1dGUnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoc3ViamVjdCAhPT0gJ3VzZXJBdHRyaWJ1dGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5zQXR0cmlidXRlID0gdHJpZ2dlci5ub3VuIGluIGNvbnRleHQuYXR0cmlidXRlcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIudmVyYiA9PT0gJ2NoYW5nZXMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGFpbnNBdHRyaWJ1dGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHJpZ2dlci52ZXJiID09PSAnY2hhbmdlc1RvJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250YWluc0F0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb250ZXh0VmFsdWVfMSA9IGNvbnRleHQuYXR0cmlidXRlc1t0cmlnZ2VyLm5vdW5dO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyaWdnZXIub2JqZWN0cy5zb21lKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCAmJiBjb250ZXh0VmFsdWVfMSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICYmIGNvbnRleHRWYWx1ZV8xICYmIGlnbm9yZUNhc2VFcXVhbHModmFsdWUsIGNvbnRleHRWYWx1ZV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0YXRlJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YmplY3QgIT09ICdzdGF0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlc1RyaWdnZXJzKGNvbnRleHQuc3RhdGUsIGNvbnRleHQucGFyYW1zLCB0cmlnZ2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUubWF0Y2hlc0xpbWl0cyA9IGZ1bmN0aW9uIChpZCwgd2hlbkxpbWl0cywgdHJpZ2dlck9jY3VycmVuY2VzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghd2hlbkxpbWl0cykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdoZW5MaW1pdHMuY2hpbGRyZW4uZXZlcnkoZnVuY3Rpb24gKGxpbWl0KSB7XG4gICAgICAgICAgICB2YXIgc3ViamVjdCA9IGxpbWl0LnN1YmplY3QsIHZlcmIgPSBsaW1pdC52ZXJiO1xuICAgICAgICAgICAgdmFyIG5vdW4gPSBwYXJzZUludChsaW1pdC5ub3VuLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgaWYgKHN1YmplY3QgPT09ICd0aW1lcycpIHtcbiAgICAgICAgICAgICAgICBpZiAodmVyYiA9PT0gJ2xpbWl0U2Vzc2lvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlc3Npb25PY2N1cnJlbmNlcyA9IF90aGlzLm9jY3VycmVuY2VUcmFja2VyLmdldFNlc3Npb25PY2N1cnJhbmNlQ291bnQoaWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2Vzc2lvbk9jY3VycmVuY2VzICsgMSA9PT0gbm91bjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmVyYiA9PT0gJ2xpbWl0VXNlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9jY3VycmVuY2VzID0gX3RoaXMub2NjdXJyZW5jZVRyYWNrZXIuZ2V0T2NjdXJyZW5jZXMoaWQpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9jY3VycmVuY2VzICsgMSA8PSBub3VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gWCBpbiBZIChzZWNvbmRzfG1pbnV0ZXN8ZGF5c3xob3VycylcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBlckludGVydmFsID0gcGFyc2VJbnQobGltaXQub2JqZWN0c1swXS50b1N0cmluZygpKSB8fCAxO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZVNsb3QgPSB2ZXJiVG9JbnRlcnZhbCh2ZXJiKSAqIHBlckludGVydmFsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2NjdXJyZW5jZXMgPSBfdGhpcy5vY2N1cnJlbmNlVHJhY2tlci5nZXRPY2N1cnJlbmNlcyhpZCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IG9jY3VycmVuY2VzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50IDwgbm91bikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2xpY2UgPSBvY2N1cnJlbmNlcy5zbGljZShjb3VudCAtIG5vdW4sIGNvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIHRoZSB0aW1lIG9mIHRoZSBmaXJzdCBvZiB0aGUgbGFzdCBOIG9jY3VycmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2xpY2VbMF0gPCBEYXRlLm5vdygpIC0gdGltZVNsb3Q7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJqZWN0ID09PSAnb25OdGhPY2N1cnJlbmNlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cmlnZ2VyT2NjdXJyZW5jZXMgPT09IG5vdW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWJqZWN0ID09PSAnZXZlcnlOdGhPY2N1cnJlbmNlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiAodHJpZ2dlck9jY3VycmVuY2VzICUgbm91bikgPT09IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIE1lc3NhZ2VzO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE1lc3NhZ2VzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLklkZW50aXR5TWFuYWdlciA9IGV4cG9ydHMuSWRlbnRpdHlTdGF0ZSA9IHZvaWQgMDtcbnZhciBjbGV2ZXJ0YXBfd2ViX3Nka18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJjbGV2ZXJ0YXAtd2ViLXNka1wiKSk7XG52YXIgaW50ZXJuYWxfMSA9IHJlcXVpcmUoXCIuL3R5cGVzL2ludGVybmFsXCIpO1xudmFyIFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vU3RvcmFnZU1hbmFnZXJcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgbm9vcCA9IGZ1bmN0aW9uICgpIHsgfTtcbnZhciB0b01pZ3JhdGlvblN0YXRlID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHN3aXRjaCAob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqLnNkaykge1xuICAgICAgICBjYXNlICdscCc6XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJuYWxfMS5NaWdyYXRpb25TdGF0ZS5MRUFOUExVTTtcbiAgICAgICAgY2FzZSAnbHArY3QnOlxuICAgICAgICAgICAgcmV0dXJuIGludGVybmFsXzEuTWlncmF0aW9uU3RhdGUuRFVQTElDQVRFO1xuICAgICAgICBjYXNlICdjdCc6XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJuYWxfMS5NaWdyYXRpb25TdGF0ZS5DTEVWRVJUQVA7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJuYWxfMS5NaWdyYXRpb25TdGF0ZS5VTktOT1dOO1xuICAgIH1cbn07XG52YXIgTWlncmF0aW9uTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNaWdyYXRpb25NYW5hZ2VyKGNyZWF0ZVJlcXVlc3QpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuICAgICAgICB0aGlzLnJlc3BvbnNlID0gbnVsbDtcbiAgICAgICAgdmFyIHNhdmVkUmVzcG9uc2UgPSBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0KENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLk1JR1JBVElPTl9TVEFURSk7XG4gICAgICAgIHZhciBkZXZpY2VJZCA9IFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXQoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuREVWSUNFX0lEKTtcbiAgICAgICAgdmFyIHVzZXJJZCA9IChfYSA9IFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXQoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVVNFUl9JRCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRldmljZUlkO1xuICAgICAgICB0aGlzLmlkZW50aXR5ID0gbmV3IElkZW50aXR5TWFuYWdlcih1c2VySWQsIGRldmljZUlkKTtcbiAgICAgICAgaWYgKHNhdmVkUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHRoaXMucmVzcG9uc2UgPSBKU09OLnBhcnNlKHNhdmVkUmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIE1pZ3JhdGlvbk1hbmFnZXIucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayA9PT0gdm9pZCAwKSB7IGNhbGxiYWNrID0gbm9vcDsgfVxuICAgICAgICB2YXIgcmVzcG9uc2UgPSB0aGlzLnJlc3BvbnNlO1xuICAgICAgICB2YXIgc3RhdGUgPSB0b01pZ3JhdGlvblN0YXRlKHRoaXMucmVzcG9uc2UpO1xuICAgICAgICBpZiAocmVzcG9uc2UgJiYgc3RhdGUgIT09IGludGVybmFsXzEuTWlncmF0aW9uU3RhdGUuVU5LTk9XTikge1xuICAgICAgICAgICAgY2FsbGJhY2soc3RhdGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2V0TWlncmF0aW9uU3RhdGUoY2FsbGJhY2spO1xuICAgIH07XG4gICAgTWlncmF0aW9uTWFuYWdlci5wcm90b3R5cGUudmVyaWZ5U3RhdGUgPSBmdW5jdGlvbiAoc2hhKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCgoX2EgPSB0aGlzLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2hhMjU2KSAhPT0gc2hhKSB7XG4gICAgICAgICAgICB0aGlzLmdldE1pZ3JhdGlvblN0YXRlKG5vb3ApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNaWdyYXRpb25NYW5hZ2VyLnByb3RvdHlwZS5pbml0Q2xldmVyVGFwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBjb25maWcgPSAoX2EgPSB0aGlzLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY3Q7XG4gICAgICAgIGlmICghY29uZmlnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2xldmVydGFwX3dlYl9zZGtfMS5kZWZhdWx0LmluaXQoY29uZmlnLmFjY291bnRJZCwgY29uZmlnLnJlZ2lvbkNvZGUpO1xuICAgICAgICByZXR1cm4gY2xldmVydGFwX3dlYl9zZGtfMS5kZWZhdWx0O1xuICAgIH07XG4gICAgTWlncmF0aW9uTWFuYWdlci5wcm90b3R5cGUuZHVwbGljYXRlUmVxdWVzdCA9IGZ1bmN0aW9uIChhY3Rpb24sIGFyZ3MsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gdG9NaWdyYXRpb25TdGF0ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgaWYgKHN0YXRlID09PSBpbnRlcm5hbF8xLk1pZ3JhdGlvblN0YXRlLkxFQU5QTFVNKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhcmdzKSB7XG4gICAgICAgICAgICBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZSA9PT0gaW50ZXJuYWxfMS5NaWdyYXRpb25TdGF0ZS5EVVBMSUNBVEUpIHtcbiAgICAgICAgICAgIGFyZ3MuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkNULCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJnc0RpY3QgPSAoYXJncyA9PT0gbnVsbCB8fCBhcmdzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhcmdzLmJ1aWxkRGljdCgpKSB8fCB7fTtcbiAgICAgICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlNUQVJUOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pZGVudGl0eS5pc0Fub255bW91cykge1xuICAgICAgICAgICAgICAgICAgICBjbGV2ZXJ0YXBfd2ViX3Nka18xLmRlZmF1bHQub25Vc2VyTG9naW4ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBTaXRlOiB0aGlzLmlkZW50aXR5LnByb2ZpbGUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlRSQUNLOlxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRQdXNoKGFyZ3NEaWN0LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLkFEVkFOQ0U6XG4gICAgICAgICAgICAgICAgYXJnc0RpY3QuZXZlbnQgPSBcInN0YXRlX1wiLmNvbmNhdChhcmdzRGljdC5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudFB1c2goYXJnc0RpY3QsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuU0VUX1VTRVJfQVRUUklCVVRFUzpcbiAgICAgICAgICAgICAgICB0aGlzLnByb2ZpbGVQdXNoKGFyZ3NEaWN0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGUgPT09IGludGVybmFsXzEuTWlncmF0aW9uU3RhdGUuQ0xFVkVSVEFQO1xuICAgIH07XG4gICAgTWlncmF0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvZmlsZVB1c2ggPSBmdW5jdGlvbiAoYXJnc0RpY3QpIHtcbiAgICAgICAgdmFyIHVzZXJJZCA9IGFyZ3NEaWN0W0NvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLk5FV19VU0VSX0lEXTtcbiAgICAgICAgdmFyIGF0dHJzID0gdGhpcy5tYXBBdHRyaWJ1dGVzKHRoaXMuY29udmVydEFycmF5cyhKU09OLnBhcnNlKGFyZ3NEaWN0LnVzZXJBdHRyaWJ1dGVzIHx8ICd7fScpKSk7XG4gICAgICAgIGlmICh1c2VySWQpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oYXR0cnMsIHsgSWRlbnRpdHk6IHVzZXJJZCB9KTtcbiAgICAgICAgICAgIGNsZXZlcnRhcF93ZWJfc2RrXzEuZGVmYXVsdC5vblVzZXJMb2dpbi5wdXNoKHsgU2l0ZTogYXR0cnMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjbGV2ZXJ0YXBfd2ViX3Nka18xLmRlZmF1bHQucHJvZmlsZS5wdXNoKHsgU2l0ZTogYXR0cnMgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1pZ3JhdGlvbk1hbmFnZXIucHJvdG90eXBlLmV2ZW50UHVzaCA9IGZ1bmN0aW9uIChhcmdzRGljdCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgaXNFbmdhZ2VtZW50RXZlbnQgPSBhcmdzRGljdFtDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5NRVNTQUdFX0lEXTtcbiAgICAgICAgdmFyIGV2ZW50TmFtZSA9IG9wdGlvbnMuaXNQdXJjaGFzZSA/ICdDaGFyZ2VkJyA6IGFyZ3NEaWN0LmV2ZW50O1xuICAgICAgICBpZiAoZXZlbnROYW1lICYmICFpc0VuZ2FnZW1lbnRFdmVudCkge1xuICAgICAgICAgICAgdmFyIGV2ZW50UGFyYW1zID0ge307XG4gICAgICAgICAgICBpZiAoYXJnc0RpY3QucGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHRoaXMuY29udmVydEFycmF5cyhKU09OLnBhcnNlKGFyZ3NEaWN0LnBhcmFtcykpO1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oZXZlbnRQYXJhbXMsIHBhcmFtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXJnc0RpY3QudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGV2ZW50UGFyYW1zLCB7IHZhbHVlOiBhcmdzRGljdC52YWx1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhcmdzRGljdC5pbmZvKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihldmVudFBhcmFtcywgeyBpbmZvOiBhcmdzRGljdC5pbmZvIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaXNQdXJjaGFzZSAmJiBhcmdzRGljdC5jdXJyZW5jeUNvZGUpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGV2ZW50UGFyYW1zLCB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5Q29kZTogYXJnc0RpY3QuY3VycmVuY3lDb2RlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xldmVydGFwX3dlYl9zZGtfMS5kZWZhdWx0LmV2ZW50LnB1c2goZXZlbnROYW1lLCBldmVudFBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1pZ3JhdGlvbk1hbmFnZXIucHJvdG90eXBlLmNvbnZlcnRBcnJheXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9ialtrZXldKSkge1xuICAgICAgICAgICAgICAgIHZhciBhcnIgPSBvYmpba2V5XTtcbiAgICAgICAgICAgICAgICBhY2Nba2V5XSA9IFwiW1wiLmNvbmNhdChhcnIuam9pbignLCcpLCBcIl1cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhY2Nba2V5XSA9IG9ialtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgIH07XG4gICAgTWlncmF0aW9uTWFuYWdlci5wcm90b3R5cGUubWFwQXR0cmlidXRlcyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdmFyIG1hcHBpbmcgPSAoX2IgPSAoX2EgPSB0aGlzLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY3QpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5hdHRyaWJ1dGVNYXBwaW5ncztcbiAgICAgICAgaWYgKCFtYXBwaW5nKVxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICAgICAgaWYgKG1hcHBpbmdba2V5XSkge1xuICAgICAgICAgICAgICAgIGFjY1ttYXBwaW5nW2tleV1dID0gb2JqW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhY2Nba2V5XSA9IG9ialtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgIH07XG4gICAgTWlncmF0aW9uTWFuYWdlci5wcm90b3R5cGUuZ2V0TWlncmF0aW9uU3RhdGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KCdnZXRNaWdyYXRlU3RhdGUnLCBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KCksIHtcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gKF9hID0gciA9PT0gbnVsbCB8fCByID09PSB2b2lkIDAgPyB2b2lkIDAgOiByLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbMF07XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gdG9NaWdyYXRpb25TdGF0ZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlICYmIHN0YXRlICE9PSBpbnRlcm5hbF8xLk1pZ3JhdGlvblN0YXRlLlVOS05PV04pIHtcbiAgICAgICAgICAgICAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmUoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuTUlHUkFUSU9OX1NUQVRFLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZSkpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhzdGF0ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBNaWdyYXRpb25NYW5hZ2VyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE1pZ3JhdGlvbk1hbmFnZXI7XG52YXIgSWRlbnRpdHlTdGF0ZTtcbihmdW5jdGlvbiAoSWRlbnRpdHlTdGF0ZSkge1xuICAgIElkZW50aXR5U3RhdGVbXCJBTk9OWU1PVVNcIl0gPSBcImFub255bW91c1wiO1xuICAgIElkZW50aXR5U3RhdGVbXCJJREVOVElGSUVEXCJdID0gXCJpZGVudGlmaWVkXCI7XG59KShJZGVudGl0eVN0YXRlID0gZXhwb3J0cy5JZGVudGl0eVN0YXRlIHx8IChleHBvcnRzLklkZW50aXR5U3RhdGUgPSB7fSkpO1xudmFyIElkZW50aXR5TWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJZGVudGl0eU1hbmFnZXIodXNlcklkLCBkZXZpY2VJZCkge1xuICAgICAgICB0aGlzLnVzZXJJZCA9IHVzZXJJZDtcbiAgICAgICAgdGhpcy5kZXZpY2VJZCA9IGRldmljZUlkO1xuICAgICAgICB0aGlzLnN0YXRlID0gSWRlbnRpdHlTdGF0ZS5BTk9OWU1PVVM7XG4gICAgICAgIHRoaXMuaWRlbnRpZnkoKTtcbiAgICB9XG4gICAgSWRlbnRpdHlNYW5hZ2VyLnByb3RvdHlwZS5zZXRVc2VySWQgPSBmdW5jdGlvbiAodXNlcklkKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBJZGVudGl0eVN0YXRlLkFOT05ZTU9VUykge1xuICAgICAgICAgICAgdGhpcy5hbm9ueW1vdXNMb2dpblVzZXJJZCA9IHVzZXJJZDtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBJZGVudGl0eVN0YXRlLklERU5USUZJRUQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51c2VySWQgPSB1c2VySWQ7XG4gICAgfTtcbiAgICBJZGVudGl0eU1hbmFnZXIucHJvdG90eXBlLmlkZW50aWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5pc0Fub255bW91cykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IElkZW50aXR5U3RhdGUuQU5PTllNT1VTO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pZGVudGlmeU5vbkFub255bW91cygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJZGVudGl0eU1hbmFnZXIucHJvdG90eXBlLmlkZW50aWZ5Tm9uQW5vbnltb3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gSWRlbnRpdHlTdGF0ZS5BTk9OWU1PVVMpIHtcbiAgICAgICAgICAgIHRoaXMuYW5vbnltb3VzTG9naW5Vc2VySWQgPSB0aGlzLnVzZXJJZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gSWRlbnRpdHlTdGF0ZS5JREVOVElGSUVEO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KElkZW50aXR5TWFuYWdlci5wcm90b3R5cGUsIFwiY2xldmVyVGFwSURcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnVzZXJJZCAhPT0gdGhpcy5hbm9ueW1vdXNMb2dpblVzZXJJZCAmJiAhdGhpcy5pc0Fub255bW91cykge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiLmNvbmNhdCh0aGlzLmRldmljZUlkLCBcIl9cIikuY29uY2F0KHRoaXMudXNlcklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRldmljZUlkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KElkZW50aXR5TWFuYWdlci5wcm90b3R5cGUsIFwicHJvZmlsZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgSWRlbnRpdHk6IHRoaXMudXNlcklkIH07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSWRlbnRpdHlNYW5hZ2VyLnByb3RvdHlwZSwgXCJpc0Fub255bW91c1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXNlcklkID09PSB0aGlzLmRldmljZUlkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIElkZW50aXR5TWFuYWdlcjtcbn0oKSk7XG5leHBvcnRzLklkZW50aXR5TWFuYWdlciA9IElkZW50aXR5TWFuYWdlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBBamF4IGZ1bmN0aW9ucyBmcm9tOlxuICpcbiAqIFBhcnNlIEphdmFTY3JpcHQgU0RLXG4gKiBWZXJzaW9uOiAxLjEuNVxuICogQnVpbHQ6IE1vbiBPY3QgMDEgMjAxMiAxNzo1NzoxM1xuICogaHR0cDovL3BhcnNlLmNvbVxuICpcbiAqIENvcHlyaWdodCAyMDEyIFBhcnNlLCBJbmMuXG4gKiBUaGUgUGFyc2UgSmF2YVNjcmlwdCBTREsgaXMgZnJlZWx5IGRpc3RyaWJ1dGFibGUgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lOR1xuICogRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUlxuICogREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTmV0d29yayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOZXR3b3JrKCkge1xuICAgICAgICB0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyA9IDEwO1xuICAgICAgICB0aGlzLnJlcXVlc3RRdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLnJ1bm5pbmdSZXF1ZXN0ID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIE5ldHdvcmsucHJvdG90eXBlLnNldE5ldHdvcmtUaW1lb3V0ID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMgPSBzZWNvbmRzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFrZSBhbiBhamF4IHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBUaGUgaHR0cCBtZXRob2QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgdXJsIHRvIG9wZW4uXG4gICAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXlCdWZmZXJ8QmxvYnxEb2N1bWVudHxGb3JtRGF0YX0gZGF0YSBUaGUgZGF0YSB0byBiZSBzZW50IGluIGJvZHkuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gc3VjY2VzcyBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBzdWNjZXNzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGVycm9yIEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIGVycm9yLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcXVldWVkIFdoZXRoZXIgdGhlIHJlcXVlc3Qgc2hvdWxkIGJlIHF1ZXVlZCBvciBpbW1lZGlhdGVseSBzZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3BsYWluVGV4dF0gV2hldGhlciB0aGUgcmVzcG9uc2Ugc2hvdWxkIGJlIHJldHVybmVkIGFzIHBsYWluIHRleHQgb3IganNvbi5cbiAgICAgKiBAcmV0dXJuIHsqfVxuICAgICAqL1xuICAgIE5ldHdvcmsucHJvdG90eXBlLmFqYXggPSBmdW5jdGlvbiAobWV0aG9kLCB1cmwsIGRhdGEsIHN1Y2Nlc3MsIGVycm9yLCBxdWV1ZWQsIHBsYWluVGV4dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAocXVldWVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ydW5uaW5nUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbnF1ZXVlUmVxdWVzdChhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ydW5uaW5nUmVxdWVzdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBYRG9tYWluUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHA6JyAmJiB1cmwuaW5kZXhPZignaHR0cHM6JykgPT09IDApIHtcbiAgICAgICAgICAgICAgICB1cmwgPSBcImh0dHA6XCIuY29uY2F0KHVybC5zdWJzdHJpbmcoNikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWpheElFOChtZXRob2QsIHVybCwgZGF0YSwgc3VjY2VzcywgZXJyb3IsIHF1ZXVlZCwgcGxhaW5UZXh0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaGFuZGxlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFuZGxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZV8xO1xuICAgICAgICAgICAgICAgIHZhciBwYXJzZUVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHBsYWluVGV4dCkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZV8xID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZV8xID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yKG51bGwsIHhocik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MocmVzcG9uc2VfMSwgeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcihyZXNwb25zZV8xLCB4aHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChxdWV1ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucnVubmluZ1JlcXVlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVxdWV1ZVJlcXVlc3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICd0ZXh0L3BsYWluJyk7IC8vIEF2b2lkIHByZS1mbGlnaHQuXG4gICAgICAgIHhoci5zZW5kKGRhdGEpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlZCkge1xuICAgICAgICAgICAgICAgIHhoci5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyAqIDEwMDApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFrZSBhbiBhamF4IHJlcXVlc3QgZm9yIElFOC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIFRoZSBodHRwIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSB1cmwgdG8gb3Blbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheUJ1ZmZlcnxCbG9ifERvY3VtZW50fEZvcm1EYXRhfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHNlbnQgaW4gYm9keS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdWNjZXNzIEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIHN1Y2Nlc3MuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZXJyb3IgQSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gZXJyb3IuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBxdWV1ZWQgV2hldGhlciB0aGUgcmVxdWVzdCBzaG91bGQgYmUgcXVldWVkIG9yIGltbWVkaWF0ZWx5IHNlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBwbGFpblRleHQgV2hldGhlciB0aGUgcmVzcG9uc2Ugc2hvdWxkIGJlIHJldHVybmVkIGFzIHBsYWluIHRleHQgb3IganNvbi5cbiAgICAgKi9cbiAgICBOZXR3b3JrLnByb3RvdHlwZS5hamF4SUU4ID0gZnVuY3Rpb24gKG1ldGhvZCwgdXJsLCBkYXRhLCBzdWNjZXNzLCBlcnJvciwgcXVldWVkLCBwbGFpblRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHhkciA9IG5ldyBYRG9tYWluUmVxdWVzdCgpO1xuICAgICAgICB4ZHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlc3BvbnNlO1xuICAgICAgICAgICAgdmFyIHBhcnNlRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChwbGFpblRleHQpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHhkci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IEpTT04ucGFyc2UoeGRyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IobnVsbCwgeGRyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcGFyc2VFcnJvcikge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyhyZXNwb25zZSwgeGRyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHF1ZXVlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJ1bm5pbmdSZXF1ZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVxdWV1ZVJlcXVlc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeGRyLm9uZXJyb3IgPSB4ZHIub250aW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yKG51bGwsIHhkcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICBpZiAocXVldWVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucnVubmluZ1JlcXVlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5kZXF1ZXVlUmVxdWVzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB4ZHIub25wcm9ncmVzcyA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAgICAgeGRyLm9wZW4obWV0aG9kLCB1cmwpO1xuICAgICAgICB4ZHIudGltZW91dCA9IHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzICogMTAwMDtcbiAgICAgICAgeGRyLnNlbmQoZGF0YSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSByZXF1ZXN0IHRvIHRoZSByZXF1ZXN0IHF1ZXVlLlxuICAgICAqIEBwYXJhbSByZXF1ZXN0QXJndW1lbnRzIFRoZSByZXF1ZXN0IGFyZ3VtZW50cyBmcm9tIHRoZSBpbml0aWFsIG1ldGhvZCBjYWxsLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTmV0d29yay5wcm90b3R5cGUuZW5xdWV1ZVJlcXVlc3QgPSBmdW5jdGlvbiAocmVxdWVzdEFyZ3VtZW50cykge1xuICAgICAgICB0aGlzLnJlcXVlc3RRdWV1ZS5wdXNoKHJlcXVlc3RBcmd1bWVudHMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgcmVxdWVzdCBmcm9tIHRoZSByZXF1ZXN0IHF1ZXVlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTmV0d29yay5wcm90b3R5cGUuZGVxdWV1ZVJlcXVlc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gdGhpcy5yZXF1ZXN0UXVldWUuc2hpZnQoKTtcbiAgICAgICAgaWYgKGFyZ3MpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItc3ByZWFkXG4gICAgICAgICAgICB0aGlzLmFqYXguYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBOZXR3b3JrO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE5ldHdvcms7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEFyZ3NCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQXJnc0J1aWxkZXJcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgU3RvcmFnZU1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9TdG9yYWdlTWFuYWdlclwiKSk7XG52YXIgQVBQTElDQVRJT05fU0VSVkVSX1BVQkxJQ19LRVkgPSAnQkluV1BwV250ZlIzOXJnWFNQMDRwcWRtRWRER2E1MHo2enFiTXZ4eXhKQ3d6WEl1U3BTaDhDODg4LUNmSjgyV0VMbDdYZThjakFuZkN0LTN2SzBDaTY4Jztcbi8qKlxuICogUHVzaCBNYW5hZ2VyIGhhbmRsZXMgdGhlIHJlZ2lzdHJhdGlvbiBhbmQgc3Vic2NyaXB0aW9uIGZvciB3ZWIgcHVzaC5cbiAqL1xudmFyIFB1c2hNYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFB1c2hNYW5hZ2VyKGV2ZW50cywgY3JlYXRlUmVxdWVzdCkge1xuICAgICAgICB0aGlzLmV2ZW50cyA9IGV2ZW50cztcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdDtcbiAgICAgICAgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uID0gbnVsbDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFB1c2hNYW5hZ2VyLnByb3RvdHlwZSwgXCJzZXJ2aWNlV29ya2VyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci5zZXJ2aWNlV29ya2VyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3Qgd2ViIHB1c2ggaXMgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgc3VwcG9ydGVkLCBlbHNlIGZhbHNlLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5pc1dlYlB1c2hTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKCh3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3cubmF2aWdhdG9yKSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAnc2VydmljZVdvcmtlcicgaW4gd2luZG93Lm5hdmlnYXRvciAmJlxuICAgICAgICAgICAgJ1B1c2hNYW5hZ2VyJyBpbiB3aW5kb3cpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdGhlIGJyb3dzZXIgaXMgc3Vic2NyaWJlZCB0byB3ZWIgcHVzaCBub3RpZmljYXRpb25zLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFRydWUgaWYgc3Vic2NyaWJlZCwgZWxzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuaXNXZWJQdXNoU3Vic2NyaWJlZCA9IGZ1bmN0aW9uIChjbGllbnRVcmwpIHtcbiAgICAgICAgaWYgKGNsaWVudFVybCA9PT0gdm9pZCAwKSB7IGNsaWVudFVybCA9ICcnOyB9XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVnaXN0cmF0aW9uLCBzdWJzY3JpcHRpb24sIGlzU3Vic2NyaWJlZDtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1dlYlB1c2hTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBmYWxzZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmdldFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24oY2xpZW50VXJsKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVnaXN0cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGZhbHNlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5nZXRTdWJzY3JpcHRpb24oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU3Vic2NyaWJlZCA9IHN1YnNjcmlwdGlvbiAhPT0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgaXNTdWJzY3JpYmVkXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBmb3IgV2ViUHVzaC5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgc2VydmljZVdvcmtlclVybCBUaGUgdXJsIHRoYXQgc2VydmVzIHRoZSBzZXJ2aWNlIHdvcmtlciBvbiB5b3VyIGRvbWFpbi5cbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICBUaGUgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdpdGggcmVzdWx0LlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFRydWUgaWYgc3Vic2NyaWJlZCwgZWxzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAoc2VydmljZVdvcmtlclVybCwgc2NvcGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIHN1YnNjcmlwdGlvbiwgaXNTdWJzY3JpYmVkLCBlcnJvcl8xO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzV2ViUHVzaFN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBQdXNoIG1lc3NhZ2luZyBpcyBub3Qgc3VwcG9ydGVkLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBjYWxsYmFjayhmYWxzZSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsIDQsICwgNV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKHNlcnZpY2VXb3JrZXJVcmwgfHwgJy9zdy5taW4uanMnLCBzY29wZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNTdWJzY3JpYmVkID0gc3Vic2NyaXB0aW9uICE9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTmV3U3Vic2NyaXB0aW9uT25TZXJ2ZXIoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBjYWxsYmFjayhpc1N1YnNjcmliZWQpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfMSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogU2VydmljZSBXb3JrZXIgRXJyb3I6ICcsIGVycm9yXzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNhbGxiYWNrKGZhbHNlKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZSB0aGUgdXNlciAoYnJvd3NlcikgdG8gcHVzaC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBSZXNvbHZlcyBpZiBzdWJzY3JpcHRpb24gc3VjY2Vzc2Z1bCwgb3RoZXJ3aXNlIHJlamVjdHMuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnN1YnNjcmliZVVzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXBwbGljYXRpb25TZXJ2ZXJLZXksIHN1YnNjcmlwdGlvbiwgZXJyb3JfMjtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uU2VydmVyS2V5ID0gdGhpcy51cmxCNjRUb1VpbnQ4QXJyYXkoQVBQTElDQVRJT05fU0VSVkVSX1BVQkxJQ19LRVkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzEsIDMsICwgNF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJWaXNpYmxlT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25TZXJ2ZXJLZXk6IGFwcGxpY2F0aW9uU2VydmVyS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTmV3U3Vic2NyaXB0aW9uT25TZXJ2ZXIoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl8yID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGVhbnBsdW06IEZhaWxlZCB0byBzdWJzY3JpYmUgdGhlIHVzZXI6IFwiLmNvbmNhdChlcnJvcl8yKSk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRydWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVuc3Vic2NyaWJlIHRoZSB1c2VyKGJyb3dzZXIpIGZyb20gcHVzaC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBSZXNvbHZlcyBpZiB1bnN1YnNjcmliZWQsIG90aGVyd2lzZSByZWplY3RzLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS51bnN1YnNjcmliZVVzZXIgPSBmdW5jdGlvbiAoY2xpZW50VXJsKSB7XG4gICAgICAgIGlmIChjbGllbnRVcmwgPT09IHZvaWQgMCkgeyBjbGllbnRVcmwgPSAnJzsgfVxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmliZWQsIHN1YnNjcmlwdGlvbiwgZXJyb3JfMztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5pc1dlYlB1c2hTdWJzY3JpYmVkKGNsaWVudFVybCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVkID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVkKSByZXR1cm4gWzMgLypicmVhayovLCA2XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsyLCA1LCAsIDZdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5nZXRTdWJzY3JpcHRpb24oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl8zID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGVhbnBsdW06IEVycm9yIHVuc3Vic2NyaWJpbmc6IFwiLmNvbmNhdChlcnJvcl8zKSk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgc2VydmljZSB3b3JrZXIgcmVnaXN0cmF0aW9uIG9iamVjdCBmcm9tIGJyb3dzZXIuXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBSZXR1cm5zIHRoZSByZWdpc3RyYXRpb24gb3IgbnVsbC5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuZ2V0U2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9IGZ1bmN0aW9uIChjbGllbnRVcmwpIHtcbiAgICAgICAgaWYgKGNsaWVudFVybCA9PT0gdm9pZCAwKSB7IGNsaWVudFVybCA9ICcnOyB9XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISF0aGlzLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24pIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXJ2aWNlV29ya2VyLmdldFJlZ2lzdHJhdGlvbihjbGllbnRVcmwpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmNvZGVzIGEgYmFzZTY0IFVSTCBzdHJpbmcgdG8gYW4gVWludDggYXJyYXkuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnVybEI2NFRvVWludDhBcnJheSA9IGZ1bmN0aW9uIChiYXNlNjRTdHJpbmcpIHtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSAnPScucmVwZWF0KCg0IC0gYmFzZTY0U3RyaW5nLmxlbmd0aCAlIDQpICUgNCk7XG4gICAgICAgIHZhciBiYXNlNjQgPSAoYmFzZTY0U3RyaW5nICsgcGFkZGluZykucmVwbGFjZSgvLS9nLCAnKycpLnJlcGxhY2UoL18vZywgJy8nKTtcbiAgICAgICAgdmFyIHJhd0RhdGEgPSB0aGlzLmRlY29kZURhdGEoYmFzZTY0KTtcbiAgICAgICAgdmFyIG91dHB1dEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkocmF3RGF0YS5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhd0RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIG91dHB1dEFycmF5W2ldID0gcmF3RGF0YS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXRBcnJheTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmQgYSBuZXcgc3Vic2NyaXB0aW9uIG9iamVjdCB0byB0aGUgTGVhbnBsdW0gc2VydmVyLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdWJzY3JpcHRpb24gVGhlIHN1YnNjcmlwdGlvbi5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUudXBkYXRlTmV3U3Vic2NyaXB0aW9uT25TZXJ2ZXIgPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHZhciBwcmVwYXJlZFN1YnNjcmlwdGlvbiA9IHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgdmFyIHByZXBhcmVkU3Vic2NyaXB0aW9uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkocHJlcGFyZWRTdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgdmFyIGV4aXN0aW5nU3Vic2NyaXB0aW9uU3RyaW5nID0gU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5QVVNIX1NVQlNDUklQVElPTik7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdTdWJzY3JpcHRpb25TdHJpbmcgIT09IHByZXBhcmVkU3Vic2NyaXB0aW9uU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnd2ViUHVzaFN1YnNjcmliZWQnKTtcbiAgICAgICAgICAgICAgICBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZShDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5QVVNIX1NVQlNDUklQVElPTiwgcHJlcGFyZWRTdWJzY3JpcHRpb25TdHJpbmcpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3Vic2NyaXB0aW9uKHByZXBhcmVkU3Vic2NyaXB0aW9uU3RyaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnByZXBhcmVTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHZhciBrZXkgPSAoJ2dldEtleScgaW4gc3Vic2NyaXB0aW9uKSA/IHN1YnNjcmlwdGlvbi5nZXRLZXkoJ3AyNTZkaCcpIDogW107XG4gICAgICAgIHZhciBhdXRoID0gKCdnZXRLZXknIGluIHN1YnNjcmlwdGlvbikgPyBzdWJzY3JpcHRpb24uZ2V0S2V5KCdhdXRoJykgOiBbXTtcbiAgICAgICAgdmFyIGtleUFzY2lpID0gdGhpcy5lbmNvZGVEYXRhKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoa2V5KSkpO1xuICAgICAgICB2YXIgYXV0aEFzY2lpID0gdGhpcy5lbmNvZGVEYXRhKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoYXV0aCkpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVuZHBvaW50OiBzdWJzY3JpcHRpb24uZW5kcG9pbnQsXG4gICAgICAgICAgICBrZXk6IGtleUFzY2lpLFxuICAgICAgICAgICAgYXV0aDogYXV0aEFzY2lpLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCB0aGUgc3Vic2NyaXB0aW9uIHRvIHRoZSBMZWFucGx1bSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN1YnNjcmlwdGlvbiBUaGUgc3Vic2NyaXB0aW9uIHN0cmluZy5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuc2V0U3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKS5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuV0VCX1BVU0hfU1VCU0NSSVBUSU9OLCBzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TRVRfREVWSUNFX0FUVFJJQlVURVMsIGFyZ3MsIHtcbiAgICAgICAgICAgICAgICBxdWV1ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLmVuY29kZURhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gd2luZG93LmJ0b2EoZGF0YSk7XG4gICAgfTtcbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuZGVjb2RlRGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuYXRvYihkYXRhKTtcbiAgICB9O1xuICAgIHJldHVybiBQdXNoTWFuYWdlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBQdXNoTWFuYWdlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBOZXR3b3JrXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTmV0d29ya1wiKSk7XG4vKipcbiAqIFNvY2tldC5pbyAxLjAgY2xpZW50IGNsYXNzLlxuICovXG52YXIgU29ja2V0SW9DbGllbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYSBuZXcgU29ja2V0SW9DbGllbnQsIG5vdCBjb25uZWN0ZWQgYnkgZGVmYXVsdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTb2NrZXRJb0NsaWVudCgpIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrID0gbmV3IE5ldHdvcmtfMS5kZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29ubmVjdHMgdG8gdGhlIGdpdmVuIHNvY2tldEhvc3QuXG4gICAgICogQHBhcmFtIHNvY2tldEhvc3QgVGhlIGhvc3QgdG8gY29ubmVjdCB0by5cbiAgICAgKi9cbiAgICBTb2NrZXRJb0NsaWVudC5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uIChzb2NrZXRIb3N0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuY29ubmVjdGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMubmV0d29yay5hamF4KCdQT1NUJywgXCJodHRwczovL1wiLmNvbmNhdChzb2NrZXRIb3N0LCBcIi9zb2NrZXQuaW8vMVwiKSwgJycsIGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgICAgICB2YXIgcGFydHMgPSBsaW5lLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICB2YXIgc2Vzc2lvbiA9IHBhcnRzWzBdO1xuICAgICAgICAgICAgdmFyIGhlYXJ0YmVhdCA9IHBhcnNlSW50KHBhcnRzWzFdKSAvIDIgKiAxMDAwO1xuICAgICAgICAgICAgX3RoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldChcIndzczovL1wiLmNvbmNhdChzb2NrZXRIb3N0LCBcIi9zb2NrZXQuaW8vMS93ZWJzb2NrZXQvXCIpLmNvbmNhdChzZXNzaW9uKSk7XG4gICAgICAgICAgICB2YXIgaGVhcnRiZWF0SW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICAgICAgX3RoaXMuc29ja2V0Lm9ub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMub25vcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9ub3BlbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoZWFydGJlYXRJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc29ja2V0LnNlbmQoJzI6OjonKTtcbiAgICAgICAgICAgICAgICB9LCBoZWFydGJlYXQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLnNvY2tldC5vbmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaGVhcnRiZWF0SW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vbmNsb3NlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuc29ja2V0Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlUGFydHMgPSBldmVudC5kYXRhLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICAgICAgdmFyIGNvZGUgPSBwYXJzZUludChtZXNzYWdlUGFydHNbMF0pO1xuICAgICAgICAgICAgICAgIGlmIChjb2RlID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNvY2tldC5zZW5kKCcyOjonKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29kZSA9PT0gNSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZUlkID0gbWVzc2FnZVBhcnRzWzFdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UobWVzc2FnZVBhcnRzLnNsaWNlKDMpLmpvaW4oJzonKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlRXZlbnQgPSBkYXRhLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gZGF0YS5hcmdzO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXQuc2VuZChcIjY6OjpcIi5jb25jYXQobWVzc2FnZUlkKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLm9ubWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMub25tZXNzYWdlKG1lc3NhZ2VFdmVudCwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29kZSA9PT0gNykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNvY2tldCBlcnJvcjogXCIuY29uY2F0KGV2ZW50LmRhdGEpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuc29ja2V0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMub25lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbmVycm9yKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LCBudWxsLCBmYWxzZSwgdHJ1ZSAvLyBudWxsLCBxdWV1ZWQsIHBsYWluVGV4dFxuICAgICAgICApO1xuICAgIH07XG4gICAgU29ja2V0SW9DbGllbnQucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc29ja2V0LmNsb3NlKCk7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29ubmVjdGluZyA9IGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZHMgZ2l2ZW4gZXZlbnQgd2l0aCBhcmd1bWVudHMgdG8gdGhlIHNlcnZlci5cbiAgICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBldmVudC5cbiAgICAgKiBAcGFyYW0gYXJncyBBcmd1bWVudHMgdG8gc2VuZC5cbiAgICAgKi9cbiAgICBTb2NrZXRJb0NsaWVudC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChuYW1lLCBhcmdzKSB7XG4gICAgICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogU29ja2V0IGlzIG5vdCBjb25uZWN0ZWQuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyZ3NKc29uID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIGFyZ3M6IGFyZ3MsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNvY2tldC5zZW5kKFwiNTo6OlwiLmNvbmNhdChhcmdzSnNvbikpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmV0d29yayB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIFNvY2tldElvQ2xpZW50LnByb3RvdHlwZS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMubmV0d29yay5zZXROZXR3b3JrVGltZW91dChzZWNvbmRzKTtcbiAgICB9O1xuICAgIHJldHVybiBTb2NrZXRJb0NsaWVudDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBTb2NrZXRJb0NsaWVudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2VcbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBzdG9yYWdlRW5hYmxlZCA9IHtcbiAgICBsb2NhbDogdHJ1ZSxcbiAgICBzZXNzaW9uOiB0cnVlLFxufTtcbnZhciBhbHRlcm5hdGVTdG9yYWdlID0ge1xuICAgIGxvY2FsOiB7fSxcbiAgICBzZXNzaW9uOiB7fSxcbn07XG52YXIgU3RvcmFnZU1hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RvcmFnZU1hbmFnZXIoKSB7XG4gICAgfVxuICAgIFN0b3JhZ2VNYW5hZ2VyLmdldCA9IGZ1bmN0aW9uIChrZXksIHR5cGUpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gJ2xvY2FsJzsgfVxuICAgICAgICBpZiAoIXN0b3JhZ2VFbmFibGVkW3R5cGVdKSB7XG4gICAgICAgICAgICByZXR1cm4gYWx0ZXJuYXRlU3RvcmFnZVt0eXBlXVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2xvY2FsJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2Vba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHN0b3JhZ2VFbmFibGVkW3R5cGVdID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gYWx0ZXJuYXRlU3RvcmFnZVt0eXBlXVtrZXldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdG9yYWdlTWFuYWdlci5zYXZlID0gZnVuY3Rpb24gKGtleSwgdmFsdWUsIHR5cGUpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gJ2xvY2FsJzsgfVxuICAgICAgICBpZiAoIXN0b3JhZ2VFbmFibGVkW3R5cGVdKSB7XG4gICAgICAgICAgICBhbHRlcm5hdGVTdG9yYWdlW3R5cGVdW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdsb2NhbCcpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Vba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgc3RvcmFnZUVuYWJsZWRbdHlwZV0gPSBmYWxzZTtcbiAgICAgICAgICAgIGFsdGVybmF0ZVN0b3JhZ2VbdHlwZV1ba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdG9yYWdlTWFuYWdlci5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5LCB0eXBlKSB7XG4gICAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9ICdsb2NhbCc7IH1cbiAgICAgICAgaWYgKCFzdG9yYWdlRW5hYmxlZFt0eXBlXSkge1xuICAgICAgICAgICAgZGVsZXRlIGFsdGVybmF0ZVN0b3JhZ2VbdHlwZV1ba2V5XTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdsb2NhbCcpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBzdG9yYWdlRW5hYmxlZFt0eXBlXSA9IGZhbHNlO1xuICAgICAgICAgICAgZGVsZXRlIGFsdGVybmF0ZVN0b3JhZ2VbdHlwZV1ba2V5XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFN0b3JhZ2VNYW5hZ2VyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFN0b3JhZ2VNYW5hZ2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgVmFsdWVUcmFuc2Zvcm1zID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZhbHVlVHJhbnNmb3JtcygpIHtcbiAgICB9XG4gICAgVmFsdWVUcmFuc2Zvcm1zLmRlY29kZUNvbG9yID0gZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgICAgIHZhciBiID0gY29sb3IgJiAweGZmO1xuICAgICAgICBjb2xvciA+Pj0gODtcbiAgICAgICAgdmFyIGcgPSBjb2xvciAmIDB4ZmY7XG4gICAgICAgIGNvbG9yID4+PSA4O1xuICAgICAgICB2YXIgciA9IGNvbG9yICYgMHhmZjtcbiAgICAgICAgY29sb3IgPj49IDg7XG4gICAgICAgIHZhciBhID0gKGNvbG9yICYgMHhmZikgLyAyNTU7XG4gICAgICAgIHJldHVybiBcInJnYmEoXCIuY29uY2F0KHIsIFwiLFwiKS5jb25jYXQoZywgXCIsXCIpLmNvbmNhdChiLCBcIixcIikuY29uY2F0KGEsIFwiKVwiKTtcbiAgICB9O1xuICAgIFZhbHVlVHJhbnNmb3Jtcy5lbmNvZGVDb2xvciA9IGZ1bmN0aW9uIChjb2xvcikge1xuICAgICAgICBpZiAodHlwZW9mIGNvbG9yID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJnYmEgLT4gbnVtYmVyXG4gICAgICAgIHZhciByZ2JhUmUgPSAvXnJnYmFcXCgoXFxkKyksKFxcZCspLChcXGQrKSwoXFxkKyhcXC5cXGQrKT8pXFwpJC87XG4gICAgICAgIHZhciByZ2JhID0gcmdiYVJlLmV4ZWMoY29sb3IpO1xuICAgICAgICBpZiAocmdiYSkge1xuICAgICAgICAgICAgdmFyIGEgPSBwYXJzZUludChyZ2JhWzRdLCAxMCkgKiAyNTU7XG4gICAgICAgICAgICB2YXIgciA9IHBhcnNlSW50KHJnYmFbMV0sIDEwKSAmIDB4ZmY7XG4gICAgICAgICAgICB2YXIgZyA9IHBhcnNlSW50KHJnYmFbMl0sIDEwKSAmIDB4ZmY7XG4gICAgICAgICAgICB2YXIgYiA9IHBhcnNlSW50KHJnYmFbM10sIDEwKSAmIDB4ZmY7XG4gICAgICAgICAgICByZXR1cm4gKGEgPDwgMjQpICsgKHIgPDwgMTYpICsgKGcgPDwgOCkgKyBiO1xuICAgICAgICB9XG4gICAgICAgIC8vIGhleCAtPiBudW1iZXJcbiAgICAgICAgdmFyIGhleFJlID0gL14jKFswLTlhLWZdezJ9KShbMC05YS1mXXsyfSkoWzAtOWEtZl17Mn0pJC9pO1xuICAgICAgICB2YXIgaGV4ID0gaGV4UmUuZXhlYyhjb2xvcik7XG4gICAgICAgIGlmIChoZXgpIHtcbiAgICAgICAgICAgIHZhciByID0gcGFyc2VJbnQoaGV4WzFdLCAxNikgJiAweGZmO1xuICAgICAgICAgICAgdmFyIGcgPSBwYXJzZUludChoZXhbMl0sIDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICB2YXIgYiA9IHBhcnNlSW50KGhleFszXSwgMTYpICYgMHhmZjtcbiAgICAgICAgICAgIHJldHVybiAoMjU1IDw8IDI0KSArIChyIDw8IDE2KSArIChnIDw8IDgpICsgYjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgcGFyc2UgY29sb3IgXFxcIlwiLmNvbmNhdChjb2xvciwgXCJcXFwiXCIpKTtcbiAgICB9O1xuICAgIHJldHVybiBWYWx1ZVRyYW5zZm9ybXM7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gVmFsdWVUcmFuc2Zvcm1zO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vU3RvcmFnZU1hbmFnZXJcIikpO1xudmFyIFZhbHVlVHJhbnNmb3Jtc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1ZhbHVlVHJhbnNmb3Jtc1wiKSk7XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4vLyB0cmFuc2Zvcm1zIHRoZSBzZXJ2ZXIgcmVzcG9uc2UgdG8gdGhlIGZvcm1hdCBleHBlY3RlZCBieSBzZXRWYXJzXG4vLyAtIGxvd2VyY2FzZSBraW5kc1xuLy8gLSBhY3Rpb25zIGFzIGVtcHR5IHN0cmluZ3NcbmZ1bmN0aW9uIHRvU2V0VmFyc0Zvcm1hdChvKSB7XG4gICAgaWYgKCFvKVxuICAgICAgICByZXR1cm4gbztcbiAgICByZXR1cm4gT2JqZWN0LmtleXMobykucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGFjdGlvbikge1xuICAgICAgICBhY2NbYWN0aW9uXSA9IF9fYXNzaWduKHt9LCBvW2FjdGlvbl0pO1xuICAgICAgICB2YXIga2luZHMgPSBvW2FjdGlvbl0ua2luZHM7XG4gICAgICAgIGlmIChraW5kcykge1xuICAgICAgICAgICAgYWNjW2FjdGlvbl0ua2luZHMgPSBPYmplY3Qua2V5cyhraW5kcylcbiAgICAgICAgICAgICAgICAucmVkdWNlKGZ1bmN0aW9uIChrLCBreCkge1xuICAgICAgICAgICAgICAgIHZhciBraW5kID0ga2luZHNba3hdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAga1treF0gPSBraW5kO1xuICAgICAgICAgICAgICAgIGlmIChraW5kID09PSAnYWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBhY2NbYWN0aW9uXS52YWx1ZXNba3hdID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBrO1xuICAgICAgICAgICAgfSwge30pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufVxudmFyIFZhckNhY2hlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZhckNhY2hlKGNyZWF0ZVJlcXVlc3QpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdDtcbiAgICAgICAgdGhpcy5hY3Rpb25EZWZpbml0aW9ucyA9IHt9O1xuICAgICAgICB0aGlzLmhhc1JlY2VpdmVkRGlmZnMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tZXJnZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudmFyaWFibGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy52YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMgPSBbXTtcbiAgICAgICAgdGhpcy52YXJpYW50RGVidWdJbmZvID0ge307XG4gICAgICAgIHRoaXMuZGlmZnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudG9rZW4gPSAnJztcbiAgICAgICAgdGhpcy52YXJpYW50cyA9IFtdO1xuICAgIH1cbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuYXBwbHlEaWZmcyA9IGZ1bmN0aW9uIChkaWZmcywgdmFyaWFudHMsIGFjdGlvbkRlZmluaXRpb25zKSB7XG4gICAgICAgIHRoaXMuZGlmZnMgPSBkaWZmcztcbiAgICAgICAgdGhpcy52YXJpYW50cyA9IHZhcmlhbnRzO1xuICAgICAgICB0aGlzLmFjdGlvbkRlZmluaXRpb25zID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuYWN0aW9uRGVmaW5pdGlvbnMpLCB0b1NldFZhcnNGb3JtYXQoYWN0aW9uRGVmaW5pdGlvbnMpKTtcbiAgICAgICAgdGhpcy5oYXNSZWNlaXZlZERpZmZzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5tZXJnZWQgPSBtZXJnZUhlbHBlcih0aGlzLnZhcmlhYmxlcywgZGlmZnMpO1xuICAgICAgICB0aGlzLnNhdmVEaWZmcygpO1xuICAgICAgICBpZiAodGhpcy5vblVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5vblVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUubG9hZERpZmZzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5hcHBseURpZmZzKEpTT04ucGFyc2UodGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFCTEVTKSB8fCBudWxsKSwgSlNPTi5wYXJzZSh0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5WQVJJQU5UUykgfHwgbnVsbCksIEpTT04ucGFyc2UodGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuQUNUSU9OX0RFRklOSVRJT05TKSB8fCBudWxsKSk7XG4gICAgICAgICAgICB0aGlzLnRva2VuID0gdGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVE9LRU4pO1xuICAgICAgICAgICAgdGhpcy52YXJpYW50RGVidWdJbmZvID0gdGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFOVF9ERUJVR19JTkZPKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJMZWFucGx1bTogSW52YWxpZCBkaWZmczogXCIuY29uY2F0KGUpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNhdmVEaWZmcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFCTEVTLCBKU09OLnN0cmluZ2lmeSh0aGlzLmRpZmZzIHx8IHt9KSk7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBTlRTLCBKU09OLnN0cmluZ2lmeSh0aGlzLnZhcmlhbnRzIHx8IFtdKSk7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkFDVElPTl9ERUZJTklUSU9OUywgSlNPTi5zdHJpbmdpZnkodGhpcy5hY3Rpb25EZWZpbml0aW9ucyB8fCB7fSkpO1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5WQVJJQU5UX0RFQlVHX0lORk8sIEpTT04uc3RyaW5naWZ5KHRoaXMudmFyaWFudERlYnVnSW5mbyB8fCB7fSkpO1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5UT0tFTiwgdGhpcy50b2tlbik7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuZ2V0VmFyaWFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLmdldFZhcmlhYmxlcygpO1xuICAgICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbYXJnc1tpXV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuZ2V0VmFyaWFibGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXJnZWQgIT09IHVuZGVmaW5lZCA/IHRoaXMubWVyZ2VkIDogdGhpcy52YXJpYWJsZXM7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2V0VmFyaWFibGVzID0gZnVuY3Rpb24gKHZhcmlhYmxlcykge1xuICAgICAgICB0aGlzLnZhcmlhYmxlcyA9IHZhcmlhYmxlcztcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5hZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIGlmICh0aGlzLmhhc1JlY2VpdmVkRGlmZnMpIHtcbiAgICAgICAgICAgIGhhbmRsZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy52YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS50cmlnZ2VyVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyc1tpXSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuZ2V0VmFyaWFudERlYnVnSW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFyaWFudERlYnVnSW5mbztcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zZXRWYXJpYW50RGVidWdJbmZvID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmFyaWFudERlYnVnSW5mbyA9IHZhbHVlO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNlbmRBY3Rpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghT2JqZWN0LmtleXModGhpcy5hY3Rpb25EZWZpbml0aW9ucykubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRWYXJzKChfYSA9IHt9LFxuICAgICAgICAgICAgX2FbQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQUNUSU9OX0RFRklOSVRJT05TXSA9IHRoaXMuYWN0aW9uRGVmaW5pdGlvbnMsXG4gICAgICAgICAgICBfYSkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zZW5kVmFyaWFibGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuc2V0VmFycygoX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW0NvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlZBUklBQkxFU10gPSB0aGlzLnZhcmlhYmxlcyxcbiAgICAgICAgICAgIF9hKSk7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2V0VmFycyA9IGZ1bmN0aW9uIChib2R5KSB7XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpLmJvZHkoSlNPTi5zdHJpbmdpZnkoYm9keSkpO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlNFVF9WQVJTLCBhcmdzLCB7XG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5jbGVhclVzZXJDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpZmZzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnZhcmlhYmxlcyA9IG51bGw7XG4gICAgICAgIHRoaXMudmFyaWFudHMgPSBbXTtcbiAgICAgICAgdGhpcy52YXJpYW50RGVidWdJbmZvID0ge307XG4gICAgICAgIHRoaXMubWVyZ2VkID0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnJlZ2lzdGVyQWN0aW9uRGVmaW5pdGlvbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYWN0aW9uRGVmaW5pdGlvbnNbb3B0aW9ucy5uYW1lXSA9IG9wdGlvbnNUb0RlZmluaXRpb25zKG9wdGlvbnMpO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmxvYWRMb2NhbCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXQoa2V5KTtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zYXZlTG9jYWwgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZShrZXksIHZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiBWYXJDYWNoZTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBWYXJDYWNoZTtcbmZ1bmN0aW9uIGFyZ3VtZW50VHJlZShhcmdzKSB7XG4gICAgcmV0dXJuIGFyZ3MucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHgpIHtcbiAgICAgICAgaWYgKHgudmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgYWNjW3gubmFtZV0gPSBhcmd1bWVudFRyZWUoeC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoeC50eXBlID09PSAnYWN0aW9uJykge1xuICAgICAgICAgICAgYWNjW3gubmFtZV0gPSAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh4LnR5cGUgPT09ICdjb2xvcicpIHtcbiAgICAgICAgICAgIGFjY1t4Lm5hbWVdID0gVmFsdWVUcmFuc2Zvcm1zXzEuZGVmYXVsdC5lbmNvZGVDb2xvcih4LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFjY1t4Lm5hbWVdID0geC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn1cbmZ1bmN0aW9uIGFyZ3VtZW50S2luZHMoYXJncywgcHJlZml4KSB7XG4gICAgaWYgKHByZWZpeCA9PT0gdm9pZCAwKSB7IHByZWZpeCA9ICcnOyB9XG4gICAgcmV0dXJuIGFyZ3MucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgcHJvcE5hbWUgPSBcIlwiLmNvbmNhdChwcmVmaXgpLmNvbmNhdCh4Lm5hbWUpO1xuICAgICAgICBpZiAoeC52YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBhY2MgPSBfX2Fzc2lnbigoX2EgPSB7fSwgX2FbcHJvcE5hbWVdID0gJ2dyb3VwJywgX2EpLCBhcmd1bWVudEtpbmRzKHgudmFsdWUsIFwiXCIuY29uY2F0KHByb3BOYW1lLCBcIi5cIikpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFjY1twcm9wTmFtZV0gPSB4LnR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn1cbmZ1bmN0aW9uIG9wdGlvbnNUb0RlZmluaXRpb25zKG9wdGlvbnMpIHtcbiAgICB2YXIgZGVmaW5pdGlvbnMgPSB7XG4gICAgICAgIGtpbmQ6IG9wdGlvbnMua2luZCB8fCAzLFxuICAgICAgICBvcHRpb25zOiBudWxsLFxuICAgICAgICB2YWx1ZXM6IGFyZ3VtZW50VHJlZShvcHRpb25zLmFyZ3MpLFxuICAgICAgICBraW5kczogYXJndW1lbnRLaW5kcyhvcHRpb25zLmFyZ3MpLFxuICAgIH07XG4gICAgcmV0dXJuIGRlZmluaXRpb25zO1xufVxuZnVuY3Rpb24gbWVyZ2VIZWxwZXIodmFycywgZGlmZikge1xuICAgIGlmICh0eXBlb2YgZGlmZiA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGRpZmYgPT09ICdib29sZWFuJyB8fCB0eXBlb2YgZGlmZiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgfVxuICAgIGlmIChkaWZmID09PSBudWxsIHx8IGRpZmYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdmFycztcbiAgICB9XG4gICAgdmFyIG9iakl0ZXJhdG9yID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gaXRlcmF0ZShmKSB7XG4gICAgICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBmKG9ialtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBzZWVtcyB0byBiZSBiZXN0IHByYWN0aWNlOiBodHRwczovL2dpdGh1Yi5jb20vZXNsaW50L2VzbGludC9pc3N1ZXMvNzA3MVxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXJlZmxlY3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwob2JqLCBhdHRyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZihhdHRyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHZhciB2YXJzSXRlcmF0b3IgPSBvYmpJdGVyYXRvcih2YXJzKTtcbiAgICB2YXIgZGlmZkl0ZXJhdG9yID0gb2JqSXRlcmF0b3IoZGlmZik7XG4gICAgLy8gSW5mZXIgdGhhdCB0aGUgZGlmZnMgaXMgYW4gYXJyYXkgaWYgdGhlIHZhcnMgdmFsdWUgZG9lc24ndCBleGlzdCB0byB0ZWxsIHVzIHRoZSB0eXBlLlxuICAgIHZhciBpc0FycmF5ID0gZmFsc2U7XG4gICAgaWYgKHZhcnMgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKCEoZGlmZiBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgICAgaXNBcnJheSA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKHZhciBhdHRyaWJ1dGUgaW4gZGlmZikge1xuICAgICAgICAgICAgICAgIGlmICghZGlmZi5oYXNPd25Qcm9wZXJ0eShhdHRyaWJ1dGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNBcnJheSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpc0FycmF5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCEodHlwZW9mIGF0dHJpYnV0ZSA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUubGVuZ3RoIDwgMyB8fCBhdHRyaWJ1dGUuY2hhckF0KDApICE9PSAnWycgfHxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLmNoYXJBdChhdHRyaWJ1dGUubGVuZ3RoIC0gMSkgIT09ICddJykge1xuICAgICAgICAgICAgICAgICAgICBpc0FycmF5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBNZXJnZSBhcnJheXMuXG4gICAgaWYgKHZhcnMgaW5zdGFuY2VvZiBBcnJheSB8fCBpc0FycmF5KSB7XG4gICAgICAgIHZhciBtZXJnZWRfMSA9IFtdO1xuICAgICAgICB2YXJzSXRlcmF0b3IoZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgICAgICAgIG1lcmdlZF8xLnB1c2goYXR0cik7XG4gICAgICAgIH0pO1xuICAgICAgICBkaWZmSXRlcmF0b3IoZnVuY3Rpb24gKHZhclN1YnNjcmlwdCkge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdCA9IHBhcnNlSW50KHZhclN1YnNjcmlwdC5zdWJzdHJpbmcoMSwgdmFyU3Vic2NyaXB0Lmxlbmd0aCAtIDEpKTtcbiAgICAgICAgICAgIHZhciBkaWZmVmFsdWUgPSBkaWZmW3ZhclN1YnNjcmlwdF07XG4gICAgICAgICAgICB3aGlsZSAoc3Vic2NyaXB0ID49IG1lcmdlZF8xLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIG1lcmdlZF8xLnB1c2gobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXJnZWRfMVtzdWJzY3JpcHRdID0gbWVyZ2VIZWxwZXIobWVyZ2VkXzFbc3Vic2NyaXB0XSwgZGlmZlZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtZXJnZWRfMTtcbiAgICB9XG4gICAgLy8gTWVyZ2UgZGljdGlvbmFyaWVzLlxuICAgIHZhciBtZXJnZWQgPSB7fTtcbiAgICB2YXJzSXRlcmF0b3IoZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgICAgaWYgKGRpZmZbYXR0cl0gPT09IG51bGwgfHwgZGlmZlthdHRyXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBtZXJnZWRbYXR0cl0gPSB2YXJzW2F0dHJdO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgZGlmZkl0ZXJhdG9yKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAgIG1lcmdlZFthdHRyXSA9IG1lcmdlSGVscGVyKHZhcnMgPT09IG51bGwgPyBudWxsIDogdmFyc1thdHRyXSB8fCB7fSwgZGlmZlthdHRyXSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG1lcmdlZDtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXMgKi9cbnZhciBMZWFucGx1bSA9IHJlcXVpcmUoJy4uL0xlYW5wbHVtLnRzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IExlYW5wbHVtLmRlZmF1bHQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTWlncmF0aW9uU3RhdGUgPSB2b2lkIDA7XG52YXIgTWlncmF0aW9uU3RhdGU7XG4oZnVuY3Rpb24gKE1pZ3JhdGlvblN0YXRlKSB7XG4gICAgTWlncmF0aW9uU3RhdGVbXCJVTktOT1dOXCJdID0gXCJ1bmtub3duXCI7XG4gICAgTWlncmF0aW9uU3RhdGVbXCJMRUFOUExVTVwiXSA9IFwibHBcIjtcbiAgICBNaWdyYXRpb25TdGF0ZVtcIkRVUExJQ0FURVwiXSA9IFwibHArY3RcIjtcbiAgICBNaWdyYXRpb25TdGF0ZVtcIkNMRVZFUlRBUFwiXSA9IFwiY3RcIjtcbn0pKE1pZ3JhdGlvblN0YXRlID0gZXhwb3J0cy5NaWdyYXRpb25TdGF0ZSB8fCAoZXhwb3J0cy5NaWdyYXRpb25TdGF0ZSA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTWVzc2FnZUtpbmQgPSBleHBvcnRzLkFjdGlvblBhcmFtZXRlclR5cGUgPSB2b2lkIDA7XG52YXIgQWN0aW9uUGFyYW1ldGVyVHlwZTtcbihmdW5jdGlvbiAoQWN0aW9uUGFyYW1ldGVyVHlwZSkge1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJJbnRlZ2VyXCJdID0gXCJpbnRlZ2VyXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkNvbG9yXCJdID0gXCJjb2xvclwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJGbG9hdFwiXSA9IFwiZmxvYXRcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiRGVjaW1hbFwiXSA9IFwiZGVjaW1hbFwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJOdW1iZXJcIl0gPSBcIm51bWJlclwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJCb29sZWFuXCJdID0gXCJib29sXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIlN0cmluZ1wiXSA9IFwic3RyaW5nXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIlRleHRcIl0gPSBcInRleHRcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiSFRNTFwiXSA9IFwiaHRtbFwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJGaWxlXCJdID0gXCJmaWxlXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkxpc3RcIl0gPSBcImxpc3RcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiR3JvdXBcIl0gPSBcImdyb3VwXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkFjdGlvblwiXSA9IFwiYWN0aW9uXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIlVua25vd25cIl0gPSBcIlwiO1xufSkoQWN0aW9uUGFyYW1ldGVyVHlwZSA9IGV4cG9ydHMuQWN0aW9uUGFyYW1ldGVyVHlwZSB8fCAoZXhwb3J0cy5BY3Rpb25QYXJhbWV0ZXJUeXBlID0ge30pKTtcbjtcbnZhciBNZXNzYWdlS2luZDtcbihmdW5jdGlvbiAoTWVzc2FnZUtpbmQpIHtcbiAgICBNZXNzYWdlS2luZFtNZXNzYWdlS2luZFtcIkFjdGlvblwiXSA9IDJdID0gXCJBY3Rpb25cIjtcbiAgICBNZXNzYWdlS2luZFtNZXNzYWdlS2luZFtcIlRlbXBsYXRlXCJdID0gM10gPSBcIlRlbXBsYXRlXCI7XG59KShNZXNzYWdlS2luZCA9IGV4cG9ydHMuTWVzc2FnZUtpbmQgfHwgKGV4cG9ydHMuTWVzc2FnZUtpbmQgPSB7fSkpO1xuO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0bG9hZGVkOiBmYWxzZSxcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5tZCA9IChtb2R1bGUpID0+IHtcblx0bW9kdWxlLnBhdGhzID0gW107XG5cdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0cmV0dXJuIG1vZHVsZTtcbn07IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgwNCk7XG4iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsIl90eXBlb2YiLCJvYmoiLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwiX2NyZWF0ZUNsYXNzIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2RlZmluZVByb3BlcnR5IiwidmFsdWUiLCJvd25LZXlzIiwib2JqZWN0IiwiZW51bWVyYWJsZU9ubHkiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsImZpbHRlciIsInN5bSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQyIiwiYXJndW1lbnRzIiwic291cmNlIiwiZm9yRWFjaCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwiX3NldFByb3RvdHlwZU9mIiwiX2dldFByb3RvdHlwZU9mIiwibyIsInNldFByb3RvdHlwZU9mIiwiZ2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJwIiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJzaGFtIiwiUHJveHkiLCJEYXRlIiwidG9TdHJpbmciLCJjYWxsIiwiZSIsIl9jb25zdHJ1Y3QiLCJQYXJlbnQiLCJhcmdzIiwiQ2xhc3MiLCJhIiwiRnVuY3Rpb24iLCJiaW5kIiwiX3dyYXBOYXRpdmVTdXBlciIsIl9jYWNoZSIsIk1hcCIsInVuZGVmaW5lZCIsImZuIiwiaW5kZXhPZiIsImhhcyIsImdldCIsInNldCIsIldyYXBwZXIiLCJ0aGlzIiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsIlJlZmVyZW5jZUVycm9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfY3JlYXRlU3VwZXIiLCJEZXJpdmVkIiwiaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsInJlc3VsdCIsIlN1cGVyIiwiTmV3VGFyZ2V0IiwiX2FycmF5TGlrZVRvQXJyYXkiLCJhcnIiLCJsZW4iLCJhcnIyIiwiQXJyYXkiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsImFsbG93QXJyYXlMaWtlIiwiaXQiLCJpc0FycmF5IiwibWluTGVuIiwibiIsInNsaWNlIiwibmFtZSIsImZyb20iLCJ0ZXN0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiRiIsInMiLCJkb25lIiwiZiIsImVyciIsIm5vcm1hbENvbXBsZXRpb24iLCJkaWRFcnIiLCJzdGVwIiwibmV4dCIsInJldHVybiIsImlkIiwiX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkiLCJfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UiLCJyZWNlaXZlciIsInByaXZhdGVLZXkiLCJoYXNPd25Qcm9wZXJ0eSIsIl9nbG9iYWxDaGFyZ2VkSWQiLCJUQVJHRVRfRE9NQUlOIiwiVEFSR0VUX1BST1RPQ09MIiwiX2FjY291bnRJZCIsIl9yZWdpb24iLCJfdGFyZ2V0RG9tYWluIiwiX2RjU2RrdmVyc2lvbiIsIkFjY291bnQiLCJyZWdpb24iLCJ0YXJnZXREb21haW4iLCJhY2NvdW50SWQiLCJkY1NES1ZlcnNpb24iLCJjb25jYXQiLCJmaW5hbFRhcmdldERvbWFpbiIsInVuc3VwcG9ydGVkS2V5Q2hhclJlZ2V4IiwiUmVnRXhwIiwidW5zdXBwb3J0ZWRWYWx1ZUNoYXJSZWdleCIsInNpbmdsZVF1b3RlUmVnZXgiLCJDTEVBUiIsIkNIQVJHRURfSUQiLCJDSEFSR0VESURfQ09PS0lFX05BTUUiLCJHQ09PS0lFX05BTUUiLCJLQ09PS0lFX05BTUUiLCJDQU1QX0NPT0tJRV9OQU1FIiwiRVZfQ09PS0lFIiwiTUVUQV9DT09LSUUiLCJQUl9DT09LSUUiLCJBUlBfQ09PS0lFIiwiTENPT0tJRV9OQU1FIiwiR0xPQkFMIiwiRElTUExBWSIsIk9QVE9VVF9LRVkiLCJVU0VJUF9LRVkiLCJMUlVfQ0FDSEUiLCJJU19PVUwiLCJFVlRfUFVTSCIsIkNPT0tJRV9FWFBJUlkiLCJHUk9VUF9TVUJTQ1JJUFRJT05fUkVRVUVTVF9JRCIsImNhdGVnb3J5TG9uZ0tleSIsIldaUktfUFJFRklYIiwiV1pSS19JRCIsIk5PVElGSUNBVElPTl9WSUVXRUQiLCJOT1RJRklDQVRJT05fQ0xJQ0tFRCIsIkZJUkVfUFVTSF9VTlJFR0lTVEVSRUQiLCJQVVNIX1NVQlNDUklQVElPTl9EQVRBIiwiQ09NTUFORF9JTkNSRU1FTlQiLCJDT01NQU5EX0RFQ1JFTUVOVCIsIkNPTU1BTkRfU0VUIiwiQ09NTUFORF9BREQiLCJDT01NQU5EX1JFTU9WRSIsIkNPTU1BTkRfREVMRVRFIiwiU1lTVEVNX0VWRU5UUyIsImlzU3RyaW5nIiwiaW5wdXQiLCJTdHJpbmciLCJpc09iamVjdCIsImlzRGF0ZU9iamVjdCIsImlzT2JqZWN0RW1wdHkiLCJwcm9wIiwiaXNDb252ZXJ0aWJsZVRvTnVtYmVyIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiaXNGaW5pdGUiLCJpc051bWJlciIsImlzVmFsdWVWYWxpZCIsInJlbW92ZVVuc3VwcG9ydGVkQ2hhcnMiLCJsb2dnZXIiLCJ2YWwiLCJzYW5pdGl6ZSIsInN1YnN0cmluZyIsInJlcG9ydEVycm9yIiwic2FuaXRpemVkVmFsIiwic2FuaXRpemVkS2V5IiwicmVnZXgiLCJyZXBsYWNlIiwiZ2V0VG9kYXkiLCJ0b2RheSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXkiLCJnZXROb3ciLCJNYXRoIiwiZmxvb3IiLCJnZXRUaW1lIiwiY29udmVydFRvV1pSS0RhdGUiLCJkYXRlT2JqIiwicm91bmQiLCJzZXREYXRlIiwiZHQiLCJpc0RhdGVWYWxpZCIsImRhdGUiLCJtYXRjaGVzIiwiZXhlYyIsImQiLCJtIiwieSIsImNvbXBvc2VkRGF0ZSIsImdldERhdGUiLCJTdG9yYWdlTWFuYWdlciIsIl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsImdldEl0ZW0iLCJwYXJzZSIsInJlbW92ZUl0ZW0iLCJkb21haW4iLCJjb29raWVTdHIiLCJkb2N1bWVudCIsImNvb2tpZSIsInNlY29uZHMiLCJleHBpcmVzIiwiZG9tYWluU3RyIiwic2V0VGltZSIsInRvR01UU3RyaW5nIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwibmFtZUVRIiwiY2EiLCJzcGxpdCIsImlkeCIsImMiLCJjaGFyQXQiLCJkZWNvZGVVUklDb21wb25lbnQiLCJ3aW5kb3ciLCJwcm9wZXJ0eSIsInNhdmUiLCJjcmVhdGVDb29raWUiLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwiJGN0IiwiZ2xvYmFsQ2FjaGUiLCJyZWFkIiwicmVhZENvb2tpZSIsInRyaW0iLCJicm9hZERvbWFpbiIsImRvbWFpblBhcnRzIiwidGVzdEJyb2FkRG9tYWluIiwidGVzdENvb2tpZU5hbWUiLCJyZW1vdmVDb29raWUiLCJtZXRhT2JqIiwicmVhZEZyb21MU29yQ29va2llIiwid3pya01ldGFPYmoiLCJzYXZlVG9MU29yQ29va2llIiwiZ2V0TWV0YVByb3AiLCJzZXRNZXRhUHJvcCIsImsiLCJmbGFnIiwicmVxTm8iLCJiYWNrdXBBcnIiLCJxIiwiZGVidWciLCJyZXNwTm8iLCJiYWNrdXBNYXAiLCJnY29va2llIiwiUkVRX04iLCJSRVNQX04iLCJnbG9iYWxQcm9maWxlTWFwIiwiZ2xvYmFsRXZlbnRzTWFwIiwiYmxvY2tSZXF1ZXN0IiwiaXNPcHRJblJlcXVlc3QiLCJ3ZWJQdXNoRW5hYmxlZCIsImNhbXBhaWduRGl2TWFwIiwiY3VycmVudFNlc3Npb25JZCIsIndpel9jb3VudGVyIiwibm90aWZBcGkiLCJub3RpZkVuYWJsZWRGcm9tQXBpIiwidW5zdWJHcm91cHMiLCJ1cGRhdGVkQ2F0ZWdvcnlMb25nIiwiaXNQcml2YWN5QXJyUHVzaGVkIiwicHJpdmFjeUFycmF5IiwiX2tleU9yZGVyIiwiX2RlbGV0ZUZyb21PYmplY3QiLCJMUlVDYWNoZSIsIm1heCIsIl9kZWxldGVGcm9tT2JqZWN0MiIsImxydUNhY2hlIiwidGVtcExydUNhY2hlIiwiZW50cnkiLCJjYWNoZSIsIml0ZW0iLCJzYXZlQ2FjaGVUb0xTIiwiYWxsS2V5cyIsIm9ialRvQXJyYXkiLCJpbmRleCIsInRlbXAiLCJrZXlzQXJyIiwia2V5c0xlbmd0aCIsImluZGV4VG9EZWxldGUiLCJuZXdDYWNoZSIsInNwbGljZSIsIl9sb2dnZXIiLCJfcmVxdWVzdCIsIl9kZXZpY2UiLCJfc2Vzc2lvbiIsIkNsZXZlclRhcEFQSSIsIl9yZWYiLCJyZXF1ZXN0IiwiZGV2aWNlIiwic2Vzc2lvbiIsImdsb2JhbCIsInJlc3VtZSIsInJlc3BOdW1iZXIiLCJvcHRPdXRSZXNwb25zZSIsInJlbW92ZUJhY2t1cCIsImlzT1VMSW5Qcm9ncmVzcyIsImdldEFuZENsZWFyTWV0YVByb3AiLCJrSWRGcm9tTFMiLCJsYXN0SyIsImdldFNlY29uZExhc3RLZXkiLCJsYXN0R1VJRCIsInVucmVnaXN0ZXJUb2tlbkZvckd1aWQiLCJjcmVhdGVCcm9hZENvb2tpZSIsIm1hbmFnZVNlc3Npb24iLCJnZXRTZXNzaW9uQ29va2llT2JqZWN0IiwidCIsInNldFNlc3Npb25Db29raWVPYmplY3QiLCJwcm9jZXNzaW5nQmFja3VwIiwicHJvY2Vzc0JhY2t1cEV2ZW50cyIsIl9sb2dnZXIkMSIsIkRldmljZU1hbmFnZXIiLCJnZXRHdWlkIiwiZ3VpZCIsImVycm9yIiwiREFUQV9OT1RfU0VOVF9URVhUIiwiQ0xFVkVSVEFQX0VSUk9SX1BSRUZJWCIsIkVNQkVEX0VSUk9SIiwiRVZFTlRfRVJST1IiLCJHRU5ERVJfRVJST1IiLCJFTVBMT1lFRF9FUlJPUiIsIk1BUlJJRURfRVJST1IiLCJFRFVDQVRJT05fRVJST1IiLCJBR0VfRVJST1IiLCJET0JfRVJST1IiLCJFTlVNX0ZPUk1BVF9FUlJPUiIsIlBIT05FX0ZPUk1BVF9FUlJPUiIsImlzRXZlbnRTdHJ1Y3R1cmVGbGF0IiwiZXZlbnRPYmoiLCJpc0NoYXJnZWRFdmVudFN0cnVjdHVyZVZhbGlkIiwiY2hhcmdlZE9iaiIsIml0ZW1LZXkiLCJjaGFyZ2VkSWQiLCJfbG9nZ2VyJDIiLCJfb2xkVmFsdWVzIiwiX3JlcXVlc3QkMSIsIl9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSIsIl9wcm9jZXNzRXZlbnRBcnJheSIsIkV2ZW50SGFuZGxlciIsIl9BcnJheSIsIl9zdXBlciIsInZhbHVlcyIsIl90aGlzIiwiaXNQZXJzb25hbGlzYXRpb25BY3RpdmUiLCJfcHJvY2Vzc0V2ZW50QXJyYXkyIiwiX2xlbiIsImV2ZW50c0FyciIsIl9rZXkiLCJldnROYW1lIiwiZXZ0T2JqIiwicmVzcE9iaiIsImZpcnN0VGltZSIsImxhc3RUaW1lIiwiY291bnQiLCJldmVudE5hbWUiLCJzaGlmdCIsImluY2x1ZGVzIiwiZXZ0RGF0YSIsInVuc2hpZnQiLCJwcm9jZXNzRXZlbnQiLCJnZXRVUkxQYXJhbXMiLCJ1cmwiLCJ1cmxQYXJhbXMiLCJtYXRjaCIsInVyaSIsInBsIiwic2VhcmNoIiwiZGVjb2RlIiwicmVwbGFjZW1lbnQiLCJhZGRUb1VSTCIsInYiLCJnZXRIb3N0TmFtZSIsImNvbXByZXNzRGF0YSIsImRhdGFPYmplY3QiLCJjb21wcmVzc1RvQmFzZTY0IiwiX2tleVN0ciIsImZyb21DaGFyQ29kZSIsImdldEtleVN0ciIsImNocjEiLCJjaHIyIiwiY2hyMyIsImVuYzEiLCJlbmMyIiwiZW5jMyIsImVuYzQiLCJvdXRwdXQiLCJ1bmNvbXByZXNzZWQiLCJpaSIsImNvbnRleHRfZGljdGlvbmFyeSIsImNvbnRleHRfZGljdGlvbmFyeVRvQ3JlYXRlIiwiY29udGV4dF9jIiwiY29udGV4dF93YyIsImNvbnRleHRfdyIsImNvbnRleHRfZW5sYXJnZUluIiwiY29udGV4dF9kaWN0U2l6ZSIsImNvbnRleHRfbnVtQml0cyIsImNvbnRleHRfZGF0YV9zdHJpbmciLCJjb250ZXh0X2RhdGFfdmFsIiwiY29udGV4dF9kYXRhX3Bvc2l0aW9uIiwiY2hhckNvZGVBdCIsInBvdyIsImNvbXByZXNzIiwiTmFOIiwiX2ZpcmVSZXF1ZXN0IiwiX2Ryb3BSZXF1ZXN0RHVlVG9PcHRPdXQiLCJfYWRkVXNlSVBUb1JlcXVlc3QiLCJfYWRkQVJQVG9SZXF1ZXN0IiwiUmVxdWVzdERpc3BhdGNoZXIiLCJza2lwQVJQIiwic2VuZE9VTEZsYWciLCJ0cmllcyIsIl93aW5kb3ckY2xldmVydGFwIiwiX3dpbmRvdyR3aXpyb2NrZXQiLCJzZXRUaW1lb3V0IiwiY2xldmVydGFwIiwid2l6cm9ja2V0IiwicGx1Z2luIiwiY3RDYlNjcmlwdHMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImFzeW5jIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJhcHBlbmRDaGlsZCIsInBhZ2VMb2FkVXJsIiwidXNlSVAiLCJza2lwUmVzQVJQIiwiX2FycCIsImdldENhbXBhaWduT2JqZWN0IiwiY2FtcE9iaiIsInNhdmVDYW1wYWlnbk9iamVjdCIsImNhbXBhaWduT2JqIiwiZ2V0Q2FtcGFpZ25PYmpGb3JMYyIsInJlc3VsdE9iaiIsImdsb2JhbE9iaiIsImRhaWx5T2JqIiwiY2FtcGFpZ25JZEFycmF5IiwiZGFpbHlDIiwidG90YWxDIiwiY2FtcGFpZ25JZCIsImVsZW1lbnQiLCJ0b2RheUMiLCJ0YyIsIndtcCIsInRsYyIsImlzUHJvZmlsZVZhbGlkIiwicHJvZmlsZU9iaiIsInZhbGlkIiwicHJvZmlsZUtleSIsInByb2ZpbGVWYWwiLCJBZ2UiLCJQaG9uZSIsInByb2Nlc3NGQlVzZXJPYmoiLCJ1c2VyIiwicHJvZmlsZURhdGEiLCJOYW1lIiwiRkJJRCIsImdlbmRlciIsIkdlbmRlciIsInJlbGF0aW9uc2hpcF9zdGF0dXMiLCJNYXJyaWVkIiwiZWR1IiwiZWR1QXJyIiwiY29sbGVnZSIsImhpZ2hzY2hvb2wiLCJfZWR1IiwidHlwZSIsImdldEhpZ2hlc3RFZHVjYXRpb24iLCJlZHVjYXRpb24iLCJFZHVjYXRpb24iLCJ3b3JrIiwiRW1wbG95ZWQiLCJlbWFpbCIsIkVtYWlsIiwiYmlydGhkYXkiLCJtbWRkeXkiLCJET0IiLCJwcm9jZXNzR1BsdXNVc2VyT2JqIiwiX3JlZjIiLCJkaXNwbGF5TmFtZSIsIkdQSUQiLCJpbWFnZSIsImlzRGVmYXVsdCIsIlBob3RvIiwiZW1haWxzIiwiZW1haWxJZHgiLCJlbWFpbE9iaiIsIm9yZ2FuaXphdGlvbnMiLCJ5eXl5bW1kZCIsInJlbGF0aW9uc2hpcFN0YXR1cyIsImFkZFRvTG9jYWxQcm9maWxlTWFwIiwib3ZlcnJpZGUiLCJfY3VzdG9tIiwiY2xvc2VJZnJhbWUiLCJkaXZJZElnbm9yZWQiLCJzZXNzaW9uQ2FtcGFpZ25PYmoiLCJkaXZJZCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJkaXNwbGF5Iiwic2V0RW51bSIsImVudW1WYWwiLCJoYW5kbGVFbWFpbFN1YnNjcmlwdGlvbiIsInN1YnNjcmlwdGlvbiIsInJlRW5jb2RlZCIsImZldGNoR3JvdXBzIiwiYWNjb3VudCIsInVybFBhcmFtc0FzSXMiLCJocmVmIiwiZW5jb2RlZEVtYWlsSWQiLCJlbmNvZGVkUHJvZmlsZVByb3BzIiwiZW1haWxVUkwiLCJmaXJlUmVxdWVzdCIsIl9sb2dnZXIkMyIsIl9yZXF1ZXN0JDIiLCJfYWNjb3VudCIsIl9vbGRWYWx1ZXMkMSIsIl9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQxIiwiX3Byb2Nlc3NQcm9maWxlQXJyYXkiLCJQcm9maWxlSGFuZGxlciIsIl9wcm9jZXNzUHJvZmlsZUFycmF5MiIsInByb2ZpbGVzQXJyIiwicHJvcE5hbWUiLCJjb21tYW5kIiwiXyRjdCRnbG9iYWxQcm9maWxlTWFwIiwiY29uc29sZSIsInR6IiwicHJvZmlsZSIsImFkZFN5c3RlbURhdGFUb1Byb2ZpbGVPYmplY3QiLCJhZGRGbGFncyIsImNvbXByZXNzZWREYXRhIiwiZGF0YVBvc3RVUkwiLCJzYXZlQW5kRmlyZVJlcXVlc3QiLCJhcnJheVZhbCIsImFycmF5IiwidG9Mb3dlckNhc2UiLCJzZW5kTXVsdGlWYWx1ZURhdGEiLCJwcm9wS2V5IiwicHJvcFZhbCIsInByb2ZpbGVBcnIiLCJvdXRlck9iaiIsIlNpdGUiLCJGYWNlYm9vayIsIkZiUHJvZmlsZU9iaiIsIkdQbHVzUHJvZmlsZU9iaiIsImFkZFN5c3RlbURhdGFUb09iamVjdCIsIl9yZXF1ZXN0JDMiLCJfbG9nZ2VyJDQiLCJfYWNjb3VudCQxIiwiX3Nlc3Npb24kMSIsIl9vbGRWYWx1ZXMkMiIsIl9kZXZpY2UkMSIsIl9wcm9jZXNzT1VMIiwiX2hhbmRsZUNvb2tpZUZyb21DYWNoZSIsIl9kZWxldGVVc2VyIiwiX3Byb2Nlc3NMb2dpbkFycmF5IiwiVXNlckxvZ2luSGFuZGxlciIsIl9wcm9jZXNzTG9naW5BcnJheTIiLCJfZGVsZXRlVXNlcjIiLCJfaGFuZGxlQ29va2llRnJvbUNhY2hlMiIsIl9wcm9jZXNzT1VMMiIsIl90aGlzMiIsImFkZFRvSyIsImlkcyIsImtJZCIsImciLCJhbm9ueW1vdXNVc2VyIiwiZm91bmRJbkNhY2hlIiwiZ2V0TGFzdEtleSIsImdGcm9tQ2FjaGUiLCJjbGVhciIsIklkZW50aXR5IiwiY29va2llTmFtZSIsImxvZ2luQXJyIiwicG9wIiwic2V0SW5zdGFudERlbGV0ZUZsYWdJbksiLCJDVFdlYlBlcnNvbmFsaXNhdGlvbkJhbm5lciIsIl9IVE1MRWxlbWVudCIsIl9kZXRhaWxzIiwic2hhZG93IiwiYXR0YWNoU2hhZG93IiwibW9kZSIsImlubmVySFRNTCIsImdldEJhbm5lckNvbnRlbnQiLCJ0cmFja0NsaWNrIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uQ2xpY2tVcmwiLCJkZXRhaWxzIiwib25DbGljayIsIm9wZW4iLCJwYXJlbnQiLCJyZW5kZXJOb3RpZmljYXRpb25DbGlja2VkIiwibXNnSWQiLCJwaXZvdElkIiwicmVuZGVyTm90aWZpY2F0aW9uVmlld2VkIiwiZGl2SGVpZ2h0IiwiY3NzIiwiZGVza3RvcEltYWdlVVJMIiwibW9iaWxlSW1hZ2VVUkwiLCJodG1sIiwicmVuZGVyQmFubmVyIiwiSFRNTEVsZW1lbnQiLCJDVFdlYlBlcnNvbmFsaXNhdGlvbkNhcm91c2VsIiwiX3RhcmdldCIsIl9jYXJvdXNlbCIsInNsaWRlcyIsInByZXZpb3VzbHlTZWxlY3RlZEl0ZW0iLCJzZWxlY3RlZEl0ZW0iLCJhdXRvU2xpZGUiLCJzdG9wQXV0b1NsaWRlVGltZW91dCIsImN1c3RvbUVsZW1lbnRzIiwiZ2V0U3R5bGVzIiwiY2Fyb3VzZWwiLCJnZXRDYXJvdXNlbENvbnRlbnQiLCJzaG93TmF2QnRucyIsImluc2VydEFkamFjZW50SFRNTCIsIm5hdkJ0bnNIdG1sIiwic2hvd05hdkFycm93cyIsImxlZnROYXZBcnJvd0h0bWwiLCJyaWdodE5hdkFycm93SHRtbCIsInNldHVwQ2xpY2siLCJ1cGRhdGVTZWxlY3RlZEl0ZW0iLCJzdGFydEF1dG9TbGlkZSIsInNldHVwT25Ib3ZlciIsInd6cmtfaWQiLCJ3enJrX3Bpdm90IiwiZXZlbnQiLCJldmVudElEIiwic3RhcnRzV2l0aCIsInNlbGVjdGVkIiwiZW5kc1dpdGgiLCJnb1RvTmV4dCIsImdvVG9QcmV2Iiwid3pya19zbGlkZU5vIiwiX3RoaXMzIiwiY2xlYXJJbnRlcnZhbCIsImNsZWFyVGltZW91dCIsImRldGFpbCIsImJhbm5lciIsImNsYXNzTGlzdCIsImFkZCIsIm5hdkJ0bnNDc3MiLCJuYXZBcnJvd3NDc3MiLCJwcmV2SXRlbSIsInByZXZCdXR0b24iLCJyZW1vdmUiLCJidXR0b24iLCJfdGhpczQiLCJzZXRJbnRlcnZhbCIsInNsaWRlclRpbWUiLCJnb1RvIiwicHJldiIsImN1ciIsInJlbmRlckNhcm91c2VsIiwiX3RyIiwibXNnIiwiZXhpdGludGVudE9iaiIsImlzV2ViUG9wVXBTcGFtQ29udHJvbERpc2FibGVkIiwiX3dpekNvdW50ZXIiLCJkb0NhbXBIb3VzZUtlZXBpbmciLCJ0YXJnZXRpbmdNc2dKc29uIiwiaW5jckNvdW50IiwiZXhjbHVkZUZyb21GcmVxQ2FwcyIsImN1cnJlbnRDb3VudCIsInRvdGFsQ291bnQiLCJzZXNzaW9uU3RvcmFnZSIsIndtYyIsImNhbXBhaWduU2Vzc2lvbkxpbWl0IiwiY2FtcGFpZ25EYWlseUxpbWl0IiwiY2FtcGFpZ25Ub3RhbExpbWl0IiwidG90YWxEYWlseUxpbWl0IiwidG90YWxTZXNzaW9uTGltaXQiLCJlZmMiLCJwYXJzZUludCIsIm1kYyIsInRkYyIsIl9zZXNzaW9uT2JqIiwic2Vzc2lvbklkIiwiY2FtcGFpZ25TZXNzaW9uQ291bnQiLCJ0b3RhbFNlc3Npb25Db3VudCIsImNhbXBhaWduRGFpbHlDb3VudCIsInRvdGFsRGFpbHlDb3VudCIsImNhbXBhaWduVG90YWxDb3VudCIsImRlbGF5Iiwic2Vzc2lvbk9iaiIsIm5ld0NhbXBPYmoiLCJnZXRDb29raWVQYXJhbXMiLCJzY29va2llT2JqIiwiaW52b2tlRXh0ZXJuYWxKcyIsImpzRnVuYyIsImZ1bmMiLCJrdiIsInNldHVwQ2xpY2tVcmwiLCJjb250ZW50RGl2IiwiaXNMZWdhY3kiLCJpbmNyZW1lbnRJbXByZXNzaW9uIiwiY3RhRWxlbWVudCIsImpzQ1RBRWxlbWVudHMiLCJpc1ByZXZpZXciLCJwcmV2aWV3Iiwib25jbGljayIsInNldHVwQ2xpY2tFdmVudCIsInJlbmRlckZvb3Rlck5vdGlmaWNhdGlvbiIsImRpc3BsYXlPYmoiLCJ3dGFyZ2V0X3R5cGUiLCJtc2dDb250ZW50IiwiaW5hT2JqIiwia3ZQYWlyc0V2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiX2RpdklkIiwiYmFubmVyRWwiLCJjb250YWluZXJFbCIsInJlbmRlclBlcnNvbmFsaXNhdGlvbkJhbm5lciIsIl9kaXZJZDIiLCJjb250YWluZXIiLCJyZW5kZXJQZXJzb25hbGlzYXRpb25DYXJvdXNlbCIsImxheW91dCIsInNob3dFeGl0SW50ZW50IiwiaXNCYW5uZXIiLCJtc2dEaXYiLCJ2aWV3SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJ2aWV3V2lkdGgiLCJpbm5lcldpZHRoIiwibGVnYWN5IiwiaUZyYW1lU3R5bGUiLCJjb250ZW50SGVpZ2h0IiwicmlnaHQiLCJib3R0b21Qb3NpdGlvbiIsIndpZHRoIiwid2lkdGhQZXJjdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInByb3RvIiwiYm9keSIsImlmcmFtZSIsImJvcmRlclJhZGl1cyIsImJyIiwiZnJhbWVib3JkZXIiLCJtYXJnaW5oZWlnaHQiLCJtYXJnaW53aWR0aCIsInNjcm9sbGluZyIsInBvaW50ZXJDc3MiLCJiZ0NvbG9yIiwidGV4dENvbG9yIiwiYnRuQmciLCJsZWZ0VGQiLCJidENvbG9yIiwidGhlbWUiLCJ0aXRsZVRleHQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uVGV4dCIsImRlc2NyaXB0aW9uIiwiaW1hZ2VUZCIsImltYWdlVXJsIiwiZG9jIiwiY29udGVudFdpbmRvdyIsImNvbnRlbnREb2N1bWVudCIsIndyaXRlIiwiYXBwZW5kU2NyaXB0Rm9yQ3VzdG9tRXZlbnQiLCJjbG9zZSIsImFkanVzdElGcmFtZUhlaWdodCIsInNjcm9sbEhlaWdodCIsIm1hcmdpbiIsImhlaWdodCIsInVhIiwib25sb2FkIiwiaW5Eb2MiLCJfdGltZXIiLCJyZWFkeVN0YXRlIiwic2NyaXB0IiwiX2NhbGxCYWNrQ2FsbGVkIiwic2hvd0Zvb3Rlck5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbkNhbGxiYWNrIiwicmFpc2VOb3RpZmljYXRpb25DbGlja2VkIiwicmFpc2VOb3RpZmljYXRpb25WaWV3ZWQiLCJwb3B1cEN1cnJlbnRXenJrSWQiLCJwb3B1cENhbGxiYWNrcyIsInBvcHVwQ2FsbGJhY2siLCJfaW5hT2JqIiwibXNnQ1RrdiIsInd6cmtQcmVmaXhLZXkiLCJ3enJrSnNvbiIsInJhaXNlUG9wdXBOb3RpZmljYXRpb25DbGlja2VkIiwibm90aWZpY2F0aW9uRGF0YSIsImV2ZW50RGF0YSIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwid3pya1ByZWZpeE9iaiIsInRhcmdldE9iaiIsImNsaWVudFkiLCJvcGFjaXR5RGl2IiwiY3RhVGV4dCIsImluYXBwX25vdGlmcyIsInRhcmdldE5vdGlmIiwib25tb3VzZWxlYXZlIiwiZXZwciIsImV2ZW50c01hcCIsImV2ZW50cyIsInByb2ZpbGVNYXAiLCJzeW5jRXhwaXJ5IiwiZXhwaXJlc19pbiIsIm5vdyIsIm5ld0V2dE1hcCIsIm9sZEV2dE9iaiIsIm5ld0V2dE9iaiIsIm1lcmdlRXZlbnRNYXAiLCJhcnAiLCJqc29uTWFwIiwiaXNPVUxBUlAiLCJhcnBGcm9tU3RvcmFnZSIsImluYXBwX3N0YWxlIiwiX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDIiLCJVc2VyIiwidmlzaXRDb3VudCIsInByZXZTZXNzaW9uIiwibG9nTGV2ZWxzIiwiX2xvZ0xldmVsIiwiX2xvZyIsIl9pc0xlZ2FjeURlYnVnIiwiTG9nZ2VyIiwibG9nTGV2ZWwiLCJfZ2V0X2lzTGVnYWN5RGVidWciLCJfbG9nMiIsInd6cmtFcnJvciIsIm1lc3NhZ2UiLCJjb2RlIiwibGV2ZWwiLCJ0cyIsIldaUktfRCIsIl9sb2dnZXIkNSIsIl9zZXNzaW9uSWQiLCJfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMyIsIlNlc3Npb25NYW5hZ2VyIiwic2Nvb2tpZVN0ciIsIlNDT09LSUVfRVhQX1RJTUVfSU5fU0VDUyIsIm9ialN0ciIsImN1cnJlbnRTZXNzaW9uSW5MUyIsInNlc3Npb25Db3VudCIsInNlc3Npb25TdGFydCIsInNlcU5vIiwicmVxdWVzdFRpbWUiLCJfbG9nZ2VyJDYiLCJfYWNjb3VudCQyIiwiX2RldmljZSQyIiwiX3Nlc3Npb24kMiIsIl9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQ0IiwiX2NsZWFyQ29va2llIiwiX2FkZFRvTG9jYWxFdmVudE1hcCIsIlJlcXVlc3RNYW5hZ2VyIiwiX2FkZFRvTG9jYWxFdmVudE1hcDIiLCJiYWNrdXBFdmVudCIsImZpcmVkIiwiaWdub3JlVHJpbSIsInd6cmtfZXJyb3IiLCJwZyIsInJjIiwibGFzdFN5bmNUaW1lIiwiZXhwaXJ5U2Vjb25kcyIsImRzeW5jIiwiZ2l2ZW5HVUlEIiwicGF5bG9hZCIsImFjdGlvbiIsInJlZ2lzdGVyVG9rZW4iLCJub3dUcyIsImV2dERldGFpbCIsIl9yZXF1ZXN0JDQiLCJfYWNjb3VudCQzIiwiX29sZFZhbHVlcyQzIiwiX2xvZ2dlciQ3IiwiX3Byb2Nlc3NQcml2YWN5QXJyYXkiLCJQcml2YWN5IiwiX3Byb2Nlc3NQcml2YWN5QXJyYXkyIiwicHJpdmFjeUFyciIsIl8kY3QkcHJpdmFjeUFycmF5IiwicHJpdmFjeU9iaiIsInJlZHVjZSIsImN1cnIiLCJvcHRPdXQiLCJzaG91bGRVc2VJUCIsIl9vbGRWYWx1ZXMkNCIsIl9sb2dnZXIkOCIsIl9yZXF1ZXN0JDUiLCJfYWNjb3VudCQ0IiwiX3dpekFsZXJ0SlNQYXRoIiwiX2ZjbVB1YmxpY0tleSIsIl9zZXRVcFdlYlB1c2giLCJfc2V0VXBXZWJQdXNoTm90aWZpY2F0aW9ucyIsIl9zZXRBcHBsaWNhdGlvblNlcnZlcktleSIsIl9zZXRVcFNhZmFyaU5vdGlmaWNhdGlvbnMiLCJfc2V0VXBDaHJvbWVGaXJlZm94Tm90aWZpY2F0aW9ucyIsIl9hZGRXaXpBbGVydEpTIiwiX3JlbW92ZVdpekFsZXJ0SlMiLCJfaGFuZGxlTm90aWZpY2F0aW9uUmVnaXN0cmF0aW9uIiwiTm90aWZpY2F0aW9uSGFuZGxlciIsIl9oYW5kbGVOb3RpZmljYXRpb25SZWdpc3RyYXRpb24yIiwiX3JlbW92ZVdpekFsZXJ0SlMyIiwiX2FkZFdpekFsZXJ0SlMyIiwiX3NldFVwQ2hyb21lRmlyZWZveE5vdGlmaWNhdGlvbnMyIiwiX3NldFVwU2FmYXJpTm90aWZpY2F0aW9uczIiLCJfc2V0QXBwbGljYXRpb25TZXJ2ZXJLZXkyIiwiX3NldFVwV2ViUHVzaE5vdGlmaWNhdGlvbnMyIiwiX3NldFVwV2ViUHVzaDIiLCJkaXNwbGF5QXJncyIsImVuYWJsZWQiLCJhcHBsaWNhdGlvblNlcnZlcktleSIsInN1YnNjcmlwdGlvbkNhbGxiYWNrIiwic2VydmljZVdvcmtlclBhdGgiLCJhcG5zV2ViUHVzaElkIiwiYXBuc1NlcnZpY2VVcmwiLCJzYWZhcmkiLCJwdXNoTm90aWZpY2F0aW9uIiwicmVxdWVzdFBlcm1pc3Npb24iLCJwZXJtaXNzaW9uIiwic3Vic2NyaXB0aW9uRGF0YSIsImVuZHBvaW50IiwiZGV2aWNlVG9rZW4iLCJicm93c2VyIiwiaW5mbyIsInJlZ2lzdHJhdGlvblNjb3BlIiwic2VydmljZVdvcmtlciIsInJlZ2lzdGVyIiwidGhlbiIsInJlZ2lzdHJhdGlvbiIsIl9fd3pya19hY2NvdW50X2lkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzY29wZSIsInJlYWR5IiwiZ2V0UmVnaXN0cmF0aW9ucyIsInNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24iLCJzdWJzY3JpYmVPYmoiLCJ1c2VyVmlzaWJsZU9ubHkiLCJiYXNlNjRTdHJpbmciLCJiYXNlNjQiLCJyZXBlYXQiLCJyYXdEYXRhIiwiYXRvYiIsInByb2Nlc3NlZERhdGEiLCJVaW50OEFycmF5IiwidXJsQmFzZTY0VG9VaW50OEFycmF5IiwicHVzaE1hbmFnZXIiLCJzdWJzY3JpYmUiLCJjYXRjaCIsImdldFN1YnNjcmlwdGlvbiIsInVuc3Vic2NyaWJlIiwic3VjY2Vzc2Z1bCIsInNjcmlwdFRhZyIsImJvZHlUZXh0Iiwib2tCdXR0b25UZXh0IiwicmVqZWN0QnV0dG9uVGV4dCIsIm9rQnV0dG9uQ29sb3IiLCJza2lwRGlhbG9nIiwiYXNrQWdhaW5UaW1lSW5TZWNvbmRzIiwib2tDYWxsYmFjayIsInJlamVjdENhbGxiYWNrIiwiaGlkZVBvd2VyZWRCeUNUIiwiaHR0cHNQb3B1cFBhdGgiLCJodHRwc0lmcmFtZVBhdGgiLCJhcG5zV2ViUHVzaFNlcnZpY2VVcmwiLCJub3RpZk9iaiIsImlzSFRUUCIsInByb3RvY29sIiwiY2hyb21lQWdlbnQiLCJmaXJlZm94QWdlbnQiLCJzYWZhcmlBZ2VudCIsIk5vdGlmaWNhdGlvbiIsImh0dHBzSWZyYW1lIiwic3RhdGUiLCJ3enJrUGVybWlzc2lvblBvcHVwIiwid2l6QWxlcnQiLCJjb25maXJtQnV0dG9uVGV4dCIsImNvbmZpcm1CdXR0b25Db2xvciIsIl9sb2dnZXIkOSIsIl9hcGkiLCJfb25sb2FkY2FsbGVkIiwiX2RldmljZSQzIiwiX3Nlc3Npb24kMyIsIl9hY2NvdW50JDUiLCJfcmVxdWVzdCQ2IiwiX2lzU3BhIiwiX3ByZXZpb3VzVXJsIiwiX2JvdW5kQ2hlY2tQYWdlQ2hhbmdlZCIsIl9pc1dlYlBvcFVwU3BhbUNvbnRyb2xEaXNhYmxlZCIsIl9wcm9jZXNzT2xkVmFsdWVzIiwiX2NoZWNrUGFnZUNoYW5nZWQiLCJfcGluZ1JlcXVlc3QiLCJfaXNQaW5nQ29udGludW91cyIsIl9vdmVycmlkZURTeW5jRmxhZyIsIkNsZXZlclRhcCIsIl9jbGV2ZXJ0YXAkYWNjb3VudCIsIl9jbGV2ZXJ0YXAkYWNjb3VudDIiLCJfY2xldmVydGFwJGFjY291bnQzIiwiX2NsZXZlcnRhcCRhY2NvdW50NCIsIl9vdmVycmlkZURTeW5jRmxhZzIiLCJfaXNQaW5nQ29udGludW91czIiLCJfcGluZ1JlcXVlc3QyIiwiX2NoZWNrUGFnZUNoYW5nZWQyIiwiX3Byb2Nlc3NPbGRWYWx1ZXMyIiwiZW5hYmxlUGVyc29uYWxpemF0aW9uIiwib25Vc2VyTG9naW4iLCJwcml2YWN5Iiwibm90aWZpY2F0aW9ucyIsInNwYSIsImRpc21pc3NTcGFtQ29udHJvbCIsImdldFRpbWVFbGFwc2VkIiwiZ2V0UGFnZUNvdW50IiwibG9nb3V0IiwiZ2V0Q2xldmVyVGFwSUQiLCJnZXRBY2NvdW50SUQiLCJnZXRTQ0RvbWFpbiIsInNldFNDU0RLVmVyc2lvbiIsInZlciIsInNjU0RLVmVyc2lvbiIsImFmIiwic2N2IiwicHJvY2Vzc05vdGlmaWNhdGlvbkV2ZW50IiwiZXZlbnREZXRhaWwiLCJzZXRMb2dMZXZlbCIsImwiLCJOdW1iZXIiLCJoYW5kbGVJbmNyZW1lbnRWYWx1ZSIsIl9oYW5kbGVJbmNyZW1lbnREZWNyZW1lbnRWYWx1ZSIsImhhbmRsZURlY3JlbWVudFZhbHVlIiwic2V0TXVsdGlWYWx1ZXNGb3JLZXkiLCJfaGFuZGxlTXVsdGlWYWx1ZVNldCIsImFkZE11bHRpVmFsdWVGb3JLZXkiLCJfaGFuZGxlTXVsdGlWYWx1ZUFkZCIsImFkZE11bHRpVmFsdWVzRm9yS2V5IiwicmVtb3ZlTXVsdGlWYWx1ZUZvcktleSIsIl9oYW5kbGVNdWx0aVZhbHVlUmVtb3ZlIiwicmVtb3ZlTXVsdGlWYWx1ZXNGb3JLZXkiLCJyZW1vdmVWYWx1ZUZvcktleSIsIl9oYW5kbGVNdWx0aVZhbHVlRGVsZXRlIiwiX2hhbmRsZUVtYWlsU3Vic2NyaXB0aW9uIiwiYXBpIiwiZW5hYmxlV2ViUHVzaCIsIl9lbmFibGVXZWJQdXNoIiwidHIiLCJpc19vbmxvYWRjYWxsZWQiLCJzdWJFbWFpbCIsImdldEVtYWlsIiwid2l0aEdyb3VwcyIsInVuU3ViRW1haWwiLCJ1bnN1YkVtYWlsR3JvdXBzIiwiZWxlbWVudHMiLCJpc1Vuc3Vic2NyaWJlZCIsImNoZWNrZWQiLCJzZXRTdWJzY3JpcHRpb25Hcm91cHMiLCJnZXRTdWJzY3JpcHRpb25Hcm91cHMiLCJjaGFuZ2VTdWJzY3JpcHRpb25Hcm91cHMiLCJ1cGRhdGVkR3JvdXBzIiwic2V0VXBkYXRlZENhdGVnb3J5TG9uZyIsIiRDTFRQX1dSIiwiJFdaUktfV1IiLCJpbml0IiwiaXNTcGEiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiU0NPT0tJRV9QUkVGSVgiLCJjdXJyTG9jYXRpb24iLCJ3enJrX2V4IiwicGFnZUNoYW5nZWQiLCJwZ0NvdW50IiwicmVmZXJyZXJEb21haW4iLCJnZXREb21haW4iLCJyZWZlcnJlciIsIm1heExlbiIsInV0bVNvdXJjZSIsInV0bV9zb3VyY2UiLCJ3enJrX3NvdXJjZSIsInVzIiwidXRtTWVkaXVtIiwidXRtX21lZGl1bSIsInd6cmtfbWVkaXVtIiwidW0iLCJ1dG1DYW1wYWlnbiIsInV0bV9jYW1wYWlnbiIsInd6cmtfY2FtcGFpZ24iLCJ1YyIsIndtIiwiY3BnIiwibGliIiwiY2FsbGJhY2siLCJ3enJrX2QiLCJwaW5nIiwiSEFTSF9VTkRFRklORUQiLCJNQVhfU0FGRV9JTlRFR0VSIiwiYXJnc1RhZyIsImFycmF5VGFnIiwiYm9vbFRhZyIsImRhdGVUYWciLCJlcnJvclRhZyIsImZ1bmNUYWciLCJtYXBUYWciLCJudW1iZXJUYWciLCJvYmplY3RUYWciLCJwcm9taXNlVGFnIiwicmVnZXhwVGFnIiwic2V0VGFnIiwic3RyaW5nVGFnIiwid2Vha01hcFRhZyIsImFycmF5QnVmZmVyVGFnIiwiZGF0YVZpZXdUYWciLCJyZUlzSG9zdEN0b3IiLCJyZUlzVWludCIsInR5cGVkQXJyYXlUYWdzIiwiZnJlZUdsb2JhbCIsImZyZWVTZWxmIiwiZnJlZUV4cG9ydHMiLCJub2RlVHlwZSIsImZyZWVNb2R1bGUiLCJtb2R1bGVFeHBvcnRzIiwiZnJlZVByb2Nlc3MiLCJwcm9jZXNzIiwibm9kZVV0aWwiLCJiaW5kaW5nIiwibm9kZUlzVHlwZWRBcnJheSIsImlzVHlwZWRBcnJheSIsImFycmF5U29tZSIsInByZWRpY2F0ZSIsIm1hcFRvQXJyYXkiLCJtYXAiLCJzaXplIiwic2V0VG9BcnJheSIsInVpZCIsInRyYW5zZm9ybSIsImFycmF5UHJvdG8iLCJmdW5jUHJvdG8iLCJvYmplY3RQcm90byIsImNvcmVKc0RhdGEiLCJmdW5jVG9TdHJpbmciLCJtYXNrU3JjS2V5IiwiSUVfUFJPVE8iLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsInJlSXNOYXRpdmUiLCJCdWZmZXIiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInN5bVRvU3RyaW5nVGFnIiwidG9TdHJpbmdUYWciLCJuYXRpdmVHZXRTeW1ib2xzIiwibmF0aXZlSXNCdWZmZXIiLCJpc0J1ZmZlciIsIm5hdGl2ZUtleXMiLCJhcmciLCJEYXRhVmlldyIsImdldE5hdGl2ZSIsIlNldCIsIldlYWtNYXAiLCJuYXRpdmVDcmVhdGUiLCJkYXRhVmlld0N0b3JTdHJpbmciLCJ0b1NvdXJjZSIsIm1hcEN0b3JTdHJpbmciLCJwcm9taXNlQ3RvclN0cmluZyIsInNldEN0b3JTdHJpbmciLCJ3ZWFrTWFwQ3RvclN0cmluZyIsInN5bWJvbFByb3RvIiwic3ltYm9sVmFsdWVPZiIsInZhbHVlT2YiLCJIYXNoIiwiZW50cmllcyIsIkxpc3RDYWNoZSIsIk1hcENhY2hlIiwiU2V0Q2FjaGUiLCJfX2RhdGFfXyIsIlN0YWNrIiwiYXNzb2NJbmRleE9mIiwiZXEiLCJiYXNlR2V0VGFnIiwiaXNPd24iLCJ0YWciLCJ1bm1hc2tlZCIsImdldFJhd1RhZyIsIm9iamVjdFRvU3RyaW5nIiwiYmFzZUlzQXJndW1lbnRzIiwiaXNPYmplY3RMaWtlIiwiYmFzZUlzRXF1YWwiLCJvdGhlciIsImJpdG1hc2siLCJjdXN0b21pemVyIiwic3RhY2siLCJlcXVhbEZ1bmMiLCJvYmpJc0FyciIsIm90aElzQXJyIiwib2JqVGFnIiwiZ2V0VGFnIiwib3RoVGFnIiwib2JqSXNPYmoiLCJvdGhJc09iaiIsImlzU2FtZVRhZyIsImVxdWFsQXJyYXlzIiwiYnl0ZUxlbmd0aCIsImJ5dGVPZmZzZXQiLCJidWZmZXIiLCJjb252ZXJ0IiwiaXNQYXJ0aWFsIiwic3RhY2tlZCIsImVxdWFsQnlUYWciLCJvYmpJc1dyYXBwZWQiLCJvdGhJc1dyYXBwZWQiLCJvYmpVbndyYXBwZWQiLCJvdGhVbndyYXBwZWQiLCJvYmpQcm9wcyIsImdldEFsbEtleXMiLCJvYmpMZW5ndGgiLCJza2lwQ3RvciIsIm9ialZhbHVlIiwib3RoVmFsdWUiLCJjb21wYXJlZCIsIm9iakN0b3IiLCJvdGhDdG9yIiwiZXF1YWxPYmplY3RzIiwiYmFzZUlzRXF1YWxEZWVwIiwiYXJyTGVuZ3RoIiwib3RoTGVuZ3RoIiwic2VlbiIsImFyclZhbHVlIiwib3RoSW5kZXgiLCJrZXlzRnVuYyIsInN5bWJvbHNGdW5jIiwib2Zmc2V0IiwiYXJyYXlQdXNoIiwiYmFzZUdldEFsbEtleXMiLCJnZXRTeW1ib2xzIiwiZ2V0TWFwRGF0YSIsImdldFZhbHVlIiwiaXNNYXNrZWQiLCJpc0Z1bmN0aW9uIiwiYmFzZUlzTmF0aXZlIiwicGFpcnMiLCJMQVJHRV9BUlJBWV9TSVpFIiwicmVzSW5kZXgiLCJzeW1ib2wiLCJhcnJheUZpbHRlciIsImlzSW5kZXgiLCJBcnJheUJ1ZmZlciIsIkN0b3IiLCJjdG9yU3RyaW5nIiwiaXNBcmd1bWVudHMiLCJpc0xlbmd0aCIsImJhc2VVbmFyeSIsImluaGVyaXRlZCIsImlzQXJyIiwiaXNBcmciLCJpc0J1ZmYiLCJpc1R5cGUiLCJza2lwSW5kZXhlcyIsIml0ZXJhdGVlIiwiYmFzZVRpbWVzIiwiYXJyYXlMaWtlS2V5cyIsImJhc2VLZXlzIiwiX19pbXBvcnREZWZhdWx0IiwibW9kIiwiX19lc01vZHVsZSIsIkNvbnN0YW50c18xIiwiQXJnc0J1aWxkZXIiLCJhcmdTdHJpbmciLCJhcmdWYWx1ZXMiLCJfYm9keSIsImF0dGFjaEFwaUtleXMiLCJhcHBJZCIsImNsaWVudEtleSIsImRlZmF1bHQiLCJQQVJBTVMiLCJBUFBfSUQiLCJDTElFTlQiLCJDTElFTlRfS0VZIiwiYnVpbGQiLCJidWlsZERpY3QiLCJCcm93c2VyRGV0ZWN0b3IiLCJ3bmQiLCJzZWFyY2hTdHJpbmciLCJnZXRCcm93c2VyRGF0YSIsInZlcnNpb24iLCJzZWFyY2hWZXJzaW9uIiwiYXBwVmVyc2lvbiIsIk9TIiwiZ2V0T1NEYXRhIiwiZGF0YVN0cmluZyIsInN0cmluZyIsImRhdGFQcm9wIiwidmVyc2lvblNlYXJjaFN0cmluZyIsInZlcnNpb25TZWFyY2giLCJpZGVudGl0eSIsInN1YlN0cmluZyIsInZlbmRvciIsIm9wZXJhIiwicGxhdGZvcm0iLCJNRVRIT0RTIiwiU1RBUlQiLCJTVE9QIiwiQURWQU5DRSIsIlRSQUNLIiwiUEFVU0VfU0VTU0lPTiIsIlJFU1VNRV9TRVNTSU9OIiwiUEFVU0VfU1RBVEUiLCJSRVNVTUVfU1RBVEUiLCJET1dOTE9BRF9GSUxFIiwiTVVMVEkiLCJTRVRfVkFSUyIsIkdFVF9WQVJTIiwiU0VUX1VTRVJfQVRUUklCVVRFUyIsIlNFVF9ERVZJQ0VfQVRUUklCVVRFUyIsIlVQTE9BRF9GSUxFIiwiUkVHSVNURVJfREVWSUNFIiwiU0RLX1ZFUlNJT04iLCJBQ1RJT04iLCJDVCIsIkNVUlJFTkNZX0NPREUiLCJERVZJQ0VfSUQiLCJVU0VSX0lEIiwiTkVXX1VTRVJfSUQiLCJERVZfTU9ERSIsIlZFUlNJT05fTkFNRSIsIlNZU1RFTV9OQU1FIiwiU1lTVEVNX1ZFUlNJT04iLCJCUk9XU0VSX05BTUUiLCJCUk9XU0VSX1ZFUlNJT04iLCJERVZJQ0VfTkFNRSIsIkRFVklDRV9NT0RFTCIsIlVTRVJfQVRUUklCVVRFUyIsIkxPQ0FMRSIsIkNPVU5UUlkiLCJSRUdJT04iLCJDSVRZIiwiTE9DQVRJT04iLCJTVEFURSIsIklORk8iLCJFVkVOVCIsIlZBTFVFIiwiRklMRU5BTUUiLCJUSU1FIiwiREFUQSIsIlZBUlMiLCJGSUxFIiwiU0laRSIsIlZBUklBVElPTiIsIkhBU0giLCJFTUFJTCIsIlZBUklBQkxFUyIsIkFDVElPTl9ERUZJTklUSU9OUyIsIklOQ0xVREVfREVGQVVMVFMiLCJJTkNMVURFX1ZBUklBTlRfREVCVUdfSU5GTyIsIk5FV1NGRUVEX01FU1NBR0VTIiwiTUVTU0FHRV9JRCIsIldFQl9QVVNIX1NVQlNDUklQVElPTiIsIktFWVMiLCJJU19SRUdJU1RFUkVEIiwiTEFURVNUX1ZFUlNJT04iLCJTWU5DX0lOQk9YIiwiTUVTU0FHRVMiLCJWQVJJQU5UUyIsIlZBUklBTlRfREVCVUdfSU5GTyIsIlRPS0VOIiwiREVGQVVMVF9LRVlTIiwiQ09VTlQiLCJJVEVNIiwiSE9TVF9DT05GSUciLCJJTkJPWF9NRVNTQUdFUyIsIlNFU1NJT04iLCJNRVNTQUdFX09DQ1VSUkVOQ0VTIiwiTUVTU0FHRV9DQUNIRSIsIk1JR1JBVElPTl9TVEFURSIsIlBVU0hfU1VCU0NSSVBUSU9OIiwiVkFMVUVTIiwiREVURUNUIiwiREVGQVVMVF9QVVNIX0FDVElPTiIsIkV2ZW50RW1pdHRlciIsImhhbmRsZXJzIiwib24iLCJvZmYiLCJ4IiwiZW1pdCIsImhhbmRsZXIiLCJJbnRlcm5hbFN0YXRlIiwic3RhcnRIYW5kbGVycyIsImRldk1vZGUiLCJoYXNTdGFydGVkIiwic3RhcnRTdWNjZXNzZnVsIiwidmFyaWFudERlYnVnSW5mb0VuYWJsZWQiLCJhZGRTdGFydFJlc3BvbnNlSGFuZGxlciIsInJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyIiwidHJpZ2dlclN0YXJ0SGFuZGxlcnMiLCJMZWFucGx1bUludGVybmFsXzEiLCJMZWFucGx1bSIsInNldEFwaVBhdGgiLCJhcGlQYXRoIiwiX2xwIiwic2V0RW1haWwiLCJzZXROZXR3b3JrVGltZW91dCIsInNldEFwcElkRm9yRGV2ZWxvcG1lbnRNb2RlIiwiYWNjZXNzS2V5Iiwic2V0QXBwSWRGb3JQcm9kdWN0aW9uTW9kZSIsInNldFNvY2tldEhvc3QiLCJob3N0Iiwic2V0RGV2aWNlSWQiLCJkZXZpY2VJZCIsInNldExvY2FsZSIsImxvY2FsZSIsInNldEFwcFZlcnNpb24iLCJ2ZXJzaW9uTmFtZSIsInNldERldmljZU5hbWUiLCJkZXZpY2VOYW1lIiwic2V0RGV2aWNlTW9kZWwiLCJkZXZpY2VNb2RlbCIsInNldFJlcXVlc3RCYXRjaGluZyIsImJhdGNoRW5hYmxlZCIsImNvb2xkb3duU2Vjb25kcyIsInNldFN5c3RlbU5hbWUiLCJzeXN0ZW1OYW1lIiwic2V0U3lzdGVtVmVyc2lvbiIsInN5c3RlbVZlcnNpb24iLCJzZXRWYXJpYWJsZXMiLCJ2YXJpYWJsZXMiLCJzZXRWYXJpYW50RGVidWdJbmZvRW5hYmxlZCIsImVuYWJsZVJpY2hJbkFwcE1lc3NhZ2VzIiwicHJvY2Vzc01lc3NhZ2VFdmVudCIsIm1lc3NhZ2VJZCIsImdldFZhcmlhbnREZWJ1Z0luZm8iLCJnZXRWYXJpYWJsZXMiLCJnZXRWYXJpYWJsZSIsIl9hIiwiX2kiLCJnZXRWYXJpYW50cyIsImluYm94IiwiYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIiLCJyZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciIsImZvcmNlQ29udGVudFVwZGF0ZSIsInVzZVNlc3Npb25MZW5ndGgiLCJzdGFydCIsInVzZXJJZCIsInVzZXJBdHRyaWJ1dGVzIiwic3RhcnRGcm9tQ2FjaGUiLCJzdG9wIiwicGF1c2VTZXNzaW9uIiwicmVzdW1lU2Vzc2lvbiIsInBhdXNlU3RhdGUiLCJyZXN1bWVTdGF0ZSIsImdldFVzZXJJZCIsInNldFVzZXJJZCIsInNldFVzZXJBdHRyaWJ1dGVzIiwidHJhY2siLCJwYXJhbXMiLCJ0cmFja1B1cmNoYXNlIiwiY3VycmVuY3lDb2RlIiwiYWR2YW5jZVRvIiwiaXNXZWJQdXNoU3VwcG9ydGVkIiwiaXNXZWJQdXNoU3Vic2NyaWJlZCIsInNldFdlYlB1c2hPcHRpb25zIiwib3B0aW9ucyIsInJlZ2lzdGVyRm9yV2ViUHVzaCIsInNlcnZpY2VXb3JrZXJVcmwiLCJ1bnJlZ2lzdGVyRnJvbVdlYlB1c2giLCJjbGVhclVzZXJDb250ZW50IiwiZGVmaW5lQWN0aW9uIiwiYXBwbHlRdWV1ZSIsInF1ZXVlIiwiZ2V0RmlsZVVybCIsImZpbGVuYW1lIiwiX19kZXN0cm95IiwiVkVSU0lPTiIsIl9fYXNzaWduIiwiYXNzaWduIiwiTGVhbnBsdW1JbmJveE1lc3NhZ2UiLCJBcmdzQnVpbGRlcl8xIiwiU3RvcmFnZU1hbmFnZXJfMSIsIkxlYW5wbHVtSW5ib3giLCJjcmVhdGVSZXF1ZXN0Iiwib25BY3Rpb24iLCJtZXNzYWdlTWFwIiwiY2hhbmdlSGFuZGxlcnMiLCJsb2FkIiwiZG93bmxvYWRNZXNzYWdlcyIsInF1ZXVlZCIsInNlbmROb3ciLCJyZXNwb25zZSIsIm5ld3NmZWVkTWVzc2FnZXMiLCJ0cmlnZ2VyQ2hhbmdlSGFuZGxlcnMiLCJtYXJrQXNSZWFkIiwiaXNSZWFkIiwiaW5ib3hNZXNzYWdlIiwib3BlbkFjdGlvbiIsIm9uQ2hhbmdlZCIsInVucmVhZENvdW50IiwibWVzc2FnZXMiLCJhbGxNZXNzYWdlcyIsInVucmVhZE1lc3NhZ2VzIiwibWVzc2FnZUlkcyIsIl9pZCIsIl90aXRsZSIsIl9zdWJ0aXRsZSIsIl9kYXRhIiwiX3RpbWVzdGFtcCIsIl9pc1JlYWQiLCJfaW1hZ2VVcmwiLCJfb3BlbkFjdGlvbiIsIm1lc3NhZ2VJbmZvIiwiX2IiLCJfYyIsIl9kIiwiX2UiLCJfZiIsIl9nIiwiX2giLCJfaiIsIl9rIiwiX2wiLCJwYXJlbnRDYW1wYWlnbklkIiwibWVzc2FnZURhdGEiLCJ2YXJzIiwiVGl0bGUiLCJTdWJ0aXRsZSIsIkRhdGEiLCJkZWxpdmVyeVRpbWVzdGFtcCIsIkltYWdlIiwic3VidGl0bGUiLCJ0aW1lc3RhbXAiLCJCcm93c2VyRGV0ZWN0b3JfMSIsIkludGVybmFsU3RhdGVfMSIsIkxlYW5wbHVtSW5ib3hfMSIsIkxlYW5wbHVtUmVxdWVzdF8xIiwiTGVhbnBsdW1Tb2NrZXRfMSIsIlB1c2hNYW5hZ2VyXzEiLCJNZXNzYWdlc18xIiwiRXZlbnRFbWl0dGVyXzEiLCJNaWdyYXRpb25NYW5hZ2VyXzEiLCJwdWJsaWNfMSIsImludGVybmFsXzEiLCJWYXJDYWNoZV8xIiwiU0VTU0lPTl9LRVkiLCJMZWFucGx1bUludGVybmFsIiwiX21pZ3JhdGlvbiIsIl9ldmVudHMiLCJfaW50ZXJuYWxTdGF0ZSIsIl9scEluYm94Iiwib25JbmJveEFjdGlvbiIsIl9scFJlcXVlc3QiLCJfdmFyQ2FjaGUiLCJfbHBTb2NrZXQiLCJnZXRMYXN0UmVzcG9uc2UiLCJfcHVzaE1hbmFnZXIiLCJfbWVzc2FnZXMiLCJfYnJvd3NlckRldGVjdG9yIiwicHJldmVudGVkIiwicHJldmVudERlZmF1bHQiLCJzaGEiLCJ2ZXJpZnlTdGF0ZSIsIl93ZWJQdXNoT3B0aW9ucyIsInBhdGgiLCJfY3QiLCJfbG9jYWxlIiwiX2RldmljZU5hbWUiLCJfZGV2aWNlTW9kZWwiLCJiYXRjaENvb2xkb3duIiwiX3N5c3RlbU5hbWUiLCJfc3lzdGVtVmVyc2lvbiIsInZhcmlhbnRzIiwidHJhY2tNZXNzYWdlIiwicmVnaXN0ZXJBY3Rpb25EZWZpbml0aW9uIiwia2luZCIsIk1lc3NhZ2VLaW5kIiwiVGVtcGxhdGUiLCJnZXRWYXJzUmVzcG9uc2UiLCJpc1N1Y2Nlc3MiLCJpc1Jlc3BvbnNlU3VjY2VzcyIsImFwcGx5RGlmZnMiLCJzZXRWYXJpYW50RGVidWdJbmZvIiwiX3Nlc3Npb25MZW5ndGgiLCJoYXNBY3RpdmVTZXNzaW9uIiwiZ2V0U3RhdGUiLCJNaWdyYXRpb25TdGF0ZSIsIkRVUExJQ0FURSIsImluaXRDbGV2ZXJUYXAiLCJpc1N1YnNjcmliZWQiLCJDTEVWRVJUQVAiLCJvblVwZGF0ZSIsInRyaWdnZXJWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMiLCJzdGFydFJlc3BvbnNlIiwidXBkYXRlU2Vzc2lvbiIsImFjdGlvbkRlZmluaXRpb25zIiwibGF0ZXN0VmVyc2lvbiIsImxvZyIsImNvbm5lY3RTb2NrZXQiLCJ0b2tlbiIsImxvYWREaWZmcyIsInN1Y2Nlc3MiLCJpc1B1cmNoYXNlIiwiY2xpZW50VXJsIiwid29ya2VyVXJsIiwic3Vic2NyaWJlVXNlciIsInJlamVjdCIsInVuc3Vic2NyaWJlVXNlciIsImludm9jYXRpb24iLCJkdXBsaWNhdGVSZXF1ZXN0IiwiY29ubmVjdCIsImN1cnJlbnRUaW1lIiwibGFzdEFjdGl2ZSIsIk5ldHdvcmtfMSIsIkxlYW5wbHVtUmVxdWVzdCIsIm5ldHdvcmsiLCJjb29sZG93blRpbWVvdXQiLCJsYXN0UmVxdWVzdFRpbWUiLCJ1c2VySWRWYWx1ZSIsImxvYWRIb3N0Q29uZmlnIiwibG9hZExvY2FsIiwicG9zc2libGUiLCJyYW5kb20iLCJzYXZlTG9jYWwiLCJhcmdzQnVpbGRlciIsInNlbmRSZXF1ZXN0Iiwic2VuZFVuc2VudFJlcXVlc3RzIiwicmVxdWVzdHNUb1NlbmQiLCJwb3BVbnNlbnRSZXF1ZXN0cyIsInJlcXVlc3REYXRhIiwibXVsdGlSZXF1ZXN0QXJncyIsInNhdmVSZXF1ZXN0Rm9yTGF0ZXIiLCJnZXRGaXJzdFJlc3BvbnNlIiwiQm9vbGVhbiIsInF1ZXJ5IiwiYWpheCIsIm1ldGhvZFJlc3BvbnNlIiwic2hhMjU2IiwibWlncmF0ZVN0YXRlIiwiYXBpSG9zdCIsImRldlNlcnZlckhvc3QiLCJyZW1vdmVMb2NhbCIsImlnbm9yZWQiLCJob3N0Q29uZmlnIiwibG9kYXNoX2lzZXF1YWxfMSIsIlNvY2tldElvQ2xpZW50XzEiLCJMZWFucGx1bVNvY2tldCIsIm5ldHdvcmtUaW1lb3V0U2Vjb25kcyIsInNvY2tldENsaWVudCIsInNvY2tldEhvc3QiLCJhdXRoIiwiV2ViU29ja2V0IiwiYXV0aFNlbnQiLCJvbm9wZW4iLCJzZW5kIiwib25lcnJvciIsIm9ubWVzc2FnZSIsIm9uTWVzc2FnZVJlY2VpdmVkIiwib25jbG9zZSIsImNvbm5lY3RlZCIsImNvbm5lY3RpbmciLCJkaXNjb25uZWN0IiwiYXJnc18xIiwiZGlmZnMiLCJzZW5kVmFyaWFibGVzIiwidXBkYXRlZCIsInNlbmRBY3Rpb25zIiwiYWxlcnQiLCJWYWx1ZVRyYW5zZm9ybXNfMSIsIk9jY3VycmVuY2VUcmFja2VyIiwidHJpZ2dlcnMiLCJvY2N1cnJlbmNlcyIsInJlY29yZE9jY3VycmVuY2UiLCJzZXNzaW9uT2NjdXJyZW5jZXMiLCJyZWNvcmRUcmlnZ2VyT2NjdXJyZW5jZSIsInRyaWdnZXJPY2N1cnJlbmNlcyIsImdldFNlc3Npb25PY2N1cnJhbmNlQ291bnQiLCJnZXRPY2N1cnJlbmNlcyIsImNsZWFyU2Vzc2lvbiIsImpzb24iLCJtYXliZUpTT04iLCJzdHIiLCJNZXNzYWdlcyIsIl9tZXNzYWdlQ2FjaGUiLCJvY2N1cnJlbmNlVHJhY2tlciIsIl9zaG93UmljaElBTSIsIm9uTWVzc2FnZVByZXZpZXciLCJvbk1lc3NhZ2VzUmVjZWl2ZWQiLCJvblRyaWdnZXIiLCJ0cmlnZ2VyIiwiYXR0cmlidXRlcyIsImNvbnRleHQiLCJnZXRNZXNzYWdlcyIsInNob3VsZFNob3dNZXNzYWdlIiwic2hvd01lc3NhZ2UiLCJldmVudEluZm8iLCJydW5BY3Rpb25OYW1lZCIsImFjdGlvbk5hbWUiLCJydW5UcmFja2VkQWN0aW9uTmFtZWQiLCJoYW5kbGVNZXNzYWdlIiwiYWRkRGVmYXVsdHMiLCJyZWNlaXZlZE1lc3NhZ2VzIiwibWF0Y2hlc1RyaWdnZXIiLCJ3aGVuVHJpZ2dlcnMiLCJtYXRjaGVzVW5sZXNzIiwidW5sZXNzVHJpZ2dlcnMiLCJ0cmlnZ2Vyc0NvdW50IiwibWF0Y2hlc0xpbWl0cyIsIndoZW5MaW1pdHMiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwiZXZlbnRVcmwiLCJhY2MiLCJwYXJhbSIsIm1ldGFkYXRhIiwidmlzaWJpbGl0eSIsImxlZnQiLCJhbmNob3JQcm9wIiwiYWx0UHJvcCIsInRvcCIsImZvY3VzIiwicGFyYW1ldGVycyIsIl9fbmFtZV9fIiwicmVzb2x2ZUZpbGVzIiwidGVtcGxhdGVOYW1lIiwidGVtcGxhdGUiLCJyZW5kZXJSaWNoSW5BcHBNZXNzYWdlIiwicmVzb2x2ZUZpZWxkcyIsImNzc1RleHQiLCJqb2luIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsImNvbnRlbnQiLCJzcmNkb2MiLCJ0cmFja09wdGlvbnMiLCJkZWZpbmVkIiwicGFyZW50TWVzc2FnZUlkIiwicHJvY2Vzc0FjdGlvbiIsIlVSTCIsIm1lc3NhZ2VJZEZyb21BY3Rpb24iLCJjaGFpbmVkTWVzc2FnZUlkXzEiLCJtZXNzYWdlXzEiLCJkZWZpbml0aW9uIiwia2luZHMiLCJ1c2VEZWZhdWx0cyIsImRlZmF1bHRWYWx1ZXMiLCJmaWxlUHJlZml4IiwiY29sb3JTdWZmaXgiLCJkZWNvZGVDb2xvciIsImlnbm9yZUNhc2VFcXVhbHMiLCJiIiwibG9jYWxlQ29tcGFyZSIsInNlbnNpdGl2aXR5IiwibWF0Y2hlc1RyaWdnZXJzIiwiY29udGV4dE5vdW4iLCJtYXRjaGVzTm91biIsIm5vdW4iLCJ2ZXJiIiwib2JqZWN0cyIsInBhcmFtZXRlciIsIm1hdGNoZXNQYXJhbSIsImNoaWxkcmVuIiwic29tZSIsInN1YmplY3QiLCJjb250YWluc0F0dHJpYnV0ZSIsImNvbnRleHRWYWx1ZV8xIiwiZXZlcnkiLCJsaW1pdCIsInBlckludGVydmFsIiwidGltZVNsb3QiLCJ2ZXJiVG9JbnRlcnZhbCIsIklkZW50aXR5TWFuYWdlciIsIklkZW50aXR5U3RhdGUiLCJjbGV2ZXJ0YXBfd2ViX3Nka18xIiwibm9vcCIsInRvTWlncmF0aW9uU3RhdGUiLCJzZGsiLCJMRUFOUExVTSIsIlVOS05PV04iLCJNaWdyYXRpb25NYW5hZ2VyIiwic2F2ZWRSZXNwb25zZSIsImdldE1pZ3JhdGlvblN0YXRlIiwiY29uZmlnIiwiY3QiLCJyZWdpb25Db2RlIiwiYXJnc0RpY3QiLCJpc0Fub255bW91cyIsImV2ZW50UHVzaCIsInByb2ZpbGVQdXNoIiwiYXR0cnMiLCJtYXBBdHRyaWJ1dGVzIiwiY29udmVydEFycmF5cyIsImlzRW5nYWdlbWVudEV2ZW50IiwiZXZlbnRQYXJhbXMiLCJtYXBwaW5nIiwiYXR0cmlidXRlTWFwcGluZ3MiLCJyIiwiQU5PTllNT1VTIiwiaWRlbnRpZnkiLCJhbm9ueW1vdXNMb2dpblVzZXJJZCIsIklERU5USUZJRUQiLCJpZGVudGlmeU5vbkFub255bW91cyIsIk5ldHdvcmsiLCJyZXF1ZXN0UXVldWUiLCJydW5uaW5nUmVxdWVzdCIsIm1ldGhvZCIsInBsYWluVGV4dCIsImVucXVldWVSZXF1ZXN0IiwiWERvbWFpblJlcXVlc3QiLCJhamF4SUU4IiwiaGFuZGxlZCIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVzcG9uc2VfMSIsInBhcnNlRXJyb3IiLCJyZXNwb25zZVRleHQiLCJzdGF0dXMiLCJkZXF1ZXVlUmVxdWVzdCIsInNldFJlcXVlc3RIZWFkZXIiLCJhYm9ydCIsInhkciIsIm9udGltZW91dCIsIm9ucHJvZ3Jlc3MiLCJ0aW1lb3V0IiwicmVxdWVzdEFyZ3VtZW50cyIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwiX19nZW5lcmF0b3IiLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm9wIiwiUHVzaE1hbmFnZXIiLCJnZXRTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uIiwidXBkYXRlTmV3U3Vic2NyaXB0aW9uT25TZXJ2ZXIiLCJlcnJvcl8xIiwiZXJyb3JfMiIsInVybEI2NFRvVWludDhBcnJheSIsIkVycm9yIiwiZXJyb3JfMyIsImdldFJlZ2lzdHJhdGlvbiIsImRlY29kZURhdGEiLCJvdXRwdXRBcnJheSIsInByZXBhcmVkU3Vic2NyaXB0aW9uIiwicHJlcGFyZVN1YnNjcmlwdGlvbiIsInByZXBhcmVkU3Vic2NyaXB0aW9uU3RyaW5nIiwic2V0U3Vic2NyaXB0aW9uIiwiZ2V0S2V5Iiwia2V5QXNjaWkiLCJlbmNvZGVEYXRhIiwiYXV0aEFzY2lpIiwiYnRvYSIsIlNvY2tldElvQ2xpZW50IiwibGluZSIsInBhcnRzIiwiaGVhcnRiZWF0Iiwic29ja2V0IiwiaGVhcnRiZWF0SW50ZXJ2YWwiLCJtZXNzYWdlUGFydHMiLCJtZXNzYWdlRXZlbnQiLCJhcmdzSnNvbiIsInN0b3JhZ2VFbmFibGVkIiwibG9jYWwiLCJhbHRlcm5hdGVTdG9yYWdlIiwiVmFsdWVUcmFuc2Zvcm1zIiwiY29sb3IiLCJlbmNvZGVDb2xvciIsInJnYmEiLCJoZXgiLCJWYXJDYWNoZSIsImhhc1JlY2VpdmVkRGlmZnMiLCJtZXJnZWQiLCJ2YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMiLCJ2YXJpYW50RGVidWdJbmZvIiwia3giLCJtZXJnZUhlbHBlciIsInNhdmVEaWZmcyIsImN1cnJlbnQiLCJzZXRWYXJzIiwiYXJndW1lbnRUcmVlIiwiYXJndW1lbnRLaW5kcyIsIm9wdGlvbnNUb0RlZmluaXRpb25zIiwicHJlZml4IiwiZGlmZiIsIm9iakl0ZXJhdG9yIiwiYXR0ciIsInZhcnNJdGVyYXRvciIsImRpZmZJdGVyYXRvciIsImF0dHJpYnV0ZSIsIm1lcmdlZF8xIiwidmFyU3Vic2NyaXB0Iiwic3Vic2NyaXB0IiwiZGlmZlZhbHVlIiwiQWN0aW9uUGFyYW1ldGVyVHlwZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImxvYWRlZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnbG9iYWxUaGlzIiwibm1kIiwicGF0aHMiXSwic291cmNlUm9vdCI6IiJ9