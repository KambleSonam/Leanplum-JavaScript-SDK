!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Leanplum=t():e.Leanplum=t()}(self,(()=>(()=>{var e={739:function(e){e.exports=function(){"use strict";var e=0;function t(t){return"__private_"+e+++"_"+t}function i(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}const n="clevertap-prod.com",o="https:";var r=t("accountId"),s=t("region"),a=t("targetDomain"),l=t("dcSdkversion"),c=t("token");class d{constructor(){let{id:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";Object.defineProperty(this,r,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:""}),Object.defineProperty(this,a,{writable:!0,value:n}),Object.defineProperty(this,l,{writable:!0,value:""}),Object.defineProperty(this,c,{writable:!0,value:""}),this.id=e,t&&(this.region=t),i&&(this.targetDomain=i),o&&(this.token=o)}get id(){return i(this,r)[r]}set id(e){i(this,r)[r]=e}get region(){return i(this,s)[s]}set region(e){i(this,s)[s]=e}get dcSDKVersion(){return i(this,l)[l]}set dcSDKVersion(e){i(this,l)[l]=e}get targetDomain(){return i(this,a)[a]}set targetDomain(e){i(this,a)[a]=e}get token(){return i(this,c)[c]}set token(e){i(this,c)[c]=e}get finalTargetDomain(){return this.region?"".concat(this.region,".").concat(this.targetDomain):this.targetDomain===n?"".concat("eu1",".").concat(this.targetDomain):this.targetDomain}get dataPostPEURL(){return"".concat(o,"//").concat(this.finalTargetDomain,"/defineVars")}get dataPostURL(){return"".concat(o,"//").concat(this.finalTargetDomain,"/a?t=96")}get recorderURL(){return"".concat(o,"//").concat(this.finalTargetDomain,"/r?r=1")}get emailURL(){return"".concat(o,"//").concat(this.finalTargetDomain,"/e?r=1")}}const u=new RegExp("^\\s+|\\.|:|\\$|'|\"|\\\\|\\s+$","g"),h=new RegExp("^\\s+|'|\"|\\\\|\\s+$","g"),p=new RegExp("'","g"),g="clear",f="Charged ID",v="WZRK_CHARGED_ID",b="WZRK_G",m="WZRK_K",y="WZRK_CAMP",w="WZRK_CAMP_G",S="WZRK_EV",_="WZRK_META",C="WZRK_PR",k="WZRK_ARP",E="WZRK_L",A="global",I="display",P="optOut",O="useIP",T="WZRK_X",x="isOUL",R="push",M=31536e3,D="cUsY",N="wzrk_",L="wzrk_id",U="Notification Viewed",j="Notification Clicked",F="WZRK_FPU",V="WZRK_PSD",q="$incr",B="$add",z="$remove",H="$delete",K="WZRK_INBOX_CONFIG",W="WZRK_INBOX",G=1e3,Y="wzrk_fetch",J=["Stayed","UTM Visited","App Launched","Notification Sent",U,j],$=e=>"string"==typeof e||e instanceof String,Z=e=>"[object Object]"===Object.prototype.toString.call(e),Q=e=>"object"==typeof e&&e instanceof Date,X=e=>{for(const t in e)if(e.hasOwnProperty(t))return!1;return!0},ee=e=>!isNaN(parseFloat(e))&&isFinite(e),te=e=>/^-?[\d.]+(?:e-?\d+)?$/.test(e)&&"number"==typeof e,ie=e=>null!=e&&"undefined"!==e,ne=(e,t)=>{if("object"!=typeof e){let i;return $(e)?(i=oe(e,h),i.length>1024&&(i=i.substring(0,1024),t.reportError(521,i+"... length exceeded 1024 chars. Trimmed."))):i=e,i}for(const i in e)if(e.hasOwnProperty(i)){const n=ne(e[i],t);let o;o=oe(i,u),o.length>1024&&(o=o.substring(0,1024),t.reportError(520,o+"... length exceeded 1024 chars. Trimmed.")),delete e[i],e[o]=n}return e},oe=(e,t)=>e.replace(t,""),re=()=>{const e=new Date;return e.getFullYear()+""+e.getMonth()+e.getDay()},se=()=>Math.floor((new Date).getTime()/1e3),ae=e=>"$D_"+Math.round(e.getTime()/1e3),le=e=>{if(ce(e))return"$D_"+e},ce=e=>{const t=/^(\d{4})(\d{2})(\d{2})$/.exec(e);if(null==t)return!1;const i=t[3],n=t[2]-1,o=t[1],r=new Date(o,n,i);return r.getDate()==i&&r.getMonth()==n&&r.getFullYear()==o};class de{static save(e,t){return!(!e||!t)&&(this._isLocalStorageSupported()?(localStorage.setItem(e,"string"==typeof t?t:JSON.stringify(t)),!0):void 0)}static read(e){if(!e)return!1;let t=null;if(this._isLocalStorageSupported()&&(t=localStorage.getItem(e)),null!=t)try{t=JSON.parse(t)}catch(e){}return t}static remove(e){return!!e&&(this._isLocalStorageSupported()?(localStorage.removeItem(e),!0):void 0)}static removeCookie(e,t){let i=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;";t&&(i=i+" domain="+t+"; path=/"),document.cookie=i}static createCookie(e,t,i,n){let o="",r="";if(i){const e=new Date;e.setTime(e.getTime()+1e3*i),o="; expires="+e.toGMTString()}n&&(r="; domain="+n),t=encodeURIComponent(t),document.cookie=e+"="+t+o+r+"; path=/"}static readCookie(e){const t=e+"=",i=document.cookie.split(";");for(let e=0;e<i.length;e++){let n=i[e];for(;" "===n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return decodeURIComponent(n.substring(t.length,n.length))}return null}static _isLocalStorageSupported(){return"localStorage"in window&&null!==window.localStorage&&"function"==typeof window.localStorage.setItem}static saveToLSorCookie(e,t){if(null!=t)try{this._isLocalStorageSupported()?this.save(e,encodeURIComponent(JSON.stringify(t))):e===b?this.createCookie(e,encodeURIComponent(t),0,window.location.hostname):this.createCookie(e,encodeURIComponent(JSON.stringify(t)),0,window.location.hostname),ue.globalCache[e]=t}catch(e){}}static readFromLSorCookie(e){let t;if(ue.globalCache.hasOwnProperty(e))return ue.globalCache[e];if(t=this._isLocalStorageSupported()?this.read(e):this.readCookie(e),null!=t&&("function"!=typeof t.trim||""!==t.trim())){let i;try{i=JSON.parse(decodeURIComponent(t))}catch(e){i=decodeURIComponent(t)}return ue.globalCache[e]=i,i}}static createBroadCookie(e,t,i,n){if(n){let r=ue.broadDomain;if(null==r){const s=n.split(".");let a="";for(let n=s.length-1;n>=0;n--){if(a=0===n?s[n]+a:"."+s[n]+a,this.readCookie(e)){var o="test_"+e+n;if(this.createCookie(o,t,10,a),!this.readCookie(o))continue;this.removeCookie(o,a)}if(this.createCookie(e,t,i,a),this.readCookie(e)==t){r=a,ue.broadDomain=r;break}}}else this.createCookie(e,t,i,r)}else this.createCookie(e,t,i,n)}static getMetaProp(e){const t=this.readFromLSorCookie(_);if(null!=t)return t[e]}static setMetaProp(e,t){if(this._isLocalStorageSupported()){let i=this.readFromLSorCookie(_);null==i&&(i={}),void 0===t?delete i[e]:i[e]=t,this.saveToLSorCookie(_,i)}}static getAndClearMetaProp(e){const t=this.getMetaProp(e);return this.setMetaProp(e,void 0),t}static setInstantDeleteFlagInK(){let e=this.readFromLSorCookie(m);null==e&&(e={}),e.flag=!0,this.saveToLSorCookie(m,e)}static backupEvent(e,t,i){let n=this.readFromLSorCookie(E);void 0===n&&(n={}),n[t]={q:e},this.saveToLSorCookie(E,n),i.debug("stored in ".concat(E," reqNo : ").concat(t," -> ").concat(e))}static removeBackup(e,t){const i=this.readFromLSorCookie(E);null!=i&&void 0!==i[e]&&(t.debug("del event: ".concat(e," data-> ").concat(i[e].q)),delete i[e],this.saveToLSorCookie(E,i))}}const ue={globalCache:{gcookie:null,REQ_N:0,RESP_N:0},LRU_CACHE:null,globalProfileMap:void 0,globalEventsMap:void 0,blockRequest:!1,isOptInRequest:!1,broadDomain:null,webPushEnabled:null,campaignDivMap:{},currentSessionId:null,wiz_counter:0,notifApi:{notifEnabledFromApi:!1},unsubGroups:[],updatedCategoryLong:null,inbox:null,isPrivacyArrPushed:!1,privacyArray:[],offline:!1,location:null,dismissSpamControl:!1,globalUnsubscribe:!0,flutterVersion:null,variableStore:{}};var he=t("keyOrder"),pe=t("deleteFromObject");class ge{constructor(e){Object.defineProperty(this,pe,{value:fe}),Object.defineProperty(this,he,{writable:!0,value:void 0}),this.max=e;let t=de.readFromLSorCookie(T);if(t){const e={};i(this,he)[he]=[],t=t.cache;for(const n in t)t.hasOwnProperty(n)&&(e[t[n][0]]=t[n][1],i(this,he)[he].push(t[n][0]));this.cache=e}else this.cache={},i(this,he)[he]=[]}get(e){const t=this.cache[e];return t&&(this.cache=i(this,pe)[pe](e,this.cache),this.cache[e]=t,i(this,he)[he].push(e)),this.saveCacheToLS(this.cache),t}set(e,t){const n=this.cache[e],o=i(this,he)[he];null!=n?this.cache=i(this,pe)[pe](e,this.cache):o.length===this.max&&(this.cache=i(this,pe)[pe](o[0],this.cache)),this.cache[e]=t,i(this,he)[he][i(this,he)[he]-1]!==e&&i(this,he)[he].push(e),this.saveCacheToLS(this.cache)}saveCacheToLS(e){const t=[],n=i(this,he)[he];for(const i in n)if(n.hasOwnProperty(i)){const o=[];o.push(n[i]),o.push(e[n[i]]),t.push(o)}de.saveToLSorCookie(T,{cache:t})}getKey(e){if(null===e)return null;const t=i(this,he)[he];for(const i in t)if(t.hasOwnProperty(i)&&this.cache[t[i]]===e)return t[i];return null}getSecondLastKey(){const e=i(this,he)[he];return null!=e&&e.length>1?e[e.length-2]:-1}getLastKey(){const e=i(this,he)[he].length;if(e)return i(this,he)[he][e-1]}}var fe=function(e,t){const n=JSON.parse(JSON.stringify(i(this,he)[he])),o={};let r;for(const i in n)n.hasOwnProperty(i)&&(n[i]!==e?o[n[i]]=t[n[i]]:r=i);return n.splice(r,1),i(this,he)[he]=JSON.parse(JSON.stringify(n)),o},ve=t("logger"),be=t("request"),me=t("device"),ye=t("session");class we{constructor(e){let{logger:t,request:n,device:o,session:r}=e;Object.defineProperty(this,ve,{writable:!0,value:void 0}),Object.defineProperty(this,be,{writable:!0,value:void 0}),Object.defineProperty(this,me,{writable:!0,value:void 0}),Object.defineProperty(this,ye,{writable:!0,value:void 0}),i(this,ve)[ve]=t,i(this,be)[be]=n,i(this,me)[me]=o,i(this,ye)[ye]=r}s(e,t,n,o,r){let s=!1,a=!1;if(window.isOULInProgress&&(n||"undefined"!==o&&o===window.oulReqN)&&(window.isOULInProgress=!1,s=!0),void 0===o&&(o=0),de.removeBackup(o,i(this,ve)[ve]),o>ue.globalCache.REQ_N)return;if(ie(i(this,me)[me].gcookie)||e&&(a=!0),!ie(i(this,me)[me].gcookie)||n||"boolean"==typeof r){const o=i(this,ye)[ye].getSessionCookieObject();if(window.isOULInProgress||o.s&&t<o.s)return;if(i(this,ve)[ve].debug("Cookie was ".concat(i(this,me)[me].gcookie," set to ").concat(e)),i(this,me)[me].gcookie=e,ie(i(this,me)[me].gcookie)||de.getAndClearMetaProp(O),e&&de._isLocalStorageSupported()){null==ue.LRU_CACHE&&(ue.LRU_CACHE=new ge(100));const t=de.readFromLSorCookie(m);let o;null!=t&&t.id&&(o=ue.LRU_CACHE.cache[t.id],n&&(o||(de.saveToLSorCookie(F,!0),ue.LRU_CACHE.set(t.id,e)))),de.saveToLSorCookie(b,e);const r=ue.LRU_CACHE.getSecondLastKey();if(de.readFromLSorCookie(F)&&-1!==r){const e=ue.LRU_CACHE.cache[r];i(this,be)[be].unregisterTokenForGuid(e)}}de.createBroadCookie(b,e,M,window.location.hostname),de.saveToLSorCookie(b,e)}de._isLocalStorageSupported()&&i(this,ye)[ye].manageSession(t);const l=i(this,ye)[ye].getSessionCookieObject();(void 0===l.s||l.s<=t)&&(l.s=t,l.t=se(),i(this,ye)[ye].setSessionCookieObject(l)),ie(i(this,me)[me].gcookie)&&(ue.blockRequest=!1),!s&&!a||i(this,be)[be].processingBackup||i(this,be)[be].processBackupEvents(),ue.globalCache.RESP_N=o}}var Se=t("logger");class _e{constructor(e){let{logger:t}=e;Object.defineProperty(this,Se,{writable:!0,value:void 0}),this.gcookie=void 0,i(this,Se)[Se]=t,this.gcookie=this.getGuid()}getGuid(){let e=null;if(ie(this.gcookie))return this.gcookie;if(de._isLocalStorageSupported()){const t=de.read(b);if(ie(t)){try{e=JSON.parse(decodeURIComponent(t))}catch(n){i(this,Se)[Se].debug("Cannot parse Gcookie from localstorage - must be encoded "+t),32===t.length?(e=t,de.saveToLSorCookie(b,t)):i(this,Se)[Se].error("Illegal guid "+t)}ie(e)&&de.createBroadCookie(b,e,M,window.location.hostname)}}return ie(e)||(e=de.readCookie(b),!ie(e)||0!==e.indexOf("%")&&0!==e.indexOf("'")&&0!==e.indexOf('"')||(e=null),ie(e)&&de.saveToLSorCookie(b,e)),e}}const Ce="This property has been ignored.",ke="CleverTap error:",Ee="".concat(ke," Incorrect embed script."),Ae="".concat(ke," Event structure not valid. ").concat(Ce),Ie="".concat(ke," Gender value should be either M or F. ").concat(Ce),Pe="".concat(ke," Employed value should be either Y or N. ").concat(Ce),Oe="".concat(ke," Married value should be either Y or N. ").concat(Ce),Te="".concat(ke," Education value should be either School, College or Graduate. ").concat(Ce),xe="".concat(ke," Age value should be a number. ").concat(Ce),Re="".concat(ke," DOB value should be a Date Object"),Me="".concat(ke," setEnum(value). value should be a string or a number"),De="".concat(ke," Phone number should be formatted as +[country code][number]");let Ne;const Le=e=>{if(Z(e)){for(var t in e)if(e.hasOwnProperty(t)){if(Z(e[t])||Array.isArray(e[t]))return!1;Q(e[t])&&(e[t]=ae(e[t]))}return!0}return!1},Ue=(e,t)=>{if(Z(e)){for(var i in e)if(e.hasOwnProperty(i))if("Items"===i){if(!Array.isArray(e[i]))return!1;for(var n in e[i].length>50&&t.reportError(522,"Charged Items exceed 50 limit. Actual count: "+e[i].length),e[i])if(e[i].hasOwnProperty(n)&&(!Z(e[i][n])||!Le(e[i][n])))return!1}else{if(Z(e[i])||Array.isArray(e[i]))return!1;Q(e[i])&&(e[i]=ae(e[i]))}if($(e[f])||te(e[f])){const i=e[f]+"";if(void 0===Ne&&(Ne=de.readFromLSorCookie(v)),void 0!==Ne&&Ne.trim()===i.trim())return t.error("Duplicate charged Id - Dropped"+e),!1;Ne=i,de.saveToLSorCookie(v,i)}return!0}return!1};var je=t("logger"),Fe=t("oldValues"),Ve=t("request"),qe=t("isPersonalisationActive"),Be=t("processEventArray");class ze extends Array{constructor(e,t){let{logger:n,request:o,isPersonalisationActive:r}=e;super(),Object.defineProperty(this,Be,{value:He}),Object.defineProperty(this,je,{writable:!0,value:void 0}),Object.defineProperty(this,Fe,{writable:!0,value:void 0}),Object.defineProperty(this,Ve,{writable:!0,value:void 0}),Object.defineProperty(this,qe,{writable:!0,value:void 0}),i(this,je)[je]=n,i(this,Fe)[Fe]=t,i(this,Ve)[Ve]=o,i(this,qe)[qe]=r}push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(this,Be)[Be](t),0}_processOldValues(){i(this,Fe)[Fe]&&i(this,Be)[Be](i(this,Fe)[Fe]),i(this,Fe)[Fe]=null}getDetails(e){if(!i(this,qe)[qe]())return;if(void 0===ue.globalEventsMap&&(ue.globalEventsMap=de.readFromLSorCookie(S)),void 0===ue.globalEventsMap)return;const t=ue.globalEventsMap[e],n={};return void 0!==t?(n.firstTime=new Date(1e3*t[1]),n.lastTime=new Date(1e3*t[2]),n.count=t[0],n):void 0}}var He=function(e){if(Array.isArray(e))for(;e.length>0;){var t=e.shift();if(!$(t)){i(this,je)[je].error(Ae);continue}if(t.length>1024&&(t=t.substring(0,1024),i(this,je)[je].reportError(510,t+"... length exceeded 1024 chars. Trimmed.")),J.includes(t)){i(this,je)[je].reportError(513,t+" is a restricted system event. It cannot be used as an event name.");continue}const n={type:"event"};if(n.evtName=oe(t,u),0!==e.length){const o=e.shift();if(Z(o)){if("Charged"===t){if(!Ue(o,i(this,je)[je])){i(this,je)[je].reportError(511,"Charged event structure invalid. Not sent.");continue}}else if(!Le(o)){i(this,je)[je].reportError(512,t+" event structure invalid. Not sent.");continue}n.evtData=o}else e.unshift(o)}i(this,Ve)[Ve].processEvent(n)}};const Ke=e=>{const t={},i=e.indexOf("?");if(i>1){const n=e.substring(i+1);let o;const r=/\+/g,s=/([^&=]+)=?([^&]*)/g,a=function(e){let t=e.replace(r," ");try{t=decodeURIComponent(t)}catch(e){}return t};for(o=s.exec(n);o;)t[a(o[1])]=a(o[2]),o=s.exec(n)}return t},We=(e,t,i)=>e+"&"+t+"="+encodeURIComponent(i),Ge=()=>window.location.hostname,Ye=(e,t)=>(t&&"function"==typeof t.debug&&t.debug("dobj:"+e),$e(e)),Je=(()=>{let e="",t=0;for(t=0;t<=25;t++)e+=String.fromCharCode(t+65);for(t=0;t<=25;t++)e+=String.fromCharCode(t+97);for(t=0;t<10;t++)e+=t;return e+"+/="})(),$e=e=>{if(null==e)return"";var t,i,n,o,r,s,a,l="",c=0;for(e=(e=>{if(null==e)return"";let t,i,n,o={},r={},s="",a="",l="",c=2,d=3,u=2,h="",p=0,g=0,f=String.fromCharCode;for(n=0;n<e.length;n+=1)if(s=e.charAt(n),Object.prototype.hasOwnProperty.call(o,s)||(o[s]=d++,r[s]=!0),a=l+s,Object.prototype.hasOwnProperty.call(o,a))l=a;else{if(Object.prototype.hasOwnProperty.call(r,l)){if(l.charCodeAt(0)<256){for(t=0;t<u;t++)p<<=1,15==g?(g=0,h+=f(p),p=0):g++;for(i=l.charCodeAt(0),t=0;t<8;t++)p=p<<1|1&i,15==g?(g=0,h+=f(p),p=0):g++,i>>=1}else{for(i=1,t=0;t<u;t++)p=p<<1|i,15==g?(g=0,h+=f(p),p=0):g++,i=0;for(i=l.charCodeAt(0),t=0;t<16;t++)p=p<<1|1&i,15==g?(g=0,h+=f(p),p=0):g++,i>>=1}c--,0==c&&(c=Math.pow(2,u),u++),delete r[l]}else for(i=o[l],t=0;t<u;t++)p=p<<1|1&i,15==g?(g=0,h+=f(p),p=0):g++,i>>=1;c--,0==c&&(c=Math.pow(2,u),u++),o[a]=d++,l=String(s)}if(""!==l){if(Object.prototype.hasOwnProperty.call(r,l)){if(l.charCodeAt(0)<256){for(t=0;t<u;t++)p<<=1,15==g?(g=0,h+=f(p),p=0):g++;for(i=l.charCodeAt(0),t=0;t<8;t++)p=p<<1|1&i,15==g?(g=0,h+=f(p),p=0):g++,i>>=1}else{for(i=1,t=0;t<u;t++)p=p<<1|i,15==g?(g=0,h+=f(p),p=0):g++,i=0;for(i=l.charCodeAt(0),t=0;t<16;t++)p=p<<1|1&i,15==g?(g=0,h+=f(p),p=0):g++,i>>=1}c--,0==c&&(c=Math.pow(2,u),u++),delete r[l]}else for(i=o[l],t=0;t<u;t++)p=p<<1|1&i,15==g?(g=0,h+=f(p),p=0):g++,i>>=1;c--,0==c&&(c=Math.pow(2,u),u++)}for(i=2,t=0;t<u;t++)p=p<<1|1&i,15==g?(g=0,h+=f(p),p=0):g++,i>>=1;for(;;){if(p<<=1,15==g){h+=f(p);break}g++}return h})(e);c<2*e.length;)c%2==0?(t=e.charCodeAt(c/2)>>8,i=255&e.charCodeAt(c/2),n=c/2+1<e.length?e.charCodeAt(c/2+1)>>8:NaN):(t=255&e.charCodeAt((c-1)/2),(c+1)/2<e.length?(i=e.charCodeAt((c+1)/2)>>8,n=255&e.charCodeAt((c+1)/2)):i=n=NaN),c+=3,o=t>>2,r=(3&t)<<4|i>>4,s=(15&i)<<2|n>>6,a=63&n,isNaN(i)?s=a=64:isNaN(n)&&(a=64),l=l+Je.charAt(o)+Je.charAt(r)+Je.charAt(s)+Je.charAt(a);return l};var Ze=t("fireRequest"),Qe=t("dropRequestDueToOptOut"),Xe=t("addUseIPToRequest"),et=t("addARPToRequest");class tt{constructor(){this.networkRetryCount=0,this.minDelayFrequency=0}static fireRequest(e,t,n,o){i(this,Ze)[Ze](e,1,t,n,o)}getDelayFrequency(){if(this.logger.debug("Network retry #"+this.networkRetryCount),this.networkRetryCount<10)return this.logger.debug(this.account.id,"Failure count is "+this.networkRetryCount+". Setting delay frequency to 1s"),this.minDelayFrequency=G,this.minDelayFrequency;if(null==this.account.region)return this.logger.debug(this.account.id,"Setting delay frequency to 1s"),G;{const e=1e3*(Math.floor(10*Math.random())+1);return this.minDelayFrequency+=e,this.minDelayFrequency<6e5?(this.logger.debug(this.account.id,"Setting delay frequency to "+this.minDelayFrequency),this.minDelayFrequency):(this.minDelayFrequency=G,this.logger.debug(this.account.id,"Setting delay frequency to "+this.minDelayFrequency),this.minDelayFrequency)}}}tt.logger=void 0,tt.device=void 0,tt.account=void 0,Object.defineProperty(tt,Ze,{value:function(e,t,n,o,r){var s,a;if(i(this,Qe)[Qe]())return void this.logger.debug("req dropped due to optout cookie: "+this.device.gcookie);if(ie(this.device.gcookie)||(ue.blockRequest=!0),r&&r===Y)!ie(this.device.gcookie)&&ue.globalCache.RESP_N<ue.globalCache.REQ_N-1&&setTimeout((()=>{this.logger.debug("retrying fire request for url: ".concat(e,", tries: ").concat(this.networkRetryCount)),i(this,Ze)[Ze](e,void 0,n,o)}),this.getDelayFrequency());else if(!ie(this.device.gcookie)&&ue.globalCache.RESP_N<ue.globalCache.REQ_N-1&&t<200)return void setTimeout((()=>{this.logger.debug("retrying fire request for url: ".concat(e,", tries: ").concat(t)),i(this,Ze)[Ze](e,t+1,n,o)}),50);if(o?window.isOULInProgress=!0:(ie(this.device.gcookie)&&(e=We(e,"gc",this.device.gcookie)),e=i(this,et)[et](e,n)),e=We(e,"tries",t),e=i(this,Xe)[Xe](e),e=We(e,"r",(new Date).getTime()),(null===(s=window.clevertap)||void 0===s?void 0:s.hasOwnProperty("plugin"))||(null===(a=window.wizrocket)||void 0===a?void 0:a.hasOwnProperty("plugin"))){const t=window.clevertap.plugin||window.wizrocket.plugin;e=We(e,"ct_pl",t)}-1!==e.indexOf("chrome-extension:")&&(e=e.replace("chrome-extension:","https:"));for(var l=document.getElementsByClassName("ct-jp-cb");l[0]&&l[0].parentNode;)l[0].parentNode.removeChild(l[0]);const c=document.createElement("script");c.setAttribute("type","text/javascript"),c.setAttribute("src",e),c.setAttribute("class","ct-jp-cb"),c.setAttribute("rel","nofollow"),c.async=!0,document.getElementsByTagName("head")[0].appendChild(c),this.logger.debug("req snt -> url: "+e)}}),Object.defineProperty(tt,Qe,{value:function(){return!ue.isOptInRequest&&ie(this.device.gcookie)&&$(this.device.gcookie)?":OO"===this.device.gcookie.slice(-3):(ue.isOptInRequest=!1,!1)}}),Object.defineProperty(tt,Xe,{value:function(e){var t=de.getMetaProp(O);return"boolean"!=typeof t&&(t=!1),We(e,O,t?"true":"false")}}),Object.defineProperty(tt,et,{value:function(e,t){if(!0===t){const t={skipResARP:!0};return We(e,"arp",Ye(JSON.stringify(t),this.logger))}return de._isLocalStorageSupported()&&void 0!==localStorage.getItem(k)&&null!==localStorage.getItem(k)?We(e,"arp",Ye(JSON.stringify(de.readFromLSorCookie(k)),this.logger)):e}});const it=()=>{let e={};if(de._isLocalStorageSupported()){let t=de.read(y);null!=t?(t=JSON.parse(decodeURIComponent(t).replace(p,'"')),t.hasOwnProperty("global")?e.wp=t:e=t):e={}}return e},nt=e=>{if(de._isLocalStorageSupported()){const t={...it(),...e},i=JSON.stringify(t);de.save(y,encodeURIComponent(i)),ot()}},ot=()=>{if(de._isLocalStorageSupported()){let i=de.read(b);if(ie(i))try{i=JSON.parse(decodeURIComponent(de.read(b)));const n=de.read(w)?JSON.parse(decodeURIComponent(de.read(w))):{};if(i&&de._isLocalStorageSupported()){var e={},t=it();Object.keys(t).forEach((o=>{const r=i in n&&Object.keys(n[i]).length&&n[i][o]?n[i][o]:{},s=t[o].global,a=re(),l=t[o][a];if(void 0!==s){const e=Object.keys(s);for(const t in e){let i=[];if(e.hasOwnProperty(t)){let n=0,o=0;const a=e[t];if("tc"===a)continue;void 0!==l&&void 0!==l[a]&&(n=l[a]),void 0!==s&&void 0!==s[a]&&(o=s[a]),i=[a,n,o],r[a]=i}}}e={...e,[o]:r}})),n[i]=e,de.save(w,encodeURIComponent(JSON.stringify(n)))}}catch(e){console.error("Invalid clevertap Id "+e)}}},rt=()=>{const e=JSON.parse(decodeURIComponent(de.read(b)));let t={};if(de._isLocalStorageSupported()){let i={};t=it();const n=de.read(w),o=n?decodeURIComponent(n):null,r=o?JSON.parse(o):null,s=e&&null!=n&&r&&r[e]&&r[e].wp?Object.values(r[e].wp):[],a=e&&null!=n&&r&&r[e]&&r[e].wi?Object.values(r[e].wi):[],l=re();let c=0,d=0;return t.wp&&t.wp[l]&&"undefined"!==t.wp[l].tc&&(c=t.wp[l].tc),t.wi&&t.wi[l]&&"undefined"!==t.wi[l].tc&&(d=t.wi[l].tc),i={wmp:c,wimp:d,tlc:s,witlc:a},i}},st=(e,t)=>{let{logger:i}=t,n=!1;if(Z(e))for(const t in e)if(e.hasOwnProperty(t)){n=!0;let o=e[t];if(null==o){delete e[t];continue}"Gender"!==t||o.match(/^M$|^F$/)||(n=!1,i.error(Ie)),"Employed"!==t||o.match(/^Y$|^N$/)||(n=!1,i.error(Pe)),"Married"!==t||o.match(/^Y$|^N$/)||(n=!1,i.error(Oe)),"Education"!==t||o.match(/^School$|^College$|^Graduate$/)||(n=!1,i.error(Te)),"Age"===t&&null!=o&&(ee(o)?e.Age=+o:(n=!1,i.error(xe))),"DOB"===t?(/^\$D_/.test(o)&&11===(o+"").length||Q(o)||(n=!1,i.error(Re)),Q(o)&&(e[t]=ae(o))):Q(o)&&(e[t]=ae(o)),"Phone"!==t||X(o)||(o.length>8&&"+"===o.charAt(0)?(o=o.substring(1,o.length),ee(o)?e.Phone=+o:(n=!1,i.error(De+". Removed."))):(n=!1,i.error(De+". Removed."))),n||delete e[t]}return n},at=e=>{const t={};t.Name=e.name,null!=e.id&&(t.FBID=e.id+""),"male"===e.gender?t.Gender="M":"female"===e.gender?t.Gender="F":t.Gender="O";null!=e.relationship_status&&(t.Married="N","Married"===e.relationship_status&&(t.Married="Y"));const i=function(e){if(null!=e){let t="",i="";for(let n=0;n<e.length;n++){const o=e[n];if(null!=o.type){const e=o.type;if("Graduate School"===e)return"Graduate";"College"===e?t="1":"High School"===e&&(i="1")}}if("1"===t)return"College";if("1"===i)return"School"}}(e.education);null!=i&&(t.Education=i);const n=null!=e.work?e.work.length:0;if(t.Employed=n>0?"Y":"N",null!=e.email&&(t.Email=e.email),null!=e.birthday){const i=e.birthday.split("/");t.DOB=le(i[2]+i[0]+i[1])}return t},lt=(e,t)=>{let{logger:i}=t;const n={};if(null!=e.displayName&&(n.Name=e.displayName),null!=e.id&&(n.GPID=e.id+""),null!=e.gender&&("male"===e.gender?n.Gender="M":"female"===e.gender?n.Gender="F":"other"===e.gender&&(n.Gender="O")),null!=e.image&&!1===e.image.isDefault&&(n.Photo=e.image.url.split("?sz")[0]),null!=e.emails)for(let t=0;t<e.emails.length;t++){const i=e.emails[t];"account"===i.type&&(n.Email=i.value)}if(null!=e.organizations){n.Employed="N";for(let t=0;t<e.organizations.length;t++)"work"===e.organizations[t].type&&(n.Employed="Y")}if(null!=e.birthday){const t=e.birthday.split("-");n.DOB=le(t[0]+t[1]+t[2])}return null!=e.relationshipStatus&&(n.Married="N","married"===e.relationshipStatus&&(n.Married="Y")),i.debug("gplus usr profile "+JSON.stringify(n)),n},ct=(e,t)=>{if(de._isLocalStorageSupported()){if(null==ue.globalProfileMap&&(ue.globalProfileMap=de.readFromLSorCookie(C),null==ue.globalProfileMap&&(ue.globalProfileMap={})),null!=e._custom){const t=e._custom;for(const i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);delete e._custom}for(const i in e)if(e.hasOwnProperty(i)){if(ue.globalProfileMap.hasOwnProperty(i)&&!t)continue;ue.globalProfileMap[i]=e[i]}null!=ue.globalProfileMap._custom&&delete ue.globalProfileMap._custom,de.saveToLSorCookie(C,ue.globalProfileMap)}},dt=(e,t,i)=>{if(null!=e&&"-1"!==e&&de._isLocalStorageSupported()){const t=it();let n=t.wp[i];null==n&&(n={},t[i]=n),n[e]="dnd",nt(t)}if(null!=ue.campaignDivMap){const t=ue.campaignDivMap[e];null!=t&&(document.getElementById(t).style.display="none","intentPreview"===t&&null!=document.getElementById("intentOpacityDiv")&&(document.getElementById("intentOpacityDiv").style.display="none"))}};var ut=t("logger"),ht=t("request"),pt=t("account"),gt=t("oldValues"),ft=t("isPersonalisationActive"),vt=t("processProfileArray");class bt extends Array{constructor(e,t){let{logger:n,request:o,account:r,isPersonalisationActive:s}=e;super(),Object.defineProperty(this,vt,{value:mt}),Object.defineProperty(this,ut,{writable:!0,value:void 0}),Object.defineProperty(this,ht,{writable:!0,value:void 0}),Object.defineProperty(this,pt,{writable:!0,value:void 0}),Object.defineProperty(this,gt,{writable:!0,value:void 0}),Object.defineProperty(this,ft,{writable:!0,value:void 0}),i(this,ut)[ut]=n,i(this,ht)[ht]=o,i(this,pt)[pt]=r,i(this,gt)[gt]=t,i(this,ft)[ft]=s}push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(this,vt)[vt](t),0}_processOldValues(){i(this,gt)[gt]&&i(this,vt)[vt](i(this,gt)[gt]),i(this,gt)[gt]=null}getAttribute(e){if(i(this,ft)[ft]())return null==ue.globalProfileMap&&(ue.globalProfileMap=de.readFromLSorCookie(C)),null!=ue.globalProfileMap?ue.globalProfileMap[e]:void 0}_handleIncrementDecrementValue(e,t,n){var o;if(null==ue.globalProfileMap&&(ue.globalProfileMap=de.readFromLSorCookie(C)),null!=ue.globalProfileMap||(null===(o=ue.globalProfileMap)||void 0===o?void 0:o.hasOwnProperty(e)))if(!t||"number"!=typeof t||t<=0)console.error("Value should be a number greater than 0");else{ue.globalProfileMap[e]=n===q?ue.globalProfileMap[e]+t:ue.globalProfileMap[e]-t,de.saveToLSorCookie(C,ue.globalProfileMap);let o={};const r={};o.type="profile",r[e]={[n]:t},null==r.tz&&(r.tz=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1]),o.profile=r,o=i(this,ht)[ht].addSystemDataToObject(o,!0),i(this,ht)[ht].addFlags(o);const s=Ye(JSON.stringify(o),i(this,ut)[ut]);let a=i(this,pt)[pt].dataPostURL;a=We(a,"type",R),a=We(a,"d",s),i(this,ht)[ht].saveAndFireRequest(a,ue.blockRequest)}else console.error("Kindly create profile with required proprty to increment/decrement.")}_handleMultiValueSet(e,t,i){const n=[];for(let e=0;e<t.length;e++)"number"!=typeof t[e]||n.includes(t[e])?"string"!=typeof t[e]||n.includes(t[e].toLowerCase())?console.error("array supports only string or number type values"):n.push(t[e].toLowerCase()):n.push(t[e]);var o;null==ue.globalProfileMap&&(ue.globalProfileMap=null!==(o=de.readFromLSorCookie(C))&&void 0!==o?o:{}),ue.globalProfileMap[e]=n,de.saveToLSorCookie(C,ue.globalProfileMap),this.sendMultiValueData(e,t,i)}_handleMultiValueAdd(e,t,i){var n=[];if(null==ue.globalProfileMap&&(ue.globalProfileMap=de.readFromLSorCookie(C)||{}),"string"==typeof t||"number"==typeof t)ue.globalProfileMap.hasOwnProperty(e)?(n=ue.globalProfileMap[e]).push("number"==typeof t?t:t.toLowerCase()):ue.globalProfileMap[e]=t;else{ue.globalProfileMap.hasOwnProperty(e)&&(n=Array.isArray(ue.globalProfileMap[e])?ue.globalProfileMap[e]:[ue.globalProfileMap[e]]);for(var o=0;o<t.length;o++)"number"!=typeof t[o]||n.includes(t[o])?"string"!=typeof t[o]||n.includes(t[o].toLowerCase())?"number"==typeof t[o]&&n.includes(t[o])||"string"==typeof t[o]&&n.includes(t[o].toLowerCase())?console.error("Values already included"):console.error("Array supports only string or number type values"):n.push(t[o].toLowerCase()):n.push(t[o]);ue.globalProfileMap[e]=n}de.saveToLSorCookie(C,ue.globalProfileMap),this.sendMultiValueData(e,t,i)}_handleMultiValueRemove(e,t,i){var n;if(null==ue.globalProfileMap&&(ue.globalProfileMap=de.readFromLSorCookie(C)),null==ue||null===(n=ue.globalProfileMap)||void 0===n?void 0:n.hasOwnProperty(e))if("string"==typeof t||"number"==typeof t){var o=ue.globalProfileMap[e].indexOf(t);-1!==o&&ue.globalProfileMap[e].splice(o,1)}else for(var r=0;r<t.length;r++){var s=ue.globalProfileMap[e].indexOf(t[r]);-1!==s&&ue.globalProfileMap[e].splice(s,1)}else console.error("The property ".concat(e," does not exist."));de.saveToLSorCookie(C,ue.globalProfileMap),this.sendMultiValueData(e,t,i)}_handleMultiValueDelete(e,t){var i;null==ue.globalProfileMap&&(ue.globalProfileMap=de.readFromLSorCookie(C)),(null==ue||null===(i=ue.globalProfileMap)||void 0===i?void 0:i.hasOwnProperty(e))?delete ue.globalProfileMap[e]:console.error("The property ".concat(e," does not exist.")),de.saveToLSorCookie(C,ue.globalProfileMap),this.sendMultiValueData(e,null,t)}sendMultiValueData(e,t,n){let o={};const r={};o.type="profile",r[e]={[n]:n===H||t},null==r.tz&&(r.tz=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1]),o.profile=r,o=i(this,ht)[ht].addSystemDataToObject(o,!0),i(this,ht)[ht].addFlags(o);const s=Ye(JSON.stringify(o),i(this,ut)[ut]);let a=i(this,pt)[pt].dataPostURL;a=We(a,"type",R),a=We(a,"d",s),i(this,ht)[ht].saveAndFireRequest(a,ue.blockRequest)}}var mt=function(e){if(Array.isArray(e)&&e.length>0)for(const t in e)if(e.hasOwnProperty(t)){const n=e[t];let o,r={};if(null!=n.Site){if(o=n.Site,X(o)||!st(o,{logger:i(this,ut)[ut]}))return}else if(null!=n.Facebook){const e=n.Facebook;X(e)||e.error||(o=at(e))}else if(null!=n["Google Plus"]){const e=n["Google Plus"];X(e)||e.error||(o=lt(e,{logger:i(this,ut)[ut]}))}if(null!=o&&!X(o)){r.type="profile",null==o.tz&&(o.tz=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1]),r.profile=o,ct(o,!0),r=i(this,ht)[ht].addSystemDataToObject(r,void 0),i(this,ht)[ht].addFlags(r);const e=Ye(JSON.stringify(r),i(this,ut)[ut]);let t=i(this,pt)[pt].dataPostURL;t=We(t,"type",R),t=We(t,"d",e),i(this,ht)[ht].saveAndFireRequest(t,ue.blockRequest)}}},yt=t("request"),wt=t("logger"),St=t("account"),_t=t("session"),Ct=t("oldValues"),kt=t("device"),Et=t("processOUL"),At=t("handleCookieFromCache"),It=t("deleteUser"),Pt=t("processLoginArray");class Ot extends Array{constructor(e,t){let{request:n,account:o,session:r,logger:s,device:a}=e;super(),Object.defineProperty(this,Pt,{value:Mt}),Object.defineProperty(this,It,{value:Rt}),Object.defineProperty(this,At,{value:xt}),Object.defineProperty(this,Et,{value:Tt}),Object.defineProperty(this,yt,{writable:!0,value:void 0}),Object.defineProperty(this,wt,{writable:!0,value:void 0}),Object.defineProperty(this,St,{writable:!0,value:void 0}),Object.defineProperty(this,_t,{writable:!0,value:void 0}),Object.defineProperty(this,Ct,{writable:!0,value:void 0}),Object.defineProperty(this,kt,{writable:!0,value:void 0}),i(this,yt)[yt]=n,i(this,St)[St]=o,i(this,_t)[_t]=r,i(this,wt)[wt]=s,i(this,Ct)[Ct]=t,i(this,kt)[kt]=a}clear(){i(this,wt)[wt].debug("clear called. Reset flag has been set."),i(this,It)[It](),de.setMetaProp(g,!0)}push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(this,Pt)[Pt](t),0}_processOldValues(){i(this,Ct)[Ct]&&i(this,Pt)[Pt](i(this,Ct)[Ct]),i(this,Ct)[Ct]=null}}var Tt=function(e){let t=!0;de.saveToLSorCookie(F,t);const n=e=>{let n=de.readFromLSorCookie(m);const o=de.readFromLSorCookie(b);let r;if(null==n)n={},r=e;else{r=n.id;let s=!1,a=!1;if(null==r&&(r=e[0],s=!0),null==ue.LRU_CACHE&&de._isLocalStorageSupported()&&(ue.LRU_CACHE=new ge(100)),s)null!=o&&(ue.LRU_CACHE.set(r,o),ue.blockRequest=!1);else for(const t in e)if(e.hasOwnProperty(t)){const i=e[t];if(ue.LRU_CACHE.cache[i]){r=i,a=!0;break}}if(a){r!==ue.LRU_CACHE.getLastKey()?i(this,At)[At]():(t=!1,de.saveToLSorCookie(F,t));const e=ue.LRU_CACHE.get(r);ue.LRU_CACHE.set(r,e),de.saveToLSorCookie(b,e),i(this,kt)[kt].gcookie=e;const n=ue.LRU_CACHE.getSecondLastKey();if(de.readFromLSorCookie(F)&&-1!==n){const e=ue.LRU_CACHE.cache[n];i(this,yt)[yt].unregisterTokenForGuid(e)}}else s?null!=o&&(i(this,kt)[kt].gcookie=o,de.saveToLSorCookie(b,o),t=!1):this.clear(),de.saveToLSorCookie(F,!1),r=e[0]}n.id=r,de.saveToLSorCookie(m,n)};if(Array.isArray(e)&&e.length>0)for(const o in e)if(e.hasOwnProperty(o)){const r=e[o];let s,a={};if(null!=r.Site){if(s=r.Site,X(s)||!st(s,{logger:i(this,wt)[wt]}))return}else if(null!=r.Facebook){const e=r.Facebook;X(e)||e.error||(s=at(e))}else if(null!=r["Google Plus"]){const e=r["Google Plus"];X(e)&&!e.error&&(s=lt(e,{logger:i(this,wt)[wt]}))}if(null!=s&&!X(s)){a.type="profile",null==s.tz&&(s.tz=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1]),a.profile=s;const e=[];de._isLocalStorageSupported()&&(s.Identity&&e.push(s.Identity),s.Email&&e.push(s.Email),s.GPID&&e.push("GP:"+s.GPID),s.FBID&&e.push("FB:"+s.FBID),e.length>0&&n(e)),ct(s,!0),a=i(this,yt)[yt].addSystemDataToObject(a,void 0),i(this,yt)[yt].addFlags(a),t&&(a[x]=!0);const o=Ye(JSON.stringify(a),i(this,wt)[wt]);let r=i(this,St)[St].dataPostURL;r=We(r,"type",R),r=We(r,"d",o),i(this,yt)[yt].saveAndFireRequest(r,ue.blockRequest,t)}}},xt=function(){ue.blockRequest=!1,console.debug("Block request is false"),de._isLocalStorageSupported()&&(delete localStorage[C],delete localStorage[S],delete localStorage[_],delete localStorage[k],delete localStorage[y],delete localStorage[v]),de.removeCookie(y,Ge()),de.removeCookie(i(this,_t)[_t].cookieName,ue.broadDomain),de.removeCookie(k,ue.broadDomain),i(this,_t)[_t].setSessionCookieObject("")},Rt=function(){ue.blockRequest=!0,i(this,wt)[wt].debug("Block request is true"),ue.globalCache={gcookie:null,REQ_N:0,RESP_N:0},de._isLocalStorageSupported()&&(delete localStorage[b],delete localStorage[m],delete localStorage[C],delete localStorage[S],delete localStorage[_],delete localStorage[k],delete localStorage[y],delete localStorage[v]),de.removeCookie(b,ue.broadDomain),de.removeCookie(y,Ge()),de.removeCookie(m,Ge()),de.removeCookie(i(this,_t)[_t].cookieName,ue.broadDomain),de.removeCookie(k,ue.broadDomain),i(this,kt)[kt].gcookie=null,i(this,_t)[_t].setSessionCookieObject("")},Mt=function(e){if(Array.isArray(e)&&e.length>0){const t=e.pop();if(null!=t&&Z(t)&&(null!=t.Site&&Object.keys(t.Site).length>0||null!=t.Facebook&&Object.keys(t.Facebook).length>0||null!=t["Google Plus"]&&Object.keys(t["Google Plus"]).length>0)){de.setInstantDeleteFlagInK();try{i(this,Et)[Et]([t])}catch(e){i(this,wt)[wt].debug(e)}}else i(this,wt)[wt].error("Profile object is in incorrect format")}};class Dt extends HTMLElement{constructor(){super(),this._details=null,this.shadow=null,this.shadow=this.attachShadow({mode:"open"})}get details(){return this._details||""}set details(e){null===this._details&&(this._details=e,this.renderBanner())}renderBanner(){this.shadow.innerHTML=this.getBannerContent(),!1!==this.trackClick&&this.addEventListener("click",(()=>{const e=this.details.onClick;e&&(this.details.window?window.open(e,"_blank"):window.parent.location.href=e),window.clevertap.renderNotificationClicked({msgId:this.msgId,pivotId:this.pivotId})})),window.clevertap.renderNotificationViewed({msgId:this.msgId,pivotId:this.pivotId})}getBannerContent(){return'\n      <style type="text/css">\n        .banner {\n          position: relative;\n          cursor: '.concat(this.details.onClick?"pointer":"","\n        }\n        img {\n          height: ").concat(this.divHeight?this.divHeight:"auto",";\n          width: 100%;\n        }\n        .wrapper:is(.left, .right, .center) {\n          display: flex;\n          justify-content: center;\n          flex-direction: column;\n          align-items: center;\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          overflow: auto;\n          top: 0;\n        }\n        ").concat(this.details.css?this.details.css:"",'\n      </style>\n      <div class="banner">\n        <picture>\n          <source media="(min-width:480px)" srcset="').concat(this.details.desktopImageURL,'">\n          <source srcset="').concat(this.details.mobileImageURL,'">\n          <img src="').concat(this.details.desktopImageURL,'" alt="Please upload a picture" style="width:100%;" part="banner__img">\n        </picture>\n        ').concat(this.details.html?this.details.html:"","\n      </div>\n    ")}}class Nt extends HTMLElement{constructor(){super(),this._target=null,this._carousel=null,this.shadow=null,this.slides=0,this.previouslySelectedItem=-1,this.selectedItem=1,this.autoSlide=null,this.stopAutoSlideTimeout=null,this.shadow=this.attachShadow({mode:"open"}),void 0===customElements.get("ct-web-personalisation-banner")&&customElements.define("ct-web-personalisation-banner",Dt)}get target(){return this._target||""}set target(e){null===this._target&&(this._target=e,this.renderCarousel())}get details(){return this.target.display.details}get display(){return this.target.display}renderCarousel(){this.slides=this.details.length,this.shadow.innerHTML=this.getStyles();const e=this.getCarouselContent();this.display.showNavBtns&&e.insertAdjacentHTML("beforeend",this.display.navBtnsHtml),this.display.showNavArrows&&(e.insertAdjacentHTML("beforeend",this.display.leftNavArrowHtml),e.insertAdjacentHTML("beforeend",this.display.rightNavArrowHtml)),this._carousel=e,this.shadow.appendChild(e),this.setupClick(),this.updateSelectedItem(),this.startAutoSlide(),this.setupOnHover(),window.clevertap.renderNotificationViewed({msgId:this.target.wzrk_id,pivotId:this.target.wzrk_pivot})}setupClick(){this._carousel.addEventListener("click",(e=>{const t=e.target.id;if(t.startsWith("carousel__button")){const e=+t.split("-")[1];e!==this.selectedItem&&(this.previouslySelectedItem=this.selectedItem,this.selectedItem=e,this.updateSelectedItem(),this.startAutoSlide())}else if(t.startsWith("carousel__arrow"))t.endsWith("right")?this.goToNext():this.goToPrev(),this.startAutoSlide();else if(t.indexOf("-")>-1){const e=+t.split("-")[1],i=e-1;window.parent.clevertap&&window.clevertap.renderNotificationClicked({msgId:this.target.wzrk_id,pivotId:this.target.wzrk_pivot,wzrk_slideNo:e});const n=this.details[i].onClick;""!==n&&(this.details[i].window?window.open(n,"_blank"):window.location.href=n)}}))}setupOnHover(){this._carousel.addEventListener("mouseenter",(e=>{this.stopAutoSlideTimeout=setTimeout((()=>{this.autoSlide=clearInterval(this.autoSlide)}),500)})),this._carousel.addEventListener("mouseleave",(e=>{clearTimeout(this.stopAutoSlideTimeout),void 0===this.autoSlide&&this.startAutoSlide()}))}getCarouselContent(){const e=document.createElement("div");return e.setAttribute("class","carousel"),this.details.forEach(((t,i)=>{const n=document.createElement("ct-web-personalisation-banner");n.classList.add("carousel__item"),n.trackClick=!1,n.setAttribute("id","carousel__item-".concat(i+1)),n.details=t,e.appendChild(n)})),e}getStyles(){var e,t;return"\n      <style>\n      .carousel {\n        position: relative;\n      }\n\n      .carousel__item {\n        display: none;\n        background-repeat: no-repeat;\n        background-size: cover;\n      }\n\n      ct-web-personalisation-banner::part(banner__img) {\n        height: ".concat((null==this||null===(e=this.target)||void 0===e||null===(t=e.display)||void 0===t?void 0:t.divHeight)?this.target.display.divHeight:"auto",";\n        width: 100%;\n        transition: 2s;\n      }\n\n      .carousel__item--selected {\n        display: block;\n      }\n      ").concat(this.display.navBtnsCss,"\n      ").concat(this.display.navArrowsCss,"\n      </style>\n  ")}updateSelectedItem(){if(-1!==this.previouslySelectedItem){const e=this.shadow.getElementById("carousel__item-".concat(this.previouslySelectedItem)),t=this.shadow.getElementById("carousel__button-".concat(this.previouslySelectedItem));e.classList.remove("carousel__item--selected"),t&&t.classList.remove("carousel__button--selected")}const e=this.shadow.getElementById("carousel__item-".concat(this.selectedItem)),t=this.shadow.getElementById("carousel__button-".concat(this.selectedItem));e.classList.add("carousel__item--selected"),t&&t.classList.add("carousel__button--selected")}startAutoSlide(){clearInterval(this.autoSlide),this.autoSlide=setInterval((()=>{this.goToNext()}),this.display.sliderTime?1e3*this.display.sliderTime:3e3)}goToNext(){this.goTo(this.selectedItem,(this.selectedItem+1)%this.slides)}goToPrev(){this.goTo(this.selectedItem,this.selectedItem-1)}goTo(e,t){this.previouslySelectedItem=e,this.selectedItem=t,0===t&&(this.selectedItem=this.slides),this.updateSelectedItem()}}class Lt extends HTMLElement{constructor(){super(),this._target=null,this._session=null,this.shadow=null,this.popup=null,this.container=null,this.resizeObserver=null,this.shadow=this.attachShadow({mode:"open"})}get target(){return this._target||""}set target(e){null===this._target&&(this._target=e,this.renderImageOnlyPopup())}get session(){return this._session||""}set session(e){this._session=e}get msgId(){return this.target.wzrk_id}get pivotId(){return this.target.wzrk_pivot}get onClickUrl(){return this.target.display.onClickUrl}renderImageOnlyPopup(){const e=this.target.wzrk_id.split("_")[0],t=this.session.sessionId;this.shadow.innerHTML=this.getImageOnlyPopupContent(),this.popup=this.shadowRoot.getElementById("imageOnlyPopup"),this.container=this.shadowRoot.getElementById("container"),this.closeIcon=this.shadowRoot.getElementById("close"),this.popup.addEventListener("load",this.updateImageAndContainerWidth()),this.resizeObserver=new ResizeObserver((()=>this.handleResize(this.popup,this.container))),this.resizeObserver.observe(this.popup),this.closeIcon.addEventListener("click",(()=>{if(this.resizeObserver.unobserve(this.popup),document.getElementById("wzrkImageOnlyDiv").style.display="none",this.remove(),null!=e&&"-1"!==e&&de._isLocalStorageSupported()){const i=it();let n=i.wp[t];null==n&&(n={},i[t]=n),n[e]="dnd",nt(i)}})),window.clevertap.renderNotificationViewed({msgId:this.msgId,pivotId:this.pivotId}),this.onClickUrl&&this.popup.addEventListener("click",(()=>{this.target.display.window?window.open(this.onClickUrl,"_blank"):window.parent.location.href=this.onClickUrl,window.clevertap.renderNotificationClicked({msgId:this.msgId,pivotId:this.pivotId})}))}handleResize(e,t){const i=this.getRenderedImageWidth(e);t.style.setProperty("width","".concat(i,"px"))}getImageOnlyPopupContent(){return"\n        ".concat(this.target.msgContent.css,"\n        ").concat(this.target.msgContent.html,"\n      ")}updateImageAndContainerWidth(){return()=>{const e=this.getRenderedImageWidth(this.popup);this.popup.style.setProperty("width","".concat(e,"px")),this.container.style.setProperty("width","".concat(e,"px")),this.container.style.setProperty("height","auto"),this.container.style.setProperty("position","fixed"),this.popup.style.setProperty("visibility","visible"),this.closeIcon.style.setProperty("visibility","visible"),document.getElementById("wzrkImageOnlyDiv").style.visibility="visible"}}getRenderedImageWidth(e){const t=e.naturalWidth/e.naturalHeight;return e.height*t}}class Ut extends HTMLElement{constructor(e,t){super(),this.wrapper=null,this.snackBar=null,this.shadow=this.attachShadow({mode:"open"}),this.config=e,this.message=t,this.renderMessage(t)}get pivotId(){return this.message.wzrk_pivot}get campaignId(){return this.message.wzrk_id}createEl(e,t,i){const n=document.createElement(e);return n.setAttribute("id",t),n.setAttribute("part",i||t),n}renderMessage(e){switch(this.wrapper=this.createEl("div","messageWrapper"),e.templateType){case"text-only":case"text-with-icon":case"text-with-icon-and-image":{const t=this.prepareBasicMessage(e.msg[0]);this.wrapper.appendChild(t)}}const t=this.createEl("div","timeStamp");if(t.innerHTML="<span>".concat(Gt(e.id.split("_")[1]),"<span>"),!e.viewed){const e=this.createEl("span","unreadMarker");t.appendChild(e)}this.wrapper.appendChild(t),this.shadow.appendChild(this.wrapper)}prepareBasicMessage(e){const t=this.createEl("div","message");if(e.imageUrl){const i=this.addImage(e.imageUrl,"mainImg");t.appendChild(i)}const i=this.createEl("div","iconTitleDescWrapper");if(e.iconUrl){const t=this.addImage(e.iconUrl,"iconImg");i.appendChild(t)}const n=this.createEl("div","titleDescWrapper");if(e.title){const t=this.createEl("div","title");t.innerText=e.title,n.appendChild(t)}if(e.description){const t=this.createEl("div","description");t.innerText=e.description,n.appendChild(t)}if((e.title||e.description)&&i.appendChild(n),(e.iconUrl||e.title||e.description)&&t.appendChild(i),e.buttons&&e.buttons.length){const i=this.addButtons(e.buttons);t.appendChild(i)}return t}addButtons(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=this.createEl("div","buttonsContainer");let i=!1;return e.forEach(((e,n)=>{const o=this.createEl("button","button-".concat(n),"button");o.innerText=e.text,n>0&&(o.style.cssText+="margin-left: 2px;"),"copy"===e.action&&(i=!0),t.appendChild(o)})),i&&this.addSnackbar(t),t}addSnackbar(e){this.snackBar=this.createEl("div","snackbar-".concat(this.campaignId),"snackbar"),this.snackBar.innerHTML=$t;const t=this.createEl("span","snackbar-msg-".concat(this.campaignId),"snackbar-msg");t.innerText="Copied to clipboard",this.snackBar.appendChild(t),e.appendChild(this.snackBar)}addImage(e,t){const i=this.createEl("div","".concat(t,"Container")),n=this.createEl("img",t);return n.setAttribute("src",e),n.setAttribute("loading","lazy"),i.appendChild(n),i}raiseClickedEvent(e,t){switch(this.message.templateType){case"text-only":case"text-with-icon":case"text-with-icon-and-image":this.raiseClickedForBasicTemplates(e,t)}}raiseClickedForBasicTemplates(e,t){const i=this.message.msg[0],n={msgId:this.campaignId,pivotId:this.pivotId};if("BUTTON"===e.tagName){const t=e.id.split("-")[1],o=i.buttons[t];n.kv={wzrk_c2a:o.text},"url"===o.action?o.openUrlInNewTab?window.open(o.url,"_blank"):window.location=o.url:"copy"===o.action&&(window.focus(),navigator.clipboard.writeText(o.clipboardText),this.snackBar.style.setProperty("display","flex","important"),setTimeout((()=>{this.snackBar.style.setProperty("display","none","important")}),2e3))}else"CT-INBOX-MESSAGE"===e.tagName&&i.onClickUrl&&(i.openUrlInNewTab?window.open(i.onClickUrl,"_blank"):window.location=i.onClickUrl);t?console.log("Notifiction clicked event will be raised at run time with payload ::",n):window.clevertap.renderNotificationClicked(n)}}class jt extends HTMLElement{constructor(e){super(),this.isInboxOpen=!1,this.isInboxFromFlutter=!1,this.selectedCategory=null,this.unviewedMessages={},this.unviewedCounter=0,this.isPreview=!1,this.inboxConfigForPreview={},this.inboxSelector=null,this.inbox=null,this.emptyInboxMsg=null,this.inboxCard=null,this.unviewedBadge=null,this.observer=null,this.selectedCategoryRef=null,this.addClickListenerOnDocument=(()=>e=>{if(e.composedPath().includes(this.inbox)){const t=e.path||e.composedPath&&e.composedPath();if(t.length){const e=t[0].id;if("closeInbox"===e)this.toggleInbox();else if(e.startsWith("category-"))this.prevCategoryRef=this.selectedCategoryRef,this.selectedCategoryRef=t[0],this.updateActiveCategory(t[0].innerText);else{const e=t.filter((e=>{var t;return(null===(t=e.id)||void 0===t?void 0:t.startsWith("button-"))||"CT-INBOX-MESSAGE"===e.tagName}));e.length&&e[e.length-1].raiseClickedEvent(e[0],this.isPreview)}}}else(this.inboxSelector.contains(e.target)||this.isInboxOpen)&&(this.isInboxFromFlutter?this.isInboxFromFlutter=!1:this.toggleInbox(e))})(),this.setBadgeStyle=e=>{null!==this.unviewedBadge&&(this.unviewedBadge.innerText=e>9?"9+":e,this.unviewedBadge.style.display=e>0?"flex":"none")},this.logger=e,this.shadow=this.attachShadow({mode:"open"})}get incomingMessages(){return[]}set incomingMessages(e){void 0===e&&(e=[]),e.length>0&&this.inbox&&this.updateInboxMessages(e)}get incomingMessagesForPreview(){return[]}set incomingMessagesForPreview(e){void 0===e&&(e=[]);const t={};e.length>0&&this.inbox&&(this.isPreview=!0,this.unviewedCounter=0,e.forEach((e=>{const i="".concat(e.wzrk_id.split("_")[0],"_").concat(Date.now());e.id=i,t[i]=e,this.unviewedMessages[i]=e,this.unviewedCounter++})),this.buildUIForMessages(t),this.updateUnviewedBadgeCounter())}connectedCallback(){this.init()}init(){this.config=this.isPreview?this.inboxConfigForPreview:de.readFromLSorCookie(K)||{},0!==Object.keys(this.config).length&&(this.inboxSelector=document.getElementById(this.config.inboxSelector),null!==this.inboxSelector&&(this.config.styles.notificationsBadge?this.addUnviewedBadge():this.unviewedBadge&&this.unviewedBadge.remove(),this.createinbox(),document.removeEventListener("click",this.addClickListenerOnDocument),document.addEventListener("click",this.addClickListenerOnDocument),this.config.categories.length&&this.updateActiveCategory(this.selectedCategoryRef.innerText),this.shadow.innerHTML=this.getInboxStyles(),this.shadow.appendChild(this.inbox)))}addMsgsToInboxFromLS(){const e=this.deleteExpiredAndGetUnexpiredMsgs(!1),t=e?Object.keys(e):[];0!==t.length&&(t.forEach((t=>{e[t].viewed||(this.unviewedMessages[t]=e[t],this.unviewedCounter++)})),this.buildUIForMessages(e),this.updateUnviewedBadgeCounter())}deleteExpiredAndGetUnexpiredMsgs(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Bt();const i=Math.floor(Date.now()/1e3);for(const n in t)if(t[n].wzrk_ttl&&t[n].wzrk_ttl>0&&t[n].wzrk_ttl<i){if(e){const e=this.shadowRoot.getElementById(t[n].id);e&&e.remove(),t[n].viewed||(this.unviewedCounter--,this.updateUnviewedBadgeCounter())}delete t[n]}return t&&t.length>0&&(t=Object.values(t).sort(((e,t)=>t.date-e.date)).reduce(((e,t)=>(e[t.id]=t,e)),{})),zt(t),t}updateInboxMessages(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=this.deleteExpiredAndGetUnexpiredMsgs(),i=Date.now(),n={};e.forEach(((e,o)=>{const r="".concat(e.wzrk_id.split("_")[0],"_").concat(Date.now());e.id=r,e.date=i-o,e.viewed=0,t[r]=e,n[r]=e,this.unviewedMessages[r]=e,this.unviewedCounter++})),zt(t),this.buildUIForMessages(n),this.updateUnviewedBadgeCounter()}createEl(e,t,i){const n=document.createElement(e);return n.setAttribute("id",t),n.setAttribute("part",i||t),n}addUnviewedBadge(){this.unviewedBadge||(this.unviewedBadge=this.createEl("div","unviewedBadge"),this.unviewedBadge.style.cssText="display: none; position: absolute; height: 16px; width: 26px; border-radius: 8px; background-color: ".concat(this.config.styles.notificationsBadge.backgroundColor,"; font-size: 12px; color: ").concat(this.config.styles.notificationsBadge.textColor,"; font-weight: bold; align-items: center; justify-content: center;"),document.body.appendChild(this.unviewedBadge)),this.updateUnviewedBadgePosition(),window.addEventListener("resize",(()=>{this.updateUnviewedBadgePosition()}))}updateUnviewedBadgePosition(){const{top:e,right:t}=this.inboxSelector.getBoundingClientRect();this.unviewedBadge.style.top="".concat(e-8,"px"),this.unviewedBadge.style.left="".concat(t-8,"px")}createinbox(){this.inbox=this.createEl("div","inbox");const e=this.createEl("div","header"),t=this.createEl("div","headerTitle");t.innerText=this.config.title;const i=this.createEl("div","closeInbox");if(i.innerHTML="&times",e.appendChild(t),e.appendChild(i),this.inbox.appendChild(e),this.config.categories.length){const e=this.createCategories();this.inbox.appendChild(e)}this.inboxCard=this.createEl("div","inboxCard"),this.inbox.appendChild(this.inboxCard),this.emptyInboxMsg=this.createEl("div","emptyInboxMsg"),this.emptyInboxMsg.innerText="All messages will be displayed here.",this.inboxCard.appendChild(this.emptyInboxMsg);const n={root:this.inboxCard,rootMargin:"0px",threshold:.5};this.observer=new IntersectionObserver(((e,t)=>{this.handleMessageViewed(e)}),n),this.addMsgsToInboxFromLS()}createCategories(){const e=this.createEl("div","categoriesContainer"),t=this.createEl("div","leftArrow");t.innerHTML=Jt,t.children[0].style="transform: rotate(180deg)",t.addEventListener("click",(()=>{this.shadowRoot.getElementById("categoriesWrapper").scrollBy(-70,0)})),e.appendChild(t);const i=this.createEl("div","categoriesWrapper");["All",...this.config.categories].forEach(((e,t)=>{const n=this.createEl("div","category-".concat(t),"category");n.innerText=e,0===t&&(this.selectedCategoryRef=n),i.appendChild(n)})),e.appendChild(i);const n=this.createEl("div","rightArrow");n.innerHTML=Jt,n.addEventListener("click",(()=>{this.shadowRoot.getElementById("categoriesWrapper").scrollBy(70,0)})),e.appendChild(n);const o={root:e,threshold:.9},r=i.children[0],s=i.children[this.config.categories.length];return new IntersectionObserver((e=>{this.categoryObserverCb(t,e[0].intersectionRatio>=.9)}),o).observe(r),new IntersectionObserver((e=>{this.categoryObserverCb(n,e[0].intersectionRatio>=.9)}),o).observe(s),e}categoryObserverCb(e,t){e&&(e.style.display=t?"none":"flex")}updateActiveCategory(e){this.selectedCategory=e,this.inboxCard.scrollTop=0;let t=0;this.prevCategoryRef&&this.prevCategoryRef.setAttribute("selected","false"),this.selectedCategoryRef.setAttribute("selected","true"),this.inboxCard.childNodes.forEach((e=>{"emptyInboxMsg"!==e.getAttribute("id")&&(e.style.display="All"===this.selectedCategory||e.getAttribute("category")===this.selectedCategory?"block":"none","block"===e.style.display&&t++)})),0===t?(this.emptyInboxMsg.innerText="".concat(e," messages will be displayed here."),this.emptyInboxMsg.style.display="block"):this.emptyInboxMsg.style.display="none"}buildUIForMessages(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!this.isPreview&&this.updateTSForRenderedMsgs(),this.inboxCard.scrollTop=0;const i=null!==(e=this.config.maxMsgsInInbox)&&void 0!==e?e:15,n=this.inboxCard.firstChild,o=Object.values(t).sort(((e,t)=>t.date-e.date)).map((e=>e.id));for(const e of o){const i=new Ut(this.config,t[e]);i.setAttribute("id",t[e].id),i.setAttribute("pivot",t[e].wzrk_pivot),i.setAttribute("part","ct-inbox-message"),this.config.categories.length>0?(i.setAttribute("category",t[e].tags[0]||""),i.style.display="All"===this.selectedCategory||t[e].category===this.selectedCategory?"block":"none"):i.style.display="block",this.inboxCard.insertBefore(i,n),this.observer.observe(i)}let r=this.inboxCard.querySelectorAll("ct-inbox-message").length;for(;r>i;){const e=this.inboxCard.querySelectorAll("ct-inbox-message");e.length>0&&e[e.length-1].remove(),r--}const s=this.inboxCard.querySelectorAll('ct-inbox-message[style*="display: block"]').length;this.emptyInboxMsg.style.display=s?"none":"block"}handleMessageViewed(e){const t=!this.isPreview;this.isInboxOpen&&e.forEach((e=>{e.isIntersecting&&this.unviewedMessages.hasOwnProperty(e.target.id)&&0===e.target.message.viewed&&(e.target.message.viewed=1,t?(window.clevertap.renderNotificationViewed({msgId:e.target.campaignId,pivotId:e.target.pivotId}),this.updateMessageInLS(e.target.id,{...e.target.message,viewed:1}),setTimeout((()=>{e.target.shadowRoot.getElementById("unreadMarker").style.display="none"}),1e3)):console.log("Notifiction viewed event will be raised at run time with payload ::",{msgId:e.target.campaignId,pivotId:e.target.pivotId}),this.unviewedCounter--,this.updateUnviewedBadgeCounter(),delete this.unviewedMessages[e.target.id])}))}updateMessageInLS(e,t){if(!this.isPreview){const i=Bt();i[e]=t,zt(i)}}toggleInbox(e){this.isInboxOpen=!this.isInboxOpen,this.isInboxFromFlutter=!!(null==e?void 0:e.rect),this.isInboxOpen?(this.inboxCard.scrollTop=0,!this.isPreview&&this.deleteExpiredAndGetUnexpiredMsgs(),this.inbox.style.display="block",this.inbox.style.zIndex="2147483647",this.config.categories.length&&(this.selectedCategoryRef.setAttribute("selected","false"),this.selectedCategoryRef=this.shadowRoot.getElementById("category-0"),this.updateActiveCategory(this.selectedCategoryRef.innerText),this.shadowRoot.getElementById("categoriesWrapper").scrollLeft-=this.shadowRoot.getElementById("categoriesWrapper").scrollWidth),this.setInboxPosition(e)):this.inbox.style.display="none"}setInboxPosition(e){const t=window.outerWidth,i=getComputedStyle(ue.inbox),n=i.getPropertyValue("--inbox-top"),o=i.getPropertyValue("--inbox-bottom"),r=i.getPropertyValue("--inbox-left"),s=i.getPropertyValue("--inbox-right");if(t>481&&!(n||o||r||s)){const t=Wt(e,this.inbox.clientHeight,this.inbox.clientWidth),i=t.xPos,n=t.yPos;this.inbox.style.top=n+"px",this.inbox.style.left=i+"px"}}updateUnviewedBadgeCounter(){if(this.isPreview)return void this.setBadgeStyle(this.unviewedCounter);let e=0;this.inboxCard.querySelectorAll("ct-inbox-message").forEach((t=>{const i=Bt();i[t.id]&&0===i[t.id].viewed&&e++})),this.setBadgeStyle(e)}updateTSForRenderedMsgs(){this.inboxCard.querySelectorAll("ct-inbox-message").forEach((e=>{const t=e.id.split("_")[1];e.shadow.getElementById("timeStamp").firstChild.innerText=Gt(t)}))}getInboxStyles(){const e=this.config.categories.length?64:16,t={panelBackgroundColor:this.config.styles.panelBackgroundColor,panelBorderColor:this.config.styles.panelBorderColor,headerBackgroundColor:this.config.styles.header.backgroundColor,headerTitleColor:this.config.styles.header.titleColor,closeIconColor:this.config.styles.closeIconColor,categoriesTabColor:this.config.styles.categories.tabColor,categoriesTitleColor:this.config.styles.categories.titleColor,selectedCategoryTabColor:this.config.styles.categories.selectedTab.tabColor,selectedCategoryTitleColor:this.config.styles.categories.selectedTab.titleColor,headerCategoryHeight:36+e};this.config.styles.categories.borderColor&&(t.categoriesBorderColor=this.config.styles.categories.borderColor),this.config.styles.categories.selectedTab.borderColor&&(t.selectedCategoryBorderColor=this.config.styles.categories.selectedTab.borderColor);const i=(e=>{let{panelBackgroundColor:t,panelBorderColor:i,headerBackgroundColor:n,headerTitleColor:o,closeIconColor:r,categoriesTabColor:s,categoriesTitleColor:a,categoriesBorderColor:l,selectedCategoryTabColor:c,selectedCategoryTitleColor:d,selectedCategoryBorderColor:u,headerCategoryHeight:h}=e;return'\n      <style id="webInboxStyles">\n        #inbox {\n          width: 100%;\n          position: fixed;\n          background-color: #fff; \n          display: none; \n          box-shadow: 0px 2px 10px 0px #d7d7d791;\n          background-color: '.concat(t,"; \n          border: 1px solid ").concat(i,";\n          top: 0;\n          left: 0;\n          height: 100%;\n          overflow: auto;\n          z-index: 1;\n          box-sizing: content-box;\n          border-radius: 4px;\n        }\n  \n        #emptyInboxMsg {\n          display: block;\n          padding: 10px;\n          text-align: center;\n          color: black;\n        }\n  \n        #header {\n          height: 36px; \n          width: 100%; \n          display: flex; \n          justify-content: center; \n          align-items: center; \n          background-color: ").concat(n,"; \n          background-color: var(--card-bg, ").concat(n,");\n          color: ").concat(o,"\n        }\n  \n        #closeInbox {\n          font-size: 20px; \n          margin-right: 12px; \n          color: ").concat(r,"; \n          cursor: pointer;\n        }\n  \n        #headerTitle {\n          font-size: 14px; \n          line-height: 20px; \n          flex-grow: 1; \n          font-weight: 700; \n          text-align: center;\n          flex-grow: 1;\n          text-align: center;\n        }\n  \n        #categoriesContainer {\n          padding: 16px 16px 0 16px; \n          height: 32px; \n          display: flex;\n          scroll-behavior: smooth;\n          position: relative;\n        }\n\n        #categoriesWrapper {\n          height: 32px; \n          overflow-x: scroll;\n          display: flex;\n          white-space: nowrap;\n          scrollbar-width: none;\n        }\n\n        #categoriesWrapper::-webkit-scrollbar {\n          display: none;\n        }\n  \n        #leftArrow, #rightArrow {\n          height: 32px;\n          align-items: center;\n          font-weight: 700;\n          position: absolute;\n          z-index: 2;\n          pointer-events: auto;\n          cursor: pointer;\n          display: none;\n        }\n\n        #leftArrow {\n          left: 0;\n          padding-left: 4px;\n          padding-right: 16px;\n          background: linear-gradient(90deg, ").concat(t," 0%, ").concat(t,"99 80%, ").concat(t,"0d 100%);\n        }\n\n        #rightArrow {\n          right: 0;\n          padding-right: 4px;\n          padding-left: 16px;\n          background: linear-gradient(-90deg, ").concat(t," 0%, ").concat(t,"99 80%, ").concat(t,'0d 100%);\n        }\n\n        [id^="category-"] {\n          display: flex; \n          flex: 1 1 0; \n          justify-content: center; \n          align-items: center; \n          font-size: 14px; \n          line-height: 20px; \n          background-color: ').concat(s,"; \n          color: ").concat(a,"; \n          cursor: pointer;\n          padding: 6px 24px;\n          margin: 0 3px;\n          border-radius: 16px;\n          border: ").concat(l?"1px solid "+l:"none",';\n        }\n\n        [id^="category-"][selected="true"] {\n          background-color: ').concat(c,"; \n          color: ").concat(d,"; \n          border: ").concat(u?"1px solid "+u:"none","\n        }\n  \n        #inboxCard {\n          padding: 0 16px 0 16px;\n          overflow-y: auto;\n          box-sizing: border-box;\n          margin-top: 16px;\n        }\n\n        @media only screen and (min-width: 480px) {\n          #inbox {\n            width: var(--inbox-width, 392px);\n            height: var(--inbox-height, 546px);\n            position: var(--inbox-position, fixed);\n            right: var(--inbox-right, unset);\n            bottom: var(--inbox-bottom, unset);\n            top: var(--inbox-top, unset);\n            left: var(--inbox-left, unset);\n          }\n  \n          #inboxCard {\n            height: calc(var(--inbox-height, 546px) - ").concat(h,"px); \n          }\n  \n        }\n      </style>\n      ")})(t),n=this.config.styles.cards;return i+(e=>{let{backgroundColor:t,borderColor:i,titleColor:n,descriptionColor:o,buttonColor:r,buttonTextColor:s,unreadMarkerColor:a}=e;return'\n    <style id="messageStyles">\n      ct-inbox-message::part(messageWrapper) {\n        margin-bottom: 16px; \n      }\n      ct-inbox-message::part(message) {\n        background-color: '.concat(t,"; \n        border: 1px solid ").concat(i,";\n        border-radius: 4px; \n        overflow: hidden;\n        min-height: 40px;\n      }\n      ct-inbox-message::part(message):hover {\n        box-shadow: 0px 4px 8px rgb(0 0 0 / 10%);\n        cursor: pointer;\n      }\n      ct-inbox-message::part(iconTitleDescWrapper) {\n        display: flex; \n        padding: 16px;\n      }\n      ct-inbox-message::part(titleDescWrapper) {\n        display: flex; \n        flex-direction: column;\n      }\n      ct-inbox-message::part(iconImgContainer) {\n        display: flex; \n        margin-right: 16px;\n      }\n      ct-inbox-message::part(mainImgContainer) {\n        line-height: 0;\n      }\n      ct-inbox-message::part(mainImg) {\n        width: 100%; \n        background: #b2b1ae;\n      }\n      ct-inbox-message::part(iconImg) {\n        height: 40px; \n        width: 40px;\n      }\n      ct-inbox-message::part(title) {\n        font-size: 14px !important; \n        line-height: 20px; \n        font-weight: 600; \n        color: ").concat(n,"\n      }\n      ct-inbox-message::part(description) {\n        font-size: 14px !important; \n        line-height: 20px; \n        font-weight: 400; \n        color: ").concat(o,"\n      }\n      ct-inbox-message::part(button) {\n        background-color: ").concat(r,"; \n        color: ").concat(s,"; \n        padding: 8px 16px; \n        font-size: 12px; \n        line-height: 16px; \n        font-weight: 600; \n        flex: 1; \n        border-radius: 0px; \n        text-transform: capitalize; \n        cursor: pointer; \n        border: none;\n      }\n      ct-inbox-message::part(buttonsContainer) {\n        display: flex;\n        position: relative;\n      }\n      ct-inbox-message::part(snackbar) {\n        position: absolute;\n        top: calc(-100% - 12px);\n        left: 50%;\n        transform: translate(-50%, 0px);\n        font-size: 14px;\n        font-weight: 400;\n        background: #FFFFFF;\n        border: 1px solid #ECEDF2;\n        box-shadow: 0px 4px 8px rgb(0 0 0 / 6%), 0px 0px 2px rgb(0 0 0 / 4%);\n        border-radius: 4px;\n        z-index: 2;\n        display: none;\n        width: max-content;\n        align-items: center;\n        padding: 8px 16px;\n        justify-content: center;\n      }\n\n      ct-inbox-message::part(snackbar-msg) {\n        color: black;\n        margin-left: 8px;\n      }\n\n      ct-inbox-message::part(timeStamp) {\n        display: flex; \n        justify-content: end; \n        align-items: center; \n        margin-top: 4px; \n        font-size: 12px !important; \n        line-height: 16px; \n        color: black;\n      }\n      ct-inbox-message::part(unreadMarker) {\n        height: 8px; \n        width: 8px; \n        border-radius: 50%; \n        background-color: ").concat(a,"; \n        margin-left: 8px;\n      }\n      @media only screen and (min-width: 420px) {\n        ct-inbox-message::part(mainImg) {\n          height: 180px;\n        }\n      }\n    </style>\n  ")})({backgroundColor:n.backgroundColor,borderColor:n.borderColor,titleColor:n.titleColor,descriptionColor:n.descriptionColor,buttonColor:n.buttonColor,buttonTextColor:n.buttonTextColor,unreadMarkerColor:n.unreadMarkerColor})}}const Ft=e=>{e.inbox_preview?ue.inbox.incomingMessagesForPreview=e.inbox_notifs:ue.inbox.incomingMessages=e},Vt=e=>{Kt(),ue.inbox=new jt({logger:e}),document.body.appendChild(ue.inbox)},qt=e=>{const t=de.readFromLSorCookie(W)||{};if(Object.keys(t).length>0&&Object.keys(t)[0].includes("_")){const i={};return i[e]=t,de.saveToLSorCookie(W,i),i}return t},Bt=()=>{const e=JSON.parse(decodeURIComponent(de.read(b)));if(!ie(e))return{};const t=qt(e);return t.hasOwnProperty(e)?t[e]:{}},zt=e=>{const t=JSON.parse(decodeURIComponent(de.read(b)));if(!ie(t))return;const i={...qt(t),[t]:e};de.saveToLSorCookie(W,i)},Ht=e=>new Promise(((t,i)=>{if("complete"===document.readyState)Vt(e),t();else{const i=de.readFromLSorCookie(K)||{},n=()=>{null===ue.inbox&&Vt(e),t()};window.addEventListener("load",(()=>{if(document.getElementById(i.inboxSelector))n();else{let o=0;if(o<20){const r=setInterval((()=>{document.getElementById(i.inboxSelector)?(n(),clearInterval(r),t()):o>=20&&(clearInterval(r),e.debug("Failed to add inbox")),o++}),500)}}}))}})),Kt=()=>{void 0===customElements.get("ct-web-inbox")&&(customElements.define("ct-web-inbox",jt),customElements.define("ct-inbox-message",Ut))},Wt=(e,t,i)=>{const n=document.scrollingElement.scrollLeft,o=document.scrollingElement.scrollTop,r=window.innerWidth+n,s=window.innerHeight+o,a=e.rect||e.target.getBoundingClientRect(),l=a.x+n,c=a.y+o,d=a.left+n,u=a.right+n,h=a.top+o,p=a.bottom,g=a.height,f=l+a.width/2;let v,b,m=!1;const y=16;if(p+t<=s){const e=s-(p+t);b=e>=y?p+y:p+e}else if(h-t>=o){const e=h-t;b=e>=y?h-t-y:h-t-e}else m=!0,b=c+g/2-t/2,b<o?b=o:b+t>s&&(b=s-t);if(m){const e=u+i;if(e<=r)v=u+(e+y<=r?y:r-e);else{const e=d-i;v=e-(e-y>=n?y:e-n)}}else v=f-i/2,v<n?v=d+i<=r?d:n:v+i>r&&(v=u-i>=n?u-i:r-i);return{xPos:v,yPos:b}},Gt=e=>{const t=Date.now();let i=Math.floor((t-e)/6e4);return i<5?"Just now":i<60?"".concat(i," minute").concat(i>1?"s":""," ago"):(i=Math.floor(i/60),i<24?"".concat(i," hour").concat(i>1?"s":""," ago"):(i=Math.floor(i/24),"".concat(i," day").concat(i>1?"s":""," ago")))},Yt=()=>Object.keys(de.readFromLSorCookie(K)||{}).length>0,Jt='<svg width="6" height="10" viewBox="0 0 6 10" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M0.258435 9.74751C-0.0478584 9.44825 -0.081891 8.98373 0.156337 8.64775L0.258435 8.52836L3.87106 5L0.258435 1.47164C-0.0478588 1.17239 -0.0818914 0.707867 0.156337 0.371887L0.258435 0.252494C0.564728 -0.0467585 1.04018 -0.0800085 1.38407 0.152743L1.50627 0.252494L5.74156 4.39042C6.04786 4.68968 6.08189 5.1542 5.84366 5.49018L5.74156 5.60957L1.50627 9.74751C1.16169 10.0842 0.603015 10.0842 0.258435 9.74751Z" fill="#63698F"/>\n</svg>\n',$t='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16C12.4183 16 16 12.4183 16 8ZM9.6839 5.93602C9.97083 5.55698 10.503 5.48833 10.8725 5.78269C11.2135 6.0544 11.2968 6.54044 11.0819 6.91173L11.0219 7.00198L8.09831 10.864C7.80581 11.2504 7.26654 11.3086 6.90323 11.0122L6.82822 10.9433L5.04597 9.10191C4.71635 8.76136 4.71826 8.21117 5.05023 7.87303C5.35666 7.5609 5.83722 7.53855 6.16859 7.80482L6.24814 7.87739L7.35133 9.01717L9.6839 5.93602Z" fill="#03A387"/>\n</svg>\n',Zt="https://d2r1yp2w7bby2u.cloudfront.net/js/lib-overlay/style.css",Qt=e=>{var t,i;e.data&&e.data.message&&("Dashboard"===e.data.message&&e.data.url?Xt(e.data.url,null!==(t=e.data.variant)&&void 0!==t?t:null,null!==(i=e.data.details)&&void 0!==i?i:{}):"Overlay"===e.data.message&&ni(e.data,!0))},Xt=(e,t,i)=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>ii(e,t,i))):ii(e,t,i)};let ei,ti=!1;function ii(e,t,i){var n;ti||(document.body.innerHTML="",ei=document.createElement("div"),ei.id="overlayDiv",ei.style.position="relative",ei.style.display="flex",document.body.appendChild(ei),function(e,t,i,n){return new Promise(((o,r)=>{var s=document.createElement("script");s.type="module",s.src=e,s.onload=function(){"function"==typeof window.Overlay?(window.Overlay({id:"#overlayDiv",url:t,variant:i,details:n}),o()):r(new Error("ContentLayout not found in overlay.js"))},s.onerror=function(e){r(e)},document.head.appendChild(s)}))}("https://d2r1yp2w7bby2u.cloudfront.net/js/lib-overlay/overlay.js",e,t,i).then((()=>{console.log("Overlay script loaded successfully."),ti=!0})).catch((e=>{console.error("Error loading overlay script:",e)})),(n=document.createElement("link")).rel="stylesheet",n.type="text/css",n.href=Zt,document.head.appendChild(n),function(){const e={kitId:"eqj6nom",scriptTimeout:3e3,async:!0},t=document.documentElement,i=setTimeout((function(){t.className=t.className.replace(/\bwf-loading\b/g,"")+" wf-inactive"}),e.scriptTimeout),n=document.createElement("script");let o=!1;const r=document.getElementsByTagName("script")[0];let s;t.className+=" wf-loading",n.src="https://use.typekit.net/"+e.kitId+".js",n.async=!0,n.onload=n.onreadystatechange=function(){if(s=this.readyState,!(o||s&&"complete"!==s&&"loaded"!==s)){o=!0,clearTimeout(i);try{Typekit.load(e)}catch(e){}}},r.parentNode.insertBefore(n,r)}())}const ni=(e,t)=>{const i=t?e.details[0]:e.display.details[0],n=Object.keys(i)[0],o=i[n];let r=!1;if(n===window.location.href.split("?")[0]){for(const t in o){const i=document.querySelector(t);if(i)o[t].html?i.outerHTML=o[t].html:oi(e,o[t]),r=!0;else{let i=0;const n=setInterval((()=>{const s=document.querySelector(t);s?(o[t].html?s.outerHTML=o[t].html:oi(e,o[t]),r=!0,clearInterval(n)):(i++,i>=20&&(console.log("No element present on DOM with selector '".concat(t,"'.")),clearInterval(n)))}),500)}}r&&!t&&window.clevertap.renderNotificationViewed({msgId:e.wzrk_id,pivotId:e.wzrk_pivot})}};function oi(e,t){const i={};i.msgId=e.wzrk_id,e.wzrk_pivot&&(i.pivotId=e.wzrk_pivot),null!=t.json&&(i.json=t.json);const n=new CustomEvent("CT_web_native_display_buider",{detail:i});document.dispatchEvent(n)}const ri=(e,t)=>{let{device:i,session:n,request:o,logger:r}=t;const s=i,a=n,l=o,c=r;let d=0;const u=t=>{const i=t.wzrk_id.split("_")[0],n=re(),o=(e,t,i)=>{let n=0,o=0;null!=e[t]&&(n=e[t]),n++,null!=e.tc&&(o=e.tc),i<0&&o++,e.tc=o,e[t]=n};if(de._isLocalStorageSupported()){delete sessionStorage[y];var r={};const e=it();r=3===t.display.wtarget_type&&e.hasOwnProperty("wi")?e.wi:0!==t.display.wtarget_type&&1!==t.display.wtarget_type||!e.hasOwnProperty("wp")?{}:e.wp,e.hasOwnProperty("global")&&(r.wp=e),null==t[I].wmc&&(t[I].wmc=1),null==t[I].wimc&&(t[I].wimc=1);var d=-1;let o=-1,s=-1,l=-1,c=-1,g=-1,f=-1;null!=t[I].efc&&(d=parseInt(t[I].efc,10)),null!=t[I].mdc&&(o=parseInt(t[I].mdc,10)),null!=t[I].tdc&&(s=parseInt(t[I].tdc,10)),null!=t[I].tlc&&(l=parseInt(t[I].tlc,10)),null!=t[I].wmp&&(c=parseInt(t[I].wmp,10)),null!=t[I].wmc&&(g=parseInt(t[I].wmc,10)),null!=t[I].wimc&&(f=parseInt(t[I].wimc,10));var u=r[a.sessionId];if(u){const e=u[i],n=u.tc;if("dnd"===e&&!ue.dismissSpamControl)return!1;if(3===t[I].wtarget_type){if(f>0&&n>=f&&d<0)return!1}else if(g>0&&n>=g&&d<0)return!1;if(o>0&&e>=o)return!1}else u={},r[a.sessionId]=u;var h=r[n];if(null!=h){const e=h[i],t=h.tc;if(c>0&&t>=c&&d<0)return!1;if(s>0&&e>=s)return!1}else h={},r[n]=h;var p=r[A];if(null!=p){const e=p[i];if(l>0&&e>=l)return!1}else p={},r[A]=p}if(null!=t[I].delay&&t[I].delay>0){const i=t[I].delay;return t[I].delay=0,setTimeout(ri,1e3*i,e,{device:s,session:a,request:l,logger:c}),!1}o(u,i,d),o(h,i,d),o(p,i,d);let g="wp";3===t[I].wtarget_type&&(g="wi");const f={};f[a.sessionId]=u,f[n]=h,f[A]=p,nt({[g]:f})},h=()=>{const e=s.getGuid(),t=a.getSessionCookieObject();return"&t=wc&d="+encodeURIComponent($e(e+"|"+t.p+"|"+t.s))},p=(e,t)=>{const i=window.parent[e];"function"==typeof i&&(null!=t.display.kv?i(t.display.kv):i())},g=(e,t,i,n,o)=>{f(t),((e,t,i,n,o)=>{if(""!==e&&null!=e){let n,r;o?n=i:null!==i&&(r=i.getElementsByClassName("jsCT_CTA"),null!=r&&1===r.length&&(n=r[0]));const s=t.display.jsFunc,l=t.display.preview;null==l&&(e+=h()),null!=n&&(n.onclick=()=>{if(null!=s)return null==l&&tt.fireRequest(e),p(s,t),void dt("-1",0,a.sessionId);1===t.display.window?window.open(e,"_blank"):window.location=e})}})(e,t,i,0,o)},f=e=>{const t={type:"event"};t.evtName=U,t.evtData={[L]:e.wzrk_id},e.wzrk_pivot&&(t.evtData={...t.evtData,wzrk_pivot:e.wzrk_pivot}),l.processEvent(t)},v=e=>{var t;void 0===customElements.get("ct-web-personalisation-banner")&&customElements.define("ct-web-personalisation-banner",Dt);const i=null!==(t=e.display.divId)&&void 0!==t?t:e.display.divSelector,n=document.createElement("ct-web-personalisation-banner");n.msgId=e.wzrk_id,n.pivotId=e.wzrk_pivot,n.divHeight=e.display.divHeight,n.details=e.display.details[0];const o=e.display.divId?document.getElementById(i):document.querySelector(i);o.innerHTML="",o.appendChild(n)},m=e=>{var t;void 0===customElements.get("ct-web-personalisation-carousel")&&customElements.define("ct-web-personalisation-carousel",Nt);const i=null!==(t=e.display.divId)&&void 0!==t?t:e.display.divSelector,n=document.createElement("ct-web-personalisation-carousel");n.target=e;const o=e.display.divId?document.getElementById(i):document.querySelector(i);o.innerHTML="",o.appendChild(n)},_=e=>{const t=e.wzrk_id.split("_")[0],i=e.display;if(2===i.wtarget_type&&1===e.msgContent.type){const t={};t.msgId=e.wzrk_id,e.wzrk_pivot&&(t.pivotId=e.wzrk_pivot),null!=e.msgContent.kv&&(t.kv=e.msgContent.kv);const i=new CustomEvent("CT_web_native_display",{detail:t});return void document.dispatchEvent(i)}if(1===i.layout)return T(void 0,e);if(3===i.layout){const t="wzrkImageOnlyDiv";if(!1===u(e))return;if(ue.dismissSpamControl&&null!=document.getElementById(t)&&document.getElementById(t).remove(),null!=document.getElementById(t)||null!=document.getElementById("intentPreview"))return;const i=document.createElement("div");return i.id=t,document.body.appendChild(i),void 0===customElements.get("ct-web-popup-imageonly")&&customElements.define("ct-web-popup-imageonly",Lt),(e=>{const t=document.createElement("ct-web-popup-imageonly");t.session=a,t.target=e;const i=document.getElementById("wzrkImageOnlyDiv");i.innerHTML="",i.style.visibility="hidden",i.appendChild(t)})(e)}if(!1===u(e))return;const n="wizParDiv"+i.layout;if(ue.dismissSpamControl&&null!=document.getElementById(n)&&document.getElementById(n).remove(),null!=document.getElementById(n))return;ue.campaignDivMap[t]=n;const o=2===i.layout,r=document.createElement("div");r.id=n;const s=window.innerHeight,l=window.innerWidth;let c=!1;if(o)r.setAttribute("style",i.iFrameStyle);else{var d=10;let e=5*l/100,t=d+5*s/100,n=30*l/100+20,o="width:30%;";(/mobile/i.test(navigator.userAgent)||/mini/i.test(navigator.userAgent))&&!1===/iPad/i.test(navigator.userAgent)?(n=85*l/100+20,e=5*l/100,t=5*s/100,o="width:80%;"):("ontouchstart"in window||/tablet/i.test(navigator.userAgent))&&(n=50*l/100+20,e=5*l/100,t=5*s/100,o="width:50%;"),null==i.proto?(c=!0,r.setAttribute("style","display:block;overflow:hidden; bottom:"+t+"px !important;width:"+n+"px !important;right:"+e+"px !important;position:fixed;z-index:2147483647;")):r.setAttribute("style",o+i.iFrameStyle)}document.body.appendChild(r);const h=document.createElement("iframe"),p=!1===i.br?"0":"8";h.frameborder="0px",h.marginheight="0px",h.marginwidth="0px",h.scrolling="no",h.id="wiz-iframe";const f=e.display.onClick;let v,b="";if(""!==f&&null!=f&&(b="cursor:pointer;"),i.preview&&i["custom-editor"]&&(h.sandbox="allow-scripts allow-popups allow-popups-to-escape-sandbox"),1===e.msgContent.type)v=e.msgContent.html,v=v.replace(/##campaignId##/g,t),v=v.replace(/##campaignId_batchId##/g,e.wzrk_id);else{const i='<style type="text/css">body{margin:0;padding:0;}#contentDiv.wzrk{overflow:hidden;padding:0;text-align:center;'+b+"}#contentDiv.wzrk td{padding:15px 10px;}.wzrkPPtitle{font-weight: bold;font-size: 16px;font-family:arial;padding-bottom:10px;word-break: break-word;}.wzrkPPdscr{font-size: 14px;font-family:arial;line-height:16px;word-break: break-word;display:inline-block;}.PL15{padding-left:15px;}.wzrkPPwarp{margin:20px 20px 0 5px;padding:0px;border-radius: "+p+"px;box-shadow: 1px 1px 5px #888888;}a.wzrkClose{cursor:pointer;position: absolute;top: 11px;right: 11px;z-index: 2147483647;font-size:19px;font-family:arial;font-weight:bold;text-decoration: none;width: 25px;/*height: 25px;*/text-align: center; -webkit-appearance: none; line-height: 25px;background: #353535;border: #fff 2px solid;border-radius: 100%;box-shadow: #777 2px 2px 2px;color:#fff;}a:hover.wzrkClose{background-color:#d1914a !important;color:#fff !important; -webkit-appearance: none;}td{vertical-align:top;}td.imgTd{border-top-left-radius:8px;border-bottom-left-radius:8px;}</style>";let o,r,s,a,l;"dark"===e.display.theme?(o="#2d2d2e",r="#eaeaea",s="#353535",a="#353535",l="#ffffff"):(o="#ffffff",r="#000000",a="#f4f4f4",s="#a5a6a6",l="#ffffff");const c=e.msgContent.title,d=e.msgContent.description;let u="";null!=e.msgContent.imageUrl&&""!==e.msgContent.imageUrl&&(u="<td class='imgTd' style='background-color:"+a+"'><img src='"+e.msgContent.imageUrl+"' height='60' width='60'></td>"),v=i+"<div class='wzrkPPwarp' style='color:"+r+";background-color:"+o+";'><a href='javascript:void(0);' onclick=parent.$WZRK_WR.closeIframe("+t+",'"+n+"'); class='wzrkClose' style='background-color:"+s+";color:"+l+"'>&times;</a><div id='contentDiv' class='wzrk'><table cellpadding='0' cellspacing='0' border='0'><tr>"+u+"<td style='vertical-align:top;'><div class='wzrkPPtitle' style='color:"+r+"'>"+c+"</div><div class='wzrkPPdscr' style='color:"+r+"'>"+d+"<div></td></tr></table></div>"}h.setAttribute("style","z-index: 2147483647; display:block; width: 100% !important; border:0px !important; border-color:none !important;"),r.appendChild(h);const m=new Event("CT_campaign_rendered");document.dispatchEvent(m),i["custom-editor"]&&(v=C(e,v)),h.srcdoc=v;const y=()=>{d=document.getElementById("wiz-iframe").contentDocument.getElementById("contentDiv").scrollHeight,!0===i["custom-editor"]||o||(d+=25),document.getElementById("wiz-iframe").contentDocument.body.style.margin="0px",document.getElementById("wiz-iframe").style.height=d+"px"},w=navigator.userAgent.toLowerCase();if(-1!==w.indexOf("safari"))if(w.indexOf("chrome")>-1)h.onload=()=>{y();const t=document.getElementById("wiz-iframe").contentDocument.getElementById("contentDiv");g(f,e,t,0,c)};else{let t=h.contentDocument||h.contentWindow;t.document&&(t=t.document),y();const i=setInterval((()=>{if("complete"===t.readyState){clearInterval(i),y();const t=document.getElementById("wiz-iframe").contentDocument.getElementById("contentDiv");g(f,e,t,0,c)}}),10)}else h.onload=()=>{y();const t=document.getElementById("wiz-iframe").contentDocument.getElementById("contentDiv");g(f,e,t,0,c)}},C=(e,t)=>{const i="<script>\n      const ct__camapignId = '".concat(e.wzrk_id,"';\n      const ct__formatVal = (v) => {\n          return v && v.trim().substring(0, 20);\n      }\n      const ct__parentOrigin =  window.parent.origin;\n      document.body.addEventListener('click', (event) => {\n        const elem = event.target.closest?.('a[wzrk_c2a], button[wzrk_c2a]');\n        if (elem) {\n            const {innerText, id, name, value, href} = elem;\n            const clickAttr = elem.getAttribute('onclick') || elem.getAttribute('click');\n            const onclickURL = clickAttr?.match(/(window.open)[(](\"|')(.*)(\"|',)/)?.[3] || clickAttr?.match(/(location.href *= *)(\"|')(.*)(\"|')/)?.[3];\n            const props = {innerText, id, name, value};\n            let msgCTkv = Object.keys(props).reduce((acc, c) => {\n                const formattedVal = ct__formatVal(props[c]);\n                formattedVal && (acc['wzrk_click_' + c] = formattedVal);\n                return acc;\n            }, {});\n            if(onclickURL) { msgCTkv['wzrk_click_' + 'url'] = onclickURL; }\n            if(href) { msgCTkv['wzrk_click_' + 'c2a'] = href; }\n            const notifData = { msgId: ct__camapignId, msgCTkv, pivotId: '").concat(e.wzrk_pivot,"' };\n            window.parent.clevertap.renderNotificationClicked(notifData);\n        }\n      });\n      <\/script>\n    ");return t.replace(/(<\s*\/\s*body)/,"".concat(i,"\n$1"))};let E=!1;const P=e=>{let t=e.display.onClick;if(window.clevertap.hasOwnProperty("notificationCallback")&&void 0!==window.clevertap.notificationCallback&&"function"==typeof window.clevertap.notificationCallback){const i=window.clevertap.notificationCallback;if(!E){const n={};n.msgContent=e.msgContent,n.msgId=e.wzrk_id,e.wzrk_pivot&&(n.pivotId=e.wzrk_pivot),null!=e.display.kv&&(n.kv=e.display.kv),window.clevertap.raiseNotificationClicked=()=>{if(""!==t&&null!=t){const i=e.display.jsFunc;if(t+=h(),null!=i)return tt.fireRequest(t),void p(i,e);1===e.display.window?window.open(t,"_blank"):window.location=t}},window.clevertap.raiseNotificationViewed=()=>{f(e)},i(n),E=!0}}else if(window.clevertap.popupCurrentWzrkId=e.wzrk_id,_(e),window.clevertap.hasOwnProperty("popupCallbacks")&&void 0!==window.clevertap.popupCallbacks&&"function"==typeof window.clevertap.popupCallbacks[e.wzrk_id]){const t=window.clevertap.popupCallbacks[e.wzrk_id],o={};o.msgContent=e.msgContent,o.msgId=e.wzrk_id,e.wzrk_pivot&&(o.pivotId=e.wzrk_pivot);var i=[];for(var n in e)if(n.startsWith(N)&&n!==L){const t={[n]:e[n]};i.push(t)}i.length>0&&(o.msgCTkv=i),null!=e.display.kv&&(o.kv=e.display.kv),window.clevertap.raisePopupNotificationClicked=t=>{if(!t||!t.msgId)return;const i={type:"event"};if(i.evtName=j,i.evtData={[L]:t.msgId},e.wzrk_pivot&&(i.evtData={...i.evtData,wzrk_pivot:t.pivotId}),t.msgCTkv)for(var n of t.msgCTkv)i.evtData={...i.evtData,...n};l.processEvent(i)},t(o)}};let O;const T=(e,t)=>{let i;if(null!=e&&e.clientY>0)return;if(i=null==t?O:t,ue.dismissSpamControl&&0===i.display.wtarget_type&&null!=document.getElementById("intentPreview")&&null!=document.getElementById("intentOpacityDiv")&&(document.getElementById("intentPreview").remove(),document.getElementById("intentOpacityDiv").remove()),null!=document.getElementById("intentPreview")||null!=document.getElementById("wzrkImageOnlyDiv"))return;if(null==i.display.layout&&(/mobile/i.test(navigator.userAgent)||/mini/i.test(navigator.userAgent)||/iPad/i.test(navigator.userAgent)||"ontouchstart"in window||/tablet/i.test(navigator.userAgent)))return;if(!1===u(i))return;const n=i.wzrk_id.split("_")[0];ue.campaignDivMap[n]="intentPreview";let o=!1;const r=document.createElement("div");r.id="intentOpacityDiv";const s=i.display.opacity||.7,a="rgba(0,0,0,".concat(s,")");r.setAttribute("style","position: fixed;top: 0;bottom: 0;left: 0;width: 100%;height: 100%;z-index: 2147483646;background: ".concat(a,";")),document.body.appendChild(r);const l=document.createElement("div");l.id="intentPreview",null==i.display.proto?(o=!0,l.setAttribute("style","display:block;overflow:hidden;top:55% !important;left:50% !important;position:fixed;z-index:2147483647;width:600px !important;height:600px !important;margin:-300px 0 0 -300px !important;")):l.setAttribute("style",i.display.iFrameStyle),document.body.appendChild(l);const c=document.createElement("iframe"),d=!1===i.display.br?"0":"8";c.frameborder="0px",c.marginheight="0px",c.marginwidth="0px",c.scrolling="no",c.id="wiz-iframe-intent";const h=i.display.onClick;let p,f="";if(""!==h&&null!=h&&(f="cursor:pointer;"),i.display.preview&&i.display["custom-editor"]&&(c.sandbox="allow-scripts allow-popups allow-popups-to-escape-sandbox"),1===i.msgContent.type)p=i.msgContent.html,p=p.replace(/##campaignId##/g,n),p=p.replace(/##campaignId_batchId##/g,i.wzrk_id);else{const e='<style type="text/css">body{margin:0;padding:0;}#contentDiv.wzrk{overflow:hidden;padding:0 0 20px 0;text-align:center;'+f+"}#contentDiv.wzrk td{padding:15px 10px;}.wzrkPPtitle{font-weight: bold;font-size: 24px;font-family:arial;word-break: break-word;padding-top:20px;}.wzrkPPdscr{font-size: 14px;font-family:arial;line-height:16px;word-break: break-word;display:inline-block;padding:20px 20px 0 20px;line-height:20px;}.PL15{padding-left:15px;}.wzrkPPwarp{margin:20px 20px 0 5px;padding:0px;border-radius: "+d+"px;box-shadow: 1px 1px 5px #888888;}a.wzrkClose{cursor:pointer;position: absolute;top: 11px;right: 11px;z-index: 2147483647;font-size:19px;font-family:arial;font-weight:bold;text-decoration: none;width: 25px;/*height: 25px;*/text-align: center; -webkit-appearance: none; line-height: 25px;background: #353535;border: #fff 2px solid;border-radius: 100%;box-shadow: #777 2px 2px 2px;color:#fff;}a:hover.wzrkClose{background-color:#d1914a !important;color:#fff !important; -webkit-appearance: none;}#contentDiv .button{padding-top:20px;}#contentDiv .button a{font-size: 14px;font-weight:bold;font-family:arial;text-align:center;display:inline-block;text-decoration:none;padding:0 30px;height:40px;line-height:40px;background:#ea693b;color:#fff;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;}</style>";let t,o,r,s;"dark"===i.display.theme?(t="#2d2d2e",o="#eaeaea",r="#353535",s="#ffffff"):(t="#ffffff",o="#000000",r="#a5a6a6",s="#ffffff");const a=i.msgContent.title,l=i.msgContent.description;let c="";null!=i.msgContent.ctaText&&""!==i.msgContent.ctaText&&(c="<div class='button'><a href='#'>"+i.msgContent.ctaText+"</a></div>");let u="";null!=i.msgContent.imageUrl&&""!==i.msgContent.imageUrl&&(u="<div style='padding-top:20px;'><img src='"+i.msgContent.imageUrl+"' width='500' alt="+a+" /></div>"),p=e+"<div class='wzrkPPwarp' style='color:"+o+";background-color:"+t+";'><a href='javascript:void(0);' onclick=parent.$WZRK_WR.closeIframe("+n+",'intentPreview'); class='wzrkClose' style='background-color:"+r+";color:"+s+"'>&times;</a><div id='contentDiv' class='wzrk'><div class='wzrkPPtitle' style='color:"+o+"'>"+a+"</div><div class='wzrkPPdscr' style='color:"+o+"'>"+l+"</div>"+u+c+"</div></div>"}c.setAttribute("style","z-index: 2147483647; display:block; height: 100% !important; width: 100% !important;min-height:80px !important;border:0px !important; border-color:none !important;"),l.appendChild(c);const v=new Event("CT_campaign_rendered");document.dispatchEvent(v),i.display["custom-editor"]&&(p=C(i,p)),c.srcdoc=p,c.onload=()=>{const e=document.getElementById("wiz-iframe-intent").contentDocument.getElementById("contentDiv");g(h,i,e,0,o)}};if(!document.body)return void(d<6&&(d++,setTimeout(ri,1e3,e,{device:s,session:a,request:l,logger:c})));const R=e=>{Object.keys(e).map((t=>{var i,n;e[t].display.divId?(i=e[t].display.divId,n=document.getElementById(i)):(i=e[t].display.divSelector,n=document.querySelector(i)),null!==n&&(2===e[t].msgContent.type?v(e[t]):m(e[t]),delete e[t])}))};if(null!=e.inapp_notifs){const t={};for(let i=0;i<e.inapp_notifs.length;i++){const n=e.inapp_notifs[i];null==n.display.wtarget_type||0===n.display.wtarget_type?P(n):1===n.display.wtarget_type?(O=n,window.document.body.onmouseleave=T):2===n.display.wtarget_type&&(2===n.msgContent.type||3===n.msgContent.type?null!==(n.display.divId?document.getElementById(n.display.divId):document.querySelector(n.display.divSelector))?2===n.msgContent.type?v(n):m(n):t[n.wzrk_id.split("_")[0]]=n:4===n.msgContent.type?ni(n,!1):P(n))}Object.keys(t).length&&("complete"===document.readyState?R(t):(e=>{window.addEventListener("load",(()=>{let t=0;if(t<20){const i=setInterval((()=>{R(e),0!==Object.keys(e).length&&20!==t||(clearInterval(i),e={}),t++}),500)}}))})(t))}const M=()=>{if(e.inbox_preview)Ft(e);else if(e.inbox_notifs){const t=[];for(let i=0;i<e.inbox_notifs.length;i++)!1!==u(e.inbox_notifs[i])&&t.push(e.inbox_notifs[i]);Ft(t)}};if((e.webInboxSetting||null!=e.inbox_notifs)&&(Yt()&&Kt(),null===ue.inbox?(e.webInboxSetting&&function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=de.readFromLSorCookie(K)||{};t?(ue.inbox.inboxConfigForPreview=e,ue.inbox.isPreview=!0,ue.inbox&&ue.inbox.init()):JSON.stringify(i)!==JSON.stringify(e)&&(de.saveToLSorCookie(K,e),ue.inbox&&ue.inbox.init())}(e.webInboxSetting),Ht(c).then((()=>{M()})).catch((e=>{}))):M()),e.vars)return void ue.variableStore.mergeVariables(e.vars);const D=(e,t)=>{const i=it(),n=i[t].global;if(null!=n&&t)for(const i in e)if(e.hasOwnProperty(i)&&(delete n[e[i]],de.read(w))){const n=JSON.parse(decodeURIComponent(de.read(w))),o=JSON.parse(decodeURIComponent(de.read(b)));n[o]&&n[o][t]&&n[o][t][e[i]]&&(delete n[o][t][e[i]],de.save(w,encodeURIComponent(JSON.stringify(n))))}nt(i)};if(de._isLocalStorageSupported())try{if(null!=e.evpr){const t=e.evpr.events,i=e.evpr.profile,n=e.evpr.expires_in,o=se();de.setMetaProp("lsTime",o),de.setMetaProp("exTs",n),(e=>{if(null!=ue.globalEventsMap||(ue.globalEventsMap=de.readFromLSorCookie(S),null!=ue.globalEventsMap)){for(const t in e)if(e.hasOwnProperty(t)){const i=ue.globalEventsMap[t],n=e[t];null!=ue.globalEventsMap[t]?null!=n[0]&&n[0]>i[0]&&(ue.globalEventsMap[t]=n):ue.globalEventsMap[t]=n}}else ue.globalEventsMap=e})(t),de.saveToLSorCookie(S,ue.globalEventsMap),null==ue.globalProfileMap?ct(i,!0):ct(i,!1)}null!=e.arp&&(e=>{if(null!=e.skipResARP&&e.skipResARP)return console.debug("Update ARP Request rejected",e),null;const t=!0===e[x];if(de._isLocalStorageSupported())try{let i=de.readFromLSorCookie(k);if(null==i||t){i={};for(const t in e)e.hasOwnProperty(t)&&(-1===e[t]?delete i[t]:i[t]=e[t]);de.saveToLSorCookie(k,i)}}catch(e){console.error("Unable to parse ARP JSON: "+e)}})(e.arp),null!=e.inapp_stale&&e.inapp_stale.length>0&&D(e.inapp_stale,"wp"),null!=e.inbox_stale&&e.inbox_stale.length>0&&D(e.inbox_stale,"wi")}catch(e){c.error("Unable to persist evrp/arp: "+e)}};var si=t("isPersonalisationActive");class ai{constructor(e){let{isPersonalisationActive:t}=e;Object.defineProperty(this,si,{writable:!0,value:void 0}),i(this,si)[si]=t}getTotalVisits(){if(!i(this,si)[si]())return;let e=de.getMetaProp("sc");return null==e&&(e=1),e}getLastVisit(){if(!i(this,si)[si]())return;const e=de.getMetaProp("ps");return null!=e?new Date(1e3*e):void 0}}const li=1,ci=2,di=3,ui=4;var hi=t("logLevel"),pi=t("log"),gi=t("isLegacyDebug");class fi{constructor(e){Object.defineProperty(this,gi,{get:bi,set:void 0}),Object.defineProperty(this,pi,{value:vi}),Object.defineProperty(this,hi,{writable:!0,value:void 0}),this.wzrkError={},i(this,hi)[hi]=null==e?e:ci,this.wzrkError={}}get logLevel(){return i(this,hi)[hi]}set logLevel(e){i(this,hi)[hi]=e}error(e){i(this,hi)[hi]>=li&&i(this,pi)[pi]("error",e)}info(e){i(this,hi)[hi]>=ci&&i(this,pi)[pi]("log",e)}debug(e){(i(this,hi)[hi]>=di||i(this,gi)[gi])&&i(this,pi)[pi]("debug",e)}debugPE(e){i(this,hi)[hi]>=ui&&i(this,pi)[pi]("debug_pe",e)}reportError(e,t){this.wzrkError.c=e,this.wzrkError.d=t,this.error("".concat(ke," ").concat(e,": ").concat(t))}}var vi=function(e,t){if(window.console)try{const i=(new Date).getTime();console[e]("CleverTap [".concat(i,"]: ").concat(t))}catch(e){}},bi=function(){return"undefined"!=typeof sessionStorage&&""===sessionStorage.WZRK_D},mi=t("logger"),yi=t("sessionId"),wi=t("isPersonalisationActive");class Si{constructor(e){let{logger:t,isPersonalisationActive:n}=e;Object.defineProperty(this,mi,{writable:!0,value:void 0}),Object.defineProperty(this,yi,{writable:!0,value:void 0}),Object.defineProperty(this,wi,{writable:!0,value:void 0}),this.cookieName=void 0,this.scookieObj=void 0,this.sessionId=de.getMetaProp("cs"),i(this,mi)[mi]=t,i(this,wi)[wi]=n}get sessionId(){return i(this,yi)[yi]}set sessionId(e){i(this,yi)[yi]=e}getSessionCookieObject(){let e=de.readCookie(this.cookieName),t={};if(null!=e)if(e=e.replace(p,'"'),t=JSON.parse(e),Z(t)){if(void 0!==t.t){const e=t.t;se()-e>1260&&(t={})}}else t={};return this.scookieObj=t,t}setSessionCookieObject(e){const t=JSON.stringify(e);de.createBroadCookie(this.cookieName,t,1200,Ge())}manageSession(e){if(void 0===this.sessionId||this.sessionId!==e){const t=de.getMetaProp("cs");if(void 0===t)de.setMetaProp("ps",e),de.setMetaProp("cs",e),de.setMetaProp("sc",1);else if(t!==e){de.setMetaProp("ps",t),de.setMetaProp("cs",e);let i=de.getMetaProp("sc");void 0===i&&(i=0),de.setMetaProp("sc",i+1)}this.sessionId=e}}getTimeElapsed(){if(!i(this,wi)[wi]())return;null!=this.scookieObj&&(this.scookieObj=this.getSessionCookieObject());const e=this.scookieObj.s;if(null!=e){const t=se();return Math.floor(t-e)}}getPageCount(){if(i(this,wi)[wi]())return null!=this.scookieObj&&(this.scookieObj=this.getSessionCookieObject()),this.scookieObj.p}}let _i=0,Ci=0;var ki=t("logger"),Ei=t("account"),Ai=t("device"),Ii=t("session"),Pi=t("isPersonalisationActive"),Oi=t("clearCookie"),Ti=t("addToLocalEventMap");class xi{constructor(e){let{logger:t,account:n,device:o,session:r,isPersonalisationActive:s}=e;Object.defineProperty(this,Ti,{value:Ri}),Object.defineProperty(this,ki,{writable:!0,value:void 0}),Object.defineProperty(this,Ei,{writable:!0,value:void 0}),Object.defineProperty(this,Ai,{writable:!0,value:void 0}),Object.defineProperty(this,Ii,{writable:!0,value:void 0}),Object.defineProperty(this,Pi,{writable:!0,value:void 0}),Object.defineProperty(this,Oi,{writable:!0,value:!1}),this.processingBackup=!1,i(this,ki)[ki]=t,i(this,Ei)[Ei]=n,i(this,Ai)[Ai]=o,i(this,Ii)[Ii]=r,i(this,Pi)[Pi]=s,tt.logger=t,tt.device=o,tt.account=n}processBackupEvents(){const e=de.readFromLSorCookie(E);if(null!=e){this.processingBackup=!0;for(const t in e)if(e.hasOwnProperty(t)){const n=e[t];void 0===n.fired&&(i(this,ki)[ki].debug("Processing backup event : "+n.q),void 0!==n.q&&tt.fireRequest(n.q),n.fired=!0)}de.saveToLSorCookie(E,e),this.processingBackup=!1}}addSystemDataToObject(e,t){void 0===t&&(e=ne(e,i(this,ki)[ki])),X(i(this,ki)[ki].wzrkError)||(e.wzrk_error=i(this,ki)[ki].wzrkError,i(this,ki)[ki].wzrkError={}),e.id=i(this,Ei)[Ei].id,ie(i(this,Ai)[Ai].gcookie)&&(e.g=i(this,Ai)[Ai].gcookie);const n=i(this,Ii)[Ii].getSessionCookieObject();e.s=n.s,e.pg=void 0===n.p?1:n.p;let o=document.location.protocol;return o=o.replace(":",""),e.af={...e.af,lib:"web-sdk-v1.8.2",protocol:o,...ue.flutterVersion},sessionStorage.hasOwnProperty("WZRK_D")&&(e.debug=!0),e}addFlags(e){if(i(this,Oi)[Oi]=de.getAndClearMetaProp(g),void 0!==i(this,Oi)[Oi]&&i(this,Oi)[Oi]&&(e.rc=!0,i(this,ki)[ki].debug("reset cookie sent in request and cleared from meta for future requests.")),i(this,Pi)[Pi]()){const t=de.getMetaProp("lsTime"),i=de.getMetaProp("exTs");if(void 0===t||void 0===i)return void(e.dsync=!0);t+i<se()&&(e.dsync=!0)}}saveAndFireRequest(e,t,n,o){const r=se(),s=(e=We(e,"rn",++ue.globalCache.REQ_N))+"&i="+r+"&sn="+_i;de.backupEvent(s,ue.globalCache.REQ_N,i(this,ki)[ki]),ue.offline||(t&&(void 0===i(this,Oi)[Oi]||!i(this,Oi)[Oi])||window.isOULInProgress?i(this,ki)[ki].debug("Not fired due to override - ".concat(ue.blockRequest," or clearCookie - ").concat(i(this,Oi)[Oi]," or OUL request in progress - ").concat(window.isOULInProgress)):(r===Ci?_i++:(Ci=r,_i=0),window.oulReqN=ue.globalCache.REQ_N,tt.fireRequest(s,!1,n,o)))}unregisterTokenForGuid(e){const t=de.readFromLSorCookie(V);if(t){const t={type:"data"};ie(e)&&(t.g=e),t.action="unregister",t.id=i(this,Ei)[Ei].id;const n=i(this,Ii)[Ii].getSessionCookieObject();t.s=n.s;const o=Ye(JSON.stringify(t),i(this,ki)[ki]);let r=i(this,Ei)[Ei].dataPostURL;r=We(r,"type","data"),r=We(r,"d",o),tt.fireRequest(r,!0),de.saveToLSorCookie(F,!1)}this.registerToken(t)}registerToken(e){if(!e)return;e=this.addSystemDataToObject(e,!0),e=JSON.stringify(e);let t=i(this,Ei)[Ei].dataPostURL;t=We(t,"type","data"),t=We(t,"d",Ye(e,i(this,ki)[ki])),tt.fireRequest(t),de.save("WZRK_WPR","ok")}processEvent(e){i(this,Ti)[Ti](e.evtName),e=this.addSystemDataToObject(e,void 0),this.addFlags(e),e[y]=rt();const t=Ye(JSON.stringify(e),i(this,ki)[ki]);let n=i(this,Ei)[Ei].dataPostURL;n=We(n,"type",R),n=We(n,"d",t),this.saveAndFireRequest(n,ue.blockRequest,!1,e.evtName)}post(e,t){return fetch(e,{method:"post",headers:{"Content-Type":"application/json"},body:t}).then((e=>{if(e.ok)return e.json();throw e})).then((e=>(i(this,ki)[ki].debug("Sync data successful",e),e))).catch((e=>{throw i(this,ki)[ki].debug("Error in syncing variables",e),e}))}}var Ri=function(e){if(de._isLocalStorageSupported()){void 0===ue.globalEventsMap&&(ue.globalEventsMap=de.readFromLSorCookie(S),void 0===ue.globalEventsMap&&(ue.globalEventsMap={}));const t=se();let i=ue.globalEventsMap[e];void 0!==i?(i[2]=t,i[0]++):(i=[],i.push(1),i.push(t),i.push(t)),ue.globalEventsMap[e]=i,de.saveToLSorCookie(S,ue.globalEventsMap)}},Mi=t("request"),Di=t("account"),Ni=t("oldValues"),Li=t("logger"),Ui=t("processPrivacyArray");class ji extends Array{constructor(e,t){let{request:n,account:o,logger:r}=e;super(),Object.defineProperty(this,Ui,{value:Fi}),Object.defineProperty(this,Mi,{writable:!0,value:void 0}),Object.defineProperty(this,Di,{writable:!0,value:void 0}),Object.defineProperty(this,Ni,{writable:!0,value:void 0}),Object.defineProperty(this,Li,{writable:!0,value:void 0}),i(this,Li)[Li]=r,i(this,Mi)[Mi]=n,i(this,Di)[Di]=o,i(this,Ni)[Ni]=t}push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ue.isPrivacyArrPushed?i(this,Ui)[Ui](ue.privacyArray.length>0?ue.privacyArray:t):ue.privacyArray.push(...t),0}_processOldValues(){i(this,Ni)[Ni]&&i(this,Ui)[Ui](i(this,Ni)[Ni]),i(this,Ni)[Ni]=null}}var Fi=function(e){if(Array.isArray(e)&&e.length>0){const n=e.reduce(((e,t)=>({...e,...t})),{});let o={};const r={};var t=!1;if(n.hasOwnProperty(P)&&"boolean"==typeof(t=n[P])&&(r.ct_optout=t,ue.isOptInRequest=!t),n.hasOwnProperty(O)){const e=n[O],t="boolean"==typeof e&&e;de.setMetaProp(O,t)}if(!X(r)){o.type="profile",o.profile=r,o=i(this,Mi)[Mi].addSystemDataToObject(o,void 0);const n=Ye(JSON.stringify(o),i(this,Li)[Li]);let s=i(this,Di)[Di].dataPostURL;s=We(s,"type",R),s=We(s,"d",n),s=We(s,P,t?"true":"false"),i(this,Mi)[Mi].saveAndFireRequest(s,ue.blockRequest),e.splice(0,e.length)}}},Vi=t("oldValues"),qi=t("logger"),Bi=t("request"),zi=t("account"),Hi=t("wizAlertJSPath"),Ki=t("fcmPublicKey"),Wi=t("setUpWebPush"),Gi=t("setUpWebPushNotifications"),Yi=t("setApplicationServerKey"),Ji=t("setUpSafariNotifications"),$i=t("setUpChromeFirefoxNotifications"),Zi=t("addWizAlertJS"),Qi=t("removeWizAlertJS"),Xi=t("handleNotificationRegistration");class en extends Array{constructor(e,t){let{logger:n,session:o,request:r,account:s}=e;super(),Object.defineProperty(this,Xi,{value:cn}),Object.defineProperty(this,Qi,{value:ln}),Object.defineProperty(this,Zi,{value:an}),Object.defineProperty(this,$i,{value:sn}),Object.defineProperty(this,Ji,{value:rn}),Object.defineProperty(this,Yi,{value:on}),Object.defineProperty(this,Gi,{value:nn}),Object.defineProperty(this,Wi,{value:tn}),Object.defineProperty(this,Vi,{writable:!0,value:void 0}),Object.defineProperty(this,qi,{writable:!0,value:void 0}),Object.defineProperty(this,Bi,{writable:!0,value:void 0}),Object.defineProperty(this,zi,{writable:!0,value:void 0}),Object.defineProperty(this,Hi,{writable:!0,value:void 0}),Object.defineProperty(this,Ki,{writable:!0,value:void 0}),i(this,Hi)[Hi]="https://d2r1yp2w7bby2u.cloudfront.net/js/wzrk_dialog.min.js",i(this,Ki)[Ki]=null,i(this,Vi)[Vi]=t,i(this,qi)[qi]=n,i(this,Bi)[Bi]=r,i(this,zi)[zi]=s}push(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(this,Wi)[Wi](t),0}_processOldValues(){i(this,Vi)[Vi]&&i(this,Wi)[Wi](i(this,Vi)[Vi]),i(this,Vi)[Vi]=null}_enableWebPush(e,t){ue.webPushEnabled=e,null!=t&&i(this,Yi)[Yi](t),ue.webPushEnabled&&ue.notifApi.notifEnabledFromApi?i(this,Xi)[Xi](ue.notifApi.displayArgs):!ue.webPushEnabled&&ue.notifApi.notifEnabledFromApi&&i(this,qi)[qi].error("Ensure that web push notifications are fully enabled and integrated before requesting them")}}var tn=function(e){ue.webPushEnabled&&e.length>0?i(this,Xi)[Xi](e):null==ue.webPushEnabled&&e.length>0?(ue.notifApi.notifEnabledFromApi=!0,ue.notifApi.displayArgs=e.slice()):!1===ue.webPushEnabled&&e.length>0&&i(this,qi)[qi].error("Make sure push notifications are fully enabled and integrated")},nn=function(e,t,n,o){-1!==navigator.userAgent.indexOf("Chrome")||-1!==navigator.userAgent.indexOf("Firefox")?i(this,$i)[$i](e,t):-1!==navigator.userAgent.indexOf("Safari")&&i(this,Ji)[Ji](e,n,o)},on=function(e){i(this,Ki)[Ki]=e},rn=function(e,t,n){void 0===t&&i(this,qi)[qi].error("Ensure that APNS Web Push ID is supplied"),void 0===n&&i(this,qi)[qi].error("Ensure that APNS Web Push service path is supplied"),"safari"in window&&"pushNotification"in window.safari&&window.safari.pushNotification.requestPermission(n,t,{},(e=>{if("granted"===e.permission){const t=JSON.parse(JSON.stringify(e));t.endpoint=e.deviceToken,t.browser="Safari",de.saveToLSorCookie(V,t),i(this,Bi)[Bi].registerToken(t),i(this,qi)[qi].info("Safari Web Push registered. Device Token: "+e.deviceToken)}else"denied"===e.permission&&i(this,qi)[qi].info("Error subscribing to Safari web push")}))},sn=function(e,t){let n="";"serviceWorker"in navigator&&navigator.serviceWorker.register(t).then((e=>"undefined"!=typeof __wzrk_account_id?new Promise((t=>setTimeout((()=>t(e)),5e3))):(n=e.scope,/^(\.?)(\/?)([^/]*).js$/.test(t)?navigator.serviceWorker.ready:-1!==navigator.userAgent.indexOf("Chrome")?new Promise((t=>setTimeout((()=>t(e)),5e3))):navigator.serviceWorker.getRegistrations()))).then((t=>{-1!==navigator.userAgent.indexOf("Firefox")&&Array.isArray(t)&&(t=t.filter((e=>e.scope===n))[0]);const o={userVisibleOnly:!0};null!=i(this,Ki)[Ki]&&(o.applicationServerKey=(e=>{let t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(t),n=[];for(let e=0;e<i.length;e++)n.push(i.charCodeAt(e));return new Uint8Array(n)})(i(this,Ki)[Ki])),t.pushManager.subscribe(o).then((t=>{i(this,qi)[qi].info("Service Worker registered. Endpoint: "+t.endpoint);const n=JSON.parse(JSON.stringify(t));-1!==navigator.userAgent.indexOf("Chrome")?(n.endpoint=n.endpoint.split("/").pop(),n.browser="Chrome"):-1!==navigator.userAgent.indexOf("Firefox")&&(n.endpoint=n.endpoint.split("/").pop(),n.browser="Firefox"),de.saveToLSorCookie(V,n),i(this,Bi)[Bi].registerToken(n),void 0!==e&&"function"==typeof e&&e()})).catch((e=>{i(this,qi)[qi].error("Error subscribing: "+e),t.pushManager.getSubscription().then((e=>{null!==e&&e.unsubscribe().then((e=>{i(this,qi)[qi].info("Unsubscription successful")})).catch((e=>{i(this,qi)[qi].error("Error unsubscribing: "+e)}))}))}))})).catch((e=>{i(this,qi)[qi].error("error registering service worker: "+e)}))},an=function(){const e=document.createElement("script");return e.setAttribute("type","text/javascript"),e.setAttribute("id","wzrk-alert-js"),e.setAttribute("src",i(this,Hi)[Hi]),document.getElementsByTagName("body")[0].appendChild(e),e},ln=function(){const e=document.getElementById("wzrk-alert-js");e.parentNode.removeChild(e)},cn=function(e){let t,n,o,r,s,a,l,c,d,u,h,p,g,f,v;if(1===e.length){if(Z(e[0])){const i=e[0];t=i.titleText,n=i.bodyText,o=i.okButtonText,r=i.rejectButtonText,s=i.okButtonColor,a=i.skipDialog,l=i.askAgainTimeInSeconds,c=i.okCallback,d=i.rejectCallback,u=i.subscriptionCallback,h=i.serviceWorkerPath,p=i.httpsPopupPath,g=i.httpsIframePath,f=i.apnsWebPushId,v=i.apnsWebPushServiceUrl}}else t=e[0],n=e[1],o=e[2],r=e[3],s=e[4],a=e[5],l=e[6];if(null==a&&(a=!1),null==h&&(h="/clevertap_sw.js"),void 0===navigator.serviceWorker)return;const b=null!=p&&null!=g;if("https:"!==window.location.protocol&&"localhost"!==document.location.hostname&&!b)return void i(this,qi)[qi].error("Make sure you are https or localhost to register for notifications");if(-1!==navigator.userAgent.indexOf("Chrome")){const e=navigator.userAgent.match(/Chrome\/(\d+)/);if(null==e||parseInt(e[1],10)<50)return}else if(-1!==navigator.userAgent.indexOf("Firefox")){const e=navigator.userAgent.match(/Firefox\/(\d+)/);if(null==e||parseInt(e[1],10)<50)return}else{if(-1===navigator.userAgent.indexOf("Safari"))return;{const e=navigator.userAgent.match(/Safari\/(\d+)/);if(null==e||parseInt(e[1],10)<50)return}}if(!b){if(null==Notification)return;if("granted"===Notification.permission)return void i(this,Gi)[Gi](u,h,f,v);if("denied"===Notification.permission)return;if(a)return void i(this,Gi)[Gi](u,h,f,v)}if(!(t&&n&&o&&r))return void i(this,qi)[qi].error("Missing input parameters; please specify title, body, ok button and cancel button text");null!=s&&s.match(/^#[a-f\d]{6}$/i)||(s="#f28046");const m=(new Date).getTime()/1e3;if(null==de.getMetaProp("notif_last_time"))de.setMetaProp("notif_last_time",m);else{if(null==l&&(l=604800),m-de.getMetaProp("notif_last_time")<l)return;de.setMetaProp("notif_last_time",m)}if(b){const e=document.createElement("iframe");e.setAttribute("style","display:none;"),e.setAttribute("src",g),document.body.appendChild(e),window.addEventListener("message",(e=>{if(null!=e.data){let a={};try{a=JSON.parse(e.data)}catch(e){return}null!=a.state&&"ct"===a.from&&"not"===a.state&&(i(this,Zi)[Zi]().onload=()=>{window.wzrkPermissionPopup.wizAlert({title:t,body:n,confirmButtonText:o,confirmButtonColor:s,rejectButtonText:r},(e=>{e?("function"==typeof c&&c(),window.open(p)):"function"==typeof d&&d(),i(this,Qi)[Qi]()}))})}}),!1)}else i(this,Zi)[Zi]().onload=()=>{window.wzrkPermissionPopup.wizAlert({title:t,body:n,confirmButtonText:o,confirmButtonColor:s,rejectButtonText:r},(e=>{e?("function"==typeof c&&c(),i(this,Gi)[Gi](u,h,f,v)):"function"==typeof d&&d(),i(this,Qi)[Qi]()}))}},dn=t("variableStore");class un{constructor(e){let{variableStore:t}=e;Object.defineProperty(this,dn,{writable:!0,value:void 0}),this.name=null,this.defaultValue=null,this.value=null,this.type=null,this.hadStarted=!1,this.valueChangedCallbacks=[],i(this,dn)[dn]=t}getValue(){return this.value}getdefaultValue(){return this.defaultValue}static define(e,t,i){if(!e||"string"!=typeof e)return console.error("Empty or invalid name parameter provided."),null;if(e.startsWith(".")||e.endsWith("."))return console.error("Variable name starts or ends with a `.` which is not allowed: "+e),null;const n=typeof t;if("string"!==n&&"number"!==n&&"boolean"!==n)return console.error("Only primitive types (string, number, boolean) are accepted as value"),null;const o=i.getVariable(e);if(o)return o;const r=new un({variableStore:i});try{r.name=e,r.defaultValue=t,r.value=t,r.type=n,i.registerVariable(r),r.update(t)}catch(e){console.error(e)}return r}update(e){const t=this.value;this.value=e,null===e&&null===t||null!==e&&e===t&&this.hadStarted||i(this,dn)[dn].hasVarsRequestCompleted()&&(this.hadStarted=!0,this.triggerValueChanged())}triggerValueChanged(){this.valueChangedCallbacks.forEach((e=>{e(this)}))}addValueChangedCallback(e){e?(this.valueChangedCallbacks.push(e),i(this,dn)[dn].hasVarsRequestCompleted()&&e(this)):console.log("Invalid callback parameter provided.")}removeValueChangedCallback(e){const t=this.valueChangedCallbacks.indexOf(e);-1!==t&&this.valueChangedCallbacks.splice(t,1)}clearStartFlag(){this.hadStarted=!1}}var hn=t("logger"),pn=t("account"),gn=t("request"),fn=t("event"),vn=t("variables"),bn=t("remoteVariables"),mn=t("fetchCallback"),yn=t("variablesChangedCallbacks"),wn=t("oneTimeVariablesChangedCallbacks"),Sn=t("hasVarsRequestCompleted"),_n=t("runVariablesChangedCallback");class Cn{constructor(e){let{logger:t,request:n,account:o,event:r}=e;Object.defineProperty(this,_n,{value:kn}),Object.defineProperty(this,hn,{writable:!0,value:void 0}),Object.defineProperty(this,pn,{writable:!0,value:void 0}),Object.defineProperty(this,gn,{writable:!0,value:void 0}),Object.defineProperty(this,fn,{writable:!0,value:void 0}),Object.defineProperty(this,vn,{writable:!0,value:void 0}),Object.defineProperty(this,bn,{writable:!0,value:void 0}),Object.defineProperty(this,mn,{writable:!0,value:void 0}),Object.defineProperty(this,yn,{writable:!0,value:void 0}),Object.defineProperty(this,wn,{writable:!0,value:void 0}),Object.defineProperty(this,Sn,{writable:!0,value:!1}),i(this,hn)[hn]=t,i(this,pn)[pn]=o,i(this,gn)[gn]=n,i(this,fn)[fn]=r,i(this,vn)[vn]={},i(this,bn)[bn]={},i(this,yn)[yn]=[],i(this,wn)[wn]=[],ue.variableStore=this}registerVariable(e){const{name:t}=e;i(this,vn)[vn][t]=e,console.log("registerVariable",i(this,vn)[vn])}getVariable(e){return i(this,vn)[vn][e]}hasVarsRequestCompleted(){return i(this,Sn)[Sn]}syncVariables(e,t){if(!i(this,pn)[pn].token){const e="Account token is missing.";return i(this,hn)[hn].error(e),Promise.reject(new Error(e))}const n={type:"varsPayload",vars:{}};for(const e in i(this,vn)[vn])n.vars[e]={defaultValue:i(this,vn)[vn][e].defaultValue,type:i(this,vn)[vn][e].type};if(0===Object.keys(n.vars).length){const e="No variables are defined.";return i(this,hn)[hn].error(e),Promise.reject(new Error(e))}let o={};o=i(this,gn)[gn].addSystemDataToObject(o,void 0),o.tk=i(this,pn)[pn].token,o.type="meta";const r=JSON.stringify([o,n]),s=i(this,pn)[pn].dataPostPEURL;return i(this,gn)[gn].post(s,r).then((t=>(e&&"function"==typeof e&&e(t),t))).catch((e=>{throw t&&"function"==typeof t&&t(e),400===e.status?i(this,hn)[hn].error("Invalid sync payload or clear the existing draft"):401===e.status?i(this,hn)[hn].error("This is not a test profile"):i(this,hn)[hn].error("Sync variable failed"),e}))}fetchVariables(e){i(this,fn)[fn].push(Y,{t:4}),e&&"function"==typeof e&&(i(this,mn)[mn]=e)}mergeVariables(e){console.log("msg vars is ",e),i(this,Sn)[Sn]=!0,de.saveToLSorCookie("WZRK_PE",e),i(this,bn)[bn]=e;for(const t in i(this,vn)[vn])e.hasOwnProperty(t)&&i(this,vn)[vn][t].update(e[t]);i(this,mn)[mn]&&i(this,mn)[mn](),i(this,_n)[_n]()}addVariablesChangedCallback(e){e&&"function"==typeof e?(i(this,yn)[yn].push(e),this.hasVarsRequestCompleted()&&e()):i(this,hn)[hn].error("callback is not a function")}addOneTimeVariablesChangedCallback(e){e&&"function"==typeof e&&(this.hasVarsRequestCompleted()?e():i(this,wn)[wn].push(e))}removeVariablesChangedCallback(e){const t=i(this,yn)[yn].indexOf(e);-1!==t&&i(this,yn)[yn].splice(t,1)}removeOneTimeVariablesChangedCallback(e){const t=i(this,wn)[wn].indexOf(e);-1!==t&&i(this,wn)[wn].splice(t,1)}}var kn=function(){for(var e of i(this,yn)[yn])e();for(var t of i(this,wn)[wn])t();i(this,wn)[wn].length=0},En=t("logger"),An=t("api"),In=t("onloadcalled"),Pn=t("device"),On=t("session"),Tn=t("account"),xn=t("request"),Rn=t("variableStore"),Mn=t("isSpa"),Dn=t("previousUrl"),Nn=t("boundCheckPageChanged"),Ln=t("dismissSpamControl"),Un=t("processOldValues"),jn=t("debounce"),Fn=t("checkPageChanged"),Vn=t("pingRequest"),qn=t("isPingContinuous"),Bn=t("overrideDSyncFlag"),zn=t("sendLocationData");var Hn=function(){this.onUserLogin._processOldValues(),this.privacy._processOldValues(),this.event._processOldValues(),this.profile._processOldValues(),this.notifications._processOldValues()},Kn=function(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){clearTimeout(t),t=setTimeout(e,i)}},Wn=function(){i(this,jn)[jn]((()=>{i(this,Dn)[Dn]!==location.href&&this.pageChanged()}))()},Gn=function(){let e=i(this,Tn)[Tn].dataPostURL,t={};t=i(this,xn)[xn].addSystemDataToObject(t,void 0),e=We(e,"type","ping"),e=We(e,"d",Ye(JSON.stringify(t),i(this,En)[En])),i(this,xn)[xn].saveAndFireRequest(e,ue.blockRequest)},Yn=function(){return void 0!==window.wzrk_d&&"continuous"===window.wzrk_d.ping},Jn=function(e){this._isPersonalisationActive()&&(e.dsync=!0)},$n=function(e){let t={af:{}};const n={};t.type="profile",null==n.tz&&(n.tz=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1]),t.profile=n,e&&Object.keys(e).forEach((i=>{t.af[i]=e[i]})),ue.location&&(t.af={...t.af,...ue.location}),t=i(this,xn)[xn].addSystemDataToObject(t,!0),i(this,xn)[xn].addFlags(t);const o=Ye(JSON.stringify(t),i(this,En)[En]);let r=i(this,Tn)[Tn].dataPostURL;r=We(r,"type",R),r=We(r,"d",o),i(this,xn)[xn].saveAndFireRequest(r,ue.blockRequest)};const Zn=new class{get spa(){return i(this,Mn)[Mn]}set spa(e){const t=!0===e;i(this,Mn)[Mn]!==t&&1===i(this,In)[In]&&(t?document.addEventListener("click",i(this,Nn)[Nn]):document.removeEventListener("click",i(this,Nn)[Nn])),i(this,Mn)[Mn]=t}get dismissSpamControl(){return i(this,Ln)[Ln]}set dismissSpamControl(e){const t=!0===e;i(this,Ln)[Ln]=t,ue.dismissSpamControl=t}constructor(){var e,t,n,o,r;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.defineProperty(this,zn,{value:$n}),Object.defineProperty(this,Bn,{value:Jn}),Object.defineProperty(this,qn,{value:Yn}),Object.defineProperty(this,Vn,{value:Gn}),Object.defineProperty(this,Fn,{value:Wn}),Object.defineProperty(this,jn,{value:Kn}),Object.defineProperty(this,Un,{value:Hn}),Object.defineProperty(this,En,{writable:!0,value:void 0}),Object.defineProperty(this,An,{writable:!0,value:void 0}),Object.defineProperty(this,In,{writable:!0,value:void 0}),Object.defineProperty(this,Pn,{writable:!0,value:void 0}),Object.defineProperty(this,On,{writable:!0,value:void 0}),Object.defineProperty(this,Tn,{writable:!0,value:void 0}),Object.defineProperty(this,xn,{writable:!0,value:void 0}),Object.defineProperty(this,Rn,{writable:!0,value:void 0}),Object.defineProperty(this,Mn,{writable:!0,value:void 0}),Object.defineProperty(this,Dn,{writable:!0,value:void 0}),Object.defineProperty(this,Nn,{writable:!0,value:i(this,Fn)[Fn].bind(this)}),Object.defineProperty(this,Ln,{writable:!0,value:void 0}),this.enablePersonalization=void 0,this.popupCallbacks={},this.popupCurrentWzrkId="",i(this,In)[In]=0,this._isPersonalisationActive=this._isPersonalisationActive.bind(this),this.raiseNotificationClicked=()=>{},i(this,En)[En]=new fi(ci),i(this,Tn)[Tn]=new d(null===(e=s.account)||void 0===e?void 0:e[0],s.region||(null===(t=s.account)||void 0===t?void 0:t[1]),s.targetDomain||(null===(n=s.account)||void 0===n?void 0:n[2]),s.token||(null===(o=s.account)||void 0===o?void 0:o[3])),i(this,Pn)[Pn]=new _e({logger:i(this,En)[En]}),i(this,Ln)[Ln]=s.dismissSpamControl||!1,this.shpfyProxyPath=s.shpfyProxyPath||"",i(this,On)[On]=new Si({logger:i(this,En)[En],isPersonalisationActive:this._isPersonalisationActive}),i(this,xn)[xn]=new xi({logger:i(this,En)[En],account:i(this,Tn)[Tn],device:i(this,Pn)[Pn],session:i(this,On)[On],isPersonalisationActive:this._isPersonalisationActive}),this.enablePersonalization=s.enablePersonalization||!1,this.event=new ze({logger:i(this,En)[En],request:i(this,xn)[xn],isPersonalisationActive:this._isPersonalisationActive},s.event),this.profile=new bt({logger:i(this,En)[En],request:i(this,xn)[xn],account:i(this,Tn)[Tn],isPersonalisationActive:this._isPersonalisationActive},s.profile),this.onUserLogin=new Ot({request:i(this,xn)[xn],account:i(this,Tn)[Tn],session:i(this,On)[On],logger:i(this,En)[En],device:i(this,Pn)[Pn]},s.onUserLogin),this.privacy=new ji({request:i(this,xn)[xn],account:i(this,Tn)[Tn],logger:i(this,En)[En]},s.privacy),this.notifications=new en({logger:i(this,En)[En],request:i(this,xn)[xn],account:i(this,Tn)[Tn]},s.notifications),i(this,Rn)[Rn]=new Cn({logger:i(this,En)[En],request:i(this,xn)[xn],account:i(this,Tn)[Tn],event:this.event}),i(this,An)[An]=new we({logger:i(this,En)[En],request:i(this,xn)[xn],device:i(this,Pn)[Pn],session:i(this,On)[On]}),this.spa=s.spa,this.dismissSpamControl=s.dismissSpamControl,this.user=new ai({isPersonalisationActive:this._isPersonalisationActive}),this.session={getTimeElapsed:()=>i(this,On)[On].getTimeElapsed(),getPageCount:()=>i(this,On)[On].getPageCount()},this.logout=()=>{i(this,En)[En].debug("logout called"),de.setInstantDeleteFlagInK()},this.clear=()=>{this.onUserLogin.clear()},this.getCleverTapID=()=>i(this,Pn)[Pn].getGuid(),this.getAccountID=()=>i(this,Tn)[Tn].id,this.getSCDomain=()=>i(this,Tn)[Tn].finalTargetDomain,this.setLibrary=(e,t)=>{ue.flutterVersion={[e]:t}},this.setSCSDKVersion=e=>{i(this,Tn)[Tn].scSDKVersion=e;const t={};t.af={scv:"sc-sdk-v"+i(this,Tn)[Tn].scSDKVersion};let n=i(this,Tn)[Tn].dataPostURL;n=We(n,"type","page"),n=We(n,"d",Ye(JSON.stringify(t),i(this,En)[En])),i(this,xn)[xn].saveAndFireRequest(n,ue.blockRequest)},Yt()&&(Kt(),Ht(i(this,En)[En])),this.getInboxMessageCount=()=>{const e=Bt();return Object.keys(e).length},this.getInboxMessageUnreadCount=()=>{if(ue.inbox)return ue.inbox.unviewedCounter;i(this,En)[En].debug("No unread messages")},this.getAllInboxMessages=()=>Bt(),this.getUnreadInboxMessages=()=>{if(ue.inbox)return ue.inbox.unviewedMessages;i(this,En)[En].debug("No unread messages")},this.getInboxMessageForId=e=>{const t=Bt();if((null!==e||""!==e)&&t.hasOwnProperty(e))return t[e];i(this,En)[En].error("No message available for message Id "+e)},this.deleteInboxMessage=e=>{const t=Bt();if(null===e&&""===e||!t.hasOwnProperty(e))i(this,En)[En].error("No message available for message Id "+e);else{const i=document.querySelector("ct-web-inbox").shadowRoot.getElementById(e);0===t[e].viewed&&(ue.inbox.unviewedCounter--,delete ue.inbox.unviewedMessages[e],document.getElementById("unviewedBadge").innerText=ue.inbox.unviewedCounter,document.getElementById("unviewedBadge").style.display=ue.inbox.unviewedCounter>0?"flex":"none"),i&&i.remove(),delete t[e],zt(t)}},this.markReadInboxMessage=e=>{const t=ue.inbox.unviewedMessages,n=Bt();if(null===e&&""===e||!t.hasOwnProperty(e))i(this,En)[En].error("No message available for message Id "+e);else{const t=document.querySelector("ct-web-inbox").shadowRoot.getElementById(e);if(null!==t&&(t.shadowRoot.getElementById("unreadMarker").style.display="none"),n[e].viewed=1,document.getElementById("unviewedBadge")){var o=parseInt(document.getElementById("unviewedBadge").innerText)-1;document.getElementById("unviewedBadge").innerText=o,document.getElementById("unviewedBadge").style.display=o>0?"flex":"none"}window.clevertap.renderNotificationViewed({msgId:n[e].wzrk_id,pivotId:n[e].pivotId}),ue.inbox.unviewedCounter--,delete ue.inbox.unviewedMessages[e],zt(n)}},this.markReadInboxMessagesForIds=e=>{if(Array.isArray(e))for(var t=0;t<e.length;t++)this.markReadInboxMessage(e[t])},this.markReadAllInboxMessage=()=>{const e=ue.inbox.unviewedMessages,t=Bt();Object.keys(e).length>0?(Object.keys(e).forEach((e=>{const i=document.querySelector("ct-web-inbox").shadowRoot.getElementById(e);null!==i&&(i.shadowRoot.getElementById("unreadMarker").style.display="none"),t[e].viewed=1,window.clevertap.renderNotificationViewed({msgId:t[e].wzrk_id,pivotId:t[e].wzrk_pivot})})),document.getElementById("unviewedBadge").innerText=0,document.getElementById("unviewedBadge").style.display="none",zt(t),ue.inbox.unviewedCounter=0,ue.inbox.unviewedMessages={}):i(this,En)[En].debug("All messages are already read")},this.toggleInbox=e=>{var t;return null===(t=ue.inbox)||void 0===t?void 0:t.toggleInbox(e)},this.renderNotificationViewed=e=>{a(U,e)},this.renderNotificationClicked=e=>{a(j,e)};const a=(e,t)=>{if(!t||!t.msgId)return;const n={type:"event"};if(n.evtName=e,n.evtData={[L]:t.msgId},t.pivotId&&(n.evtData={...n.evtData,wzrk_pivot:t.pivotId}),t.wzrk_slideNo&&(n.evtData={...n.evtData,wzrk_slideNo:t.wzrk_slideNo}),t.kv&&null!==t.kv&&void 0!==t.kv)for(const e in t.kv)e.startsWith(N)&&(n.evtData={...n.evtData,[e]:t.kv[e]});if(t.msgCTkv&&null!==t.msgCTkv&&void 0!==t.msgCTkv)for(const e in t.msgCTkv)e.startsWith(N)&&(n.evtData={...n.evtData,[e]:t.msgCTkv[e]});i(this,xn)[xn].processEvent(n)};this.setLogLevel=e=>{i(this,En)[En].logLevel=Number(e),3===e?sessionStorage.WZRK_D="":delete sessionStorage.WZRK_D},this.handleIncrementValue=(e,t)=>{this.profile._handleIncrementDecrementValue(e,t,q)},this.handleDecrementValue=(e,t)=>{this.profile._handleIncrementDecrementValue(e,t,"$decr")},this.setMultiValuesForKey=(e,t)=>{Array.isArray(t)?this.profile._handleMultiValueSet(e,t,"$set"):console.error("setMultiValuesForKey should be called with a value of type array")},this.addMultiValueForKey=(e,t)=>{"string"==typeof t||"number"==typeof t?this.profile._handleMultiValueAdd(e,t,B):console.error("addMultiValueForKey should be called with a value of type string or number.")},this.addMultiValuesForKey=(e,t)=>{Array.isArray(t)?this.profile._handleMultiValueAdd(e,t,B):console.error("addMultiValuesForKey should be called with a value of type array.")},this.removeMultiValueForKey=(e,t)=>{"string"==typeof t||"number"==typeof t?this.profile._handleMultiValueRemove(e,t,z):console.error("removeMultiValueForKey should be called with a value of type string or number.")},this.removeMultiValuesForKey=(e,t)=>{Array.isArray(t)?this.profile._handleMultiValueRemove(e,t,z):console.error("removeMultiValuesForKey should be called with a value of type array.")},this.removeValueForKey=e=>{this.profile._handleMultiValueDelete(e,H)};const l=(e,t,n)=>{((e,t,i,n,o)=>{const r=Ke(location.href),s=r.e,a=r.p,l=r.page_type;if(void 0!==s){const r={};r.id=n.id,r.unsubGroups=ue.unsubGroups,ue.updatedCategoryLong&&(r[D]=ue.updatedCategoryLong);let c=n.emailURL;i&&(c=We(c,"fetchGroups",i)),t&&(c=We(c,"encoded",t)),c=We(c,"e",s),c=We(c,"d",Ye(JSON.stringify(r),o)),a&&(c=We(c,"p",a)),"-1"!==e&&(c=We(c,"sub",e)),l&&(ue.globalUnsubscribe=l===A,c=We(c,"page_type",l)),tt.fireRequest(c)}})(e,t,n,i(this,Tn)[Tn],i(this,En)[En])};function c(e){var t=e.coords.latitude,n=e.coords.longitude;ue.location={Latitude:t,Longitude:n},i(this,zn)[zn]({Latitude:t,Longitude:n})}function u(e){switch(e.code){case e.PERMISSION_DENIED:console.log("User denied the request for Geolocation.");break;case e.POSITION_UNAVAILABLE:console.log("Location information is unavailable.");break;case e.TIMEOUT:console.log("The request to get user location timed out.");break;case e.UNKNOWN_ERROR:console.log("An unknown error occurred.")}}this.getLocation=function(e,t){if(e&&"number"!=typeof e||t&&"number"!=typeof t)console.log("Latitude and Longitude must be of number type");else if(e&&t){if(e<=-90||e>90)return void console.log("A vaid latitude must range between -90 and 90");if(t<=-180||t>180)return void console.log("A valid longitude must range between -180 and 180");ue.location={Latitude:e,Longitude:t},i(this,zn)[zn]({Latitude:e,Longitude:t})}else navigator.geolocation?navigator.geolocation.getCurrentPosition(c.bind(this),u):console.log("Geolocation is not supported by this browser.")};const h=i(this,An)[An];h.logout=this.logout,h.clear=this.clear,h.closeIframe=(e,t)=>{dt(e,0,i(this,On)[On].sessionId)},h.enableWebPush=(e,t)=>{this.notifications._enableWebPush(e,t)},h.tr=e=>{ri(e,{device:i(this,Pn)[Pn],session:i(this,On)[On],request:i(this,xn)[xn],logger:i(this,En)[En]})},h.setEnum=e=>{((e,t)=>{if($(e)||te(e))return"$E_"+e;t.error(Me)})(e,i(this,En)[En])},h.is_onloadcalled=()=>1===i(this,In)[In],h.subEmail=e=>{l("1",e)},h.getEmail=(e,t)=>{l("-1",e,t)},h.unSubEmail=e=>{l("0",e)},h.unsubEmailGroups=e=>{ue.unsubGroups=[];const t=document.getElementsByClassName("ct-unsub-group-input-item");for(let e=0;e<t.length;e++){const i=t[e];if(i.name){const e={name:i.name,isUnsubscribed:i.checked};ue.unsubGroups.push(e)}}l("2",e)},h.setSubscriptionGroups=e=>{ue.unsubGroups=e},h.getSubscriptionGroups=()=>ue.unsubGroups,h.changeSubscriptionGroups=(e,t)=>{h.setSubscriptionGroups(t),l("2",e)},h.isGlobalUnsubscribe=()=>ue.globalUnsubscribe,h.setIsGlobalUnsubscribe=e=>{ue.globalUnsubscribe=e},h.setUpdatedCategoryLong=e=>{e[D]&&(ue.updatedCategoryLong=e[D])},window.$CLTP_WR=window.$WZRK_WR=h,(null===(r=s.account)||void 0===r?void 0:r[0].id)&&this.init()}init(e,t,n,o){if(1===i(this,In)[In])return;if((e=>{const t=window.location.search,i=window.opener;if("?ctBuilder"===t)return e.debug("open in visual builder mode"),window.addEventListener("message",Qt,!1),void(i&&i.postMessage("builder","*"));"?ctBuilderPreview"===t&&(window.addEventListener("message",Qt,!1),i&&i.postMessage("preview","*"))})(i(this,En)[En]),de.removeCookie("WZRK_P",window.location.hostname),!i(this,Tn)[Tn].id){if(!e)return void i(this,En)[En].error(Ee);i(this,Tn)[Tn].id=e}i(this,On)[On].cookieName="WZRK_S_"+i(this,Tn)[Tn].id,t&&(i(this,Tn)[Tn].region=t),n&&(i(this,Tn)[Tn].targetDomain=n),o&&(i(this,Tn)[Tn].token=o);const r=location.href,s=Ke(r.toLowerCase());if(void 0!==s.e&&"0"==s.wzrk_ex)return;ue.isPrivacyArrPushed=!0,ue.privacyArray.length>0&&this.privacy.push(ue.privacyArray),i(this,Un)[Un](),this.pageChanged();const a=setInterval((()=>{i(this,Pn)[Pn].gcookie&&(clearInterval(a),i(this,xn)[xn].processBackupEvents())}),3e3);i(this,Mn)[Mn]?document.addEventListener("click",i(this,Nn)[Nn]):document.removeEventListener("click",i(this,Nn)[Nn]),i(this,In)[In]=1}pageChanged(){const e=window.location.href,t=Ke(e.toLowerCase()),n=i(this,On)[On].getSessionCookieObject();let o=void 0===n.p?0:n.p;n.p=++o,i(this,On)[On].setSessionCookieObject(n);let r={},s=(e=>{if(""===e)return"";var t=document.createElement("a");return t.href=e,t.hostname})(document.referrer);if(window.location.hostname!==s){const e=120;""!==s&&(s=s.length>e?s.substring(0,e):s,r.referrer=s);let i=t.utm_source||t.wzrk_source;void 0!==i&&(i=i.length>e?i.substring(0,e):i,r.us=i);let n=t.utm_medium||t.wzrk_medium;void 0!==n&&(n=n.length>e?n.substring(0,e):n,r.um=n);let o=t.utm_campaign||t.wzrk_campaign;if(void 0!==o&&(o=o.length>e?o.substring(0,e):o,r.uc=o),void 0!==t.wzrk_medium){const e=t.wzrk_medium;e.match(/^email$|^social$|^search$/)&&(r.wm=e)}}r=i(this,xn)[xn].addSystemDataToObject(r,void 0),r.cpg=e,r[y]=rt();let a=i(this,Tn)[Tn].dataPostURL;i(this,xn)[xn].addFlags(r),1===parseInt(r.pg)&&i(this,Bn)[Bn](r),a=We(a,"type","page"),a=We(a,"d",Ye(JSON.stringify(r),i(this,En)[En])),i(this,xn)[xn].saveAndFireRequest(a,ue.blockRequest),1===parseInt(r.pg)&&this.event.push(Y,{t:4}),i(this,Dn)[Dn]=e,setTimeout((()=>{o<=3&&i(this,Vn)[Vn](),i(this,qn)[qn]()&&setInterval((()=>{i(this,Vn)[Vn]()}),3e5)}),12e4)}_isPersonalisationActive(){return de._isLocalStorageSupported()&&this.enablePersonalization}set popupCallback(e){this.popupCallbacks[this.popupCurrentWzrkId]=e}setOffline(e){"boolean"==typeof e?(ue.offline=e,e||i(this,xn)[xn].processBackupEvents()):console.error("setOffline should be called with a value of type boolean")}getSDKVersion(){return"web-sdk-v1.8.2"}defineVariable(e,t){return un.define(e,t,i(this,Rn)[Rn])}syncVariables(e,t){if(4===i(this,En)[En].logLevel)return i(this,Rn)[Rn].syncVariables(e,t);{const e="App log level is not set to 4";return i(this,En)[En].error(e),Promise.reject(new Error(e))}}fetchVariables(e){i(this,Rn)[Rn].fetchVariables(e)}addVariablesChangedCallback(e){i(this,Rn)[Rn].addVariablesChangedCallback(e)}addOneTimeVariablesChangedCallback(e){i(this,Rn)[Rn].addOneTimeVariablesChangedCallback(e)}}(window.clevertap);return window.clevertap=window.wizrocket=Zn,Zn}()},307:(e,t,i)=>{e=i.nmd(e);var n="__lodash_hash_undefined__",o=9007199254740991,r="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Function]",u="[object Map]",h="[object Number]",p="[object Object]",g="[object Promise]",f="[object RegExp]",v="[object Set]",b="[object String]",m="[object WeakMap]",y="[object ArrayBuffer]",w="[object DataView]",S=/^\[object .+?Constructor\]$/,_=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[r]=C[s]=C[y]=C[a]=C[w]=C[l]=C[c]=C[d]=C[u]=C[h]=C[p]=C[f]=C[v]=C[b]=C[m]=!1;var k="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,E="object"==typeof self&&self&&self.Object===Object&&self,A=k||E||Function("return this")(),I=t&&!t.nodeType&&t,P=I&&e&&!e.nodeType&&e,O=P&&P.exports===I,T=O&&k.process,x=function(){try{return T&&T.binding&&T.binding("util")}catch(e){}}(),R=x&&x.isTypedArray;function M(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}function D(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i}function N(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}var L,U,j,F=Array.prototype,V=Function.prototype,q=Object.prototype,B=A["__core-js_shared__"],z=V.toString,H=q.hasOwnProperty,K=(L=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"",W=q.toString,G=RegExp("^"+z.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=O?A.Buffer:void 0,J=A.Symbol,$=A.Uint8Array,Z=q.propertyIsEnumerable,Q=F.splice,X=J?J.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=Y?Y.isBuffer:void 0,ie=(U=Object.keys,j=Object,function(e){return U(j(e))}),ne=Pe(A,"DataView"),oe=Pe(A,"Map"),re=Pe(A,"Promise"),se=Pe(A,"Set"),ae=Pe(A,"WeakMap"),le=Pe(Object,"create"),ce=Re(ne),de=Re(oe),ue=Re(re),he=Re(se),pe=Re(ae),ge=J?J.prototype:void 0,fe=ge?ge.valueOf:void 0;function ve(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function be(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function me(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function ye(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new me;++t<i;)this.add(e[t])}function we(e){var t=this.__data__=new be(e);this.size=t.size}function Se(e,t){for(var i=e.length;i--;)if(Me(e[i][0],t))return i;return-1}function _e(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":X&&X in Object(e)?function(e){var t=H.call(e,X),i=e[X];try{e[X]=void 0;var n=!0}catch(e){}var o=W.call(e);return n&&(t?e[X]=i:delete e[X]),o}(e):function(e){return W.call(e)}(e)}function Ce(e){return Ve(e)&&_e(e)==r}function ke(e,t,i,n,o){return e===t||(null==e||null==t||!Ve(e)&&!Ve(t)?e!=e&&t!=t:function(e,t,i,n,o,d){var g=Ne(e),m=Ne(t),S=g?s:Te(e),_=m?s:Te(t),C=(S=S==r?p:S)==p,k=(_=_==r?p:_)==p,E=S==_;if(E&&Le(e)){if(!Le(t))return!1;g=!0,C=!1}if(E&&!C)return d||(d=new we),g||qe(e)?Ee(e,t,i,n,o,d):function(e,t,i,n,o,r,s){switch(i){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case y:return!(e.byteLength!=t.byteLength||!r(new $(e),new $(t)));case a:case l:case h:return Me(+e,+t);case c:return e.name==t.name&&e.message==t.message;case f:case b:return e==t+"";case u:var d=D;case v:var p=1&n;if(d||(d=N),e.size!=t.size&&!p)return!1;var g=s.get(e);if(g)return g==t;n|=2,s.set(e,t);var m=Ee(d(e),d(t),n,o,r,s);return s.delete(e),m;case"[object Symbol]":if(fe)return fe.call(e)==fe.call(t)}return!1}(e,t,S,i,n,o,d);if(!(1&i)){var A=C&&H.call(e,"__wrapped__"),I=k&&H.call(t,"__wrapped__");if(A||I){var P=A?e.value():e,O=I?t.value():t;return d||(d=new we),o(P,O,i,n,d)}}return!!E&&(d||(d=new we),function(e,t,i,n,o,r){var s=1&i,a=Ae(e),l=a.length;if(l!=Ae(t).length&&!s)return!1;for(var c=l;c--;){var d=a[c];if(!(s?d in t:H.call(t,d)))return!1}var u=r.get(e);if(u&&r.get(t))return u==t;var h=!0;r.set(e,t),r.set(t,e);for(var p=s;++c<l;){var g=e[d=a[c]],f=t[d];if(n)var v=s?n(f,g,d,t,e,r):n(g,f,d,e,t,r);if(!(void 0===v?g===f||o(g,f,i,n,r):v)){h=!1;break}p||(p="constructor"==d)}if(h&&!p){var b=e.constructor,m=t.constructor;b==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m||(h=!1)}return r.delete(e),r.delete(t),h}(e,t,i,n,o,d))}(e,t,i,n,ke,o))}function Ee(e,t,i,n,o,r){var s=1&i,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=r.get(e);if(c&&r.get(t))return c==t;var d=-1,u=!0,h=2&i?new ye:void 0;for(r.set(e,t),r.set(t,e);++d<a;){var p=e[d],g=t[d];if(n)var f=s?n(g,p,d,t,e,r):n(p,g,d,e,t,r);if(void 0!==f){if(f)continue;u=!1;break}if(h){if(!M(t,(function(e,t){if(s=t,!h.has(s)&&(p===e||o(p,e,i,n,r)))return h.push(t);var s}))){u=!1;break}}else if(p!==g&&!o(p,g,i,n,r)){u=!1;break}}return r.delete(e),r.delete(t),u}function Ae(e){return function(e,t,i){var n=t(e);return Ne(e)?n:function(e,t){for(var i=-1,n=t.length,o=e.length;++i<n;)e[o+i]=t[i];return e}(n,i(e))}(e,Be,Oe)}function Ie(e,t){var i,n,o=e.__data__;return("string"==(n=typeof(i=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?o["string"==typeof t?"string":"hash"]:o.map}function Pe(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Fe(e)||function(e){return!!K&&K in e}(e))&&(Ue(e)?G:S).test(Re(e))}(i)?i:void 0}ve.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},ve.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ve.prototype.get=function(e){var t=this.__data__;if(le){var i=t[e];return i===n?void 0:i}return H.call(t,e)?t[e]:void 0},ve.prototype.has=function(e){var t=this.__data__;return le?void 0!==t[e]:H.call(t,e)},ve.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=le&&void 0===t?n:t,this},be.prototype.clear=function(){this.__data__=[],this.size=0},be.prototype.delete=function(e){var t=this.__data__,i=Se(t,e);return!(i<0||(i==t.length-1?t.pop():Q.call(t,i,1),--this.size,0))},be.prototype.get=function(e){var t=this.__data__,i=Se(t,e);return i<0?void 0:t[i][1]},be.prototype.has=function(e){return Se(this.__data__,e)>-1},be.prototype.set=function(e,t){var i=this.__data__,n=Se(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this},me.prototype.clear=function(){this.size=0,this.__data__={hash:new ve,map:new(oe||be),string:new ve}},me.prototype.delete=function(e){var t=Ie(this,e).delete(e);return this.size-=t?1:0,t},me.prototype.get=function(e){return Ie(this,e).get(e)},me.prototype.has=function(e){return Ie(this,e).has(e)},me.prototype.set=function(e,t){var i=Ie(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this},ye.prototype.add=ye.prototype.push=function(e){return this.__data__.set(e,n),this},ye.prototype.has=function(e){return this.__data__.has(e)},we.prototype.clear=function(){this.__data__=new be,this.size=0},we.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},we.prototype.get=function(e){return this.__data__.get(e)},we.prototype.has=function(e){return this.__data__.has(e)},we.prototype.set=function(e,t){var i=this.__data__;if(i instanceof be){var n=i.__data__;if(!oe||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new me(n)}return i.set(e,t),this.size=i.size,this};var Oe=ee?function(e){return null==e?[]:(e=Object(e),function(t,i){for(var n=-1,o=null==t?0:t.length,r=0,s=[];++n<o;){var a=t[n];l=a,Z.call(e,l)&&(s[r++]=a)}var l;return s}(ee(e)))}:function(){return[]},Te=_e;function xe(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||_.test(e))&&e>-1&&e%1==0&&e<t}function Re(e){if(null!=e){try{return z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Me(e,t){return e===t||e!=e&&t!=t}(ne&&Te(new ne(new ArrayBuffer(1)))!=w||oe&&Te(new oe)!=u||re&&Te(re.resolve())!=g||se&&Te(new se)!=v||ae&&Te(new ae)!=m)&&(Te=function(e){var t=_e(e),i=t==p?e.constructor:void 0,n=i?Re(i):"";if(n)switch(n){case ce:return w;case de:return u;case ue:return g;case he:return v;case pe:return m}return t});var De=Ce(function(){return arguments}())?Ce:function(e){return Ve(e)&&H.call(e,"callee")&&!Z.call(e,"callee")},Ne=Array.isArray,Le=te||function(){return!1};function Ue(e){if(!Fe(e))return!1;var t=_e(e);return t==d||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function je(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Fe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ve(e){return null!=e&&"object"==typeof e}var qe=R?function(e){return function(t){return e(t)}}(R):function(e){return Ve(e)&&je(e.length)&&!!C[_e(e)]};function Be(e){return null!=(t=e)&&je(t.length)&&!Ue(t)?function(e,t){var i=Ne(e),n=!i&&De(e),o=!i&&!n&&Le(e),r=!i&&!n&&!o&&qe(e),s=i||n||o||r,a=s?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],l=a.length;for(var c in e)!t&&!H.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||xe(c,l))||a.push(c);return a}(e):function(e){if(i=(t=e)&&t.constructor,t!==("function"==typeof i&&i.prototype||q))return ie(e);var t,i,n=[];for(var o in Object(e))H.call(e,o)&&"constructor"!=o&&n.push(o);return n}(e);var t}e.exports=function(e,t){return ke(e,t)}},600:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(749)),r=function(){function e(){this.argString="",this.argValues={}}return e.prototype.add=function(e,t){if(void 0===t)return this;this.argString&&(this.argString+="&");var i;return i=t instanceof Array?JSON.stringify(t):encodeURIComponent(t),this.argString+="".concat(e,"=").concat(i),this.argValues[e]=t,this},e.prototype.body=function(e){return e?(this._body=e,this):this._body},e.prototype.attachApiKeys=function(e,t){return this.add(o.default.PARAMS.APP_ID,e).add(o.default.PARAMS.CLIENT,o.default.CLIENT).add(o.default.PARAMS.CLIENT_KEY,t)},e.prototype.build=function(){return this.argString},e.prototype.buildDict=function(){return this.argValues},e}();t.default=r},266:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.browser=this.searchString(this.getBrowserData(e))||"Unknown Browser",this.version=this.searchVersion(e.navigator.userAgent)||this.searchVersion(e.navigator.appVersion)||"Unknown Version",this.OS=this.searchString(this.getOSData(e))||"Unknown OS"}return e.prototype.searchString=function(e){for(var t=0;t<e.length;t++){var i=e[t].string,n=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,i){if(-1!==i.indexOf(e[t].subString))return e[t].identity}else if(n)return e[t].identity}},e.prototype.searchVersion=function(e){if(e){var t=e.indexOf(this.versionSearchString);if(-1!==t)return parseFloat(e.substring(t+this.versionSearchString.length+1))}},e.prototype.getBrowserData=function(e){return[{string:e.navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:e.navigator.userAgent,subString:"OmniWeb",identity:"OmniWeb",versionSearch:"OmniWeb/"},{string:e.navigator.userAgent,subString:"CriOS",identity:"Chrome",versionSearch:"CriOS"},{string:e.navigator.userAgent,subString:"FxiOS",identity:"Firefox",versionSearch:"FxiOS"},{string:e.navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:e.opera,identity:"Opera",versionSearch:"Version"},{string:e.navigator.vendor,subString:"iCab",identity:"iCab"},{string:e.navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:e.navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:e.navigator.vendor,subString:"Camino",identity:"Camino"},{string:e.navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:e.navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:e.navigator.userAgent,subString:"Android",identity:"Android Browser",versionSearch:"Version"},{string:e.navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:e.navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}]},e.prototype.getOSData=function(e){return[{string:e.navigator.platform,subString:"Win",identity:"Windows"},{string:e.navigator.platform,subString:"Mac",identity:"Mac OS"},{string:e.navigator.platform,subString:"iPad",identity:"iOS"},{string:e.navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:e.navigator.userAgent,subString:"Android",identity:"Android"},{string:e.navigator.platform,subString:"Linux",identity:"Linux"}]},e}();t.default=i},749:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={METHODS:{START:"start",STOP:"stop",ADVANCE:"advance",TRACK:"track",PAUSE_SESSION:"pauseSession",RESUME_SESSION:"resumeSession",PAUSE_STATE:"pauseState",RESUME_STATE:"resumeState",DOWNLOAD_FILE:"downloadFile",MULTI:"multi",SET_VARS:"setVars",GET_VARS:"getVars",SET_USER_ATTRIBUTES:"setUserAttributes",SET_DEVICE_ATTRIBUTES:"setDeviceAttributes",UPLOAD_FILE:"uploadFile",REGISTER_DEVICE:"registerDevice"},SDK_VERSION:"1.12.0-develop.1",CLIENT:"js",PARAMS:{ACTION:"action",APP_ID:"appId",CLIENT:"client",CLIENT_KEY:"clientKey",CT:"ct",CURRENCY_CODE:"currencyCode",DEVICE_ID:"deviceId",SDK_VERSION:"sdkVersion",USER_ID:"userId",NEW_USER_ID:"newUserId",DEV_MODE:"devMode",VERSION_NAME:"versionName",SYSTEM_NAME:"systemName",SYSTEM_VERSION:"systemVersion",BROWSER_NAME:"browserName",BROWSER_VERSION:"browserVersion",DEVICE_NAME:"deviceName",DEVICE_MODEL:"deviceModel",USER_ATTRIBUTES:"userAttributes",LOCALE:"locale",COUNTRY:"country",REGION:"region",CITY:"city",LOCATION:"location",STATE:"state",INFO:"info",EVENT:"event",VALUE:"value",FILENAME:"filename",TIME:"time",DATA:"data",VARS:"vars",FILE:"file",SIZE:"size",VARIATION:"variation",HASH:"hash",EMAIL:"email",VARIABLES:"vars",ACTION_DEFINITIONS:"actionDefinitions",PARAMS:"params",INCLUDE_DEFAULTS:"includeDefaults",INCLUDE_VARIANT_DEBUG_INFO:"includeVariantDebugInfo",NEWSFEED_MESSAGES:"newsfeedMessages",MESSAGE_ID:"messageId",WEB_PUSH_SUBSCRIPTION:"webPushSubscription"},KEYS:{IS_REGISTERED:"isRegistered",LATEST_VERSION:"latestVersion",SYNC_INBOX:"syncNewsfeed",MESSAGES:"messages",VARS:"vars",VARIANTS:"variants",VARIANT_DEBUG_INFO:"variantDebugInfo",ACTION_DEFINITIONS:"actionDefinitions",TOKEN:"token"},DEFAULT_KEYS:{COUNT:"__leanplum_unsynced",ITEM:"__leanplum_unsynced_",VARIABLES:"__leanplum_variables",VARIANTS:"__leanplum_variants",VARIANT_DEBUG_INFO:"__leanplum_variant_debug_info",ACTION_DEFINITIONS:"__leanplum_action_definitions",HOST_CONFIG:"__leanplum_hosts",INBOX_MESSAGES:"__leanplum_inbox_messages",TOKEN:"__leanplum_token",DEVICE_ID:"__leanplum_device_id",USER_ID:"__leanplum_user_id",SESSION:"__leanplum_session",MESSAGE_OCCURRENCES:"__leanplum_message_occurrences",MESSAGE_CACHE:"__leanplum_message_cache",MIGRATION_STATE:"__leanplum_migration_state",PUSH_SUBSCRIPTION:"__leanplum_push_subscription"},VALUES:{DETECT:"(detect)",DEFAULT_PUSH_ACTION:"Open action"}}},565:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.handlers=[]}return e.prototype.on=function(e,t){this.handlers.push({eventName:e,callback:t})},e.prototype.off=function(e,t){this.handlers=this.handlers.filter((function(i){return i.eventName!==e||i.callback!==t}))},e.prototype.emit=function(e,t){this.handlers.forEach((function(i){i.eventName===e&&i.callback(t)}))},e}();t.default=i},157:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.startHandlers=[],this.devMode=!1,this.hasStarted=!1,this.startSuccessful=!1,this.variantDebugInfoEnabled=!1}return e.prototype.addStartResponseHandler=function(e){this.startHandlers.push(e),this.hasStarted&&e(this.startSuccessful)},e.prototype.removeStartResponseHandler=function(e){var t=this.startHandlers.indexOf(e);t>=0&&this.startHandlers.splice(t,1)},e.prototype.triggerStartHandlers=function(){for(var e=0;e<this.startHandlers.length;e++)this.startHandlers[e](this.startSuccessful)},e}();t.default=i},876:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(749)),r=n(i(642)),s=function(){function e(){}return e.setApiPath=function(t){e._lp.setApiPath(t)},e.setEmail=function(){},e.setNetworkTimeout=function(t){e._lp.setNetworkTimeout(t)},e.setAppIdForDevelopmentMode=function(t,i){e._lp.setAppIdForDevelopmentMode(t,i)},e.setAppIdForProductionMode=function(t,i){e._lp.setAppIdForProductionMode(t,i)},e.setSocketHost=function(t){e._lp.setSocketHost(t)},e.setDeviceId=function(t){e._lp.setDeviceId(t)},e.setLocale=function(t){e._lp.setLocale(t)},e.setAppVersion=function(t){e._lp.setAppVersion(t)},e.setDeviceName=function(t){e._lp.setDeviceName(t)},e.setDeviceModel=function(t){e._lp.setDeviceModel(t)},e.setRequestBatching=function(t,i){e._lp.setRequestBatching(t,i)},e.setSystemName=function(t){e._lp.setSystemName(t)},e.setSystemVersion=function(t){e._lp.setSystemVersion(t)},e.setVariables=function(t){e._lp.setVariables(t)},e.setVariantDebugInfoEnabled=function(t){e._lp.setVariantDebugInfoEnabled(t)},e.enableRichInAppMessages=function(t){e._lp.enableRichInAppMessages(t)},e.processMessageEvent=function(t,i){e._lp.processMessageEvent(t,i)},e.getVariantDebugInfo=function(){return e._lp.getVariantDebugInfo()},e.getVariables=function(){return e._lp.getVariables()},e.getVariable=function(){for(var t,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return(t=e._lp).getVariable.apply(t,i)},e.getVariants=function(){return e._lp.getVariants()},e.inbox=function(){return e._lp.inbox()},e.addStartResponseHandler=function(t){e._lp.addStartResponseHandler(t)},e.removeStartResponseHandler=function(t){e._lp.removeStartResponseHandler(t)},e.addVariablesChangedHandler=function(t){e._lp.addVariablesChangedHandler(t)},e.removeVariablesChangedHandler=function(t){e._lp.removeVariablesChangedHandler(t)},e.forceContentUpdate=function(t){e._lp.forceContentUpdate(t)},e.useSessionLength=function(t){e._lp.useSessionLength(t)},e.start=function(t,i,n){e._lp.start(t,i,n)},e.startFromCache=function(t,i,n){e._lp.startFromCache(t,i,n)},e.stop=function(){e._lp.stop()},e.pauseSession=function(){e._lp.pauseSession()},e.resumeSession=function(){e._lp.resumeSession()},e.pauseState=function(){e._lp.pauseState()},e.resumeState=function(){e._lp.resumeState()},e.getUserId=function(){return this._lp.getUserId()},e.setUserId=function(t){e.setUserAttributes(t)},e.setUserAttributes=function(t,i){e._lp.setUserAttributes(t,i)},e.track=function(t,i,n,o){e._lp.track(t,i,n,o)},e.trackPurchase=function(t,i,n,o){void 0===o&&(o="Purchase"),e._lp.trackPurchase(t,i,n,o)},e.advanceTo=function(t,i,n){e._lp.advanceTo(t,i,n)},e.isWebPushSupported=function(){return e._lp.isWebPushSupported()},e.isWebPushSubscribed=function(){return e._lp.isWebPushSubscribed()},e.setWebPushOptions=function(t){return e._lp.setWebPushOptions(t)},e.registerForWebPush=function(t){return e._lp.registerForWebPush(t)},e.unregisterFromWebPush=function(){return e._lp.unregisterFromWebPush()},e.clearUserContent=function(){e._lp.clearUserContent()},e.defineAction=function(t){e._lp.defineAction(t)},e.applyQueue=function(t){e._lp.applyQueue(t)},e.on=function(t,i){e._lp.on(t,i)},e.off=function(t,i){e._lp.off(t,i)},e.getFileUrl=function(t){return e._lp.getFileUrl(t)},e.__destroy=function(){this._lp=new r.default(window)},e._lp=new r.default(window),e.VERSION=o.default.SDK_VERSION,e}();t.default=s},234:function(e,t,i){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LeanplumInboxMessage=void 0;var r=o(i(600)),s=o(i(749)),a=o(i(88)),l=function(e){return Object.keys(e).map((function(t){return e[t]}))},c=function(){function e(e,t){this.createRequest=e,this.onAction=t,this.messageMap={},this.changeHandlers=[],this.load()}return e.prototype.downloadMessages=function(){var e=this;this.createRequest("getNewsfeedMessages",void 0,{queued:!0,sendNow:!0,response:function(t){var i=null==t?void 0:t.response[0];i&&i.newsfeedMessages&&(e.messageMap=i.newsfeedMessages,e.triggerChangeHandlers())}})},e.prototype.markAsRead=function(e){var t=this.messageMap[e];if(t&&!t.isRead){t.isRead=!0,this.triggerChangeHandlers();var i=new r.default;i.add("newsfeedMessageId",e),this.createRequest("markNewsfeedMessageAsRead",i,{})}},e.prototype.read=function(e){this.markAsRead(e);var t=this.message(e),i=e.split("##")[0],n=(null==t?void 0:t.openAction())||null;this.onAction(i,n)},e.prototype.remove=function(e){if(this.messageMap[e]){delete this.messageMap[e],this.triggerChangeHandlers();var t=new r.default;t.add("newsfeedMessageId",e),this.createRequest("deleteNewsfeedMessage",t,{})}},e.prototype.onChanged=function(e){var t=this;return this.changeHandlers.push(e),function(){return t.changeHandlers=t.changeHandlers.filter((function(t){return t!==e}))}},e.prototype.triggerChangeHandlers=function(){this.changeHandlers.forEach((function(e){return e()})),this.save()},e.prototype.save=function(){a.default.save(s.default.DEFAULT_KEYS.INBOX_MESSAGES,JSON.stringify(this.messageMap),"session")},e.prototype.load=function(){var e=a.default.get(s.default.DEFAULT_KEYS.INBOX_MESSAGES,"session");try{this.messageMap=JSON.parse(e)||{}}catch(e){this.messageMap={}}},e.prototype.count=function(){return l(this.messageMap).length},e.prototype.unreadCount=function(){return l(this.messageMap).filter((function(e){return!e.isRead})).length},e.prototype.messages=function(e){var t=[];for(var i in this.messageMap){var n=this.messageMap[i];e(n)&&t.push(d.create(i,n))}return t},e.prototype.allMessages=function(){return this.messages((function(){return!0}))},e.prototype.unreadMessages=function(){return this.messages((function(e){return!e.isRead}))},e.prototype.messageIds=function(){return Object.keys(this.messageMap)},e.prototype.message=function(e){var t=this.messageMap[e];return t?d.create(e,t):null},e}();t.default=c;var d=function(){function e(e,t,i,n,o,r,s,a){this._id=e,this._title=t,this._subtitle=i,this._data=n,this._timestamp=o,this._isRead=r,this._imageUrl=s,this._openAction=a}return e.create=function(t,i){var o,r,a,l,c,d,u,h,p,g,f,v=null===(o=i.messageData)||void 0===o?void 0:o.parentCampaignId,b=n(n({},null===(a=null===(r=i.messageData)||void 0===r?void 0:r.vars)||void 0===a?void 0:a[s.default.VALUES.DEFAULT_PUSH_ACTION]),{parentCampaignId:v});return new e(t,null===(c=null===(l=i.messageData)||void 0===l?void 0:l.vars)||void 0===c?void 0:c.Title,null===(u=null===(d=i.messageData)||void 0===d?void 0:d.vars)||void 0===u?void 0:u.Subtitle,null===(p=null===(h=i.messageData)||void 0===h?void 0:h.vars)||void 0===p?void 0:p.Data,i.deliveryTimestamp,i.isRead,null===(f=null===(g=i.messageData)||void 0===g?void 0:g.vars)||void 0===f?void 0:f.Image,b)},e.prototype.id=function(){return this._id},e.prototype.title=function(){return this._title},e.prototype.subtitle=function(){return this._subtitle},e.prototype.data=function(){return this._data},e.prototype.timestamp=function(){return this._timestamp},e.prototype.isRead=function(){return this._isRead},e.prototype.imageUrl=function(){return this._imageUrl},e.prototype.openAction=function(){return this._openAction},e}();t.LeanplumInboxMessage=d},642:function(e,t,i){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(i(600)),s=o(i(266)),a=o(i(749)),l=o(i(157)),c=o(i(234)),d=o(i(343)),u=o(i(34)),h=o(i(88)),p=o(i(95)),g=o(i(14)),f=o(i(565)),v=o(i(316)),b=i(772),m=i(205),y=o(i(816)),w=a.default.DEFAULT_KEYS.SESSION,S=function(){function e(e){var t=this;this.wnd=e,this._migration=new v.default(this.createRequest.bind(this)),this._events=new f.default,this._internalState=new l.default,this._lpInbox=new c.default(this.createRequest.bind(this),this.onInboxAction.bind(this)),this._lpRequest=new d.default(this._events),this._varCache=new y.default(this.createRequest.bind(this)),this._lpSocket=new u.default(this._varCache,this.createRequest.bind(this),this._lpRequest.getLastResponse.bind(this._lpRequest),this._events),this._pushManager=new p.default(this.createRequest.bind(this)),this._messages=new g.default(this._events,this.createRequest.bind(this),this.getFileUrl.bind(this)),this._browserDetector=new s.default(e),this._events.on("navigationChange",(function(e){var i=!1;t._events.emit("openUrl",{preventDefault:function(){return i=!0},url:e}),i||t.wnd.location.assign(e)})),this._events.on("registerForPush",(function(){return t.registerForWebPush()})),this._events.on("updateDevServerHost",(function(e){return t.setSocketHost(e)})),this._events.on("migrateStateReceived",(function(e){return t._migration.verifyState(e)}))}return e.prototype.setApiPath=function(e){this._lpRequest.apiPath&&(this._lpRequest.apiPath=e)},e.prototype.setNetworkTimeout=function(e){this._lpRequest.setNetworkTimeout(e),this._lpSocket.setNetworkTimeout(e)},e.prototype.setAppIdForDevelopmentMode=function(e,t){this._lpRequest.appId=e,this._lpRequest.clientKey=t,this._internalState.devMode=!0},e.prototype.setAppIdForProductionMode=function(e,t){this._lpRequest.appId=e,this._lpRequest.clientKey=t,this._internalState.devMode=!1},e.prototype.setSocketHost=function(e){this._lpSocket.setSocketHost(e)},e.prototype.setDeviceId=function(e){this._lpRequest.deviceId=e},e.prototype.setLocale=function(e){this._locale=e},e.prototype.setAppVersion=function(e){this._lpRequest.versionName=e},e.prototype.setDeviceName=function(e){this._deviceName=e},e.prototype.setDeviceModel=function(e){this._deviceModel=e},e.prototype.setRequestBatching=function(e,t){this._lpRequest.batchEnabled=e,this._lpRequest.batchCooldown=t},e.prototype.setSystemName=function(e){this._systemName=e},e.prototype.setSystemVersion=function(e){this._systemVersion=e},e.prototype.setVariables=function(e){this._varCache.setVariables(e)},e.prototype.setVariantDebugInfoEnabled=function(e){this._internalState.variantDebugInfoEnabled=e},e.prototype.enableRichInAppMessages=function(e){this._messages.enableRichInAppMessages(e)},e.prototype.processMessageEvent=function(e,t){this._messages.processMessageEvent(e,t)},e.prototype.getVariantDebugInfo=function(){return this._varCache.getVariantDebugInfo()},e.prototype.getVariables=function(){return this._varCache.getVariables()},e.prototype.getVariable=function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return(e=this._varCache).getVariable.apply(e,t)},e.prototype.getVariants=function(){return this._varCache.variants||[]},e.prototype.inbox=function(){return this._lpInbox},e.prototype.on=function(e,t){this._events.on(e,t)},e.prototype.off=function(e,t){this._events.off(e,t)},e.prototype.onInboxAction=function(e,t){var i=this;this._messages.trackMessage(e,{event:"Open"},(function(){return t&&i._messages.onAction(t)}))},e.prototype.defineAction=function(e){this._varCache.registerActionDefinition(n({kind:b.MessageKind.Template},e))},e.prototype.addStartResponseHandler=function(e){this._internalState.addStartResponseHandler(e)},e.prototype.removeStartResponseHandler=function(e){this._internalState.removeStartResponseHandler(e)},e.prototype.addVariablesChangedHandler=function(e){this._varCache.addVariablesChangedHandler(e)},e.prototype.removeVariablesChangedHandler=function(e){this._varCache.removeVariablesChangedHandler(e)},e.prototype.getFileUrl=function(e){return this._lpRequest.getFileUrl(e)},e.prototype.forceContentUpdate=function(e){var t=this,i=(new r.default).add(a.default.PARAMS.INCLUDE_DEFAULTS,!1).add(a.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,this._internalState.variantDebugInfoEnabled);this.createRequest(a.default.METHODS.GET_VARS,i,{queued:!1,sendNow:!0,response:function(i){var n=t._lpRequest.getLastResponse(i),o=t._lpRequest.isResponseSuccess(n);o&&(t._varCache.applyDiffs(n[a.default.KEYS.VARS],n[a.default.KEYS.VARIANTS],n[a.default.KEYS.ACTION_DEFINITIONS]),t._varCache.setVariantDebugInfo(n[a.default.KEYS.VARIANT_DEBUG_INFO]),t._events.emit("messagesReceived",n[a.default.KEYS.MESSAGES])),e&&e(o)}})},e.prototype.useSessionLength=function(e){this._sessionLength=e},e.prototype.start=function(e,t,i){var n=this;if("function"==typeof e?(i=e,t={},e=null):"object"==typeof e&&null!=e?(i=t,t=e,e=null):"function"==typeof t&&(i=t,t={}),this.hasActiveSession()&&!this._internalState.devMode)return this.startFromCache(e,t,i);this._migration.getState((function(o){o===m.MigrationState.DUPLICATE?n._ct=n._migration.initCleverTap():o===m.MigrationState.CLEVERTAP&&(n._ct=n._migration.initCleverTap(),n.migratePushToken(),Object.values(a.default.DEFAULT_KEYS).filter((function(e){return![a.default.DEFAULT_KEYS.USER_ID,a.default.DEFAULT_KEYS.DEVICE_ID,a.default.DEFAULT_KEYS.TOKEN,a.default.DEFAULT_KEYS.MIGRATION_STATE].includes(e)})).forEach((function(e){return h.default.remove(e)})),n._messages.cleanup()),n._lpRequest.userId=e,e&&n._migration.identity.setUserId(e),i&&n.addStartResponseHandler(i),n._varCache.onUpdate=function(){n._varCache.triggerVariablesChangedHandlers()};var s=(new r.default).add(a.default.PARAMS.USER_ATTRIBUTES,JSON.stringify(t)).add(a.default.PARAMS.COUNTRY,a.default.VALUES.DETECT).add(a.default.PARAMS.REGION,a.default.VALUES.DETECT).add(a.default.PARAMS.CITY,a.default.VALUES.DETECT).add(a.default.PARAMS.LOCATION,a.default.VALUES.DETECT).add(a.default.PARAMS.SYSTEM_NAME,n._systemName||n._browserDetector.OS).add(a.default.PARAMS.SYSTEM_VERSION,(n._systemVersion||"").toString()).add(a.default.PARAMS.BROWSER_NAME,n._browserDetector.browser).add(a.default.PARAMS.BROWSER_VERSION,n._browserDetector.version.toString()).add(a.default.PARAMS.LOCALE,n._locale||a.default.VALUES.DETECT).add(a.default.PARAMS.DEVICE_NAME,n._deviceName||"".concat(n._browserDetector.browser," ").concat(n._browserDetector.version)).add(a.default.PARAMS.DEVICE_MODEL,n._deviceModel||"Web Browser").add(a.default.PARAMS.NEWSFEED_MESSAGES,n._lpInbox.messageIds()).add(a.default.PARAMS.INCLUDE_DEFAULTS,!1).add(a.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,n._internalState.variantDebugInfoEnabled);n.createRequest(a.default.METHODS.START,s,{queued:!0,sendNow:!0,response:function(e){n._internalState.hasStarted=!0;var t=n._lpRequest.getLastResponse(e),i=n._lpRequest.isResponseSuccess(t);if(n._internalState.startSuccessful=i,i){n.updateSession();var o=t[a.default.KEYS.MESSAGES];if(t.actionDefinitions&&(o.actionDefinitions=t.actionDefinitions),n._events.emit("messagesReceived",o),t[a.default.KEYS.SYNC_INBOX]&&n._lpInbox.downloadMessages(),n._internalState.devMode){var r=t[a.default.KEYS.LATEST_VERSION];r&&console.log("A newer version of the Leanplum SDK, ".concat(r,', is available.\n  Use "npm update leanplum-sdk" or go to https://docs.leanplum.com/reference#javascript-setup to download it.')),n.connectSocket()}n._varCache.applyDiffs(t[a.default.KEYS.VARS],t[a.default.KEYS.VARIANTS],t[a.default.KEYS.ACTION_DEFINITIONS]),n._varCache.setVariantDebugInfo(t[a.default.KEYS.VARIANT_DEBUG_INFO]),n._varCache.token=t[a.default.KEYS.TOKEN]}else n._varCache.loadDiffs();n._events.emit("start",{success:i}),n._internalState.triggerStartHandlers()}})}))},e.prototype.startFromCache=function(e,t,i){var n=this;"function"==typeof e?(i=e,t={},e=null):"object"==typeof e&&null!=e?(i=t,t=e,e=null):"function"==typeof t&&(i=t,t={}),this.updateSession(),this._lpRequest.userId=e,i&&this.addStartResponseHandler(i),this._internalState.hasStarted=!0,this._internalState.startSuccessful=!0,this._migration.getState((function(e){e!==m.MigrationState.DUPLICATE&&e!==m.MigrationState.CLEVERTAP||(n._ct=n._migration.initCleverTap())})),this._internalState.devMode&&this.connectSocket(),this._varCache.loadDiffs(),this._events.emit("resume"),this._internalState.triggerStartHandlers()},e.prototype.stop=function(){this.createRequest(a.default.METHODS.STOP,void 0,{sendNow:!0,queued:!0,response:function(){h.default.remove(w)}})},e.prototype.pauseSession=function(){this.createRequest(a.default.METHODS.PAUSE_SESSION,void 0,{sendNow:!0,queued:!0})},e.prototype.resumeSession=function(){this._events.emit("resume"),this.createRequest(a.default.METHODS.RESUME_SESSION,void 0,{sendNow:!0,queued:!0})},e.prototype.pauseState=function(){this.createRequest(a.default.METHODS.PAUSE_STATE,void 0,{queued:!0})},e.prototype.resumeState=function(){this.createRequest(a.default.METHODS.RESUME_STATE,void 0,{queued:!0})},e.prototype.getUserId=function(){return this._lpRequest.userId},e.prototype.setUserId=function(e){this.setUserAttributes(e)},e.prototype.setUserAttributes=function(e,t){if(void 0===t)if("object"==typeof e)t=e,e=void 0;else if("string"!=typeof e)return void console.log("Leanplum: setUserAttributes expects a string or an object");var i=(new r.default).add(a.default.PARAMS.USER_ATTRIBUTES,t?JSON.stringify(t):void 0).add(a.default.PARAMS.NEW_USER_ID,e);this._events.emit("setUserAttribute",t),this.createRequest(a.default.METHODS.SET_USER_ATTRIBUTES,i,{queued:!0}),e&&(this._lpRequest.userId=e,h.default.save(a.default.DEFAULT_KEYS.USER_ID,this._lpRequest.userId))},e.prototype.track=function(e,t,i,n){var o=this;"object"==typeof t&&null!=t?(n=t,i=void 0,t=void 0):"string"==typeof t?(n=i,i=t,t=void 0):"object"==typeof i&&null!=i&&(n=i,i=void 0);var s=(new r.default).add(a.default.PARAMS.EVENT,e).add(a.default.PARAMS.VALUE,t||0).add(a.default.PARAMS.INFO,i).add(a.default.PARAMS.PARAMS,JSON.stringify(n));this._events.emit("track",{eventName:e,params:n}),this.createRequest(a.default.METHODS.TRACK,s,{queued:!0,response:function(){return o.updateSession()}})},e.prototype.trackPurchase=function(e,t,i,n){void 0===n&&(n="Purchase");var o=(new r.default).add(a.default.PARAMS.EVENT,n).add(a.default.PARAMS.VALUE,e||0).add(a.default.PARAMS.PARAMS,JSON.stringify(i));t&&o.add(a.default.PARAMS.CURRENCY_CODE,t),this._events.emit("track",{eventName:n}),this.createRequest(a.default.METHODS.TRACK,o,{queued:!0,isPurchase:!0})},e.prototype.advanceTo=function(e,t,i){"object"==typeof t&&null!=t&&(i=t,t=void 0);var n=(new r.default).add(a.default.PARAMS.STATE,e).add(a.default.PARAMS.INFO,t).add(a.default.PARAMS.PARAMS,JSON.stringify(i));this._events.emit("advanceState",{state:e,params:i}),this.createRequest(a.default.METHODS.ADVANCE,n,{queued:!0})},e.prototype.isWebPushSupported=function(){return this._pushManager.isWebPushSupported()},e.prototype.isWebPushSubscribed=function(){var e,t=(null===(e=this._webPushOptions)||void 0===e?void 0:e.clientUrl)||"";return this._pushManager.isWebPushSubscribed(t)},e.prototype.setWebPushOptions=function(e){this._webPushOptions=n({},e)},e.prototype.registerForWebPush=function(e){var t=this;if(this._pushManager.isWebPushSupported()){var i=this._webPushOptions||{},n=e||i.serviceWorkerUrl,o=i&&i.scope?{scope:i.scope}:null;return this._pushManager.register(n,o,(function(e){return e?Promise.resolve(!0):t._pushManager.subscribeUser()}))}return Promise.reject("Leanplum: WebPush is not supported.")},e.prototype.unregisterFromWebPush=function(){var e,t=(null===(e=this._webPushOptions)||void 0===e?void 0:e.clientUrl)||"";return this._pushManager.unsubscribeUser(t)},e.prototype.clearUserContent=function(){this._varCache.clearUserContent()},e.prototype.applyQueue=function(e){var t=this;e.forEach((function(e){return t[e.name].apply(t,e.args)}))},e.prototype.createRequest=function(e,t,i){void 0===i&&(i={}),this._migration.duplicateRequest(e,t,i)||this._lpRequest.request(e,t,n({devMode:this._internalState.devMode},i))},e.prototype.connectSocket=function(){this._lpSocket.connect({appId:this._lpRequest.appId,deviceId:this._lpRequest.deviceId})},e.prototype.hasActiveSession=function(){if(!this._sessionLength)return!1;var e=Date.now(),t=parseInt(h.default.get(w));return!isNaN(t)&&e-t<1e3*this._sessionLength},e.prototype.updateSession=function(){h.default.save(w,String(Date.now()))},e.prototype.migratePushToken=function(){var e=this;h.default.get(a.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION)&&this.isWebPushSubscribed().then((function(t){var i;if(t){e._pushManager.unsubscribeUser();var o=null===(i=e._webPushOptions)||void 0===i?void 0:i.serviceWorkerUrl,r=o?{serviceWorkerPath:o}:{};e._ct&&e._ct.notifications.push(n({titleText:"",bodyText:"",okButtonText:"",rejectButtonText:""},r))}}))},e}();t.default=S},343:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(600)),r=n(i(749)),s=n(i(88)),a=n(i(967)),l=function(){function e(e,t){void 0===t&&(t=new a.default),this.events=e,this.network=t,this.cooldownTimeout=null,this.lastRequestTime=void 0,this.userIdValue=void 0,this.apiPath="https://api.leanplum.com/api",this.batchCooldown=5,this.batchEnabled=!0,this.loadHostConfig()}return Object.defineProperty(e.prototype,"userId",{get:function(){var e,t;return null!==(t=null!==(e=this.userIdValue)&&void 0!==e?e:this.loadLocal(r.default.DEFAULT_KEYS.USER_ID))&&void 0!==t?t:this.deviceId},set:function(e){this.userIdValue=e},enumerable:!1,configurable:!0}),e.prototype.request=function(e,t,i){var n=this;if(void 0===i&&(i={}),i=i||{},t=t||new o.default,this.deviceId||(this.deviceId=this.loadLocal(r.default.DEFAULT_KEYS.DEVICE_ID)),!this.deviceId){for(var s="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=0;l<16;l++)s+=a.charAt(Math.floor(Math.random()*a.length));this.deviceId=s,this.saveLocal(r.default.DEFAULT_KEYS.DEVICE_ID,s)}this.saveLocal(r.default.DEFAULT_KEYS.USER_ID,this.userId);var c=t.attachApiKeys(this.appId,this.clientKey).add(r.default.PARAMS.SDK_VERSION,r.default.SDK_VERSION).add(r.default.PARAMS.DEVICE_ID,this.deviceId).add(r.default.PARAMS.USER_ID,this.userId).add(r.default.PARAMS.ACTION,e).add(r.default.PARAMS.VERSION_NAME,this.versionName).add(r.default.PARAMS.DEV_MODE,i.devMode).add(r.default.PARAMS.TIME,((new Date).getTime()/1e3).toString()),d=i.success||i.response,u=i.error||i.response;if(!this.appId||!this.clientKey){var h="Leanplum App ID and client key are not set. Make sure you are calling setAppIdForDevelopmentMode or setAppIdForProductionMode before issuing API calls.";return console.error(h),void(u&&u(h))}if(t.body())this.sendRequest("?".concat(c.build()),t.body(),d,u,i.queued);else{var p=i.devMode||i.sendNow||!this.batchEnabled,g=function(){var e=n.popUnsentRequests();if(e.length>0){var t=JSON.stringify({data:e}),s=(new o.default).attachApiKeys(n.appId,n.clientKey).add(r.default.PARAMS.SDK_VERSION,r.default.SDK_VERSION).add(r.default.PARAMS.ACTION,r.default.METHODS.MULTI).add(r.default.PARAMS.TIME,((new Date).getTime()/1e3).toString().toString()).build();n.sendRequest("?".concat(s),t,d,u,i.queued)}};if(!p&&this.batchCooldown){var f=(new Date).getTime()/1e3;!this.lastRequestTime||f-this.lastRequestTime>=this.batchCooldown?(p=!0,this.lastRequestTime=f):this.cooldownTimeout||(this.cooldownTimeout=setTimeout((function(){n.cooldownTimeout=null,n.lastRequestTime=(new Date).getTime()/1e3,g()}),1e3*(this.batchCooldown-(f-this.lastRequestTime))))}this.saveRequestForLater(c.buildDict()),p&&g()}},e.prototype.getFileUrl=function(e){if(!e)return"";if(/^https?:/.test(e))return e;var t=(new o.default).attachApiKeys(this.appId,this.clientKey).add(r.default.PARAMS.SDK_VERSION,r.default.SDK_VERSION).add(r.default.PARAMS.ACTION,"downloadFile").add("filename",e);return"".concat(this.apiPath,"?").concat(t.build())},e.prototype.setNetworkTimeout=function(e){this.network.setNetworkTimeout(e)},e.prototype.getLastResponse=function(e){var t,i,n,o=null!==(i=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.length)&&void 0!==i?i:0;return o>0?null===(n=null==e?void 0:e.response)||void 0===n?void 0:n[o-1]:null},e.prototype.getFirstResponse=function(e){var t,i,n;return(null!==(i=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.length)&&void 0!==i?i:0)>0?null===(n=null==e?void 0:e.response)||void 0===n?void 0:n[0]:null},e.prototype.isResponseSuccess=function(e){return Boolean(null==e?void 0:e.success)},e.prototype.saveRequestForLater=function(e){var t=this.loadLocal(r.default.DEFAULT_KEYS.COUNT)||0,i=r.default.DEFAULT_KEYS.ITEM+t;this.saveLocal(i,JSON.stringify(e)),t++,this.saveLocal(r.default.DEFAULT_KEYS.COUNT,t)},e.prototype.sendRequest=function(e,t,i,n,o){var s=this;this.network.ajax("POST","".concat(this.apiPath).concat(e),t,(function(a){var l,c=s.getFirstResponse(a),d=(null===(l=a.migrateState)||void 0===l?void 0:l.sha256)||c.sha256;if(/\bgetMigrateState\b/.test(t)||s.events.emit("migrateStateReceived",d),!c.success&&c.apiHost){var u=c.apiHost,h=c.apiPath,p=c.devServerHost;s.saveLocal(r.default.DEFAULT_KEYS.HOST_CONFIG,JSON.stringify({apiHost:u,apiPath:h,devServerHost:p})),s.apiPath="https://".concat(u,"/").concat(h),s.sendRequest(e,t,i,n,o),s.events.emit("updateDevServerHost",p)}else i&&i(a)}),n,o)},e.prototype.popUnsentRequests=function(){var e=[],t=this.loadLocal(r.default.DEFAULT_KEYS.COUNT)||0;this.removeLocal(r.default.DEFAULT_KEYS.COUNT);for(var i=0;i<t;i++){var n=r.default.DEFAULT_KEYS.ITEM+i;try{e.push(JSON.parse(this.loadLocal(n)))}catch(e){}this.removeLocal(n)}return e},e.prototype.loadHostConfig=function(){var e=JSON.parse(this.loadLocal(r.default.DEFAULT_KEYS.HOST_CONFIG)||"null");if(e){var t=e.apiHost,i=e.apiPath,n=e.devServerHost;this.apiPath="https://".concat(t,"/").concat(i),this.events.emit("updateDevServerHost",n)}},e.prototype.loadLocal=function(e){return s.default.get(e)},e.prototype.saveLocal=function(e,t){s.default.save(e,t)},e.prototype.removeLocal=function(e){s.default.remove(e)},e}();t.default=l},34:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(307)),r=n(i(600)),s=n(i(749)),a=n(i(897)),l=function(){function e(e,t,i,n){this.cache=e,this.createRequest=t,this.getLastResponse=i,this.events=n,this.networkTimeoutSeconds=10,this.socketClient=null,this.socketHost="dev.leanplum.com",this.auth=null}return e.prototype.connect=function(e){var t=this;if(WebSocket){this.auth=e;var i=!1;this.socketClient=new a.default,this.socketClient.setNetworkTimeout(this.networkTimeoutSeconds),this.socketClient.onopen=function(){var n;i||(console.log("Leanplum: Connected to development server."),t.socketClient.send("auth",((n={})[s.default.PARAMS.APP_ID]=e.appId,n[s.default.PARAMS.DEVICE_ID]=e.deviceId,n)),i=!0)},this.socketClient.onerror=function(e){console.log("Leanplum: Socket error",e)},this.socketClient.onmessage=this.onMessageReceived.bind(this),this.socketClient.onclose=function(){console.log("Leanplum: Disconnected from development server."),i=!1},this.socketClient.connect(this.socketHost),setInterval((function(){t.socketClient.connected||t.socketClient.connecting||t.socketClient.connect(t.socketHost)}),5e3)}else console.log("Your browser doesn't support WebSockets.")},e.prototype.setSocketHost=function(e){this.socketHost=e,this.socketClient.connected&&(this.socketClient.disconnect(),this.connect(this.auth))},e.prototype.setNetworkTimeout=function(e){var t;this.networkTimeoutSeconds=e,null===(t=this.socketClient)||void 0===t||t.setNetworkTimeout(e)},e.prototype.onMessageReceived=function(e,t){var i=this;if("updateVars"===e){var n=(new r.default).add(s.default.PARAMS.INCLUDE_DEFAULTS,!1);this.createRequest(s.default.METHODS.GET_VARS,n,{queued:!1,sendNow:!0,response:function(e){var t=i.getLastResponse(e),n=t[s.default.KEYS.VARS],r=t[s.default.KEYS.VARIANTS],a=t[s.default.KEYS.ACTION_DEFINITIONS];(0,o.default)(n,i.cache.diffs)||i.cache.applyDiffs(n,r,a)}})}else if("getVariables"===e)this.cache.sendVariables(),this.socketClient.send("getContentResponse",{updated:!0});else if("getActions"===e){var a=this.cache.sendActions();this.socketClient.send("getContentResponse",{updated:a})}else if("registerDevice"===e){var l=t[0];alert("Your device has been registered to ".concat(l.email,"."))}else"trigger"===e&&(l=t[0],this.events.emit("previewRequest",l))},e}();t.default=l},14:function(e,t,i){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(i(749)),s=o(i(600)),a=o(i(967)),l=o(i(307)),c=o(i(88)),d=o(i(375)),u=function(){function e(){this.session={},this.triggers={},this.occurrences={}}return e.prototype.recordOccurrence=function(e){var t=(this.session[e]||0)+1;this.session[e]=t;var i=this.occurrences[e]||[];i.push(Date.now()),this.occurrences[e]=i,this.save()},e.prototype.recordTriggerOccurrence=function(e){var t=this.triggers[e]||[];return t.push(Date.now()),this.triggers[e]=t,this.save(),t.length},e.prototype.getSessionOccurranceCount=function(e){return this.session[e]||0},e.prototype.getOccurrences=function(e){return this.occurrences[e]||[]},e.prototype.clearSession=function(){this.session={}},e.prototype.load=function(){var e=c.default.get(r.default.DEFAULT_KEYS.MESSAGE_OCCURRENCES);if(e){var t=h(e);t&&(this.session=t.session,this.triggers=t.triggers,this.occurrences=t.occurrences)}},e.prototype.save=function(){var e=r.default.DEFAULT_KEYS.MESSAGE_OCCURRENCES;c.default.save(e,JSON.stringify({session:this.session,triggers:this.triggers,occurrences:this.occurrences}))},e}(),h=function(e){try{return JSON.parse(e)}catch(e){return}},p=function(){function e(e,t,i){var n=this;this.events=e,this.createRequest=t,this.getFileUrl=i,this._messageCache={},this.occurrenceTracker=new u,this._showRichIAM=!1,e.on("previewRequest",this.onMessagePreview.bind(this)),e.on("messagesReceived",this.onMessagesReceived.bind(this)),e.on("start",(function(){n.occurrenceTracker.load(),n.occurrenceTracker.clearSession(),n.onTrigger({trigger:"start"})})),e.on("resume",(function(){var e=r.default.DEFAULT_KEYS.MESSAGE_CACHE,t=h(c.default.get(e));n._messageCache=t||n._messageCache,n.occurrenceTracker.load(),n.onTrigger({trigger:"resume"})})),e.on("track",(function(e){n.onTrigger({trigger:"event",eventName:e.eventName,params:e.params||{}})})),e.on("advanceState",(function(e){return n.onTrigger({trigger:"state",state:e.state,params:e.params||{}})})),e.on("setUserAttribute",(function(e){return n.onTrigger({trigger:"userAttribute",attributes:e})}))}return e.prototype.cleanup=function(){c.default.remove(r.default.DEFAULT_KEYS.MESSAGE_CACHE),this._messageCache={},this.onTrigger=function(){}},e.prototype.enableRichInAppMessages=function(e){this._showRichIAM=e},e.prototype.onTrigger=function(e){var t=this,i=this.getMessages();Object.keys(i).filter((function(n){return t.shouldShowMessage(n,i[n],e)})).slice(0,1).forEach((function(e){return t.showMessage(e,i[e])}))},e.prototype.onMessagePreview=function(e){var t=e.action,i={track:function(t){var i=t?"event '".concat(t,"'"):"impression";console.log("Tracking ".concat(i," for ").concat(e.messageId))},runActionNamed:function(e){return console.log("Running untracked action '".concat(e,"'"))},runTrackedActionNamed:function(e){return console.log("Running tracked action '".concat(e,"'"))}};this.handleMessage({isPreview:!0,message:this.addDefaults(n({messageId:e.messageId},t)),context:i})},e.prototype.onMessagesReceived=function(e){var t=e||{};this._messageCache=t,c.default.save(r.default.DEFAULT_KEYS.MESSAGE_CACHE,JSON.stringify(t))},e.prototype.shouldShowMessage=function(e,t,i){var n=Date.now(),o=this.matchesTrigger(t.whenTriggers,i),r=this.matchesTrigger(t.unlessTriggers,i);if(!o||r)return!1;var s=this.occurrenceTracker.recordTriggerOccurrence(e);return!!this.matchesLimits(e,t.whenLimits,s)&&!(t.startTime&&t.endTime&&(n<t.startTime||t.endTime<n))},e.prototype.showMessage=function(e,t){var i=this,o=this.addDefaults(n({},t.vars)),r={track:function(t,n,o,r){i.occurrenceTracker.recordOccurrence(e),i.trackMessage(e,{event:t,value:n,info:o,params:r})},runActionNamed:function(t){return i.onAction(o[t],e)},runTrackedActionNamed:function(t){var n=t.replace(/ action$/,"");i.trackMessage(e,{event:n},(function(){return i.onAction(o[t],e)}))}};this.handleMessage({context:r,message:n({messageId:e},o)})},e.prototype.processMessageEvent=function(e,t){var i=document.getElementById("lp-message-".concat(e));if(i){var n=t.replace(/^http:\/\/leanplum\//,"").split("?"),o=n[0],r=n[1],s=(void 0===r?"":r).split("&").reduce((function(e,t){var i=t.split("="),n=i[0],o=i[1];return e[n]=decodeURIComponent(o),e}),{}),a=i.metadata,l=a.message,c=a.context;switch(o){case"loadFinished":if(i.style.visibility="visible",i.style.left="0",l["HTML Height"]>0){var d=l["HTML Width"];i.style.height="".concat(l["HTML Height"],"px"),i.style.width=d,i.style.left="calc((100% - ".concat(d,") / 2)");var u=l["HTML Align"].toLowerCase(),p="top"===u?"bottom":"top";i.style[u]="0",i.style[p]=""}else i.style.top="0";i.contentWindow.focus(),c.track();break;case"track":c.track(s.event,parseFloat(s.value),s.info,h(s.parameters));break;case"runAction":case"runTrackedAction":c["".concat(o,"Named")](s.action);case"close":i.metadata=null,i.parentNode.removeChild(i)}}else console.log("message closed, skipping event processing")},e.prototype.handleMessage=function(e){var t=this;if(this._showRichIAM&&"HTML"===e.message.__name__){this.resolveFiles(e.message);var i=e.message.Template||"";(new a.default).ajax("get",i.replace("-10.html","-11.html"),"",(function(i){return t.renderRichInAppMessage(i,e)}),(function(){}),!1,!0)}else this.events.emit("showMessage",this.resolveFields(e))},e.prototype.renderRichInAppMessage=function(e,t){var i=t.message.messageId,n=JSON.stringify(t.message),o=document.createElement("iframe");o.setAttribute("id","lp-message-".concat(i)),o.setAttribute("title","Popup"),o.setAttribute("aria-modal","true"),o.style.cssText=["border-width: 0","position: fixed","top: -100%","left: -100%","width: 100%","height: 100%","visibility: hidden","z-index: 100000"].join(";"),document.body.insertBefore(o,document.body.firstChild),o.metadata=t,o.contentWindow.messageId=i;var r=e.replace("##Vars##",n).replace("<body>","<body><script>window.messageId='".concat(i,"'<\/script>"));if("srcdoc"in o)o.srcdoc=r;else{var s=o.contentWindow.document;s.open(),s.write(r),s.close()}},e.prototype.trackMessage=function(e,t,i){void 0===t&&(t={event:null}),void 0===i&&(i=function(){});var n=(new s.default).add(r.default.PARAMS.MESSAGE_ID,e),o=function(e){return void 0!==e};t.event&&n.add(r.default.PARAMS.EVENT,t.event),o(t.value)&&n.add(r.default.PARAMS.VALUE,t.value||0),o(t.info)&&n.add(r.default.PARAMS.INFO,t.info),o(t.params)&&n.add(r.default.PARAMS.PARAMS,JSON.stringify(t.params)),this.createRequest(r.default.METHODS.TRACK,n,{queued:!0,sendNow:!0,response:i})},e.prototype.onAction=function(e,t){var i=this;if(void 0===t&&(t=""),e){var n=this._messageCache;if("Chain to Existing Message"!==e.__name__){var o=function(){var n=e.__name__;"Open URL"===e.__name__?i.events.emit("navigationChange",e.URL):"Register For Push"===e.__name__?i.events.emit("registerForPush"):n&&i.showMessage(t,{messageId:t,action:n,vars:e})},r=this.messageIdFromAction(e);r?this.trackMessage(r,{event:null},o):o()}else{var s=e["Chained message"],a=n[s];"Open URL"===a.action?this.trackMessage(s,{event:"View"},(function(){return i.onAction(a.vars,s)})):"Register For Push"===a.action?this.events.emit("registerForPush"):this.showMessage(s,a)}}},e.prototype.getMessages=function(){return this._messageCache||{}},e.prototype.addDefaults=function(e){var t=this,i=(this.getMessages().actionDefinitions||{})[e.__name__],o=null==i?void 0:i.kinds;if(!i)return e;var r=function(e,i,n){void 0===n&&(n="");for(var s=0,a=Object.keys(i);s<a.length;s++){var l=a[s],c=i[l];"object"==typeof c?e[l]=r(e[l]||{},c,"".concat(n).concat(l,".")):void 0===e[l]&&(e[l]=c),"FILE"===o["".concat(n).concat(l)]&&(e[l]=t.getFileUrl(e[l]))}return e};return r(n({},e),i.values)},e.prototype.resolveFiles=function(e){var t=/^__file__/;for(var i in e)t.test(i)?e[i.replace(t,"")]=this.getFileUrl(e[i]):"object"==typeof e[i]&&(e[i]=this.resolveFiles(e[i]));return e},e.prototype.resolveFields=function(e){var t=/\bcolor/i,i=/^__file__/;for(var n in e)i.test(n)?e[n.replace(i,"")+" URL"]=this.getFileUrl(e[n]):t.test(n)?e[n]=d.default.decodeColor(e[n]):"object"==typeof e[n]&&(e[n]=this.resolveFields(e[n]));return e},e.prototype.messageIdFromAction=function(e){var t=this._messageCache,i=n({},e);delete i.parentCampaignId;for(var o=0,r=Object.keys(t);o<r.length;o++){var s=r[o],a=t[s];if(a.parentCampaignId===e.parentCampaignId&&(0,l.default)(a.vars,i))return s}},e.prototype.matchesTrigger=function(e,t){if(!e)return!1;var i=function(e,t){return void 0===t&&(t=""),0===e.toString().localeCompare(t.toString(),void 0,{sensitivity:"accent"})},n=function(e,t,n){var o=e===n.noun;if("triggers"===n.verb)return o;if("triggersWithParameter"===n.verb){var r=n.objects,s=r[0],a=r[1],l=s in t&&i(a,t[s]);return o&&l}};return e.children.some((function(e){var o=e.subject;switch(t.trigger){case"start":return"start"===o||"resume"===o;case"resume":return"resume"===o;case"event":return"event"===o&&n(t.eventName,t.params,e);case"userAttribute":if("userAttribute"!==o)return!1;var r=e.noun in t.attributes;if("changes"===e.verb)return r;if("changesTo"===e.verb){if(!r)return!1;var s=t.attributes[e.noun];return e.objects.some((function(e){return null===e&&null===s||e&&s&&i(e,s)}))}break;case"state":return"state"===o&&n(t.state,t.params,e)}return!1}))},e.prototype.matchesLimits=function(e,t,i){var n=this;return!t||t.children.every((function(t){var o=t.subject,r=t.verb,s=parseInt(t.noun.toString());if("times"===o){if("limitSession"===r)return n.occurrenceTracker.getSessionOccurranceCount(e)+1===s;if("limitUser"===r)return(a=n.occurrenceTracker.getOccurrences(e).length)+1<=s;var a,l=parseInt(t.objects[0].toString())||1,c=function(e){switch(e){case"limitSecond":return 1e3;case"limitMinute":return 6e4;case"limitHour":return 36e5;case"limitDay":return 864e5}}(r)*l,d=(a=n.occurrenceTracker.getOccurrences(e)).length;return d<s||a.slice(d-s,d)[0]<Date.now()-c}return"onNthOccurrence"===o?i===s:"everyNthOccurrence"===o&&i%s==0}))},e}();t.default=p},316:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IdentityManager=t.IdentityState=void 0;var o,r=n(i(739)),s=i(205),a=n(i(88)),l=n(i(749)),c=n(i(600)),d=function(){},u=function(e){switch(null==e?void 0:e.sdk){case"lp":return s.MigrationState.LEANPLUM;case"lp+ct":return s.MigrationState.DUPLICATE;case"ct":return s.MigrationState.CLEVERTAP;default:return s.MigrationState.UNKNOWN}},h=function(){function e(e){var t;this.createRequest=e,this.response=null,this._fetching=null;var i=a.default.get(l.default.DEFAULT_KEYS.MIGRATION_STATE),n=a.default.get(l.default.DEFAULT_KEYS.DEVICE_ID),o=null!==(t=a.default.get(l.default.DEFAULT_KEYS.USER_ID))&&void 0!==t?t:n;this.identity=new p(o,n),i&&(this.response=JSON.parse(i))}return e.prototype.getState=function(e){void 0===e&&(e=d);var t=this.response,i=u(this.response);t&&i!==s.MigrationState.UNKNOWN?e(i):this.getMigrationState(e)},e.prototype.verifyState=function(e){var t,i=this;e&&(null===(t=this.response)||void 0===t?void 0:t.sha256)!==e&&this.getMigrationState((function(e){e!==s.MigrationState.DUPLICATE&&e!==s.MigrationState.CLEVERTAP||(i.initCleverTap(),i.identity.isAnonymous||r.default.onUserLogin.push({Site:i.identity.profile}))}))},e.prototype.initCleverTap=function(){var e,t=null===(e=this.response)||void 0===e?void 0:e.ct;if(t)return r.default.init(t.accountId,t.regionCode),r.default},e.prototype.duplicateRequest=function(e,t,i){var n=u(this.response);if(n===s.MigrationState.LEANPLUM)return!1;t||(t=new c.default),n===s.MigrationState.DUPLICATE&&t.add(l.default.PARAMS.CT,!0);var o=(null==t?void 0:t.buildDict())||{},a=o[l.default.PARAMS.USER_ID];switch(a&&this.identity.setUserId(a),e){case l.default.METHODS.START:this.identity.isAnonymous||r.default.onUserLogin.push({Site:this.identity.profile});break;case l.default.METHODS.TRACK:this.eventPush(o,i);break;case l.default.METHODS.ADVANCE:o.event="state_".concat(o.state),this.eventPush(o,i);break;case l.default.METHODS.SET_USER_ATTRIBUTES:this.profilePush(o)}return n===s.MigrationState.CLEVERTAP},e.prototype.profilePush=function(e){var t=e[l.default.PARAMS.NEW_USER_ID],i=this.mapAttributes(this.convertArrays(JSON.parse(e.userAttributes||"{}")));t?(this.identity.setUserId(t),Object.assign(i,this.identity.profile),r.default.onUserLogin.push({Site:i})):r.default.profile.push({Site:i})},e.prototype.eventPush=function(e,t){var i=e[l.default.PARAMS.MESSAGE_ID],n=t.isPurchase?"Charged":e.event;if(n&&!i){var o={};if(e.params){var s=this.convertArrays(JSON.parse(e.params));Object.assign(o,s)}e.value&&Object.assign(o,{value:e.value}),e.info&&Object.assign(o,{info:e.info}),t.isPurchase&&e.currencyCode&&Object.assign(o,{currencyCode:e.currencyCode}),r.default.event.push(n,o)}},e.prototype.convertArrays=function(e){return Object.keys(e).reduce((function(t,i){if(Array.isArray(e[i])){var n=e[i];t[i]="[".concat(n.join(","),"]")}else t[i]=e[i];return t}),{})},e.prototype.mapAttributes=function(e){var t,i,n=null===(i=null===(t=this.response)||void 0===t?void 0:t.ct)||void 0===i?void 0:i.attributeMappings;return n?Object.keys(e).reduce((function(t,i){return n[i]?t[n[i]]=e[i]:t[i]=e[i],t}),{}):e},e.prototype.getMigrationState=function(e){var t=this;null===this._fetching&&(this._fetching=new Promise((function(e){return t.createRequest("getMigrateState",new c.default,{sendNow:!0,response:function(i){var n,o=null===(n=null==i?void 0:i.response)||void 0===n?void 0:n[0],r=u(o);r&&r!==s.MigrationState.UNKNOWN&&(a.default.save(l.default.DEFAULT_KEYS.MIGRATION_STATE,JSON.stringify(o)),t.response=o),e(r)}})}))),this._fetching.then(e).then((function(){return t._fetching=null}))},e}();t.default=h,function(e){e.ANONYMOUS="anonymous",e.IDENTIFIED="identified"}(o=t.IdentityState||(t.IdentityState={}));var p=function(){function e(e,t){this.userId=e,this.deviceId=t,this.state=o.ANONYMOUS,this.identify()}return e.prototype.setUserId=function(e){this.state===o.ANONYMOUS&&(this.state=o.IDENTIFIED),this.userId=e},e.prototype.identify=function(){this.isAnonymous?this.state=o.ANONYMOUS:this.identifyNonAnonymous()},e.prototype.identifyNonAnonymous=function(){this.state=o.IDENTIFIED},Object.defineProperty(e.prototype,"profile",{get:function(){return{Identity:this.userId}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAnonymous",{get:function(){return this.userId===this.deviceId},enumerable:!1,configurable:!0}),e}();t.IdentityManager=p},967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.networkTimeoutSeconds=10,this.requestQueue=[],this.runningRequest=!1}return e.prototype.setNetworkTimeout=function(e){this.networkTimeoutSeconds=e},e.prototype.ajax=function(e,t,i,n,o,r,s){var a=this;if(r){if(this.runningRequest)return this.enqueueRequest(arguments);this.runningRequest=!0}if("undefined"!=typeof XDomainRequest)return"http:"===location.protocol&&0===t.indexOf("https:")&&(t="http:".concat(t.substring(6))),this.ajaxIE8(e,t,i,n,o,r,s);var l=!1,c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState){if(l)return;var e;l=!0;var t=!1;if(s)e=c.responseText;else try{e=JSON.parse(c.responseText)}catch(e){setTimeout((function(){o&&o(null,c)}),0),t=!0}t||(c.status>=200&&c.status<300?setTimeout((function(){n&&n(e,c)}),0):setTimeout((function(){o&&o(e,c)}),0)),r&&(a.runningRequest=!1,a.dequeueRequest())}};var d=!1;c.onerror=c.ontimeout=function(){0===c.status&&(d=!0,a.requestQueue.splice(0,a.requestQueue.length))},d||(c.open(e,t,!0),c.setRequestHeader("Content-Type","text/plain"),c.send(i),setTimeout((function(){l||c.abort()}),1e3*this.networkTimeoutSeconds))},e.prototype.ajaxIE8=function(e,t,i,n,o,r,s){var a=this,l=new XDomainRequest;l.onload=function(){var e,t=!1;if(s)e=l.responseText;else try{e=JSON.parse(l.responseText)}catch(e){setTimeout((function(){o&&o(null,l)}),0),t=!0}t||setTimeout((function(){n&&n(e,l)}),0),r&&(a.runningRequest=!1,a.dequeueRequest())},l.onerror=l.ontimeout=function(){setTimeout((function(){o&&o(null,l)}),0),r&&(a.runningRequest=!1,a.dequeueRequest())},l.onprogress=function(){},l.open(e,t),l.timeout=1e3*this.networkTimeoutSeconds,l.send(i)},e.prototype.enqueueRequest=function(e){this.requestQueue.push(e)},e.prototype.dequeueRequest=function(){var e=this.requestQueue.shift();e&&this.ajax.apply(this,e)},e}();t.default=i},95:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(l){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(i=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(i(600)),a=r(i(749)),l=r(i(88)),c=function(){function e(e){this.createRequest=e,this.serviceWorkerRegistration=null}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return window.navigator.serviceWorker},enumerable:!1,configurable:!0}),e.prototype.isWebPushSupported=function(){return Boolean(void 0!==(null===window||void 0===window?void 0:window.navigator)&&"serviceWorker"in window.navigator&&"PushManager"in window)},e.prototype.isWebPushSubscribed=function(e){return void 0===e&&(e=""),n(this,void 0,Promise,(function(){var t,i,n;return o(this,(function(o){switch(o.label){case 0:return this.isWebPushSupported()?[4,this.getServiceWorkerRegistration(e)]:[2,!1];case 1:return(t=o.sent())?[4,t.pushManager.getSubscription()]:[2,!1];case 2:return i=o.sent(),(n=null!==i)&&this.updateNewSubscriptionOnServer(i),[2,n]}}))}))},e.prototype.register=function(e,t,i){return n(this,void 0,Promise,(function(){var n,r,s,a;return o(this,(function(o){switch(o.label){case 0:if(!this.isWebPushSupported())return console.log("Leanplum: Push messaging is not supported."),[2,i(!1)];o.label=1;case 1:return o.trys.push([1,4,,5]),n=this,[4,this.serviceWorker.register(e||"/sw.min.js",t)];case 2:return n.serviceWorkerRegistration=o.sent(),[4,this.serviceWorkerRegistration.pushManager.getSubscription()];case 3:return r=o.sent(),(s=null!==r)&&this.updateNewSubscriptionOnServer(r),[2,i(s)];case 4:return a=o.sent(),console.log("Leanplum: Service Worker Error: ",a),[2,i(!1)];case 5:return[2]}}))}))},e.prototype.subscribeUser=function(){return n(this,void 0,Promise,(function(){var e,t,i;return o(this,(function(n){switch(n.label){case 0:e=this.urlB64ToUint8Array("BInWPpWntfR39rgXSP04pqdmEdDGa50z6zqbMvxyxJCwzXIuSpSh8C888-CfJ82WELl7Xe8cjAnfCt-3vK0Ci68"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})];case 2:if(!(t=n.sent()))throw new Error;return this.updateNewSubscriptionOnServer(t),[3,4];case 3:throw i=n.sent(),new Error("Leanplum: Failed to subscribe the user: ".concat(i));case 4:return[2,!0]}}))}))},e.prototype.unsubscribeUser=function(e){return void 0===e&&(e=""),n(this,void 0,Promise,(function(){var t,i;return o(this,(function(n){switch(n.label){case 0:return[4,this.isWebPushSubscribed(e)];case 1:if(!n.sent())return[3,6];n.label=2;case 2:return n.trys.push([2,5,,6]),[4,this.serviceWorkerRegistration.pushManager.getSubscription()];case 3:if(!(t=n.sent()))throw new Error;return[4,t.unsubscribe()];case 4:return n.sent(),[3,6];case 5:throw i=n.sent(),new Error("Leanplum: Error unsubscribing: ".concat(i));case 6:return[2]}}))}))},e.prototype.getServiceWorkerRegistration=function(e){return void 0===e&&(e=""),n(this,void 0,Promise,(function(){var t;return o(this,(function(i){switch(i.label){case 0:return this.serviceWorkerRegistration?[3,2]:(t=this,[4,this.serviceWorker.getRegistration(e)]);case 1:t.serviceWorkerRegistration=i.sent(),i.label=2;case 2:return[2,this.serviceWorkerRegistration]}}))}))},e.prototype.urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),i=this.decodeData(t),n=new Uint8Array(i.length),o=0;o<i.length;++o)n[o]=i.charCodeAt(o);return n},e.prototype.updateNewSubscriptionOnServer=function(e){if(e){var t=this.prepareSubscription(e),i=JSON.stringify(t);l.default.get(a.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION)!==i&&(l.default.save(a.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION,i),this.setSubscription(i))}},e.prototype.prepareSubscription=function(e){var t="getKey"in e?e.getKey("p256dh"):[],i="getKey"in e?e.getKey("auth"):[],n=this.encodeData(String.fromCharCode.apply(null,new Uint8Array(t))),o=this.encodeData(String.fromCharCode.apply(null,new Uint8Array(i)));return{endpoint:e.endpoint,key:n,auth:o}},e.prototype.setSubscription=function(e){if(e){var t=(new s.default).add(a.default.PARAMS.WEB_PUSH_SUBSCRIPTION,e);this.createRequest(a.default.METHODS.SET_DEVICE_ATTRIBUTES,t,{queued:!1,sendNow:!0})}},e.prototype.encodeData=function(e){return window.btoa(e)},e.prototype.decodeData=function(e){return window.atob(e)},e}();t.default=c},897:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(i(967)),r=function(){function e(){this.network=new o.default,this.connected=!1,this.connecting=!1,this.connected=!1,this.connecting=!1}return e.prototype.connect=function(e){var t=this;this.connecting=!0,this.network.ajax("POST","https://".concat(e,"/socket.io/1"),"",(function(i){var n=i.split(":"),o=n[0],r=parseInt(n[1])/2*1e3;t.socket=new WebSocket("wss://".concat(e,"/socket.io/1/websocket/").concat(o));var s=null;t.socket.onopen=function(){t.connected=!0,t.connecting=!1,t.onopen&&t.onopen(),s=setInterval((function(){t.socket.send("2:::")}),r)},t.socket.onclose=function(){t.connected=!1,clearInterval(s),t.onclose&&t.onclose()},t.socket.onmessage=function(e){var i=e.data.split(":"),n=parseInt(i[0]);if(2===n)t.socket.send("2::");else if(5===n){var o=i[1],r=JSON.parse(i.slice(3).join(":")),s=r.name,a=r.args;o&&t.socket.send("6:::".concat(o)),t.onmessage&&t.onmessage(s,a)}else 7===n&&console.log("Socket error: ".concat(e.data))},t.socket.onerror=function(e){t.socket.close(),t.onerror&&t.onerror(e)}}),null,!1,!0)},e.prototype.disconnect=function(){this.socket.close(),this.connected=!1,this.connecting=!1},e.prototype.send=function(e,t){if(this.connected){var i=JSON.stringify({name:e,args:t});this.socket.send("5:::".concat(i))}else console.log("Leanplum: Socket is not connected.")},e.prototype.setNetworkTimeout=function(e){this.network.setNetworkTimeout(e)},e}();t.default=r},88:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={local:!0,session:!0},n={local:{},session:{}},o=function(){function e(){}return e.get=function(e,t){if(void 0===t&&(t="local"),!i[t])return n[t][e];try{return"local"===t?localStorage[e]:sessionStorage.getItem(e)}catch(o){return i[t]=!1,n[t][e]}},e.save=function(e,t,o){if(void 0===o&&(o="local"),i[o])try{"local"===o?localStorage[e]=t:sessionStorage.setItem(e,t)}catch(r){i[o]=!1,n[o][e]=t}else n[o][e]=t},e.remove=function(e,t){if(void 0===t&&(t="local"),i[t])try{"local"===t?localStorage.removeItem(e):sessionStorage.removeItem(e)}catch(o){i[t]=!1,delete n[t][e]}else delete n[t][e]},e}();t.default=o},375:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.decodeColor=function(e){var t=255&e,i=255&(e>>=8),n=255&(e>>=8),o=(255&(e>>=8))/255;return"rgba(".concat(n,",").concat(i,",").concat(t,",").concat(o,")")},e.encodeColor=function(e){if("number"==typeof e)return e;var t=/^rgba\((\d+),(\d+),(\d+),(\d+(\.\d+)?)\)$/.exec(e);if(t)return(255*parseInt(t[4],10)<<24)+((255&parseInt(t[1],10))<<16)+((255&parseInt(t[2],10))<<8)+(255&parseInt(t[3],10));var i=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e);if(i)return(255<<24)+((255&parseInt(i[1],16))<<16)+((255&parseInt(i[2],16))<<8)+(255&parseInt(i[3],16));throw new Error('Could not parse color "'.concat(e,'"'))},e}();t.default=i},816:function(e,t,i){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(i(600)),s=o(i(749)),a=o(i(88)),l=o(i(375)),c=function(){function e(e){this.createRequest=e,this.actionDefinitions={},this.hasReceivedDiffs=!1,this.merged=void 0,this.variables=null,this.variablesChangedHandlers=[],this.variantDebugInfo={},this.diffs=void 0,this.token="",this.variants=[]}return e.prototype.applyDiffs=function(e,t,i){var o;this.diffs=e,this.variants=t,this.actionDefinitions=n(n({},this.actionDefinitions),(o=i)?Object.keys(o).reduce((function(e,t){e[t]=n({},o[t]);var i=o[t].kinds;return i&&(e[t].kinds=Object.keys(i).reduce((function(n,o){var r=i[o].toLowerCase();return n[o]=r,"action"===r&&(e[t].values[o]=""),n}),{})),e}),{}):o),this.hasReceivedDiffs=!0,this.merged=h(this.variables,e),this.saveDiffs(),this.onUpdate&&this.onUpdate()},e.prototype.loadDiffs=function(){try{this.applyDiffs(JSON.parse(this.loadLocal(s.default.DEFAULT_KEYS.VARIABLES)||null),JSON.parse(this.loadLocal(s.default.DEFAULT_KEYS.VARIANTS)||null),JSON.parse(this.loadLocal(s.default.DEFAULT_KEYS.ACTION_DEFINITIONS)||null)),this.token=this.loadLocal(s.default.DEFAULT_KEYS.TOKEN),this.variantDebugInfo=this.loadLocal(s.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO)}catch(e){console.log("Leanplum: Invalid diffs: ".concat(e))}},e.prototype.saveDiffs=function(){this.saveLocal(s.default.DEFAULT_KEYS.VARIABLES,JSON.stringify(this.diffs||{})),this.saveLocal(s.default.DEFAULT_KEYS.VARIANTS,JSON.stringify(this.variants||[])),this.saveLocal(s.default.DEFAULT_KEYS.ACTION_DEFINITIONS,JSON.stringify(this.actionDefinitions||{})),this.saveLocal(s.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO,JSON.stringify(this.variantDebugInfo||{})),this.saveLocal(s.default.DEFAULT_KEYS.TOKEN,this.token)},e.prototype.getVariable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this.getVariables();if(i)for(var n=0;n<e.length;n++)i=i[e[n]];return i},e.prototype.getVariables=function(){return void 0!==this.merged?this.merged:this.variables},e.prototype.setVariables=function(e){this.variables=e},e.prototype.addVariablesChangedHandler=function(e){this.variablesChangedHandlers.push(e),this.hasReceivedDiffs&&e()},e.prototype.removeVariablesChangedHandler=function(e){var t=this.variablesChangedHandlers.indexOf(e);t>=0&&this.variablesChangedHandlers.splice(t,1)},e.prototype.triggerVariablesChangedHandlers=function(){for(var e=0;e<this.variablesChangedHandlers.length;e++)this.variablesChangedHandlers[e]()},e.prototype.getVariantDebugInfo=function(){return this.variantDebugInfo},e.prototype.setVariantDebugInfo=function(e){this.variantDebugInfo=e},e.prototype.sendActions=function(){var e;return!!Object.keys(this.actionDefinitions).length&&(this.setVars(((e={})[s.default.PARAMS.ACTION_DEFINITIONS]=this.actionDefinitions,e)),!0)},e.prototype.sendVariables=function(){var e;this.setVars(((e={})[s.default.PARAMS.VARIABLES]=this.variables,e))},e.prototype.setVars=function(e){var t=(new r.default).body(JSON.stringify(e));this.createRequest(s.default.METHODS.SET_VARS,t,{sendNow:!0})},e.prototype.clearUserContent=function(){this.diffs=void 0,this.variables=null,this.variants=[],this.variantDebugInfo={},this.merged=void 0},e.prototype.registerActionDefinition=function(e){this.actionDefinitions[e.name]=function(e){return{kind:e.kind||3,options:null,values:d(e.args),kinds:u(e.args)}}(e)},e.prototype.loadLocal=function(e){return a.default.get(e)},e.prototype.saveLocal=function(e,t){a.default.save(e,t)},e}();function d(e){return e.reduce((function(e,t){return t.value instanceof Array?e[t.name]=d(t.value):"action"===t.type?e[t.name]="":"color"===t.type?e[t.name]=l.default.encodeColor(t.value):e[t.name]=t.value,e}),{})}function u(e,t){return void 0===t&&(t=""),e.reduce((function(e,i){var o,r="".concat(t).concat(i.name);return i.value instanceof Array?e=n(((o={})[r]="group",o),u(i.value,"".concat(r,"."))):e[r]=i.type.toLowerCase(),e}),{})}function h(e,t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t)return t;if(null==t)return e;var i=function(e){return function(t){if(e instanceof Array)for(var i=0;i<e.length;i++)t(e[i]);else for(var n in e)({}).hasOwnProperty.call(e,n)&&t(n)}},n=i(e),o=i(t),r=!1;if(null===e&&!(t instanceof Array))for(var s in r=null,t)if(t.hasOwnProperty(s)){if(null===r&&(r=!0),"string"!=typeof s){r=!1;break}if(s.length<3||"["!==s.charAt(0)||"]"!==s.charAt(s.length-1)){r=!1;break}}if(e instanceof Array||r){var a=[];return n((function(e){a.push(e)})),o((function(e){for(var i=parseInt(e.substring(1,e.length-1)),n=t[e];i>=a.length;)a.push(null);a[i]=h(a[i],n)})),a}var l={};return n((function(i){null!==t[i]&&void 0!==t[i]||(l[i]=e[i])})),o((function(i){l[i]=h(null===e?null:e[i]||{},t[i])})),l}t.default=c},804:(e,t,i)=>{var n=i(876);e.exports=n.default},205:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.MigrationState=void 0,(i=t.MigrationState||(t.MigrationState={})).UNKNOWN="unknown",i.LEANPLUM="lp",i.DUPLICATE="lp+ct",i.CLEVERTAP="ct"},772:(e,t)=>{"use strict";var i,n;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageKind=t.ActionParameterType=void 0,(n=t.ActionParameterType||(t.ActionParameterType={})).Integer="integer",n.Color="color",n.Float="float",n.Decimal="decimal",n.Number="number",n.Boolean="bool",n.String="string",n.Text="text",n.HTML="html",n.File="file",n.List="list",n.Group="group",n.Action="action",n.Unknown="",(i=t.MessageKind||(t.MessageKind={}))[i.Action=2]="Action",i[i.Template=3]="Template"}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}return i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i(804)})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFvQixJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTGVhbnBsdW0vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL0xlYW5wbHVtLy4vbm9kZV9tb2R1bGVzL2NsZXZlcnRhcC13ZWItc2RrL2NsZXZlcnRhcC5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL25vZGVfbW9kdWxlcy9sb2Rhc2guaXNlcXVhbC9pbmRleC5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9BcmdzQnVpbGRlci50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9Ccm93c2VyRGV0ZWN0b3IudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvQ29uc3RhbnRzLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0V2ZW50RW1pdHRlci50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9JbnRlcm5hbFN0YXRlLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0xlYW5wbHVtLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0xlYW5wbHVtSW5ib3gudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTGVhbnBsdW1JbnRlcm5hbC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9MZWFucGx1bVJlcXVlc3QudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTGVhbnBsdW1Tb2NrZXQudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTWVzc2FnZXMudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTWlncmF0aW9uTWFuYWdlci50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9OZXR3b3JrLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL1B1c2hNYW5hZ2VyLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL1NvY2tldElvQ2xpZW50LnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL1N0b3JhZ2VNYW5hZ2VyLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL1ZhbHVlVHJhbnNmb3Jtcy50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9WYXJDYWNoZS50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9idW5kbGVzL2xlYW5wbHVtLmZ1bGwudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvdHlwZXMvaW50ZXJuYWwudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvdHlwZXMvcHVibGljLnRzIiwid2VicGFjazovL0xlYW5wbHVtL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0xlYW5wbHVtL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vd2VicGFjay9ydW50aW1lL25vZGUgbW9kdWxlIGRlY29yYXRvciIsIndlYnBhY2s6Ly9MZWFucGx1bS93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiTGVhbnBsdW1cIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiTGVhbnBsdW1cIl0gPSBmYWN0b3J5KCk7XG59KShzZWxmLCAoKSA9PiB7XG5yZXR1cm4gIiwiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAoZ2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IGdsb2JhbCB8fCBzZWxmLCBnbG9iYWwuY2xldmVydGFwID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBpZCA9IDA7XG5cbiAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkobmFtZSkge1xuICAgIHJldHVybiBcIl9fcHJpdmF0ZV9cIiArIGlkKysgKyBcIl9cIiArIG5hbWU7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UocmVjZWl2ZXIsIHByaXZhdGVLZXkpIHtcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZWNlaXZlciwgcHJpdmF0ZUtleSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gdXNlIHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xuICAgIH1cblxuICAgIHJldHVybiByZWNlaXZlcjtcbiAgfVxuXG4gIGNvbnN0IFRBUkdFVF9ET01BSU4gPSAnY2xldmVydGFwLXByb2QuY29tJztcbiAgY29uc3QgVEFSR0VUX1BST1RPQ09MID0gJ2h0dHBzOic7XG4gIGNvbnN0IERFRkFVTFRfUkVHSU9OID0gJ2V1MSc7XG5cbiAgdmFyIF9hY2NvdW50SWQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImFjY291bnRJZFwiKTtcblxuICB2YXIgX3JlZ2lvbiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicmVnaW9uXCIpO1xuXG4gIHZhciBfdGFyZ2V0RG9tYWluID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJ0YXJnZXREb21haW5cIik7XG5cbiAgdmFyIF9kY1Nka3ZlcnNpb24gPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImRjU2RrdmVyc2lvblwiKTtcblxuICB2YXIgX3Rva2VuID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJ0b2tlblwiKTtcblxuICBjbGFzcyBBY2NvdW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIGxldCB7XG4gICAgICAgIGlkXG4gICAgICB9ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgIGxldCByZWdpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xuICAgICAgbGV0IHRhcmdldERvbWFpbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogVEFSR0VUX0RPTUFJTjtcbiAgICAgIGxldCB0b2tlbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogJyc7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2FjY291bnRJZCwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3JlZ2lvbiwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6ICcnXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfdGFyZ2V0RG9tYWluLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogVEFSR0VUX0RPTUFJTlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2RjU2RrdmVyc2lvbiwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6ICcnXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfdG9rZW4sIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiAnJ1xuICAgICAgfSk7XG4gICAgICB0aGlzLmlkID0gaWQ7XG5cbiAgICAgIGlmIChyZWdpb24pIHtcbiAgICAgICAgdGhpcy5yZWdpb24gPSByZWdpb247XG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXREb21haW4pIHtcbiAgICAgICAgdGhpcy50YXJnZXREb21haW4gPSB0YXJnZXREb21haW47XG4gICAgICB9XG5cbiAgICAgIGlmICh0b2tlbikge1xuICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGlkKCkge1xuICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudElkKVtfYWNjb3VudElkXTtcbiAgICB9XG5cbiAgICBzZXQgaWQoYWNjb3VudElkKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnRJZClbX2FjY291bnRJZF0gPSBhY2NvdW50SWQ7XG4gICAgfVxuXG4gICAgZ2V0IHJlZ2lvbigpIHtcbiAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlZ2lvbilbX3JlZ2lvbl07XG4gICAgfVxuXG4gICAgc2V0IHJlZ2lvbihyZWdpb24pIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVnaW9uKVtfcmVnaW9uXSA9IHJlZ2lvbjtcbiAgICB9XG5cbiAgICBnZXQgZGNTREtWZXJzaW9uKCkge1xuICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGNTZGt2ZXJzaW9uKVtfZGNTZGt2ZXJzaW9uXTtcbiAgICB9XG5cbiAgICBzZXQgZGNTREtWZXJzaW9uKGRjU0RLVmVyc2lvbikge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kY1Nka3ZlcnNpb24pW19kY1Nka3ZlcnNpb25dID0gZGNTREtWZXJzaW9uO1xuICAgIH1cblxuICAgIGdldCB0YXJnZXREb21haW4oKSB7XG4gICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF90YXJnZXREb21haW4pW190YXJnZXREb21haW5dO1xuICAgIH1cblxuICAgIHNldCB0YXJnZXREb21haW4odGFyZ2V0RG9tYWluKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3RhcmdldERvbWFpbilbX3RhcmdldERvbWFpbl0gPSB0YXJnZXREb21haW47XG4gICAgfVxuXG4gICAgZ2V0IHRva2VuKCkge1xuICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdG9rZW4pW190b2tlbl07XG4gICAgfVxuXG4gICAgc2V0IHRva2VuKHRva2VuKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Rva2VuKVtfdG9rZW5dID0gdG9rZW47XG4gICAgfVxuXG4gICAgZ2V0IGZpbmFsVGFyZ2V0RG9tYWluKCkge1xuICAgICAgaWYgKHRoaXMucmVnaW9uKSB7XG4gICAgICAgIHJldHVybiBcIlwiLmNvbmNhdCh0aGlzLnJlZ2lvbiwgXCIuXCIpLmNvbmNhdCh0aGlzLnRhcmdldERvbWFpbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy50YXJnZXREb21haW4gPT09IFRBUkdFVF9ET01BSU4pIHtcbiAgICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQoREVGQVVMVF9SRUdJT04sIFwiLlwiKS5jb25jYXQodGhpcy50YXJnZXREb21haW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0RG9tYWluO1xuICAgICAgfVxuICAgIH1cblxuICAgIGdldCBkYXRhUG9zdFBFVVJMKCkge1xuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KFRBUkdFVF9QUk9UT0NPTCwgXCIvL1wiKS5jb25jYXQodGhpcy5maW5hbFRhcmdldERvbWFpbiwgXCIvZGVmaW5lVmFyc1wiKTtcbiAgICB9XG5cbiAgICBnZXQgZGF0YVBvc3RVUkwoKSB7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQoVEFSR0VUX1BST1RPQ09MLCBcIi8vXCIpLmNvbmNhdCh0aGlzLmZpbmFsVGFyZ2V0RG9tYWluLCBcIi9hP3Q9OTZcIik7XG4gICAgfVxuXG4gICAgZ2V0IHJlY29yZGVyVVJMKCkge1xuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KFRBUkdFVF9QUk9UT0NPTCwgXCIvL1wiKS5jb25jYXQodGhpcy5maW5hbFRhcmdldERvbWFpbiwgXCIvcj9yPTFcIik7XG4gICAgfVxuXG4gICAgZ2V0IGVtYWlsVVJMKCkge1xuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KFRBUkdFVF9QUk9UT0NPTCwgXCIvL1wiKS5jb25jYXQodGhpcy5maW5hbFRhcmdldERvbWFpbiwgXCIvZT9yPTFcIik7XG4gICAgfVxuXG4gIH1cblxuICBjb25zdCB1bnN1cHBvcnRlZEtleUNoYXJSZWdleCA9IG5ldyBSZWdFeHAoJ15cXFxccyt8XFxcXFxcLnxcXDp8XFxcXFxcJHxcXCd8XFxcInxcXFxcXFxcXHxcXFxccyskJywgJ2cnKTtcbiAgY29uc3QgdW5zdXBwb3J0ZWRWYWx1ZUNoYXJSZWdleCA9IG5ldyBSZWdFeHAoXCJeXFxcXHMrfFxcJ3xcXFwifFxcXFxcXFxcfFxcXFxzKyRcIiwgJ2cnKTtcbiAgY29uc3Qgc2luZ2xlUXVvdGVSZWdleCA9IG5ldyBSZWdFeHAoJ1xcJycsICdnJyk7XG4gIGNvbnN0IENMRUFSID0gJ2NsZWFyJztcbiAgY29uc3QgQ0hBUkdFRF9JRCA9ICdDaGFyZ2VkIElEJztcbiAgY29uc3QgQ0hBUkdFRElEX0NPT0tJRV9OQU1FID0gJ1daUktfQ0hBUkdFRF9JRCc7XG4gIGNvbnN0IEdDT09LSUVfTkFNRSA9ICdXWlJLX0cnO1xuICBjb25zdCBLQ09PS0lFX05BTUUgPSAnV1pSS19LJztcbiAgY29uc3QgQ0FNUF9DT09LSUVfTkFNRSA9ICdXWlJLX0NBTVAnO1xuICBjb25zdCBDQU1QX0NPT0tJRV9HID0gJ1daUktfQ0FNUF9HJzsgLy8gY29va2llIGZvciBzdG9yaW5nIGNhbXBhaWduIGRldGFpbHMgYWdhaW5zdCBndWlkXG5cbiAgY29uc3QgU0NPT0tJRV9QUkVGSVggPSAnV1pSS19TJztcbiAgY29uc3QgU0NPT0tJRV9FWFBfVElNRV9JTl9TRUNTID0gNjAgKiAyMDsgLy8gMjAgbWluc1xuXG4gIGNvbnN0IEVWX0NPT0tJRSA9ICdXWlJLX0VWJztcbiAgY29uc3QgTUVUQV9DT09LSUUgPSAnV1pSS19NRVRBJztcbiAgY29uc3QgUFJfQ09PS0lFID0gJ1daUktfUFInO1xuICBjb25zdCBBUlBfQ09PS0lFID0gJ1daUktfQVJQJztcbiAgY29uc3QgTENPT0tJRV9OQU1FID0gJ1daUktfTCc7XG4gIGNvbnN0IEdMT0JBTCA9ICdnbG9iYWwnOyAvLyB1c2VkIGZvciBlbWFpbCB1bnN1YnNjcmliZSBhbHNvXG4gIGNvbnN0IERJU1BMQVkgPSAnZGlzcGxheSc7XG4gIGNvbnN0IFdFQlBVU0hfTFNfS0VZID0gJ1daUktfV1BSJztcbiAgY29uc3QgT1BUT1VUX0tFWSA9ICdvcHRPdXQnO1xuICBjb25zdCBDVF9PUFRPVVRfS0VZID0gJ2N0X29wdG91dCc7XG4gIGNvbnN0IE9QVE9VVF9DT09LSUVfRU5EU1dJVEggPSAnOk9PJztcbiAgY29uc3QgVVNFSVBfS0VZID0gJ3VzZUlQJztcbiAgY29uc3QgTFJVX0NBQ0hFID0gJ1daUktfWCc7XG4gIGNvbnN0IExSVV9DQUNIRV9TSVpFID0gMTAwO1xuICBjb25zdCBJU19PVUwgPSAnaXNPVUwnO1xuICBjb25zdCBFVlRfUFVTSCA9ICdwdXNoJztcbiAgY29uc3QgRVZUX1BJTkcgPSAncGluZyc7XG4gIGNvbnN0IENPT0tJRV9FWFBJUlkgPSA4NjQwMCAqIDM2NTsgLy8gMSBZZWFyIGluIHNlY29uZHNcblxuICBjb25zdCBNQVhfVFJJRVMgPSAyMDA7IC8vIEFQSSB0cmllc1xuXG4gIGNvbnN0IEZJUlNUX1BJTkdfRlJFUV9JTl9NSUxMSVMgPSAyICogNjAgKiAxMDAwOyAvLyAyIG1pbnNcblxuICBjb25zdCBDT05USU5VT1VTX1BJTkdfRlJFUV9JTl9NSUxMSVMgPSA1ICogNjAgKiAxMDAwOyAvLyA1IG1pbnNcblxuICBjb25zdCBHUk9VUF9TVUJTQ1JJUFRJT05fUkVRVUVTVF9JRCA9ICcyJztcbiAgY29uc3QgY2F0ZWdvcnlMb25nS2V5ID0gJ2NVc1knO1xuICBjb25zdCBXWlJLX1BSRUZJWCA9ICd3enJrXyc7XG4gIGNvbnN0IFdaUktfSUQgPSAnd3pya19pZCc7XG4gIGNvbnN0IE5PVElGSUNBVElPTl9WSUVXRUQgPSAnTm90aWZpY2F0aW9uIFZpZXdlZCc7XG4gIGNvbnN0IE5PVElGSUNBVElPTl9DTElDS0VEID0gJ05vdGlmaWNhdGlvbiBDbGlja2VkJztcbiAgY29uc3QgRklSRV9QVVNIX1VOUkVHSVNURVJFRCA9ICdXWlJLX0ZQVSc7XG4gIGNvbnN0IFBVU0hfU1VCU0NSSVBUSU9OX0RBVEEgPSAnV1pSS19QU0QnOyAvLyBQVVNIIFNVQlNDUklQVElPTiBEQVRBIEZPUiBSRUdJU1RFUi9VTlJFR0lTVEVSIFRPS0VOXG5cbiAgY29uc3QgQ09NTUFORF9JTkNSRU1FTlQgPSAnJGluY3InO1xuICBjb25zdCBDT01NQU5EX0RFQ1JFTUVOVCA9ICckZGVjcic7XG4gIGNvbnN0IENPTU1BTkRfU0VUID0gJyRzZXQnO1xuICBjb25zdCBDT01NQU5EX0FERCA9ICckYWRkJztcbiAgY29uc3QgQ09NTUFORF9SRU1PVkUgPSAnJHJlbW92ZSc7XG4gIGNvbnN0IENPTU1BTkRfREVMRVRFID0gJyRkZWxldGUnO1xuICBjb25zdCBXRUJJTkJPWF9DT05GSUcgPSAnV1pSS19JTkJPWF9DT05GSUcnO1xuICBjb25zdCBXRUJJTkJPWCA9ICdXWlJLX0lOQk9YJztcbiAgY29uc3QgTUFYX0lOQk9YX01TRyA9IDE1O1xuICBjb25zdCBWQVJJQUJMRVMgPSAnV1pSS19QRSc7XG4gIGNvbnN0IFBVU0hfREVMQVlfTVMgPSAxMDAwO1xuICBjb25zdCBNQVhfREVMQVlfRlJFUVVFTkNZID0gMTAwMCAqIDYwICogMTA7XG4gIGNvbnN0IFdaUktfRkVUQ0ggPSAnd3pya19mZXRjaCc7XG4gIGNvbnN0IFNZU1RFTV9FVkVOVFMgPSBbJ1N0YXllZCcsICdVVE0gVmlzaXRlZCcsICdBcHAgTGF1bmNoZWQnLCAnTm90aWZpY2F0aW9uIFNlbnQnLCBOT1RJRklDQVRJT05fVklFV0VELCBOT1RJRklDQVRJT05fQ0xJQ0tFRF07XG5cbiAgY29uc3QgaXNTdHJpbmcgPSBpbnB1dCA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycgfHwgaW5wdXQgaW5zdGFuY2VvZiBTdHJpbmc7XG4gIH07XG4gIGNvbnN0IGlzT2JqZWN0ID0gaW5wdXQgPT4ge1xuICAgIC8vIFRPRE86IHJlZmluZVxuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBPYmplY3RdJztcbiAgfTtcbiAgY29uc3QgaXNEYXRlT2JqZWN0ID0gaW5wdXQgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnICYmIGlucHV0IGluc3RhbmNlb2YgRGF0ZTtcbiAgfTtcbiAgY29uc3QgaXNPYmplY3RFbXB0eSA9IG9iaiA9PiB7XG4gICAgZm9yIChjb25zdCBwcm9wIGluIG9iaikge1xuICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIGNvbnN0IGlzQ29udmVydGlibGVUb051bWJlciA9IG4gPT4ge1xuICAgIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdChuKSkgJiYgaXNGaW5pdGUobik7XG4gIH07XG4gIGNvbnN0IGlzTnVtYmVyID0gbiA9PiB7XG4gICAgcmV0dXJuIC9eLT9bXFxkLl0rKD86ZS0/XFxkKyk/JC8udGVzdChuKSAmJiB0eXBlb2YgbiA9PT0gJ251bWJlcic7XG4gIH07XG4gIGNvbnN0IGlzVmFsdWVWYWxpZCA9IHZhbHVlID0+IHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgY29uc3QgcmVtb3ZlVW5zdXBwb3J0ZWRDaGFycyA9IChvLCBsb2dnZXIpID0+IHtcbiAgICAvLyBrZXlzIGNhbid0IGJlIGdyZWF0ZXIgdGhhbiAxMDI0IGNoYXJzLCB2YWx1ZXMgY2FuJ3QgYmUgZ3JlYXRlciB0aGFuIDEwMjQgY2hhcnNcbiAgICBpZiAodHlwZW9mIG8gPT09ICdvYmplY3QnKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBvKSB7XG4gICAgICAgIGlmIChvLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBjb25zdCBzYW5pdGl6ZWRWYWwgPSByZW1vdmVVbnN1cHBvcnRlZENoYXJzKG9ba2V5XSwgbG9nZ2VyKTtcbiAgICAgICAgICBsZXQgc2FuaXRpemVkS2V5O1xuICAgICAgICAgIHNhbml0aXplZEtleSA9IHNhbml0aXplKGtleSwgdW5zdXBwb3J0ZWRLZXlDaGFyUmVnZXgpO1xuXG4gICAgICAgICAgaWYgKHNhbml0aXplZEtleS5sZW5ndGggPiAxMDI0KSB7XG4gICAgICAgICAgICBzYW5pdGl6ZWRLZXkgPSBzYW5pdGl6ZWRLZXkuc3Vic3RyaW5nKDAsIDEwMjQpO1xuICAgICAgICAgICAgbG9nZ2VyLnJlcG9ydEVycm9yKDUyMCwgc2FuaXRpemVkS2V5ICsgJy4uLiBsZW5ndGggZXhjZWVkZWQgMTAyNCBjaGFycy4gVHJpbW1lZC4nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZWxldGUgb1trZXldO1xuICAgICAgICAgIG9bc2FuaXRpemVkS2V5XSA9IHNhbml0aXplZFZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgdmFsO1xuXG4gICAgICBpZiAoaXNTdHJpbmcobykpIHtcbiAgICAgICAgdmFsID0gc2FuaXRpemUobywgdW5zdXBwb3J0ZWRWYWx1ZUNoYXJSZWdleCk7XG5cbiAgICAgICAgaWYgKHZhbC5sZW5ndGggPiAxMDI0KSB7XG4gICAgICAgICAgdmFsID0gdmFsLnN1YnN0cmluZygwLCAxMDI0KTtcbiAgICAgICAgICBsb2dnZXIucmVwb3J0RXJyb3IoNTIxLCB2YWwgKyAnLi4uIGxlbmd0aCBleGNlZWRlZCAxMDI0IGNoYXJzLiBUcmltbWVkLicpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWwgPSBvO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cblxuICAgIHJldHVybiBvO1xuICB9O1xuICBjb25zdCBzYW5pdGl6ZSA9IChpbnB1dCwgcmVnZXgpID0+IHtcbiAgICByZXR1cm4gaW5wdXQucmVwbGFjZShyZWdleCwgJycpO1xuICB9O1xuXG4gIGNvbnN0IGdldFRvZGF5ID0gKCkgPT4ge1xuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICByZXR1cm4gdG9kYXkuZ2V0RnVsbFllYXIoKSArICcnICsgdG9kYXkuZ2V0TW9udGgoKSArICcnICsgdG9kYXkuZ2V0RGF5KCk7XG4gIH07XG4gIGNvbnN0IGdldE5vdyA9ICgpID0+IHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApO1xuICB9O1xuICBjb25zdCBjb252ZXJ0VG9XWlJLRGF0ZSA9IGRhdGVPYmogPT4ge1xuICAgIHJldHVybiAnJERfJyArIE1hdGgucm91bmQoZGF0ZU9iai5nZXRUaW1lKCkgLyAxMDAwKTtcbiAgfTtcbiAgY29uc3Qgc2V0RGF0ZSA9IGR0ID0+IHtcbiAgICAvLyBleHBlY3RpbmcgIHl5eXltbWRkIGZvcm1hdCBlaXRoZXIgYXMgYSBudW1iZXIgb3IgYSBzdHJpbmdcbiAgICBpZiAoaXNEYXRlVmFsaWQoZHQpKSB7XG4gICAgICByZXR1cm4gJyREXycgKyBkdDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGlzRGF0ZVZhbGlkID0gZGF0ZSA9PiB7XG4gICAgY29uc3QgbWF0Y2hlcyA9IC9eKFxcZHs0fSkoXFxkezJ9KShcXGR7Mn0pJC8uZXhlYyhkYXRlKTtcbiAgICBpZiAobWF0Y2hlcyA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgZCA9IG1hdGNoZXNbM107XG4gICAgY29uc3QgbSA9IG1hdGNoZXNbMl0gLSAxO1xuICAgIGNvbnN0IHkgPSBtYXRjaGVzWzFdO1xuICAgIGNvbnN0IGNvbXBvc2VkRGF0ZSA9IG5ldyBEYXRlKHksIG0sIGQpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cbiAgICByZXR1cm4gY29tcG9zZWREYXRlLmdldERhdGUoKSA9PSBkICYmIGNvbXBvc2VkRGF0ZS5nZXRNb250aCgpID09IG0gJiYgY29tcG9zZWREYXRlLmdldEZ1bGxZZWFyKCkgPT0geTtcbiAgfTtcblxuICBjbGFzcyBTdG9yYWdlTWFuYWdlciB7XG4gICAgc3RhdGljIHNhdmUoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKCFrZXkgfHwgIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgcmVhZChrZXkpIHtcbiAgICAgIGlmICgha2V5KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgbGV0IGRhdGEgPSBudWxsO1xuXG4gICAgICBpZiAodGhpcy5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgICBkYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRhdGEgIT0gbnVsbCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcmVtb3ZlKGtleSkge1xuICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgcmVtb3ZlQ29va2llKG5hbWUsIGRvbWFpbikge1xuICAgICAgbGV0IGNvb2tpZVN0ciA9IG5hbWUgKyAnPTsgZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAxIEdNVDsnO1xuXG4gICAgICBpZiAoZG9tYWluKSB7XG4gICAgICAgIGNvb2tpZVN0ciA9IGNvb2tpZVN0ciArICcgZG9tYWluPScgKyBkb21haW4gKyAnOyBwYXRoPS8nO1xuICAgICAgfVxuXG4gICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWVTdHI7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZUNvb2tpZShuYW1lLCB2YWx1ZSwgc2Vjb25kcywgZG9tYWluKSB7XG4gICAgICBsZXQgZXhwaXJlcyA9ICcnO1xuICAgICAgbGV0IGRvbWFpblN0ciA9ICcnO1xuXG4gICAgICBpZiAoc2Vjb25kcykge1xuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpICsgc2Vjb25kcyAqIDEwMDApO1xuICAgICAgICBleHBpcmVzID0gJzsgZXhwaXJlcz0nICsgZGF0ZS50b0dNVFN0cmluZygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZG9tYWluKSB7XG4gICAgICAgIGRvbWFpblN0ciA9ICc7IGRvbWFpbj0nICsgZG9tYWluO1xuICAgICAgfVxuXG4gICAgICB2YWx1ZSA9IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICBkb2N1bWVudC5jb29raWUgPSBuYW1lICsgJz0nICsgdmFsdWUgKyBleHBpcmVzICsgZG9tYWluU3RyICsgJzsgcGF0aD0vJztcbiAgICB9XG5cbiAgICBzdGF0aWMgcmVhZENvb2tpZShuYW1lKSB7XG4gICAgICBjb25zdCBuYW1lRVEgPSBuYW1lICsgJz0nO1xuICAgICAgY29uc3QgY2EgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKTtcblxuICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgY2EubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBsZXQgYyA9IGNhW2lkeF07XG5cbiAgICAgICAgd2hpbGUgKGMuY2hhckF0KDApID09PSAnICcpIHtcbiAgICAgICAgICBjID0gYy5zdWJzdHJpbmcoMSwgYy5sZW5ndGgpO1xuICAgICAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblxuXG4gICAgICAgIGlmIChjLmluZGV4T2YobmFtZUVRKSA9PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChjLnN1YnN0cmluZyhuYW1lRVEubGVuZ3RoLCBjLmxlbmd0aCkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHN0YXRpYyBfaXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSB7XG4gICAgICByZXR1cm4gJ2xvY2FsU3RvcmFnZScgaW4gd2luZG93ICYmIHdpbmRvdy5sb2NhbFN0b3JhZ2UgIT09IG51bGwgJiYgdHlwZW9mIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSA9PT0gJ2Z1bmN0aW9uJztcbiAgICB9XG5cbiAgICBzdGF0aWMgc2F2ZVRvTFNvckNvb2tpZShwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHRoaXMuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICB0aGlzLnNhdmUocHJvcGVydHksIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh2YWx1ZSkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAocHJvcGVydHkgPT09IEdDT09LSUVfTkFNRSkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVDb29raWUocHJvcGVydHksIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSksIDAsIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQ29va2llKHByb3BlcnR5LCBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkodmFsdWUpKSwgMCwgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAkY3QuZ2xvYmFsQ2FjaGVbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cblxuICAgIHN0YXRpYyByZWFkRnJvbUxTb3JDb29raWUocHJvcGVydHkpIHtcbiAgICAgIGxldCBkYXRhO1xuXG4gICAgICBpZiAoJGN0Lmdsb2JhbENhY2hlLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICByZXR1cm4gJGN0Lmdsb2JhbENhY2hlW3Byb3BlcnR5XTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgZGF0YSA9IHRoaXMucmVhZChwcm9wZXJ0eSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhID0gdGhpcy5yZWFkQ29va2llKHByb3BlcnR5KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRhdGEgIT09IG51bGwgJiYgZGF0YSAhPT0gdW5kZWZpbmVkICYmICEodHlwZW9mIGRhdGEudHJpbSA9PT0gJ2Z1bmN0aW9uJyAmJiBkYXRhLnRyaW0oKSA9PT0gJycpKSB7XG4gICAgICAgIGxldCB2YWx1ZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhbHVlID0gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoZGF0YSkpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICB2YWx1ZSA9IGRlY29kZVVSSUNvbXBvbmVudChkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRjdC5nbG9iYWxDYWNoZVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGVCcm9hZENvb2tpZShuYW1lLCB2YWx1ZSwgc2Vjb25kcywgZG9tYWluKSB7XG4gICAgICAvLyBzZXRzIGNvb2tpZSBvbiB0aGUgYmFzZSBkb21haW4uIGUuZy4gaWYgZG9tYWluIGlzIGJhei5mb28uYmFyLmNvbSwgc2V0IGNvb2tpZSBvbiBcIi5iYXIuY29tXCJcbiAgICAgIC8vIFRvIHVwZGF0ZSBhbiBleGlzdGluZyBcImJyb2FkIGRvbWFpblwiIGNvb2tpZSwgd2UgbmVlZCB0byBrbm93IHdoYXQgZG9tYWluIGl0IHdhcyBhY3R1YWxseSBzZXQgb24uXG4gICAgICAvLyBzaW5jZSBhIHJldHJpZXZlZCBjb29raWUgbmV2ZXIgdGVsbHMgd2hpY2ggZG9tYWluIGl0IHdhcyBzZXQgb24sIHdlIG5lZWQgdG8gc2V0IGFub3RoZXIgdGVzdCBjb29raWVcbiAgICAgIC8vIHRvIGZpbmQgb3V0IHdoaWNoIFwiYnJvYWRlc3RcIiBkb21haW4gdGhlIGNvb2tpZSB3YXMgc2V0IG9uLiBUaGVuIGRlbGV0ZSB0aGUgdGVzdCBjb29raWUsIGFuZCB1c2UgdGhhdCBkb21haW5cbiAgICAgIC8vIGZvciB1cGRhdGluZyB0aGUgYWN0dWFsIGNvb2tpZS5cbiAgICAgIGlmIChkb21haW4pIHtcbiAgICAgICAgbGV0IGJyb2FkRG9tYWluID0gJGN0LmJyb2FkRG9tYWluO1xuXG4gICAgICAgIGlmIChicm9hZERvbWFpbiA9PSBudWxsKSB7XG4gICAgICAgICAgLy8gaWYgd2UgZG9uJ3Qga25vdyB0aGUgYnJvYWREb21haW4geWV0LCB0aGVuIGZpbmQgb3V0XG4gICAgICAgICAgY29uc3QgZG9tYWluUGFydHMgPSBkb21haW4uc3BsaXQoJy4nKTtcbiAgICAgICAgICBsZXQgdGVzdEJyb2FkRG9tYWluID0gJyc7XG5cbiAgICAgICAgICBmb3IgKGxldCBpZHggPSBkb21haW5QYXJ0cy5sZW5ndGggLSAxOyBpZHggPj0gMDsgaWR4LS0pIHtcbiAgICAgICAgICAgIGlmIChpZHggPT09IDApIHtcbiAgICAgICAgICAgICAgdGVzdEJyb2FkRG9tYWluID0gZG9tYWluUGFydHNbaWR4XSArIHRlc3RCcm9hZERvbWFpbjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRlc3RCcm9hZERvbWFpbiA9ICcuJyArIGRvbWFpblBhcnRzW2lkeF0gKyB0ZXN0QnJvYWREb21haW47XG4gICAgICAgICAgICB9IC8vIG9ubHkgbmVlZGVkIGlmIHRoZSBjb29raWUgYWxyZWFkeSBleGlzdHMgYW5kIG5lZWRzIHRvIGJlIHVwZGF0ZWQuIFNlZSBub3RlIGFib3ZlLlxuXG5cbiAgICAgICAgICAgIGlmICh0aGlzLnJlYWRDb29raWUobmFtZSkpIHtcbiAgICAgICAgICAgICAgLy8gbm8gZ3VhcmFudGVlIHRoYXQgYnJvd3NlciB3aWxsIGRlbGV0ZSBjb29raWUsIGhlbmNlIGNyZWF0ZSBzaG9ydCBsaXZlZCBjb29raWVzXG4gICAgICAgICAgICAgIHZhciB0ZXN0Q29va2llTmFtZSA9ICd0ZXN0XycgKyBuYW1lICsgaWR4O1xuICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUNvb2tpZSh0ZXN0Q29va2llTmFtZSwgdmFsdWUsIDEwLCB0ZXN0QnJvYWREb21haW4pOyAvLyBzZWxmLWRlc3RydWN0IGFmdGVyIDEwIHNlY29uZHNcblxuICAgICAgICAgICAgICBpZiAoIXRoaXMucmVhZENvb2tpZSh0ZXN0Q29va2llTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0ZXN0IGNvb2tpZSBub3Qgc2V0LCB0aGVuIHRoZSBhY3R1YWwgY29va2llIHdvdWxkbid0IGhhdmUgYmVlbiBzZXQgb24gdGhpcyBkb21haW4gZWl0aGVyLlxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGVsc2UgaWYgY29va2llIHNldCwgdGhlbiBkZWxldGUgdGhlIHRlc3QgYW5kIHRoZSBvcmlnaW5hbCBjb29raWVcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNvb2tpZSh0ZXN0Q29va2llTmFtZSwgdGVzdEJyb2FkRG9tYWluKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUNvb2tpZShuYW1lLCB2YWx1ZSwgc2Vjb25kcywgdGVzdEJyb2FkRG9tYWluKTtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBDb29raWUgPSB0aGlzLnJlYWRDb29raWUobmFtZSk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblxuICAgICAgICAgICAgaWYgKHRlbXBDb29raWUgPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgYnJvYWREb21haW4gPSB0ZXN0QnJvYWREb21haW47XG4gICAgICAgICAgICAgICRjdC5icm9hZERvbWFpbiA9IGJyb2FkRG9tYWluO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jcmVhdGVDb29raWUobmFtZSwgdmFsdWUsIHNlY29uZHMsIGJyb2FkRG9tYWluKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jcmVhdGVDb29raWUobmFtZSwgdmFsdWUsIHNlY29uZHMsIGRvbWFpbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldE1ldGFQcm9wKHByb3BlcnR5KSB7XG4gICAgICBjb25zdCBtZXRhT2JqID0gdGhpcy5yZWFkRnJvbUxTb3JDb29raWUoTUVUQV9DT09LSUUpO1xuXG4gICAgICBpZiAobWV0YU9iaiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBtZXRhT2JqW3Byb3BlcnR5XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0TWV0YVByb3AocHJvcGVydHksIHZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgICBsZXQgd3pya01ldGFPYmogPSB0aGlzLnJlYWRGcm9tTFNvckNvb2tpZShNRVRBX0NPT0tJRSk7XG5cbiAgICAgICAgaWYgKHd6cmtNZXRhT2JqID09IG51bGwpIHtcbiAgICAgICAgICB3enJrTWV0YU9iaiA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBkZWxldGUgd3pya01ldGFPYmpbcHJvcGVydHldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHd6cmtNZXRhT2JqW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zYXZlVG9MU29yQ29va2llKE1FVEFfQ09PS0lFLCB3enJrTWV0YU9iaik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldEFuZENsZWFyTWV0YVByb3AocHJvcGVydHkpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5nZXRNZXRhUHJvcChwcm9wZXJ0eSk7XG4gICAgICB0aGlzLnNldE1ldGFQcm9wKHByb3BlcnR5LCB1bmRlZmluZWQpO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXRJbnN0YW50RGVsZXRlRmxhZ0luSygpIHtcbiAgICAgIGxldCBrID0gdGhpcy5yZWFkRnJvbUxTb3JDb29raWUoS0NPT0tJRV9OQU1FKTtcblxuICAgICAgaWYgKGsgPT0gbnVsbCkge1xuICAgICAgICBrID0ge307XG4gICAgICB9XG5cbiAgICAgIGsuZmxhZyA9IHRydWU7XG4gICAgICB0aGlzLnNhdmVUb0xTb3JDb29raWUoS0NPT0tJRV9OQU1FLCBrKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYmFja3VwRXZlbnQoZGF0YSwgcmVxTm8sIGxvZ2dlcikge1xuICAgICAgbGV0IGJhY2t1cEFyciA9IHRoaXMucmVhZEZyb21MU29yQ29va2llKExDT09LSUVfTkFNRSk7XG5cbiAgICAgIGlmICh0eXBlb2YgYmFja3VwQXJyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBiYWNrdXBBcnIgPSB7fTtcbiAgICAgIH1cblxuICAgICAgYmFja3VwQXJyW3JlcU5vXSA9IHtcbiAgICAgICAgcTogZGF0YVxuICAgICAgfTtcbiAgICAgIHRoaXMuc2F2ZVRvTFNvckNvb2tpZShMQ09PS0lFX05BTUUsIGJhY2t1cEFycik7XG4gICAgICBsb2dnZXIuZGVidWcoXCJzdG9yZWQgaW4gXCIuY29uY2F0KExDT09LSUVfTkFNRSwgXCIgcmVxTm8gOiBcIikuY29uY2F0KHJlcU5vLCBcIiAtPiBcIikuY29uY2F0KGRhdGEpKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcmVtb3ZlQmFja3VwKHJlc3BObywgbG9nZ2VyKSB7XG4gICAgICBjb25zdCBiYWNrdXBNYXAgPSB0aGlzLnJlYWRGcm9tTFNvckNvb2tpZShMQ09PS0lFX05BTUUpO1xuXG4gICAgICBpZiAodHlwZW9mIGJhY2t1cE1hcCAhPT0gJ3VuZGVmaW5lZCcgJiYgYmFja3VwTWFwICE9PSBudWxsICYmIHR5cGVvZiBiYWNrdXBNYXBbcmVzcE5vXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKFwiZGVsIGV2ZW50OiBcIi5jb25jYXQocmVzcE5vLCBcIiBkYXRhLT4gXCIpLmNvbmNhdChiYWNrdXBNYXBbcmVzcE5vXS5xKSk7XG4gICAgICAgIGRlbGV0ZSBiYWNrdXBNYXBbcmVzcE5vXTtcbiAgICAgICAgdGhpcy5zYXZlVG9MU29yQ29va2llKExDT09LSUVfTkFNRSwgYmFja3VwTWFwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuICBjb25zdCAkY3QgPSB7XG4gICAgZ2xvYmFsQ2FjaGU6IHtcbiAgICAgIGdjb29raWU6IG51bGwsXG4gICAgICBSRVFfTjogMCxcbiAgICAgIFJFU1BfTjogMFxuICAgIH0sXG4gICAgTFJVX0NBQ0hFOiBudWxsLFxuICAgIGdsb2JhbFByb2ZpbGVNYXA6IHVuZGVmaW5lZCxcbiAgICBnbG9iYWxFdmVudHNNYXA6IHVuZGVmaW5lZCxcbiAgICBibG9ja1JlcXVlc3Q6IGZhbHNlLFxuICAgIGlzT3B0SW5SZXF1ZXN0OiBmYWxzZSxcbiAgICBicm9hZERvbWFpbjogbnVsbCxcbiAgICB3ZWJQdXNoRW5hYmxlZDogbnVsbCxcbiAgICBjYW1wYWlnbkRpdk1hcDoge30sXG4gICAgY3VycmVudFNlc3Npb25JZDogbnVsbCxcbiAgICB3aXpfY291bnRlcjogMCxcbiAgICAvLyB0byBrZWVwIHRyYWNrIG9mIG51bWJlciBvZiB0aW1lcyB3ZSBsb2FkIHRoZSBib2R5XG4gICAgbm90aWZBcGk6IHtcbiAgICAgIG5vdGlmRW5hYmxlZEZyb21BcGk6IGZhbHNlXG4gICAgfSxcbiAgICAvLyBoZWxwZXIgdmFyaWFibGUgdG8gaGFuZGxlIHJhY2UgY29uZGl0aW9uIGFuZCBjaGVjayB3aGVuIG5vdGlmaWNhdGlvbnMgd2VyZSBjYWxsZWRcbiAgICB1bnN1Ykdyb3VwczogW10sXG4gICAgdXBkYXRlZENhdGVnb3J5TG9uZzogbnVsbCxcbiAgICBpbmJveDogbnVsbCxcbiAgICBpc1ByaXZhY3lBcnJQdXNoZWQ6IGZhbHNlLFxuICAgIHByaXZhY3lBcnJheTogW10sXG4gICAgb2ZmbGluZTogZmFsc2UsXG4gICAgbG9jYXRpb246IG51bGwsXG4gICAgZGlzbWlzc1NwYW1Db250cm9sOiBmYWxzZSxcbiAgICBnbG9iYWxVbnN1YnNjcmliZTogdHJ1ZSxcbiAgICBmbHV0dGVyVmVyc2lvbjogbnVsbCxcbiAgICB2YXJpYWJsZVN0b3JlOiB7fSAvLyBkb21haW46IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSwgdXJsIC0+IGdldEhvc3ROYW1lKClcbiAgICAvLyBnY29va2llOiAtPiBkZXZpY2VcblxuICB9O1xuXG4gIHZhciBfa2V5T3JkZXIgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImtleU9yZGVyXCIpO1xuXG4gIHZhciBfZGVsZXRlRnJvbU9iamVjdCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZGVsZXRlRnJvbU9iamVjdFwiKTtcblxuICBjbGFzcyBMUlVDYWNoZSB7XG4gICAgY29uc3RydWN0b3IobWF4KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2RlbGV0ZUZyb21PYmplY3QsIHtcbiAgICAgICAgdmFsdWU6IF9kZWxldGVGcm9tT2JqZWN0MlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2tleU9yZGVyLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIHRoaXMubWF4ID0gbWF4O1xuICAgICAgbGV0IGxydUNhY2hlID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKExSVV9DQUNIRSk7XG5cbiAgICAgIGlmIChscnVDYWNoZSkge1xuICAgICAgICBjb25zdCB0ZW1wTHJ1Q2FjaGUgPSB7fTtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9rZXlPcmRlcilbX2tleU9yZGVyXSA9IFtdO1xuICAgICAgICBscnVDYWNoZSA9IGxydUNhY2hlLmNhY2hlO1xuXG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgaW4gbHJ1Q2FjaGUpIHtcbiAgICAgICAgICBpZiAobHJ1Q2FjaGUuaGFzT3duUHJvcGVydHkoZW50cnkpKSB7XG4gICAgICAgICAgICB0ZW1wTHJ1Q2FjaGVbbHJ1Q2FjaGVbZW50cnldWzBdXSA9IGxydUNhY2hlW2VudHJ5XVsxXTtcblxuICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9rZXlPcmRlcilbX2tleU9yZGVyXS5wdXNoKGxydUNhY2hlW2VudHJ5XVswXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWNoZSA9IHRlbXBMcnVDYWNoZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2FjaGUgPSB7fTtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9rZXlPcmRlcilbX2tleU9yZGVyXSA9IFtdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGdldChrZXkpIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmNhY2hlW2tleV07XG5cbiAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RlbGV0ZUZyb21PYmplY3QpW19kZWxldGVGcm9tT2JqZWN0XShrZXksIHRoaXMuY2FjaGUpO1xuICAgICAgICB0aGlzLmNhY2hlW2tleV0gPSBpdGVtO1xuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfa2V5T3JkZXIpW19rZXlPcmRlcl0ucHVzaChrZXkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNhdmVDYWNoZVRvTFModGhpcy5jYWNoZSk7XG4gICAgICByZXR1cm4gaXRlbTtcbiAgICB9XG5cbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgY29uc3QgaXRlbSA9IHRoaXMuY2FjaGVba2V5XTtcblxuICAgICAgY29uc3QgYWxsS2V5cyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfa2V5T3JkZXIpW19rZXlPcmRlcl07XG5cbiAgICAgIGlmIChpdGVtICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5jYWNoZSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGVsZXRlRnJvbU9iamVjdClbX2RlbGV0ZUZyb21PYmplY3RdKGtleSwgdGhpcy5jYWNoZSk7XG4gICAgICB9IGVsc2UgaWYgKGFsbEtleXMubGVuZ3RoID09PSB0aGlzLm1heCkge1xuICAgICAgICB0aGlzLmNhY2hlID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZWxldGVGcm9tT2JqZWN0KVtfZGVsZXRlRnJvbU9iamVjdF0oYWxsS2V5c1swXSwgdGhpcy5jYWNoZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FjaGVba2V5XSA9IHZhbHVlO1xuXG4gICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9rZXlPcmRlcilbX2tleU9yZGVyXVtfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2tleU9yZGVyKVtfa2V5T3JkZXJdIC0gMV0gIT09IGtleSkge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2tleU9yZGVyKVtfa2V5T3JkZXJdLnB1c2goa2V5KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zYXZlQ2FjaGVUb0xTKHRoaXMuY2FjaGUpO1xuICAgIH1cblxuICAgIHNhdmVDYWNoZVRvTFMoY2FjaGUpIHtcbiAgICAgIGNvbnN0IG9ialRvQXJyYXkgPSBbXTtcblxuICAgICAgY29uc3QgYWxsS2V5cyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfa2V5T3JkZXIpW19rZXlPcmRlcl07XG5cbiAgICAgIGZvciAoY29uc3QgaW5kZXggaW4gYWxsS2V5cykge1xuICAgICAgICBpZiAoYWxsS2V5cy5oYXNPd25Qcm9wZXJ0eShpbmRleCkpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wID0gW107XG4gICAgICAgICAgdGVtcC5wdXNoKGFsbEtleXNbaW5kZXhdKTtcbiAgICAgICAgICB0ZW1wLnB1c2goY2FjaGVbYWxsS2V5c1tpbmRleF1dKTtcbiAgICAgICAgICBvYmpUb0FycmF5LnB1c2godGVtcCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShMUlVfQ0FDSEUsIHtcbiAgICAgICAgY2FjaGU6IG9ialRvQXJyYXlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldEtleSh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhbGxLZXlzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9rZXlPcmRlcilbX2tleU9yZGVyXTtcblxuICAgICAgZm9yIChjb25zdCBpbmRleCBpbiBhbGxLZXlzKSB7XG4gICAgICAgIGlmIChhbGxLZXlzLmhhc093blByb3BlcnR5KGluZGV4KSkge1xuICAgICAgICAgIGlmICh0aGlzLmNhY2hlW2FsbEtleXNbaW5kZXhdXSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBhbGxLZXlzW2luZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZ2V0U2Vjb25kTGFzdEtleSgpIHtcbiAgICAgIGNvbnN0IGtleXNBcnIgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2tleU9yZGVyKVtfa2V5T3JkZXJdO1xuXG4gICAgICBpZiAoa2V5c0FyciAhPSBudWxsICYmIGtleXNBcnIubGVuZ3RoID4gMSkge1xuICAgICAgICByZXR1cm4ga2V5c0FycltrZXlzQXJyLmxlbmd0aCAtIDJdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgZ2V0TGFzdEtleSgpIHtcbiAgICAgIGNvbnN0IGtleXNMZW5ndGggPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2tleU9yZGVyKVtfa2V5T3JkZXJdLmxlbmd0aDtcblxuICAgICAgaWYgKGtleXNMZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfa2V5T3JkZXIpW19rZXlPcmRlcl1ba2V5c0xlbmd0aCAtIDFdO1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgdmFyIF9kZWxldGVGcm9tT2JqZWN0MiA9IGZ1bmN0aW9uIF9kZWxldGVGcm9tT2JqZWN0MihrZXksIG9iaikge1xuICAgIGNvbnN0IGFsbEtleXMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfa2V5T3JkZXIpW19rZXlPcmRlcl0pKTtcbiAgICBjb25zdCBuZXdDYWNoZSA9IHt9O1xuICAgIGxldCBpbmRleFRvRGVsZXRlO1xuXG4gICAgZm9yIChjb25zdCBpbmRleCBpbiBhbGxLZXlzKSB7XG4gICAgICBpZiAoYWxsS2V5cy5oYXNPd25Qcm9wZXJ0eShpbmRleCkpIHtcbiAgICAgICAgaWYgKGFsbEtleXNbaW5kZXhdICE9PSBrZXkpIHtcbiAgICAgICAgICBuZXdDYWNoZVthbGxLZXlzW2luZGV4XV0gPSBvYmpbYWxsS2V5c1tpbmRleF1dO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGluZGV4VG9EZWxldGUgPSBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGFsbEtleXMuc3BsaWNlKGluZGV4VG9EZWxldGUsIDEpO1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfa2V5T3JkZXIpW19rZXlPcmRlcl0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFsbEtleXMpKTtcbiAgICByZXR1cm4gbmV3Q2FjaGU7XG4gIH07XG5cbiAgdmFyIF9sb2dnZXIgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImxvZ2dlclwiKTtcblxuICB2YXIgX3JlcXVlc3QgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInJlcXVlc3RcIik7XG5cbiAgdmFyIF9kZXZpY2UgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImRldmljZVwiKTtcblxuICB2YXIgX3Nlc3Npb24gPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInNlc3Npb25cIik7XG5cbiAgY2xhc3MgQ2xldmVyVGFwQVBJIHtcbiAgICBjb25zdHJ1Y3RvcihfcmVmKSB7XG4gICAgICBsZXQge1xuICAgICAgICBsb2dnZXIsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIGRldmljZSxcbiAgICAgICAgc2Vzc2lvblxuICAgICAgfSA9IF9yZWY7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2xvZ2dlciwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3JlcXVlc3QsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9kZXZpY2UsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9zZXNzaW9uLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyKVtfbG9nZ2VyXSA9IGxvZ2dlcjtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdClbX3JlcXVlc3RdID0gcmVxdWVzdDtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlKVtfZGV2aWNlXSA9IGRldmljZTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbilbX3Nlc3Npb25dID0gc2Vzc2lvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZ2xvYmFsIGdjb29raWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2Vzc2lvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVzdW1lIHNlbnQgdHJ1ZSBpbiBjYXNlIG9mIGFuIE9VTCByZXF1ZXN0IGZyb20gY2xpZW50IHNpZGUsIHdoaWNoIGlzIHJldHVybmVkIGFzIGl0IGlzIGJ5IHNlcnZlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNwTnVtYmVyIHRoZSBpbmRleCBvZiB0aGUgcmVxdWVzdCBpbiBiYWNrdXBtYW5hZ2VyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvcHRPdXRSZXNwb25zZVxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG5cblxuICAgIHMoZ2xvYmFsLCBzZXNzaW9uLCByZXN1bWUsIHJlc3BOdW1iZXIsIG9wdE91dFJlc3BvbnNlKSB7XG4gICAgICBsZXQgb3VsUmVxID0gZmFsc2U7XG4gICAgICBsZXQgbmV3R3VpZCA9IGZhbHNlOyAvLyBmb3IgYSBzY2VuYXJpbyB3aGVuIE9VTCByZXF1ZXN0IGlzIHRydWUgZnJvbSBjbGllbnQgc2lkZVxuICAgICAgLy8gYnV0IHJlc3VtZSBpcyByZXR1cm5lZCBhcyBmYWxzZSBmcm9tIHNlcnZlciBlbmRcbiAgICAgIC8vIHdlIG1haW50YW4gYSBPdWxSZXFOIHZhciBpbiB0aGUgd2luZG93IG9iamVjdFxuICAgICAgLy8gYW5kIGNvbXBhcmUgd2l0aCByZXNwTnVtYmVyIHRvIGRldGVybWluZSB0aGUgcmVzcG9uc2Ugb2YgYW4gT1VMIHJlcXVlc3RcblxuICAgICAgaWYgKHdpbmRvdy5pc09VTEluUHJvZ3Jlc3MpIHtcbiAgICAgICAgaWYgKHJlc3VtZSB8fCByZXNwTnVtYmVyICE9PSAndW5kZWZpbmVkJyAmJiByZXNwTnVtYmVyID09PSB3aW5kb3cub3VsUmVxTikge1xuICAgICAgICAgIHdpbmRvdy5pc09VTEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgICBvdWxSZXEgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IC8vIGNhbGwgYmFjayBmdW5jdGlvbiB1c2VkIHRvIHN0b3JlIGdsb2JhbCBhbmQgc2Vzc2lvbiBpZHMgZm9yIHRoZSB1c2VyXG5cblxuICAgICAgaWYgKHR5cGVvZiByZXNwTnVtYmVyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXNwTnVtYmVyID0gMDtcbiAgICAgIH1cblxuICAgICAgU3RvcmFnZU1hbmFnZXIucmVtb3ZlQmFja3VwKHJlc3BOdW1iZXIsIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyKVtfbG9nZ2VyXSk7XG5cbiAgICAgIGlmIChyZXNwTnVtYmVyID4gJGN0Lmdsb2JhbENhY2hlLlJFUV9OKSB7XG4gICAgICAgIC8vIHJlcXVlc3QgZm9yIHNvbWUgb3RoZXIgdXNlciBzbyBpZ25vcmVcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzVmFsdWVWYWxpZChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSlbX2RldmljZV0uZ2Nvb2tpZSkpIHtcbiAgICAgICAgaWYgKGdsb2JhbCkge1xuICAgICAgICAgIG5ld0d1aWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNWYWx1ZVZhbGlkKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlKVtfZGV2aWNlXS5nY29va2llKSB8fCByZXN1bWUgfHwgdHlwZW9mIG9wdE91dFJlc3BvbnNlID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbk9iaiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbilbX3Nlc3Npb25dLmdldFNlc3Npb25Db29raWVPYmplY3QoKTtcbiAgICAgICAgLyogIElmIHRoZSByZWNlaXZlZCBzZXNzaW9uIGlzIGxlc3MgdGhhbiB0aGUgc2Vzc2lvbiBpbiB0aGUgY29va2llLFxuICAgICAgICAgICAgdGhlbiBkb24ndCB1cGRhdGUgZ3VpZCBhcyBpdCB3aWxsIGJlIHJlc3BvbnNlIGZvciBvbGQgcmVxdWVzdFxuICAgICAgICAqL1xuXG5cbiAgICAgICAgaWYgKHdpbmRvdy5pc09VTEluUHJvZ3Jlc3MgfHwgc2Vzc2lvbk9iai5zICYmIHNlc3Npb24gPCBzZXNzaW9uT2JqLnMpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlcilbX2xvZ2dlcl0uZGVidWcoXCJDb29raWUgd2FzIFwiLmNvbmNhdChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSlbX2RldmljZV0uZ2Nvb2tpZSwgXCIgc2V0IHRvIFwiKS5jb25jYXQoZ2xvYmFsKSk7XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UpW19kZXZpY2VdLmdjb29raWUgPSBnbG9iYWw7XG5cbiAgICAgICAgaWYgKCFpc1ZhbHVlVmFsaWQoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UpW19kZXZpY2VdLmdjb29raWUpKSB7XG4gICAgICAgICAgLy8gY2xlYXIgdXNlSVAgbWV0YSBwcm9wXG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuZ2V0QW5kQ2xlYXJNZXRhUHJvcChVU0VJUF9LRVkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdsb2JhbCAmJiBTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgIGlmICgkY3QuTFJVX0NBQ0hFID09IG51bGwpIHtcbiAgICAgICAgICAgICRjdC5MUlVfQ0FDSEUgPSBuZXcgTFJVQ2FjaGUoTFJVX0NBQ0hFX1NJWkUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGtJZEZyb21MUyA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShLQ09PS0lFX05BTUUpO1xuICAgICAgICAgIGxldCBndWlkRnJvbUxSVUNhY2hlO1xuXG4gICAgICAgICAgaWYgKGtJZEZyb21MUyAhPSBudWxsICYmIGtJZEZyb21MUy5pZCkge1xuICAgICAgICAgICAgZ3VpZEZyb21MUlVDYWNoZSA9ICRjdC5MUlVfQ0FDSEUuY2FjaGVba0lkRnJvbUxTLmlkXTtcblxuICAgICAgICAgICAgaWYgKHJlc3VtZSkge1xuICAgICAgICAgICAgICBpZiAoIWd1aWRGcm9tTFJVQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEZJUkVfUFVTSF9VTlJFR0lTVEVSRUQsIHRydWUpOyAvLyByZXBsYWNlIGxvZ2luIGlkZW50aXR5IGluIE9VTCByZXF1ZXN0XG4gICAgICAgICAgICAgICAgLy8gd2l0aCB0aGUgZ2Nvb2tpZSByZXR1cm5lZCBpbiBleGNoYW5nZVxuXG4gICAgICAgICAgICAgICAgJGN0LkxSVV9DQUNIRS5zZXQoa0lkRnJvbUxTLmlkLCBnbG9iYWwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShHQ09PS0lFX05BTUUsIGdsb2JhbCk7IC8vIGxhc3RrIHByb3ZpZGVzIHRoZSBndWlkXG5cbiAgICAgICAgICBjb25zdCBsYXN0SyA9ICRjdC5MUlVfQ0FDSEUuZ2V0U2Vjb25kTGFzdEtleSgpO1xuXG4gICAgICAgICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShGSVJFX1BVU0hfVU5SRUdJU1RFUkVEKSAmJiBsYXN0SyAhPT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RHVUlEID0gJGN0LkxSVV9DQUNIRS5jYWNoZVtsYXN0S107IC8vIGZpcmUgdGhlIHJlcXVlc3QgZGlyZWN0bHkgdmlhIGZpcmVSZXF1ZXN0IHRvIHVucmVnaXN0ZXIgdGhlIHRva2VuXG4gICAgICAgICAgICAvLyB0aGVuIG90aGVyIHJlcXVlc3RzIHdpdGggdGhlIHVwZGF0ZWQgZ3VpZCBzaG91bGQgZm9sbG93XG5cbiAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdClbX3JlcXVlc3RdLnVucmVnaXN0ZXJUb2tlbkZvckd1aWQobGFzdEdVSUQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyLmNyZWF0ZUJyb2FkQ29va2llKEdDT09LSUVfTkFNRSwgZ2xvYmFsLCBDT09LSUVfRVhQSVJZLCB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpO1xuICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEdDT09LSUVfTkFNRSwgZ2xvYmFsKTtcbiAgICAgIH1cblxuICAgICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbilbX3Nlc3Npb25dLm1hbmFnZVNlc3Npb24oc2Vzc2lvbik7XG4gICAgICB9IC8vIHNlc3Npb24gY29va2llXG5cblxuICAgICAgY29uc3Qgb2JqID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uKVtfc2Vzc2lvbl0uZ2V0U2Vzc2lvbkNvb2tpZU9iamVjdCgpOyAvLyBmb3IgdGhlIHJhY2UtY29uZGl0aW9uIHdoZXJlIHR3byByZXNwb25zZXMgY29tZSBiYWNrIHdpdGggZGlmZmVyZW50IHNlc3Npb24gaWRzLiBkb24ndCB3cml0ZSB0aGUgb2xkZXIgc2Vzc2lvbiBpZC5cblxuXG4gICAgICBpZiAodHlwZW9mIG9iai5zID09PSAndW5kZWZpbmVkJyB8fCBvYmoucyA8PSBzZXNzaW9uKSB7XG4gICAgICAgIG9iai5zID0gc2Vzc2lvbjtcbiAgICAgICAgb2JqLnQgPSBnZXROb3coKTsgLy8gdGltZSBvZiBsYXN0IHJlc3BvbnNlIGZyb20gc2VydmVyXG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uKVtfc2Vzc2lvbl0uc2V0U2Vzc2lvbkNvb2tpZU9iamVjdChvYmopO1xuICAgICAgfSAvLyBzZXQgYmxvY2tSZXF1ZXN0IHRvIGZhbHNlIG9ubHkgaWYgdGhlIGRldmljZSBoYXMgYSB2YWxpZCBnY29va2llXG5cblxuICAgICAgaWYgKGlzVmFsdWVWYWxpZChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSlbX2RldmljZV0uZ2Nvb2tpZSkpIHtcbiAgICAgICAgJGN0LmJsb2NrUmVxdWVzdCA9IGZhbHNlO1xuICAgICAgfSAvLyBvbmx5IHByb2Nlc3MgdGhlIGJhY2t1cCBldmVudHMgYWZ0ZXIgYW4gT1VMIHJlcXVlc3Qgb3IgYSBuZXcgZ3VpZCBpcyByZWNpZXZlZFxuXG5cbiAgICAgIGlmICgob3VsUmVxIHx8IG5ld0d1aWQpICYmICFfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QpW19yZXF1ZXN0XS5wcm9jZXNzaW5nQmFja3VwKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdClbX3JlcXVlc3RdLnByb2Nlc3NCYWNrdXBFdmVudHMoKTtcbiAgICAgIH1cblxuICAgICAgJGN0Lmdsb2JhbENhY2hlLlJFU1BfTiA9IHJlc3BOdW1iZXI7XG4gICAgfVxuXG4gIH1cblxuICB2YXIgX2xvZ2dlciQxID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJsb2dnZXJcIik7XG5cbiAgY2xhc3MgRGV2aWNlTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IoX3JlZikge1xuICAgICAgbGV0IHtcbiAgICAgICAgbG9nZ2VyXG4gICAgICB9ID0gX3JlZjtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfbG9nZ2VyJDEsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgdGhpcy5nY29va2llID0gdm9pZCAwO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkMSlbX2xvZ2dlciQxXSA9IGxvZ2dlcjtcbiAgICAgIHRoaXMuZ2Nvb2tpZSA9IHRoaXMuZ2V0R3VpZCgpO1xuICAgIH1cblxuICAgIGdldEd1aWQoKSB7XG4gICAgICBsZXQgZ3VpZCA9IG51bGw7XG5cbiAgICAgIGlmIChpc1ZhbHVlVmFsaWQodGhpcy5nY29va2llKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nY29va2llO1xuICAgICAgfVxuXG4gICAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBTdG9yYWdlTWFuYWdlci5yZWFkKEdDT09LSUVfTkFNRSk7XG5cbiAgICAgICAgaWYgKGlzVmFsdWVWYWxpZCh2YWx1ZSkpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZ3VpZCA9IEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkMSlbX2xvZ2dlciQxXS5kZWJ1ZygnQ2Fubm90IHBhcnNlIEdjb29raWUgZnJvbSBsb2NhbHN0b3JhZ2UgLSBtdXN0IGJlIGVuY29kZWQgJyArIHZhbHVlKTsgLy8gYXNzdW1taW5nIGd1aWRzIGFyZSBvZiBzaXplIDMyLiBzdXBwb3J0aW5nIGJvdGggZm9ybWF0cy5cbiAgICAgICAgICAgIC8vIGd1aWQgY2FuIGhhdmUgZW5jb2RlZFVSSUNvbXBvbmVudCBvciBiZSB3aXRob3V0IGl0LlxuICAgICAgICAgICAgLy8gMS41NmU0MDc4ZWQxNTc0OTkyOGMwNDI0NzllYzJiNGQ0NyAtIGJyZWFrcyBvbiBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudCgpKVxuICAgICAgICAgICAgLy8gMi4lMjI1NmU0MDc4ZWQxNTc0OTkyOGMwNDI0NzllYzJiNGQ0NyUyMlxuXG5cbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMyKSB7XG4gICAgICAgICAgICAgIGd1aWQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShHQ09PS0lFX05BTUUsIHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDEpW19sb2dnZXIkMV0uZXJyb3IoJ0lsbGVnYWwgZ3VpZCAnICsgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy8gUGVyc2lzdCB0byBjb29raWUgc3RvcmFnZSBpZiBub3QgcHJlc2VudCB0aGVyZS5cblxuXG4gICAgICAgICAgaWYgKGlzVmFsdWVWYWxpZChndWlkKSkge1xuICAgICAgICAgICAgU3RvcmFnZU1hbmFnZXIuY3JlYXRlQnJvYWRDb29raWUoR0NPT0tJRV9OQU1FLCBndWlkLCBDT09LSUVfRVhQSVJZLCB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIWlzVmFsdWVWYWxpZChndWlkKSkge1xuICAgICAgICBndWlkID0gU3RvcmFnZU1hbmFnZXIucmVhZENvb2tpZShHQ09PS0lFX05BTUUpO1xuXG4gICAgICAgIGlmIChpc1ZhbHVlVmFsaWQoZ3VpZCkgJiYgKGd1aWQuaW5kZXhPZignJScpID09PSAwIHx8IGd1aWQuaW5kZXhPZignXFwnJykgPT09IDAgfHwgZ3VpZC5pbmRleE9mKCdcIicpID09PSAwKSkge1xuICAgICAgICAgIGd1aWQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzVmFsdWVWYWxpZChndWlkKSkge1xuICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoR0NPT0tJRV9OQU1FLCBndWlkKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ3VpZDtcbiAgICB9XG5cbiAgfVxuXG4gIGNvbnN0IERBVEFfTk9UX1NFTlRfVEVYVCA9ICdUaGlzIHByb3BlcnR5IGhhcyBiZWVuIGlnbm9yZWQuJztcbiAgY29uc3QgQ0xFVkVSVEFQX0VSUk9SX1BSRUZJWCA9ICdDbGV2ZXJUYXAgZXJyb3I6JzsgLy8gRm9ybWVybHkgd3pya19lcnJvcl90eHRcblxuICBjb25zdCBFTUJFRF9FUlJPUiA9IFwiXCIuY29uY2F0KENMRVZFUlRBUF9FUlJPUl9QUkVGSVgsIFwiIEluY29ycmVjdCBlbWJlZCBzY3JpcHQuXCIpO1xuICBjb25zdCBFVkVOVF9FUlJPUiA9IFwiXCIuY29uY2F0KENMRVZFUlRBUF9FUlJPUl9QUkVGSVgsIFwiIEV2ZW50IHN0cnVjdHVyZSBub3QgdmFsaWQuIFwiKS5jb25jYXQoREFUQV9OT1RfU0VOVF9URVhUKTtcbiAgY29uc3QgR0VOREVSX0VSUk9SID0gXCJcIi5jb25jYXQoQ0xFVkVSVEFQX0VSUk9SX1BSRUZJWCwgXCIgR2VuZGVyIHZhbHVlIHNob3VsZCBiZSBlaXRoZXIgTSBvciBGLiBcIikuY29uY2F0KERBVEFfTk9UX1NFTlRfVEVYVCk7XG4gIGNvbnN0IEVNUExPWUVEX0VSUk9SID0gXCJcIi5jb25jYXQoQ0xFVkVSVEFQX0VSUk9SX1BSRUZJWCwgXCIgRW1wbG95ZWQgdmFsdWUgc2hvdWxkIGJlIGVpdGhlciBZIG9yIE4uIFwiKS5jb25jYXQoREFUQV9OT1RfU0VOVF9URVhUKTtcbiAgY29uc3QgTUFSUklFRF9FUlJPUiA9IFwiXCIuY29uY2F0KENMRVZFUlRBUF9FUlJPUl9QUkVGSVgsIFwiIE1hcnJpZWQgdmFsdWUgc2hvdWxkIGJlIGVpdGhlciBZIG9yIE4uIFwiKS5jb25jYXQoREFUQV9OT1RfU0VOVF9URVhUKTtcbiAgY29uc3QgRURVQ0FUSU9OX0VSUk9SID0gXCJcIi5jb25jYXQoQ0xFVkVSVEFQX0VSUk9SX1BSRUZJWCwgXCIgRWR1Y2F0aW9uIHZhbHVlIHNob3VsZCBiZSBlaXRoZXIgU2Nob29sLCBDb2xsZWdlIG9yIEdyYWR1YXRlLiBcIikuY29uY2F0KERBVEFfTk9UX1NFTlRfVEVYVCk7XG4gIGNvbnN0IEFHRV9FUlJPUiA9IFwiXCIuY29uY2F0KENMRVZFUlRBUF9FUlJPUl9QUkVGSVgsIFwiIEFnZSB2YWx1ZSBzaG91bGQgYmUgYSBudW1iZXIuIFwiKS5jb25jYXQoREFUQV9OT1RfU0VOVF9URVhUKTtcbiAgY29uc3QgRE9CX0VSUk9SID0gXCJcIi5jb25jYXQoQ0xFVkVSVEFQX0VSUk9SX1BSRUZJWCwgXCIgRE9CIHZhbHVlIHNob3VsZCBiZSBhIERhdGUgT2JqZWN0XCIpO1xuICBjb25zdCBFTlVNX0ZPUk1BVF9FUlJPUiA9IFwiXCIuY29uY2F0KENMRVZFUlRBUF9FUlJPUl9QUkVGSVgsIFwiIHNldEVudW0odmFsdWUpLiB2YWx1ZSBzaG91bGQgYmUgYSBzdHJpbmcgb3IgYSBudW1iZXJcIik7XG4gIGNvbnN0IFBIT05FX0ZPUk1BVF9FUlJPUiA9IFwiXCIuY29uY2F0KENMRVZFUlRBUF9FUlJPUl9QUkVGSVgsIFwiIFBob25lIG51bWJlciBzaG91bGQgYmUgZm9ybWF0dGVkIGFzICtbY291bnRyeSBjb2RlXVtudW1iZXJdXCIpO1xuXG4gIGxldCBfZ2xvYmFsQ2hhcmdlZElkO1xuXG4gIGNvbnN0IGlzRXZlbnRTdHJ1Y3R1cmVGbGF0ID0gZXZlbnRPYmogPT4ge1xuICAgIC8vIEV2ZW50cyBjYW5ub3QgaGF2ZSBuZXN0ZWQgc3RydWN0dXJlIG9yIEFycmF5c1xuICAgIGlmIChpc09iamVjdChldmVudE9iaikpIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiBldmVudE9iaikge1xuICAgICAgICBpZiAoZXZlbnRPYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGlmIChpc09iamVjdChldmVudE9ialtrZXldKSB8fCBBcnJheS5pc0FycmF5KGV2ZW50T2JqW2tleV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc0RhdGVPYmplY3QoZXZlbnRPYmpba2V5XSkpIHtcbiAgICAgICAgICAgIGV2ZW50T2JqW2tleV0gPSBjb252ZXJ0VG9XWlJLRGF0ZShldmVudE9ialtrZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBjb25zdCBpc0NoYXJnZWRFdmVudFN0cnVjdHVyZVZhbGlkID0gKGNoYXJnZWRPYmosIGxvZ2dlcikgPT4ge1xuICAgIGlmIChpc09iamVjdChjaGFyZ2VkT2JqKSkge1xuICAgICAgZm9yICh2YXIga2V5IGluIGNoYXJnZWRPYmopIHtcbiAgICAgICAgaWYgKGNoYXJnZWRPYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGlmIChrZXkgPT09ICdJdGVtcycpIHtcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShjaGFyZ2VkT2JqW2tleV0pKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNoYXJnZWRPYmpba2V5XS5sZW5ndGggPiA1MCkge1xuICAgICAgICAgICAgICBsb2dnZXIucmVwb3J0RXJyb3IoNTIyLCAnQ2hhcmdlZCBJdGVtcyBleGNlZWQgNTAgbGltaXQuIEFjdHVhbCBjb3VudDogJyArIGNoYXJnZWRPYmpba2V5XS5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtS2V5IGluIGNoYXJnZWRPYmpba2V5XSkge1xuICAgICAgICAgICAgICBpZiAoY2hhcmdlZE9ialtrZXldLmhhc093blByb3BlcnR5KGl0ZW1LZXkpKSB7XG4gICAgICAgICAgICAgICAgLy8gc2luY2UgZGVmYXVsdCBhcnJheSBpbXBsZW1lbnRhdGlvbiBjb3VsZCBiZSBvdmVycmlkZGVuIC0gZS5nLiBUZWFib3ggc2l0ZVxuICAgICAgICAgICAgICAgIGlmICghaXNPYmplY3QoY2hhcmdlZE9ialtrZXldW2l0ZW1LZXldKSB8fCAhaXNFdmVudFN0cnVjdHVyZUZsYXQoY2hhcmdlZE9ialtrZXldW2l0ZW1LZXldKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoaXNPYmplY3QoY2hhcmdlZE9ialtrZXldKSB8fCBBcnJheS5pc0FycmF5KGNoYXJnZWRPYmpba2V5XSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0RhdGVPYmplY3QoY2hhcmdlZE9ialtrZXldKSkge1xuICAgICAgICAgICAgICBjaGFyZ2VkT2JqW2tleV0gPSBjb252ZXJ0VG9XWlJLRGF0ZShjaGFyZ2VkT2JqW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNTdHJpbmcoY2hhcmdlZE9ialtDSEFSR0VEX0lEXSkgfHwgaXNOdW1iZXIoY2hhcmdlZE9ialtDSEFSR0VEX0lEXSkpIHtcbiAgICAgICAgLy8gc2F2ZSBjaGFyZ2VkIElkXG4gICAgICAgIGNvbnN0IGNoYXJnZWRJZCA9IGNoYXJnZWRPYmpbQ0hBUkdFRF9JRF0gKyAnJzsgLy8gY2FzdGluZyBjaGFyZ2VkSWQgdG8gc3RyaW5nXG5cbiAgICAgICAgaWYgKHR5cGVvZiBfZ2xvYmFsQ2hhcmdlZElkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIF9nbG9iYWxDaGFyZ2VkSWQgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoQ0hBUkdFRElEX0NPT0tJRV9OQU1FKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgX2dsb2JhbENoYXJnZWRJZCAhPT0gJ3VuZGVmaW5lZCcgJiYgX2dsb2JhbENoYXJnZWRJZC50cmltKCkgPT09IGNoYXJnZWRJZC50cmltKCkpIHtcbiAgICAgICAgICAvLyBkcm9wIGV2ZW50LSBkdXBsaWNhdGUgY2hhcmdlZCBpZFxuICAgICAgICAgIGxvZ2dlci5lcnJvcignRHVwbGljYXRlIGNoYXJnZWQgSWQgLSBEcm9wcGVkJyArIGNoYXJnZWRPYmopO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9nbG9iYWxDaGFyZ2VkSWQgPSBjaGFyZ2VkSWQ7XG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoQ0hBUkdFRElEX0NPT0tJRV9OQU1FLCBjaGFyZ2VkSWQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IC8vIGlmIG9iamVjdCAoY2hhcmdlZE9iamVjdClcblxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIHZhciBfbG9nZ2VyJDIgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImxvZ2dlclwiKTtcblxuICB2YXIgX29sZFZhbHVlcyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwib2xkVmFsdWVzXCIpO1xuXG4gIHZhciBfcmVxdWVzdCQxID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJyZXF1ZXN0XCIpO1xuXG4gIHZhciBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImlzUGVyc29uYWxpc2F0aW9uQWN0aXZlXCIpO1xuXG4gIHZhciBfcHJvY2Vzc0V2ZW50QXJyYXkgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInByb2Nlc3NFdmVudEFycmF5XCIpO1xuXG4gIGNsYXNzIEV2ZW50SGFuZGxlciBleHRlbmRzIEFycmF5IHtcbiAgICBjb25zdHJ1Y3RvcihfcmVmLCB2YWx1ZXMpIHtcbiAgICAgIGxldCB7XG4gICAgICAgIGxvZ2dlcixcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgaXNQZXJzb25hbGlzYXRpb25BY3RpdmVcbiAgICAgIH0gPSBfcmVmO1xuICAgICAgc3VwZXIoKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcHJvY2Vzc0V2ZW50QXJyYXksIHtcbiAgICAgICAgdmFsdWU6IF9wcm9jZXNzRXZlbnRBcnJheTJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9sb2dnZXIkMiwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX29sZFZhbHVlcywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3JlcXVlc3QkMSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDIpW19sb2dnZXIkMl0gPSBsb2dnZXI7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcylbX29sZFZhbHVlc10gPSB2YWx1ZXM7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMSlbX3JlcXVlc3QkMV0gPSByZXF1ZXN0O1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSlbX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlXSA9IGlzUGVyc29uYWxpc2F0aW9uQWN0aXZlO1xuICAgIH1cblxuICAgIHB1c2goKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZXZlbnRzQXJyID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBldmVudHNBcnJbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcHJvY2Vzc0V2ZW50QXJyYXkpW19wcm9jZXNzRXZlbnRBcnJheV0oZXZlbnRzQXJyKTtcblxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgX3Byb2Nlc3NPbGRWYWx1ZXMoKSB7XG4gICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMpW19vbGRWYWx1ZXNdKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcHJvY2Vzc0V2ZW50QXJyYXkpW19wcm9jZXNzRXZlbnRBcnJheV0oX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMpW19vbGRWYWx1ZXNdKTtcbiAgICAgIH1cblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMpW19vbGRWYWx1ZXNdID0gbnVsbDtcbiAgICB9XG5cbiAgICBnZXREZXRhaWxzKGV2dE5hbWUpIHtcbiAgICAgIGlmICghX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSlbX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlXSgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiAkY3QuZ2xvYmFsRXZlbnRzTWFwID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAkY3QuZ2xvYmFsRXZlbnRzTWFwID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKEVWX0NPT0tJRSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgJGN0Lmdsb2JhbEV2ZW50c01hcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBldnRPYmogPSAkY3QuZ2xvYmFsRXZlbnRzTWFwW2V2dE5hbWVdO1xuICAgICAgY29uc3QgcmVzcE9iaiA9IHt9O1xuXG4gICAgICBpZiAodHlwZW9mIGV2dE9iaiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmVzcE9iai5maXJzdFRpbWUgPSBuZXcgRGF0ZShldnRPYmpbMV0gKiAxMDAwKTtcbiAgICAgICAgcmVzcE9iai5sYXN0VGltZSA9IG5ldyBEYXRlKGV2dE9ialsyXSAqIDEwMDApO1xuICAgICAgICByZXNwT2JqLmNvdW50ID0gZXZ0T2JqWzBdO1xuICAgICAgICByZXR1cm4gcmVzcE9iajtcbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuXG4gIHZhciBfcHJvY2Vzc0V2ZW50QXJyYXkyID0gZnVuY3Rpb24gX3Byb2Nlc3NFdmVudEFycmF5MihldmVudHNBcnIpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShldmVudHNBcnIpKSB7XG4gICAgICB3aGlsZSAoZXZlbnRzQXJyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIGV2ZW50TmFtZSA9IGV2ZW50c0Fyci5zaGlmdCgpO1xuXG4gICAgICAgIGlmICghaXNTdHJpbmcoZXZlbnROYW1lKSkge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDIpW19sb2dnZXIkMl0uZXJyb3IoRVZFTlRfRVJST1IpO1xuXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnROYW1lLmxlbmd0aCA+IDEwMjQpIHtcbiAgICAgICAgICBldmVudE5hbWUgPSBldmVudE5hbWUuc3Vic3RyaW5nKDAsIDEwMjQpO1xuXG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkMilbX2xvZ2dlciQyXS5yZXBvcnRFcnJvcig1MTAsIGV2ZW50TmFtZSArICcuLi4gbGVuZ3RoIGV4Y2VlZGVkIDEwMjQgY2hhcnMuIFRyaW1tZWQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoU1lTVEVNX0VWRU5UUy5pbmNsdWRlcyhldmVudE5hbWUpKSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkMilbX2xvZ2dlciQyXS5yZXBvcnRFcnJvcig1MTMsIGV2ZW50TmFtZSArICcgaXMgYSByZXN0cmljdGVkIHN5c3RlbSBldmVudC4gSXQgY2Fubm90IGJlIHVzZWQgYXMgYW4gZXZlbnQgbmFtZS4nKTtcblxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IHt9O1xuICAgICAgICBkYXRhLnR5cGUgPSAnZXZlbnQnO1xuICAgICAgICBkYXRhLmV2dE5hbWUgPSBzYW5pdGl6ZShldmVudE5hbWUsIHVuc3VwcG9ydGVkS2V5Q2hhclJlZ2V4KTtcblxuICAgICAgICBpZiAoZXZlbnRzQXJyLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgIGNvbnN0IGV2ZW50T2JqID0gZXZlbnRzQXJyLnNoaWZ0KCk7XG5cbiAgICAgICAgICBpZiAoIWlzT2JqZWN0KGV2ZW50T2JqKSkge1xuICAgICAgICAgICAgLy8gcHV0IGl0IGJhY2sgaWYgaXQgaXMgbm90IGFuIG9iamVjdFxuICAgICAgICAgICAgZXZlbnRzQXJyLnVuc2hpZnQoZXZlbnRPYmopO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBjaGVjayBDaGFyZ2VkIEV2ZW50IHZzLiBvdGhlciBldmVudHMuXG4gICAgICAgICAgICBpZiAoZXZlbnROYW1lID09PSAnQ2hhcmdlZCcpIHtcbiAgICAgICAgICAgICAgaWYgKCFpc0NoYXJnZWRFdmVudFN0cnVjdHVyZVZhbGlkKGV2ZW50T2JqLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQyKVtfbG9nZ2VyJDJdKSkge1xuICAgICAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDIpW19sb2dnZXIkMl0ucmVwb3J0RXJyb3IoNTExLCAnQ2hhcmdlZCBldmVudCBzdHJ1Y3R1cmUgaW52YWxpZC4gTm90IHNlbnQuJyk7XG5cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKCFpc0V2ZW50U3RydWN0dXJlRmxhdChldmVudE9iaikpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQyKVtfbG9nZ2VyJDJdLnJlcG9ydEVycm9yKDUxMiwgZXZlbnROYW1lICsgJyBldmVudCBzdHJ1Y3R1cmUgaW52YWxpZC4gTm90IHNlbnQuJyk7XG5cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRhLmV2dERhdGEgPSBldmVudE9iajtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMSlbX3JlcXVlc3QkMV0ucHJvY2Vzc0V2ZW50KGRhdGEpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBnZXRVUkxQYXJhbXMgPSB1cmwgPT4ge1xuICAgIGNvbnN0IHVybFBhcmFtcyA9IHt9O1xuICAgIGNvbnN0IGlkeCA9IHVybC5pbmRleE9mKCc/Jyk7XG5cbiAgICBpZiAoaWR4ID4gMSkge1xuICAgICAgY29uc3QgdXJpID0gdXJsLnN1YnN0cmluZyhpZHggKyAxKTtcbiAgICAgIGxldCBtYXRjaDtcbiAgICAgIGNvbnN0IHBsID0gL1xcKy9nOyAvLyBSZWdleCBmb3IgcmVwbGFjaW5nIGFkZGl0aW9uIHN5bWJvbCB3aXRoIGEgc3BhY2VcblxuICAgICAgY29uc3Qgc2VhcmNoID0gLyhbXiY9XSspPT8oW14mXSopL2c7XG5cbiAgICAgIGNvbnN0IGRlY29kZSA9IGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIGxldCByZXBsYWNlbWVudCA9IHMucmVwbGFjZShwbCwgJyAnKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJlcGxhY2VtZW50ID0gZGVjb2RlVVJJQ29tcG9uZW50KHJlcGxhY2VtZW50KTtcbiAgICAgICAgfSBjYXRjaCAoZSkgey8vIGVhdFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcGxhY2VtZW50O1xuICAgICAgfTtcblxuICAgICAgbWF0Y2ggPSBzZWFyY2guZXhlYyh1cmkpO1xuXG4gICAgICB3aGlsZSAobWF0Y2gpIHtcbiAgICAgICAgdXJsUGFyYW1zW2RlY29kZShtYXRjaFsxXSldID0gZGVjb2RlKG1hdGNoWzJdKTtcbiAgICAgICAgbWF0Y2ggPSBzZWFyY2guZXhlYyh1cmkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB1cmxQYXJhbXM7XG4gIH07XG4gIGNvbnN0IGdldERvbWFpbiA9IHVybCA9PiB7XG4gICAgaWYgKHVybCA9PT0gJycpIHJldHVybiAnJztcbiAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICBhLmhyZWYgPSB1cmw7XG4gICAgcmV0dXJuIGEuaG9zdG5hbWU7XG4gIH07XG4gIGNvbnN0IGFkZFRvVVJMID0gKHVybCwgaywgdikgPT4ge1xuICAgIHJldHVybiB1cmwgKyAnJicgKyBrICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHYpO1xuICB9O1xuICBjb25zdCBnZXRIb3N0TmFtZSA9ICgpID0+IHtcbiAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO1xuICB9O1xuXG4gIC8qIGVzbGludC1kaXNhYmxlICovXG4gIGNvbnN0IHVybEJhc2U2NFRvVWludDhBcnJheSA9IGJhc2U2NFN0cmluZyA9PiB7XG4gICAgbGV0IHBhZGRpbmcgPSAnPScucmVwZWF0KCg0IC0gYmFzZTY0U3RyaW5nLmxlbmd0aCAlIDQpICUgNCk7XG4gICAgbGV0IGJhc2U2NCA9IChiYXNlNjRTdHJpbmcgKyBwYWRkaW5nKS5yZXBsYWNlKC9cXC0vZywgJysnKS5yZXBsYWNlKC9fL2csICcvJyk7XG4gICAgbGV0IHJhd0RhdGEgPSB3aW5kb3cuYXRvYihiYXNlNjQpO1xuICAgIGxldCBwcm9jZXNzZWREYXRhID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhd0RhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIHByb2Nlc3NlZERhdGEucHVzaChyYXdEYXRhLmNoYXJDb2RlQXQoaSkpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgVWludDhBcnJheShwcm9jZXNzZWREYXRhKTtcbiAgfTtcbiAgY29uc3QgY29tcHJlc3NEYXRhID0gKGRhdGFPYmplY3QsIGxvZ2dlcikgPT4ge1xuICAgIGxvZ2dlciAmJiB0eXBlb2YgbG9nZ2VyLmRlYnVnID09PSAnZnVuY3Rpb24nICYmIGxvZ2dlci5kZWJ1ZygnZG9iajonICsgZGF0YU9iamVjdCk7XG4gICAgcmV0dXJuIGNvbXByZXNzVG9CYXNlNjQoZGF0YU9iamVjdCk7XG4gIH07XG4gIGNvbnN0IGNvbXByZXNzID0gdW5jb21wcmVzc2VkID0+IHtcbiAgICBpZiAodW5jb21wcmVzc2VkID09IG51bGwpIHJldHVybiAnJztcbiAgICBsZXQgaSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGNvbnRleHRfZGljdGlvbmFyeSA9IHt9LFxuICAgICAgICBjb250ZXh0X2RpY3Rpb25hcnlUb0NyZWF0ZSA9IHt9LFxuICAgICAgICBjb250ZXh0X2MgPSAnJyxcbiAgICAgICAgY29udGV4dF93YyA9ICcnLFxuICAgICAgICBjb250ZXh0X3cgPSAnJyxcbiAgICAgICAgY29udGV4dF9lbmxhcmdlSW4gPSAyLFxuICAgICAgICAvLyBDb21wZW5zYXRlIGZvciB0aGUgZmlyc3QgZW50cnkgd2hpY2ggc2hvdWxkIG5vdCBjb3VudFxuICAgIGNvbnRleHRfZGljdFNpemUgPSAzLFxuICAgICAgICBjb250ZXh0X251bUJpdHMgPSAyLFxuICAgICAgICBjb250ZXh0X2RhdGFfc3RyaW5nID0gJycsXG4gICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAwLFxuICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24gPSAwLFxuICAgICAgICBpaSxcbiAgICAgICAgZiA9IFN0cmluZy5mcm9tQ2hhckNvZGU7XG5cbiAgICBmb3IgKGlpID0gMDsgaWkgPCB1bmNvbXByZXNzZWQubGVuZ3RoOyBpaSArPSAxKSB7XG4gICAgICBjb250ZXh0X2MgPSB1bmNvbXByZXNzZWQuY2hhckF0KGlpKTtcblxuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY29udGV4dF9kaWN0aW9uYXJ5LCBjb250ZXh0X2MpKSB7XG4gICAgICAgIGNvbnRleHRfZGljdGlvbmFyeVtjb250ZXh0X2NdID0gY29udGV4dF9kaWN0U2l6ZSsrO1xuICAgICAgICBjb250ZXh0X2RpY3Rpb25hcnlUb0NyZWF0ZVtjb250ZXh0X2NdID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgY29udGV4dF93YyA9IGNvbnRleHRfdyArIGNvbnRleHRfYztcblxuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjb250ZXh0X2RpY3Rpb25hcnksIGNvbnRleHRfd2MpKSB7XG4gICAgICAgIGNvbnRleHRfdyA9IGNvbnRleHRfd2M7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbnRleHRfZGljdGlvbmFyeVRvQ3JlYXRlLCBjb250ZXh0X3cpKSB7XG4gICAgICAgICAgaWYgKGNvbnRleHRfdy5jaGFyQ29kZUF0KDApIDwgMjU2KSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29udGV4dF9udW1CaXRzOyBpKyspIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IGNvbnRleHRfZGF0YV92YWwgPDwgMTtcblxuICAgICAgICAgICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IDE1KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uID0gMDtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfc3RyaW5nICs9IGYoY29udGV4dF9kYXRhX3ZhbCk7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IDA7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFsdWUgPSBjb250ZXh0X3cuY2hhckNvZGVBdCgwKTtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDg7IGkrKykge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gY29udGV4dF9kYXRhX3ZhbCA8PCAxIHwgdmFsdWUgJiAxO1xuXG4gICAgICAgICAgICAgIGlmIChjb250ZXh0X2RhdGFfcG9zaXRpb24gPT0gMTUpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9zdHJpbmcgKz0gZihjb250ZXh0X2RhdGFfdmFsKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gMDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgPj4gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSAxO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29udGV4dF9udW1CaXRzOyBpKyspIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IGNvbnRleHRfZGF0YV92YWwgPDwgMSB8IHZhbHVlO1xuXG4gICAgICAgICAgICAgIGlmIChjb250ZXh0X2RhdGFfcG9zaXRpb24gPT0gMTUpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9zdHJpbmcgKz0gZihjb250ZXh0X2RhdGFfdmFsKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gMDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhbHVlID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFsdWUgPSBjb250ZXh0X3cuY2hhckNvZGVBdCgwKTtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IGNvbnRleHRfZGF0YV92YWwgPDwgMSB8IHZhbHVlICYgMTtcblxuICAgICAgICAgICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IDE1KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uID0gMDtcbiAgICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfc3RyaW5nICs9IGYoY29udGV4dF9kYXRhX3ZhbCk7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IDA7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlID4+IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dF9lbmxhcmdlSW4tLTtcblxuICAgICAgICAgIGlmIChjb250ZXh0X2VubGFyZ2VJbiA9PSAwKSB7XG4gICAgICAgICAgICBjb250ZXh0X2VubGFyZ2VJbiA9IE1hdGgucG93KDIsIGNvbnRleHRfbnVtQml0cyk7XG4gICAgICAgICAgICBjb250ZXh0X251bUJpdHMrKztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZWxldGUgY29udGV4dF9kaWN0aW9uYXJ5VG9DcmVhdGVbY29udGV4dF93XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZSA9IGNvbnRleHRfZGljdGlvbmFyeVtjb250ZXh0X3ddO1xuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbnRleHRfbnVtQml0czsgaSsrKSB7XG4gICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gY29udGV4dF9kYXRhX3ZhbCA8PCAxIHwgdmFsdWUgJiAxO1xuXG4gICAgICAgICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IDE1KSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9zdHJpbmcgKz0gZihjb250ZXh0X2RhdGFfdmFsKTtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA+PiAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHRfZW5sYXJnZUluLS07XG5cbiAgICAgICAgaWYgKGNvbnRleHRfZW5sYXJnZUluID09IDApIHtcbiAgICAgICAgICBjb250ZXh0X2VubGFyZ2VJbiA9IE1hdGgucG93KDIsIGNvbnRleHRfbnVtQml0cyk7XG4gICAgICAgICAgY29udGV4dF9udW1CaXRzKys7XG4gICAgICAgIH0gLy8gQWRkIHdjIHRvIHRoZSBkaWN0aW9uYXJ5LlxuXG5cbiAgICAgICAgY29udGV4dF9kaWN0aW9uYXJ5W2NvbnRleHRfd2NdID0gY29udGV4dF9kaWN0U2l6ZSsrO1xuICAgICAgICBjb250ZXh0X3cgPSBTdHJpbmcoY29udGV4dF9jKTtcbiAgICAgIH1cbiAgICB9IC8vIE91dHB1dCB0aGUgY29kZSBmb3Igdy5cblxuXG4gICAgaWYgKGNvbnRleHRfdyAhPT0gJycpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY29udGV4dF9kaWN0aW9uYXJ5VG9DcmVhdGUsIGNvbnRleHRfdykpIHtcbiAgICAgICAgaWYgKGNvbnRleHRfdy5jaGFyQ29kZUF0KDApIDwgMjU2KSB7XG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbnRleHRfbnVtQml0czsgaSsrKSB7XG4gICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gY29udGV4dF9kYXRhX3ZhbCA8PCAxO1xuXG4gICAgICAgICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IDE1KSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9zdHJpbmcgKz0gZihjb250ZXh0X2RhdGFfdmFsKTtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YWx1ZSA9IGNvbnRleHRfdy5jaGFyQ29kZUF0KDApO1xuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IDg7IGkrKykge1xuICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IGNvbnRleHRfZGF0YV92YWwgPDwgMSB8IHZhbHVlICYgMTtcblxuICAgICAgICAgICAgaWYgKGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9PSAxNSkge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfc3RyaW5nICs9IGYoY29udGV4dF9kYXRhX3ZhbCk7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV92YWwgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgPj4gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUgPSAxO1xuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbnRleHRfbnVtQml0czsgaSsrKSB7XG4gICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gY29udGV4dF9kYXRhX3ZhbCA8PCAxIHwgdmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChjb250ZXh0X2RhdGFfcG9zaXRpb24gPT0gMTUpIHtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uID0gMDtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3N0cmluZyArPSBmKGNvbnRleHRfZGF0YV92YWwpO1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbisrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWx1ZSA9IDA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFsdWUgPSBjb250ZXh0X3cuY2hhckNvZGVBdCgwKTtcblxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gY29udGV4dF9kYXRhX3ZhbCA8PCAxIHwgdmFsdWUgJiAxO1xuXG4gICAgICAgICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IDE1KSB7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICAgIGNvbnRleHRfZGF0YV9zdHJpbmcgKz0gZihjb250ZXh0X2RhdGFfdmFsKTtcbiAgICAgICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb250ZXh0X2RhdGFfcG9zaXRpb24rKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA+PiAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHRfZW5sYXJnZUluLS07XG5cbiAgICAgICAgaWYgKGNvbnRleHRfZW5sYXJnZUluID09IDApIHtcbiAgICAgICAgICBjb250ZXh0X2VubGFyZ2VJbiA9IE1hdGgucG93KDIsIGNvbnRleHRfbnVtQml0cyk7XG4gICAgICAgICAgY29udGV4dF9udW1CaXRzKys7XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgY29udGV4dF9kaWN0aW9uYXJ5VG9DcmVhdGVbY29udGV4dF93XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gY29udGV4dF9kaWN0aW9uYXJ5W2NvbnRleHRfd107XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbnRleHRfbnVtQml0czsgaSsrKSB7XG4gICAgICAgICAgY29udGV4dF9kYXRhX3ZhbCA9IGNvbnRleHRfZGF0YV92YWwgPDwgMSB8IHZhbHVlICYgMTtcblxuICAgICAgICAgIGlmIChjb250ZXh0X2RhdGFfcG9zaXRpb24gPT0gMTUpIHtcbiAgICAgICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICBjb250ZXh0X2RhdGFfc3RyaW5nICs9IGYoY29udGV4dF9kYXRhX3ZhbCk7XG4gICAgICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gMDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZSA+PiAxO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHRfZW5sYXJnZUluLS07XG5cbiAgICAgIGlmIChjb250ZXh0X2VubGFyZ2VJbiA9PSAwKSB7XG4gICAgICAgIGNvbnRleHRfZW5sYXJnZUluID0gTWF0aC5wb3coMiwgY29udGV4dF9udW1CaXRzKTtcbiAgICAgICAgY29udGV4dF9udW1CaXRzKys7XG4gICAgICB9XG4gICAgfSAvLyBNYXJrIHRoZSBlbmQgb2YgdGhlIHN0cmVhbVxuXG5cbiAgICB2YWx1ZSA9IDI7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgY29udGV4dF9udW1CaXRzOyBpKyspIHtcbiAgICAgIGNvbnRleHRfZGF0YV92YWwgPSBjb250ZXh0X2RhdGFfdmFsIDw8IDEgfCB2YWx1ZSAmIDE7XG5cbiAgICAgIGlmIChjb250ZXh0X2RhdGFfcG9zaXRpb24gPT0gMTUpIHtcbiAgICAgICAgY29udGV4dF9kYXRhX3Bvc2l0aW9uID0gMDtcbiAgICAgICAgY29udGV4dF9kYXRhX3N0cmluZyArPSBmKGNvbnRleHRfZGF0YV92YWwpO1xuICAgICAgICBjb250ZXh0X2RhdGFfdmFsID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRleHRfZGF0YV9wb3NpdGlvbisrO1xuICAgICAgfVxuXG4gICAgICB2YWx1ZSA9IHZhbHVlID4+IDE7XG4gICAgfSAvLyBGbHVzaCB0aGUgbGFzdCBjaGFyXG5cblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb250ZXh0X2RhdGFfdmFsID0gY29udGV4dF9kYXRhX3ZhbCA8PCAxO1xuXG4gICAgICBpZiAoY29udGV4dF9kYXRhX3Bvc2l0aW9uID09IDE1KSB7XG4gICAgICAgIGNvbnRleHRfZGF0YV9zdHJpbmcgKz0gZihjb250ZXh0X2RhdGFfdmFsKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2UgY29udGV4dF9kYXRhX3Bvc2l0aW9uKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRleHRfZGF0YV9zdHJpbmc7XG4gIH07XG4gIGNvbnN0IGdldEtleVN0ciA9ICgpID0+IHtcbiAgICBsZXQga2V5ID0gJyc7XG4gICAgbGV0IGkgPSAwO1xuXG4gICAgZm9yIChpID0gMDsgaSA8PSAyNTsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXkgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkgKyA2NSk7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8PSAyNTsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXkgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkgKyA5Nyk7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgIGtleSA9IGtleSArIGk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGtleSArICcrLz0nO1xuICB9O1xuXG4gIGNvbnN0IF9rZXlTdHIgPSBnZXRLZXlTdHIoKTtcbiAgY29uc3QgY29tcHJlc3NUb0Jhc2U2NCA9IGlucHV0ID0+IHtcbiAgICBpZiAoaW5wdXQgPT0gbnVsbCkgcmV0dXJuICcnO1xuICAgIHZhciBvdXRwdXQgPSAnJztcbiAgICB2YXIgY2hyMSwgY2hyMiwgY2hyMywgZW5jMSwgZW5jMiwgZW5jMywgZW5jNDtcbiAgICB2YXIgaSA9IDA7XG4gICAgaW5wdXQgPSBjb21wcmVzcyhpbnB1dCk7XG5cbiAgICB3aGlsZSAoaSA8IGlucHV0Lmxlbmd0aCAqIDIpIHtcbiAgICAgIGlmIChpICUgMiA9PSAwKSB7XG4gICAgICAgIGNocjEgPSBpbnB1dC5jaGFyQ29kZUF0KGkgLyAyKSA+PiA4O1xuICAgICAgICBjaHIyID0gaW5wdXQuY2hhckNvZGVBdChpIC8gMikgJiAyNTU7XG4gICAgICAgIGlmIChpIC8gMiArIDEgPCBpbnB1dC5sZW5ndGgpIGNocjMgPSBpbnB1dC5jaGFyQ29kZUF0KGkgLyAyICsgMSkgPj4gODtlbHNlIGNocjMgPSBOYU47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaHIxID0gaW5wdXQuY2hhckNvZGVBdCgoaSAtIDEpIC8gMikgJiAyNTU7XG5cbiAgICAgICAgaWYgKChpICsgMSkgLyAyIDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgY2hyMiA9IGlucHV0LmNoYXJDb2RlQXQoKGkgKyAxKSAvIDIpID4+IDg7XG4gICAgICAgICAgY2hyMyA9IGlucHV0LmNoYXJDb2RlQXQoKGkgKyAxKSAvIDIpICYgMjU1O1xuICAgICAgICB9IGVsc2UgY2hyMiA9IGNocjMgPSBOYU47XG4gICAgICB9XG5cbiAgICAgIGkgKz0gMztcbiAgICAgIGVuYzEgPSBjaHIxID4+IDI7XG4gICAgICBlbmMyID0gKGNocjEgJiAzKSA8PCA0IHwgY2hyMiA+PiA0O1xuICAgICAgZW5jMyA9IChjaHIyICYgMTUpIDw8IDIgfCBjaHIzID4+IDY7XG4gICAgICBlbmM0ID0gY2hyMyAmIDYzO1xuXG4gICAgICBpZiAoaXNOYU4oY2hyMikpIHtcbiAgICAgICAgZW5jMyA9IGVuYzQgPSA2NDtcbiAgICAgIH0gZWxzZSBpZiAoaXNOYU4oY2hyMykpIHtcbiAgICAgICAgZW5jNCA9IDY0O1xuICAgICAgfVxuXG4gICAgICBvdXRwdXQgPSBvdXRwdXQgKyBfa2V5U3RyLmNoYXJBdChlbmMxKSArIF9rZXlTdHIuY2hhckF0KGVuYzIpICsgX2tleVN0ci5jaGFyQXQoZW5jMykgKyBfa2V5U3RyLmNoYXJBdChlbmM0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9O1xuXG4gIHZhciBfZmlyZVJlcXVlc3QgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImZpcmVSZXF1ZXN0XCIpO1xuXG4gIHZhciBfZHJvcFJlcXVlc3REdWVUb09wdE91dCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZHJvcFJlcXVlc3REdWVUb09wdE91dFwiKTtcblxuICB2YXIgX2FkZFVzZUlQVG9SZXF1ZXN0ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJhZGRVc2VJUFRvUmVxdWVzdFwiKTtcblxuICB2YXIgX2FkZEFSUFRvUmVxdWVzdCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYWRkQVJQVG9SZXF1ZXN0XCIpO1xuXG4gIGNsYXNzIFJlcXVlc3REaXNwYXRjaGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMubmV0d29ya1JldHJ5Q291bnQgPSAwO1xuICAgICAgdGhpcy5taW5EZWxheUZyZXF1ZW5jeSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gICAgICogQHBhcmFtIHsqfSBza2lwQVJQXG4gICAgICogQHBhcmFtIHtib29sZWFufSBzZW5kT1VMRmxhZ1xuICAgICAqL1xuICAgIHN0YXRpYyBmaXJlUmVxdWVzdCh1cmwsIHNraXBBUlAsIHNlbmRPVUxGbGFnLCBldnROYW1lKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2ZpcmVSZXF1ZXN0KVtfZmlyZVJlcXVlc3RdKHVybCwgMSwgc2tpcEFSUCwgc2VuZE9VTEZsYWcsIGV2dE5hbWUpO1xuICAgIH1cblxuICAgIGdldERlbGF5RnJlcXVlbmN5KCkge1xuICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ05ldHdvcmsgcmV0cnkgIycgKyB0aGlzLm5ldHdvcmtSZXRyeUNvdW50KTsgLy8gUmV0cnkgd2l0aCBkZWxheSBhcyAxcyBmb3IgZmlyc3QgMTAgcmV0cmllc1xuXG4gICAgICBpZiAodGhpcy5uZXR3b3JrUmV0cnlDb3VudCA8IDEwKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMuYWNjb3VudC5pZCwgJ0ZhaWx1cmUgY291bnQgaXMgJyArIHRoaXMubmV0d29ya1JldHJ5Q291bnQgKyAnLiBTZXR0aW5nIGRlbGF5IGZyZXF1ZW5jeSB0byAxcycpO1xuICAgICAgICB0aGlzLm1pbkRlbGF5RnJlcXVlbmN5ID0gUFVTSF9ERUxBWV9NUzsgLy8gUmVzZXQgbWluaW11bSBkZWxheSB0byAxc1xuXG4gICAgICAgIHJldHVybiB0aGlzLm1pbkRlbGF5RnJlcXVlbmN5O1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5hY2NvdW50LnJlZ2lvbiA9PSBudWxsKSB7XG4gICAgICAgIC8vIFJldHJ5IHdpdGggZGVsYXkgYXMgMXMgaWYgcmVnaW9uIGlzIG51bGwgaW4gY2FzZSBvZiBldTFcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcodGhpcy5hY2NvdW50LmlkLCAnU2V0dGluZyBkZWxheSBmcmVxdWVuY3kgdG8gMXMnKTtcbiAgICAgICAgcmV0dXJuIFBVU0hfREVMQVlfTVM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZXRyeSB3aXRoIGRlbGF5IGFzIG1pbmltdW0gZGVsYXkgZnJlcXVlbmN5IGFuZCBhZGQgcmFuZG9tIG51bWJlciBvZiBzZWNvbmRzIHRvIHNjYXR0ZXIgdHJhZmZpY1xuICAgICAgICBjb25zdCByYW5kb21EZWxheSA9IChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCkgKyAxKSAqIDEwMDA7XG4gICAgICAgIHRoaXMubWluRGVsYXlGcmVxdWVuY3kgKz0gcmFuZG9tRGVsYXk7XG5cbiAgICAgICAgaWYgKHRoaXMubWluRGVsYXlGcmVxdWVuY3kgPCBNQVhfREVMQVlfRlJFUVVFTkNZKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcodGhpcy5hY2NvdW50LmlkLCAnU2V0dGluZyBkZWxheSBmcmVxdWVuY3kgdG8gJyArIHRoaXMubWluRGVsYXlGcmVxdWVuY3kpO1xuICAgICAgICAgIHJldHVybiB0aGlzLm1pbkRlbGF5RnJlcXVlbmN5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubWluRGVsYXlGcmVxdWVuY3kgPSBQVVNIX0RFTEFZX01TO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcodGhpcy5hY2NvdW50LmlkLCAnU2V0dGluZyBkZWxheSBmcmVxdWVuY3kgdG8gJyArIHRoaXMubWluRGVsYXlGcmVxdWVuY3kpO1xuICAgICAgICByZXR1cm4gdGhpcy5taW5EZWxheUZyZXF1ZW5jeTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuXG4gIHZhciBfYWRkQVJQVG9SZXF1ZXN0MiA9IGZ1bmN0aW9uIF9hZGRBUlBUb1JlcXVlc3QyKHVybCwgc2tpcFJlc0FSUCkge1xuICAgIGlmIChza2lwUmVzQVJQID09PSB0cnVlKSB7XG4gICAgICBjb25zdCBfYXJwID0ge307XG4gICAgICBfYXJwLnNraXBSZXNBUlAgPSB0cnVlO1xuICAgICAgcmV0dXJuIGFkZFRvVVJMKHVybCwgJ2FycCcsIGNvbXByZXNzRGF0YShKU09OLnN0cmluZ2lmeShfYXJwKSwgdGhpcy5sb2dnZXIpKTtcbiAgICB9XG5cbiAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkgJiYgdHlwZW9mIGxvY2FsU3RvcmFnZS5nZXRJdGVtKEFSUF9DT09LSUUpICE9PSAndW5kZWZpbmVkJyAmJiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShBUlBfQ09PS0lFKSAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGFkZFRvVVJMKHVybCwgJ2FycCcsIGNvbXByZXNzRGF0YShKU09OLnN0cmluZ2lmeShTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoQVJQX0NPT0tJRSkpLCB0aGlzLmxvZ2dlcikpO1xuICAgIH1cblxuICAgIHJldHVybiB1cmw7XG4gIH07XG5cbiAgdmFyIF9hZGRVc2VJUFRvUmVxdWVzdDIgPSBmdW5jdGlvbiBfYWRkVXNlSVBUb1JlcXVlc3QyKHBhZ2VMb2FkVXJsKSB7XG4gICAgdmFyIHVzZUlQID0gU3RvcmFnZU1hbmFnZXIuZ2V0TWV0YVByb3AoVVNFSVBfS0VZKTtcblxuICAgIGlmICh0eXBlb2YgdXNlSVAgIT09ICdib29sZWFuJykge1xuICAgICAgdXNlSVAgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWRkVG9VUkwocGFnZUxvYWRVcmwsIFVTRUlQX0tFWSwgdXNlSVAgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgfTtcblxuICB2YXIgX2Ryb3BSZXF1ZXN0RHVlVG9PcHRPdXQyID0gZnVuY3Rpb24gX2Ryb3BSZXF1ZXN0RHVlVG9PcHRPdXQyKCkge1xuICAgIGlmICgkY3QuaXNPcHRJblJlcXVlc3QgfHwgIWlzVmFsdWVWYWxpZCh0aGlzLmRldmljZS5nY29va2llKSB8fCAhaXNTdHJpbmcodGhpcy5kZXZpY2UuZ2Nvb2tpZSkpIHtcbiAgICAgICRjdC5pc09wdEluUmVxdWVzdCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmRldmljZS5nY29va2llLnNsaWNlKC0zKSA9PT0gT1BUT1VUX0NPT0tJRV9FTkRTV0lUSDtcbiAgfTtcblxuICB2YXIgX2ZpcmVSZXF1ZXN0MiA9IGZ1bmN0aW9uIF9maXJlUmVxdWVzdDIodXJsLCB0cmllcywgc2tpcEFSUCwgc2VuZE9VTEZsYWcsIGV2dE5hbWUpIHtcbiAgICB2YXIgX3dpbmRvdyRjbGV2ZXJ0YXAsIF93aW5kb3ckd2l6cm9ja2V0O1xuXG4gICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZHJvcFJlcXVlc3REdWVUb09wdE91dClbX2Ryb3BSZXF1ZXN0RHVlVG9PcHRPdXRdKCkpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdyZXEgZHJvcHBlZCBkdWUgdG8gb3B0b3V0IGNvb2tpZTogJyArIHRoaXMuZGV2aWNlLmdjb29raWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gc2V0IGEgcmVxdWVzdCBpbiBwcm9ncmVzc1xuICAgIC8vIHNvIHRoYXQgaWYgZ2Nvb2tpZSBpcyBub3QgcHJlc2VudCwgbm8gb3RoZXIgcmVxdWVzdCBjYW4gYmUgbWFkZSBhc3luY2hyb251c2x5XG5cblxuICAgIGlmICghaXNWYWx1ZVZhbGlkKHRoaXMuZGV2aWNlLmdjb29raWUpKSB7XG4gICAgICAkY3QuYmxvY2tSZXF1ZXN0ID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogaWYgdGhlIGdjb29raWUgaXMgbnVsbFxuICAgICAqIGFuZCB0aGUgcmVxdWVzdCBpcyBub3QgdGhlIGZpcnN0IHJlcXVlc3RcbiAgICAgKiBhbmQgdGhlIHRyaWVzIGFyZSBsZXNzIHRoYW4gbWF4IHRyaWVzXG4gICAgICoga2VlcCByZXRyeWluZ1xuICAgICAqL1xuXG5cbiAgICBpZiAoZXZ0TmFtZSAmJiBldnROYW1lID09PSBXWlJLX0ZFVENIKSB7XG4gICAgICAvLyBOZXcgcmV0cnkgbWVjaGFuaXNtXG4gICAgICBpZiAoIWlzVmFsdWVWYWxpZCh0aGlzLmRldmljZS5nY29va2llKSAmJiAkY3QuZ2xvYmFsQ2FjaGUuUkVTUF9OIDwgJGN0Lmdsb2JhbENhY2hlLlJFUV9OIC0gMSkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhcInJldHJ5aW5nIGZpcmUgcmVxdWVzdCBmb3IgdXJsOiBcIi5jb25jYXQodXJsLCBcIiwgdHJpZXM6IFwiKS5jb25jYXQodGhpcy5uZXR3b3JrUmV0cnlDb3VudCkpO1xuXG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9maXJlUmVxdWVzdClbX2ZpcmVSZXF1ZXN0XSh1cmwsIHVuZGVmaW5lZCwgc2tpcEFSUCwgc2VuZE9VTEZsYWcpO1xuICAgICAgICB9LCB0aGlzLmdldERlbGF5RnJlcXVlbmN5KCkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWlzVmFsdWVWYWxpZCh0aGlzLmRldmljZS5nY29va2llKSAmJiAkY3QuZ2xvYmFsQ2FjaGUuUkVTUF9OIDwgJGN0Lmdsb2JhbENhY2hlLlJFUV9OIC0gMSAmJiB0cmllcyA8IE1BWF9UUklFUykge1xuICAgICAgICAvLyBpZiBvbmdvaW5nIEZpcnN0IFJlcXVlc3QgaXMgaW4gcHJvZ3Jlc3MsIGluaXRpYXRlIHJldHJ5XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKFwicmV0cnlpbmcgZmlyZSByZXF1ZXN0IGZvciB1cmw6IFwiLmNvbmNhdCh1cmwsIFwiLCB0cmllczogXCIpLmNvbmNhdCh0cmllcykpO1xuXG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9maXJlUmVxdWVzdClbX2ZpcmVSZXF1ZXN0XSh1cmwsIHRyaWVzICsgMSwgc2tpcEFSUCwgc2VuZE9VTEZsYWcpO1xuICAgICAgICB9LCA1MCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IC8vIHNldCBpc09VTEluUHJvZ3Jlc3MgdG8gdHJ1ZVxuICAgIC8vIHdoZW4gc2VuZE9VTEZsYWcgaXMgc2V0IHRvIHRydWVcblxuXG4gICAgaWYgKCFzZW5kT1VMRmxhZykge1xuICAgICAgaWYgKGlzVmFsdWVWYWxpZCh0aGlzLmRldmljZS5nY29va2llKSkge1xuICAgICAgICAvLyBhZGQgZ2Nvb2tpZSB0byB1cmxcbiAgICAgICAgdXJsID0gYWRkVG9VUkwodXJsLCAnZ2MnLCB0aGlzLmRldmljZS5nY29va2llKTtcbiAgICAgIH1cblxuICAgICAgdXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hZGRBUlBUb1JlcXVlc3QpW19hZGRBUlBUb1JlcXVlc3RdKHVybCwgc2tpcEFSUCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5pc09VTEluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgIH1cblxuICAgIHVybCA9IGFkZFRvVVJMKHVybCwgJ3RyaWVzJywgdHJpZXMpOyAvLyBBZGQgdHJpZXMgdG8gVVJMXG5cbiAgICB1cmwgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FkZFVzZUlQVG9SZXF1ZXN0KVtfYWRkVXNlSVBUb1JlcXVlc3RdKHVybCk7XG4gICAgdXJsID0gYWRkVG9VUkwodXJsLCAncicsIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTsgLy8gYWRkIGVwb2NoIHRvIGJlYXQgY2FjaGluZyBvZiB0aGUgVVJMXG4gICAgLy8gVE9ETzogRmlndXJlIG91dCBhIGJldHRlciB3YXkgdG8gaGFuZGxlIHBsdWdpbiBjaGVja1xuXG4gICAgaWYgKCgoX3dpbmRvdyRjbGV2ZXJ0YXAgPSB3aW5kb3cuY2xldmVydGFwKSA9PT0gbnVsbCB8fCBfd2luZG93JGNsZXZlcnRhcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3dpbmRvdyRjbGV2ZXJ0YXAuaGFzT3duUHJvcGVydHkoJ3BsdWdpbicpKSB8fCAoKF93aW5kb3ckd2l6cm9ja2V0ID0gd2luZG93LndpenJvY2tldCkgPT09IG51bGwgfHwgX3dpbmRvdyR3aXpyb2NrZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF93aW5kb3ckd2l6cm9ja2V0Lmhhc093blByb3BlcnR5KCdwbHVnaW4nKSkpIHtcbiAgICAgIC8vIHVzZWQgdG8gYWRkIHBsdWdpbiBuYW1lIGluIHJlcXVlc3QgcGFyYW1ldGVyXG4gICAgICBjb25zdCBwbHVnaW4gPSB3aW5kb3cuY2xldmVydGFwLnBsdWdpbiB8fCB3aW5kb3cud2l6cm9ja2V0LnBsdWdpbjtcbiAgICAgIHVybCA9IGFkZFRvVVJMKHVybCwgJ2N0X3BsJywgcGx1Z2luKTtcbiAgICB9XG5cbiAgICBpZiAodXJsLmluZGV4T2YoJ2Nocm9tZS1leHRlbnNpb246JykgIT09IC0xKSB7XG4gICAgICB1cmwgPSB1cmwucmVwbGFjZSgnY2hyb21lLWV4dGVuc2lvbjonLCAnaHR0cHM6Jyk7XG4gICAgfSAvLyBUT0RPOiBUcnkgdXNpbmcgRnVuY3Rpb24gY29uc3RydWN0b3IgaW5zdGVhZCBvZiBhcHBlbmRpbmcgc2NyaXB0LlxuXG5cbiAgICB2YXIgY3RDYlNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjdC1qcC1jYicpO1xuXG4gICAgd2hpbGUgKGN0Q2JTY3JpcHRzWzBdICYmIGN0Q2JTY3JpcHRzWzBdLnBhcmVudE5vZGUpIHtcbiAgICAgIGN0Q2JTY3JpcHRzWzBdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY3RDYlNjcmlwdHNbMF0pO1xuICAgIH1cblxuICAgIGNvbnN0IHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBzLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2phdmFzY3JpcHQnKTtcbiAgICBzLnNldEF0dHJpYnV0ZSgnc3JjJywgdXJsKTtcbiAgICBzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY3QtanAtY2InKTtcbiAgICBzLnNldEF0dHJpYnV0ZSgncmVsJywgJ25vZm9sbG93Jyk7XG4gICAgcy5hc3luYyA9IHRydWU7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChzKTtcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZygncmVxIHNudCAtPiB1cmw6ICcgKyB1cmwpO1xuICB9O1xuXG4gIFJlcXVlc3REaXNwYXRjaGVyLmxvZ2dlciA9IHZvaWQgMDtcbiAgUmVxdWVzdERpc3BhdGNoZXIuZGV2aWNlID0gdm9pZCAwO1xuICBSZXF1ZXN0RGlzcGF0Y2hlci5hY2NvdW50ID0gdm9pZCAwO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVxdWVzdERpc3BhdGNoZXIsIF9maXJlUmVxdWVzdCwge1xuICAgIHZhbHVlOiBfZmlyZVJlcXVlc3QyXG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVxdWVzdERpc3BhdGNoZXIsIF9kcm9wUmVxdWVzdER1ZVRvT3B0T3V0LCB7XG4gICAgdmFsdWU6IF9kcm9wUmVxdWVzdER1ZVRvT3B0T3V0MlxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlcXVlc3REaXNwYXRjaGVyLCBfYWRkVXNlSVBUb1JlcXVlc3QsIHtcbiAgICB2YWx1ZTogX2FkZFVzZUlQVG9SZXF1ZXN0MlxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlcXVlc3REaXNwYXRjaGVyLCBfYWRkQVJQVG9SZXF1ZXN0LCB7XG4gICAgdmFsdWU6IF9hZGRBUlBUb1JlcXVlc3QyXG4gIH0pO1xuXG4gIC8vIENsZXZlclRhcCBzcGVjaWZpYyB1dGlsaXRpZXNcbiAgY29uc3QgZ2V0Q2FtcGFpZ25PYmplY3QgPSAoKSA9PiB7XG4gICAgbGV0IGZpbmFsY2FtcE9iaiA9IHt9O1xuXG4gICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICBsZXQgY2FtcE9iaiA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWQoQ0FNUF9DT09LSUVfTkFNRSk7XG5cbiAgICAgIGlmIChjYW1wT2JqICE9IG51bGwpIHtcbiAgICAgICAgY2FtcE9iaiA9IEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KGNhbXBPYmopLnJlcGxhY2Uoc2luZ2xlUXVvdGVSZWdleCwgJ1xcXCInKSk7XG5cbiAgICAgICAgaWYgKGNhbXBPYmouaGFzT3duUHJvcGVydHkoJ2dsb2JhbCcpKSB7XG4gICAgICAgICAgZmluYWxjYW1wT2JqLndwID0gY2FtcE9iajtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmaW5hbGNhbXBPYmogPSBjYW1wT2JqO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaW5hbGNhbXBPYmogPSB7fTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmluYWxjYW1wT2JqO1xuICB9O1xuICBjb25zdCBzYXZlQ2FtcGFpZ25PYmplY3QgPSBjYW1wYWlnbk9iaiA9PiB7XG4gICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICBjb25zdCBuZXdPYmogPSB7IC4uLmdldENhbXBhaWduT2JqZWN0KCksXG4gICAgICAgIC4uLmNhbXBhaWduT2JqXG4gICAgICB9O1xuICAgICAgY29uc3QgY2FtcE9iaiA9IEpTT04uc3RyaW5naWZ5KG5ld09iaik7XG4gICAgICBTdG9yYWdlTWFuYWdlci5zYXZlKENBTVBfQ09PS0lFX05BTUUsIGVuY29kZVVSSUNvbXBvbmVudChjYW1wT2JqKSk7IC8vIFVwZGF0ZSB0aGUgQ0FNUF9DT09LSUVfRyB0byBiZSBpbiBzeW5jIHdpdGggQ0FNUF9DT09LSUVfTkFNRVxuXG4gICAgICBzZXRDYW1wYWlnbk9iamVjdEZvckd1aWQoKTtcbiAgICB9XG4gIH07IC8vIHNldCBDYW1wYWlnbiBPYmplY3QgYWdhaW5zdCB0aGUgZ3VpZCwgd2l0aCBkYWlseSBjb3VudCBhbmQgdG90YWwgY291bnQgZGV0YWlsc1xuXG4gIGNvbnN0IHNldENhbXBhaWduT2JqZWN0Rm9yR3VpZCA9ICgpID0+IHtcbiAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgIGxldCBndWlkID0gU3RvcmFnZU1hbmFnZXIucmVhZChHQ09PS0lFX05BTUUpO1xuXG4gICAgICBpZiAoaXNWYWx1ZVZhbGlkKGd1aWQpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZ3VpZCA9IEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KFN0b3JhZ2VNYW5hZ2VyLnJlYWQoR0NPT0tJRV9OQU1FKSkpO1xuICAgICAgICAgIGNvbnN0IGd1aWRDYW1wT2JqID0gU3RvcmFnZU1hbmFnZXIucmVhZChDQU1QX0NPT0tJRV9HKSA/IEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KFN0b3JhZ2VNYW5hZ2VyLnJlYWQoQ0FNUF9DT09LSUVfRykpKSA6IHt9O1xuXG4gICAgICAgICAgaWYgKGd1aWQgJiYgU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHZhciBmaW5hbENhbXBPYmogPSB7fTtcbiAgICAgICAgICAgIHZhciBjYW1wT2JqID0gZ2V0Q2FtcGFpZ25PYmplY3QoKTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGNhbXBPYmopLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgY2FtcEtleU9iaiA9IGd1aWQgaW4gZ3VpZENhbXBPYmogJiYgT2JqZWN0LmtleXMoZ3VpZENhbXBPYmpbZ3VpZF0pLmxlbmd0aCAmJiBndWlkQ2FtcE9ialtndWlkXVtrZXldID8gZ3VpZENhbXBPYmpbZ3VpZF1ba2V5XSA6IHt9O1xuICAgICAgICAgICAgICBjb25zdCBnbG9iYWxPYmogPSBjYW1wT2JqW2tleV0uZ2xvYmFsO1xuICAgICAgICAgICAgICBjb25zdCB0b2RheSA9IGdldFRvZGF5KCk7XG4gICAgICAgICAgICAgIGNvbnN0IGRhaWx5T2JqID0gY2FtcE9ialtrZXldW3RvZGF5XTtcblxuICAgICAgICAgICAgICBpZiAodHlwZW9mIGdsb2JhbE9iaiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYW1wYWlnbklkQXJyYXkgPSBPYmplY3Qua2V5cyhnbG9iYWxPYmopO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbmRleCBpbiBjYW1wYWlnbklkQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgIGxldCByZXN1bHRPYmogPSBbXTtcblxuICAgICAgICAgICAgICAgICAgaWYgKGNhbXBhaWduSWRBcnJheS5oYXNPd25Qcm9wZXJ0eShpbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhaWx5QyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbEMgPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW1wYWlnbklkID0gY2FtcGFpZ25JZEFycmF5W2luZGV4XTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FtcGFpZ25JZCA9PT0gJ3RjJykge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYWlseU9iaiAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRhaWx5T2JqW2NhbXBhaWduSWRdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgIGRhaWx5QyA9IGRhaWx5T2JqW2NhbXBhaWduSWRdO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBnbG9iYWxPYmogIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBnbG9iYWxPYmpbY2FtcGFpZ25JZF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdG90YWxDID0gZ2xvYmFsT2JqW2NhbXBhaWduSWRdO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0T2JqID0gW2NhbXBhaWduSWQsIGRhaWx5QywgdG90YWxDXTtcbiAgICAgICAgICAgICAgICAgICAgY2FtcEtleU9ialtjYW1wYWlnbklkXSA9IHJlc3VsdE9iajtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBmaW5hbENhbXBPYmogPSB7IC4uLmZpbmFsQ2FtcE9iaixcbiAgICAgICAgICAgICAgICBba2V5XTogY2FtcEtleU9ialxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBndWlkQ2FtcE9ialtndWlkXSA9IGZpbmFsQ2FtcE9iajtcbiAgICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmUoQ0FNUF9DT09LSUVfRywgZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGd1aWRDYW1wT2JqKSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgY2xldmVydGFwIElkICcgKyBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgZ2V0Q2FtcGFpZ25PYmpGb3JMYyA9ICgpID0+IHtcbiAgICAvLyBiZWZvcmUgcHJlcGFyaW5nIGRhdGEgdG8gc2VuZCB0byBMQyAsIGNoZWNrIGlmIHRoZSBlbnRyeSBmb3IgdGhlIGd1aWQgaXMgYWxyZWFkeSB0aGVyZSBpbiBDQU1QX0NPT0tJRV9HXG4gICAgY29uc3QgZ3VpZCA9IEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KFN0b3JhZ2VNYW5hZ2VyLnJlYWQoR0NPT0tJRV9OQU1FKSkpO1xuICAgIGxldCBjYW1wT2JqID0ge307XG5cbiAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgIGxldCByZXN1bHRPYmogPSB7fTtcbiAgICAgIGNhbXBPYmogPSBnZXRDYW1wYWlnbk9iamVjdCgpO1xuICAgICAgY29uc3Qgc3RvcmFnZVZhbHVlID0gU3RvcmFnZU1hbmFnZXIucmVhZChDQU1QX0NPT0tJRV9HKTtcbiAgICAgIGNvbnN0IGRlY29kZWRWYWx1ZSA9IHN0b3JhZ2VWYWx1ZSA/IGRlY29kZVVSSUNvbXBvbmVudChzdG9yYWdlVmFsdWUpIDogbnVsbDtcbiAgICAgIGNvbnN0IHBhcnNlZFZhbHVlID0gZGVjb2RlZFZhbHVlID8gSlNPTi5wYXJzZShkZWNvZGVkVmFsdWUpIDogbnVsbDtcbiAgICAgIGNvbnN0IHJlc3VsdE9ialdQID0gISFndWlkICYmIHN0b3JhZ2VWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIHN0b3JhZ2VWYWx1ZSAhPT0gbnVsbCAmJiBwYXJzZWRWYWx1ZSAmJiBwYXJzZWRWYWx1ZVtndWlkXSAmJiBwYXJzZWRWYWx1ZVtndWlkXS53cCA/IE9iamVjdC52YWx1ZXMocGFyc2VkVmFsdWVbZ3VpZF0ud3ApIDogW107XG4gICAgICBjb25zdCByZXN1bHRPYmpXSSA9ICEhZ3VpZCAmJiBzdG9yYWdlVmFsdWUgIT09IHVuZGVmaW5lZCAmJiBzdG9yYWdlVmFsdWUgIT09IG51bGwgJiYgcGFyc2VkVmFsdWUgJiYgcGFyc2VkVmFsdWVbZ3VpZF0gJiYgcGFyc2VkVmFsdWVbZ3VpZF0ud2kgPyBPYmplY3QudmFsdWVzKHBhcnNlZFZhbHVlW2d1aWRdLndpKSA6IFtdO1xuICAgICAgY29uc3QgdG9kYXkgPSBnZXRUb2RheSgpO1xuICAgICAgbGV0IHRvZGF5Q3dwID0gMDtcbiAgICAgIGxldCB0b2RheUN3aSA9IDA7XG5cbiAgICAgIGlmIChjYW1wT2JqLndwICYmIGNhbXBPYmoud3BbdG9kYXldICYmIGNhbXBPYmoud3BbdG9kYXldLnRjICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0b2RheUN3cCA9IGNhbXBPYmoud3BbdG9kYXldLnRjO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2FtcE9iai53aSAmJiBjYW1wT2JqLndpW3RvZGF5XSAmJiBjYW1wT2JqLndpW3RvZGF5XS50YyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdG9kYXlDd2kgPSBjYW1wT2JqLndpW3RvZGF5XS50YztcbiAgICAgIH1cblxuICAgICAgcmVzdWx0T2JqID0ge1xuICAgICAgICB3bXA6IHRvZGF5Q3dwLFxuICAgICAgICB3aW1wOiB0b2RheUN3aSxcbiAgICAgICAgdGxjOiByZXN1bHRPYmpXUCxcbiAgICAgICAgd2l0bGM6IHJlc3VsdE9ialdJXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHJlc3VsdE9iajtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGlzUHJvZmlsZVZhbGlkID0gKHByb2ZpbGVPYmosIF9yZWYpID0+IHtcbiAgICBsZXQge1xuICAgICAgbG9nZ2VyXG4gICAgfSA9IF9yZWY7XG4gICAgbGV0IHZhbGlkID0gZmFsc2U7XG5cbiAgICBpZiAoaXNPYmplY3QocHJvZmlsZU9iaikpIHtcbiAgICAgIGZvciAoY29uc3QgcHJvZmlsZUtleSBpbiBwcm9maWxlT2JqKSB7XG4gICAgICAgIGlmIChwcm9maWxlT2JqLmhhc093blByb3BlcnR5KHByb2ZpbGVLZXkpKSB7XG4gICAgICAgICAgdmFsaWQgPSB0cnVlO1xuICAgICAgICAgIGxldCBwcm9maWxlVmFsID0gcHJvZmlsZU9ialtwcm9maWxlS2V5XTtcblxuICAgICAgICAgIGlmIChwcm9maWxlVmFsID09IG51bGwpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBwcm9maWxlT2JqW3Byb2ZpbGVLZXldO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHByb2ZpbGVLZXkgPT09ICdHZW5kZXInICYmICFwcm9maWxlVmFsLm1hdGNoKC9eTSR8XkYkLykpIHtcbiAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoR0VOREVSX0VSUk9SKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocHJvZmlsZUtleSA9PT0gJ0VtcGxveWVkJyAmJiAhcHJvZmlsZVZhbC5tYXRjaCgvXlkkfF5OJC8pKSB7XG4gICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKEVNUExPWUVEX0VSUk9SKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocHJvZmlsZUtleSA9PT0gJ01hcnJpZWQnICYmICFwcm9maWxlVmFsLm1hdGNoKC9eWSR8Xk4kLykpIHtcbiAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoTUFSUklFRF9FUlJPUik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHByb2ZpbGVLZXkgPT09ICdFZHVjYXRpb24nICYmICFwcm9maWxlVmFsLm1hdGNoKC9eU2Nob29sJHxeQ29sbGVnZSR8XkdyYWR1YXRlJC8pKSB7XG4gICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKEVEVUNBVElPTl9FUlJPUik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHByb2ZpbGVLZXkgPT09ICdBZ2UnICYmIHByb2ZpbGVWYWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGlzQ29udmVydGlibGVUb051bWJlcihwcm9maWxlVmFsKSkge1xuICAgICAgICAgICAgICBwcm9maWxlT2JqLkFnZSA9ICtwcm9maWxlVmFsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKEFHRV9FUlJPUik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBkb2Igd2lsbCBjb21lIGluIGxpa2UgdGhpcyAtICRkdF8xOTQ3MDgxNSBvciBkYXRlT2JqZWN0XG5cblxuICAgICAgICAgIGlmIChwcm9maWxlS2V5ID09PSAnRE9CJykge1xuICAgICAgICAgICAgaWYgKCghL15cXCREXy8udGVzdChwcm9maWxlVmFsKSB8fCAocHJvZmlsZVZhbCArICcnKS5sZW5ndGggIT09IDExKSAmJiAhaXNEYXRlT2JqZWN0KHByb2ZpbGVWYWwpKSB7XG4gICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihET0JfRVJST1IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNEYXRlT2JqZWN0KHByb2ZpbGVWYWwpKSB7XG4gICAgICAgICAgICAgIHByb2ZpbGVPYmpbcHJvZmlsZUtleV0gPSBjb252ZXJ0VG9XWlJLRGF0ZShwcm9maWxlVmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGlzRGF0ZU9iamVjdChwcm9maWxlVmFsKSkge1xuICAgICAgICAgICAgcHJvZmlsZU9ialtwcm9maWxlS2V5XSA9IGNvbnZlcnRUb1daUktEYXRlKHByb2ZpbGVWYWwpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwcm9maWxlS2V5ID09PSAnUGhvbmUnICYmICFpc09iamVjdEVtcHR5KHByb2ZpbGVWYWwpKSB7XG4gICAgICAgICAgICBpZiAocHJvZmlsZVZhbC5sZW5ndGggPiA4ICYmIHByb2ZpbGVWYWwuY2hhckF0KDApID09PSAnKycpIHtcbiAgICAgICAgICAgICAgLy8gdmFsaWQgcGhvbmUgbnVtYmVyXG4gICAgICAgICAgICAgIHByb2ZpbGVWYWwgPSBwcm9maWxlVmFsLnN1YnN0cmluZygxLCBwcm9maWxlVmFsLmxlbmd0aCk7XG5cbiAgICAgICAgICAgICAgaWYgKGlzQ29udmVydGlibGVUb051bWJlcihwcm9maWxlVmFsKSkge1xuICAgICAgICAgICAgICAgIHByb2ZpbGVPYmouUGhvbmUgPSArcHJvZmlsZVZhbDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihQSE9ORV9GT1JNQVRfRVJST1IgKyAnLiBSZW1vdmVkLicpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoUEhPTkVfRk9STUFUX0VSUk9SICsgJy4gUmVtb3ZlZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXZhbGlkKSB7XG4gICAgICAgICAgICBkZWxldGUgcHJvZmlsZU9ialtwcm9maWxlS2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdmFsaWQ7XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NGQlVzZXJPYmogPSB1c2VyID0+IHtcbiAgICBjb25zdCBwcm9maWxlRGF0YSA9IHt9O1xuICAgIHByb2ZpbGVEYXRhLk5hbWUgPSB1c2VyLm5hbWU7XG5cbiAgICBpZiAodXNlci5pZCAhPSBudWxsKSB7XG4gICAgICBwcm9maWxlRGF0YS5GQklEID0gdXNlci5pZCArICcnO1xuICAgIH0gLy8gRmViIDIwMTQgLSBGQiBhbm5vdW5jZWQgb3ZlciA1OCBnZW5kZXIgb3B0aW9ucywgaGVuY2Ugd2Ugc3BlY2lmaWNhbGx5IGxvb2sgZm9yIG1hbGUgb3IgZmVtYWxlLiBSZXN0IHdlIGRvbid0IGNhcmUuXG5cblxuICAgIGlmICh1c2VyLmdlbmRlciA9PT0gJ21hbGUnKSB7XG4gICAgICBwcm9maWxlRGF0YS5HZW5kZXIgPSAnTSc7XG4gICAgfSBlbHNlIGlmICh1c2VyLmdlbmRlciA9PT0gJ2ZlbWFsZScpIHtcbiAgICAgIHByb2ZpbGVEYXRhLkdlbmRlciA9ICdGJztcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvZmlsZURhdGEuR2VuZGVyID0gJ08nO1xuICAgIH1cblxuICAgIGNvbnN0IGdldEhpZ2hlc3RFZHVjYXRpb24gPSBmdW5jdGlvbiAoZWR1QXJyKSB7XG4gICAgICBpZiAoZWR1QXJyICE9IG51bGwpIHtcbiAgICAgICAgbGV0IGNvbGxlZ2UgPSAnJztcbiAgICAgICAgbGV0IGhpZ2hzY2hvb2wgPSAnJztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVkdUFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGVkdSA9IGVkdUFycltpXTtcblxuICAgICAgICAgIGlmIChlZHUudHlwZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gZWR1LnR5cGU7XG5cbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnR3JhZHVhdGUgU2Nob29sJykge1xuICAgICAgICAgICAgICByZXR1cm4gJ0dyYWR1YXRlJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0NvbGxlZ2UnKSB7XG4gICAgICAgICAgICAgIGNvbGxlZ2UgPSAnMSc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdIaWdoIFNjaG9vbCcpIHtcbiAgICAgICAgICAgICAgaGlnaHNjaG9vbCA9ICcxJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29sbGVnZSA9PT0gJzEnKSB7XG4gICAgICAgICAgcmV0dXJuICdDb2xsZWdlJztcbiAgICAgICAgfSBlbHNlIGlmIChoaWdoc2Nob29sID09PSAnMScpIHtcbiAgICAgICAgICByZXR1cm4gJ1NjaG9vbCc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHVzZXIucmVsYXRpb25zaGlwX3N0YXR1cyAhPSBudWxsKSB7XG4gICAgICBwcm9maWxlRGF0YS5NYXJyaWVkID0gJ04nO1xuXG4gICAgICBpZiAodXNlci5yZWxhdGlvbnNoaXBfc3RhdHVzID09PSAnTWFycmllZCcpIHtcbiAgICAgICAgcHJvZmlsZURhdGEuTWFycmllZCA9ICdZJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBlZHUgPSBnZXRIaWdoZXN0RWR1Y2F0aW9uKHVzZXIuZWR1Y2F0aW9uKTtcblxuICAgIGlmIChlZHUgIT0gbnVsbCkge1xuICAgICAgcHJvZmlsZURhdGEuRWR1Y2F0aW9uID0gZWR1O1xuICAgIH1cblxuICAgIGNvbnN0IHdvcmsgPSB1c2VyLndvcmsgIT0gbnVsbCA/IHVzZXIud29yay5sZW5ndGggOiAwO1xuXG4gICAgaWYgKHdvcmsgPiAwKSB7XG4gICAgICBwcm9maWxlRGF0YS5FbXBsb3llZCA9ICdZJztcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvZmlsZURhdGEuRW1wbG95ZWQgPSAnTic7XG4gICAgfVxuXG4gICAgaWYgKHVzZXIuZW1haWwgIT0gbnVsbCkge1xuICAgICAgcHJvZmlsZURhdGEuRW1haWwgPSB1c2VyLmVtYWlsO1xuICAgIH1cblxuICAgIGlmICh1c2VyLmJpcnRoZGF5ICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IG1tZGR5eSA9IHVzZXIuYmlydGhkYXkuc3BsaXQoJy8nKTsgLy8gY29tZXMgaW4gYXMgXCIwOC8xNS8xOTQ3XCJcblxuICAgICAgcHJvZmlsZURhdGEuRE9CID0gc2V0RGF0ZShtbWRkeXlbMl0gKyBtbWRkeXlbMF0gKyBtbWRkeXlbMV0pO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9maWxlRGF0YTtcbiAgfTtcbiAgY29uc3QgcHJvY2Vzc0dQbHVzVXNlck9iaiA9ICh1c2VyLCBfcmVmMikgPT4ge1xuICAgIGxldCB7XG4gICAgICBsb2dnZXJcbiAgICB9ID0gX3JlZjI7XG4gICAgY29uc3QgcHJvZmlsZURhdGEgPSB7fTtcblxuICAgIGlmICh1c2VyLmRpc3BsYXlOYW1lICE9IG51bGwpIHtcbiAgICAgIHByb2ZpbGVEYXRhLk5hbWUgPSB1c2VyLmRpc3BsYXlOYW1lO1xuICAgIH1cblxuICAgIGlmICh1c2VyLmlkICE9IG51bGwpIHtcbiAgICAgIHByb2ZpbGVEYXRhLkdQSUQgPSB1c2VyLmlkICsgJyc7XG4gICAgfVxuXG4gICAgaWYgKHVzZXIuZ2VuZGVyICE9IG51bGwpIHtcbiAgICAgIGlmICh1c2VyLmdlbmRlciA9PT0gJ21hbGUnKSB7XG4gICAgICAgIHByb2ZpbGVEYXRhLkdlbmRlciA9ICdNJztcbiAgICAgIH0gZWxzZSBpZiAodXNlci5nZW5kZXIgPT09ICdmZW1hbGUnKSB7XG4gICAgICAgIHByb2ZpbGVEYXRhLkdlbmRlciA9ICdGJztcbiAgICAgIH0gZWxzZSBpZiAodXNlci5nZW5kZXIgPT09ICdvdGhlcicpIHtcbiAgICAgICAgcHJvZmlsZURhdGEuR2VuZGVyID0gJ08nO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1c2VyLmltYWdlICE9IG51bGwpIHtcbiAgICAgIGlmICh1c2VyLmltYWdlLmlzRGVmYXVsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcHJvZmlsZURhdGEuUGhvdG8gPSB1c2VyLmltYWdlLnVybC5zcGxpdCgnP3N6JylbMF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHVzZXIuZW1haWxzICE9IG51bGwpIHtcbiAgICAgIGZvciAobGV0IGVtYWlsSWR4ID0gMDsgZW1haWxJZHggPCB1c2VyLmVtYWlscy5sZW5ndGg7IGVtYWlsSWR4KyspIHtcbiAgICAgICAgY29uc3QgZW1haWxPYmogPSB1c2VyLmVtYWlsc1tlbWFpbElkeF07XG5cbiAgICAgICAgaWYgKGVtYWlsT2JqLnR5cGUgPT09ICdhY2NvdW50Jykge1xuICAgICAgICAgIHByb2ZpbGVEYXRhLkVtYWlsID0gZW1haWxPYmoudmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXNlci5vcmdhbml6YXRpb25zICE9IG51bGwpIHtcbiAgICAgIHByb2ZpbGVEYXRhLkVtcGxveWVkID0gJ04nO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVzZXIub3JnYW5pemF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBvcmdPYmogPSB1c2VyLm9yZ2FuaXphdGlvbnNbaV07XG5cbiAgICAgICAgaWYgKG9yZ09iai50eXBlID09PSAnd29yaycpIHtcbiAgICAgICAgICBwcm9maWxlRGF0YS5FbXBsb3llZCA9ICdZJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1c2VyLmJpcnRoZGF5ICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IHl5eXltbWRkID0gdXNlci5iaXJ0aGRheS5zcGxpdCgnLScpOyAvLyBjb21lcyBpbiBhcyBcIjE5NzYtMDctMjdcIlxuXG4gICAgICBwcm9maWxlRGF0YS5ET0IgPSBzZXREYXRlKHl5eXltbWRkWzBdICsgeXl5eW1tZGRbMV0gKyB5eXl5bW1kZFsyXSk7XG4gICAgfVxuXG4gICAgaWYgKHVzZXIucmVsYXRpb25zaGlwU3RhdHVzICE9IG51bGwpIHtcbiAgICAgIHByb2ZpbGVEYXRhLk1hcnJpZWQgPSAnTic7XG5cbiAgICAgIGlmICh1c2VyLnJlbGF0aW9uc2hpcFN0YXR1cyA9PT0gJ21hcnJpZWQnKSB7XG4gICAgICAgIHByb2ZpbGVEYXRhLk1hcnJpZWQgPSAnWSc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbG9nZ2VyLmRlYnVnKCdncGx1cyB1c3IgcHJvZmlsZSAnICsgSlNPTi5zdHJpbmdpZnkocHJvZmlsZURhdGEpKTtcbiAgICByZXR1cm4gcHJvZmlsZURhdGE7XG4gIH07XG4gIGNvbnN0IGFkZFRvTG9jYWxQcm9maWxlTWFwID0gKHByb2ZpbGVPYmosIG92ZXJyaWRlKSA9PiB7XG4gICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICBpZiAoJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPT0gbnVsbCkge1xuICAgICAgICAkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShQUl9DT09LSUUpO1xuXG4gICAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9PSBudWxsKSB7XG4gICAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPSB7fTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBNb3ZlIHByb3BzIGZyb20gY3VzdG9tIGJ1Y2tldCB0byBvdXRzaWRlLlxuXG5cbiAgICAgIGlmIChwcm9maWxlT2JqLl9jdXN0b20gIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBrZXlzID0gcHJvZmlsZU9iai5fY3VzdG9tO1xuXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGtleXMpIHtcbiAgICAgICAgICBpZiAoa2V5cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICBwcm9maWxlT2JqW2tleV0gPSBrZXlzW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHByb2ZpbGVPYmouX2N1c3RvbTtcbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBwcm9wIGluIHByb2ZpbGVPYmopIHtcbiAgICAgICAgaWYgKHByb2ZpbGVPYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICBpZiAoJGN0Lmdsb2JhbFByb2ZpbGVNYXAuaGFzT3duUHJvcGVydHkocHJvcCkgJiYgIW92ZXJyaWRlKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAkY3QuZ2xvYmFsUHJvZmlsZU1hcFtwcm9wXSA9IHByb2ZpbGVPYmpbcHJvcF07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwLl9jdXN0b20gIT0gbnVsbCkge1xuICAgICAgICBkZWxldGUgJGN0Lmdsb2JhbFByb2ZpbGVNYXAuX2N1c3RvbTtcbiAgICAgIH1cblxuICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShQUl9DT09LSUUsICRjdC5nbG9iYWxQcm9maWxlTWFwKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNsb3NlSWZyYW1lID0gKGNhbXBhaWduSWQsIGRpdklkSWdub3JlZCwgY3VycmVudFNlc3Npb25JZCkgPT4ge1xuICAgIGlmIChjYW1wYWlnbklkICE9IG51bGwgJiYgY2FtcGFpZ25JZCAhPT0gJy0xJykge1xuICAgICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAgIGNvbnN0IGNhbXBhaWduT2JqID0gZ2V0Q2FtcGFpZ25PYmplY3QoKTtcbiAgICAgICAgbGV0IHNlc3Npb25DYW1wYWlnbk9iaiA9IGNhbXBhaWduT2JqLndwW2N1cnJlbnRTZXNzaW9uSWRdO1xuXG4gICAgICAgIGlmIChzZXNzaW9uQ2FtcGFpZ25PYmogPT0gbnVsbCkge1xuICAgICAgICAgIHNlc3Npb25DYW1wYWlnbk9iaiA9IHt9O1xuICAgICAgICAgIGNhbXBhaWduT2JqW2N1cnJlbnRTZXNzaW9uSWRdID0gc2Vzc2lvbkNhbXBhaWduT2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgc2Vzc2lvbkNhbXBhaWduT2JqW2NhbXBhaWduSWRdID0gJ2RuZCc7XG4gICAgICAgIHNhdmVDYW1wYWlnbk9iamVjdChjYW1wYWlnbk9iaik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCRjdC5jYW1wYWlnbkRpdk1hcCAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkaXZJZCA9ICRjdC5jYW1wYWlnbkRpdk1hcFtjYW1wYWlnbklkXTtcblxuICAgICAgaWYgKGRpdklkICE9IG51bGwpIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2SWQpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgaWYgKGRpdklkID09PSAnaW50ZW50UHJldmlldycpIHtcbiAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludGVudE9wYWNpdHlEaXYnKSAhPSBudWxsKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW50ZW50T3BhY2l0eURpdicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBhcnAgPSBqc29uTWFwID0+IHtcbiAgICAvLyBGb3IgdW5yZWdpc3RlciBjYWxscyBkb250IHNldCBhcnAgaW4gTFNcbiAgICBpZiAoanNvbk1hcC5za2lwUmVzQVJQICE9IG51bGwgJiYganNvbk1hcC5za2lwUmVzQVJQKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdVcGRhdGUgQVJQIFJlcXVlc3QgcmVqZWN0ZWQnLCBqc29uTWFwKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGlzT1VMQVJQID0ganNvbk1hcFtJU19PVUxdID09PSB0cnVlO1xuXG4gICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAvLyBVcGRhdGUgYXJwIG9ubHkgaWYgaXQgaXMgbnVsbCBvciBhbiBvdWwgcmVxdWVzdFxuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IGFycEZyb21TdG9yYWdlID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKEFSUF9DT09LSUUpO1xuXG4gICAgICAgIGlmIChhcnBGcm9tU3RvcmFnZSA9PSBudWxsIHx8IGlzT1VMQVJQKSB7XG4gICAgICAgICAgYXJwRnJvbVN0b3JhZ2UgPSB7fTtcblxuICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGpzb25NYXApIHtcbiAgICAgICAgICAgIGlmIChqc29uTWFwLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgaWYgKGpzb25NYXBba2V5XSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgYXJwRnJvbVN0b3JhZ2Vba2V5XTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhcnBGcm9tU3RvcmFnZVtrZXldID0ganNvbk1hcFtrZXldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShBUlBfQ09PS0lFLCBhcnBGcm9tU3RvcmFnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIHBhcnNlIEFSUCBKU09OOiAnICsgZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBzZXRFbnVtID0gKGVudW1WYWwsIGxvZ2dlcikgPT4ge1xuICAgIGlmIChpc1N0cmluZyhlbnVtVmFsKSB8fCBpc051bWJlcihlbnVtVmFsKSkge1xuICAgICAgcmV0dXJuICckRV8nICsgZW51bVZhbDtcbiAgICB9XG5cbiAgICBsb2dnZXIuZXJyb3IoRU5VTV9GT1JNQVRfRVJST1IpO1xuICB9O1xuICBjb25zdCBoYW5kbGVFbWFpbFN1YnNjcmlwdGlvbiA9IChzdWJzY3JpcHRpb24sIHJlRW5jb2RlZCwgZmV0Y2hHcm91cHMsIGFjY291bnQsIGxvZ2dlcikgPT4ge1xuICAgIGNvbnN0IHVybFBhcmFtc0FzSXMgPSBnZXRVUkxQYXJhbXMobG9jYXRpb24uaHJlZik7IC8vIGNhbid0IHVzZSB1cmxfcGFyYW1zIGFzIGl0IGlzIGluIGxvd2VyY2FzZSBhYm92ZVxuXG4gICAgY29uc3QgZW5jb2RlZEVtYWlsSWQgPSB1cmxQYXJhbXNBc0lzLmU7XG4gICAgY29uc3QgZW5jb2RlZFByb2ZpbGVQcm9wcyA9IHVybFBhcmFtc0FzSXMucDtcbiAgICBjb25zdCBwYWdlVHlwZSA9IHVybFBhcmFtc0FzSXMucGFnZV90eXBlO1xuXG4gICAgaWYgKHR5cGVvZiBlbmNvZGVkRW1haWxJZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB7fTtcbiAgICAgIGRhdGEuaWQgPSBhY2NvdW50LmlkOyAvLyBhY2NvdW50SWRcblxuICAgICAgZGF0YS51bnN1Ykdyb3VwcyA9ICRjdC51bnN1Ykdyb3VwczsgLy8gdW5zdWJzY3JpYmUgZ3JvdXBzXG5cbiAgICAgIGlmICgkY3QudXBkYXRlZENhdGVnb3J5TG9uZykge1xuICAgICAgICBkYXRhW2NhdGVnb3J5TG9uZ0tleV0gPSAkY3QudXBkYXRlZENhdGVnb3J5TG9uZztcbiAgICAgIH1cblxuICAgICAgbGV0IHVybCA9IGFjY291bnQuZW1haWxVUkw7XG5cbiAgICAgIGlmIChmZXRjaEdyb3Vwcykge1xuICAgICAgICB1cmwgPSBhZGRUb1VSTCh1cmwsICdmZXRjaEdyb3VwcycsIGZldGNoR3JvdXBzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlRW5jb2RlZCkge1xuICAgICAgICB1cmwgPSBhZGRUb1VSTCh1cmwsICdlbmNvZGVkJywgcmVFbmNvZGVkKTtcbiAgICAgIH1cblxuICAgICAgdXJsID0gYWRkVG9VUkwodXJsLCAnZScsIGVuY29kZWRFbWFpbElkKTtcbiAgICAgIHVybCA9IGFkZFRvVVJMKHVybCwgJ2QnLCBjb21wcmVzc0RhdGEoSlNPTi5zdHJpbmdpZnkoZGF0YSksIGxvZ2dlcikpO1xuXG4gICAgICBpZiAoZW5jb2RlZFByb2ZpbGVQcm9wcykge1xuICAgICAgICB1cmwgPSBhZGRUb1VSTCh1cmwsICdwJywgZW5jb2RlZFByb2ZpbGVQcm9wcyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdWJzY3JpcHRpb24gIT09ICctMScpIHtcbiAgICAgICAgdXJsID0gYWRkVG9VUkwodXJsLCAnc3ViJywgc3Vic2NyaXB0aW9uKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhZ2VUeXBlKSB7XG4gICAgICAgICRjdC5nbG9iYWxVbnN1YnNjcmliZSA9IHBhZ2VUeXBlID09PSBHTE9CQUw7XG4gICAgICAgIHVybCA9IGFkZFRvVVJMKHVybCwgJ3BhZ2VfdHlwZScsIHBhZ2VUeXBlKTtcbiAgICAgIH1cblxuICAgICAgUmVxdWVzdERpc3BhdGNoZXIuZmlyZVJlcXVlc3QodXJsKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIF9sb2dnZXIkMyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwibG9nZ2VyXCIpO1xuXG4gIHZhciBfcmVxdWVzdCQyID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJyZXF1ZXN0XCIpO1xuXG4gIHZhciBfYWNjb3VudCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYWNjb3VudFwiKTtcblxuICB2YXIgX29sZFZhbHVlcyQxID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJvbGRWYWx1ZXNcIik7XG5cbiAgdmFyIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQxID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZVwiKTtcblxuICB2YXIgX3Byb2Nlc3NQcm9maWxlQXJyYXkgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInByb2Nlc3NQcm9maWxlQXJyYXlcIik7XG5cbiAgY2xhc3MgUHJvZmlsZUhhbmRsZXIgZXh0ZW5kcyBBcnJheSB7XG4gICAgY29uc3RydWN0b3IoX3JlZiwgdmFsdWVzKSB7XG4gICAgICBsZXQge1xuICAgICAgICBsb2dnZXIsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIGFjY291bnQsXG4gICAgICAgIGlzUGVyc29uYWxpc2F0aW9uQWN0aXZlXG4gICAgICB9ID0gX3JlZjtcbiAgICAgIHN1cGVyKCk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3Byb2Nlc3NQcm9maWxlQXJyYXksIHtcbiAgICAgICAgdmFsdWU6IF9wcm9jZXNzUHJvZmlsZUFycmF5MlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2xvZ2dlciQzLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcmVxdWVzdCQyLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfYWNjb3VudCwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX29sZFZhbHVlcyQxLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQzKVtfbG9nZ2VyJDNdID0gbG9nZ2VyO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDIpW19yZXF1ZXN0JDJdID0gcmVxdWVzdDtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudClbX2FjY291bnRdID0gYWNjb3VudDtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzJDEpW19vbGRWYWx1ZXMkMV0gPSB2YWx1ZXM7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDEpW19pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQxXSA9IGlzUGVyc29uYWxpc2F0aW9uQWN0aXZlO1xuICAgIH1cblxuICAgIHB1c2goKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcHJvZmlsZXNBcnIgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIHByb2ZpbGVzQXJyW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Byb2Nlc3NQcm9maWxlQXJyYXkpW19wcm9jZXNzUHJvZmlsZUFycmF5XShwcm9maWxlc0Fycik7XG5cbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIF9wcm9jZXNzT2xkVmFsdWVzKCkge1xuICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzJDEpW19vbGRWYWx1ZXMkMV0pIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wcm9jZXNzUHJvZmlsZUFycmF5KVtfcHJvY2Vzc1Byb2ZpbGVBcnJheV0oX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMkMSlbX29sZFZhbHVlcyQxXSk7XG4gICAgICB9XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzJDEpW19vbGRWYWx1ZXMkMV0gPSBudWxsO1xuICAgIH1cblxuICAgIGdldEF0dHJpYnV0ZShwcm9wTmFtZSkge1xuICAgICAgaWYgKCFfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDEpW19pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQxXSgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwID09IG51bGwpIHtcbiAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoUFJfQ09PS0lFKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICRjdC5nbG9iYWxQcm9maWxlTWFwW3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7YW55fSBrZXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29tbWFuZFxuICAgICAqIGluY3JlYXNlcyBvciBkZWNyZWFzZXMgdmFsdWUgb2YgdGhlIG51bWJlciB0eXBlIHByb3BlcnRpZXMgaW4gcHJvZmlsZSBvYmplY3RcbiAgICAgKi9cbiAgICBfaGFuZGxlSW5jcmVtZW50RGVjcmVtZW50VmFsdWUoa2V5LCB2YWx1ZSwgY29tbWFuZCkge1xuICAgICAgdmFyIF8kY3QkZ2xvYmFsUHJvZmlsZU1hcDtcblxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiAwXG4gICAgICBpZiAoJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPT0gbnVsbCkge1xuICAgICAgICAkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShQUl9DT09LSUUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPT0gbnVsbCAmJiAhKChfJGN0JGdsb2JhbFByb2ZpbGVNYXAgPSAkY3QuZ2xvYmFsUHJvZmlsZU1hcCkgPT09IG51bGwgfHwgXyRjdCRnbG9iYWxQcm9maWxlTWFwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfJGN0JGdsb2JhbFByb2ZpbGVNYXAuaGFzT3duUHJvcGVydHkoa2V5KSkpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHByb2ZpbGUgbWFwIGFscmVhZHkgaGFzIHRoZSBwcm9wZXJ5IGRlZmluZWRcbiAgICAgICAgY29uc29sZS5lcnJvcignS2luZGx5IGNyZWF0ZSBwcm9maWxlIHdpdGggcmVxdWlyZWQgcHJvcHJ0eSB0byBpbmNyZW1lbnQvZGVjcmVtZW50LicpO1xuICAgICAgfSBlbHNlIGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJyB8fCB2YWx1ZSA8PSAwKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ZhbHVlIHNob3VsZCBiZSBhIG51bWJlciBncmVhdGVyIHRoYW4gMCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBwcm9maWxlIHByb3BlcnR5IGluIGxvY2FsIHN0b3JhZ2VcbiAgICAgICAgaWYgKGNvbW1hbmQgPT09IENPTU1BTkRfSU5DUkVNRU5UKSB7XG4gICAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXBba2V5XSA9ICRjdC5nbG9iYWxQcm9maWxlTWFwW2tleV0gKyB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkY3QuZ2xvYmFsUHJvZmlsZU1hcFtrZXldID0gJGN0Lmdsb2JhbFByb2ZpbGVNYXBba2V5XSAtIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShQUl9DT09LSUUsICRjdC5nbG9iYWxQcm9maWxlTWFwKTsgLy8gU2VuZCB0aGUgdXBkYXRlZCB2YWx1ZSB0byBMQ1xuXG4gICAgICAgIGxldCBkYXRhID0ge307XG4gICAgICAgIGNvbnN0IHByb2ZpbGVPYmogPSB7fTtcbiAgICAgICAgZGF0YS50eXBlID0gJ3Byb2ZpbGUnO1xuICAgICAgICBwcm9maWxlT2JqW2tleV0gPSB7XG4gICAgICAgICAgW2NvbW1hbmRdOiB2YWx1ZVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChwcm9maWxlT2JqLnR6ID09IG51bGwpIHtcbiAgICAgICAgICAvLyB0cnkgdG8gYXV0byBjYXB0dXJlIHVzZXIgdGltZXpvbmUgaWYgbm90IHByZXNlbnRcbiAgICAgICAgICBwcm9maWxlT2JqLnR6ID0gbmV3IERhdGUoKS50b1N0cmluZygpLm1hdGNoKC8oW0EtWl0rW1xcKy1dWzAtOV0rKS8pWzFdO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YS5wcm9maWxlID0gcHJvZmlsZU9iajtcbiAgICAgICAgZGF0YSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQyKVtfcmVxdWVzdCQyXS5hZGRTeXN0ZW1EYXRhVG9PYmplY3QoZGF0YSwgdHJ1ZSk7XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDIpW19yZXF1ZXN0JDJdLmFkZEZsYWdzKGRhdGEpO1xuXG4gICAgICAgIGNvbnN0IGNvbXByZXNzZWREYXRhID0gY29tcHJlc3NEYXRhKEpTT04uc3RyaW5naWZ5KGRhdGEpLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQzKVtfbG9nZ2VyJDNdKTtcblxuICAgICAgICBsZXQgcGFnZUxvYWRVcmwgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQpW19hY2NvdW50XS5kYXRhUG9zdFVSTDtcblxuICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAndHlwZScsIEVWVF9QVVNIKTtcbiAgICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ2QnLCBjb21wcmVzc2VkRGF0YSk7XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDIpW19yZXF1ZXN0JDJdLnNhdmVBbmRGaXJlUmVxdWVzdChwYWdlTG9hZFVybCwgJGN0LmJsb2NrUmVxdWVzdCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHthbnl9IGtleVxuICAgICAqIEBwYXJhbSB7YXJyYXl9IGFycmF5VmFsXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbW1hbmRcbiAgICAgKiBvdmVyd3JpdGVzL3NldHMgbmV3IHZhbHVlKHMpIGFnYWluc3QgYSBrZXkvcHJvcGVydHkgaW4gcHJvZmlsZSBvYmplY3RcbiAgICAgKi9cblxuXG4gICAgX2hhbmRsZU11bHRpVmFsdWVTZXQoa2V5LCBhcnJheVZhbCwgY29tbWFuZCkge1xuICAgICAgY29uc3QgYXJyYXkgPSBbXTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheVZhbC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodHlwZW9mIGFycmF5VmFsW2ldID09PSAnbnVtYmVyJyAmJiAhYXJyYXkuaW5jbHVkZXMoYXJyYXlWYWxbaV0pKSB7XG4gICAgICAgICAgYXJyYXkucHVzaChhcnJheVZhbFtpXSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFycmF5VmFsW2ldID09PSAnc3RyaW5nJyAmJiAhYXJyYXkuaW5jbHVkZXMoYXJyYXlWYWxbaV0udG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICBhcnJheS5wdXNoKGFycmF5VmFsW2ldLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2FycmF5IHN1cHBvcnRzIG9ubHkgc3RyaW5nIG9yIG51bWJlciB0eXBlIHZhbHVlcycpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICgkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9PSBudWxsKSB7XG4gICAgICAgIHZhciBfU3RvcmFnZU1hbmFnZXIkcmVhZEY7XG5cbiAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPSAoX1N0b3JhZ2VNYW5hZ2VyJHJlYWRGID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKFBSX0NPT0tJRSkpICE9PSBudWxsICYmIF9TdG9yYWdlTWFuYWdlciRyZWFkRiAhPT0gdm9pZCAwID8gX1N0b3JhZ2VNYW5hZ2VyJHJlYWRGIDoge307XG4gICAgICB9XG5cbiAgICAgICRjdC5nbG9iYWxQcm9maWxlTWFwW2tleV0gPSBhcnJheTtcbiAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoUFJfQ09PS0lFLCAkY3QuZ2xvYmFsUHJvZmlsZU1hcCk7XG4gICAgICB0aGlzLnNlbmRNdWx0aVZhbHVlRGF0YShrZXksIGFycmF5VmFsLCBjb21tYW5kKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2FueX0gcHJvcEtleSAtIHRoZSBwcm9wZXJ0eSBuYW1lIHRvIGJlIGFkZGVkIGluIHRoZSBwcm9maWxlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nLCBudW1iZXIsIGFycmF5fSBwcm9wVmFsIC0gdGhlIHByb3BlcnR5IHZhbHVlIHRvIGJlIGFkZGVkIGFnYWluc3QgdGhlIEBwcm9wa2V5IGtleVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb21tYW5kXG4gICAgICogQWRkcyBhcnJheSBvciBzaW5nbGUgdmFsdWUgYWdhaW5zdCBhIGtleS9wcm9wZXJ0eSBpbiBwcm9maWxlIG9iamVjdFxuICAgICAqL1xuXG5cbiAgICBfaGFuZGxlTXVsdGlWYWx1ZUFkZChwcm9wS2V5LCBwcm9wVmFsLCBjb21tYW5kKSB7XG4gICAgICAvLyBJbml0aWFsaXplIGFycmF5XG4gICAgICB2YXIgYXJyYXkgPSBbXTsgLy8gQ2hlY2sgaWYgZ2xvYmFsUHJvZmlsZU1hcCBpcyBudWxsLCBpbml0aWFsaXplIGlmIG5lZWRlZFxuXG4gICAgICBpZiAoJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPT0gbnVsbCkge1xuICAgICAgICAkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShQUl9DT09LSUUpIHx8IHt9O1xuICAgICAgfSAvLyBDaGVjayBpZiB0aGUgdmFsdWUgdG8gYmUgc2V0IGlzIGVpdGhlciBzdHJpbmcgb3IgbnVtYmVyXG5cblxuICAgICAgaWYgKHR5cGVvZiBwcm9wVmFsID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcHJvcFZhbCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICAgICAgYXJyYXkgPSAkY3QuZ2xvYmFsUHJvZmlsZU1hcFtwcm9wS2V5XTtcbiAgICAgICAgICBhcnJheS5wdXNoKHR5cGVvZiBwcm9wVmFsID09PSAnbnVtYmVyJyA/IHByb3BWYWwgOiBwcm9wVmFsLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRjdC5nbG9iYWxQcm9maWxlTWFwW3Byb3BLZXldID0gcHJvcFZhbDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgcHJvcFZhbCBpcyBhbiBhcnJheVxuICAgICAgICBpZiAoJGN0Lmdsb2JhbFByb2ZpbGVNYXAuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgICAgICBhcnJheSA9IEFycmF5LmlzQXJyYXkoJGN0Lmdsb2JhbFByb2ZpbGVNYXBbcHJvcEtleV0pID8gJGN0Lmdsb2JhbFByb2ZpbGVNYXBbcHJvcEtleV0gOiBbJGN0Lmdsb2JhbFByb2ZpbGVNYXBbcHJvcEtleV1dO1xuICAgICAgICB9IC8vIENoZWNrIGZvciBjYXNlLXNlbnNpdGl2ZSBpbnB1dHMgYW5kIGZpbHRlciB0aGUgc2FtZSBvbmVzXG5cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BWYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHByb3BWYWxbaV0gPT09ICdudW1iZXInICYmICFhcnJheS5pbmNsdWRlcyhwcm9wVmFsW2ldKSkge1xuICAgICAgICAgICAgYXJyYXkucHVzaChwcm9wVmFsW2ldKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9wVmFsW2ldID09PSAnc3RyaW5nJyAmJiAhYXJyYXkuaW5jbHVkZXMocHJvcFZhbFtpXS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgYXJyYXkucHVzaChwcm9wVmFsW2ldLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByb3BWYWxbaV0gPT09ICdudW1iZXInICYmIGFycmF5LmluY2x1ZGVzKHByb3BWYWxbaV0pIHx8IHR5cGVvZiBwcm9wVmFsW2ldID09PSAnc3RyaW5nJyAmJiBhcnJheS5pbmNsdWRlcyhwcm9wVmFsW2ldLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdWYWx1ZXMgYWxyZWFkeSBpbmNsdWRlZCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdBcnJheSBzdXBwb3J0cyBvbmx5IHN0cmluZyBvciBudW1iZXIgdHlwZSB2YWx1ZXMnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gVXBkYXRlIGdsb2JhbFByb2ZpbGVNYXAgd2l0aCB0aGUgYXJyYXlcblxuXG4gICAgICAgICRjdC5nbG9iYWxQcm9maWxlTWFwW3Byb3BLZXldID0gYXJyYXk7XG4gICAgICB9IC8vIFNhdmUgdG8gbG9jYWwgc3RvcmFnZSBvciBjb29raWVcblxuXG4gICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKFBSX0NPT0tJRSwgJGN0Lmdsb2JhbFByb2ZpbGVNYXApOyAvLyBDYWxsIHRoZSBzZW5kTXVsdGlWYWx1ZURhdGEgZnVuY3Rpb25cblxuICAgICAgdGhpcy5zZW5kTXVsdGlWYWx1ZURhdGEocHJvcEtleSwgcHJvcFZhbCwgY29tbWFuZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHthbnl9IHByb3BLZXlcbiAgICAgKiBAcGFyYW0ge3N0cmluZywgbnVtYmVyLCBhcnJheX0gcHJvcFZhbFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb21tYW5kXG4gICAgICogcmVtb3ZlcyB2YWx1ZShzKSBhZ2FpbnN0IGEga2V5L3Byb3BlcnR5IGluIHByb2ZpbGUgb2JqZWN0XG4gICAgICovXG5cblxuICAgIF9oYW5kbGVNdWx0aVZhbHVlUmVtb3ZlKHByb3BLZXksIHByb3BWYWwsIGNvbW1hbmQpIHtcbiAgICAgIHZhciBfJGN0JGdsb2JhbFByb2ZpbGVNYXAyO1xuXG4gICAgICBpZiAoJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPT0gbnVsbCkge1xuICAgICAgICAkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShQUl9DT09LSUUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoISgkY3QgPT09IG51bGwgfHwgJGN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoXyRjdCRnbG9iYWxQcm9maWxlTWFwMiA9ICRjdC5nbG9iYWxQcm9maWxlTWFwKSA9PT0gbnVsbCB8fCBfJGN0JGdsb2JhbFByb2ZpbGVNYXAyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfJGN0JGdsb2JhbFByb2ZpbGVNYXAyLmhhc093blByb3BlcnR5KHByb3BLZXkpKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVGhlIHByb3BlcnR5IFwiLmNvbmNhdChwcm9wS2V5LCBcIiBkb2VzIG5vdCBleGlzdC5cIikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9wVmFsID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcHJvcFZhbCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB2YXIgaW5kZXggPSAkY3QuZ2xvYmFsUHJvZmlsZU1hcFtwcm9wS2V5XS5pbmRleE9mKHByb3BWYWwpO1xuXG4gICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXBbcHJvcEtleV0uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBwcm9wVmFsLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gJGN0Lmdsb2JhbFByb2ZpbGVNYXBbcHJvcEtleV0uaW5kZXhPZihwcm9wVmFsW2tdKTtcblxuICAgICAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgJGN0Lmdsb2JhbFByb2ZpbGVNYXBbcHJvcEtleV0uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoUFJfQ09PS0lFLCAkY3QuZ2xvYmFsUHJvZmlsZU1hcCk7XG4gICAgICB0aGlzLnNlbmRNdWx0aVZhbHVlRGF0YShwcm9wS2V5LCBwcm9wVmFsLCBjb21tYW5kKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2FueX0gcHJvcEtleVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb21tYW5kXG4gICAgICogZGVsZXRlcyBhIGtleSB2YWx1ZSBwYWlyIGZyb20gdGhlIHByb2ZpbGUgb2JqZWN0XG4gICAgICovXG5cblxuICAgIF9oYW5kbGVNdWx0aVZhbHVlRGVsZXRlKHByb3BLZXksIGNvbW1hbmQpIHtcbiAgICAgIHZhciBfJGN0JGdsb2JhbFByb2ZpbGVNYXAzO1xuXG4gICAgICBpZiAoJGN0Lmdsb2JhbFByb2ZpbGVNYXAgPT0gbnVsbCkge1xuICAgICAgICAkY3QuZ2xvYmFsUHJvZmlsZU1hcCA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShQUl9DT09LSUUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoISgkY3QgPT09IG51bGwgfHwgJGN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoXyRjdCRnbG9iYWxQcm9maWxlTWFwMyA9ICRjdC5nbG9iYWxQcm9maWxlTWFwKSA9PT0gbnVsbCB8fCBfJGN0JGdsb2JhbFByb2ZpbGVNYXAzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfJGN0JGdsb2JhbFByb2ZpbGVNYXAzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVGhlIHByb3BlcnR5IFwiLmNvbmNhdChwcm9wS2V5LCBcIiBkb2VzIG5vdCBleGlzdC5cIikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlICRjdC5nbG9iYWxQcm9maWxlTWFwW3Byb3BLZXldO1xuICAgICAgfVxuXG4gICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKFBSX0NPT0tJRSwgJGN0Lmdsb2JhbFByb2ZpbGVNYXApO1xuICAgICAgdGhpcy5zZW5kTXVsdGlWYWx1ZURhdGEocHJvcEtleSwgbnVsbCwgY29tbWFuZCk7XG4gICAgfVxuXG4gICAgc2VuZE11bHRpVmFsdWVEYXRhKHByb3BLZXksIHByb3BWYWwsIGNvbW1hbmQpIHtcbiAgICAgIC8vIFNlbmQgdGhlIHVwZGF0ZWQgdmFsdWUgdG8gTENcbiAgICAgIGxldCBkYXRhID0ge307XG4gICAgICBjb25zdCBwcm9maWxlT2JqID0ge307XG4gICAgICBkYXRhLnR5cGUgPSAncHJvZmlsZSc7IC8vIHRoaXMgcmVtb3ZlcyB0aGUgcHJvcGVydHkgYXQgYmFja2VuZFxuXG4gICAgICBwcm9maWxlT2JqW3Byb3BLZXldID0ge1xuICAgICAgICBbY29tbWFuZF06IGNvbW1hbmQgPT09IENPTU1BTkRfREVMRVRFID8gdHJ1ZSA6IHByb3BWYWxcbiAgICAgIH07XG5cbiAgICAgIGlmIChwcm9maWxlT2JqLnR6ID09IG51bGwpIHtcbiAgICAgICAgcHJvZmlsZU9iai50eiA9IG5ldyBEYXRlKCkudG9TdHJpbmcoKS5tYXRjaCgvKFtBLVpdK1tcXCstXVswLTldKykvKVsxXTtcbiAgICAgIH1cblxuICAgICAgZGF0YS5wcm9maWxlID0gcHJvZmlsZU9iajtcbiAgICAgIGRhdGEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMilbX3JlcXVlc3QkMl0uYWRkU3lzdGVtRGF0YVRvT2JqZWN0KGRhdGEsIHRydWUpO1xuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMilbX3JlcXVlc3QkMl0uYWRkRmxhZ3MoZGF0YSk7XG5cbiAgICAgIGNvbnN0IGNvbXByZXNzZWREYXRhID0gY29tcHJlc3NEYXRhKEpTT04uc3RyaW5naWZ5KGRhdGEpLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQzKVtfbG9nZ2VyJDNdKTtcblxuICAgICAgbGV0IHBhZ2VMb2FkVXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50KVtfYWNjb3VudF0uZGF0YVBvc3RVUkw7XG5cbiAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICd0eXBlJywgRVZUX1BVU0gpO1xuICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ2QnLCBjb21wcmVzc2VkRGF0YSk7XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQyKVtfcmVxdWVzdCQyXS5zYXZlQW5kRmlyZVJlcXVlc3QocGFnZUxvYWRVcmwsICRjdC5ibG9ja1JlcXVlc3QpO1xuICAgIH1cblxuICB9XG5cbiAgdmFyIF9wcm9jZXNzUHJvZmlsZUFycmF5MiA9IGZ1bmN0aW9uIF9wcm9jZXNzUHJvZmlsZUFycmF5Mihwcm9maWxlQXJyKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocHJvZmlsZUFycikgJiYgcHJvZmlsZUFyci5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGNvbnN0IGluZGV4IGluIHByb2ZpbGVBcnIpIHtcbiAgICAgICAgaWYgKHByb2ZpbGVBcnIuaGFzT3duUHJvcGVydHkoaW5kZXgpKSB7XG4gICAgICAgICAgY29uc3Qgb3V0ZXJPYmogPSBwcm9maWxlQXJyW2luZGV4XTtcbiAgICAgICAgICBsZXQgZGF0YSA9IHt9O1xuICAgICAgICAgIGxldCBwcm9maWxlT2JqO1xuXG4gICAgICAgICAgaWYgKG91dGVyT2JqLlNpdGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gb3JnYW5pYyBkYXRhIGZyb20gdGhlIHNpdGVcbiAgICAgICAgICAgIHByb2ZpbGVPYmogPSBvdXRlck9iai5TaXRlO1xuXG4gICAgICAgICAgICBpZiAoaXNPYmplY3RFbXB0eShwcm9maWxlT2JqKSB8fCAhaXNQcm9maWxlVmFsaWQocHJvZmlsZU9iaiwge1xuICAgICAgICAgICAgICBsb2dnZXI6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDMpW19sb2dnZXIkM11cbiAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKG91dGVyT2JqLkZhY2Vib29rICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGZiIGNvbm5lY3QgZGF0YVxuICAgICAgICAgICAgY29uc3QgRmJQcm9maWxlT2JqID0gb3V0ZXJPYmouRmFjZWJvb2s7IC8vIG1ha2Ugc3VyZSB0aGF0IHRoZSBvYmplY3QgY29udGFpbnMgYW55IGRhdGEgYXQgYWxsXG5cbiAgICAgICAgICAgIGlmICghaXNPYmplY3RFbXB0eShGYlByb2ZpbGVPYmopICYmICFGYlByb2ZpbGVPYmouZXJyb3IpIHtcbiAgICAgICAgICAgICAgcHJvZmlsZU9iaiA9IHByb2Nlc3NGQlVzZXJPYmooRmJQcm9maWxlT2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKG91dGVyT2JqWydHb29nbGUgUGx1cyddICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IEdQbHVzUHJvZmlsZU9iaiA9IG91dGVyT2JqWydHb29nbGUgUGx1cyddO1xuXG4gICAgICAgICAgICBpZiAoIWlzT2JqZWN0RW1wdHkoR1BsdXNQcm9maWxlT2JqKSAmJiAhR1BsdXNQcm9maWxlT2JqLmVycm9yKSB7XG4gICAgICAgICAgICAgIHByb2ZpbGVPYmogPSBwcm9jZXNzR1BsdXNVc2VyT2JqKEdQbHVzUHJvZmlsZU9iaiwge1xuICAgICAgICAgICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkMylbX2xvZ2dlciQzXVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocHJvZmlsZU9iaiAhPSBudWxsICYmICFpc09iamVjdEVtcHR5KHByb2ZpbGVPYmopKSB7XG4gICAgICAgICAgICAvLyBwcm9maWxlIGdvdCBzZXQgZnJvbSBhYm92ZVxuICAgICAgICAgICAgZGF0YS50eXBlID0gJ3Byb2ZpbGUnO1xuXG4gICAgICAgICAgICBpZiAocHJvZmlsZU9iai50eiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgIC8vIHRyeSB0byBhdXRvIGNhcHR1cmUgdXNlciB0aW1lem9uZSBpZiBub3QgcHJlc2VudFxuICAgICAgICAgICAgICBwcm9maWxlT2JqLnR6ID0gbmV3IERhdGUoKS50b1N0cmluZygpLm1hdGNoKC8oW0EtWl0rW1xcKy1dWzAtOV0rKS8pWzFdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRhLnByb2ZpbGUgPSBwcm9maWxlT2JqO1xuICAgICAgICAgICAgYWRkVG9Mb2NhbFByb2ZpbGVNYXAocHJvZmlsZU9iaiwgdHJ1ZSk7XG4gICAgICAgICAgICBkYXRhID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDIpW19yZXF1ZXN0JDJdLmFkZFN5c3RlbURhdGFUb09iamVjdChkYXRhLCB1bmRlZmluZWQpO1xuXG4gICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMilbX3JlcXVlc3QkMl0uYWRkRmxhZ3MoZGF0YSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbXByZXNzZWREYXRhID0gY29tcHJlc3NEYXRhKEpTT04uc3RyaW5naWZ5KGRhdGEpLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQzKVtfbG9nZ2VyJDNdKTtcblxuICAgICAgICAgICAgbGV0IHBhZ2VMb2FkVXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50KVtfYWNjb3VudF0uZGF0YVBvc3RVUkw7XG5cbiAgICAgICAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICd0eXBlJywgRVZUX1BVU0gpO1xuICAgICAgICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ2QnLCBjb21wcmVzc2VkRGF0YSk7XG5cbiAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQyKVtfcmVxdWVzdCQyXS5zYXZlQW5kRmlyZVJlcXVlc3QocGFnZUxvYWRVcmwsICRjdC5ibG9ja1JlcXVlc3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgX3JlcXVlc3QkMyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicmVxdWVzdFwiKTtcblxuICB2YXIgX2xvZ2dlciQ0ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJsb2dnZXJcIik7XG5cbiAgdmFyIF9hY2NvdW50JDEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImFjY291bnRcIik7XG5cbiAgdmFyIF9zZXNzaW9uJDEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInNlc3Npb25cIik7XG5cbiAgdmFyIF9vbGRWYWx1ZXMkMiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwib2xkVmFsdWVzXCIpO1xuXG4gIHZhciBfZGV2aWNlJDEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImRldmljZVwiKTtcblxuICB2YXIgX3Byb2Nlc3NPVUwgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInByb2Nlc3NPVUxcIik7XG5cbiAgdmFyIF9oYW5kbGVDb29raWVGcm9tQ2FjaGUgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImhhbmRsZUNvb2tpZUZyb21DYWNoZVwiKTtcblxuICB2YXIgX2RlbGV0ZVVzZXIgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImRlbGV0ZVVzZXJcIik7XG5cbiAgdmFyIF9wcm9jZXNzTG9naW5BcnJheSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicHJvY2Vzc0xvZ2luQXJyYXlcIik7XG5cbiAgY2xhc3MgVXNlckxvZ2luSGFuZGxlciBleHRlbmRzIEFycmF5IHtcbiAgICBjb25zdHJ1Y3RvcihfcmVmLCB2YWx1ZXMpIHtcbiAgICAgIGxldCB7XG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIGFjY291bnQsXG4gICAgICAgIHNlc3Npb24sXG4gICAgICAgIGxvZ2dlcixcbiAgICAgICAgZGV2aWNlXG4gICAgICB9ID0gX3JlZjtcbiAgICAgIHN1cGVyKCk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3Byb2Nlc3NMb2dpbkFycmF5LCB7XG4gICAgICAgIHZhbHVlOiBfcHJvY2Vzc0xvZ2luQXJyYXkyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfZGVsZXRlVXNlciwge1xuICAgICAgICB2YWx1ZTogX2RlbGV0ZVVzZXIyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfaGFuZGxlQ29va2llRnJvbUNhY2hlLCB7XG4gICAgICAgIHZhbHVlOiBfaGFuZGxlQ29va2llRnJvbUNhY2hlMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3Byb2Nlc3NPVUwsIHtcbiAgICAgICAgdmFsdWU6IF9wcm9jZXNzT1VMMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3JlcXVlc3QkMywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2xvZ2dlciQ0LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfYWNjb3VudCQxLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfc2Vzc2lvbiQxLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfb2xkVmFsdWVzJDIsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9kZXZpY2UkMSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMylbX3JlcXVlc3QkM10gPSByZXF1ZXN0O1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDEpW19hY2NvdW50JDFdID0gYWNjb3VudDtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbiQxKVtfc2Vzc2lvbiQxXSA9IHNlc3Npb247XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ0KVtfbG9nZ2VyJDRdID0gbG9nZ2VyO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMkMilbX29sZFZhbHVlcyQyXSA9IHZhbHVlcztcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlJDEpW19kZXZpY2UkMV0gPSBkZXZpY2U7XG4gICAgfSAvLyBPbiBVc2VyIExvZ2luXG5cblxuICAgIGNsZWFyKCkge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNClbX2xvZ2dlciQ0XS5kZWJ1ZygnY2xlYXIgY2FsbGVkLiBSZXNldCBmbGFnIGhhcyBiZWVuIHNldC4nKTtcblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZWxldGVVc2VyKVtfZGVsZXRlVXNlcl0oKTtcblxuICAgICAgU3RvcmFnZU1hbmFnZXIuc2V0TWV0YVByb3AoQ0xFQVIsIHRydWUpO1xuICAgIH1cblxuICAgIHB1c2goKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcHJvZmlsZXNBcnIgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIHByb2ZpbGVzQXJyW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Byb2Nlc3NMb2dpbkFycmF5KVtfcHJvY2Vzc0xvZ2luQXJyYXldKHByb2ZpbGVzQXJyKTtcblxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgX3Byb2Nlc3NPbGRWYWx1ZXMoKSB7XG4gICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMkMilbX29sZFZhbHVlcyQyXSkge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Byb2Nlc3NMb2dpbkFycmF5KVtfcHJvY2Vzc0xvZ2luQXJyYXldKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzJDIpW19vbGRWYWx1ZXMkMl0pO1xuICAgICAgfVxuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQyKVtfb2xkVmFsdWVzJDJdID0gbnVsbDtcbiAgICB9XG5cbiAgfVxuXG4gIHZhciBfcHJvY2Vzc09VTDIgPSBmdW5jdGlvbiBfcHJvY2Vzc09VTDIocHJvZmlsZUFycikge1xuICAgIGxldCBzZW5kT1VMRmxhZyA9IHRydWU7XG4gICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShGSVJFX1BVU0hfVU5SRUdJU1RFUkVELCBzZW5kT1VMRmxhZyk7XG5cbiAgICBjb25zdCBhZGRUb0sgPSBpZHMgPT4ge1xuICAgICAgbGV0IGsgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoS0NPT0tJRV9OQU1FKTtcbiAgICAgIGNvbnN0IGcgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoR0NPT0tJRV9OQU1FKTtcbiAgICAgIGxldCBrSWQ7XG5cbiAgICAgIGlmIChrID09IG51bGwpIHtcbiAgICAgICAgayA9IHt9O1xuICAgICAgICBrSWQgPSBpZHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBjaGVjayBpZiBhbHJlYWR5IGV4aXN0cyAqL1xuICAgICAgICBrSWQgPSBrLmlkO1xuICAgICAgICBsZXQgYW5vbnltb3VzVXNlciA9IGZhbHNlO1xuICAgICAgICBsZXQgZm91bmRJbkNhY2hlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGtJZCA9PSBudWxsKSB7XG4gICAgICAgICAga0lkID0gaWRzWzBdO1xuICAgICAgICAgIGFub255bW91c1VzZXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCRjdC5MUlVfQ0FDSEUgPT0gbnVsbCAmJiBTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICRjdC5MUlVfQ0FDSEUgPSBuZXcgTFJVQ2FjaGUoTFJVX0NBQ0hFX1NJWkUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFub255bW91c1VzZXIpIHtcbiAgICAgICAgICBpZiAoZyAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBpZiBoYXZlIGdjb29raWVcbiAgICAgICAgICAgICRjdC5MUlVfQ0FDSEUuc2V0KGtJZCwgZyk7XG4gICAgICAgICAgICAkY3QuYmxvY2tSZXF1ZXN0ID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZSBpZCBpcyBwcmVzZW50IGluIHRoZSBjYWNoZVxuICAgICAgICAgIC8vIHNldCBmb3VuZEluQ2FjaGUgdG8gdHJ1ZVxuICAgICAgICAgIGZvciAoY29uc3QgaWR4IGluIGlkcykge1xuICAgICAgICAgICAgaWYgKGlkcy5oYXNPd25Qcm9wZXJ0eShpZHgpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGlkID0gaWRzW2lkeF07XG5cbiAgICAgICAgICAgICAgaWYgKCRjdC5MUlVfQ0FDSEUuY2FjaGVbaWRdKSB7XG4gICAgICAgICAgICAgICAga0lkID0gaWQ7XG4gICAgICAgICAgICAgICAgZm91bmRJbkNhY2hlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmb3VuZEluQ2FjaGUpIHtcbiAgICAgICAgICBpZiAoa0lkICE9PSAkY3QuTFJVX0NBQ0hFLmdldExhc3RLZXkoKSkge1xuICAgICAgICAgICAgLy8gTmV3IFVzZXIgZm91bmRcbiAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgZW50aXJlIGNhY2hlXG4gICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2hhbmRsZUNvb2tpZUZyb21DYWNoZSlbX2hhbmRsZUNvb2tpZUZyb21DYWNoZV0oKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VuZE9VTEZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoRklSRV9QVVNIX1VOUkVHSVNURVJFRCwgc2VuZE9VTEZsYWcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGdGcm9tQ2FjaGUgPSAkY3QuTFJVX0NBQ0hFLmdldChrSWQpO1xuICAgICAgICAgICRjdC5MUlVfQ0FDSEUuc2V0KGtJZCwgZ0Zyb21DYWNoZSk7XG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShHQ09PS0lFX05BTUUsIGdGcm9tQ2FjaGUpO1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlJDEpW19kZXZpY2UkMV0uZ2Nvb2tpZSA9IGdGcm9tQ2FjaGU7XG4gICAgICAgICAgY29uc3QgbGFzdEsgPSAkY3QuTFJVX0NBQ0hFLmdldFNlY29uZExhc3RLZXkoKTtcblxuICAgICAgICAgIGlmIChTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoRklSRV9QVVNIX1VOUkVHSVNURVJFRCkgJiYgbGFzdEsgIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBDQUNIRUQgT0xEIFVTRVIgRk9VTkQuIFRSQU5TRkVSIFBVU0ggVE9LRU4gVE8gVEhJUyBVU0VSXG4gICAgICAgICAgICBjb25zdCBsYXN0R1VJRCA9ICRjdC5MUlVfQ0FDSEUuY2FjaGVbbGFzdEtdO1xuXG4gICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMylbX3JlcXVlc3QkM10udW5yZWdpc3RlclRva2VuRm9yR3VpZChsYXN0R1VJRCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghYW5vbnltb3VzVXNlcikge1xuICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlJDEpW19kZXZpY2UkMV0uZ2Nvb2tpZSA9IGc7XG4gICAgICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoR0NPT0tJRV9OQU1FLCBnKTtcbiAgICAgICAgICAgICAgc2VuZE9VTEZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEZJUkVfUFVTSF9VTlJFR0lTVEVSRUQsIGZhbHNlKTtcbiAgICAgICAgICBrSWQgPSBpZHNbMF07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgay5pZCA9IGtJZDtcbiAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoS0NPT0tJRV9OQU1FLCBrKTtcbiAgICB9O1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkocHJvZmlsZUFycikgJiYgcHJvZmlsZUFyci5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGNvbnN0IGluZGV4IGluIHByb2ZpbGVBcnIpIHtcbiAgICAgICAgaWYgKHByb2ZpbGVBcnIuaGFzT3duUHJvcGVydHkoaW5kZXgpKSB7XG4gICAgICAgICAgY29uc3Qgb3V0ZXJPYmogPSBwcm9maWxlQXJyW2luZGV4XTtcbiAgICAgICAgICBsZXQgZGF0YSA9IHt9O1xuICAgICAgICAgIGxldCBwcm9maWxlT2JqO1xuXG4gICAgICAgICAgaWYgKG91dGVyT2JqLlNpdGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gb3JnYW5pYyBkYXRhIGZyb20gdGhlIHNpdGVcbiAgICAgICAgICAgIHByb2ZpbGVPYmogPSBvdXRlck9iai5TaXRlO1xuXG4gICAgICAgICAgICBpZiAoaXNPYmplY3RFbXB0eShwcm9maWxlT2JqKSB8fCAhaXNQcm9maWxlVmFsaWQocHJvZmlsZU9iaiwge1xuICAgICAgICAgICAgICBsb2dnZXI6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDQpW19sb2dnZXIkNF1cbiAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKG91dGVyT2JqLkZhY2Vib29rICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGZiIGNvbm5lY3QgZGF0YVxuICAgICAgICAgICAgY29uc3QgRmJQcm9maWxlT2JqID0gb3V0ZXJPYmouRmFjZWJvb2s7IC8vIG1ha2Ugc3VyZSB0aGF0IHRoZSBvYmplY3QgY29udGFpbnMgYW55IGRhdGEgYXQgYWxsXG5cbiAgICAgICAgICAgIGlmICghaXNPYmplY3RFbXB0eShGYlByb2ZpbGVPYmopICYmICFGYlByb2ZpbGVPYmouZXJyb3IpIHtcbiAgICAgICAgICAgICAgcHJvZmlsZU9iaiA9IHByb2Nlc3NGQlVzZXJPYmooRmJQcm9maWxlT2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKG91dGVyT2JqWydHb29nbGUgUGx1cyddICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IEdQbHVzUHJvZmlsZU9iaiA9IG91dGVyT2JqWydHb29nbGUgUGx1cyddO1xuXG4gICAgICAgICAgICBpZiAoaXNPYmplY3RFbXB0eShHUGx1c1Byb2ZpbGVPYmopICYmICFHUGx1c1Byb2ZpbGVPYmouZXJyb3IpIHtcbiAgICAgICAgICAgICAgcHJvZmlsZU9iaiA9IHByb2Nlc3NHUGx1c1VzZXJPYmooR1BsdXNQcm9maWxlT2JqLCB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ0KVtfbG9nZ2VyJDRdXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwcm9maWxlT2JqICE9IG51bGwgJiYgIWlzT2JqZWN0RW1wdHkocHJvZmlsZU9iaikpIHtcbiAgICAgICAgICAgIC8vIHByb2ZpbGUgZ290IHNldCBmcm9tIGFib3ZlXG4gICAgICAgICAgICBkYXRhLnR5cGUgPSAncHJvZmlsZSc7XG5cbiAgICAgICAgICAgIGlmIChwcm9maWxlT2JqLnR6ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgLy8gdHJ5IHRvIGF1dG8gY2FwdHVyZSB1c2VyIHRpbWV6b25lIGlmIG5vdCBwcmVzZW50XG4gICAgICAgICAgICAgIHByb2ZpbGVPYmoudHogPSBuZXcgRGF0ZSgpLnRvU3RyaW5nKCkubWF0Y2goLyhbQS1aXStbXFwrLV1bMC05XSspLylbMV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRhdGEucHJvZmlsZSA9IHByb2ZpbGVPYmo7XG4gICAgICAgICAgICBjb25zdCBpZHMgPSBbXTtcblxuICAgICAgICAgICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICAgIGlmIChwcm9maWxlT2JqLklkZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgaWRzLnB1c2gocHJvZmlsZU9iai5JZGVudGl0eSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAocHJvZmlsZU9iai5FbWFpbCkge1xuICAgICAgICAgICAgICAgIGlkcy5wdXNoKHByb2ZpbGVPYmouRW1haWwpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHByb2ZpbGVPYmouR1BJRCkge1xuICAgICAgICAgICAgICAgIGlkcy5wdXNoKCdHUDonICsgcHJvZmlsZU9iai5HUElEKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChwcm9maWxlT2JqLkZCSUQpIHtcbiAgICAgICAgICAgICAgICBpZHMucHVzaCgnRkI6JyArIHByb2ZpbGVPYmouRkJJRCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoaWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBhZGRUb0soaWRzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhZGRUb0xvY2FsUHJvZmlsZU1hcChwcm9maWxlT2JqLCB0cnVlKTtcbiAgICAgICAgICAgIGRhdGEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkMylbX3JlcXVlc3QkM10uYWRkU3lzdGVtRGF0YVRvT2JqZWN0KGRhdGEsIHVuZGVmaW5lZCk7XG5cbiAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQzKVtfcmVxdWVzdCQzXS5hZGRGbGFncyhkYXRhKTsgLy8gQWRkaW5nICdpc09VTCcgZmxhZyBpbiB0cnVlIGZvciBPVUwgY2FzZXMgd2hpY2guXG4gICAgICAgICAgICAvLyBUaGlzIGZsYWcgdGVsbHMgTEMgdG8gY3JlYXRlIGEgbmV3IGFycCBvYmplY3QuXG4gICAgICAgICAgICAvLyBBbHNvIHdlIHdpbGwgcmVjZWl2ZSB0aGUgc2FtZSBmbGFnIGluIHJlc3BvbnNlIGFycCB3aGljaCB0ZWxscyB0byBkZWxldGUgZXhpc3RpbmcgYXJwIG9iamVjdC5cblxuXG4gICAgICAgICAgICBpZiAoc2VuZE9VTEZsYWcpIHtcbiAgICAgICAgICAgICAgZGF0YVtJU19PVUxdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY29tcHJlc3NlZERhdGEgPSBjb21wcmVzc0RhdGEoSlNPTi5zdHJpbmdpZnkoZGF0YSksIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDQpW19sb2dnZXIkNF0pO1xuXG4gICAgICAgICAgICBsZXQgcGFnZUxvYWRVcmwgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkMSlbX2FjY291bnQkMV0uZGF0YVBvc3RVUkw7XG5cbiAgICAgICAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICd0eXBlJywgRVZUX1BVU0gpO1xuICAgICAgICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ2QnLCBjb21wcmVzc2VkRGF0YSk7IC8vIFdoZW5ldmVyIHNlbmRPVUxGbGFnIGlzIHRydWUgdGhlbiBkb250IHNlbmQgYXJwIGFuZCBnY29va2llIChndWlkIGluIG1lbW9yeSBpbiB0aGUgcmVxdWVzdClcbiAgICAgICAgICAgIC8vIEFsc28gd2hlbiB0aGlzIGZsYWcgaXMgc2V0IHdlIHdpbGwgZ2V0IGFub3RoZXIgZmxhZyBmcm9tIExDIGluIGFycCB3aGljaCB0ZWxscyB1cyB0byBkZWxldGUgYXJwXG4gICAgICAgICAgICAvLyBzdG9yZWQgaW4gdGhlIGNhY2hlIGFuZCByZXBsYWNlIGl0IHdpdGggdGhlIHJlc3BvbnNlIGFycC5cblxuICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDMpW19yZXF1ZXN0JDNdLnNhdmVBbmRGaXJlUmVxdWVzdChwYWdlTG9hZFVybCwgJGN0LmJsb2NrUmVxdWVzdCwgc2VuZE9VTEZsYWcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgX2hhbmRsZUNvb2tpZUZyb21DYWNoZTIgPSBmdW5jdGlvbiBfaGFuZGxlQ29va2llRnJvbUNhY2hlMigpIHtcbiAgICAkY3QuYmxvY2tSZXF1ZXN0ID0gZmFsc2U7XG4gICAgY29uc29sZS5kZWJ1ZygnQmxvY2sgcmVxdWVzdCBpcyBmYWxzZScpO1xuXG4gICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW1BSX0NPT0tJRV07XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW0VWX0NPT0tJRV07XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW01FVEFfQ09PS0lFXTtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbQVJQX0NPT0tJRV07XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW0NBTVBfQ09PS0lFX05BTUVdO1xuICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtDSEFSR0VESURfQ09PS0lFX05BTUVdO1xuICAgIH1cblxuICAgIFN0b3JhZ2VNYW5hZ2VyLnJlbW92ZUNvb2tpZShDQU1QX0NPT0tJRV9OQU1FLCBnZXRIb3N0TmFtZSgpKTtcbiAgICBTdG9yYWdlTWFuYWdlci5yZW1vdmVDb29raWUoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uJDEpW19zZXNzaW9uJDFdLmNvb2tpZU5hbWUsICRjdC5icm9hZERvbWFpbik7XG4gICAgU3RvcmFnZU1hbmFnZXIucmVtb3ZlQ29va2llKEFSUF9DT09LSUUsICRjdC5icm9hZERvbWFpbik7XG5cbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMSlbX3Nlc3Npb24kMV0uc2V0U2Vzc2lvbkNvb2tpZU9iamVjdCgnJyk7XG4gIH07XG5cbiAgdmFyIF9kZWxldGVVc2VyMiA9IGZ1bmN0aW9uIF9kZWxldGVVc2VyMigpIHtcbiAgICAkY3QuYmxvY2tSZXF1ZXN0ID0gdHJ1ZTtcblxuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDQpW19sb2dnZXIkNF0uZGVidWcoJ0Jsb2NrIHJlcXVlc3QgaXMgdHJ1ZScpO1xuXG4gICAgJGN0Lmdsb2JhbENhY2hlID0ge1xuICAgICAgZ2Nvb2tpZTogbnVsbCxcbiAgICAgIFJFUV9OOiAwLFxuICAgICAgUkVTUF9OOiAwXG4gICAgfTtcblxuICAgIGlmIChTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtHQ09PS0lFX05BTUVdO1xuICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtLQ09PS0lFX05BTUVdO1xuICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtQUl9DT09LSUVdO1xuICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtFVl9DT09LSUVdO1xuICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtNRVRBX0NPT0tJRV07XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW0FSUF9DT09LSUVdO1xuICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtDQU1QX0NPT0tJRV9OQU1FXTtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbQ0hBUkdFRElEX0NPT0tJRV9OQU1FXTtcbiAgICB9XG5cbiAgICBTdG9yYWdlTWFuYWdlci5yZW1vdmVDb29raWUoR0NPT0tJRV9OQU1FLCAkY3QuYnJvYWREb21haW4pO1xuICAgIFN0b3JhZ2VNYW5hZ2VyLnJlbW92ZUNvb2tpZShDQU1QX0NPT0tJRV9OQU1FLCBnZXRIb3N0TmFtZSgpKTtcbiAgICBTdG9yYWdlTWFuYWdlci5yZW1vdmVDb29raWUoS0NPT0tJRV9OQU1FLCBnZXRIb3N0TmFtZSgpKTtcbiAgICBTdG9yYWdlTWFuYWdlci5yZW1vdmVDb29raWUoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uJDEpW19zZXNzaW9uJDFdLmNvb2tpZU5hbWUsICRjdC5icm9hZERvbWFpbik7XG4gICAgU3RvcmFnZU1hbmFnZXIucmVtb3ZlQ29va2llKEFSUF9DT09LSUUsICRjdC5icm9hZERvbWFpbik7XG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UkMSlbX2RldmljZSQxXS5nY29va2llID0gbnVsbDtcblxuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbiQxKVtfc2Vzc2lvbiQxXS5zZXRTZXNzaW9uQ29va2llT2JqZWN0KCcnKTtcbiAgfTtcblxuICB2YXIgX3Byb2Nlc3NMb2dpbkFycmF5MiA9IGZ1bmN0aW9uIF9wcm9jZXNzTG9naW5BcnJheTIobG9naW5BcnIpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShsb2dpbkFycikgJiYgbG9naW5BcnIubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgcHJvZmlsZU9iaiA9IGxvZ2luQXJyLnBvcCgpO1xuICAgICAgY29uc3QgcHJvY2Vzc1Byb2ZpbGUgPSBwcm9maWxlT2JqICE9IG51bGwgJiYgaXNPYmplY3QocHJvZmlsZU9iaikgJiYgKHByb2ZpbGVPYmouU2l0ZSAhPSBudWxsICYmIE9iamVjdC5rZXlzKHByb2ZpbGVPYmouU2l0ZSkubGVuZ3RoID4gMCB8fCBwcm9maWxlT2JqLkZhY2Vib29rICE9IG51bGwgJiYgT2JqZWN0LmtleXMocHJvZmlsZU9iai5GYWNlYm9vaykubGVuZ3RoID4gMCB8fCBwcm9maWxlT2JqWydHb29nbGUgUGx1cyddICE9IG51bGwgJiYgT2JqZWN0LmtleXMocHJvZmlsZU9ialsnR29vZ2xlIFBsdXMnXSkubGVuZ3RoID4gMCk7XG5cbiAgICAgIGlmIChwcm9jZXNzUHJvZmlsZSkge1xuICAgICAgICBTdG9yYWdlTWFuYWdlci5zZXRJbnN0YW50RGVsZXRlRmxhZ0luSygpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wcm9jZXNzT1VMKVtfcHJvY2Vzc09VTF0oW3Byb2ZpbGVPYmpdKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDQpW19sb2dnZXIkNF0uZGVidWcoZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDQpW19sb2dnZXIkNF0uZXJyb3IoJ1Byb2ZpbGUgb2JqZWN0IGlzIGluIGluY29ycmVjdCBmb3JtYXQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY2xhc3MgQ1RXZWJQZXJzb25hbGlzYXRpb25CYW5uZXIgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpO1xuICAgICAgdGhpcy5fZGV0YWlscyA9IG51bGw7XG4gICAgICB0aGlzLnNoYWRvdyA9IG51bGw7XG4gICAgICB0aGlzLnNoYWRvdyA9IHRoaXMuYXR0YWNoU2hhZG93KHtcbiAgICAgICAgbW9kZTogJ29wZW4nXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXQgZGV0YWlscygpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kZXRhaWxzIHx8ICcnO1xuICAgIH1cblxuICAgIHNldCBkZXRhaWxzKHZhbCkge1xuICAgICAgaWYgKHRoaXMuX2RldGFpbHMgPT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fZGV0YWlscyA9IHZhbDtcbiAgICAgICAgdGhpcy5yZW5kZXJCYW5uZXIoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJCYW5uZXIoKSB7XG4gICAgICB0aGlzLnNoYWRvdy5pbm5lckhUTUwgPSB0aGlzLmdldEJhbm5lckNvbnRlbnQoKTtcblxuICAgICAgaWYgKHRoaXMudHJhY2tDbGljayAhPT0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBjb25zdCBvbkNsaWNrVXJsID0gdGhpcy5kZXRhaWxzLm9uQ2xpY2s7XG5cbiAgICAgICAgICBpZiAob25DbGlja1VybCkge1xuICAgICAgICAgICAgdGhpcy5kZXRhaWxzLndpbmRvdyA/IHdpbmRvdy5vcGVuKG9uQ2xpY2tVcmwsICdfYmxhbmsnKSA6IHdpbmRvdy5wYXJlbnQubG9jYXRpb24uaHJlZiA9IG9uQ2xpY2tVcmw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgd2luZG93LmNsZXZlcnRhcC5yZW5kZXJOb3RpZmljYXRpb25DbGlja2VkKHtcbiAgICAgICAgICAgIG1zZ0lkOiB0aGlzLm1zZ0lkLFxuICAgICAgICAgICAgcGl2b3RJZDogdGhpcy5waXZvdElkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB3aW5kb3cuY2xldmVydGFwLnJlbmRlck5vdGlmaWNhdGlvblZpZXdlZCh7XG4gICAgICAgIG1zZ0lkOiB0aGlzLm1zZ0lkLFxuICAgICAgICBwaXZvdElkOiB0aGlzLnBpdm90SWRcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldEJhbm5lckNvbnRlbnQoKSB7XG4gICAgICByZXR1cm4gXCJcXG4gICAgICA8c3R5bGUgdHlwZT1cXFwidGV4dC9jc3NcXFwiPlxcbiAgICAgICAgLmJhbm5lciB7XFxuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgICAgICAgY3Vyc29yOiBcIi5jb25jYXQodGhpcy5kZXRhaWxzLm9uQ2xpY2sgPyAncG9pbnRlcicgOiAnJywgXCJcXG4gICAgICAgIH1cXG4gICAgICAgIGltZyB7XFxuICAgICAgICAgIGhlaWdodDogXCIpLmNvbmNhdCh0aGlzLmRpdkhlaWdodCA/IHRoaXMuZGl2SGVpZ2h0IDogJ2F1dG8nLCBcIjtcXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgICB9XFxuICAgICAgICAud3JhcHBlcjppcygubGVmdCwgLnJpZ2h0LCAuY2VudGVyKSB7XFxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgICAgICAgIG92ZXJmbG93OiBhdXRvO1xcbiAgICAgICAgICB0b3A6IDA7XFxuICAgICAgICB9XFxuICAgICAgICBcIikuY29uY2F0KHRoaXMuZGV0YWlscy5jc3MgPyB0aGlzLmRldGFpbHMuY3NzIDogJycsIFwiXFxuICAgICAgPC9zdHlsZT5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJiYW5uZXJcXFwiPlxcbiAgICAgICAgPHBpY3R1cmU+XFxuICAgICAgICAgIDxzb3VyY2UgbWVkaWE9XFxcIihtaW4td2lkdGg6NDgwcHgpXFxcIiBzcmNzZXQ9XFxcIlwiKS5jb25jYXQodGhpcy5kZXRhaWxzLmRlc2t0b3BJbWFnZVVSTCwgXCJcXFwiPlxcbiAgICAgICAgICA8c291cmNlIHNyY3NldD1cXFwiXCIpLmNvbmNhdCh0aGlzLmRldGFpbHMubW9iaWxlSW1hZ2VVUkwsIFwiXFxcIj5cXG4gICAgICAgICAgPGltZyBzcmM9XFxcIlwiKS5jb25jYXQodGhpcy5kZXRhaWxzLmRlc2t0b3BJbWFnZVVSTCwgXCJcXFwiIGFsdD1cXFwiUGxlYXNlIHVwbG9hZCBhIHBpY3R1cmVcXFwiIHN0eWxlPVxcXCJ3aWR0aDoxMDAlO1xcXCIgcGFydD1cXFwiYmFubmVyX19pbWdcXFwiPlxcbiAgICAgICAgPC9waWN0dXJlPlxcbiAgICAgICAgXCIpLmNvbmNhdCh0aGlzLmRldGFpbHMuaHRtbCA/IHRoaXMuZGV0YWlscy5odG1sIDogJycsIFwiXFxuICAgICAgPC9kaXY+XFxuICAgIFwiKTtcbiAgICB9XG5cbiAgfVxuXG4gIGNsYXNzIENUV2ViUGVyc29uYWxpc2F0aW9uQ2Fyb3VzZWwgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpO1xuICAgICAgdGhpcy5fdGFyZ2V0ID0gbnVsbDtcbiAgICAgIHRoaXMuX2Nhcm91c2VsID0gbnVsbDtcbiAgICAgIHRoaXMuc2hhZG93ID0gbnVsbDtcbiAgICAgIHRoaXMuc2xpZGVzID0gMDtcbiAgICAgIHRoaXMucHJldmlvdXNseVNlbGVjdGVkSXRlbSA9IC0xO1xuICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSAxO1xuICAgICAgdGhpcy5hdXRvU2xpZGUgPSBudWxsO1xuICAgICAgdGhpcy5zdG9wQXV0b1NsaWRlVGltZW91dCA9IG51bGw7XG4gICAgICB0aGlzLnNoYWRvdyA9IHRoaXMuYXR0YWNoU2hhZG93KHtcbiAgICAgICAgbW9kZTogJ29wZW4nXG4gICAgICB9KTtcblxuICAgICAgaWYgKGN1c3RvbUVsZW1lbnRzLmdldCgnY3Qtd2ViLXBlcnNvbmFsaXNhdGlvbi1iYW5uZXInKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnY3Qtd2ViLXBlcnNvbmFsaXNhdGlvbi1iYW5uZXInLCBDVFdlYlBlcnNvbmFsaXNhdGlvbkJhbm5lcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IHRhcmdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl90YXJnZXQgfHwgJyc7XG4gICAgfVxuXG4gICAgc2V0IHRhcmdldCh2YWwpIHtcbiAgICAgIGlmICh0aGlzLl90YXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdmFsO1xuICAgICAgICB0aGlzLnJlbmRlckNhcm91c2VsKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGRldGFpbHMoKSB7XG4gICAgICByZXR1cm4gdGhpcy50YXJnZXQuZGlzcGxheS5kZXRhaWxzO1xuICAgIH1cblxuICAgIGdldCBkaXNwbGF5KCkge1xuICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0LmRpc3BsYXk7XG4gICAgfVxuXG4gICAgcmVuZGVyQ2Fyb3VzZWwoKSB7XG4gICAgICB0aGlzLnNsaWRlcyA9IHRoaXMuZGV0YWlscy5sZW5ndGg7XG4gICAgICB0aGlzLnNoYWRvdy5pbm5lckhUTUwgPSB0aGlzLmdldFN0eWxlcygpO1xuICAgICAgY29uc3QgY2Fyb3VzZWwgPSB0aGlzLmdldENhcm91c2VsQ29udGVudCgpO1xuXG4gICAgICBpZiAodGhpcy5kaXNwbGF5LnNob3dOYXZCdG5zKSB7XG4gICAgICAgIGNhcm91c2VsLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgdGhpcy5kaXNwbGF5Lm5hdkJ0bnNIdG1sKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZGlzcGxheS5zaG93TmF2QXJyb3dzKSB7XG4gICAgICAgIGNhcm91c2VsLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgdGhpcy5kaXNwbGF5LmxlZnROYXZBcnJvd0h0bWwpO1xuICAgICAgICBjYXJvdXNlbC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIHRoaXMuZGlzcGxheS5yaWdodE5hdkFycm93SHRtbCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2Nhcm91c2VsID0gY2Fyb3VzZWw7XG4gICAgICB0aGlzLnNoYWRvdy5hcHBlbmRDaGlsZChjYXJvdXNlbCk7XG4gICAgICB0aGlzLnNldHVwQ2xpY2soKTtcbiAgICAgIHRoaXMudXBkYXRlU2VsZWN0ZWRJdGVtKCk7IC8vIFRPRE86IGVuYWJsZSBjb25kaXRpb25hbGx5XG5cbiAgICAgIHRoaXMuc3RhcnRBdXRvU2xpZGUoKTtcbiAgICAgIHRoaXMuc2V0dXBPbkhvdmVyKCk7XG4gICAgICB3aW5kb3cuY2xldmVydGFwLnJlbmRlck5vdGlmaWNhdGlvblZpZXdlZCh7XG4gICAgICAgIG1zZ0lkOiB0aGlzLnRhcmdldC53enJrX2lkLFxuICAgICAgICBwaXZvdElkOiB0aGlzLnRhcmdldC53enJrX3Bpdm90XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXR1cENsaWNrKCkge1xuICAgICAgdGhpcy5fY2Fyb3VzZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XG4gICAgICAgIGNvbnN0IGV2ZW50SUQgPSBldmVudC50YXJnZXQuaWQ7XG5cbiAgICAgICAgaWYgKGV2ZW50SUQuc3RhcnRzV2l0aCgnY2Fyb3VzZWxfX2J1dHRvbicpKSB7XG4gICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSArZXZlbnRJRC5zcGxpdCgnLScpWzFdO1xuXG4gICAgICAgICAgaWYgKHNlbGVjdGVkICE9PSB0aGlzLnNlbGVjdGVkSXRlbSkge1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91c2x5U2VsZWN0ZWRJdGVtID0gdGhpcy5zZWxlY3RlZEl0ZW07XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IHNlbGVjdGVkO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTZWxlY3RlZEl0ZW0oKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRBdXRvU2xpZGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRJRC5zdGFydHNXaXRoKCdjYXJvdXNlbF9fYXJyb3cnKSkge1xuICAgICAgICAgIGV2ZW50SUQuZW5kc1dpdGgoJ3JpZ2h0JykgPyB0aGlzLmdvVG9OZXh0KCkgOiB0aGlzLmdvVG9QcmV2KCk7XG4gICAgICAgICAgdGhpcy5zdGFydEF1dG9TbGlkZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50SUQuaW5kZXhPZignLScpID4gLTEpIHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gK2V2ZW50SUQuc3BsaXQoJy0nKVsxXTtcbiAgICAgICAgICBjb25zdCBpbmRleCA9IGl0ZW0gLSAxO1xuXG4gICAgICAgICAgaWYgKHdpbmRvdy5wYXJlbnQuY2xldmVydGFwKSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnUmFpc2Ugbm90aWZpY2F0aW9uIGNsaWNrZWQgZXZlbnQgZm9yICcsIGl0ZW0pXG4gICAgICAgICAgICB3aW5kb3cuY2xldmVydGFwLnJlbmRlck5vdGlmaWNhdGlvbkNsaWNrZWQoe1xuICAgICAgICAgICAgICBtc2dJZDogdGhpcy50YXJnZXQud3pya19pZCxcbiAgICAgICAgICAgICAgcGl2b3RJZDogdGhpcy50YXJnZXQud3pya19waXZvdCxcbiAgICAgICAgICAgICAgd3pya19zbGlkZU5vOiBpdGVtXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCB1cmwgPSB0aGlzLmRldGFpbHNbaW5kZXhdLm9uQ2xpY2s7XG5cbiAgICAgICAgICBpZiAodXJsICE9PSAnJykge1xuICAgICAgICAgICAgdGhpcy5kZXRhaWxzW2luZGV4XS53aW5kb3cgPyB3aW5kb3cub3Blbih1cmwsICdfYmxhbmsnKSA6IHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0dXBPbkhvdmVyKCkge1xuICAgICAgdGhpcy5fY2Fyb3VzZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGV2ZW50ID0+IHtcbiAgICAgICAgdGhpcy5zdG9wQXV0b1NsaWRlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuYXV0b1NsaWRlID0gY2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9TbGlkZSk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fY2Fyb3VzZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGV2ZW50ID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc3RvcEF1dG9TbGlkZVRpbWVvdXQpO1xuXG4gICAgICAgIGlmICh0aGlzLmF1dG9TbGlkZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhpcy5zdGFydEF1dG9TbGlkZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRDYXJvdXNlbENvbnRlbnQoKSB7XG4gICAgICBjb25zdCBjYXJvdXNlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY2Fyb3VzZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjYXJvdXNlbCcpO1xuICAgICAgdGhpcy5kZXRhaWxzLmZvckVhY2goKGRldGFpbCwgaSkgPT4ge1xuICAgICAgICBjb25zdCBiYW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjdC13ZWItcGVyc29uYWxpc2F0aW9uLWJhbm5lcicpO1xuICAgICAgICBiYW5uZXIuY2xhc3NMaXN0LmFkZCgnY2Fyb3VzZWxfX2l0ZW0nKTtcbiAgICAgICAgYmFubmVyLnRyYWNrQ2xpY2sgPSBmYWxzZTtcbiAgICAgICAgYmFubmVyLnNldEF0dHJpYnV0ZSgnaWQnLCBcImNhcm91c2VsX19pdGVtLVwiLmNvbmNhdChpICsgMSkpO1xuICAgICAgICBiYW5uZXIuZGV0YWlscyA9IGRldGFpbDtcbiAgICAgICAgY2Fyb3VzZWwuYXBwZW5kQ2hpbGQoYmFubmVyKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNhcm91c2VsO1xuICAgIH1cblxuICAgIGdldFN0eWxlcygpIHtcbiAgICAgIHZhciBfdGhpcyR0YXJnZXQsIF90aGlzJHRhcmdldCRkaXNwbGF5O1xuXG4gICAgICByZXR1cm4gXCJcXG4gICAgICA8c3R5bGU+XFxuICAgICAgLmNhcm91c2VsIHtcXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgICB9XFxuXFxuICAgICAgLmNhcm91c2VsX19pdGVtIHtcXG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgICAgICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcXG4gICAgICB9XFxuXFxuICAgICAgY3Qtd2ViLXBlcnNvbmFsaXNhdGlvbi1iYW5uZXI6OnBhcnQoYmFubmVyX19pbWcpIHtcXG4gICAgICAgIGhlaWdodDogXCIuY29uY2F0KCh0aGlzID09PSBudWxsIHx8IHRoaXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdGhpcyR0YXJnZXQgPSB0aGlzLnRhcmdldCkgPT09IG51bGwgfHwgX3RoaXMkdGFyZ2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMkdGFyZ2V0JGRpc3BsYXkgPSBfdGhpcyR0YXJnZXQuZGlzcGxheSkgPT09IG51bGwgfHwgX3RoaXMkdGFyZ2V0JGRpc3BsYXkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHRhcmdldCRkaXNwbGF5LmRpdkhlaWdodCkgPyB0aGlzLnRhcmdldC5kaXNwbGF5LmRpdkhlaWdodCA6ICdhdXRvJywgXCI7XFxuICAgICAgICB3aWR0aDogMTAwJTtcXG4gICAgICAgIHRyYW5zaXRpb246IDJzO1xcbiAgICAgIH1cXG5cXG4gICAgICAuY2Fyb3VzZWxfX2l0ZW0tLXNlbGVjdGVkIHtcXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICAgIH1cXG4gICAgICBcIikuY29uY2F0KHRoaXMuZGlzcGxheS5uYXZCdG5zQ3NzLCBcIlxcbiAgICAgIFwiKS5jb25jYXQodGhpcy5kaXNwbGF5Lm5hdkFycm93c0NzcywgXCJcXG4gICAgICA8L3N0eWxlPlxcbiAgXCIpO1xuICAgIH1cblxuICAgIHVwZGF0ZVNlbGVjdGVkSXRlbSgpIHtcbiAgICAgIGlmICh0aGlzLnByZXZpb3VzbHlTZWxlY3RlZEl0ZW0gIT09IC0xKSB7XG4gICAgICAgIGNvbnN0IHByZXZJdGVtID0gdGhpcy5zaGFkb3cuZ2V0RWxlbWVudEJ5SWQoXCJjYXJvdXNlbF9faXRlbS1cIi5jb25jYXQodGhpcy5wcmV2aW91c2x5U2VsZWN0ZWRJdGVtKSk7XG4gICAgICAgIGNvbnN0IHByZXZCdXR0b24gPSB0aGlzLnNoYWRvdy5nZXRFbGVtZW50QnlJZChcImNhcm91c2VsX19idXR0b24tXCIuY29uY2F0KHRoaXMucHJldmlvdXNseVNlbGVjdGVkSXRlbSkpO1xuICAgICAgICBwcmV2SXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdjYXJvdXNlbF9faXRlbS0tc2VsZWN0ZWQnKTtcblxuICAgICAgICBpZiAocHJldkJ1dHRvbikge1xuICAgICAgICAgIHByZXZCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnY2Fyb3VzZWxfX2J1dHRvbi0tc2VsZWN0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBpdGVtID0gdGhpcy5zaGFkb3cuZ2V0RWxlbWVudEJ5SWQoXCJjYXJvdXNlbF9faXRlbS1cIi5jb25jYXQodGhpcy5zZWxlY3RlZEl0ZW0pKTtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMuc2hhZG93LmdldEVsZW1lbnRCeUlkKFwiY2Fyb3VzZWxfX2J1dHRvbi1cIi5jb25jYXQodGhpcy5zZWxlY3RlZEl0ZW0pKTtcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnY2Fyb3VzZWxfX2l0ZW0tLXNlbGVjdGVkJyk7XG5cbiAgICAgIGlmIChidXR0b24pIHtcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Nhcm91c2VsX19idXR0b24tLXNlbGVjdGVkJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3RhcnRBdXRvU2xpZGUoKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuYXV0b1NsaWRlKTtcbiAgICAgIHRoaXMuYXV0b1NsaWRlID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICB0aGlzLmdvVG9OZXh0KCk7XG4gICAgICB9LCB0aGlzLmRpc3BsYXkuc2xpZGVyVGltZSA/IHRoaXMuZGlzcGxheS5zbGlkZXJUaW1lICogMTAwMCA6IDMwMDApO1xuICAgIH1cblxuICAgIGdvVG9OZXh0KCkge1xuICAgICAgdGhpcy5nb1RvKHRoaXMuc2VsZWN0ZWRJdGVtLCAodGhpcy5zZWxlY3RlZEl0ZW0gKyAxKSAlIHRoaXMuc2xpZGVzKTtcbiAgICB9XG5cbiAgICBnb1RvUHJldigpIHtcbiAgICAgIHRoaXMuZ29Ubyh0aGlzLnNlbGVjdGVkSXRlbSwgdGhpcy5zZWxlY3RlZEl0ZW0gLSAxKTtcbiAgICB9XG5cbiAgICBnb1RvKHByZXYsIGN1cikge1xuICAgICAgdGhpcy5wcmV2aW91c2x5U2VsZWN0ZWRJdGVtID0gcHJldjtcbiAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gY3VyO1xuXG4gICAgICBpZiAoY3VyID09PSAwKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gdGhpcy5zbGlkZXM7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudXBkYXRlU2VsZWN0ZWRJdGVtKCk7XG4gICAgfVxuXG4gIH1cblxuICBjbGFzcyBDVFdlYlBvcHVwSW1hZ2VPbmx5IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIHRoaXMuX3RhcmdldCA9IG51bGw7XG4gICAgICB0aGlzLl9zZXNzaW9uID0gbnVsbDtcbiAgICAgIHRoaXMuc2hhZG93ID0gbnVsbDtcbiAgICAgIHRoaXMucG9wdXAgPSBudWxsO1xuICAgICAgdGhpcy5jb250YWluZXIgPSBudWxsO1xuICAgICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IG51bGw7XG4gICAgICB0aGlzLnNoYWRvdyA9IHRoaXMuYXR0YWNoU2hhZG93KHtcbiAgICAgICAgbW9kZTogJ29wZW4nXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXQgdGFyZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldCB8fCAnJztcbiAgICB9XG5cbiAgICBzZXQgdGFyZ2V0KHZhbCkge1xuICAgICAgaWYgKHRoaXMuX3RhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICB0aGlzLl90YXJnZXQgPSB2YWw7XG4gICAgICAgIHRoaXMucmVuZGVySW1hZ2VPbmx5UG9wdXAoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgc2Vzc2lvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zZXNzaW9uIHx8ICcnO1xuICAgIH1cblxuICAgIHNldCBzZXNzaW9uKHZhbCkge1xuICAgICAgdGhpcy5fc2Vzc2lvbiA9IHZhbDtcbiAgICB9XG5cbiAgICBnZXQgbXNnSWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy50YXJnZXQud3pya19pZDtcbiAgICB9XG5cbiAgICBnZXQgcGl2b3RJZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRhcmdldC53enJrX3Bpdm90O1xuICAgIH1cblxuICAgIGdldCBvbkNsaWNrVXJsKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0LmRpc3BsYXkub25DbGlja1VybDtcbiAgICB9XG5cbiAgICByZW5kZXJJbWFnZU9ubHlQb3B1cCgpIHtcbiAgICAgIGNvbnN0IGNhbXBhaWduSWQgPSB0aGlzLnRhcmdldC53enJrX2lkLnNwbGl0KCdfJylbMF07XG4gICAgICBjb25zdCBjdXJyZW50U2Vzc2lvbklkID0gdGhpcy5zZXNzaW9uLnNlc3Npb25JZDtcbiAgICAgIHRoaXMuc2hhZG93LmlubmVySFRNTCA9IHRoaXMuZ2V0SW1hZ2VPbmx5UG9wdXBDb250ZW50KCk7XG4gICAgICB0aGlzLnBvcHVwID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdpbWFnZU9ubHlQb3B1cCcpO1xuICAgICAgdGhpcy5jb250YWluZXIgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpO1xuICAgICAgdGhpcy5jbG9zZUljb24gPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlJyk7XG4gICAgICB0aGlzLnBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLnVwZGF0ZUltYWdlQW5kQ29udGFpbmVyV2lkdGgoKSk7XG4gICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHRoaXMuaGFuZGxlUmVzaXplKHRoaXMucG9wdXAsIHRoaXMuY29udGFpbmVyKSk7XG4gICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy5wb3B1cCk7XG4gICAgICB0aGlzLmNsb3NlSWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci51bm9ic2VydmUodGhpcy5wb3B1cCk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3enJrSW1hZ2VPbmx5RGl2Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgdGhpcy5yZW1vdmUoKTtcblxuICAgICAgICBpZiAoY2FtcGFpZ25JZCAhPSBudWxsICYmIGNhbXBhaWduSWQgIT09ICctMScpIHtcbiAgICAgICAgICBpZiAoU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbXBhaWduT2JqID0gZ2V0Q2FtcGFpZ25PYmplY3QoKTtcbiAgICAgICAgICAgIGxldCBzZXNzaW9uQ2FtcGFpZ25PYmogPSBjYW1wYWlnbk9iai53cFtjdXJyZW50U2Vzc2lvbklkXTtcblxuICAgICAgICAgICAgaWYgKHNlc3Npb25DYW1wYWlnbk9iaiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHNlc3Npb25DYW1wYWlnbk9iaiA9IHt9O1xuICAgICAgICAgICAgICBjYW1wYWlnbk9ialtjdXJyZW50U2Vzc2lvbklkXSA9IHNlc3Npb25DYW1wYWlnbk9iajtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2Vzc2lvbkNhbXBhaWduT2JqW2NhbXBhaWduSWRdID0gJ2RuZCc7XG4gICAgICAgICAgICBzYXZlQ2FtcGFpZ25PYmplY3QoY2FtcGFpZ25PYmopO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB3aW5kb3cuY2xldmVydGFwLnJlbmRlck5vdGlmaWNhdGlvblZpZXdlZCh7XG4gICAgICAgIG1zZ0lkOiB0aGlzLm1zZ0lkLFxuICAgICAgICBwaXZvdElkOiB0aGlzLnBpdm90SWRcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy5vbkNsaWNrVXJsKSB7XG4gICAgICAgIHRoaXMucG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy50YXJnZXQuZGlzcGxheS53aW5kb3cgPyB3aW5kb3cub3Blbih0aGlzLm9uQ2xpY2tVcmwsICdfYmxhbmsnKSA6IHdpbmRvdy5wYXJlbnQubG9jYXRpb24uaHJlZiA9IHRoaXMub25DbGlja1VybDtcbiAgICAgICAgICB3aW5kb3cuY2xldmVydGFwLnJlbmRlck5vdGlmaWNhdGlvbkNsaWNrZWQoe1xuICAgICAgICAgICAgbXNnSWQ6IHRoaXMubXNnSWQsXG4gICAgICAgICAgICBwaXZvdElkOiB0aGlzLnBpdm90SWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlUmVzaXplKHBvcHVwLCBjb250YWluZXIpIHtcbiAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5nZXRSZW5kZXJlZEltYWdlV2lkdGgocG9wdXApO1xuICAgICAgY29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KCd3aWR0aCcsIFwiXCIuY29uY2F0KHdpZHRoLCBcInB4XCIpKTtcbiAgICB9XG5cbiAgICBnZXRJbWFnZU9ubHlQb3B1cENvbnRlbnQoKSB7XG4gICAgICByZXR1cm4gXCJcXG4gICAgICAgIFwiLmNvbmNhdCh0aGlzLnRhcmdldC5tc2dDb250ZW50LmNzcywgXCJcXG4gICAgICAgIFwiKS5jb25jYXQodGhpcy50YXJnZXQubXNnQ29udGVudC5odG1sLCBcIlxcbiAgICAgIFwiKTtcbiAgICB9XG5cbiAgICB1cGRhdGVJbWFnZUFuZENvbnRhaW5lcldpZHRoKCkge1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLmdldFJlbmRlcmVkSW1hZ2VXaWR0aCh0aGlzLnBvcHVwKTtcbiAgICAgICAgdGhpcy5wb3B1cC5zdHlsZS5zZXRQcm9wZXJ0eSgnd2lkdGgnLCBcIlwiLmNvbmNhdCh3aWR0aCwgXCJweFwiKSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KCd3aWR0aCcsIFwiXCIuY29uY2F0KHdpZHRoLCBcInB4XCIpKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoJ2hlaWdodCcsICdhdXRvJyk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KCdwb3NpdGlvbicsICdmaXhlZCcpO1xuICAgICAgICB0aGlzLnBvcHVwLnN0eWxlLnNldFByb3BlcnR5KCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcbiAgICAgICAgdGhpcy5jbG9zZUljb24uc3R5bGUuc2V0UHJvcGVydHkoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3pya0ltYWdlT25seURpdicpLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGdldFJlbmRlcmVkSW1hZ2VXaWR0aChpbWcpIHtcbiAgICAgIGNvbnN0IHJhdGlvID0gaW1nLm5hdHVyYWxXaWR0aCAvIGltZy5uYXR1cmFsSGVpZ2h0O1xuICAgICAgcmV0dXJuIGltZy5oZWlnaHQgKiByYXRpbztcbiAgICB9XG5cbiAgfVxuXG4gIGNsYXNzIE1lc3NhZ2UgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnLCBtZXNzYWdlKSB7XG4gICAgICBzdXBlcigpO1xuICAgICAgdGhpcy53cmFwcGVyID0gbnVsbDtcbiAgICAgIHRoaXMuc25hY2tCYXIgPSBudWxsO1xuICAgICAgdGhpcy5zaGFkb3cgPSB0aGlzLmF0dGFjaFNoYWRvdyh7XG4gICAgICAgIG1vZGU6ICdvcGVuJ1xuICAgICAgfSk7XG4gICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICB0aGlzLnJlbmRlck1lc3NhZ2UobWVzc2FnZSk7XG4gICAgfVxuXG4gICAgZ2V0IHBpdm90SWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tZXNzYWdlLnd6cmtfcGl2b3Q7XG4gICAgfVxuXG4gICAgZ2V0IGNhbXBhaWduSWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tZXNzYWdlLnd6cmtfaWQ7XG4gICAgfVxuXG4gICAgY3JlYXRlRWwodHlwZSwgaWQsIHBhcnQpIHtcbiAgICAgIGNvbnN0IF9lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG5cbiAgICAgIF9lbC5zZXRBdHRyaWJ1dGUoJ2lkJywgaWQpO1xuXG4gICAgICBfZWwuc2V0QXR0cmlidXRlKCdwYXJ0JywgcGFydCB8fCBpZCk7XG5cbiAgICAgIHJldHVybiBfZWw7XG4gICAgfVxuXG4gICAgcmVuZGVyTWVzc2FnZShtc2cpIHtcbiAgICAgIHRoaXMud3JhcHBlciA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsICdtZXNzYWdlV3JhcHBlcicpO1xuXG4gICAgICBzd2l0Y2ggKG1zZy50ZW1wbGF0ZVR5cGUpIHtcbiAgICAgICAgY2FzZSAndGV4dC1vbmx5JzpcbiAgICAgICAgY2FzZSAndGV4dC13aXRoLWljb24nOlxuICAgICAgICBjYXNlICd0ZXh0LXdpdGgtaWNvbi1hbmQtaW1hZ2UnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLnByZXBhcmVCYXNpY01lc3NhZ2UobXNnLm1zZ1swXSk7XG4gICAgICAgICAgICB0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQobWVzc2FnZSk7XG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCB0aW1lU3RhbXAgPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCAndGltZVN0YW1wJyk7XG4gICAgICB0aW1lU3RhbXAuaW5uZXJIVE1MID0gXCI8c3Bhbj5cIi5jb25jYXQoZGV0ZXJtaW5lVGltZVN0YW1wVGV4dChtc2cuaWQuc3BsaXQoJ18nKVsxXSksIFwiPHNwYW4+XCIpO1xuXG4gICAgICBpZiAoIW1zZy52aWV3ZWQpIHtcbiAgICAgICAgY29uc3QgdW5yZWFkTWFya2VyID0gdGhpcy5jcmVhdGVFbCgnc3BhbicsICd1bnJlYWRNYXJrZXInKTtcbiAgICAgICAgdGltZVN0YW1wLmFwcGVuZENoaWxkKHVucmVhZE1hcmtlcik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMud3JhcHBlci5hcHBlbmRDaGlsZCh0aW1lU3RhbXApO1xuICAgICAgdGhpcy5zaGFkb3cuYXBwZW5kQ2hpbGQodGhpcy53cmFwcGVyKTtcbiAgICB9XG5cbiAgICBwcmVwYXJlQmFzaWNNZXNzYWdlKG1zZykge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsICdtZXNzYWdlJyk7XG5cbiAgICAgIGlmIChtc2cuaW1hZ2VVcmwpIHtcbiAgICAgICAgY29uc3QgaW1hZ2VDb250YWluZXIgPSB0aGlzLmFkZEltYWdlKG1zZy5pbWFnZVVybCwgJ21haW5JbWcnKTtcbiAgICAgICAgbWVzc2FnZS5hcHBlbmRDaGlsZChpbWFnZUNvbnRhaW5lcik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGljb25UaXRsZURlc2NXcmFwcGVyID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgJ2ljb25UaXRsZURlc2NXcmFwcGVyJyk7XG5cbiAgICAgIGlmIChtc2cuaWNvblVybCkge1xuICAgICAgICBjb25zdCBpY29uQ29udGFpbmVyID0gdGhpcy5hZGRJbWFnZShtc2cuaWNvblVybCwgJ2ljb25JbWcnKTtcbiAgICAgICAgaWNvblRpdGxlRGVzY1dyYXBwZXIuYXBwZW5kQ2hpbGQoaWNvbkNvbnRhaW5lcik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRpdGxlRGVzY1dyYXBwZXIgPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCAndGl0bGVEZXNjV3JhcHBlcicpO1xuXG4gICAgICBpZiAobXNnLnRpdGxlKSB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgJ3RpdGxlJyk7XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9IG1zZy50aXRsZTtcbiAgICAgICAgdGl0bGVEZXNjV3JhcHBlci5hcHBlbmRDaGlsZCh0aXRsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChtc2cuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCAnZGVzY3JpcHRpb24nKTtcbiAgICAgICAgZGVzY3JpcHRpb24uaW5uZXJUZXh0ID0gbXNnLmRlc2NyaXB0aW9uO1xuICAgICAgICB0aXRsZURlc2NXcmFwcGVyLmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1zZy50aXRsZSB8fCBtc2cuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgaWNvblRpdGxlRGVzY1dyYXBwZXIuYXBwZW5kQ2hpbGQodGl0bGVEZXNjV3JhcHBlcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChtc2cuaWNvblVybCB8fCBtc2cudGl0bGUgfHwgbXNnLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgIG1lc3NhZ2UuYXBwZW5kQ2hpbGQoaWNvblRpdGxlRGVzY1dyYXBwZXIpO1xuICAgICAgfVxuXG4gICAgICBpZiAobXNnLmJ1dHRvbnMgJiYgbXNnLmJ1dHRvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbnNDb250YWluZXIgPSB0aGlzLmFkZEJ1dHRvbnMobXNnLmJ1dHRvbnMpO1xuICAgICAgICBtZXNzYWdlLmFwcGVuZENoaWxkKGJ1dHRvbnNDb250YWluZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG5cbiAgICBhZGRCdXR0b25zKCkge1xuICAgICAgbGV0IGJ1dHRvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdO1xuICAgICAgY29uc3QgYnV0dG9uc0NvbnRhaW5lciA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsICdidXR0b25zQ29udGFpbmVyJyk7XG4gICAgICBsZXQgaGFzQ29weUFjdGlvbiA9IGZhbHNlO1xuICAgICAgYnV0dG9ucy5mb3JFYWNoKChiLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMuY3JlYXRlRWwoJ2J1dHRvbicsIFwiYnV0dG9uLVwiLmNvbmNhdChpKSwgJ2J1dHRvbicpO1xuICAgICAgICBidXR0b24uaW5uZXJUZXh0ID0gYi50ZXh0O1xuXG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgIGJ1dHRvbi5zdHlsZS5jc3NUZXh0ICs9ICdtYXJnaW4tbGVmdDogMnB4Oyc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYi5hY3Rpb24gPT09ICdjb3B5Jykge1xuICAgICAgICAgIGhhc0NvcHlBY3Rpb24gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgYnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChoYXNDb3B5QWN0aW9uKSB7XG4gICAgICAgIHRoaXMuYWRkU25hY2tiYXIoYnV0dG9uc0NvbnRhaW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBidXR0b25zQ29udGFpbmVyO1xuICAgIH1cblxuICAgIGFkZFNuYWNrYmFyKGJ1dHRvbnNDb250YWluZXIpIHtcbiAgICAgIHRoaXMuc25hY2tCYXIgPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCBcInNuYWNrYmFyLVwiLmNvbmNhdCh0aGlzLmNhbXBhaWduSWQpLCAnc25hY2tiYXInKTtcbiAgICAgIHRoaXMuc25hY2tCYXIuaW5uZXJIVE1MID0gZ3JlZW5UaWNrU3ZnO1xuICAgICAgY29uc3QgY2xpcGJvYXJkTXNnID0gdGhpcy5jcmVhdGVFbCgnc3BhbicsIFwic25hY2tiYXItbXNnLVwiLmNvbmNhdCh0aGlzLmNhbXBhaWduSWQpLCAnc25hY2tiYXItbXNnJyk7XG4gICAgICBjbGlwYm9hcmRNc2cuaW5uZXJUZXh0ID0gJ0NvcGllZCB0byBjbGlwYm9hcmQnO1xuICAgICAgdGhpcy5zbmFja0Jhci5hcHBlbmRDaGlsZChjbGlwYm9hcmRNc2cpO1xuICAgICAgYnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnNuYWNrQmFyKTtcbiAgICB9XG5cbiAgICBhZGRJbWFnZSh1cmwsIHR5cGUpIHtcbiAgICAgIGNvbnN0IGltYWdlQ29udGFpbmVyID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgXCJcIi5jb25jYXQodHlwZSwgXCJDb250YWluZXJcIikpO1xuICAgICAgY29uc3QgaW1hZ2UgPSB0aGlzLmNyZWF0ZUVsKCdpbWcnLCB0eXBlKTtcbiAgICAgIGltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgdXJsKTsgLy8gaW1hZ2VzIHdpbGwgYmUgZmV0Y2hlZCBhcyBhbmQgd2hlbiB0aGUgZWxlbWVudCBjb21lcyBpbnRvIHRoZSB2aWV3cG9ydFxuXG4gICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ2xvYWRpbmcnLCAnbGF6eScpO1xuICAgICAgaW1hZ2VDb250YWluZXIuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xuICAgICAgcmV0dXJuIGltYWdlQ29udGFpbmVyO1xuICAgIH1cblxuICAgIHJhaXNlQ2xpY2tlZEV2ZW50KHBhdGgsIGlzUHJldmlldykge1xuICAgICAgc3dpdGNoICh0aGlzLm1lc3NhZ2UudGVtcGxhdGVUeXBlKSB7XG4gICAgICAgIGNhc2UgJ3RleHQtb25seSc6XG4gICAgICAgIGNhc2UgJ3RleHQtd2l0aC1pY29uJzpcbiAgICAgICAgY2FzZSAndGV4dC13aXRoLWljb24tYW5kLWltYWdlJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJhaXNlQ2xpY2tlZEZvckJhc2ljVGVtcGxhdGVzKHBhdGgsIGlzUHJldmlldyk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJhaXNlQ2xpY2tlZEZvckJhc2ljVGVtcGxhdGVzKHBhdGgsIGlzUHJldmlldykge1xuICAgICAgY29uc3QgbXNnID0gdGhpcy5tZXNzYWdlLm1zZ1swXTtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIG1zZ0lkOiB0aGlzLmNhbXBhaWduSWQsXG4gICAgICAgIHBpdm90SWQ6IHRoaXMucGl2b3RJZFxuICAgICAgfTtcblxuICAgICAgaWYgKHBhdGgudGFnTmFtZSA9PT0gJ0JVVFRPTicpIHtcbiAgICAgICAgY29uc3QgaWQgPSBwYXRoLmlkLnNwbGl0KCctJylbMV07XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IG1zZy5idXR0b25zW2lkXTtcbiAgICAgICAgcGF5bG9hZC5rdiA9IHtcbiAgICAgICAgICB3enJrX2MyYTogYnV0dG9uLnRleHRcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoYnV0dG9uLmFjdGlvbiA9PT0gJ3VybCcpIHtcbiAgICAgICAgICBidXR0b24ub3BlblVybEluTmV3VGFiID8gd2luZG93Lm9wZW4oYnV0dG9uLnVybCwgJ19ibGFuaycpIDogd2luZG93LmxvY2F0aW9uID0gYnV0dG9uLnVybDtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b24uYWN0aW9uID09PSAnY29weScpIHtcbiAgICAgICAgICB3aW5kb3cuZm9jdXMoKTtcbiAgICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChidXR0b24uY2xpcGJvYXJkVGV4dCk7XG4gICAgICAgICAgdGhpcy5zbmFja0Jhci5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdmbGV4JywgJ2ltcG9ydGFudCcpO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zbmFja0Jhci5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdub25lJywgJ2ltcG9ydGFudCcpO1xuICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhdGgudGFnTmFtZSA9PT0gJ0NULUlOQk9YLU1FU1NBR0UnICYmIG1zZy5vbkNsaWNrVXJsKSB7XG4gICAgICAgIG1zZy5vcGVuVXJsSW5OZXdUYWIgPyB3aW5kb3cub3Blbihtc2cub25DbGlja1VybCwgJ19ibGFuaycpIDogd2luZG93LmxvY2F0aW9uID0gbXNnLm9uQ2xpY2tVcmw7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1ByZXZpZXcpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ05vdGlmaWN0aW9uIGNsaWNrZWQgZXZlbnQgd2lsbCBiZSByYWlzZWQgYXQgcnVuIHRpbWUgd2l0aCBwYXlsb2FkIDo6JywgcGF5bG9hZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuY2xldmVydGFwLnJlbmRlck5vdGlmaWNhdGlvbkNsaWNrZWQocGF5bG9hZCk7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICBjb25zdCBtZXNzYWdlU3R5bGVzID0gKF9yZWYpID0+IHtcbiAgICBsZXQge1xuICAgICAgYmFja2dyb3VuZENvbG9yLFxuICAgICAgYm9yZGVyQ29sb3IsXG4gICAgICB0aXRsZUNvbG9yLFxuICAgICAgZGVzY3JpcHRpb25Db2xvcixcbiAgICAgIGJ1dHRvbkNvbG9yLFxuICAgICAgYnV0dG9uVGV4dENvbG9yLFxuICAgICAgdW5yZWFkTWFya2VyQ29sb3JcbiAgICB9ID0gX3JlZjtcbiAgICByZXR1cm4gXCJcXG4gICAgPHN0eWxlIGlkPVxcXCJtZXNzYWdlU3R5bGVzXFxcIj5cXG4gICAgICBjdC1pbmJveC1tZXNzYWdlOjpwYXJ0KG1lc3NhZ2VXcmFwcGVyKSB7XFxuICAgICAgICBtYXJnaW4tYm90dG9tOiAxNnB4OyBcXG4gICAgICB9XFxuICAgICAgY3QtaW5ib3gtbWVzc2FnZTo6cGFydChtZXNzYWdlKSB7XFxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIi5jb25jYXQoYmFja2dyb3VuZENvbG9yLCBcIjsgXFxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBcIikuY29uY2F0KGJvcmRlckNvbG9yLCBcIjtcXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsgXFxuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgICAgICAgbWluLWhlaWdodDogNDBweDtcXG4gICAgICB9XFxuICAgICAgY3QtaW5ib3gtbWVzc2FnZTo6cGFydChtZXNzYWdlKTpob3ZlciB7XFxuICAgICAgICBib3gtc2hhZG93OiAwcHggNHB4IDhweCByZ2IoMCAwIDAgLyAxMCUpO1xcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICAgIH1cXG4gICAgICBjdC1pbmJveC1tZXNzYWdlOjpwYXJ0KGljb25UaXRsZURlc2NXcmFwcGVyKSB7XFxuICAgICAgICBkaXNwbGF5OiBmbGV4OyBcXG4gICAgICAgIHBhZGRpbmc6IDE2cHg7XFxuICAgICAgfVxcbiAgICAgIGN0LWluYm94LW1lc3NhZ2U6OnBhcnQodGl0bGVEZXNjV3JhcHBlcikge1xcbiAgICAgICAgZGlzcGxheTogZmxleDsgXFxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICAgIH1cXG4gICAgICBjdC1pbmJveC1tZXNzYWdlOjpwYXJ0KGljb25JbWdDb250YWluZXIpIHtcXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7IFxcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxNnB4O1xcbiAgICAgIH1cXG4gICAgICBjdC1pbmJveC1tZXNzYWdlOjpwYXJ0KG1haW5JbWdDb250YWluZXIpIHtcXG4gICAgICAgIGxpbmUtaGVpZ2h0OiAwO1xcbiAgICAgIH1cXG4gICAgICBjdC1pbmJveC1tZXNzYWdlOjpwYXJ0KG1haW5JbWcpIHtcXG4gICAgICAgIHdpZHRoOiAxMDAlOyBcXG4gICAgICAgIGJhY2tncm91bmQ6ICNiMmIxYWU7XFxuICAgICAgfVxcbiAgICAgIGN0LWluYm94LW1lc3NhZ2U6OnBhcnQoaWNvbkltZykge1xcbiAgICAgICAgaGVpZ2h0OiA0MHB4OyBcXG4gICAgICAgIHdpZHRoOiA0MHB4O1xcbiAgICAgIH1cXG4gICAgICBjdC1pbmJveC1tZXNzYWdlOjpwYXJ0KHRpdGxlKSB7XFxuICAgICAgICBmb250LXNpemU6IDE0cHggIWltcG9ydGFudDsgXFxuICAgICAgICBsaW5lLWhlaWdodDogMjBweDsgXFxuICAgICAgICBmb250LXdlaWdodDogNjAwOyBcXG4gICAgICAgIGNvbG9yOiBcIikuY29uY2F0KHRpdGxlQ29sb3IsIFwiXFxuICAgICAgfVxcbiAgICAgIGN0LWluYm94LW1lc3NhZ2U6OnBhcnQoZGVzY3JpcHRpb24pIHtcXG4gICAgICAgIGZvbnQtc2l6ZTogMTRweCAhaW1wb3J0YW50OyBcXG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4OyBcXG4gICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7IFxcbiAgICAgICAgY29sb3I6IFwiKS5jb25jYXQoZGVzY3JpcHRpb25Db2xvciwgXCJcXG4gICAgICB9XFxuICAgICAgY3QtaW5ib3gtbWVzc2FnZTo6cGFydChidXR0b24pIHtcXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IFwiKS5jb25jYXQoYnV0dG9uQ29sb3IsIFwiOyBcXG4gICAgICAgIGNvbG9yOiBcIikuY29uY2F0KGJ1dHRvblRleHRDb2xvciwgXCI7IFxcbiAgICAgICAgcGFkZGluZzogOHB4IDE2cHg7IFxcbiAgICAgICAgZm9udC1zaXplOiAxMnB4OyBcXG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxNnB4OyBcXG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7IFxcbiAgICAgICAgZmxleDogMTsgXFxuICAgICAgICBib3JkZXItcmFkaXVzOiAwcHg7IFxcbiAgICAgICAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7IFxcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyOyBcXG4gICAgICAgIGJvcmRlcjogbm9uZTtcXG4gICAgICB9XFxuICAgICAgY3QtaW5ib3gtbWVzc2FnZTo6cGFydChidXR0b25zQ29udGFpbmVyKSB7XFxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICAgIH1cXG4gICAgICBjdC1pbmJveC1tZXNzYWdlOjpwYXJ0KHNuYWNrYmFyKSB7XFxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgICB0b3A6IGNhbGMoLTEwMCUgLSAxMnB4KTtcXG4gICAgICAgIGxlZnQ6IDUwJTtcXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDBweCk7XFxuICAgICAgICBmb250LXNpemU6IDE0cHg7XFxuICAgICAgICBmb250LXdlaWdodDogNDAwO1xcbiAgICAgICAgYmFja2dyb3VuZDogI0ZGRkZGRjtcXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNFQ0VERjI7XFxuICAgICAgICBib3gtc2hhZG93OiAwcHggNHB4IDhweCByZ2IoMCAwIDAgLyA2JSksIDBweCAwcHggMnB4IHJnYigwIDAgMCAvIDQlKTtcXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gICAgICAgIHotaW5kZXg6IDI7XFxuICAgICAgICBkaXNwbGF5OiBub25lO1xcbiAgICAgICAgd2lkdGg6IG1heC1jb250ZW50O1xcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgICAgIHBhZGRpbmc6IDhweCAxNnB4O1xcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgICAgfVxcblxcbiAgICAgIGN0LWluYm94LW1lc3NhZ2U6OnBhcnQoc25hY2tiYXItbXNnKSB7XFxuICAgICAgICBjb2xvcjogYmxhY2s7XFxuICAgICAgICBtYXJnaW4tbGVmdDogOHB4O1xcbiAgICAgIH1cXG5cXG4gICAgICBjdC1pbmJveC1tZXNzYWdlOjpwYXJ0KHRpbWVTdGFtcCkge1xcbiAgICAgICAgZGlzcGxheTogZmxleDsgXFxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGVuZDsgXFxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOyBcXG4gICAgICAgIG1hcmdpbi10b3A6IDRweDsgXFxuICAgICAgICBmb250LXNpemU6IDEycHggIWltcG9ydGFudDsgXFxuICAgICAgICBsaW5lLWhlaWdodDogMTZweDsgXFxuICAgICAgICBjb2xvcjogYmxhY2s7XFxuICAgICAgfVxcbiAgICAgIGN0LWluYm94LW1lc3NhZ2U6OnBhcnQodW5yZWFkTWFya2VyKSB7XFxuICAgICAgICBoZWlnaHQ6IDhweDsgXFxuICAgICAgICB3aWR0aDogOHB4OyBcXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsgXFxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIikuY29uY2F0KHVucmVhZE1hcmtlckNvbG9yLCBcIjsgXFxuICAgICAgICBtYXJnaW4tbGVmdDogOHB4O1xcbiAgICAgIH1cXG4gICAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDQyMHB4KSB7XFxuICAgICAgICBjdC1pbmJveC1tZXNzYWdlOjpwYXJ0KG1haW5JbWcpIHtcXG4gICAgICAgICAgaGVpZ2h0OiAxODBweDtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgIDwvc3R5bGU+XFxuICBcIik7XG4gIH07XG4gIGNvbnN0IGluYm94Q29udGFpbmVyU3R5bGVzID0gKF9yZWYyKSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIHBhbmVsQmFja2dyb3VuZENvbG9yLFxuICAgICAgcGFuZWxCb3JkZXJDb2xvcixcbiAgICAgIGhlYWRlckJhY2tncm91bmRDb2xvcixcbiAgICAgIGhlYWRlclRpdGxlQ29sb3IsXG4gICAgICBjbG9zZUljb25Db2xvcixcbiAgICAgIGNhdGVnb3JpZXNUYWJDb2xvcixcbiAgICAgIGNhdGVnb3JpZXNUaXRsZUNvbG9yLFxuICAgICAgY2F0ZWdvcmllc0JvcmRlckNvbG9yLFxuICAgICAgc2VsZWN0ZWRDYXRlZ29yeVRhYkNvbG9yLFxuICAgICAgc2VsZWN0ZWRDYXRlZ29yeVRpdGxlQ29sb3IsXG4gICAgICBzZWxlY3RlZENhdGVnb3J5Qm9yZGVyQ29sb3IsXG4gICAgICBoZWFkZXJDYXRlZ29yeUhlaWdodFxuICAgIH0gPSBfcmVmMjtcbiAgICByZXR1cm4gXCJcXG4gICAgICA8c3R5bGUgaWQ9XFxcIndlYkluYm94U3R5bGVzXFxcIj5cXG4gICAgICAgICNpbmJveCB7XFxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XFxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7IFxcbiAgICAgICAgICBkaXNwbGF5OiBub25lOyBcXG4gICAgICAgICAgYm94LXNoYWRvdzogMHB4IDJweCAxMHB4IDBweCAjZDdkN2Q3OTE7XFxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IFwiLmNvbmNhdChwYW5lbEJhY2tncm91bmRDb2xvciwgXCI7IFxcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBcIikuY29uY2F0KHBhbmVsQm9yZGVyQ29sb3IsIFwiO1xcbiAgICAgICAgICB0b3A6IDA7XFxuICAgICAgICAgIGxlZnQ6IDA7XFxuICAgICAgICAgIGhlaWdodDogMTAwJTtcXG4gICAgICAgICAgb3ZlcmZsb3c6IGF1dG87XFxuICAgICAgICAgIHotaW5kZXg6IDE7XFxuICAgICAgICAgIGJveC1zaXppbmc6IGNvbnRlbnQtYm94O1xcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICAgICAgICB9XFxuICBcXG4gICAgICAgICNlbXB0eUluYm94TXNnIHtcXG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XFxuICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XFxuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgICAgICAgY29sb3I6IGJsYWNrO1xcbiAgICAgICAgfVxcbiAgXFxuICAgICAgICAjaGVhZGVyIHtcXG4gICAgICAgICAgaGVpZ2h0OiAzNnB4OyBcXG4gICAgICAgICAgd2lkdGg6IDEwMCU7IFxcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4OyBcXG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IFxcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOyBcXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogXCIpLmNvbmNhdChoZWFkZXJCYWNrZ3JvdW5kQ29sb3IsIFwiOyBcXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY2FyZC1iZywgXCIpLmNvbmNhdChoZWFkZXJCYWNrZ3JvdW5kQ29sb3IsIFwiKTtcXG4gICAgICAgICAgY29sb3I6IFwiKS5jb25jYXQoaGVhZGVyVGl0bGVDb2xvciwgXCJcXG4gICAgICAgIH1cXG4gIFxcbiAgICAgICAgI2Nsb3NlSW5ib3gge1xcbiAgICAgICAgICBmb250LXNpemU6IDIwcHg7IFxcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDEycHg7IFxcbiAgICAgICAgICBjb2xvcjogXCIpLmNvbmNhdChjbG9zZUljb25Db2xvciwgXCI7IFxcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgICAgICB9XFxuICBcXG4gICAgICAgICNoZWFkZXJUaXRsZSB7XFxuICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsgXFxuICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4OyBcXG4gICAgICAgICAgZmxleC1ncm93OiAxOyBcXG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDsgXFxuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgICAgICAgZmxleC1ncm93OiAxO1xcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgICAgICB9XFxuICBcXG4gICAgICAgICNjYXRlZ29yaWVzQ29udGFpbmVyIHtcXG4gICAgICAgICAgcGFkZGluZzogMTZweCAxNnB4IDAgMTZweDsgXFxuICAgICAgICAgIGhlaWdodDogMzJweDsgXFxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgICAgICAgIHNjcm9sbC1iZWhhdmlvcjogc21vb3RoO1xcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAjY2F0ZWdvcmllc1dyYXBwZXIge1xcbiAgICAgICAgICBoZWlnaHQ6IDMycHg7IFxcbiAgICAgICAgICBvdmVyZmxvdy14OiBzY3JvbGw7XFxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICAgICAgICAgIHNjcm9sbGJhci13aWR0aDogbm9uZTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgICNjYXRlZ29yaWVzV3JhcHBlcjo6LXdlYmtpdC1zY3JvbGxiYXIge1xcbiAgICAgICAgICBkaXNwbGF5OiBub25lO1xcbiAgICAgICAgfVxcbiAgXFxuICAgICAgICAjbGVmdEFycm93LCAjcmlnaHRBcnJvdyB7XFxuICAgICAgICAgIGhlaWdodDogMzJweDtcXG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDtcXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgICB6LWluZGV4OiAyO1xcbiAgICAgICAgICBwb2ludGVyLWV2ZW50czogYXV0bztcXG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICAgICAgICBkaXNwbGF5OiBub25lO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgI2xlZnRBcnJvdyB7XFxuICAgICAgICAgIGxlZnQ6IDA7XFxuICAgICAgICAgIHBhZGRpbmctbGVmdDogNHB4O1xcbiAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAxNnB4O1xcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIFwiKS5jb25jYXQocGFuZWxCYWNrZ3JvdW5kQ29sb3IsIFwiIDAlLCBcIikuY29uY2F0KHBhbmVsQmFja2dyb3VuZENvbG9yLCBcIjk5IDgwJSwgXCIpLmNvbmNhdChwYW5lbEJhY2tncm91bmRDb2xvciwgXCIwZCAxMDAlKTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgICNyaWdodEFycm93IHtcXG4gICAgICAgICAgcmlnaHQ6IDA7XFxuICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDRweDtcXG4gICAgICAgICAgcGFkZGluZy1sZWZ0OiAxNnB4O1xcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoLTkwZGVnLCBcIikuY29uY2F0KHBhbmVsQmFja2dyb3VuZENvbG9yLCBcIiAwJSwgXCIpLmNvbmNhdChwYW5lbEJhY2tncm91bmRDb2xvciwgXCI5OSA4MCUsIFwiKS5jb25jYXQocGFuZWxCYWNrZ3JvdW5kQ29sb3IsIFwiMGQgMTAwJSk7XFxuICAgICAgICB9XFxuXFxuICAgICAgICBbaWRePVxcXCJjYXRlZ29yeS1cXFwiXSB7XFxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7IFxcbiAgICAgICAgICBmbGV4OiAxIDEgMDsgXFxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOyBcXG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsgXFxuICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsgXFxuICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4OyBcXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogXCIpLmNvbmNhdChjYXRlZ29yaWVzVGFiQ29sb3IsIFwiOyBcXG4gICAgICAgICAgY29sb3I6IFwiKS5jb25jYXQoY2F0ZWdvcmllc1RpdGxlQ29sb3IsIFwiOyBcXG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICAgICAgICBwYWRkaW5nOiA2cHggMjRweDtcXG4gICAgICAgICAgbWFyZ2luOiAwIDNweDtcXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMTZweDtcXG4gICAgICAgICAgYm9yZGVyOiBcIikuY29uY2F0KGNhdGVnb3JpZXNCb3JkZXJDb2xvciA/ICcxcHggc29saWQgJyArIGNhdGVnb3JpZXNCb3JkZXJDb2xvciA6ICdub25lJywgXCI7XFxuICAgICAgICB9XFxuXFxuICAgICAgICBbaWRePVxcXCJjYXRlZ29yeS1cXFwiXVtzZWxlY3RlZD1cXFwidHJ1ZVxcXCJdIHtcXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogXCIpLmNvbmNhdChzZWxlY3RlZENhdGVnb3J5VGFiQ29sb3IsIFwiOyBcXG4gICAgICAgICAgY29sb3I6IFwiKS5jb25jYXQoc2VsZWN0ZWRDYXRlZ29yeVRpdGxlQ29sb3IsIFwiOyBcXG4gICAgICAgICAgYm9yZGVyOiBcIikuY29uY2F0KHNlbGVjdGVkQ2F0ZWdvcnlCb3JkZXJDb2xvciA/ICcxcHggc29saWQgJyArIHNlbGVjdGVkQ2F0ZWdvcnlCb3JkZXJDb2xvciA6ICdub25lJywgXCJcXG4gICAgICAgIH1cXG4gIFxcbiAgICAgICAgI2luYm94Q2FyZCB7XFxuICAgICAgICAgIHBhZGRpbmc6IDAgMTZweCAwIDE2cHg7XFxuICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG87XFxuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgICAgICAgIG1hcmdpbi10b3A6IDE2cHg7XFxuICAgICAgICB9XFxuXFxuICAgICAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDQ4MHB4KSB7XFxuICAgICAgICAgICNpbmJveCB7XFxuICAgICAgICAgICAgd2lkdGg6IHZhcigtLWluYm94LXdpZHRoLCAzOTJweCk7XFxuICAgICAgICAgICAgaGVpZ2h0OiB2YXIoLS1pbmJveC1oZWlnaHQsIDU0NnB4KTtcXG4gICAgICAgICAgICBwb3NpdGlvbjogdmFyKC0taW5ib3gtcG9zaXRpb24sIGZpeGVkKTtcXG4gICAgICAgICAgICByaWdodDogdmFyKC0taW5ib3gtcmlnaHQsIHVuc2V0KTtcXG4gICAgICAgICAgICBib3R0b206IHZhcigtLWluYm94LWJvdHRvbSwgdW5zZXQpO1xcbiAgICAgICAgICAgIHRvcDogdmFyKC0taW5ib3gtdG9wLCB1bnNldCk7XFxuICAgICAgICAgICAgbGVmdDogdmFyKC0taW5ib3gtbGVmdCwgdW5zZXQpO1xcbiAgICAgICAgICB9XFxuICBcXG4gICAgICAgICAgI2luYm94Q2FyZCB7XFxuICAgICAgICAgICAgaGVpZ2h0OiBjYWxjKHZhcigtLWluYm94LWhlaWdodCwgNTQ2cHgpIC0gXCIpLmNvbmNhdChoZWFkZXJDYXRlZ29yeUhlaWdodCwgXCJweCk7IFxcbiAgICAgICAgICB9XFxuICBcXG4gICAgICAgIH1cXG4gICAgICA8L3N0eWxlPlxcbiAgICAgIFwiKTtcbiAgfTtcblxuICBjbGFzcyBJbmJveCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihsb2dnZXIpIHtcbiAgICAgIHN1cGVyKCk7XG4gICAgICB0aGlzLmlzSW5ib3hPcGVuID0gZmFsc2U7XG4gICAgICB0aGlzLmlzSW5ib3hGcm9tRmx1dHRlciA9IGZhbHNlO1xuICAgICAgdGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gbnVsbDtcbiAgICAgIHRoaXMudW52aWV3ZWRNZXNzYWdlcyA9IHt9O1xuICAgICAgdGhpcy51bnZpZXdlZENvdW50ZXIgPSAwO1xuICAgICAgdGhpcy5pc1ByZXZpZXcgPSBmYWxzZTtcbiAgICAgIHRoaXMuaW5ib3hDb25maWdGb3JQcmV2aWV3ID0ge307XG4gICAgICB0aGlzLmluYm94U2VsZWN0b3IgPSBudWxsO1xuICAgICAgdGhpcy5pbmJveCA9IG51bGw7XG4gICAgICB0aGlzLmVtcHR5SW5ib3hNc2cgPSBudWxsO1xuICAgICAgdGhpcy5pbmJveENhcmQgPSBudWxsO1xuICAgICAgdGhpcy51bnZpZXdlZEJhZGdlID0gbnVsbDtcbiAgICAgIHRoaXMub2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgdGhpcy5zZWxlY3RlZENhdGVnb3J5UmVmID0gbnVsbDtcblxuICAgICAgdGhpcy5hZGRDbGlja0xpc3RlbmVyT25Eb2N1bWVudCA9ICgoKSA9PiB7XG4gICAgICAgIHJldHVybiBlID0+IHtcbiAgICAgICAgICBpZiAoZS5jb21wb3NlZFBhdGgoKS5pbmNsdWRlcyh0aGlzLmluYm94KSkge1xuICAgICAgICAgICAgLy8gcGF0aCBpcyBub3Qgc3VwcG9ydGVkIG9uIEZGLiBTbyB3ZSBmYWxsYmFjayB0byBlLmNvbXBvc2VkUGF0aFxuICAgICAgICAgICAgY29uc3QgcGF0aCA9IGUucGF0aCB8fCBlLmNvbXBvc2VkUGF0aCAmJiBlLmNvbXBvc2VkUGF0aCgpO1xuXG4gICAgICAgICAgICBpZiAocGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgY29uc3QgaWQgPSBwYXRoWzBdLmlkO1xuXG4gICAgICAgICAgICAgIGlmIChpZCA9PT0gJ2Nsb3NlSW5ib3gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVJbmJveCgpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlkLnN0YXJ0c1dpdGgoJ2NhdGVnb3J5LScpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2Q2F0ZWdvcnlSZWYgPSB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnlSZWY7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZENhdGVnb3J5UmVmID0gcGF0aFswXTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUFjdGl2ZUNhdGVnb3J5KHBhdGhbMF0uaW5uZXJUZXh0KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBfcGF0aCA9IHBhdGguZmlsdGVyKHAgPT4ge1xuICAgICAgICAgICAgICAgICAgdmFyIF9wJGlkO1xuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gKChfcCRpZCA9IHAuaWQpID09PSBudWxsIHx8IF9wJGlkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcCRpZC5zdGFydHNXaXRoKCdidXR0b24tJykpIHx8IHAudGFnTmFtZSA9PT0gJ0NULUlOQk9YLU1FU1NBR0UnO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKF9wYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZUVsID0gX3BhdGhbX3BhdGgubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICBtZXNzYWdlRWwucmFpc2VDbGlja2VkRXZlbnQoX3BhdGhbMF0sIHRoaXMuaXNQcmV2aWV3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaW5ib3hTZWxlY3Rvci5jb250YWlucyhlLnRhcmdldCkgfHwgdGhpcy5pc0luYm94T3Blbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNJbmJveEZyb21GbHV0dGVyKSB7XG4gICAgICAgICAgICAgIHRoaXMuaXNJbmJveEZyb21GbHV0dGVyID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUluYm94KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pKCk7XG5cbiAgICAgIHRoaXMuc2V0QmFkZ2VTdHlsZSA9IG1zZ0NvdW50ID0+IHtcbiAgICAgICAgaWYgKHRoaXMudW52aWV3ZWRCYWRnZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMudW52aWV3ZWRCYWRnZS5pbm5lclRleHQgPSBtc2dDb3VudCA+IDkgPyAnOSsnIDogbXNnQ291bnQ7XG4gICAgICAgICAgdGhpcy51bnZpZXdlZEJhZGdlLnN0eWxlLmRpc3BsYXkgPSBtc2dDb3VudCA+IDAgPyAnZmxleCcgOiAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xuICAgICAgdGhpcy5zaGFkb3cgPSB0aGlzLmF0dGFjaFNoYWRvdyh7XG4gICAgICAgIG1vZGU6ICdvcGVuJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0IGluY29taW5nTWVzc2FnZXMoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgc2V0IGluY29taW5nTWVzc2FnZXMobXNncykge1xuICAgICAgaWYgKG1zZ3MgPT09IHZvaWQgMCkge1xuICAgICAgICBtc2dzID0gW107XG4gICAgICB9XG5cbiAgICAgIGlmIChtc2dzLmxlbmd0aCA+IDAgJiYgdGhpcy5pbmJveCkge1xuICAgICAgICB0aGlzLnVwZGF0ZUluYm94TWVzc2FnZXMobXNncyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGluY29taW5nTWVzc2FnZXNGb3JQcmV2aWV3KCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHNldCBpbmNvbWluZ01lc3NhZ2VzRm9yUHJldmlldyhtc2dzKSB7XG4gICAgICBpZiAobXNncyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIG1zZ3MgPSBbXTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcHJldmlld01zZ3MgPSB7fTtcblxuICAgICAgaWYgKG1zZ3MubGVuZ3RoID4gMCAmJiB0aGlzLmluYm94KSB7XG4gICAgICAgIHRoaXMuaXNQcmV2aWV3ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy51bnZpZXdlZENvdW50ZXIgPSAwO1xuICAgICAgICBtc2dzLmZvckVhY2gobSA9PiB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gXCJcIi5jb25jYXQobS53enJrX2lkLnNwbGl0KCdfJylbMF0sIFwiX1wiKS5jb25jYXQoRGF0ZS5ub3coKSk7XG4gICAgICAgICAgbS5pZCA9IGtleTtcbiAgICAgICAgICBwcmV2aWV3TXNnc1trZXldID0gbTtcbiAgICAgICAgICB0aGlzLnVudmlld2VkTWVzc2FnZXNba2V5XSA9IG07XG4gICAgICAgICAgdGhpcy51bnZpZXdlZENvdW50ZXIrKztcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYnVpbGRVSUZvck1lc3NhZ2VzKHByZXZpZXdNc2dzKTtcbiAgICAgICAgdGhpcy51cGRhdGVVbnZpZXdlZEJhZGdlQ291bnRlcigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgIHRoaXMuY29uZmlnID0gdGhpcy5pc1ByZXZpZXcgPyB0aGlzLmluYm94Q29uZmlnRm9yUHJldmlldyA6IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShXRUJJTkJPWF9DT05GSUcpIHx8IHt9O1xuXG4gICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5jb25maWcpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaW5ib3hTZWxlY3RvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuY29uZmlnLmluYm94U2VsZWN0b3IpO1xuXG4gICAgICBpZiAodGhpcy5pbmJveFNlbGVjdG9yID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuY29uZmlnLnN0eWxlcy5ub3RpZmljYXRpb25zQmFkZ2UpIHtcbiAgICAgICAgdGhpcy5hZGRVbnZpZXdlZEJhZGdlKCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMudW52aWV3ZWRCYWRnZSkge1xuICAgICAgICB0aGlzLnVudmlld2VkQmFkZ2UucmVtb3ZlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY3JlYXRlaW5ib3goKTtcbiAgICAgIC8qKlxuICAgICAgICogV2UgbmVlZCB0byByZW1vdmUgdGhlIGxpc3RlbmVyIGFzIHRoZXJlIGNvdWxkIGJlIGEgc2NlbmFyaW8gd2hlcmUgaW5pdCB3b3VsZCBiZSBjYWxsZWQgd2hlblxuICAgICAgICogd2UgZ2V0IHVwZGF0ZWQgd2ViIGluYm94IHNldHRpbmdzIGZyb20gTEMgYWZ0ZXIgdGhlIGluYm94IGhhcyBiZWVuIGluaXRpYWxpc2VkLlxuICAgICAgICogSXQgY2FuIHNvIGhhcHBlbiB0aGF0IHRoZSBpbmJveC1zZWxlY3RvciB3b3VsZCBoYXZlIGNoYW5nZWQuXG4gICAgICAgKi9cblxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmFkZENsaWNrTGlzdGVuZXJPbkRvY3VtZW50KTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5hZGRDbGlja0xpc3RlbmVyT25Eb2N1bWVudCk7XG4gICAgICB0aGlzLmNvbmZpZy5jYXRlZ29yaWVzLmxlbmd0aCAmJiB0aGlzLnVwZGF0ZUFjdGl2ZUNhdGVnb3J5KHRoaXMuc2VsZWN0ZWRDYXRlZ29yeVJlZi5pbm5lclRleHQpO1xuICAgICAgdGhpcy5zaGFkb3cuaW5uZXJIVE1MID0gdGhpcy5nZXRJbmJveFN0eWxlcygpO1xuICAgICAgdGhpcy5zaGFkb3cuYXBwZW5kQ2hpbGQodGhpcy5pbmJveCk7XG4gICAgfVxuXG4gICAgYWRkTXNnc1RvSW5ib3hGcm9tTFMoKSB7XG4gICAgICBjb25zdCBtZXNzYWdlcyA9IHRoaXMuZGVsZXRlRXhwaXJlZEFuZEdldFVuZXhwaXJlZE1zZ3MoZmFsc2UpO1xuICAgICAgY29uc3QgbXNnSWRzID0gbWVzc2FnZXMgPyBPYmplY3Qua2V5cyhtZXNzYWdlcykgOiBbXTtcblxuICAgICAgaWYgKG1zZ0lkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBtc2dJZHMuZm9yRWFjaChtID0+IHtcbiAgICAgICAgaWYgKCFtZXNzYWdlc1ttXS52aWV3ZWQpIHtcbiAgICAgICAgICB0aGlzLnVudmlld2VkTWVzc2FnZXNbbV0gPSBtZXNzYWdlc1ttXTtcbiAgICAgICAgICB0aGlzLnVudmlld2VkQ291bnRlcisrO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuYnVpbGRVSUZvck1lc3NhZ2VzKG1lc3NhZ2VzKTtcbiAgICAgIHRoaXMudXBkYXRlVW52aWV3ZWRCYWRnZUNvdW50ZXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHsqfSBkZWxldGVNc2dzRnJvbVVJIC0gSWYgdGhpcyBwYXJhbSBpcyB0cnVlLCB0aGVuIHdlJ2xsIGhhdmUgdG8gY2hlY2sgdGhlIFVJIGFuZCBkZWxldGUgZXhwaXJlZCBtZXNzYWdlcyBmcm9tIHRoZSBET01cbiAgICAgKiBJdCdsbCBiZSBmYWxzZSB3aGVuIHlvdSBhcmUgYnVpbGRpbmcgdGhlIGluYm94IGxheW91dCBmb3IgdGhlIHZlcnkgZmlyc3QgdGltZS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIHJlYWRzIHRoZSBpbmJveCBtZXNzYWdlcyBmcm9tIExTLFxuICAgICAqIGJhc2VkIG9uIHRoZSBkZWxldGVNc2dzRnJvbVVJIGZsYWcgZGVsZXRlcyB0aGUgZXhwaXJlZCBtZXNzYWdlcyBmcm9tIFVJIGFuZCBkZWNyZW1lbnRzIHRoZSB1bnZpZXdlZCBjb3VudGVyIGlmIHRoZSBtZXNzYWdlIHdhcyBub3Qgdmlld2VkLFxuICAgICAqIHNvcnRzIHRoZSBtZXNzYWdlcyBiYXNlZCBvbiB0aGUgZGF0ZSxcbiAgICAgKiBzYXZlcyB0aGUgdW5leHBpcmVkIG1lc3NhZ2VzIHRvIExTXG4gICAgICogYW5kIHJldHVybnMgdGhlIHNvcnRlZCB1bmV4cGlyZWQgbWVzc2FnZXNcbiAgICAgKlxuICAgICAqIFNjZW5hcmlvcyB3aGVuIHdlIGVuY291bnRlciBleHBpcmVkIG1lc3NhZ2VzIC1cbiAgICAgKiAxLiBidWlsZGluZyB1aSBmb3IgdGhlIDFzdCB0aW1lLCBubyBuZWVkIHRvIGRlY3JlbWVudCB0aGUgdW52aWV3ZWQgY291bnRlciBhcyB0aGUgY29ycmVjdCBjb3VudCB3aWxsIGJlIHNldCBhdCB0aGUgdGltZSBvZiByZW5kZXJpbmdcbiAgICAgKiAyLiBVSSBpcyBhbHJlYWR5IGJ1aWx0IChkZWxldGVNc2dzRnJvbVVJID0gdHJ1ZSkgYW5kIHlvdSBvcGVuIHRoZSBpbmJveFxuICAgICAqICAgIGEuIFlvdSdsbCBmaW5kIHRoZSBleHBpcmVkIG1zZyBpbiBpbmJveFxuICAgICAqICAgIGIuIFlvdSdsbCBub3QgZmluZCB0aGUgZXhwaXJlZCBtc2cgaW4gaW5ib3guXG4gICAgICogICAgICAgVGhpcyBoYXBwZW5zIHdoZW4gd2UgcmVjZWl2ZSBuZXcgbWVzc2FnZXMgZnJvbSBMQywgaW5jcmVtZW50IHVudmlld2VkIGNvdW50ZXIsIHNhdmUgaXQgaW4gTFMuIChXZSBidWlsZCB0aGUgVUkgb25seSB3aGVuIHRoZSB1c2VyIG9wZW5zIGluYm94LilcbiAgICAgKiAgSW4gYm90aCB0aGUgYWJvdmUgc2NlbmFyaW9zLCB3ZSdsbCBzdGlsbCBoYXZlIHRvIGRlY3JlbWVudCB0aGUgdW52aWV3ZWQgY291bnRlciBpZiB0aGUgbWVzc2FnZSB3YXMgbm90IHZpZXdlZC5cbiAgICAgKi9cblxuXG4gICAgZGVsZXRlRXhwaXJlZEFuZEdldFVuZXhwaXJlZE1zZ3MoKSB7XG4gICAgICBsZXQgZGVsZXRlTXNnc0Zyb21VSSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdHJ1ZTtcbiAgICAgIGxldCBtZXNzYWdlcyA9IGdldEluYm94TWVzc2FnZXMoKTtcbiAgICAgIGNvbnN0IG5vdyA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuXG4gICAgICBmb3IgKGNvbnN0IG1zZyBpbiBtZXNzYWdlcykge1xuICAgICAgICBpZiAobWVzc2FnZXNbbXNnXS53enJrX3R0bCAmJiBtZXNzYWdlc1ttc2ddLnd6cmtfdHRsID4gMCAmJiBtZXNzYWdlc1ttc2ddLnd6cmtfdHRsIDwgbm93KSB7XG4gICAgICAgICAgaWYgKGRlbGV0ZU1zZ3NGcm9tVUkpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKG1lc3NhZ2VzW21zZ10uaWQpO1xuICAgICAgICAgICAgZWwgJiYgZWwucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgIGlmICghbWVzc2FnZXNbbXNnXS52aWV3ZWQpIHtcbiAgICAgICAgICAgICAgdGhpcy51bnZpZXdlZENvdW50ZXItLTtcbiAgICAgICAgICAgICAgdGhpcy51cGRhdGVVbnZpZXdlZEJhZGdlQ291bnRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGRlbGV0ZSBtZXNzYWdlc1ttc2ddO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtZXNzYWdlcyAmJiBtZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIG1lc3NhZ2VzID0gT2JqZWN0LnZhbHVlcyhtZXNzYWdlcykuc29ydCgoYSwgYikgPT4gYi5kYXRlIC0gYS5kYXRlKS5yZWR1Y2UoKGFjYywgbSkgPT4ge1xuICAgICAgICAgIGFjY1ttLmlkXSA9IG07XG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgICAgfVxuXG4gICAgICBzYXZlSW5ib3hNZXNzYWdlcyhtZXNzYWdlcyk7XG4gICAgICByZXR1cm4gbWVzc2FnZXM7XG4gICAgfVxuXG4gICAgdXBkYXRlSW5ib3hNZXNzYWdlcygpIHtcbiAgICAgIGxldCBtc2dzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcbiAgICAgIGNvbnN0IGluYm94TXNncyA9IHRoaXMuZGVsZXRlRXhwaXJlZEFuZEdldFVuZXhwaXJlZE1zZ3MoKTtcbiAgICAgIGNvbnN0IGRhdGUgPSBEYXRlLm5vdygpO1xuICAgICAgY29uc3QgaW5jb21pbmdNc2dzID0ge307XG4gICAgICBtc2dzLmZvckVhY2goKG0sIGkpID0+IHtcbiAgICAgICAgY29uc3Qga2V5ID0gXCJcIi5jb25jYXQobS53enJrX2lkLnNwbGl0KCdfJylbMF0sIFwiX1wiKS5jb25jYXQoRGF0ZS5ub3coKSk7XG4gICAgICAgIG0uaWQgPSBrZXk7IC8vIFdlIGFyZSBkb2luZyB0aGlzIHRvIHByZXNlcnZlIHRoZSBvcmRlciBvZiB0aGUgbWVzc2FnZXNcblxuICAgICAgICBtLmRhdGUgPSBkYXRlIC0gaTtcbiAgICAgICAgbS52aWV3ZWQgPSAwO1xuICAgICAgICBpbmJveE1zZ3Nba2V5XSA9IG07XG4gICAgICAgIGluY29taW5nTXNnc1trZXldID0gbTtcbiAgICAgICAgdGhpcy51bnZpZXdlZE1lc3NhZ2VzW2tleV0gPSBtO1xuICAgICAgICB0aGlzLnVudmlld2VkQ291bnRlcisrO1xuICAgICAgfSk7XG4gICAgICBzYXZlSW5ib3hNZXNzYWdlcyhpbmJveE1zZ3MpO1xuICAgICAgdGhpcy5idWlsZFVJRm9yTWVzc2FnZXMoaW5jb21pbmdNc2dzKTtcbiAgICAgIHRoaXMudXBkYXRlVW52aWV3ZWRCYWRnZUNvdW50ZXIoKTtcbiAgICB9XG5cbiAgICBjcmVhdGVFbCh0eXBlLCBpZCwgcGFydCkge1xuICAgICAgY29uc3QgX2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcblxuICAgICAgX2VsLnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XG5cbiAgICAgIF9lbC5zZXRBdHRyaWJ1dGUoJ3BhcnQnLCBwYXJ0IHx8IGlkKTtcblxuICAgICAgcmV0dXJuIF9lbDtcbiAgICB9XG5cbiAgICBhZGRVbnZpZXdlZEJhZGdlKCkge1xuICAgICAgaWYgKCF0aGlzLnVudmlld2VkQmFkZ2UpIHtcbiAgICAgICAgdGhpcy51bnZpZXdlZEJhZGdlID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgJ3Vudmlld2VkQmFkZ2UnKTsgLy8gQXMgdGhpcyB1bnZpZXdlZEJhZGdlIGVsZW1lbnQgd2lsbCBiZSBkaXJlY3RseSBhZGRlZCB0byB0aGUgRE9NLCB3ZSBhcmUgZGVmaW5pbmcgaW5saW5lIHN0eWxlc1xuXG4gICAgICAgIHRoaXMudW52aWV3ZWRCYWRnZS5zdHlsZS5jc3NUZXh0ID0gXCJkaXNwbGF5OiBub25lOyBwb3NpdGlvbjogYWJzb2x1dGU7IGhlaWdodDogMTZweDsgd2lkdGg6IDI2cHg7IGJvcmRlci1yYWRpdXM6IDhweDsgYmFja2dyb3VuZC1jb2xvcjogXCIuY29uY2F0KHRoaXMuY29uZmlnLnN0eWxlcy5ub3RpZmljYXRpb25zQmFkZ2UuYmFja2dyb3VuZENvbG9yLCBcIjsgZm9udC1zaXplOiAxMnB4OyBjb2xvcjogXCIpLmNvbmNhdCh0aGlzLmNvbmZpZy5zdHlsZXMubm90aWZpY2F0aW9uc0JhZGdlLnRleHRDb2xvciwgXCI7IGZvbnQtd2VpZ2h0OiBib2xkOyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcIik7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy51bnZpZXdlZEJhZGdlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy51cGRhdGVVbnZpZXdlZEJhZGdlUG9zaXRpb24oKTsgLy8gY2FsbGVkIHdoZW4gdXNlciBzd2l0Y2hlcyBiL3cgcG9ydHJhaXQgYW5kIGxhbmRzY2FwZSBtb2RlLlxuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZVVudmlld2VkQmFkZ2VQb3NpdGlvbigpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXBkYXRlVW52aWV3ZWRCYWRnZVBvc2l0aW9uKCkge1xuICAgICAgY29uc3Qge1xuICAgICAgICB0b3AsXG4gICAgICAgIHJpZ2h0XG4gICAgICB9ID0gdGhpcy5pbmJveFNlbGVjdG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdGhpcy51bnZpZXdlZEJhZGdlLnN0eWxlLnRvcCA9IFwiXCIuY29uY2F0KHRvcCAtIDgsIFwicHhcIik7XG4gICAgICB0aGlzLnVudmlld2VkQmFkZ2Uuc3R5bGUubGVmdCA9IFwiXCIuY29uY2F0KHJpZ2h0IC0gOCwgXCJweFwiKTtcbiAgICB9XG5cbiAgICBjcmVhdGVpbmJveCgpIHtcbiAgICAgIHRoaXMuaW5ib3ggPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCAnaW5ib3gnKTtcbiAgICAgIGNvbnN0IGhlYWRlciA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsICdoZWFkZXInKTtcbiAgICAgIGNvbnN0IGhlYWRlclRpdGxlID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgJ2hlYWRlclRpdGxlJyk7XG4gICAgICBoZWFkZXJUaXRsZS5pbm5lclRleHQgPSB0aGlzLmNvbmZpZy50aXRsZTtcbiAgICAgIGNvbnN0IGNsb3NlSWNvbiA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsICdjbG9zZUluYm94Jyk7XG4gICAgICBjbG9zZUljb24uaW5uZXJIVE1MID0gJyZ0aW1lcyc7XG4gICAgICBoZWFkZXIuYXBwZW5kQ2hpbGQoaGVhZGVyVGl0bGUpO1xuICAgICAgaGVhZGVyLmFwcGVuZENoaWxkKGNsb3NlSWNvbik7XG4gICAgICB0aGlzLmluYm94LmFwcGVuZENoaWxkKGhlYWRlcik7XG5cbiAgICAgIGlmICh0aGlzLmNvbmZpZy5jYXRlZ29yaWVzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBjYXRlZ29yaWVzID0gdGhpcy5jcmVhdGVDYXRlZ29yaWVzKCk7XG4gICAgICAgIHRoaXMuaW5ib3guYXBwZW5kQ2hpbGQoY2F0ZWdvcmllcyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaW5ib3hDYXJkID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgJ2luYm94Q2FyZCcpO1xuICAgICAgdGhpcy5pbmJveC5hcHBlbmRDaGlsZCh0aGlzLmluYm94Q2FyZCk7XG4gICAgICB0aGlzLmVtcHR5SW5ib3hNc2cgPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCAnZW1wdHlJbmJveE1zZycpO1xuICAgICAgdGhpcy5lbXB0eUluYm94TXNnLmlubmVyVGV4dCA9ICdBbGwgbWVzc2FnZXMgd2lsbCBiZSBkaXNwbGF5ZWQgaGVyZS4nO1xuICAgICAgdGhpcy5pbmJveENhcmQuYXBwZW5kQ2hpbGQodGhpcy5lbXB0eUluYm94TXNnKTsgLy8gSW50ZXJzZWN0aW9uIG9ic2VydmVyIGZvciBub3RpZmljYXRpb24gdmlld2VkXG5cbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHJvb3Q6IHRoaXMuaW5ib3hDYXJkLFxuICAgICAgICByb290TWFyZ2luOiAnMHB4JyxcbiAgICAgICAgdGhyZXNob2xkOiAwLjVcbiAgICAgIH07XG4gICAgICB0aGlzLm9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChlbnRyaWVzLCBvYnNlcnZlcikgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZU1lc3NhZ2VWaWV3ZWQoZW50cmllcyk7XG4gICAgICB9LCBvcHRpb25zKTtcbiAgICAgIHRoaXMuYWRkTXNnc1RvSW5ib3hGcm9tTFMoKTtcbiAgICB9XG5cbiAgICBjcmVhdGVDYXRlZ29yaWVzKCkge1xuICAgICAgY29uc3QgY2F0ZWdvcmllc0NvbnRhaW5lciA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsICdjYXRlZ29yaWVzQ29udGFpbmVyJyk7XG4gICAgICBjb25zdCBsZWZ0QXJyb3cgPSB0aGlzLmNyZWF0ZUVsKCdkaXYnLCAnbGVmdEFycm93Jyk7XG4gICAgICBsZWZ0QXJyb3cuaW5uZXJIVE1MID0gYXJyb3dTdmc7XG4gICAgICBsZWZ0QXJyb3cuY2hpbGRyZW5bMF0uc3R5bGUgPSAndHJhbnNmb3JtOiByb3RhdGUoMTgwZGVnKSc7XG4gICAgICBsZWZ0QXJyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnY2F0ZWdvcmllc1dyYXBwZXInKS5zY3JvbGxCeSgtNzAsIDApO1xuICAgICAgfSk7XG4gICAgICBjYXRlZ29yaWVzQ29udGFpbmVyLmFwcGVuZENoaWxkKGxlZnRBcnJvdyk7XG4gICAgICBjb25zdCBjYXRlZ29yaWVzV3JhcHBlciA9IHRoaXMuY3JlYXRlRWwoJ2RpdicsICdjYXRlZ29yaWVzV3JhcHBlcicpO1xuICAgICAgY29uc3QgX2NhdGVnb3JpZXMgPSBbJ0FsbCcsIC4uLnRoaXMuY29uZmlnLmNhdGVnb3JpZXNdO1xuXG4gICAgICBfY2F0ZWdvcmllcy5mb3JFYWNoKChjLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgXCJjYXRlZ29yeS1cIi5jb25jYXQoaSksICdjYXRlZ29yeScpO1xuICAgICAgICBjYXRlZ29yeS5pbm5lclRleHQgPSBjO1xuXG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3RlZENhdGVnb3J5UmVmID0gY2F0ZWdvcnk7XG4gICAgICAgIH1cblxuICAgICAgICBjYXRlZ29yaWVzV3JhcHBlci5hcHBlbmRDaGlsZChjYXRlZ29yeSk7XG4gICAgICB9KTtcblxuICAgICAgY2F0ZWdvcmllc0NvbnRhaW5lci5hcHBlbmRDaGlsZChjYXRlZ29yaWVzV3JhcHBlcik7XG4gICAgICBjb25zdCByaWdodEFycm93ID0gdGhpcy5jcmVhdGVFbCgnZGl2JywgJ3JpZ2h0QXJyb3cnKTtcbiAgICAgIHJpZ2h0QXJyb3cuaW5uZXJIVE1MID0gYXJyb3dTdmc7XG4gICAgICByaWdodEFycm93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ2NhdGVnb3JpZXNXcmFwcGVyJykuc2Nyb2xsQnkoNzAsIDApO1xuICAgICAgfSk7XG4gICAgICBjYXRlZ29yaWVzQ29udGFpbmVyLmFwcGVuZENoaWxkKHJpZ2h0QXJyb3cpO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgcm9vdDogY2F0ZWdvcmllc0NvbnRhaW5lcixcbiAgICAgICAgdGhyZXNob2xkOiAwLjlcbiAgICAgIH07XG4gICAgICBjb25zdCBmaXJzdENhdGVnb3J5ID0gY2F0ZWdvcmllc1dyYXBwZXIuY2hpbGRyZW5bMF07XG4gICAgICBjb25zdCBsYXN0Q2F0ZWdvcnkgPSBjYXRlZ29yaWVzV3JhcHBlci5jaGlsZHJlblt0aGlzLmNvbmZpZy5jYXRlZ29yaWVzLmxlbmd0aF07XG4gICAgICBjb25zdCBmaXJzdENhdGVnb3J5T2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZSA9PiB7XG4gICAgICAgIHRoaXMuY2F0ZWdvcnlPYnNlcnZlckNiKGxlZnRBcnJvdywgZVswXS5pbnRlcnNlY3Rpb25SYXRpbyA+PSAwLjkpO1xuICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICBmaXJzdENhdGVnb3J5T2JzZXJ2ZXIub2JzZXJ2ZShmaXJzdENhdGVnb3J5KTtcbiAgICAgIGNvbnN0IGxhc3RDYXRlZ29yeU9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGUgPT4ge1xuICAgICAgICB0aGlzLmNhdGVnb3J5T2JzZXJ2ZXJDYihyaWdodEFycm93LCBlWzBdLmludGVyc2VjdGlvblJhdGlvID49IDAuOSk7XG4gICAgICB9LCBvcHRpb25zKTtcbiAgICAgIGxhc3RDYXRlZ29yeU9ic2VydmVyLm9ic2VydmUobGFzdENhdGVnb3J5KTtcbiAgICAgIHJldHVybiBjYXRlZ29yaWVzQ29udGFpbmVyO1xuICAgIH1cblxuICAgIGNhdGVnb3J5T2JzZXJ2ZXJDYihlbCwgaGlkZSkge1xuICAgICAgaWYgKCFlbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSBoaWRlID8gJ25vbmUnIDogJ2ZsZXgnO1xuICAgIH1cblxuICAgIHVwZGF0ZUFjdGl2ZUNhdGVnb3J5KGFjdGl2ZUNhdGVnb3J5KSB7XG4gICAgICB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnkgPSBhY3RpdmVDYXRlZ29yeTtcbiAgICAgIHRoaXMuaW5ib3hDYXJkLnNjcm9sbFRvcCA9IDA7XG4gICAgICBsZXQgY291bnRlciA9IDA7XG4gICAgICB0aGlzLnByZXZDYXRlZ29yeVJlZiAmJiB0aGlzLnByZXZDYXRlZ29yeVJlZi5zZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgJ2ZhbHNlJyk7XG4gICAgICB0aGlzLnNlbGVjdGVkQ2F0ZWdvcnlSZWYuc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsICd0cnVlJyk7XG4gICAgICB0aGlzLmluYm94Q2FyZC5jaGlsZE5vZGVzLmZvckVhY2goYyA9PiB7XG4gICAgICAgIGlmIChjLmdldEF0dHJpYnV0ZSgnaWQnKSAhPT0gJ2VtcHR5SW5ib3hNc2cnKSB7XG4gICAgICAgICAgYy5zdHlsZS5kaXNwbGF5ID0gdGhpcy5zZWxlY3RlZENhdGVnb3J5ID09PSAnQWxsJyB8fCBjLmdldEF0dHJpYnV0ZSgnY2F0ZWdvcnknKSA9PT0gdGhpcy5zZWxlY3RlZENhdGVnb3J5ID8gJ2Jsb2NrJyA6ICdub25lJztcblxuICAgICAgICAgIGlmIChjLnN0eWxlLmRpc3BsYXkgPT09ICdibG9jaycpIHtcbiAgICAgICAgICAgIGNvdW50ZXIrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoY291bnRlciA9PT0gMCkge1xuICAgICAgICB0aGlzLmVtcHR5SW5ib3hNc2cuaW5uZXJUZXh0ID0gXCJcIi5jb25jYXQoYWN0aXZlQ2F0ZWdvcnksIFwiIG1lc3NhZ2VzIHdpbGwgYmUgZGlzcGxheWVkIGhlcmUuXCIpO1xuICAgICAgICB0aGlzLmVtcHR5SW5ib3hNc2cuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVtcHR5SW5ib3hNc2cuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBidWlsZFVJRm9yTWVzc2FnZXMoKSB7XG4gICAgICB2YXIgX3RoaXMkY29uZmlnJG1heE1zZ3NJO1xuXG4gICAgICBsZXQgbWVzc2FnZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgICAgIXRoaXMuaXNQcmV2aWV3ICYmIHRoaXMudXBkYXRlVFNGb3JSZW5kZXJlZE1zZ3MoKTtcbiAgICAgIHRoaXMuaW5ib3hDYXJkLnNjcm9sbFRvcCA9IDA7XG4gICAgICBjb25zdCBtYXhNc2dzSW5JbmJveCA9IChfdGhpcyRjb25maWckbWF4TXNnc0kgPSB0aGlzLmNvbmZpZy5tYXhNc2dzSW5JbmJveCkgIT09IG51bGwgJiYgX3RoaXMkY29uZmlnJG1heE1zZ3NJICE9PSB2b2lkIDAgPyBfdGhpcyRjb25maWckbWF4TXNnc0kgOiBNQVhfSU5CT1hfTVNHO1xuICAgICAgY29uc3QgZmlyc3RDaGlsZCA9IHRoaXMuaW5ib3hDYXJkLmZpcnN0Q2hpbGQ7XG4gICAgICBjb25zdCBzb3J0ZWRNc2dzID0gT2JqZWN0LnZhbHVlcyhtZXNzYWdlcykuc29ydCgoYSwgYikgPT4gYi5kYXRlIC0gYS5kYXRlKS5tYXAobSA9PiBtLmlkKTtcblxuICAgICAgZm9yIChjb25zdCBtIG9mIHNvcnRlZE1zZ3MpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IG5ldyBNZXNzYWdlKHRoaXMuY29uZmlnLCBtZXNzYWdlc1ttXSk7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdpZCcsIG1lc3NhZ2VzW21dLmlkKTtcbiAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ3Bpdm90JywgbWVzc2FnZXNbbV0ud3pya19waXZvdCk7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdwYXJ0JywgJ2N0LWluYm94LW1lc3NhZ2UnKTtcblxuICAgICAgICBpZiAodGhpcy5jb25maWcuY2F0ZWdvcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2NhdGVnb3J5JywgbWVzc2FnZXNbbV0udGFnc1swXSB8fCAnJyk7XG4gICAgICAgICAgaXRlbS5zdHlsZS5kaXNwbGF5ID0gdGhpcy5zZWxlY3RlZENhdGVnb3J5ID09PSAnQWxsJyB8fCBtZXNzYWdlc1ttXS5jYXRlZ29yeSA9PT0gdGhpcy5zZWxlY3RlZENhdGVnb3J5ID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbmJveENhcmQuaW5zZXJ0QmVmb3JlKGl0ZW0sIGZpcnN0Q2hpbGQpO1xuICAgICAgICB0aGlzLm9ic2VydmVyLm9ic2VydmUoaXRlbSk7XG4gICAgICB9XG5cbiAgICAgIGxldCBtc2dUb3RhbENvdW50ID0gdGhpcy5pbmJveENhcmQucXVlcnlTZWxlY3RvckFsbCgnY3QtaW5ib3gtbWVzc2FnZScpLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKG1zZ1RvdGFsQ291bnQgPiBtYXhNc2dzSW5JbmJveCkge1xuICAgICAgICBjb25zdCBjdEluYm94TXNncyA9IHRoaXMuaW5ib3hDYXJkLnF1ZXJ5U2VsZWN0b3JBbGwoJ2N0LWluYm94LW1lc3NhZ2UnKTtcblxuICAgICAgICBpZiAoY3RJbmJveE1zZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGN0SW5ib3hNc2dzW2N0SW5ib3hNc2dzLmxlbmd0aCAtIDFdLnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbXNnVG90YWxDb3VudC0tO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBoYXNNZXNzYWdlcyA9IHRoaXMuaW5ib3hDYXJkLnF1ZXJ5U2VsZWN0b3JBbGwoJ2N0LWluYm94LW1lc3NhZ2Vbc3R5bGUqPVwiZGlzcGxheTogYmxvY2tcIl0nKS5sZW5ndGg7XG4gICAgICB0aGlzLmVtcHR5SW5ib3hNc2cuc3R5bGUuZGlzcGxheSA9IGhhc01lc3NhZ2VzID8gJ25vbmUnIDogJ2Jsb2NrJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGNsaWNrIGxpc3RlbmVyIG9uIHRoZSBkb2N1bWVudC4gRm9yIGV2ZXJ5IGNsaWNrIHdlIGNoZWNrXG4gICAgICogMS4gaWYgdGhlIGNsaWNrIGhhcyBoYXBwZW5uZWQgd2l0aGluIHRoZSBpbmJveFxuICAgICAqICAgIC0gb24gY2xvc2UgYnV0dG9uLCB3ZSBjbG9zZSB0aGUgaW5ib3hcbiAgICAgKiAgICAtIG9uIGFueSBvZiB0aGUgY2F0ZWdvcnksIHdlIHNldCB0aGF0IGFzIHRoZSBhY3RpdmVDYXRlZ29yeVxuICAgICAqICAgIC0gb24gYW55IG9mIHRoZSBtZXNzYWdlLCB3ZSBtYXJrIHJhaXNlIG5vdGlmaWNhdGlvbiBjbGlja2VkIGV2ZW50LiBUbyBpZGVudGlmeSB0aGUgY2xpY2tzIG9uIGEgYnV0dG9uLCB3ZSBoYXZlIHAuaWQuc3RhcnRzV2l0aCgnYnV0dG9uLScpXG4gICAgICogMi4gaWYgdGhlIHVzZXIgaGFzIGNsaWNrZWQgb24gdGhlIGluYm94U2VsZWN0b3IsIHdlIHRvZ2dsZSBpbmJveFxuICAgICAqIDMuIGlmIHRoZSBjbGljayBpcyBhbnl3aGVyZSBlbHNlIG9uIHRoZSBVSSBhbmQgdGhlIGluYm94IGlzIG9wZW4sIHdlIHNpbXBseSBjbG9zZSBpdFxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGV2ZXJ5IHRpbWUgd2hlbiBhIG1lc3NhZ2UgY29tZXMgaW50byB0aGUgaW5ib3ggdmlld3BvcnQgYW5kIGl0J3MgdmlzaWJpbGl0eSBpbmNyZWFzZXMgdG8gNTAlIG9yIGRyb3BzIGJlbG93IDUwJVxuICAgICAqIElmIGEgbXNnIGlzIDUwJSB2aXNpYmxlIGluIHRoZSBVSSwgd2UgbmVlZCB0byBtYXJrIHRoZSBtZXNzYWdlIGFzIHZpZXdlZCBpbiBMUyBhbmQgcmFpc2Ugbm90aWZpY2F0aW9uIHZpZXdlZCBldmVudFxuICAgICAqL1xuICAgIGhhbmRsZU1lc3NhZ2VWaWV3ZWQoZW50cmllcykge1xuICAgICAgY29uc3QgcmFpc2VWaWV3ZWRFdmVudCA9ICF0aGlzLmlzUHJldmlldztcblxuICAgICAgaWYgKHRoaXMuaXNJbmJveE9wZW4pIHtcbiAgICAgICAgZW50cmllcy5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgIGlmIChlLmlzSW50ZXJzZWN0aW5nICYmIHRoaXMudW52aWV3ZWRNZXNzYWdlcy5oYXNPd25Qcm9wZXJ0eShlLnRhcmdldC5pZCkgJiYgZS50YXJnZXQubWVzc2FnZS52aWV3ZWQgPT09IDApIHtcbiAgICAgICAgICAgIGUudGFyZ2V0Lm1lc3NhZ2Uudmlld2VkID0gMTtcblxuICAgICAgICAgICAgaWYgKHJhaXNlVmlld2VkRXZlbnQpIHtcbiAgICAgICAgICAgICAgd2luZG93LmNsZXZlcnRhcC5yZW5kZXJOb3RpZmljYXRpb25WaWV3ZWQoe1xuICAgICAgICAgICAgICAgIG1zZ0lkOiBlLnRhcmdldC5jYW1wYWlnbklkLFxuICAgICAgICAgICAgICAgIHBpdm90SWQ6IGUudGFyZ2V0LnBpdm90SWRcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZUluTFMoZS50YXJnZXQuaWQsIHsgLi4uZS50YXJnZXQubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB2aWV3ZWQ6IDFcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ3VucmVhZE1hcmtlcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ05vdGlmaWN0aW9uIHZpZXdlZCBldmVudCB3aWxsIGJlIHJhaXNlZCBhdCBydW4gdGltZSB3aXRoIHBheWxvYWQgOjonLCB7XG4gICAgICAgICAgICAgICAgbXNnSWQ6IGUudGFyZ2V0LmNhbXBhaWduSWQsXG4gICAgICAgICAgICAgICAgcGl2b3RJZDogZS50YXJnZXQucGl2b3RJZFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy51bnZpZXdlZENvdW50ZXItLTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVW52aWV3ZWRCYWRnZUNvdW50ZXIoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnVudmlld2VkTWVzc2FnZXNbZS50YXJnZXQuaWRdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlTWVzc2FnZUluTFMoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKCF0aGlzLmlzUHJldmlldykge1xuICAgICAgICBjb25zdCBtZXNzYWdlcyA9IGdldEluYm94TWVzc2FnZXMoKTtcbiAgICAgICAgbWVzc2FnZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICBzYXZlSW5ib3hNZXNzYWdlcyhtZXNzYWdlcyk7XG4gICAgICB9XG4gICAgfSAvLyBjcmVhdGUgYSBzZXBhcnRlIGZuIGZybyByZWZhY3RvcmluZ1xuXG5cbiAgICB0b2dnbGVJbmJveChlKSB7XG4gICAgICB0aGlzLmlzSW5ib3hPcGVuID0gIXRoaXMuaXNJbmJveE9wZW47XG4gICAgICB0aGlzLmlzSW5ib3hGcm9tRmx1dHRlciA9ICEhKGUgPT09IG51bGwgfHwgZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZS5yZWN0KTtcblxuICAgICAgaWYgKHRoaXMuaXNJbmJveE9wZW4pIHtcbiAgICAgICAgdGhpcy5pbmJveENhcmQuc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgIXRoaXMuaXNQcmV2aWV3ICYmIHRoaXMuZGVsZXRlRXhwaXJlZEFuZEdldFVuZXhwaXJlZE1zZ3MoKTtcbiAgICAgICAgdGhpcy5pbmJveC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgdGhpcy5pbmJveC5zdHlsZS56SW5kZXggPSAnMjE0NzQ4MzY0Nyc7IC8vIHpJbmRleCBzaG91bGQgYmUgbWF4IGZvciB0aGUgaW5ib3ggdG8gYmUgcmVuZGVyZWQgb24gdG9wIG9mIGFsbCBlbGVtZW50c1xuXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5jYXRlZ29yaWVzLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDYXRlZ29yeVJlZi5zZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgJ2ZhbHNlJyk7XG4gICAgICAgICAgdGhpcy5zZWxlY3RlZENhdGVnb3J5UmVmID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdjYXRlZ29yeS0wJyk7XG4gICAgICAgICAgdGhpcy51cGRhdGVBY3RpdmVDYXRlZ29yeSh0aGlzLnNlbGVjdGVkQ2F0ZWdvcnlSZWYuaW5uZXJUZXh0KTtcbiAgICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ2NhdGVnb3JpZXNXcmFwcGVyJykuc2Nyb2xsTGVmdCAtPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ2NhdGVnb3JpZXNXcmFwcGVyJykuc2Nyb2xsV2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldEluYm94UG9zaXRpb24oZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmluYm94LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2V0SW5ib3hQb3NpdGlvbihlKSB7XG4gICAgICBjb25zdCB3aW5kb3dXaWR0aCA9IHdpbmRvdy5vdXRlcldpZHRoO1xuICAgICAgY29uc3QgY3VzdG9tSW5ib3hTdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKCRjdC5pbmJveCk7XG4gICAgICBjb25zdCB0b3AgPSBjdXN0b21JbmJveFN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCctLWluYm94LXRvcCcpO1xuICAgICAgY29uc3QgYm90dG9tID0gY3VzdG9tSW5ib3hTdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSgnLS1pbmJveC1ib3R0b20nKTtcbiAgICAgIGNvbnN0IGxlZnQgPSBjdXN0b21JbmJveFN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCctLWluYm94LWxlZnQnKTtcbiAgICAgIGNvbnN0IHJpZ2h0ID0gY3VzdG9tSW5ib3hTdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSgnLS1pbmJveC1yaWdodCcpO1xuICAgICAgY29uc3QgaGFzUG9zaXRpb25EZWZpbmVkID0gdG9wIHx8IGJvdHRvbSB8fCBsZWZ0IHx8IHJpZ2h0O1xuXG4gICAgICBpZiAod2luZG93V2lkdGggPiA0ODEgJiYgIWhhc1Bvc2l0aW9uRGVmaW5lZCkge1xuICAgICAgICBjb25zdCByZXMgPSBnZXRJbmJveFBvc2l0aW9uKGUsIHRoaXMuaW5ib3guY2xpZW50SGVpZ2h0LCB0aGlzLmluYm94LmNsaWVudFdpZHRoKTtcbiAgICAgICAgY29uc3QgeFBvcyA9IHJlcy54UG9zO1xuICAgICAgICBjb25zdCB5UG9zID0gcmVzLnlQb3M7XG4gICAgICAgIHRoaXMuaW5ib3guc3R5bGUudG9wID0geVBvcyArICdweCc7XG4gICAgICAgIHRoaXMuaW5ib3guc3R5bGUubGVmdCA9IHhQb3MgKyAncHgnO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBVSSB3aXRoIHRoZSBudW1iZXIgb2YgdW52aWV3ZWQgbWVzc2FnZXNcbiAgICAgKiBJZiB0aGVyZSBhcmUgbW9yZSB0aGFuIDkgdW52aWV3ZWQgbWVzc2FnZXMsIHdlIHNob3cgdGhlIGNvdW50IGFzIDkrXG4gICAgICovXG5cblxuICAgIHVwZGF0ZVVudmlld2VkQmFkZ2VDb3VudGVyKCkge1xuICAgICAgaWYgKHRoaXMuaXNQcmV2aWV3KSB7XG4gICAgICAgIHRoaXMuc2V0QmFkZ2VTdHlsZSh0aGlzLnVudmlld2VkQ291bnRlcik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGV0IGNvdW50ZXIgPSAwO1xuICAgICAgdGhpcy5pbmJveENhcmQucXVlcnlTZWxlY3RvckFsbCgnY3QtaW5ib3gtbWVzc2FnZScpLmZvckVhY2gobSA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gZ2V0SW5ib3hNZXNzYWdlcygpO1xuXG4gICAgICAgIGlmIChtZXNzYWdlc1ttLmlkXSAmJiBtZXNzYWdlc1ttLmlkXS52aWV3ZWQgPT09IDApIHtcbiAgICAgICAgICBjb3VudGVyKys7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZXRCYWRnZVN0eWxlKGNvdW50ZXIpO1xuICAgIH1cblxuICAgIHVwZGF0ZVRTRm9yUmVuZGVyZWRNc2dzKCkge1xuICAgICAgdGhpcy5pbmJveENhcmQucXVlcnlTZWxlY3RvckFsbCgnY3QtaW5ib3gtbWVzc2FnZScpLmZvckVhY2gobSA9PiB7XG4gICAgICAgIGNvbnN0IHRzID0gbS5pZC5zcGxpdCgnXycpWzFdO1xuICAgICAgICBtLnNoYWRvdy5nZXRFbGVtZW50QnlJZCgndGltZVN0YW1wJykuZmlyc3RDaGlsZC5pbm5lclRleHQgPSBkZXRlcm1pbmVUaW1lU3RhbXBUZXh0KHRzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldEluYm94U3R5bGVzKCkge1xuICAgICAgY29uc3QgaGVhZGVySGVpZ2h0ID0gMzY7XG4gICAgICBjb25zdCBjYXRlZ29yaWVzSGVpZ2h0ID0gdGhpcy5jb25maWcuY2F0ZWdvcmllcy5sZW5ndGggPyA2NCA6IDE2O1xuICAgICAgY29uc3Qgc3R5bGVzID0ge1xuICAgICAgICBwYW5lbEJhY2tncm91bmRDb2xvcjogdGhpcy5jb25maWcuc3R5bGVzLnBhbmVsQmFja2dyb3VuZENvbG9yLFxuICAgICAgICBwYW5lbEJvcmRlckNvbG9yOiB0aGlzLmNvbmZpZy5zdHlsZXMucGFuZWxCb3JkZXJDb2xvcixcbiAgICAgICAgaGVhZGVyQmFja2dyb3VuZENvbG9yOiB0aGlzLmNvbmZpZy5zdHlsZXMuaGVhZGVyLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgaGVhZGVyVGl0bGVDb2xvcjogdGhpcy5jb25maWcuc3R5bGVzLmhlYWRlci50aXRsZUNvbG9yLFxuICAgICAgICBjbG9zZUljb25Db2xvcjogdGhpcy5jb25maWcuc3R5bGVzLmNsb3NlSWNvbkNvbG9yLFxuICAgICAgICBjYXRlZ29yaWVzVGFiQ29sb3I6IHRoaXMuY29uZmlnLnN0eWxlcy5jYXRlZ29yaWVzLnRhYkNvbG9yLFxuICAgICAgICBjYXRlZ29yaWVzVGl0bGVDb2xvcjogdGhpcy5jb25maWcuc3R5bGVzLmNhdGVnb3JpZXMudGl0bGVDb2xvcixcbiAgICAgICAgc2VsZWN0ZWRDYXRlZ29yeVRhYkNvbG9yOiB0aGlzLmNvbmZpZy5zdHlsZXMuY2F0ZWdvcmllcy5zZWxlY3RlZFRhYi50YWJDb2xvcixcbiAgICAgICAgc2VsZWN0ZWRDYXRlZ29yeVRpdGxlQ29sb3I6IHRoaXMuY29uZmlnLnN0eWxlcy5jYXRlZ29yaWVzLnNlbGVjdGVkVGFiLnRpdGxlQ29sb3IsXG4gICAgICAgIGhlYWRlckNhdGVnb3J5SGVpZ2h0OiBoZWFkZXJIZWlnaHQgKyBjYXRlZ29yaWVzSGVpZ2h0XG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5jb25maWcuc3R5bGVzLmNhdGVnb3JpZXMuYm9yZGVyQ29sb3IpIHtcbiAgICAgICAgc3R5bGVzLmNhdGVnb3JpZXNCb3JkZXJDb2xvciA9IHRoaXMuY29uZmlnLnN0eWxlcy5jYXRlZ29yaWVzLmJvcmRlckNvbG9yO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5jb25maWcuc3R5bGVzLmNhdGVnb3JpZXMuc2VsZWN0ZWRUYWIuYm9yZGVyQ29sb3IpIHtcbiAgICAgICAgc3R5bGVzLnNlbGVjdGVkQ2F0ZWdvcnlCb3JkZXJDb2xvciA9IHRoaXMuY29uZmlnLnN0eWxlcy5jYXRlZ29yaWVzLnNlbGVjdGVkVGFiLmJvcmRlckNvbG9yO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBpbmJveFN0eWxlcyA9IGluYm94Q29udGFpbmVyU3R5bGVzKHN0eWxlcyk7XG4gICAgICBjb25zdCBjYXJkU3R5bGVzID0gdGhpcy5jb25maWcuc3R5bGVzLmNhcmRzO1xuICAgICAgY29uc3QgbXNnU3R5bGVzID0gbWVzc2FnZVN0eWxlcyh7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogY2FyZFN0eWxlcy5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgIGJvcmRlckNvbG9yOiBjYXJkU3R5bGVzLmJvcmRlckNvbG9yLFxuICAgICAgICB0aXRsZUNvbG9yOiBjYXJkU3R5bGVzLnRpdGxlQ29sb3IsXG4gICAgICAgIGRlc2NyaXB0aW9uQ29sb3I6IGNhcmRTdHlsZXMuZGVzY3JpcHRpb25Db2xvcixcbiAgICAgICAgYnV0dG9uQ29sb3I6IGNhcmRTdHlsZXMuYnV0dG9uQ29sb3IsXG4gICAgICAgIGJ1dHRvblRleHRDb2xvcjogY2FyZFN0eWxlcy5idXR0b25UZXh0Q29sb3IsXG4gICAgICAgIHVucmVhZE1hcmtlckNvbG9yOiBjYXJkU3R5bGVzLnVucmVhZE1hcmtlckNvbG9yXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpbmJveFN0eWxlcyArIG1zZ1N0eWxlcztcbiAgICB9XG5cbiAgfVxuXG4gIGNvbnN0IHByb2Nlc3NXZWJJbmJveFNldHRpbmdzID0gZnVuY3Rpb24gKHdlYkluYm94U2V0dGluZykge1xuICAgIGxldCBpc1ByZXZpZXcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gICAgY29uc3QgX3NldHRpbmdzID0gU3RvcmFnZU1hbmFnZXIucmVhZEZyb21MU29yQ29va2llKFdFQklOQk9YX0NPTkZJRykgfHwge307XG5cbiAgICBpZiAoaXNQcmV2aWV3KSB7XG4gICAgICAkY3QuaW5ib3guaW5ib3hDb25maWdGb3JQcmV2aWV3ID0gd2ViSW5ib3hTZXR0aW5nO1xuICAgICAgJGN0LmluYm94LmlzUHJldmlldyA9IHRydWU7XG4gICAgICAkY3QuaW5ib3ggJiYgJGN0LmluYm94LmluaXQoKTtcbiAgICB9IGVsc2UgaWYgKEpTT04uc3RyaW5naWZ5KF9zZXR0aW5ncykgIT09IEpTT04uc3RyaW5naWZ5KHdlYkluYm94U2V0dGluZykpIHtcbiAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoV0VCSU5CT1hfQ09ORklHLCB3ZWJJbmJveFNldHRpbmcpO1xuICAgICAgJGN0LmluYm94ICYmICRjdC5pbmJveC5pbml0KCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBwcm9jZXNzSW5ib3hOb3RpZnMgPSBtc2cgPT4ge1xuICAgIGlmIChtc2cuaW5ib3hfcHJldmlldykge1xuICAgICAgJGN0LmluYm94LmluY29taW5nTWVzc2FnZXNGb3JQcmV2aWV3ID0gbXNnLmluYm94X25vdGlmcztcbiAgICB9IGVsc2Uge1xuICAgICAgJGN0LmluYm94LmluY29taW5nTWVzc2FnZXMgPSBtc2c7XG4gICAgfVxuICB9O1xuICBjb25zdCBhZGRXZWJJbmJveCA9IGxvZ2dlciA9PiB7XG4gICAgY2hlY2tBbmRSZWdpc3RlcldlYkluYm94RWxlbWVudHMoKTtcbiAgICAkY3QuaW5ib3ggPSBuZXcgSW5ib3goe1xuICAgICAgbG9nZ2VyXG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCgkY3QuaW5ib3gpO1xuICB9O1xuXG4gIGNvbnN0IGdldEFuZE1pZ3JhdGVJbmJveE1lc3NhZ2VzID0gZ3VpZCA9PiB7XG4gICAgY29uc3QgbWVzc2FnZXMgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoV0VCSU5CT1gpIHx8IHt9OyAvLyBEb2luZyB0aGlzIHRvIG1pZ3JhdGUgbWVzc2FnZSB0byBndWlkIGxldmVsXG5cbiAgICBpZiAoT2JqZWN0LmtleXMobWVzc2FnZXMpLmxlbmd0aCA+IDAgJiYgT2JqZWN0LmtleXMobWVzc2FnZXMpWzBdLmluY2x1ZGVzKCdfJykpIHtcbiAgICAgIGNvbnN0IGd1ZEluYm94T2JqID0ge307XG4gICAgICBndWRJbmJveE9ialtndWlkXSA9IG1lc3NhZ2VzO1xuICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShXRUJJTkJPWCwgZ3VkSW5ib3hPYmopO1xuICAgICAgcmV0dXJuIGd1ZEluYm94T2JqO1xuICAgIH1cblxuICAgIHJldHVybiBtZXNzYWdlcztcbiAgfTtcblxuICBjb25zdCBnZXRJbmJveE1lc3NhZ2VzID0gKCkgPT4ge1xuICAgIGNvbnN0IGd1aWQgPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChTdG9yYWdlTWFuYWdlci5yZWFkKEdDT09LSUVfTkFNRSkpKTtcblxuICAgIGlmICghaXNWYWx1ZVZhbGlkKGd1aWQpKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgY29uc3QgbWVzc2FnZXMgPSBnZXRBbmRNaWdyYXRlSW5ib3hNZXNzYWdlcyhndWlkKTtcbiAgICByZXR1cm4gbWVzc2FnZXMuaGFzT3duUHJvcGVydHkoZ3VpZCkgPyBtZXNzYWdlc1tndWlkXSA6IHt9O1xuICB9O1xuICBjb25zdCBzYXZlSW5ib3hNZXNzYWdlcyA9IG1lc3NhZ2VzID0+IHtcbiAgICBjb25zdCBndWlkID0gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoU3RvcmFnZU1hbmFnZXIucmVhZChHQ09PS0lFX05BTUUpKSk7XG5cbiAgICBpZiAoIWlzVmFsdWVWYWxpZChndWlkKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHN0b3JlZEluYm94T2JqID0gZ2V0QW5kTWlncmF0ZUluYm94TWVzc2FnZXMoZ3VpZCk7XG4gICAgY29uc3QgbmV3T2JqID0geyAuLi5zdG9yZWRJbmJveE9iaixcbiAgICAgIFtndWlkXTogbWVzc2FnZXNcbiAgICB9O1xuICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoV0VCSU5CT1gsIG5ld09iaik7XG4gIH07XG4gIGNvbnN0IGluaXRpYWxpemVXZWJJbmJveCA9IGxvZ2dlciA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgICAgIGFkZFdlYkluYm94KGxvZ2dlcik7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShXRUJJTkJPWF9DT05GSUcpIHx8IHt9O1xuXG4gICAgICAgIGNvbnN0IG9uTG9hZGVkID0gKCkgPT4ge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFdlIG5lZWQgdGhpcyBudWxsIGNoZWNrIGhlcmUgYmVjYXVzZSAkY3QuaW5ib3ggY291bGQgYmUgaW5pdGlhbGlzZWQgdmlhIGluaXQgbWV0aG9kIHRvbyBvbiBkb2N1bWVudCBsb2FkLlxuICAgICAgICAgICAqIEluIHRoYXQgY2FzZSB3ZSBkb24ndCBuZWVkIHRvIGNhbGwgYWRkV2ViSW5ib3ggbWV0aG9kXG4gICAgICAgICAgICovXG4gICAgICAgICAgaWYgKCRjdC5pbmJveCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgYWRkV2ViSW5ib3gobG9nZ2VyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogU2NyaXB0cyBjYW4gYmUgbG9hZGVkIGxheXppbHksIHdlIG1heSBub3QgZ2V0IGVsZW1lbnQgZnJvbSBkb20gYXMgaXQgbWF5IG5vdCBiZSBtb3VudGVkIHlldFxuICAgICAgICAgICAqIFdlIHdpbGwgdG8gY2hlY2sgZWxlbWVudCBmb3IgMTAgc2Vjb25kcyBhbmQgZ2l2ZSB1cFxuICAgICAgICAgICAqL1xuICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb25maWcuaW5ib3hTZWxlY3RvcikpIHtcbiAgICAgICAgICAgIG9uTG9hZGVkKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGZvciBlbGVtZW50IGZvciBuZXh0IDEwIHNlY29uZHNcbiAgICAgICAgICAgIGxldCBjb3VudCA9IDA7XG5cbiAgICAgICAgICAgIGlmIChjb3VudCA8IDIwKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbmZpZy5pbmJveFNlbGVjdG9yKSkge1xuICAgICAgICAgICAgICAgICAgb25Mb2FkZWQoKTtcbiAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodCk7XG4gICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb3VudCA+PSAyMCkge1xuICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0KTtcbiAgICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnRmFpbGVkIHRvIGFkZCBpbmJveCcpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgY2hlY2tBbmRSZWdpc3RlcldlYkluYm94RWxlbWVudHMgPSAoKSA9PiB7XG4gICAgaWYgKGN1c3RvbUVsZW1lbnRzLmdldCgnY3Qtd2ViLWluYm94JykgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdjdC13ZWItaW5ib3gnLCBJbmJveCk7XG4gICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ2N0LWluYm94LW1lc3NhZ2UnLCBNZXNzYWdlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGdldEluYm94UG9zaXRpb24gPSAoZSwgaW5ib3hIZWlnaHQsIGluYm94V2lkdGgpID0+IHtcbiAgICBjb25zdCBob3Jpem9udGFsU2Nyb2xsID0gZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudC5zY3JvbGxMZWZ0O1xuICAgIGNvbnN0IHZlcnRpY2FsU2Nyb2xsID0gZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudC5zY3JvbGxUb3A7XG4gICAgY29uc3Qgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCArIGhvcml6b250YWxTY3JvbGw7XG4gICAgY29uc3Qgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ICsgdmVydGljYWxTY3JvbGw7XG4gICAgY29uc3Qgc2VsZWN0b3JSZWN0ID0gZS5yZWN0IHx8IGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHNlbGVjdG9yWCA9IHNlbGVjdG9yUmVjdC54ICsgaG9yaXpvbnRhbFNjcm9sbDtcbiAgICBjb25zdCBzZWxlY3RvclkgPSBzZWxlY3RvclJlY3QueSArIHZlcnRpY2FsU2Nyb2xsO1xuICAgIGNvbnN0IHNlbGVjdG9yTGVmdCA9IHNlbGVjdG9yUmVjdC5sZWZ0ICsgaG9yaXpvbnRhbFNjcm9sbDtcbiAgICBjb25zdCBzZWxlY3RvclJpZ2h0ID0gc2VsZWN0b3JSZWN0LnJpZ2h0ICsgaG9yaXpvbnRhbFNjcm9sbDtcbiAgICBjb25zdCBzZWxlY3RvclRvcCA9IHNlbGVjdG9yUmVjdC50b3AgKyB2ZXJ0aWNhbFNjcm9sbDsgLy8gY29uc3Qgc2VsZWN0b3JCb3R0b20gPSBzZWxlY3RvclJlY3QuYm90dG9tICsgdmVydGljYWxTY3JvbGxcblxuICAgIGNvbnN0IHNlbGVjdG9yQm90dG9tID0gc2VsZWN0b3JSZWN0LmJvdHRvbTtcbiAgICBjb25zdCBzZWxlY3RvckhlaWdodCA9IHNlbGVjdG9yUmVjdC5oZWlnaHQ7XG4gICAgY29uc3Qgc2VsZWN0b3JXaWR0aCA9IHNlbGVjdG9yUmVjdC53aWR0aDtcbiAgICBjb25zdCBzZWxlY3RvckNlbnRlciA9IHtcbiAgICAgIHg6IHNlbGVjdG9yWCArIHNlbGVjdG9yV2lkdGggLyAyLFxuICAgICAgeTogc2VsZWN0b3JZICsgc2VsZWN0b3JIZWlnaHQgLyAyXG4gICAgfTtcbiAgICBjb25zdCBoYWxmT2ZJbmJveEhlaWdodCA9IGluYm94SGVpZ2h0IC8gMjtcbiAgICBjb25zdCBoYWxmT2ZJbmJveFdpZHRoID0gaW5ib3hXaWR0aCAvIDI7XG4gICAgbGV0IGluYm94T25TaWRlID0gZmFsc2U7XG4gICAgbGV0IHhQb3MsIHlQb3M7XG4gICAgY29uc3QgcGFkZGluZyA9IDE2O1xuICAgIC8qKlxuICAgICAqIHkgY28tb3JkaW5hdGVzOlxuICAgICAqIFRyeSB0byBwdXNoIHRoZSBjYXJkIGRvd253YXJkc1xuICAgICAqIGlmIHRoYXQncyBub3QgcG9zc2libGUsIHB1c2ggaXQgdXB3YXJkc1xuICAgICAqIGlmIHRoYXQgdG9vIGlzIG5vdCBwb3NzaWJsZSwgdGhlbiB0aGUgY2FyZCB3aWxsIGJlIHBsYWNlZCBvbiB0aGUgc2lkZS4gQWRkIHNvbWUgcGFkZGluZy5cbiAgICAgKlxuICAgICAqIHggY28tb3JkaW5hdGVzOlxuICAgICAqIElmIHRoZSBjYXJkIGlzIG9uIHRoZSBzaWRlLFxuICAgICAqICAgIHRyeSB0byBwbGFjZSBpdCB0byB0aGUgcmlnaHQuIElmIGl0J3Mgbm90IHBvc3NpYmxlLFxuICAgICAqICAgIHBsYWNlIGl0IHRvIHRoZSBsZWZ0XG4gICAgICogSWYgdGhlIGNhcmQgaXMgZWl0aGVyIG9uIHRvcC8gYm90dG9tLCBzZXQgdGhlIHggY28tb3JkaW5hdGUgc3VjaCB0aGF0IHRoZSBzZWxlY3RvciBjZW50ZXIgYW5kIHRoZSBpbmJveCBjYXJkIGNlbnRlciBiZWNvbWUgdGhlIHNhbWVcbiAgICAgKiBOb3csXG4gICAgICogIGlmIHRoZSBsZWZ0IG9mIHRoZSBpbmJveCBjYXJkIGlzIDwgMCxcbiAgICAgKiAgICB0cnkgdG8gZ2V0IHRoZSBsZWZ0IGFsaWduZWQgdG8gdGhlIHNlbGVjdG9yTGVmdC5cbiAgICAgKiAgICBpZiB0aGF0J3Mgbm90IHBvc3NpYmxlLCBzaW1wbHkgc2V0IGxlZnQgdG8gMFxuICAgICAqICBpZiB0aGUgcmlnaHQgb2YgdGhlIGluYm94IGNhcmQgPiB3aW5kb3dXaWR0aCxcbiAgICAgKiAgICB0cnkgdG8gZ2V0IHRoZSByaWdodCBvZiByaGUgaW5ib3ggY2FyZCBhbGlnbmVkIHdpdGggdGhlIHNlbGVjdG9yUmlnaHRcbiAgICAgKiAgICBpZiB0aGF0J3Mgbm90IHBvc3NpYmxlLCBzaW1wbHkgc2V0IHRoZSBpbmJveCByaWdodCB0byB0aGUgd2luZG93IFJpZ2h0XG4gICAgICovXG5cbiAgICBpZiAoc2VsZWN0b3JCb3R0b20gKyBpbmJveEhlaWdodCA8PSB3aW5kb3dIZWlnaHQpIHtcbiAgICAgIC8vIHRyeSB0byBwbGFjZSB0aGUgY2FyZCBkb3duXG4gICAgICBjb25zdCBhdmFpbGFibGVIZWlnaHQgPSB3aW5kb3dIZWlnaHQgLSAoc2VsZWN0b3JCb3R0b20gKyBpbmJveEhlaWdodCk7XG4gICAgICB5UG9zID0gYXZhaWxhYmxlSGVpZ2h0ID49IHBhZGRpbmcgPyBzZWxlY3RvckJvdHRvbSArIHBhZGRpbmcgOiBzZWxlY3RvckJvdHRvbSArIGF2YWlsYWJsZUhlaWdodDtcbiAgICB9IGVsc2UgaWYgKHNlbGVjdG9yVG9wIC0gaW5ib3hIZWlnaHQgPj0gdmVydGljYWxTY3JvbGwpIHtcbiAgICAgIC8vIHRyeSB0byBwbGFjZSB0aGUgY2FyZCB1cFxuICAgICAgY29uc3QgYXZhaWxhYmxlSGVpZ2h0ID0gc2VsZWN0b3JUb3AgLSBpbmJveEhlaWdodDtcbiAgICAgIHlQb3MgPSBhdmFpbGFibGVIZWlnaHQgPj0gcGFkZGluZyA/IHNlbGVjdG9yVG9wIC0gaW5ib3hIZWlnaHQgLSBwYWRkaW5nIDogc2VsZWN0b3JUb3AgLSBpbmJveEhlaWdodCAtIGF2YWlsYWJsZUhlaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5ib3hPblNpZGUgPSB0cnVlO1xuICAgICAgeVBvcyA9IHNlbGVjdG9yQ2VudGVyLnkgLSBoYWxmT2ZJbmJveEhlaWdodDsgLy8gd2l0aCB0aGlzIHRoZSB5IGNvLW9yZGluYXRlIG9mIHRoZSBzZWxlY3RvciBjZW50ZXIgYW5kIHRoZSBpbmJveCBjYXJkIGNlbnRlciBiZWNvbWUgdGhlIHNhbWVcblxuICAgICAgaWYgKHlQb3MgPCB2ZXJ0aWNhbFNjcm9sbCkge1xuICAgICAgICB5UG9zID0gdmVydGljYWxTY3JvbGw7XG4gICAgICB9IGVsc2UgaWYgKHlQb3MgKyBpbmJveEhlaWdodCA+IHdpbmRvd0hlaWdodCkge1xuICAgICAgICB5UG9zID0gd2luZG93SGVpZ2h0IC0gaW5ib3hIZWlnaHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGluYm94T25TaWRlKSB7XG4gICAgICAvLyBTZWUgaWYgd2UgY2FuIHBsYWNlIHRoZSBjYXJkIHRvIHRoZSByaWdodCBvZiB0aGUgc2VsZWN0b3JcbiAgICAgIGNvbnN0IGluYm94UmlnaHQgPSBzZWxlY3RvclJpZ2h0ICsgaW5ib3hXaWR0aDtcblxuICAgICAgaWYgKGluYm94UmlnaHQgPD0gd2luZG93V2lkdGgpIHtcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlV2lkdGggPSBpbmJveFJpZ2h0ICsgcGFkZGluZyA8PSB3aW5kb3dXaWR0aCA/IHBhZGRpbmcgOiB3aW5kb3dXaWR0aCAtIGluYm94UmlnaHQ7XG4gICAgICAgIHhQb3MgPSBzZWxlY3RvclJpZ2h0ICsgYXZhaWxhYmxlV2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBpbmJveExlZnQgPSBzZWxlY3RvckxlZnQgLSBpbmJveFdpZHRoO1xuICAgICAgICBjb25zdCBhdmFpbGFibGVXaWR0aCA9IGluYm94TGVmdCAtIHBhZGRpbmcgPj0gaG9yaXpvbnRhbFNjcm9sbCA/IHBhZGRpbmcgOiBpbmJveExlZnQgLSBob3Jpem9udGFsU2Nyb2xsO1xuICAgICAgICB4UG9zID0gaW5ib3hMZWZ0IC0gYXZhaWxhYmxlV2lkdGg7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHhQb3MgPSBzZWxlY3RvckNlbnRlci54IC0gaGFsZk9mSW5ib3hXaWR0aDtcblxuICAgICAgaWYgKHhQb3MgPCBob3Jpem9udGFsU2Nyb2xsKSB7XG4gICAgICAgIGlmIChzZWxlY3RvckxlZnQgKyBpbmJveFdpZHRoIDw9IHdpbmRvd1dpZHRoKSB7XG4gICAgICAgICAgeFBvcyA9IHNlbGVjdG9yTGVmdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB4UG9zID0gaG9yaXpvbnRhbFNjcm9sbDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh4UG9zICsgaW5ib3hXaWR0aCA+IHdpbmRvd1dpZHRoKSB7XG4gICAgICAgIGlmIChzZWxlY3RvclJpZ2h0IC0gaW5ib3hXaWR0aCA+PSBob3Jpem9udGFsU2Nyb2xsKSB7XG4gICAgICAgICAgeFBvcyA9IHNlbGVjdG9yUmlnaHQgLSBpbmJveFdpZHRoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHhQb3MgPSB3aW5kb3dXaWR0aCAtIGluYm94V2lkdGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgeFBvcyxcbiAgICAgIHlQb3NcbiAgICB9O1xuICB9O1xuICBjb25zdCBkZXRlcm1pbmVUaW1lU3RhbXBUZXh0ID0gdHMgPT4ge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgbGV0IGRpZmYgPSBNYXRoLmZsb29yKChub3cgLSB0cykgLyA2MDAwMCk7XG5cbiAgICBpZiAoZGlmZiA8IDUpIHtcbiAgICAgIHJldHVybiAnSnVzdCBub3cnO1xuICAgIH1cblxuICAgIGlmIChkaWZmIDwgNjApIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdChkaWZmLCBcIiBtaW51dGVcIikuY29uY2F0KGRpZmYgPiAxID8gJ3MnIDogJycsIFwiIGFnb1wiKTtcbiAgICB9XG5cbiAgICBkaWZmID0gTWF0aC5mbG9vcihkaWZmIC8gNjApO1xuXG4gICAgaWYgKGRpZmYgPCAyNCkge1xuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KGRpZmYsIFwiIGhvdXJcIikuY29uY2F0KGRpZmYgPiAxID8gJ3MnIDogJycsIFwiIGFnb1wiKTtcbiAgICB9XG5cbiAgICBkaWZmID0gTWF0aC5mbG9vcihkaWZmIC8gMjQpO1xuICAgIHJldHVybiBcIlwiLmNvbmNhdChkaWZmLCBcIiBkYXlcIikuY29uY2F0KGRpZmYgPiAxID8gJ3MnIDogJycsIFwiIGFnb1wiKTtcbiAgfTtcbiAgY29uc3QgaGFzV2ViSW5ib3hTZXR0aW5nc0luTFMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShXRUJJTkJPWF9DT05GSUcpIHx8IHt9KS5sZW5ndGggPiAwO1xuICB9O1xuICBjb25zdCBhcnJvd1N2ZyA9IFwiPHN2ZyB3aWR0aD1cXFwiNlxcXCIgaGVpZ2h0PVxcXCIxMFxcXCIgdmlld0JveD1cXFwiMCAwIDYgMTBcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+XFxuPHBhdGggZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk0wLjI1ODQzNSA5Ljc0NzUxQy0wLjA0Nzg1ODQgOS40NDgyNSAtMC4wODE4OTEgOC45ODM3MyAwLjE1NjMzNyA4LjY0Nzc1TDAuMjU4NDM1IDguNTI4MzZMMy44NzEwNiA1TDAuMjU4NDM1IDEuNDcxNjRDLTAuMDQ3ODU4OCAxLjE3MjM5IC0wLjA4MTg5MTQgMC43MDc4NjcgMC4xNTYzMzcgMC4zNzE4ODdMMC4yNTg0MzUgMC4yNTI0OTRDMC41NjQ3MjggLTAuMDQ2NzU4NSAxLjA0MDE4IC0wLjA4MDAwODUgMS4zODQwNyAwLjE1Mjc0M0wxLjUwNjI3IDAuMjUyNDk0TDUuNzQxNTYgNC4zOTA0MkM2LjA0Nzg2IDQuNjg5NjggNi4wODE4OSA1LjE1NDIgNS44NDM2NiA1LjQ5MDE4TDUuNzQxNTYgNS42MDk1N0wxLjUwNjI3IDkuNzQ3NTFDMS4xNjE2OSAxMC4wODQyIDAuNjAzMDE1IDEwLjA4NDIgMC4yNTg0MzUgOS43NDc1MVpcXFwiIGZpbGw9XFxcIiM2MzY5OEZcXFwiLz5cXG48L3N2Zz5cXG5cIjtcbiAgY29uc3QgZ3JlZW5UaWNrU3ZnID0gXCI8c3ZnIHdpZHRoPVxcXCIxNlxcXCIgaGVpZ2h0PVxcXCIxNlxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIiBmaWxsPVxcXCJub25lXFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPlxcbjxwYXRoIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNMTYgOEMxNiAzLjU4MTcyIDEyLjQxODMgMCA4IDBDMy41ODE3MiAwIDAgMy41ODE3MiAwIDhDMCAxMi40MTgzIDMuNTgxNzIgMTYgOCAxNkMxMi40MTgzIDE2IDE2IDEyLjQxODMgMTYgOFpNOS42ODM5IDUuOTM2MDJDOS45NzA4MyA1LjU1Njk4IDEwLjUwMyA1LjQ4ODMzIDEwLjg3MjUgNS43ODI2OUMxMS4yMTM1IDYuMDU0NCAxMS4yOTY4IDYuNTQwNDQgMTEuMDgxOSA2LjkxMTczTDExLjAyMTkgNy4wMDE5OEw4LjA5ODMxIDEwLjg2NEM3LjgwNTgxIDExLjI1MDQgNy4yNjY1NCAxMS4zMDg2IDYuOTAzMjMgMTEuMDEyMkw2LjgyODIyIDEwLjk0MzNMNS4wNDU5NyA5LjEwMTkxQzQuNzE2MzUgOC43NjEzNiA0LjcxODI2IDguMjExMTcgNS4wNTAyMyA3Ljg3MzAzQzUuMzU2NjYgNy41NjA5IDUuODM3MjIgNy41Mzg1NSA2LjE2ODU5IDcuODA0ODJMNi4yNDgxNCA3Ljg3NzM5TDcuMzUxMzMgOS4wMTcxN0w5LjY4MzkgNS45MzYwMlpcXFwiIGZpbGw9XFxcIiMwM0EzODdcXFwiLz5cXG48L3N2Zz5cXG5cIjtcblxuICBjb25zdCBPVkVSTEFZX1BBVEggPSAnaHR0cHM6Ly9kMnIxeXAydzdiYnkydS5jbG91ZGZyb250Lm5ldC9qcy9saWItb3ZlcmxheS9vdmVybGF5LmpzJztcbiAgY29uc3QgQ1NTX1BBVEggPSAnaHR0cHM6Ly9kMnIxeXAydzdiYnkydS5jbG91ZGZyb250Lm5ldC9qcy9saWItb3ZlcmxheS9zdHlsZS5jc3MnO1xuXG4gIGNvbnN0IGNoZWNrQnVpbGRlciA9IGxvZ2dlciA9PiB7XG4gICAgY29uc3Qgc2VhcmNoID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcbiAgICBjb25zdCBwYXJlbnRXaW5kb3cgPSB3aW5kb3cub3BlbmVyO1xuXG4gICAgaWYgKHNlYXJjaCA9PT0gJz9jdEJ1aWxkZXInKSB7XG4gICAgICAvLyBvcGVuIGluIHZpc3VhbCBidWlsZGVyIG1vZGVcbiAgICAgIGxvZ2dlci5kZWJ1Zygnb3BlbiBpbiB2aXN1YWwgYnVpbGRlciBtb2RlJyk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZU1lc3NhZ2VFdmVudCwgZmFsc2UpO1xuXG4gICAgICBpZiAocGFyZW50V2luZG93KSB7XG4gICAgICAgIHBhcmVudFdpbmRvdy5wb3N0TWVzc2FnZSgnYnVpbGRlcicsICcqJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc2VhcmNoID09PSAnP2N0QnVpbGRlclByZXZpZXcnKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZU1lc3NhZ2VFdmVudCwgZmFsc2UpO1xuXG4gICAgICBpZiAocGFyZW50V2luZG93KSB7XG4gICAgICAgIHBhcmVudFdpbmRvdy5wb3N0TWVzc2FnZSgncHJldmlldycsICcqJyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZU1lc3NhZ2VFdmVudCA9IGV2ZW50ID0+IHtcbiAgICBpZiAoZXZlbnQuZGF0YSAmJiBldmVudC5kYXRhLm1lc3NhZ2UpIHtcbiAgICAgIGlmIChldmVudC5kYXRhLm1lc3NhZ2UgPT09ICdEYXNoYm9hcmQnICYmIGV2ZW50LmRhdGEudXJsKSB7XG4gICAgICAgIHZhciBfZXZlbnQkZGF0YSR2YXJpYW50LCBfZXZlbnQkZGF0YSRkZXRhaWxzO1xuXG4gICAgICAgIGluaXRpYWxpc2VDVEJ1aWxkZXIoZXZlbnQuZGF0YS51cmwsIChfZXZlbnQkZGF0YSR2YXJpYW50ID0gZXZlbnQuZGF0YS52YXJpYW50KSAhPT0gbnVsbCAmJiBfZXZlbnQkZGF0YSR2YXJpYW50ICE9PSB2b2lkIDAgPyBfZXZlbnQkZGF0YSR2YXJpYW50IDogbnVsbCwgKF9ldmVudCRkYXRhJGRldGFpbHMgPSBldmVudC5kYXRhLmRldGFpbHMpICE9PSBudWxsICYmIF9ldmVudCRkYXRhJGRldGFpbHMgIT09IHZvaWQgMCA/IF9ldmVudCRkYXRhJGRldGFpbHMgOiB7fSk7XG4gICAgICB9IGVsc2UgaWYgKGV2ZW50LmRhdGEubWVzc2FnZSA9PT0gJ092ZXJsYXknKSB7XG4gICAgICAgIHJlbmRlclZpc3VhbEJ1aWxkZXIoZXZlbnQuZGF0YSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIENsZXZlcnRhcCBidWlsZGVyLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIFVSTCB0byBpbml0aWFsaXplIHRoZSBidWlsZGVyLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFyaWFudCAtIFRoZSB2YXJpYW50IG9mIHRoZSBidWlsZGVyLlxuICAgKiBAcGFyYW0ge09iamVjdH0gZGV0YWlscyAtIFRoZSBkZXRhaWxzIG9iamVjdC5cbiAgICovXG5cblxuICBjb25zdCBpbml0aWFsaXNlQ1RCdWlsZGVyID0gKHVybCwgdmFyaWFudCwgZGV0YWlscykgPT4ge1xuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiBvbkNvbnRlbnRMb2FkKHVybCwgdmFyaWFudCwgZGV0YWlscykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvbkNvbnRlbnRMb2FkKHVybCwgdmFyaWFudCwgZGV0YWlscyk7XG4gICAgfVxuICB9O1xuXG4gIGxldCBjb250YWluZXI7XG4gIGxldCBjb250ZW50TG9hZGVkID0gZmFsc2U7XG4gIC8qKlxuICAgKiBIYW5kbGVzIGNvbnRlbnQgbG9hZCBmb3IgQ2xldmVydGFwIGJ1aWxkZXIuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIG9uQ29udGVudExvYWQodXJsLCB2YXJpYW50LCBkZXRhaWxzKSB7XG4gICAgaWYgKCFjb250ZW50TG9hZGVkKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmlubmVySFRNTCA9ICcnO1xuICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb250YWluZXIuaWQgPSAnb3ZlcmxheURpdic7XG4gICAgICBjb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnOyAvLyBFbnN1cmUgcmVsYXRpdmUgcG9zaXRpb25pbmcgZm9yIGFic29sdXRlIHBvc2l0aW9uaW5nIG9mIGZvcm1cblxuICAgICAgY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgICBjb25zdCBvdmVybGF5UGF0aCA9IE9WRVJMQVlfUEFUSDtcbiAgICAgIGxvYWRPdmVybGF5U2NyaXB0KG92ZXJsYXlQYXRoLCB1cmwsIHZhcmlhbnQsIGRldGFpbHMpLnRoZW4oKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnT3ZlcmxheSBzY3JpcHQgbG9hZGVkIHN1Y2Nlc3NmdWxseS4nKTtcbiAgICAgICAgY29udGVudExvYWRlZCA9IHRydWU7XG4gICAgICB9KS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgb3ZlcmxheSBzY3JpcHQ6JywgZXJyb3IpO1xuICAgICAgfSk7XG4gICAgICBsb2FkQ1NTKCk7XG4gICAgICBsb2FkVHlwZUtpdCgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogTG9hZHMgQ1NTIGZpbGUuXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gbG9hZENTUygpIHtcbiAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICBsaW5rLnJlbCA9ICdzdHlsZXNoZWV0JztcbiAgICBsaW5rLnR5cGUgPSAndGV4dC9jc3MnO1xuICAgIGxpbmsuaHJlZiA9IENTU19QQVRIO1xuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobGluayk7XG4gIH1cbiAgLyoqXG4gICAqIExvYWRzIHRoZSBvdmVybGF5IHNjcmlwdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG92ZXJsYXlQYXRoIC0gVGhlIHBhdGggdG8gb3ZlcmxheSBzY3JpcHQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgVVJMLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFyaWFudCAtIFRoZSB2YXJpYW50LlxuICAgKiBAcGFyYW0ge09iamVjdH0gZGV0YWlscyAtIFRoZSBkZXRhaWxzIG9iamVjdC5cbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZS5cbiAgICovXG5cblxuICBmdW5jdGlvbiBsb2FkT3ZlcmxheVNjcmlwdChvdmVybGF5UGF0aCwgdXJsLCB2YXJpYW50LCBkZXRhaWxzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgIHNjcmlwdC50eXBlID0gJ21vZHVsZSc7XG4gICAgICBzY3JpcHQuc3JjID0gb3ZlcmxheVBhdGg7XG5cbiAgICAgIHNjcmlwdC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93Lk92ZXJsYXkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB3aW5kb3cuT3ZlcmxheSh7XG4gICAgICAgICAgICBpZDogJyNvdmVybGF5RGl2JyxcbiAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgIHZhcmlhbnQsXG4gICAgICAgICAgICBkZXRhaWxzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0NvbnRlbnRMYXlvdXQgbm90IGZvdW5kIGluIG92ZXJsYXkuanMnKSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNjcmlwdC5vbmVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9O1xuXG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIExvYWRzIFR5cGVLaXQgc2NyaXB0LlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGxvYWRUeXBlS2l0KCkge1xuICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgIGtpdElkOiAnZXFqNm5vbScsXG4gICAgICBzY3JpcHRUaW1lb3V0OiAzMDAwLFxuICAgICAgYXN5bmM6IHRydWVcbiAgICB9O1xuICAgIGNvbnN0IGRvY0VsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBkb2NFbGVtZW50LmNsYXNzTmFtZSA9IGRvY0VsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UoL1xcYndmLWxvYWRpbmdcXGIvZywgJycpICsgJyB3Zi1pbmFjdGl2ZSc7XG4gICAgfSwgY29uZmlnLnNjcmlwdFRpbWVvdXQpO1xuICAgIGNvbnN0IHR5cGVLaXRTY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBsZXQgc2NyaXB0TG9hZGVkID0gZmFsc2U7XG4gICAgY29uc3QgZmlyc3RTY3JpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG4gICAgbGV0IHNjcmlwdFJlYWR5U3RhdGU7XG4gICAgZG9jRWxlbWVudC5jbGFzc05hbWUgKz0gJyB3Zi1sb2FkaW5nJztcbiAgICB0eXBlS2l0U2NyaXB0LnNyYyA9ICdodHRwczovL3VzZS50eXBla2l0Lm5ldC8nICsgY29uZmlnLmtpdElkICsgJy5qcyc7XG4gICAgdHlwZUtpdFNjcmlwdC5hc3luYyA9IHRydWU7XG5cbiAgICB0eXBlS2l0U2NyaXB0Lm9ubG9hZCA9IHR5cGVLaXRTY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgc2NyaXB0UmVhZHlTdGF0ZSA9IHRoaXMucmVhZHlTdGF0ZTtcbiAgICAgIGlmIChzY3JpcHRMb2FkZWQgfHwgc2NyaXB0UmVhZHlTdGF0ZSAmJiBzY3JpcHRSZWFkeVN0YXRlICE9PSAnY29tcGxldGUnICYmIHNjcmlwdFJlYWR5U3RhdGUgIT09ICdsb2FkZWQnKSByZXR1cm47XG4gICAgICBzY3JpcHRMb2FkZWQgPSB0cnVlO1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgICBUeXBla2l0LmxvYWQoY29uZmlnKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfTtcblxuICAgIGZpcnN0U2NyaXB0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHR5cGVLaXRTY3JpcHQsIGZpcnN0U2NyaXB0KTtcbiAgfVxuICAvKipcbiAgICogUmVuZGVycyB0aGUgdmlzdWFsIGJ1aWxkZXIuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRpbmdNc2dKc29uIC0gVGhlIHBvaW50IGFuZCBjbGljayBjYW1wYWlnbiBKU09OIG9iamVjdC5cbiAgICogQHBhcmFtIHtib29sZWFufSBpc1ByZXZpZXcgLSBJbmRpY2F0ZXMgaWYgaXQncyBhIHByZXZpZXcuXG4gICAqL1xuXG5cbiAgY29uc3QgcmVuZGVyVmlzdWFsQnVpbGRlciA9ICh0YXJnZXRpbmdNc2dKc29uLCBpc1ByZXZpZXcpID0+IHtcbiAgICBjb25zdCBkZXRhaWxzID0gaXNQcmV2aWV3ID8gdGFyZ2V0aW5nTXNnSnNvbi5kZXRhaWxzWzBdIDogdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LmRldGFpbHNbMF07XG4gICAgY29uc3Qgc2l0ZVVybCA9IE9iamVjdC5rZXlzKGRldGFpbHMpWzBdO1xuICAgIGNvbnN0IHNlbGVjdG9ycyA9IGRldGFpbHNbc2l0ZVVybF07XG4gICAgbGV0IGVsZW1lbnREaXNwbGF5ZWQgPSBmYWxzZTtcblxuICAgIGlmIChzaXRlVXJsID09PSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnPycpWzBdKSB7XG4gICAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIGluIHNlbGVjdG9ycykge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG5cbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICBpZiAoc2VsZWN0b3JzW3NlbGVjdG9yXS5odG1sKSB7XG4gICAgICAgICAgICBlbGVtZW50Lm91dGVySFRNTCA9IHNlbGVjdG9yc1tzZWxlY3Rvcl0uaHRtbDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVXBkYXRlIGpzb24gZGF0YVxuICAgICAgICAgICAgZGlzcGF0Y2hKc29uRGF0YSh0YXJnZXRpbmdNc2dKc29uLCBzZWxlY3RvcnNbc2VsZWN0b3JdKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbGVtZW50RGlzcGxheWVkID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICAgIGNvbnN0IGludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXRyeUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcblxuICAgICAgICAgICAgaWYgKHJldHJ5RWxlbWVudCkge1xuICAgICAgICAgICAgICBpZiAoc2VsZWN0b3JzW3NlbGVjdG9yXS5odG1sKSB7XG4gICAgICAgICAgICAgICAgcmV0cnlFbGVtZW50Lm91dGVySFRNTCA9IHNlbGVjdG9yc1tzZWxlY3Rvcl0uaHRtbDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUganNvbiBkYXRhXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hKc29uRGF0YSh0YXJnZXRpbmdNc2dKc29uLCBzZWxlY3RvcnNbc2VsZWN0b3JdKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGVsZW1lbnREaXNwbGF5ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY291bnQrKztcblxuICAgICAgICAgICAgICBpZiAoY291bnQgPj0gMjApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIGVsZW1lbnQgcHJlc2VudCBvbiBET00gd2l0aCBzZWxlY3RvciAnXCIuY29uY2F0KHNlbGVjdG9yLCBcIicuXCIpKTtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZWxlbWVudERpc3BsYXllZCAmJiAhaXNQcmV2aWV3KSB7XG4gICAgICAgIHdpbmRvdy5jbGV2ZXJ0YXAucmVuZGVyTm90aWZpY2F0aW9uVmlld2VkKHtcbiAgICAgICAgICBtc2dJZDogdGFyZ2V0aW5nTXNnSnNvbi53enJrX2lkLFxuICAgICAgICAgIHBpdm90SWQ6IHRhcmdldGluZ01zZ0pzb24ud3pya19waXZvdFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBEaXNwYXRjaGVzIEpTT04gZGF0YS5cbiAgICogQHBhcmFtIHtPYmplY3R9IHRhcmdldGluZ01zZ0pzb24gLSBUaGUgcG9pbnQgYW5kIGNsaWNrIGNhbXBhaWduIEpTT04gb2JqZWN0LlxuICAgKiBAcGFyYW0ge09iamVjdH0gc2VsZWN0b3IgLSBUaGUgc2VsZWN0b3Igb2JqZWN0LlxuICAgKi9cblxuICBmdW5jdGlvbiBkaXNwYXRjaEpzb25EYXRhKHRhcmdldGluZ01zZ0pzb24sIHNlbGVjdG9yKSB7XG4gICAgY29uc3QgaW5hT2JqID0ge307XG4gICAgaW5hT2JqLm1zZ0lkID0gdGFyZ2V0aW5nTXNnSnNvbi53enJrX2lkO1xuXG4gICAgaWYgKHRhcmdldGluZ01zZ0pzb24ud3pya19waXZvdCkge1xuICAgICAgaW5hT2JqLnBpdm90SWQgPSB0YXJnZXRpbmdNc2dKc29uLnd6cmtfcGl2b3Q7XG4gICAgfVxuXG4gICAgaWYgKHNlbGVjdG9yLmpzb24gIT0gbnVsbCkge1xuICAgICAgaW5hT2JqLmpzb24gPSBzZWxlY3Rvci5qc29uO1xuICAgIH1cblxuICAgIGNvbnN0IGt2UGFpcnNFdmVudCA9IG5ldyBDdXN0b21FdmVudCgnQ1Rfd2ViX25hdGl2ZV9kaXNwbGF5X2J1aWRlcicsIHtcbiAgICAgIGRldGFpbDogaW5hT2JqXG4gICAgfSk7XG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChrdlBhaXJzRXZlbnQpO1xuICB9XG5cbiAgY29uc3QgX3RyID0gKG1zZywgX3JlZikgPT4ge1xuICAgIGxldCB7XG4gICAgICBkZXZpY2UsXG4gICAgICBzZXNzaW9uLFxuICAgICAgcmVxdWVzdCxcbiAgICAgIGxvZ2dlclxuICAgIH0gPSBfcmVmO1xuICAgIGNvbnN0IF9kZXZpY2UgPSBkZXZpY2U7XG4gICAgY29uc3QgX3Nlc3Npb24gPSBzZXNzaW9uO1xuICAgIGNvbnN0IF9yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgICBjb25zdCBfbG9nZ2VyID0gbG9nZ2VyO1xuICAgIGxldCBfd2l6Q291bnRlciA9IDA7IC8vIENhbXBhaWduIEhvdXNlIGtlZXBpbmdcblxuICAgIGNvbnN0IGRvQ2FtcEhvdXNlS2VlcGluZyA9IHRhcmdldGluZ01zZ0pzb24gPT4ge1xuICAgICAgY29uc3QgY2FtcGFpZ25JZCA9IHRhcmdldGluZ01zZ0pzb24ud3pya19pZC5zcGxpdCgnXycpWzBdO1xuICAgICAgY29uc3QgdG9kYXkgPSBnZXRUb2RheSgpO1xuXG4gICAgICBjb25zdCBpbmNyQ291bnQgPSAob2JqLCBjYW1wYWlnbklkLCBleGNsdWRlRnJvbUZyZXFDYXBzKSA9PiB7XG4gICAgICAgIGxldCBjdXJyZW50Q291bnQgPSAwO1xuICAgICAgICBsZXQgdG90YWxDb3VudCA9IDA7XG5cbiAgICAgICAgaWYgKG9ialtjYW1wYWlnbklkXSAhPSBudWxsKSB7XG4gICAgICAgICAgY3VycmVudENvdW50ID0gb2JqW2NhbXBhaWduSWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudENvdW50Kys7XG5cbiAgICAgICAgaWYgKG9iai50YyAhPSBudWxsKSB7XG4gICAgICAgICAgdG90YWxDb3VudCA9IG9iai50YztcbiAgICAgICAgfSAvLyBpZiBleGNsdWRlIGZyb20gY2FwcyB0aGVuIGRvbnQgYWRkIHRvIHRvdGFsIGNvdW50c1xuXG5cbiAgICAgICAgaWYgKGV4Y2x1ZGVGcm9tRnJlcUNhcHMgPCAwKSB7XG4gICAgICAgICAgdG90YWxDb3VudCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgb2JqLnRjID0gdG90YWxDb3VudDtcbiAgICAgICAgb2JqW2NhbXBhaWduSWRdID0gY3VycmVudENvdW50O1xuICAgICAgfTtcblxuICAgICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICAgIGRlbGV0ZSBzZXNzaW9uU3RvcmFnZVtDQU1QX0NPT0tJRV9OQU1FXTtcbiAgICAgICAgdmFyIGNhbXBUeXBlT2JqID0ge307XG4gICAgICAgIGNvbnN0IGNhbXBPYmogPSBnZXRDYW1wYWlnbk9iamVjdCgpO1xuXG4gICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkud3RhcmdldF90eXBlID09PSAzICYmIGNhbXBPYmouaGFzT3duUHJvcGVydHkoJ3dpJykpIHtcbiAgICAgICAgICBjYW1wVHlwZU9iaiA9IGNhbXBPYmoud2k7XG4gICAgICAgIH0gZWxzZSBpZiAoKHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS53dGFyZ2V0X3R5cGUgPT09IDAgfHwgdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5Lnd0YXJnZXRfdHlwZSA9PT0gMSkgJiYgY2FtcE9iai5oYXNPd25Qcm9wZXJ0eSgnd3AnKSkge1xuICAgICAgICAgIGNhbXBUeXBlT2JqID0gY2FtcE9iai53cDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYW1wVHlwZU9iaiA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNhbXBPYmouaGFzT3duUHJvcGVydHkoJ2dsb2JhbCcpKSB7XG4gICAgICAgICAgY2FtcFR5cGVPYmoud3AgPSBjYW1wT2JqO1xuICAgICAgICB9IC8vIGdsb2JhbCBzZXNzaW9uIGxpbWl0LiBkZWZhdWx0IGlzIDFcblxuXG4gICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLndtYyA9PSBudWxsKSB7XG4gICAgICAgICAgdGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS53bWMgPSAxO1xuICAgICAgICB9IC8vIGdsb2JhbCBzZXNzaW9uIGxpbWl0IGZvciB3ZWIgaW5ib3guIGRlZmF1bHQgaXMgMVxuXG5cbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0ud2ltYyA9PSBudWxsKSB7XG4gICAgICAgICAgdGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS53aW1jID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBleGNsdWRlRnJvbUZyZXFDYXBzID0gLTE7IC8vIGVmYyAtIEV4Y2x1ZGUgZnJvbSBmcmVxdWVuY3kgY2Fwc1xuXG4gICAgICAgIGxldCBjYW1wYWlnblNlc3Npb25MaW1pdCA9IC0xOyAvLyBtZGMgLSBPbmNlIHBlciBzZXNzaW9uXG5cbiAgICAgICAgbGV0IGNhbXBhaWduRGFpbHlMaW1pdCA9IC0xOyAvLyB0ZGMgLSBPbmNlIHBlciBkYXlcblxuICAgICAgICBsZXQgY2FtcGFpZ25Ub3RhbExpbWl0ID0gLTE7IC8vIHRsYyAtIE9uY2UgcGVyIHVzZXIgZm9yIHRoZSBkdXJhdGlvbiBvZiBjYW1wYWlnblxuXG4gICAgICAgIGxldCB0b3RhbERhaWx5TGltaXQgPSAtMTtcbiAgICAgICAgbGV0IHRvdGFsU2Vzc2lvbkxpbWl0ID0gLTE7IC8vIHdtYyAtIFdlYiBQb3B1cCBHbG9iYWwgU2Vzc2lvbiBMaW1pdFxuXG4gICAgICAgIGxldCB0b3RhbEluYm94U2Vzc2lvbkxpbWl0ID0gLTE7IC8vIHdpbWMgLSBXZWIgSW5ib3ggR2xvYmFsIFNlc3Npb24gTGltaXRcblxuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS5lZmMgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIGV4Y2x1ZGUgZnJvbSBmcmVxdWVuY3kgY2FwXG4gICAgICAgICAgZXhjbHVkZUZyb21GcmVxQ2FwcyA9IHBhcnNlSW50KHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0uZWZjLCAxMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS5tZGMgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIENhbXBhaWduIFNlc3Npb24gTGltaXRcbiAgICAgICAgICBjYW1wYWlnblNlc3Npb25MaW1pdCA9IHBhcnNlSW50KHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0ubWRjLCAxMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS50ZGMgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIE5vIG9mIHdlYiBwb3B1cHMgaW4gYSBkYXkgcGVyIGNhbXBhaWduXG4gICAgICAgICAgY2FtcGFpZ25EYWlseUxpbWl0ID0gcGFyc2VJbnQodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS50ZGMsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLnRsYyAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gVG90YWwgbGlmZXRpbWUgY291bnRcbiAgICAgICAgICBjYW1wYWlnblRvdGFsTGltaXQgPSBwYXJzZUludCh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLnRsYywgMTApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0ud21wICE9IG51bGwpIHtcbiAgICAgICAgICAvLyBObyBvZiBjYW1wYWlnbnMgcGVyIGRheVxuICAgICAgICAgIHRvdGFsRGFpbHlMaW1pdCA9IHBhcnNlSW50KHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0ud21wLCAxMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS53bWMgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIE5vIG9mIGNhbXBhaWducyBwZXIgc2Vzc2lvblxuICAgICAgICAgIHRvdGFsU2Vzc2lvbkxpbWl0ID0gcGFyc2VJbnQodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS53bWMsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLndpbWMgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIE5vIG9mIGluYm94IGNhbXBhaWducyBwZXIgc2Vzc2lvblxuICAgICAgICAgIHRvdGFsSW5ib3hTZXNzaW9uTGltaXQgPSBwYXJzZUludCh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLndpbWMsIDEwKTtcbiAgICAgICAgfSAvLyBzZXNzaW9uIGxldmVsIGNhcHBpbmdcblxuXG4gICAgICAgIHZhciBzZXNzaW9uT2JqID0gY2FtcFR5cGVPYmpbX3Nlc3Npb24uc2Vzc2lvbklkXTtcblxuICAgICAgICBpZiAoc2Vzc2lvbk9iaikge1xuICAgICAgICAgIGNvbnN0IGNhbXBhaWduU2Vzc2lvbkNvdW50ID0gc2Vzc2lvbk9ialtjYW1wYWlnbklkXTtcbiAgICAgICAgICBjb25zdCB0b3RhbFNlc3Npb25Db3VudCA9IHNlc3Npb25PYmoudGM7IC8vIGRuZFxuXG4gICAgICAgICAgaWYgKGNhbXBhaWduU2Vzc2lvbkNvdW50ID09PSAnZG5kJyAmJiAhJGN0LmRpc21pc3NTcGFtQ29udHJvbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uW0RJU1BMQVldLnd0YXJnZXRfdHlwZSA9PT0gMykge1xuICAgICAgICAgICAgLy8gSW5ib3ggc2Vzc2lvblxuICAgICAgICAgICAgaWYgKHRvdGFsSW5ib3hTZXNzaW9uTGltaXQgPiAwICYmIHRvdGFsU2Vzc2lvbkNvdW50ID49IHRvdGFsSW5ib3hTZXNzaW9uTGltaXQgJiYgZXhjbHVkZUZyb21GcmVxQ2FwcyA8IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzZXNzaW9uXG4gICAgICAgICAgICBpZiAodG90YWxTZXNzaW9uTGltaXQgPiAwICYmIHRvdGFsU2Vzc2lvbkNvdW50ID49IHRvdGFsU2Vzc2lvbkxpbWl0ICYmIGV4Y2x1ZGVGcm9tRnJlcUNhcHMgPCAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vIGNhbXBhaWduIHNlc3Npb25cblxuXG4gICAgICAgICAgaWYgKGNhbXBhaWduU2Vzc2lvbkxpbWl0ID4gMCAmJiBjYW1wYWlnblNlc3Npb25Db3VudCA+PSBjYW1wYWlnblNlc3Npb25MaW1pdCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXNzaW9uT2JqID0ge307XG4gICAgICAgICAgY2FtcFR5cGVPYmpbX3Nlc3Npb24uc2Vzc2lvbklkXSA9IHNlc3Npb25PYmo7XG4gICAgICAgIH0gLy8gZGFpbHkgbGV2ZWwgY2FwcGluZ1xuXG5cbiAgICAgICAgdmFyIGRhaWx5T2JqID0gY2FtcFR5cGVPYmpbdG9kYXldO1xuXG4gICAgICAgIGlmIChkYWlseU9iaiAhPSBudWxsKSB7XG4gICAgICAgICAgY29uc3QgY2FtcGFpZ25EYWlseUNvdW50ID0gZGFpbHlPYmpbY2FtcGFpZ25JZF07XG4gICAgICAgICAgY29uc3QgdG90YWxEYWlseUNvdW50ID0gZGFpbHlPYmoudGM7IC8vIGRhaWx5XG5cbiAgICAgICAgICBpZiAodG90YWxEYWlseUxpbWl0ID4gMCAmJiB0b3RhbERhaWx5Q291bnQgPj0gdG90YWxEYWlseUxpbWl0ICYmIGV4Y2x1ZGVGcm9tRnJlcUNhcHMgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSAvLyBjYW1wYWlnbiBkYWlseVxuXG5cbiAgICAgICAgICBpZiAoY2FtcGFpZ25EYWlseUxpbWl0ID4gMCAmJiBjYW1wYWlnbkRhaWx5Q291bnQgPj0gY2FtcGFpZ25EYWlseUxpbWl0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRhaWx5T2JqID0ge307XG4gICAgICAgICAgY2FtcFR5cGVPYmpbdG9kYXldID0gZGFpbHlPYmo7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZ2xvYmFsT2JqID0gY2FtcFR5cGVPYmpbR0xPQkFMXTtcblxuICAgICAgICBpZiAoZ2xvYmFsT2JqICE9IG51bGwpIHtcbiAgICAgICAgICBjb25zdCBjYW1wYWlnblRvdGFsQ291bnQgPSBnbG9iYWxPYmpbY2FtcGFpZ25JZF07IC8vIGNhbXBhaWduIHRvdGFsXG5cbiAgICAgICAgICBpZiAoY2FtcGFpZ25Ub3RhbExpbWl0ID4gMCAmJiBjYW1wYWlnblRvdGFsQ291bnQgPj0gY2FtcGFpZ25Ub3RhbExpbWl0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGdsb2JhbE9iaiA9IHt9O1xuICAgICAgICAgIGNhbXBUeXBlT2JqW0dMT0JBTF0gPSBnbG9iYWxPYmo7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gZGVsYXlcblxuXG4gICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS5kZWxheSAhPSBudWxsICYmIHRhcmdldGluZ01zZ0pzb25bRElTUExBWV0uZGVsYXkgPiAwKSB7XG4gICAgICAgIGNvbnN0IGRlbGF5ID0gdGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS5kZWxheTtcbiAgICAgICAgdGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS5kZWxheSA9IDA7XG4gICAgICAgIHNldFRpbWVvdXQoX3RyLCBkZWxheSAqIDEwMDAsIG1zZywge1xuICAgICAgICAgIGRldmljZTogX2RldmljZSxcbiAgICAgICAgICBzZXNzaW9uOiBfc2Vzc2lvbixcbiAgICAgICAgICByZXF1ZXN0OiBfcmVxdWVzdCxcbiAgICAgICAgICBsb2dnZXI6IF9sb2dnZXJcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaW5jckNvdW50KHNlc3Npb25PYmosIGNhbXBhaWduSWQsIGV4Y2x1ZGVGcm9tRnJlcUNhcHMpO1xuICAgICAgaW5jckNvdW50KGRhaWx5T2JqLCBjYW1wYWlnbklkLCBleGNsdWRlRnJvbUZyZXFDYXBzKTtcbiAgICAgIGluY3JDb3VudChnbG9iYWxPYmosIGNhbXBhaWduSWQsIGV4Y2x1ZGVGcm9tRnJlcUNhcHMpO1xuICAgICAgbGV0IGNhbXBLZXkgPSAnd3AnO1xuXG4gICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbltESVNQTEFZXS53dGFyZ2V0X3R5cGUgPT09IDMpIHtcbiAgICAgICAgY2FtcEtleSA9ICd3aSc7XG4gICAgICB9IC8vIGdldCByaWRlIG9mIHN0YWxlIHNlc3Npb25zIGFuZCBkYXkgZW50cmllc1xuXG5cbiAgICAgIGNvbnN0IG5ld0NhbXBPYmogPSB7fTtcbiAgICAgIG5ld0NhbXBPYmpbX3Nlc3Npb24uc2Vzc2lvbklkXSA9IHNlc3Npb25PYmo7XG4gICAgICBuZXdDYW1wT2JqW3RvZGF5XSA9IGRhaWx5T2JqO1xuICAgICAgbmV3Q2FtcE9ialtHTE9CQUxdID0gZ2xvYmFsT2JqO1xuICAgICAgc2F2ZUNhbXBhaWduT2JqZWN0KHtcbiAgICAgICAgW2NhbXBLZXldOiBuZXdDYW1wT2JqXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgZ2V0Q29va2llUGFyYW1zID0gKCkgPT4ge1xuICAgICAgY29uc3QgZ2Nvb2tpZSA9IF9kZXZpY2UuZ2V0R3VpZCgpO1xuXG4gICAgICBjb25zdCBzY29va2llT2JqID0gX3Nlc3Npb24uZ2V0U2Vzc2lvbkNvb2tpZU9iamVjdCgpO1xuXG4gICAgICByZXR1cm4gJyZ0PXdjJmQ9JyArIGVuY29kZVVSSUNvbXBvbmVudChjb21wcmVzc1RvQmFzZTY0KGdjb29raWUgKyAnfCcgKyBzY29va2llT2JqLnAgKyAnfCcgKyBzY29va2llT2JqLnMpKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0dXBDbGlja0V2ZW50ID0gKG9uQ2xpY2ssIHRhcmdldGluZ01zZ0pzb24sIGNvbnRlbnREaXYsIGRpdklkLCBpc0xlZ2FjeSkgPT4ge1xuICAgICAgaWYgKG9uQ2xpY2sgIT09ICcnICYmIG9uQ2xpY2sgIT0gbnVsbCkge1xuICAgICAgICBsZXQgY3RhRWxlbWVudDtcbiAgICAgICAgbGV0IGpzQ1RBRWxlbWVudHM7XG5cbiAgICAgICAgaWYgKGlzTGVnYWN5KSB7XG4gICAgICAgICAgY3RhRWxlbWVudCA9IGNvbnRlbnREaXY7XG4gICAgICAgIH0gZWxzZSBpZiAoY29udGVudERpdiAhPT0gbnVsbCkge1xuICAgICAgICAgIGpzQ1RBRWxlbWVudHMgPSBjb250ZW50RGl2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2pzQ1RfQ1RBJyk7XG5cbiAgICAgICAgICBpZiAoanNDVEFFbGVtZW50cyAhPSBudWxsICYmIGpzQ1RBRWxlbWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBjdGFFbGVtZW50ID0ganNDVEFFbGVtZW50c1swXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBqc0Z1bmMgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkuanNGdW5jO1xuICAgICAgICBjb25zdCBpc1ByZXZpZXcgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkucHJldmlldztcblxuICAgICAgICBpZiAoaXNQcmV2aWV3ID09IG51bGwpIHtcbiAgICAgICAgICBvbkNsaWNrICs9IGdldENvb2tpZVBhcmFtcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN0YUVsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgICAgIGN0YUVsZW1lbnQub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIGludm9rZSBqcyBmdW5jdGlvbiBjYWxsXG4gICAgICAgICAgICBpZiAoanNGdW5jICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgLy8gdHJhY2sgbm90aWZpY2F0aW9uIGNsaWNrZWQgZXZlbnRcbiAgICAgICAgICAgICAgaWYgKGlzUHJldmlldyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgUmVxdWVzdERpc3BhdGNoZXIuZmlyZVJlcXVlc3Qob25DbGljayk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpbnZva2VFeHRlcm5hbEpzKGpzRnVuYywgdGFyZ2V0aW5nTXNnSnNvbik7IC8vIGNsb3NlIGlmcmFtZS4gdXNpbmcgLTEgZm9yIG5vIGNhbXBhaWduSWRcblxuICAgICAgICAgICAgICBjbG9zZUlmcmFtZSgnLTEnLCBkaXZJZCwgX3Nlc3Npb24uc2Vzc2lvbklkKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSAvLyBwYXNzIG9uIHRoZSBnY29va2llfHBhZ2V8c2Nvb2tpZUlkIGZvciBjYXB0dXJpbmcgdGhlIGNsaWNrIGV2ZW50XG5cblxuICAgICAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS53aW5kb3cgPT09IDEpIHtcbiAgICAgICAgICAgICAgd2luZG93Lm9wZW4ob25DbGljaywgJ19ibGFuaycpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gb25DbGljaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGludm9rZUV4dGVybmFsSnMgPSAoanNGdW5jLCB0YXJnZXRpbmdNc2dKc29uKSA9PiB7XG4gICAgICBjb25zdCBmdW5jID0gd2luZG93LnBhcmVudFtqc0Z1bmNdO1xuXG4gICAgICBpZiAodHlwZW9mIGZ1bmMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5rdiAhPSBudWxsKSB7XG4gICAgICAgICAgZnVuYyh0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkua3YpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZ1bmMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzZXR1cENsaWNrVXJsID0gKG9uQ2xpY2ssIHRhcmdldGluZ01zZ0pzb24sIGNvbnRlbnREaXYsIGRpdklkLCBpc0xlZ2FjeSkgPT4ge1xuICAgICAgaW5jcmVtZW50SW1wcmVzc2lvbih0YXJnZXRpbmdNc2dKc29uKTtcbiAgICAgIHNldHVwQ2xpY2tFdmVudChvbkNsaWNrLCB0YXJnZXRpbmdNc2dKc29uLCBjb250ZW50RGl2LCBkaXZJZCwgaXNMZWdhY3kpO1xuICAgIH07XG5cbiAgICBjb25zdCBpbmNyZW1lbnRJbXByZXNzaW9uID0gdGFyZ2V0aW5nTXNnSnNvbiA9PiB7XG4gICAgICBjb25zdCBkYXRhID0ge307XG4gICAgICBkYXRhLnR5cGUgPSAnZXZlbnQnO1xuICAgICAgZGF0YS5ldnROYW1lID0gTk9USUZJQ0FUSU9OX1ZJRVdFRDtcbiAgICAgIGRhdGEuZXZ0RGF0YSA9IHtcbiAgICAgICAgW1daUktfSURdOiB0YXJnZXRpbmdNc2dKc29uLnd6cmtfaWRcbiAgICAgIH07XG5cbiAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLnd6cmtfcGl2b3QpIHtcbiAgICAgICAgZGF0YS5ldnREYXRhID0geyAuLi5kYXRhLmV2dERhdGEsXG4gICAgICAgICAgd3pya19waXZvdDogdGFyZ2V0aW5nTXNnSnNvbi53enJrX3Bpdm90XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIF9yZXF1ZXN0LnByb2Nlc3NFdmVudChkYXRhKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVuZGVyUGVyc29uYWxpc2F0aW9uQmFubmVyID0gdGFyZ2V0aW5nTXNnSnNvbiA9PiB7XG4gICAgICB2YXIgX3RhcmdldGluZ01zZ0pzb24kZGlzO1xuXG4gICAgICBpZiAoY3VzdG9tRWxlbWVudHMuZ2V0KCdjdC13ZWItcGVyc29uYWxpc2F0aW9uLWJhbm5lcicpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdjdC13ZWItcGVyc29uYWxpc2F0aW9uLWJhbm5lcicsIENUV2ViUGVyc29uYWxpc2F0aW9uQmFubmVyKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGl2SWQgPSAoX3RhcmdldGluZ01zZ0pzb24kZGlzID0gdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LmRpdklkKSAhPT0gbnVsbCAmJiBfdGFyZ2V0aW5nTXNnSnNvbiRkaXMgIT09IHZvaWQgMCA/IF90YXJnZXRpbmdNc2dKc29uJGRpcyA6IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5kaXZTZWxlY3RvcjtcbiAgICAgIGNvbnN0IGJhbm5lckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY3Qtd2ViLXBlcnNvbmFsaXNhdGlvbi1iYW5uZXInKTtcbiAgICAgIGJhbm5lckVsLm1zZ0lkID0gdGFyZ2V0aW5nTXNnSnNvbi53enJrX2lkO1xuICAgICAgYmFubmVyRWwucGl2b3RJZCA9IHRhcmdldGluZ01zZ0pzb24ud3pya19waXZvdDtcbiAgICAgIGJhbm5lckVsLmRpdkhlaWdodCA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5kaXZIZWlnaHQ7XG4gICAgICBiYW5uZXJFbC5kZXRhaWxzID0gdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LmRldGFpbHNbMF07XG4gICAgICBjb25zdCBjb250YWluZXJFbCA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5kaXZJZCA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGl2SWQpO1xuICAgICAgY29udGFpbmVyRWwuaW5uZXJIVE1MID0gJyc7XG4gICAgICBjb250YWluZXJFbC5hcHBlbmRDaGlsZChiYW5uZXJFbCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlclBlcnNvbmFsaXNhdGlvbkNhcm91c2VsID0gdGFyZ2V0aW5nTXNnSnNvbiA9PiB7XG4gICAgICB2YXIgX3RhcmdldGluZ01zZ0pzb24kZGlzMjtcblxuICAgICAgaWYgKGN1c3RvbUVsZW1lbnRzLmdldCgnY3Qtd2ViLXBlcnNvbmFsaXNhdGlvbi1jYXJvdXNlbCcpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdjdC13ZWItcGVyc29uYWxpc2F0aW9uLWNhcm91c2VsJywgQ1RXZWJQZXJzb25hbGlzYXRpb25DYXJvdXNlbCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRpdklkID0gKF90YXJnZXRpbmdNc2dKc29uJGRpczIgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkuZGl2SWQpICE9PSBudWxsICYmIF90YXJnZXRpbmdNc2dKc29uJGRpczIgIT09IHZvaWQgMCA/IF90YXJnZXRpbmdNc2dKc29uJGRpczIgOiB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkuZGl2U2VsZWN0b3I7XG4gICAgICBjb25zdCBjYXJvdXNlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2N0LXdlYi1wZXJzb25hbGlzYXRpb24tY2Fyb3VzZWwnKTtcbiAgICAgIGNhcm91c2VsLnRhcmdldCA9IHRhcmdldGluZ01zZ0pzb247XG4gICAgICBjb25zdCBjb250YWluZXIgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkuZGl2SWQgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaXZJZCkgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRpdklkKTtcbiAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjYXJvdXNlbCk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlclBvcFVwSW1hZ2VPbmx5ID0gdGFyZ2V0aW5nTXNnSnNvbiA9PiB7XG4gICAgICBjb25zdCBkaXZJZCA9ICd3enJrSW1hZ2VPbmx5RGl2JztcbiAgICAgIGNvbnN0IHBvcHVwSW1hZ2VPbmx5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY3Qtd2ViLXBvcHVwLWltYWdlb25seScpO1xuICAgICAgcG9wdXBJbWFnZU9ubHkuc2Vzc2lvbiA9IF9zZXNzaW9uO1xuICAgICAgcG9wdXBJbWFnZU9ubHkudGFyZ2V0ID0gdGFyZ2V0aW5nTXNnSnNvbjtcbiAgICAgIGNvbnN0IGNvbnRhaW5lckVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2SWQpO1xuICAgICAgY29udGFpbmVyRWwuaW5uZXJIVE1MID0gJyc7XG4gICAgICBjb250YWluZXJFbC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICBjb250YWluZXJFbC5hcHBlbmRDaGlsZChwb3B1cEltYWdlT25seSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlbmRlckZvb3Rlck5vdGlmaWNhdGlvbiA9IHRhcmdldGluZ01zZ0pzb24gPT4ge1xuICAgICAgY29uc3QgY2FtcGFpZ25JZCA9IHRhcmdldGluZ01zZ0pzb24ud3pya19pZC5zcGxpdCgnXycpWzBdO1xuICAgICAgY29uc3QgZGlzcGxheU9iaiA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheTtcblxuICAgICAgaWYgKGRpc3BsYXlPYmoud3RhcmdldF90eXBlID09PSAyKSB7XG4gICAgICAgIC8vIEhhbmRsaW5nIFdlYiBOYXRpdmUgZGlzcGxheVxuICAgICAgICAvLyBMb2dpYyBmb3Iga3YgcGFpciBkYXRhXG4gICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQudHlwZSA9PT0gMSkge1xuICAgICAgICAgIGNvbnN0IGluYU9iaiA9IHt9O1xuICAgICAgICAgIGluYU9iai5tc2dJZCA9IHRhcmdldGluZ01zZ0pzb24ud3pya19pZDtcblxuICAgICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLnd6cmtfcGl2b3QpIHtcbiAgICAgICAgICAgIGluYU9iai5waXZvdElkID0gdGFyZ2V0aW5nTXNnSnNvbi53enJrX3Bpdm90O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQua3YgIT0gbnVsbCkge1xuICAgICAgICAgICAgaW5hT2JqLmt2ID0gdGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50Lmt2O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGt2UGFpcnNFdmVudCA9IG5ldyBDdXN0b21FdmVudCgnQ1Rfd2ViX25hdGl2ZV9kaXNwbGF5Jywge1xuICAgICAgICAgICAgZGV0YWlsOiBpbmFPYmpcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGt2UGFpcnNFdmVudCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChkaXNwbGF5T2JqLmxheW91dCA9PT0gMSkge1xuICAgICAgICAvLyBIYW5kbGluZyBXZWIgRXhpdCBJbnRlbnRcbiAgICAgICAgcmV0dXJuIHNob3dFeGl0SW50ZW50KHVuZGVmaW5lZCwgdGFyZ2V0aW5nTXNnSnNvbik7XG4gICAgICB9XG5cbiAgICAgIGlmIChkaXNwbGF5T2JqLmxheW91dCA9PT0gMykge1xuICAgICAgICAvLyBIYW5kbGluZyBXZWIgUG9wdXAgSW1hZ2UgT25seVxuICAgICAgICBjb25zdCBkaXZJZCA9ICd3enJrSW1hZ2VPbmx5RGl2JztcblxuICAgICAgICBpZiAoZG9DYW1wSG91c2VLZWVwaW5nKHRhcmdldGluZ01zZ0pzb24pID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkY3QuZGlzbWlzc1NwYW1Db250cm9sICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKSAhPSBudWxsKSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKTtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICB9IC8vIEltYWdlT25seSBjYW1wYWlnbiBhbmQgSW50ZXJzdGl0aWFsL0V4aXQgSW50ZW50IHNob3VsZG4ndCBjb2V4aXN0XG5cblxuICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2SWQpICE9IG51bGwgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludGVudFByZXZpZXcnKSAhPSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbXNnRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG1zZ0Rpdi5pZCA9IGRpdklkO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1zZ0Rpdik7XG5cbiAgICAgICAgaWYgKGN1c3RvbUVsZW1lbnRzLmdldCgnY3Qtd2ViLXBvcHVwLWltYWdlb25seScpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ2N0LXdlYi1wb3B1cC1pbWFnZW9ubHknLCBDVFdlYlBvcHVwSW1hZ2VPbmx5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZW5kZXJQb3BVcEltYWdlT25seSh0YXJnZXRpbmdNc2dKc29uKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRvQ2FtcEhvdXNlS2VlcGluZyh0YXJnZXRpbmdNc2dKc29uKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkaXZJZCA9ICd3aXpQYXJEaXYnICsgZGlzcGxheU9iai5sYXlvdXQ7XG5cbiAgICAgIGlmICgkY3QuZGlzbWlzc1NwYW1Db250cm9sICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKSAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaXZJZCk7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaXZJZCkgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICRjdC5jYW1wYWlnbkRpdk1hcFtjYW1wYWlnbklkXSA9IGRpdklkO1xuICAgICAgY29uc3QgaXNCYW5uZXIgPSBkaXNwbGF5T2JqLmxheW91dCA9PT0gMjtcbiAgICAgIGNvbnN0IG1zZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbXNnRGl2LmlkID0gZGl2SWQ7XG4gICAgICBjb25zdCB2aWV3SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgY29uc3Qgdmlld1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICBsZXQgbGVnYWN5ID0gZmFsc2U7XG5cbiAgICAgIGlmICghaXNCYW5uZXIpIHtcbiAgICAgICAgY29uc3QgbWFyZ2luQm90dG9tID0gdmlld0hlaWdodCAqIDUgLyAxMDA7XG4gICAgICAgIHZhciBjb250ZW50SGVpZ2h0ID0gMTA7XG4gICAgICAgIGxldCByaWdodCA9IHZpZXdXaWR0aCAqIDUgLyAxMDA7XG4gICAgICAgIGxldCBib3R0b21Qb3NpdGlvbiA9IGNvbnRlbnRIZWlnaHQgKyBtYXJnaW5Cb3R0b207XG4gICAgICAgIGxldCB3aWR0aCA9IHZpZXdXaWR0aCAqIDMwIC8gMTAwICsgMjA7XG4gICAgICAgIGxldCB3aWR0aFBlcmN0ID0gJ3dpZHRoOjMwJTsnOyAvLyBmb3Igc21hbGwgZGV2aWNlcyAgLSBtb2JpbGUgcGhvbmVzXG5cbiAgICAgICAgaWYgKCgvbW9iaWxlL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSB8fCAvbWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpICYmIC9pUGFkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB3aWR0aCA9IHZpZXdXaWR0aCAqIDg1IC8gMTAwICsgMjA7XG4gICAgICAgICAgcmlnaHQgPSB2aWV3V2lkdGggKiA1IC8gMTAwO1xuICAgICAgICAgIGJvdHRvbVBvc2l0aW9uID0gdmlld0hlaWdodCAqIDUgLyAxMDA7XG4gICAgICAgICAgd2lkdGhQZXJjdCA9ICd3aWR0aDo4MCU7JzsgLy8gbWVkaXVtIGRldmljZXMgLSB0YWJsZXRzXG4gICAgICAgIH0gZWxzZSBpZiAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8IC90YWJsZXQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG4gICAgICAgICAgd2lkdGggPSB2aWV3V2lkdGggKiA1MCAvIDEwMCArIDIwO1xuICAgICAgICAgIHJpZ2h0ID0gdmlld1dpZHRoICogNSAvIDEwMDtcbiAgICAgICAgICBib3R0b21Qb3NpdGlvbiA9IHZpZXdIZWlnaHQgKiA1IC8gMTAwO1xuICAgICAgICAgIHdpZHRoUGVyY3QgPSAnd2lkdGg6NTAlOyc7XG4gICAgICAgIH0gLy8gbGVnYWN5IGZvb3RlciBub3RpZlxuXG5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmoucHJvdG8gPT0gbnVsbCkge1xuICAgICAgICAgIGxlZ2FjeSA9IHRydWU7XG4gICAgICAgICAgbXNnRGl2LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTpibG9jaztvdmVyZmxvdzpoaWRkZW47IGJvdHRvbTonICsgYm90dG9tUG9zaXRpb24gKyAncHggIWltcG9ydGFudDt3aWR0aDonICsgd2lkdGggKyAncHggIWltcG9ydGFudDtyaWdodDonICsgcmlnaHQgKyAncHggIWltcG9ydGFudDtwb3NpdGlvbjpmaXhlZDt6LWluZGV4OjIxNDc0ODM2NDc7Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbXNnRGl2LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCB3aWR0aFBlcmN0ICsgZGlzcGxheU9iai5pRnJhbWVTdHlsZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1zZ0Rpdi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgZGlzcGxheU9iai5pRnJhbWVTdHlsZSk7XG4gICAgICB9XG5cbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobXNnRGl2KTtcbiAgICAgIGNvbnN0IGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgICAgY29uc3QgYm9yZGVyUmFkaXVzID0gZGlzcGxheU9iai5iciA9PT0gZmFsc2UgPyAnMCcgOiAnOCc7XG4gICAgICBpZnJhbWUuZnJhbWVib3JkZXIgPSAnMHB4JztcbiAgICAgIGlmcmFtZS5tYXJnaW5oZWlnaHQgPSAnMHB4JztcbiAgICAgIGlmcmFtZS5tYXJnaW53aWR0aCA9ICcwcHgnO1xuICAgICAgaWZyYW1lLnNjcm9sbGluZyA9ICdubyc7XG4gICAgICBpZnJhbWUuaWQgPSAnd2l6LWlmcmFtZSc7XG4gICAgICBjb25zdCBvbkNsaWNrID0gdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5Lm9uQ2xpY2s7XG4gICAgICBsZXQgcG9pbnRlckNzcyA9ICcnO1xuXG4gICAgICBpZiAob25DbGljayAhPT0gJycgJiYgb25DbGljayAhPSBudWxsKSB7XG4gICAgICAgIHBvaW50ZXJDc3MgPSAnY3Vyc29yOnBvaW50ZXI7JztcbiAgICAgIH1cblxuICAgICAgaWYgKGRpc3BsYXlPYmoucHJldmlldyAmJiBkaXNwbGF5T2JqWydjdXN0b20tZWRpdG9yJ10pIHtcbiAgICAgICAgaWZyYW1lLnNhbmRib3ggPSAnYWxsb3ctc2NyaXB0cyBhbGxvdy1wb3B1cHMgYWxsb3ctcG9wdXBzLXRvLWVzY2FwZS1zYW5kYm94JztcbiAgICAgIH1cblxuICAgICAgbGV0IGh0bWw7IC8vIGRpcmVjdCBodG1sXG5cbiAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQudHlwZSA9PT0gMSkge1xuICAgICAgICBodG1sID0gdGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50Lmh0bWw7XG4gICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoLyMjY2FtcGFpZ25JZCMjL2csIGNhbXBhaWduSWQpO1xuICAgICAgICBodG1sID0gaHRtbC5yZXBsYWNlKC8jI2NhbXBhaWduSWRfYmF0Y2hJZCMjL2csIHRhcmdldGluZ01zZ0pzb24ud3pya19pZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjc3MgPSAnJyArICc8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+JyArICdib2R5e21hcmdpbjowO3BhZGRpbmc6MDt9JyArICcjY29udGVudERpdi53enJre292ZXJmbG93OmhpZGRlbjtwYWRkaW5nOjA7dGV4dC1hbGlnbjpjZW50ZXI7JyArIHBvaW50ZXJDc3MgKyAnfScgKyAnI2NvbnRlbnREaXYud3pyayB0ZHtwYWRkaW5nOjE1cHggMTBweDt9JyArICcud3pya1BQdGl0bGV7Zm9udC13ZWlnaHQ6IGJvbGQ7Zm9udC1zaXplOiAxNnB4O2ZvbnQtZmFtaWx5OmFyaWFsO3BhZGRpbmctYm90dG9tOjEwcHg7d29yZC1icmVhazogYnJlYWstd29yZDt9JyArICcud3pya1BQZHNjcntmb250LXNpemU6IDE0cHg7Zm9udC1mYW1pbHk6YXJpYWw7bGluZS1oZWlnaHQ6MTZweDt3b3JkLWJyZWFrOiBicmVhay13b3JkO2Rpc3BsYXk6aW5saW5lLWJsb2NrO30nICsgJy5QTDE1e3BhZGRpbmctbGVmdDoxNXB4O30nICsgJy53enJrUFB3YXJwe21hcmdpbjoyMHB4IDIwcHggMCA1cHg7cGFkZGluZzowcHg7Ym9yZGVyLXJhZGl1czogJyArIGJvcmRlclJhZGl1cyArICdweDtib3gtc2hhZG93OiAxcHggMXB4IDVweCAjODg4ODg4O30nICsgJ2Eud3pya0Nsb3Nle2N1cnNvcjpwb2ludGVyO3Bvc2l0aW9uOiBhYnNvbHV0ZTt0b3A6IDExcHg7cmlnaHQ6IDExcHg7ei1pbmRleDogMjE0NzQ4MzY0Nztmb250LXNpemU6MTlweDtmb250LWZhbWlseTphcmlhbDtmb250LXdlaWdodDpib2xkO3RleHQtZGVjb3JhdGlvbjogbm9uZTt3aWR0aDogMjVweDsvKmhlaWdodDogMjVweDsqL3RleHQtYWxpZ246IGNlbnRlcjsgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lOyBsaW5lLWhlaWdodDogMjVweDsnICsgJ2JhY2tncm91bmQ6ICMzNTM1MzU7Ym9yZGVyOiAjZmZmIDJweCBzb2xpZDtib3JkZXItcmFkaXVzOiAxMDAlO2JveC1zaGFkb3c6ICM3NzcgMnB4IDJweCAycHg7Y29sb3I6I2ZmZjt9JyArICdhOmhvdmVyLnd6cmtDbG9zZXtiYWNrZ3JvdW5kLWNvbG9yOiNkMTkxNGEgIWltcG9ydGFudDtjb2xvcjojZmZmICFpbXBvcnRhbnQ7IC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTt9JyArICd0ZHt2ZXJ0aWNhbC1hbGlnbjp0b3A7fScgKyAndGQuaW1nVGR7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czo4cHg7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czo4cHg7fScgKyAnPC9zdHlsZT4nO1xuICAgICAgICBsZXQgYmdDb2xvciwgdGV4dENvbG9yLCBidG5CZywgbGVmdFRkLCBidENvbG9yO1xuXG4gICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkudGhlbWUgPT09ICdkYXJrJykge1xuICAgICAgICAgIGJnQ29sb3IgPSAnIzJkMmQyZSc7XG4gICAgICAgICAgdGV4dENvbG9yID0gJyNlYWVhZWEnO1xuICAgICAgICAgIGJ0bkJnID0gJyMzNTM1MzUnO1xuICAgICAgICAgIGxlZnRUZCA9ICcjMzUzNTM1JztcbiAgICAgICAgICBidENvbG9yID0gJyNmZmZmZmYnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJnQ29sb3IgPSAnI2ZmZmZmZic7XG4gICAgICAgICAgdGV4dENvbG9yID0gJyMwMDAwMDAnO1xuICAgICAgICAgIGxlZnRUZCA9ICcjZjRmNGY0JztcbiAgICAgICAgICBidG5CZyA9ICcjYTVhNmE2JztcbiAgICAgICAgICBidENvbG9yID0gJyNmZmZmZmYnO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGl0bGVUZXh0ID0gdGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50LnRpdGxlO1xuICAgICAgICBjb25zdCBkZXNjcmlwdGlvblRleHQgPSB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQuZGVzY3JpcHRpb247XG4gICAgICAgIGxldCBpbWFnZVRkID0gJyc7XG5cbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5pbWFnZVVybCAhPSBudWxsICYmIHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5pbWFnZVVybCAhPT0gJycpIHtcbiAgICAgICAgICBpbWFnZVRkID0gXCI8dGQgY2xhc3M9J2ltZ1RkJyBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjpcIiArIGxlZnRUZCArIFwiJz48aW1nIHNyYz0nXCIgKyB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQuaW1hZ2VVcmwgKyBcIicgaGVpZ2h0PSc2MCcgd2lkdGg9JzYwJz48L3RkPlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb25DbGlja1N0ciA9ICdwYXJlbnQuJFdaUktfV1IuY2xvc2VJZnJhbWUoJyArIGNhbXBhaWduSWQgKyBcIiwnXCIgKyBkaXZJZCArIFwiJyk7XCI7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gXCI8ZGl2IGNsYXNzPSd3enJrUFB3YXJwJyBzdHlsZT0nY29sb3I6XCIgKyB0ZXh0Q29sb3IgKyAnO2JhY2tncm91bmQtY29sb3I6JyArIGJnQ29sb3IgKyBcIjsnPlwiICsgXCI8YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7JyBvbmNsaWNrPVwiICsgb25DbGlja1N0ciArIFwiIGNsYXNzPSd3enJrQ2xvc2UnIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOlwiICsgYnRuQmcgKyAnO2NvbG9yOicgKyBidENvbG9yICsgXCInPiZ0aW1lczs8L2E+XCIgKyBcIjxkaXYgaWQ9J2NvbnRlbnREaXYnIGNsYXNzPSd3enJrJz5cIiArIFwiPHRhYmxlIGNlbGxwYWRkaW5nPScwJyBjZWxsc3BhY2luZz0nMCcgYm9yZGVyPScwJz5cIiArIC8vIFwiPHRyPjx0ZCBjb2xzcGFuPScyJz48L3RkPjwvdHI+XCIrXG4gICAgICAgICc8dHI+JyArIGltYWdlVGQgKyBcIjx0ZCBzdHlsZT0ndmVydGljYWwtYWxpZ246dG9wOyc+XCIgKyBcIjxkaXYgY2xhc3M9J3d6cmtQUHRpdGxlJyBzdHlsZT0nY29sb3I6XCIgKyB0ZXh0Q29sb3IgKyBcIic+XCIgKyB0aXRsZVRleHQgKyAnPC9kaXY+JztcbiAgICAgICAgY29uc3QgYm9keSA9IFwiPGRpdiBjbGFzcz0nd3pya1BQZHNjcicgc3R5bGU9J2NvbG9yOlwiICsgdGV4dENvbG9yICsgXCInPlwiICsgZGVzY3JpcHRpb25UZXh0ICsgJzxkaXY+PC90ZD48L3RyPjwvdGFibGU+PC9kaXY+JztcbiAgICAgICAgaHRtbCA9IGNzcyArIHRpdGxlICsgYm9keTtcbiAgICAgIH1cblxuICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnei1pbmRleDogMjE0NzQ4MzY0NzsgZGlzcGxheTpibG9jazsgd2lkdGg6IDEwMCUgIWltcG9ydGFudDsgYm9yZGVyOjBweCAhaW1wb3J0YW50OyBib3JkZXItY29sb3I6bm9uZSAhaW1wb3J0YW50OycpO1xuICAgICAgbXNnRGl2LmFwcGVuZENoaWxkKGlmcmFtZSk7IC8vIERpc3BhdGNoIGV2ZW50IGZvciBwb3B1cCBib3gvYmFubmVyIGNsb3NlXG5cbiAgICAgIGNvbnN0IGNsb3NlQ2FtcGFpZ24gPSBuZXcgRXZlbnQoJ0NUX2NhbXBhaWduX3JlbmRlcmVkJyk7XG4gICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGNsb3NlQ2FtcGFpZ24pO1xuXG4gICAgICBpZiAoZGlzcGxheU9ialsnY3VzdG9tLWVkaXRvciddKSB7XG4gICAgICAgIGh0bWwgPSBhcHBlbmRTY3JpcHRGb3JDdXN0b21FdmVudCh0YXJnZXRpbmdNc2dKc29uLCBodG1sKTtcbiAgICAgIH1cblxuICAgICAgaWZyYW1lLnNyY2RvYyA9IGh0bWw7XG5cbiAgICAgIGNvbnN0IGFkanVzdElGcmFtZUhlaWdodCA9ICgpID0+IHtcbiAgICAgICAgLy8gYWRqdXN0IGlmcmFtZSBhbmQgYm9keSBoZWlnaHQgb2YgaHRtbCBpbnNpZGUgY29ycmVjdGx5XG4gICAgICAgIGNvbnRlbnRIZWlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6LWlmcmFtZScpLmNvbnRlbnREb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudERpdicpLnNjcm9sbEhlaWdodDtcblxuICAgICAgICBpZiAoZGlzcGxheU9ialsnY3VzdG9tLWVkaXRvciddICE9PSB0cnVlICYmICFpc0Jhbm5lcikge1xuICAgICAgICAgIGNvbnRlbnRIZWlnaHQgKz0gMjU7XG4gICAgICAgIH1cblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6LWlmcmFtZScpLmNvbnRlbnREb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9ICcwcHgnO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2l6LWlmcmFtZScpLnN0eWxlLmhlaWdodCA9IGNvbnRlbnRIZWlnaHQgKyAncHgnO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgIGlmICh1YS5pbmRleE9mKCdzYWZhcmknKSAhPT0gLTEpIHtcbiAgICAgICAgaWYgKHVhLmluZGV4T2YoJ2Nocm9tZScpID4gLTEpIHtcbiAgICAgICAgICBpZnJhbWUub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgYWRqdXN0SUZyYW1lSGVpZ2h0KCk7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpei1pZnJhbWUnKS5jb250ZW50RG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnREaXYnKTtcbiAgICAgICAgICAgIHNldHVwQ2xpY2tVcmwob25DbGljaywgdGFyZ2V0aW5nTXNnSnNvbiwgY29udGVudERpdiwgZGl2SWQsIGxlZ2FjeSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgaW5Eb2MgPSBpZnJhbWUuY29udGVudERvY3VtZW50IHx8IGlmcmFtZS5jb250ZW50V2luZG93O1xuICAgICAgICAgIGlmIChpbkRvYy5kb2N1bWVudCkgaW5Eb2MgPSBpbkRvYy5kb2N1bWVudDsgLy8gc2FmYXJpIGlwaG9uZSA3KyBuZWVkcyB0aGlzLlxuXG4gICAgICAgICAgYWRqdXN0SUZyYW1lSGVpZ2h0KCk7XG5cbiAgICAgICAgICBjb25zdCBfdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5Eb2MucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgICAgICBjbGVhckludGVydmFsKF90aW1lcik7IC8vIGFkanVzdCBpZnJhbWUgYW5kIGJvZHkgaGVpZ2h0IG9mIGh0bWwgaW5zaWRlIGNvcnJlY3RseVxuXG4gICAgICAgICAgICAgIGFkanVzdElGcmFtZUhlaWdodCgpO1xuICAgICAgICAgICAgICBjb25zdCBjb250ZW50RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpei1pZnJhbWUnKS5jb250ZW50RG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnREaXYnKTtcbiAgICAgICAgICAgICAgc2V0dXBDbGlja1VybChvbkNsaWNrLCB0YXJnZXRpbmdNc2dKc29uLCBjb250ZW50RGl2LCBkaXZJZCwgbGVnYWN5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAxMCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmcmFtZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgLy8gYWRqdXN0IGlmcmFtZSBhbmQgYm9keSBoZWlnaHQgb2YgaHRtbCBpbnNpZGUgY29ycmVjdGx5XG4gICAgICAgICAgYWRqdXN0SUZyYW1lSGVpZ2h0KCk7XG4gICAgICAgICAgY29uc3QgY29udGVudERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aXotaWZyYW1lJykuY29udGVudERvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50RGl2Jyk7XG4gICAgICAgICAgc2V0dXBDbGlja1VybChvbkNsaWNrLCB0YXJnZXRpbmdNc2dKc29uLCBjb250ZW50RGl2LCBkaXZJZCwgbGVnYWN5KTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgYXBwZW5kU2NyaXB0Rm9yQ3VzdG9tRXZlbnQgPSAodGFyZ2V0aW5nTXNnSnNvbiwgaHRtbCkgPT4ge1xuICAgICAgY29uc3Qgc2NyaXB0ID0gXCI8c2NyaXB0PlxcbiAgICAgIGNvbnN0IGN0X19jYW1hcGlnbklkID0gJ1wiLmNvbmNhdCh0YXJnZXRpbmdNc2dKc29uLnd6cmtfaWQsIFwiJztcXG4gICAgICBjb25zdCBjdF9fZm9ybWF0VmFsID0gKHYpID0+IHtcXG4gICAgICAgICAgcmV0dXJuIHYgJiYgdi50cmltKCkuc3Vic3RyaW5nKDAsIDIwKTtcXG4gICAgICB9XFxuICAgICAgY29uc3QgY3RfX3BhcmVudE9yaWdpbiA9ICB3aW5kb3cucGFyZW50Lm9yaWdpbjtcXG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XFxuICAgICAgICBjb25zdCBlbGVtID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3Q/LignYVt3enJrX2MyYV0sIGJ1dHRvblt3enJrX2MyYV0nKTtcXG4gICAgICAgIGlmIChlbGVtKSB7XFxuICAgICAgICAgICAgY29uc3Qge2lubmVyVGV4dCwgaWQsIG5hbWUsIHZhbHVlLCBocmVmfSA9IGVsZW07XFxuICAgICAgICAgICAgY29uc3QgY2xpY2tBdHRyID0gZWxlbS5nZXRBdHRyaWJ1dGUoJ29uY2xpY2snKSB8fCBlbGVtLmdldEF0dHJpYnV0ZSgnY2xpY2snKTtcXG4gICAgICAgICAgICBjb25zdCBvbmNsaWNrVVJMID0gY2xpY2tBdHRyPy5tYXRjaCgvKHdpbmRvdy5vcGVuKVsoXShcXFwifCcpKC4qKShcXFwifCcsKS8pPy5bM10gfHwgY2xpY2tBdHRyPy5tYXRjaCgvKGxvY2F0aW9uLmhyZWYgKj0gKikoXFxcInwnKSguKikoXFxcInwnKS8pPy5bM107XFxuICAgICAgICAgICAgY29uc3QgcHJvcHMgPSB7aW5uZXJUZXh0LCBpZCwgbmFtZSwgdmFsdWV9O1xcbiAgICAgICAgICAgIGxldCBtc2dDVGt2ID0gT2JqZWN0LmtleXMocHJvcHMpLnJlZHVjZSgoYWNjLCBjKSA9PiB7XFxuICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZFZhbCA9IGN0X19mb3JtYXRWYWwocHJvcHNbY10pO1xcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWwgJiYgKGFjY1snd3pya19jbGlja18nICsgY10gPSBmb3JtYXR0ZWRWYWwpO1xcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xcbiAgICAgICAgICAgIH0sIHt9KTtcXG4gICAgICAgICAgICBpZihvbmNsaWNrVVJMKSB7IG1zZ0NUa3ZbJ3d6cmtfY2xpY2tfJyArICd1cmwnXSA9IG9uY2xpY2tVUkw7IH1cXG4gICAgICAgICAgICBpZihocmVmKSB7IG1zZ0NUa3ZbJ3d6cmtfY2xpY2tfJyArICdjMmEnXSA9IGhyZWY7IH1cXG4gICAgICAgICAgICBjb25zdCBub3RpZkRhdGEgPSB7IG1zZ0lkOiBjdF9fY2FtYXBpZ25JZCwgbXNnQ1RrdiwgcGl2b3RJZDogJ1wiKS5jb25jYXQodGFyZ2V0aW5nTXNnSnNvbi53enJrX3Bpdm90LCBcIicgfTtcXG4gICAgICAgICAgICB3aW5kb3cucGFyZW50LmNsZXZlcnRhcC5yZW5kZXJOb3RpZmljYXRpb25DbGlja2VkKG5vdGlmRGF0YSk7XFxuICAgICAgICB9XFxuICAgICAgfSk7XFxuICAgICAgPC9zY3JpcHQ+XFxuICAgIFwiKTtcbiAgICAgIHJldHVybiBodG1sLnJlcGxhY2UoLyg8XFxzKlxcL1xccypib2R5KS8sIFwiXCIuY29uY2F0KHNjcmlwdCwgXCJcXG4kMVwiKSk7XG4gICAgfTtcblxuICAgIGxldCBfY2FsbEJhY2tDYWxsZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0IHNob3dGb290ZXJOb3RpZmljYXRpb24gPSB0YXJnZXRpbmdNc2dKc29uID0+IHtcbiAgICAgIGxldCBvbkNsaWNrID0gdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5Lm9uQ2xpY2s7IC8vIFRPRE86IE5lZWRzIHdpenJvY2tldCBhcyBhIGdsb2JhbCB2YXJpYWJsZVxuXG4gICAgICBpZiAod2luZG93LmNsZXZlcnRhcC5oYXNPd25Qcm9wZXJ0eSgnbm90aWZpY2F0aW9uQ2FsbGJhY2snKSAmJiB0eXBlb2Ygd2luZG93LmNsZXZlcnRhcC5ub3RpZmljYXRpb25DYWxsYmFjayAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5jbGV2ZXJ0YXAubm90aWZpY2F0aW9uQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uQ2FsbGJhY2sgPSB3aW5kb3cuY2xldmVydGFwLm5vdGlmaWNhdGlvbkNhbGxiYWNrO1xuXG4gICAgICAgIGlmICghX2NhbGxCYWNrQ2FsbGVkKSB7XG4gICAgICAgICAgY29uc3QgaW5hT2JqID0ge307XG4gICAgICAgICAgaW5hT2JqLm1zZ0NvbnRlbnQgPSB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQ7XG4gICAgICAgICAgaW5hT2JqLm1zZ0lkID0gdGFyZ2V0aW5nTXNnSnNvbi53enJrX2lkO1xuXG4gICAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ud3pya19waXZvdCkge1xuICAgICAgICAgICAgaW5hT2JqLnBpdm90SWQgPSB0YXJnZXRpbmdNc2dKc29uLnd6cmtfcGl2b3Q7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5rdiAhPSBudWxsKSB7XG4gICAgICAgICAgICBpbmFPYmoua3YgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkua3Y7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgd2luZG93LmNsZXZlcnRhcC5yYWlzZU5vdGlmaWNhdGlvbkNsaWNrZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAob25DbGljayAhPT0gJycgJiYgb25DbGljayAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGpzRnVuYyA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5qc0Z1bmM7XG4gICAgICAgICAgICAgIG9uQ2xpY2sgKz0gZ2V0Q29va2llUGFyYW1zKCk7IC8vIGludm9rZSBqcyBmdW5jdGlvbiBjYWxsXG5cbiAgICAgICAgICAgICAgaWYgKGpzRnVuYyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gdHJhY2sgbm90aWZpY2F0aW9uIGNsaWNrZWQgZXZlbnRcbiAgICAgICAgICAgICAgICBSZXF1ZXN0RGlzcGF0Y2hlci5maXJlUmVxdWVzdChvbkNsaWNrKTtcbiAgICAgICAgICAgICAgICBpbnZva2VFeHRlcm5hbEpzKGpzRnVuYywgdGFyZ2V0aW5nTXNnSnNvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9IC8vIHBhc3Mgb24gdGhlIGdjb29raWV8cGFnZXxzY29va2llSWQgZm9yIGNhcHR1cmluZyB0aGUgY2xpY2sgZXZlbnRcblxuXG4gICAgICAgICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkud2luZG93ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgd2luZG93Lm9wZW4ob25DbGljaywgJ19ibGFuaycpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IG9uQ2xpY2s7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgd2luZG93LmNsZXZlcnRhcC5yYWlzZU5vdGlmaWNhdGlvblZpZXdlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGluY3JlbWVudEltcHJlc3Npb24odGFyZ2V0aW5nTXNnSnNvbik7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIG5vdGlmaWNhdGlvbkNhbGxiYWNrKGluYU9iaik7XG4gICAgICAgICAgX2NhbGxCYWNrQ2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LmNsZXZlcnRhcC5wb3B1cEN1cnJlbnRXenJrSWQgPSB0YXJnZXRpbmdNc2dKc29uLnd6cmtfaWQ7XG4gICAgICAgIHJlbmRlckZvb3Rlck5vdGlmaWNhdGlvbih0YXJnZXRpbmdNc2dKc29uKTtcblxuICAgICAgICBpZiAod2luZG93LmNsZXZlcnRhcC5oYXNPd25Qcm9wZXJ0eSgncG9wdXBDYWxsYmFja3MnKSAmJiB0eXBlb2Ygd2luZG93LmNsZXZlcnRhcC5wb3B1cENhbGxiYWNrcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5jbGV2ZXJ0YXAucG9wdXBDYWxsYmFja3NbdGFyZ2V0aW5nTXNnSnNvbi53enJrX2lkXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNvbnN0IHBvcHVwQ2FsbGJhY2sgPSB3aW5kb3cuY2xldmVydGFwLnBvcHVwQ2FsbGJhY2tzW3RhcmdldGluZ01zZ0pzb24ud3pya19pZF07XG4gICAgICAgICAgY29uc3QgaW5hT2JqID0ge307XG4gICAgICAgICAgaW5hT2JqLm1zZ0NvbnRlbnQgPSB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQ7XG4gICAgICAgICAgaW5hT2JqLm1zZ0lkID0gdGFyZ2V0aW5nTXNnSnNvbi53enJrX2lkO1xuXG4gICAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ud3pya19waXZvdCkge1xuICAgICAgICAgICAgaW5hT2JqLnBpdm90SWQgPSB0YXJnZXRpbmdNc2dKc29uLnd6cmtfcGl2b3Q7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIG1zZ0NUa3YgPSBbXTtcblxuICAgICAgICAgIGZvciAodmFyIHd6cmtQcmVmaXhLZXkgaW4gdGFyZ2V0aW5nTXNnSnNvbikge1xuICAgICAgICAgICAgLy8gQUREIFdaUksgUFJFRklYIEtFWSBWQUxVRSBQQUlSU1xuICAgICAgICAgICAgaWYgKHd6cmtQcmVmaXhLZXkuc3RhcnRzV2l0aChXWlJLX1BSRUZJWCkgJiYgd3pya1ByZWZpeEtleSAhPT0gV1pSS19JRCkge1xuICAgICAgICAgICAgICBjb25zdCB3enJrSnNvbiA9IHtcbiAgICAgICAgICAgICAgICBbd3pya1ByZWZpeEtleV06IHRhcmdldGluZ01zZ0pzb25bd3pya1ByZWZpeEtleV1cbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgbXNnQ1Rrdi5wdXNoKHd6cmtKc29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobXNnQ1Rrdi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpbmFPYmoubXNnQ1RrdiA9IG1zZ0NUa3Y7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5rdiAhPSBudWxsKSB7XG4gICAgICAgICAgICBpbmFPYmoua3YgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkua3Y7XG4gICAgICAgICAgfSAvLyBQVUJMSUMgQVBJIFRPIFJFQ09SRCBDTElDS0VEIEVWRU5UXG5cblxuICAgICAgICAgIHdpbmRvdy5jbGV2ZXJ0YXAucmFpc2VQb3B1cE5vdGlmaWNhdGlvbkNsaWNrZWQgPSBub3RpZmljYXRpb25EYXRhID0+IHtcbiAgICAgICAgICAgIGlmICghbm90aWZpY2F0aW9uRGF0YSB8fCAhbm90aWZpY2F0aW9uRGF0YS5tc2dJZCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGV2ZW50RGF0YSA9IHt9O1xuICAgICAgICAgICAgZXZlbnREYXRhLnR5cGUgPSAnZXZlbnQnO1xuICAgICAgICAgICAgZXZlbnREYXRhLmV2dE5hbWUgPSBOT1RJRklDQVRJT05fQ0xJQ0tFRDtcbiAgICAgICAgICAgIGV2ZW50RGF0YS5ldnREYXRhID0ge1xuICAgICAgICAgICAgICBbV1pSS19JRF06IG5vdGlmaWNhdGlvbkRhdGEubXNnSWRcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLnd6cmtfcGl2b3QpIHtcbiAgICAgICAgICAgICAgZXZlbnREYXRhLmV2dERhdGEgPSB7IC4uLmV2ZW50RGF0YS5ldnREYXRhLFxuICAgICAgICAgICAgICAgIHd6cmtfcGl2b3Q6IG5vdGlmaWNhdGlvbkRhdGEucGl2b3RJZFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSAvLyBXWlJLIFBSRUZJWCBLRVkgVkFMVUUgUEFJUlNcblxuXG4gICAgICAgICAgICBpZiAobm90aWZpY2F0aW9uRGF0YS5tc2dDVGt2KSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIHd6cmtQcmVmaXhPYmogb2Ygbm90aWZpY2F0aW9uRGF0YS5tc2dDVGt2KSB7XG4gICAgICAgICAgICAgICAgZXZlbnREYXRhLmV2dERhdGEgPSB7IC4uLmV2ZW50RGF0YS5ldnREYXRhLFxuICAgICAgICAgICAgICAgICAgLi4ud3pya1ByZWZpeE9ialxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3JlcXVlc3QucHJvY2Vzc0V2ZW50KGV2ZW50RGF0YSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHBvcHVwQ2FsbGJhY2soaW5hT2JqKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBsZXQgZXhpdGludGVudE9iajtcblxuICAgIGNvbnN0IHNob3dFeGl0SW50ZW50ID0gKGV2ZW50LCB0YXJnZXRPYmopID0+IHtcbiAgICAgIGxldCB0YXJnZXRpbmdNc2dKc29uO1xuXG4gICAgICBpZiAoZXZlbnQgIT0gbnVsbCAmJiBldmVudC5jbGllbnRZID4gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXRPYmogPT0gbnVsbCkge1xuICAgICAgICB0YXJnZXRpbmdNc2dKc29uID0gZXhpdGludGVudE9iajtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldGluZ01zZ0pzb24gPSB0YXJnZXRPYmo7XG4gICAgICB9XG5cbiAgICAgIGlmICgkY3QuZGlzbWlzc1NwYW1Db250cm9sICYmIHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS53dGFyZ2V0X3R5cGUgPT09IDAgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludGVudFByZXZpZXcnKSAhPSBudWxsICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnRlbnRPcGFjaXR5RGl2JykgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludGVudFByZXZpZXcnKTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludGVudE9wYWNpdHlEaXYnKS5yZW1vdmUoKTtcbiAgICAgIH0gLy8gSW1hZ2VPbmx5IGNhbXBhaWduIGFuZCBJbnRlcnN0aXRpYWwvRXhpdCBJbnRlbnQgc2hvdWxkbid0IGNvZXhpc3RcblxuXG4gICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludGVudFByZXZpZXcnKSAhPSBudWxsIHx8IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3enJrSW1hZ2VPbmx5RGl2JykgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIGRvbnQgc2hvdyBleGl0IGludGVudCBvbiB0YWJsZXQvbW9iaWxlIC0gb25seSBvbiBkZXNrdG9wXG5cblxuICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5sYXlvdXQgPT0gbnVsbCAmJiAoL21vYmlsZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgL21pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpIHx8IC9pUGFkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSB8fCAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgfHwgL3RhYmxldC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGRvQ2FtcEhvdXNlS2VlcGluZyh0YXJnZXRpbmdNc2dKc29uKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjYW1wYWlnbklkID0gdGFyZ2V0aW5nTXNnSnNvbi53enJrX2lkLnNwbGl0KCdfJylbMF07XG4gICAgICAkY3QuY2FtcGFpZ25EaXZNYXBbY2FtcGFpZ25JZF0gPSAnaW50ZW50UHJldmlldyc7XG4gICAgICBsZXQgbGVnYWN5ID0gZmFsc2U7XG4gICAgICBjb25zdCBvcGFjaXR5RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBvcGFjaXR5RGl2LmlkID0gJ2ludGVudE9wYWNpdHlEaXYnO1xuICAgICAgY29uc3Qgb3BhY2l0eSA9IHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS5vcGFjaXR5IHx8IDAuNztcbiAgICAgIGNvbnN0IHJnYmFDb2xvciA9IFwicmdiYSgwLDAsMCxcIi5jb25jYXQob3BhY2l0eSwgXCIpXCIpO1xuICAgICAgb3BhY2l0eURpdi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgXCJwb3NpdGlvbjogZml4ZWQ7dG9wOiAwO2JvdHRvbTogMDtsZWZ0OiAwO3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTt6LWluZGV4OiAyMTQ3NDgzNjQ2O2JhY2tncm91bmQ6IFwiLmNvbmNhdChyZ2JhQ29sb3IsIFwiO1wiKSk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG9wYWNpdHlEaXYpO1xuICAgICAgY29uc3QgbXNnRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBtc2dEaXYuaWQgPSAnaW50ZW50UHJldmlldyc7XG5cbiAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkucHJvdG8gPT0gbnVsbCkge1xuICAgICAgICBsZWdhY3kgPSB0cnVlO1xuICAgICAgICBtc2dEaXYuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5OmJsb2NrO292ZXJmbG93OmhpZGRlbjt0b3A6NTUlICFpbXBvcnRhbnQ7bGVmdDo1MCUgIWltcG9ydGFudDtwb3NpdGlvbjpmaXhlZDt6LWluZGV4OjIxNDc0ODM2NDc7d2lkdGg6NjAwcHggIWltcG9ydGFudDtoZWlnaHQ6NjAwcHggIWltcG9ydGFudDttYXJnaW46LTMwMHB4IDAgMCAtMzAwcHggIWltcG9ydGFudDsnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1zZ0Rpdi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LmlGcmFtZVN0eWxlKTtcbiAgICAgIH1cblxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtc2dEaXYpO1xuICAgICAgY29uc3QgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgICBjb25zdCBib3JkZXJSYWRpdXMgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkuYnIgPT09IGZhbHNlID8gJzAnIDogJzgnO1xuICAgICAgaWZyYW1lLmZyYW1lYm9yZGVyID0gJzBweCc7XG4gICAgICBpZnJhbWUubWFyZ2luaGVpZ2h0ID0gJzBweCc7XG4gICAgICBpZnJhbWUubWFyZ2lud2lkdGggPSAnMHB4JztcbiAgICAgIGlmcmFtZS5zY3JvbGxpbmcgPSAnbm8nO1xuICAgICAgaWZyYW1lLmlkID0gJ3dpei1pZnJhbWUtaW50ZW50JztcbiAgICAgIGNvbnN0IG9uQ2xpY2sgPSB0YXJnZXRpbmdNc2dKc29uLmRpc3BsYXkub25DbGljaztcbiAgICAgIGxldCBwb2ludGVyQ3NzID0gJyc7XG5cbiAgICAgIGlmIChvbkNsaWNrICE9PSAnJyAmJiBvbkNsaWNrICE9IG51bGwpIHtcbiAgICAgICAgcG9pbnRlckNzcyA9ICdjdXJzb3I6cG9pbnRlcjsnO1xuICAgICAgfVxuXG4gICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5LnByZXZpZXcgJiYgdGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5WydjdXN0b20tZWRpdG9yJ10pIHtcbiAgICAgICAgaWZyYW1lLnNhbmRib3ggPSAnYWxsb3ctc2NyaXB0cyBhbGxvdy1wb3B1cHMgYWxsb3ctcG9wdXBzLXRvLWVzY2FwZS1zYW5kYm94JztcbiAgICAgIH1cblxuICAgICAgbGV0IGh0bWw7IC8vIGRpcmVjdCBodG1sXG5cbiAgICAgIGlmICh0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQudHlwZSA9PT0gMSkge1xuICAgICAgICBodG1sID0gdGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50Lmh0bWw7XG4gICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoLyMjY2FtcGFpZ25JZCMjL2csIGNhbXBhaWduSWQpO1xuICAgICAgICBodG1sID0gaHRtbC5yZXBsYWNlKC8jI2NhbXBhaWduSWRfYmF0Y2hJZCMjL2csIHRhcmdldGluZ01zZ0pzb24ud3pya19pZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjc3MgPSAnJyArICc8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+JyArICdib2R5e21hcmdpbjowO3BhZGRpbmc6MDt9JyArICcjY29udGVudERpdi53enJre292ZXJmbG93OmhpZGRlbjtwYWRkaW5nOjAgMCAyMHB4IDA7dGV4dC1hbGlnbjpjZW50ZXI7JyArIHBvaW50ZXJDc3MgKyAnfScgKyAnI2NvbnRlbnREaXYud3pyayB0ZHtwYWRkaW5nOjE1cHggMTBweDt9JyArICcud3pya1BQdGl0bGV7Zm9udC13ZWlnaHQ6IGJvbGQ7Zm9udC1zaXplOiAyNHB4O2ZvbnQtZmFtaWx5OmFyaWFsO3dvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7cGFkZGluZy10b3A6MjBweDt9JyArICcud3pya1BQZHNjcntmb250LXNpemU6IDE0cHg7Zm9udC1mYW1pbHk6YXJpYWw7bGluZS1oZWlnaHQ6MTZweDt3b3JkLWJyZWFrOiBicmVhay13b3JkO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3BhZGRpbmc6MjBweCAyMHB4IDAgMjBweDtsaW5lLWhlaWdodDoyMHB4O30nICsgJy5QTDE1e3BhZGRpbmctbGVmdDoxNXB4O30nICsgJy53enJrUFB3YXJwe21hcmdpbjoyMHB4IDIwcHggMCA1cHg7cGFkZGluZzowcHg7Ym9yZGVyLXJhZGl1czogJyArIGJvcmRlclJhZGl1cyArICdweDtib3gtc2hhZG93OiAxcHggMXB4IDVweCAjODg4ODg4O30nICsgJ2Eud3pya0Nsb3Nle2N1cnNvcjpwb2ludGVyO3Bvc2l0aW9uOiBhYnNvbHV0ZTt0b3A6IDExcHg7cmlnaHQ6IDExcHg7ei1pbmRleDogMjE0NzQ4MzY0Nztmb250LXNpemU6MTlweDtmb250LWZhbWlseTphcmlhbDtmb250LXdlaWdodDpib2xkO3RleHQtZGVjb3JhdGlvbjogbm9uZTt3aWR0aDogMjVweDsvKmhlaWdodDogMjVweDsqL3RleHQtYWxpZ246IGNlbnRlcjsgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lOyBsaW5lLWhlaWdodDogMjVweDsnICsgJ2JhY2tncm91bmQ6ICMzNTM1MzU7Ym9yZGVyOiAjZmZmIDJweCBzb2xpZDtib3JkZXItcmFkaXVzOiAxMDAlO2JveC1zaGFkb3c6ICM3NzcgMnB4IDJweCAycHg7Y29sb3I6I2ZmZjt9JyArICdhOmhvdmVyLnd6cmtDbG9zZXtiYWNrZ3JvdW5kLWNvbG9yOiNkMTkxNGEgIWltcG9ydGFudDtjb2xvcjojZmZmICFpbXBvcnRhbnQ7IC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTt9JyArICcjY29udGVudERpdiAuYnV0dG9ue3BhZGRpbmctdG9wOjIwcHg7fScgKyAnI2NvbnRlbnREaXYgLmJ1dHRvbiBhe2ZvbnQtc2l6ZTogMTRweDtmb250LXdlaWdodDpib2xkO2ZvbnQtZmFtaWx5OmFyaWFsO3RleHQtYWxpZ246Y2VudGVyO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3RleHQtZGVjb3JhdGlvbjpub25lO3BhZGRpbmc6MCAzMHB4O2hlaWdodDo0MHB4O2xpbmUtaGVpZ2h0OjQwcHg7YmFja2dyb3VuZDojZWE2OTNiO2NvbG9yOiNmZmY7Ym9yZGVyLXJhZGl1czo0cHg7LXdlYmtpdC1ib3JkZXItcmFkaXVzOjRweDstbW96LWJvcmRlci1yYWRpdXM6NHB4O30nICsgJzwvc3R5bGU+JztcbiAgICAgICAgbGV0IGJnQ29sb3IsIHRleHRDb2xvciwgYnRuQmcsIGJ0Q29sb3I7XG5cbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24uZGlzcGxheS50aGVtZSA9PT0gJ2RhcmsnKSB7XG4gICAgICAgICAgYmdDb2xvciA9ICcjMmQyZDJlJztcbiAgICAgICAgICB0ZXh0Q29sb3IgPSAnI2VhZWFlYSc7XG4gICAgICAgICAgYnRuQmcgPSAnIzM1MzUzNSc7XG4gICAgICAgICAgYnRDb2xvciA9ICcjZmZmZmZmJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBiZ0NvbG9yID0gJyNmZmZmZmYnO1xuICAgICAgICAgIHRleHRDb2xvciA9ICcjMDAwMDAwJztcbiAgICAgICAgICBidG5CZyA9ICcjYTVhNmE2JztcbiAgICAgICAgICBidENvbG9yID0gJyNmZmZmZmYnO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGl0bGVUZXh0ID0gdGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50LnRpdGxlO1xuICAgICAgICBjb25zdCBkZXNjcmlwdGlvblRleHQgPSB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQuZGVzY3JpcHRpb247XG4gICAgICAgIGxldCBjdGFUZXh0ID0gJyc7XG5cbiAgICAgICAgaWYgKHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5jdGFUZXh0ICE9IG51bGwgJiYgdGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50LmN0YVRleHQgIT09ICcnKSB7XG4gICAgICAgICAgY3RhVGV4dCA9IFwiPGRpdiBjbGFzcz0nYnV0dG9uJz48YSBocmVmPScjJz5cIiArIHRhcmdldGluZ01zZ0pzb24ubXNnQ29udGVudC5jdGFUZXh0ICsgJzwvYT48L2Rpdj4nO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGltYWdlVGQgPSAnJztcblxuICAgICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50LmltYWdlVXJsICE9IG51bGwgJiYgdGFyZ2V0aW5nTXNnSnNvbi5tc2dDb250ZW50LmltYWdlVXJsICE9PSAnJykge1xuICAgICAgICAgIGltYWdlVGQgPSBcIjxkaXYgc3R5bGU9J3BhZGRpbmctdG9wOjIwcHg7Jz48aW1nIHNyYz0nXCIgKyB0YXJnZXRpbmdNc2dKc29uLm1zZ0NvbnRlbnQuaW1hZ2VVcmwgKyBcIicgd2lkdGg9JzUwMCcgYWx0PVwiICsgdGl0bGVUZXh0ICsgJyAvPjwvZGl2Pic7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvbkNsaWNrU3RyID0gJ3BhcmVudC4kV1pSS19XUi5jbG9zZUlmcmFtZSgnICsgY2FtcGFpZ25JZCArIFwiLCdpbnRlbnRQcmV2aWV3Jyk7XCI7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gXCI8ZGl2IGNsYXNzPSd3enJrUFB3YXJwJyBzdHlsZT0nY29sb3I6XCIgKyB0ZXh0Q29sb3IgKyAnO2JhY2tncm91bmQtY29sb3I6JyArIGJnQ29sb3IgKyBcIjsnPlwiICsgXCI8YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7JyBvbmNsaWNrPVwiICsgb25DbGlja1N0ciArIFwiIGNsYXNzPSd3enJrQ2xvc2UnIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOlwiICsgYnRuQmcgKyAnO2NvbG9yOicgKyBidENvbG9yICsgXCInPiZ0aW1lczs8L2E+XCIgKyBcIjxkaXYgaWQ9J2NvbnRlbnREaXYnIGNsYXNzPSd3enJrJz5cIiArIFwiPGRpdiBjbGFzcz0nd3pya1BQdGl0bGUnIHN0eWxlPSdjb2xvcjpcIiArIHRleHRDb2xvciArIFwiJz5cIiArIHRpdGxlVGV4dCArICc8L2Rpdj4nO1xuICAgICAgICBjb25zdCBib2R5ID0gXCI8ZGl2IGNsYXNzPSd3enJrUFBkc2NyJyBzdHlsZT0nY29sb3I6XCIgKyB0ZXh0Q29sb3IgKyBcIic+XCIgKyBkZXNjcmlwdGlvblRleHQgKyAnPC9kaXY+JyArIGltYWdlVGQgKyBjdGFUZXh0ICsgJzwvZGl2PjwvZGl2Pic7XG4gICAgICAgIGh0bWwgPSBjc3MgKyB0aXRsZSArIGJvZHk7XG4gICAgICB9XG5cbiAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ3otaW5kZXg6IDIxNDc0ODM2NDc7IGRpc3BsYXk6YmxvY2s7IGhlaWdodDogMTAwJSAhaW1wb3J0YW50OyB3aWR0aDogMTAwJSAhaW1wb3J0YW50O21pbi1oZWlnaHQ6ODBweCAhaW1wb3J0YW50O2JvcmRlcjowcHggIWltcG9ydGFudDsgYm9yZGVyLWNvbG9yOm5vbmUgIWltcG9ydGFudDsnKTtcbiAgICAgIG1zZ0Rpdi5hcHBlbmRDaGlsZChpZnJhbWUpOyAvLyBEaXNwYXRjaCBldmVudCBmb3IgaW50ZXJzdGl0aWFsL2V4aXQgaW50ZW50IGNsb3NlXG5cbiAgICAgIGNvbnN0IGNsb3NlQ2FtcGFpZ24gPSBuZXcgRXZlbnQoJ0NUX2NhbXBhaWduX3JlbmRlcmVkJyk7XG4gICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGNsb3NlQ2FtcGFpZ24pO1xuXG4gICAgICBpZiAodGFyZ2V0aW5nTXNnSnNvbi5kaXNwbGF5WydjdXN0b20tZWRpdG9yJ10pIHtcbiAgICAgICAgaHRtbCA9IGFwcGVuZFNjcmlwdEZvckN1c3RvbUV2ZW50KHRhcmdldGluZ01zZ0pzb24sIGh0bWwpO1xuICAgICAgfVxuXG4gICAgICBpZnJhbWUuc3JjZG9jID0gaHRtbDtcblxuICAgICAgaWZyYW1lLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgY29udGVudERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aXotaWZyYW1lLWludGVudCcpLmNvbnRlbnREb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudERpdicpO1xuICAgICAgICBzZXR1cENsaWNrVXJsKG9uQ2xpY2ssIHRhcmdldGluZ01zZ0pzb24sIGNvbnRlbnREaXYsICdpbnRlbnRQcmV2aWV3JywgbGVnYWN5KTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGlmICghZG9jdW1lbnQuYm9keSkge1xuICAgICAgaWYgKF93aXpDb3VudGVyIDwgNikge1xuICAgICAgICBfd2l6Q291bnRlcisrO1xuICAgICAgICBzZXRUaW1lb3V0KF90ciwgMTAwMCwgbXNnLCB7XG4gICAgICAgICAgZGV2aWNlOiBfZGV2aWNlLFxuICAgICAgICAgIHNlc3Npb246IF9zZXNzaW9uLFxuICAgICAgICAgIHJlcXVlc3Q6IF9yZXF1ZXN0LFxuICAgICAgICAgIGxvZ2dlcjogX2xvZ2dlclxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHByb2Nlc3NOYXRpdmVEaXNwbGF5QXJyID0gYXJySW5BcHBOb3RpZnMgPT4ge1xuICAgICAgT2JqZWN0LmtleXMoYXJySW5BcHBOb3RpZnMpLm1hcChrZXkgPT4ge1xuICAgICAgICB2YXIgZWxlbWVudElkLCBpZDtcblxuICAgICAgICBpZiAoYXJySW5BcHBOb3RpZnNba2V5XS5kaXNwbGF5LmRpdklkKSB7XG4gICAgICAgICAgZWxlbWVudElkID0gYXJySW5BcHBOb3RpZnNba2V5XS5kaXNwbGF5LmRpdklkO1xuICAgICAgICAgIGlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50SWQgPSBhcnJJbkFwcE5vdGlmc1trZXldLmRpc3BsYXkuZGl2U2VsZWN0b3I7XG4gICAgICAgICAgaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnRJZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaWQgIT09IG51bGwpIHtcbiAgICAgICAgICBhcnJJbkFwcE5vdGlmc1trZXldLm1zZ0NvbnRlbnQudHlwZSA9PT0gMiA/IHJlbmRlclBlcnNvbmFsaXNhdGlvbkJhbm5lcihhcnJJbkFwcE5vdGlmc1trZXldKSA6IHJlbmRlclBlcnNvbmFsaXNhdGlvbkNhcm91c2VsKGFyckluQXBwTm90aWZzW2tleV0pO1xuICAgICAgICAgIGRlbGV0ZSBhcnJJbkFwcE5vdGlmc1trZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgYWRkTG9hZExpc3RlbmVyID0gYXJySW5BcHBOb3RpZnMgPT4ge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG5cbiAgICAgICAgaWYgKGNvdW50IDwgMjApIHtcbiAgICAgICAgICBjb25zdCB0ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgcHJvY2Vzc05hdGl2ZURpc3BsYXlBcnIoYXJySW5BcHBOb3RpZnMpO1xuXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoYXJySW5BcHBOb3RpZnMpLmxlbmd0aCA9PT0gMCB8fCBjb3VudCA9PT0gMjApIHtcbiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0KTtcbiAgICAgICAgICAgICAgYXJySW5BcHBOb3RpZnMgPSB7fTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgaWYgKG1zZy5pbmFwcF9ub3RpZnMgIT0gbnVsbCkge1xuICAgICAgY29uc3QgYXJySW5BcHBOb3RpZnMgPSB7fTtcblxuICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG1zZy5pbmFwcF9ub3RpZnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldE5vdGlmID0gbXNnLmluYXBwX25vdGlmc1tpbmRleF07XG5cbiAgICAgICAgaWYgKHRhcmdldE5vdGlmLmRpc3BsYXkud3RhcmdldF90eXBlID09IG51bGwgfHwgdGFyZ2V0Tm90aWYuZGlzcGxheS53dGFyZ2V0X3R5cGUgPT09IDApIHtcbiAgICAgICAgICBzaG93Rm9vdGVyTm90aWZpY2F0aW9uKHRhcmdldE5vdGlmKTtcbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXROb3RpZi5kaXNwbGF5Lnd0YXJnZXRfdHlwZSA9PT0gMSkge1xuICAgICAgICAgIC8vIGlmIGRpc3BsYXlbJ3d0YXJnZXRfdHlwZSddPT0xIHRoZW4gZXhpdCBpbnRlbnRcbiAgICAgICAgICBleGl0aW50ZW50T2JqID0gdGFyZ2V0Tm90aWY7XG4gICAgICAgICAgd2luZG93LmRvY3VtZW50LmJvZHkub25tb3VzZWxlYXZlID0gc2hvd0V4aXRJbnRlbnQ7XG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0Tm90aWYuZGlzcGxheS53dGFyZ2V0X3R5cGUgPT09IDIpIHtcbiAgICAgICAgICAvLyBpZiBkaXNwbGF5Wyd3dGFyZ2V0X3R5cGUnXT09MiB0aGVuIHdlYiBuYXRpdmUgZGlzcGxheVxuICAgICAgICAgIGlmICh0YXJnZXROb3RpZi5tc2dDb250ZW50LnR5cGUgPT09IDIgfHwgdGFyZ2V0Tm90aWYubXNnQ29udGVudC50eXBlID09PSAzKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgYmFubmVyIGFuZCBjYXJvdXNlbFxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRhcmdldE5vdGlmLmRpc3BsYXkuZGl2SWQgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXROb3RpZi5kaXNwbGF5LmRpdklkKSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0Tm90aWYuZGlzcGxheS5kaXZTZWxlY3Rvcik7XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHRhcmdldE5vdGlmLm1zZ0NvbnRlbnQudHlwZSA9PT0gMiA/IHJlbmRlclBlcnNvbmFsaXNhdGlvbkJhbm5lcih0YXJnZXROb3RpZikgOiByZW5kZXJQZXJzb25hbGlzYXRpb25DYXJvdXNlbCh0YXJnZXROb3RpZik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhcnJJbkFwcE5vdGlmc1t0YXJnZXROb3RpZi53enJrX2lkLnNwbGl0KCdfJylbMF1dID0gdGFyZ2V0Tm90aWY7IC8vIEFkZCB0YXJnZXROb3RpZiB0byBvYmplY3RcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldE5vdGlmLm1zZ0NvbnRlbnQudHlwZSA9PT0gNCkge1xuICAgICAgICAgICAgcmVuZGVyVmlzdWFsQnVpbGRlcih0YXJnZXROb3RpZiwgZmFsc2UpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzaG93Rm9vdGVyTm90aWZpY2F0aW9uKHRhcmdldE5vdGlmKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gLy8gUHJvY2VzcyBiYW5uZXIgb3IgY2Fyb3VzZWwgY2FtcGFpZ24gYXJyYXlcblxuXG4gICAgICBpZiAoT2JqZWN0LmtleXMoYXJySW5BcHBOb3RpZnMpLmxlbmd0aCkge1xuICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgIHByb2Nlc3NOYXRpdmVEaXNwbGF5QXJyKGFyckluQXBwTm90aWZzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZGRMb2FkTGlzdGVuZXIoYXJySW5BcHBOb3RpZnMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgbWVyZ2VFdmVudE1hcCA9IG5ld0V2dE1hcCA9PiB7XG4gICAgICBpZiAoJGN0Lmdsb2JhbEV2ZW50c01hcCA9PSBudWxsKSB7XG4gICAgICAgICRjdC5nbG9iYWxFdmVudHNNYXAgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoRVZfQ09PS0lFKTtcblxuICAgICAgICBpZiAoJGN0Lmdsb2JhbEV2ZW50c01hcCA9PSBudWxsKSB7XG4gICAgICAgICAgJGN0Lmdsb2JhbEV2ZW50c01hcCA9IG5ld0V2dE1hcDtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmV3RXZ0TWFwKSB7XG4gICAgICAgIGlmIChuZXdFdnRNYXAuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGNvbnN0IG9sZEV2dE9iaiA9ICRjdC5nbG9iYWxFdmVudHNNYXBba2V5XTtcbiAgICAgICAgICBjb25zdCBuZXdFdnRPYmogPSBuZXdFdnRNYXBba2V5XTtcblxuICAgICAgICAgIGlmICgkY3QuZ2xvYmFsRXZlbnRzTWFwW2tleV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKG5ld0V2dE9ialswXSAhPSBudWxsICYmIG5ld0V2dE9ialswXSA+IG9sZEV2dE9ialswXSkge1xuICAgICAgICAgICAgICAkY3QuZ2xvYmFsRXZlbnRzTWFwW2tleV0gPSBuZXdFdnRPYmo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRjdC5nbG9iYWxFdmVudHNNYXBba2V5XSA9IG5ld0V2dE9iajtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlSW5ib3hOb3RpZmljYXRpb25zID0gKCkgPT4ge1xuICAgICAgaWYgKG1zZy5pbmJveF9wcmV2aWV3KSB7XG4gICAgICAgIHByb2Nlc3NJbmJveE5vdGlmcyhtc2cpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChtc2cuaW5ib3hfbm90aWZzKSB7XG4gICAgICAgIGNvbnN0IG1zZ0FyciA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBtc2cuaW5ib3hfbm90aWZzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgIGlmIChkb0NhbXBIb3VzZUtlZXBpbmcobXNnLmluYm94X25vdGlmc1tpbmRleF0pICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgbXNnQXJyLnB1c2gobXNnLmluYm94X25vdGlmc1tpbmRleF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb2Nlc3NJbmJveE5vdGlmcyhtc2dBcnIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAobXNnLndlYkluYm94U2V0dGluZyB8fCBtc2cuaW5ib3hfbm90aWZzICE9IG51bGwpIHtcbiAgICAgIC8qKlxuICAgICAgICogV2hlbiB0aGUgdXNlciB2aXNpdHMgYSB3ZWJzaXRlIGZvciB0aGUgMXN0IHRpbWUgYWZ0ZXIgd2ViIGluYm94IGNoYW5uZWwgaXMgc2V0dXAsXG4gICAgICAgKiB3ZSBuZWVkIHRvIGluaXRpYWxpc2UgdGhlIGluYm94IGhlcmUgYmVjYXVzZSB0aGUgaW5pdGlhbGl6ZVdlYkluYm94IG1ldGhvZCB3aXRoaW4gaW5pdCB3aWxsIG5vdCBiZSBleGVjdXRlZFxuICAgICAgICogYXMgd2Ugd291bGQgbm90IGhhdmUgYW55IGVudHJ5IHJlbGF0ZWQgdG8gd2ViSW5ib3hTZXR0aW5ncyBpbiB0aGUgTFNcbiAgICAgICAqL1xuICAgICAgaWYgKGhhc1dlYkluYm94U2V0dGluZ3NJbkxTKCkpIHtcbiAgICAgICAgY2hlY2tBbmRSZWdpc3RlcldlYkluYm94RWxlbWVudHMoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCRjdC5pbmJveCA9PT0gbnVsbCkge1xuICAgICAgICBtc2cud2ViSW5ib3hTZXR0aW5nICYmIHByb2Nlc3NXZWJJbmJveFNldHRpbmdzKG1zZy53ZWJJbmJveFNldHRpbmcpO1xuICAgICAgICBpbml0aWFsaXplV2ViSW5ib3goX2xvZ2dlcikudGhlbigoKSA9PiB7XG4gICAgICAgICAgaGFuZGxlSW5ib3hOb3RpZmljYXRpb25zKCk7XG4gICAgICAgIH0pLmNhdGNoKGUgPT4ge30pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGFuZGxlSW5ib3hOb3RpZmljYXRpb25zKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1zZy52YXJzKSB7XG4gICAgICAkY3QudmFyaWFibGVTdG9yZS5tZXJnZVZhcmlhYmxlcyhtc2cudmFycyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhbGVEYXRhVXBkYXRlID0gKHN0YWxlZGF0YSwgY2FtcFR5cGUpID0+IHtcbiAgICAgIGNvbnN0IGNhbXBPYmogPSBnZXRDYW1wYWlnbk9iamVjdCgpO1xuICAgICAgY29uc3QgZ2xvYmFsT2JqID0gY2FtcE9ialtjYW1wVHlwZV0uZ2xvYmFsO1xuXG4gICAgICBpZiAoZ2xvYmFsT2JqICE9IG51bGwgJiYgY2FtcFR5cGUpIHtcbiAgICAgICAgZm9yIChjb25zdCBpZHggaW4gc3RhbGVkYXRhKSB7XG4gICAgICAgICAgaWYgKHN0YWxlZGF0YS5oYXNPd25Qcm9wZXJ0eShpZHgpKSB7XG4gICAgICAgICAgICBkZWxldGUgZ2xvYmFsT2JqW3N0YWxlZGF0YVtpZHhdXTtcblxuICAgICAgICAgICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLnJlYWQoQ0FNUF9DT09LSUVfRykpIHtcbiAgICAgICAgICAgICAgY29uc3QgZ3VpZENhbXBPYmogPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChTdG9yYWdlTWFuYWdlci5yZWFkKENBTVBfQ09PS0lFX0cpKSk7XG4gICAgICAgICAgICAgIGNvbnN0IGd1aWQgPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChTdG9yYWdlTWFuYWdlci5yZWFkKEdDT09LSUVfTkFNRSkpKTtcblxuICAgICAgICAgICAgICBpZiAoZ3VpZENhbXBPYmpbZ3VpZF0gJiYgZ3VpZENhbXBPYmpbZ3VpZF1bY2FtcFR5cGVdICYmIGd1aWRDYW1wT2JqW2d1aWRdW2NhbXBUeXBlXVtzdGFsZWRhdGFbaWR4XV0pIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgZ3VpZENhbXBPYmpbZ3VpZF1bY2FtcFR5cGVdW3N0YWxlZGF0YVtpZHhdXTtcbiAgICAgICAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlKENBTVBfQ09PS0lFX0csIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShndWlkQ2FtcE9iaikpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzYXZlQ2FtcGFpZ25PYmplY3QoY2FtcE9iaik7XG4gICAgfTtcblxuICAgIGlmIChTdG9yYWdlTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQoKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKG1zZy5ldnByICE9IG51bGwpIHtcbiAgICAgICAgICBjb25zdCBldmVudHNNYXAgPSBtc2cuZXZwci5ldmVudHM7XG4gICAgICAgICAgY29uc3QgcHJvZmlsZU1hcCA9IG1zZy5ldnByLnByb2ZpbGU7XG4gICAgICAgICAgY29uc3Qgc3luY0V4cGlyeSA9IG1zZy5ldnByLmV4cGlyZXNfaW47XG4gICAgICAgICAgY29uc3Qgbm93ID0gZ2V0Tm93KCk7XG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2V0TWV0YVByb3AoJ2xzVGltZScsIG5vdyk7XG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2V0TWV0YVByb3AoJ2V4VHMnLCBzeW5jRXhwaXJ5KTtcbiAgICAgICAgICBtZXJnZUV2ZW50TWFwKGV2ZW50c01hcCk7XG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShFVl9DT09LSUUsICRjdC5nbG9iYWxFdmVudHNNYXApO1xuXG4gICAgICAgICAgaWYgKCRjdC5nbG9iYWxQcm9maWxlTWFwID09IG51bGwpIHtcbiAgICAgICAgICAgIGFkZFRvTG9jYWxQcm9maWxlTWFwKHByb2ZpbGVNYXAsIHRydWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhZGRUb0xvY2FsUHJvZmlsZU1hcChwcm9maWxlTWFwLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1zZy5hcnAgIT0gbnVsbCkge1xuICAgICAgICAgIGFycChtc2cuYXJwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtc2cuaW5hcHBfc3RhbGUgIT0gbnVsbCAmJiBtc2cuaW5hcHBfc3RhbGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgIC8vIHdlYiBwb3B1cCBzdGFsZVxuICAgICAgICAgIHN0YWxlRGF0YVVwZGF0ZShtc2cuaW5hcHBfc3RhbGUsICd3cCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1zZy5pbmJveF9zdGFsZSAhPSBudWxsICYmIG1zZy5pbmJveF9zdGFsZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgLy8gd2ViIGluYm94IHN0YWxlXG4gICAgICAgICAgc3RhbGVEYXRhVXBkYXRlKG1zZy5pbmJveF9zdGFsZSwgJ3dpJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgX2xvZ2dlci5lcnJvcignVW5hYmxlIHRvIHBlcnNpc3QgZXZycC9hcnA6ICcgKyBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQyID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZVwiKTtcblxuICBjbGFzcyBVc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihfcmVmKSB7XG4gICAgICBsZXQge1xuICAgICAgICBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZVxuICAgICAgfSA9IF9yZWY7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDIsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQyKVtfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMl0gPSBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZTtcbiAgICB9XG5cbiAgICBnZXRUb3RhbFZpc2l0cygpIHtcbiAgICAgIGlmICghX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQyKVtfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMl0oKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCB2aXNpdENvdW50ID0gU3RvcmFnZU1hbmFnZXIuZ2V0TWV0YVByb3AoJ3NjJyk7XG5cbiAgICAgIGlmICh2aXNpdENvdW50ID09IG51bGwpIHtcbiAgICAgICAgdmlzaXRDb3VudCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2aXNpdENvdW50O1xuICAgIH1cblxuICAgIGdldExhc3RWaXNpdCgpIHtcbiAgICAgIGlmICghX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQyKVtfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMl0oKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHByZXZTZXNzaW9uID0gU3RvcmFnZU1hbmFnZXIuZ2V0TWV0YVByb3AoJ3BzJyk7XG5cbiAgICAgIGlmIChwcmV2U2Vzc2lvbiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShwcmV2U2Vzc2lvbiAqIDEwMDApO1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgY29uc3QgbG9nTGV2ZWxzID0ge1xuICAgIERJU0FCTEU6IDAsXG4gICAgRVJST1I6IDEsXG4gICAgSU5GTzogMixcbiAgICBERUJVRzogMyxcbiAgICBERUJVR19QRTogNFxuICB9O1xuXG4gIHZhciBfbG9nTGV2ZWwgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImxvZ0xldmVsXCIpO1xuXG4gIHZhciBfbG9nID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJsb2dcIik7XG5cbiAgdmFyIF9pc0xlZ2FjeURlYnVnID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJpc0xlZ2FjeURlYnVnXCIpO1xuXG4gIGNsYXNzIExvZ2dlciB7XG4gICAgY29uc3RydWN0b3IobG9nTGV2ZWwpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfaXNMZWdhY3lEZWJ1Zywge1xuICAgICAgICBnZXQ6IF9nZXRfaXNMZWdhY3lEZWJ1ZyxcbiAgICAgICAgc2V0OiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9sb2csIHtcbiAgICAgICAgdmFsdWU6IF9sb2cyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfbG9nTGV2ZWwsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgdGhpcy53enJrRXJyb3IgPSB7fTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nTGV2ZWwpW19sb2dMZXZlbF0gPSBsb2dMZXZlbCA9PSBudWxsID8gbG9nTGV2ZWwgOiBsb2dMZXZlbHMuSU5GTztcbiAgICAgIHRoaXMud3pya0Vycm9yID0ge307XG4gICAgfVxuXG4gICAgZ2V0IGxvZ0xldmVsKCkge1xuICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nTGV2ZWwpW19sb2dMZXZlbF07XG4gICAgfVxuXG4gICAgc2V0IGxvZ0xldmVsKGxvZ0xldmVsKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ0xldmVsKVtfbG9nTGV2ZWxdID0gbG9nTGV2ZWw7XG4gICAgfVxuXG4gICAgZXJyb3IobWVzc2FnZSkge1xuICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nTGV2ZWwpW19sb2dMZXZlbF0gPj0gbG9nTGV2ZWxzLkVSUk9SKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nKVtfbG9nXSgnZXJyb3InLCBtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpbmZvKG1lc3NhZ2UpIHtcbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ0xldmVsKVtfbG9nTGV2ZWxdID49IGxvZ0xldmVscy5JTkZPKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nKVtfbG9nXSgnbG9nJywgbWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZGVidWcobWVzc2FnZSkge1xuICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nTGV2ZWwpW19sb2dMZXZlbF0gPj0gbG9nTGV2ZWxzLkRFQlVHIHx8IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaXNMZWdhY3lEZWJ1ZylbX2lzTGVnYWN5RGVidWddKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nKVtfbG9nXSgnZGVidWcnLCBtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkZWJ1Z1BFKG1lc3NhZ2UpIHtcbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ0xldmVsKVtfbG9nTGV2ZWxdID49IGxvZ0xldmVscy5ERUJVR19QRSkge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZylbX2xvZ10oJ2RlYnVnX3BlJywgbWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVwb3J0RXJyb3IoY29kZSwgZGVzY3JpcHRpb24pIHtcbiAgICAgIHRoaXMud3pya0Vycm9yLmMgPSBjb2RlO1xuICAgICAgdGhpcy53enJrRXJyb3IuZCA9IGRlc2NyaXB0aW9uO1xuICAgICAgdGhpcy5lcnJvcihcIlwiLmNvbmNhdChDTEVWRVJUQVBfRVJST1JfUFJFRklYLCBcIiBcIikuY29uY2F0KGNvZGUsIFwiOiBcIikuY29uY2F0KGRlc2NyaXB0aW9uKSk7XG4gICAgfVxuXG4gIH1cblxuICB2YXIgX2xvZzIgPSBmdW5jdGlvbiBfbG9nMihsZXZlbCwgbWVzc2FnZSkge1xuICAgIGlmICh3aW5kb3cuY29uc29sZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdHMgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgY29uc29sZVtsZXZlbF0oXCJDbGV2ZXJUYXAgW1wiLmNvbmNhdCh0cywgXCJdOiBcIikuY29uY2F0KG1lc3NhZ2UpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuICB9O1xuXG4gIHZhciBfZ2V0X2lzTGVnYWN5RGVidWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBzZXNzaW9uU3RvcmFnZSAhPT0gJ3VuZGVmaW5lZCcgJiYgc2Vzc2lvblN0b3JhZ2UuV1pSS19EID09PSAnJztcbiAgfTtcblxuICB2YXIgX2xvZ2dlciQ1ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJsb2dnZXJcIik7XG5cbiAgdmFyIF9zZXNzaW9uSWQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInNlc3Npb25JZFwiKTtcblxuICB2YXIgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImlzUGVyc29uYWxpc2F0aW9uQWN0aXZlXCIpO1xuXG4gIGNsYXNzIFNlc3Npb25NYW5hZ2VyIHtcbiAgICAvLyBTQ09PS0lFX05BTUVcbiAgICBjb25zdHJ1Y3RvcihfcmVmKSB7XG4gICAgICBsZXQge1xuICAgICAgICBsb2dnZXIsXG4gICAgICAgIGlzUGVyc29uYWxpc2F0aW9uQWN0aXZlXG4gICAgICB9ID0gX3JlZjtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfbG9nZ2VyJDUsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9zZXNzaW9uSWQsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQzLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIHRoaXMuY29va2llTmFtZSA9IHZvaWQgMDtcbiAgICAgIHRoaXMuc2Nvb2tpZU9iaiA9IHZvaWQgMDtcbiAgICAgIHRoaXMuc2Vzc2lvbklkID0gU3RvcmFnZU1hbmFnZXIuZ2V0TWV0YVByb3AoJ2NzJyk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ1KVtfbG9nZ2VyJDVdID0gbG9nZ2VyO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQzKVtfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkM10gPSBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZTtcbiAgICB9XG5cbiAgICBnZXQgc2Vzc2lvbklkKCkge1xuICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbklkKVtfc2Vzc2lvbklkXTtcbiAgICB9XG5cbiAgICBzZXQgc2Vzc2lvbklkKHNlc3Npb25JZCkge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uSWQpW19zZXNzaW9uSWRdID0gc2Vzc2lvbklkO1xuICAgIH1cblxuICAgIGdldFNlc3Npb25Db29raWVPYmplY3QoKSB7XG4gICAgICBsZXQgc2Nvb2tpZVN0ciA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRDb29raWUodGhpcy5jb29raWVOYW1lKTtcbiAgICAgIGxldCBvYmogPSB7fTtcblxuICAgICAgaWYgKHNjb29raWVTdHIgIT0gbnVsbCkge1xuICAgICAgICAvLyBjb252ZXJ0aW5nIGJhY2sgc2luZ2xlIHF1b3RlcyB0byBkb3VibGUgZm9yIEpTT04gcGFyc2luZyAtIGh0dHA6Ly93d3cuaWFuZGV2bGluLmNvbS9ibG9nLzIwMTIvMDQvaHRtbDUvY29va2llcy1qc29uLWxvY2Fsc3RvcmFnZS1hbmQtb3BlcmFcbiAgICAgICAgc2Nvb2tpZVN0ciA9IHNjb29raWVTdHIucmVwbGFjZShzaW5nbGVRdW90ZVJlZ2V4LCAnXCInKTtcbiAgICAgICAgb2JqID0gSlNPTi5wYXJzZShzY29va2llU3RyKTtcblxuICAgICAgICBpZiAoIWlzT2JqZWN0KG9iaikpIHtcbiAgICAgICAgICBvYmogPSB7fTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodHlwZW9mIG9iai50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgLy8gY2hlY2sgdGltZSBlbGFwc2VkIHNpbmNlIGxhc3QgcmVxdWVzdFxuICAgICAgICAgICAgY29uc3QgbGFzdFRpbWUgPSBvYmoudDtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IGdldE5vdygpO1xuXG4gICAgICAgICAgICBpZiAobm93IC0gbGFzdFRpbWUgPiBTQ09PS0lFX0VYUF9USU1FX0lOX1NFQ1MgKyA2MCkge1xuICAgICAgICAgICAgICAvLyBhZGRpbmcgNjAgc2Vjb25kcyB0byBjb21wZW5zYXRlIGZvciBpbi1qb3VybmV5IHJlcXVlc3RzXG4gICAgICAgICAgICAgIC8vIGlkZWFsbHkgdGhlIGNvb2tpZSBzaG91bGQndmUgZGllZCBhZnRlciBTQ09PS0lFX0VYUF9USU1FX0lOX1NFQ1MgYnV0IGl0J3Mgc3RpbGwgYXJvdW5kIGFzIHdlIGNhbiByZWFkXG4gICAgICAgICAgICAgIC8vIGhlbmNlIHdlIHNob3VsZG4ndCB1c2UgaXQuXG4gICAgICAgICAgICAgIG9iaiA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnNjb29raWVPYmogPSBvYmo7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIHNldFNlc3Npb25Db29raWVPYmplY3Qob2JqKSB7XG4gICAgICBjb25zdCBvYmpTdHIgPSBKU09OLnN0cmluZ2lmeShvYmopO1xuICAgICAgU3RvcmFnZU1hbmFnZXIuY3JlYXRlQnJvYWRDb29raWUodGhpcy5jb29raWVOYW1lLCBvYmpTdHIsIFNDT09LSUVfRVhQX1RJTUVfSU5fU0VDUywgZ2V0SG9zdE5hbWUoKSk7XG4gICAgfVxuXG4gICAgbWFuYWdlU2Vzc2lvbihzZXNzaW9uKSB7XG4gICAgICAvLyBmaXJzdCB0aW1lLiBjaGVjayBpZiBjdXJyZW50IHNlc3Npb24gaWQgaW4gbG9jYWxzdG9yYWdlIGlzIHNhbWVcbiAgICAgIC8vIGlmIG5vdCBzYW1lIHRoZW4gcHJldiA9IGN1cnJlbnQgYW5kIGN1cnJlbnQgPSB0aGlzIG5ldyBzZXNzaW9uXG4gICAgICBpZiAodHlwZW9mIHRoaXMuc2Vzc2lvbklkID09PSAndW5kZWZpbmVkJyB8fCB0aGlzLnNlc3Npb25JZCAhPT0gc2Vzc2lvbikge1xuICAgICAgICBjb25zdCBjdXJyZW50U2Vzc2lvbkluTFMgPSBTdG9yYWdlTWFuYWdlci5nZXRNZXRhUHJvcCgnY3MnKTsgLy8gaWYgc2Vzc2lvbklkIGluIG1ldGEgaXMgdW5kZWZpbmVkIC0gc2V0IGN1cnJlbnQgdG8gYm90aFxuXG4gICAgICAgIGlmICh0eXBlb2YgY3VycmVudFNlc3Npb25JbkxTID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNldE1ldGFQcm9wKCdwcycsIHNlc3Npb24pO1xuICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNldE1ldGFQcm9wKCdjcycsIHNlc3Npb24pO1xuICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNldE1ldGFQcm9wKCdzYycsIDEpO1xuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRTZXNzaW9uSW5MUyAhPT0gc2Vzc2lvbikge1xuICAgICAgICAgIC8vIG5vdCBzYW1lIGFzIHNlc3Npb24gaW4gbG9jYWwgc3RvcmFnZS4gbmV3IHNlc3Npb25cbiAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zZXRNZXRhUHJvcCgncHMnLCBjdXJyZW50U2Vzc2lvbkluTFMpO1xuICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNldE1ldGFQcm9wKCdjcycsIHNlc3Npb24pO1xuICAgICAgICAgIGxldCBzZXNzaW9uQ291bnQgPSBTdG9yYWdlTWFuYWdlci5nZXRNZXRhUHJvcCgnc2MnKTtcblxuICAgICAgICAgIGlmICh0eXBlb2Ygc2Vzc2lvbkNvdW50ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgc2Vzc2lvbkNvdW50ID0gMDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zZXRNZXRhUHJvcCgnc2MnLCBzZXNzaW9uQ291bnQgKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2Vzc2lvbklkID0gc2Vzc2lvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRUaW1lRWxhcHNlZCgpIHtcbiAgICAgIGlmICghX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQzKVtfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkM10oKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnNjb29raWVPYmogIT0gbnVsbCkge1xuICAgICAgICAvLyBUT0RPOiBjaGVjayBsb2dpYz9cbiAgICAgICAgdGhpcy5zY29va2llT2JqID0gdGhpcy5nZXRTZXNzaW9uQ29va2llT2JqZWN0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNlc3Npb25TdGFydCA9IHRoaXMuc2Nvb2tpZU9iai5zO1xuXG4gICAgICBpZiAoc2Vzc2lvblN0YXJ0ICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgdHMgPSBnZXROb3coKTtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IodHMgLSBzZXNzaW9uU3RhcnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGdldFBhZ2VDb3VudCgpIHtcbiAgICAgIGlmICghX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQzKVtfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkM10oKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnNjb29raWVPYmogIT0gbnVsbCkge1xuICAgICAgICAvLyBUT0RPOiBjaGVjayBsb2dpY1xuICAgICAgICB0aGlzLnNjb29raWVPYmogPSB0aGlzLmdldFNlc3Npb25Db29raWVPYmplY3QoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuc2Nvb2tpZU9iai5wO1xuICAgIH1cblxuICB9XG5cbiAgbGV0IHNlcU5vID0gMDtcbiAgbGV0IHJlcXVlc3RUaW1lID0gMDtcblxuICB2YXIgX2xvZ2dlciQ2ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJsb2dnZXJcIik7XG5cbiAgdmFyIF9hY2NvdW50JDIgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImFjY291bnRcIik7XG5cbiAgdmFyIF9kZXZpY2UkMiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiZGV2aWNlXCIpO1xuXG4gIHZhciBfc2Vzc2lvbiQyID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJzZXNzaW9uXCIpO1xuXG4gIHZhciBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkNCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiaXNQZXJzb25hbGlzYXRpb25BY3RpdmVcIik7XG5cbiAgdmFyIF9jbGVhckNvb2tpZSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiY2xlYXJDb29raWVcIik7XG5cbiAgdmFyIF9hZGRUb0xvY2FsRXZlbnRNYXAgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImFkZFRvTG9jYWxFdmVudE1hcFwiKTtcblxuICBjbGFzcyBSZXF1ZXN0TWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IoX3JlZikge1xuICAgICAgbGV0IHtcbiAgICAgICAgbG9nZ2VyLFxuICAgICAgICBhY2NvdW50LFxuICAgICAgICBkZXZpY2UsXG4gICAgICAgIHNlc3Npb24sXG4gICAgICAgIGlzUGVyc29uYWxpc2F0aW9uQWN0aXZlXG4gICAgICB9ID0gX3JlZjtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfYWRkVG9Mb2NhbEV2ZW50TWFwLCB7XG4gICAgICAgIHZhbHVlOiBfYWRkVG9Mb2NhbEV2ZW50TWFwMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2xvZ2dlciQ2LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfYWNjb3VudCQyLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfZGV2aWNlJDIsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9zZXNzaW9uJDIsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQ0LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfY2xlYXJDb29raWUsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICB0aGlzLnByb2Nlc3NpbmdCYWNrdXAgPSBmYWxzZTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0gPSBsb2dnZXI7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkMilbX2FjY291bnQkMl0gPSBhY2NvdW50O1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UkMilbX2RldmljZSQyXSA9IGRldmljZTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbiQyKVtfc2Vzc2lvbiQyXSA9IHNlc3Npb247XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDQpW19pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQ0XSA9IGlzUGVyc29uYWxpc2F0aW9uQWN0aXZlO1xuICAgICAgUmVxdWVzdERpc3BhdGNoZXIubG9nZ2VyID0gbG9nZ2VyO1xuICAgICAgUmVxdWVzdERpc3BhdGNoZXIuZGV2aWNlID0gZGV2aWNlO1xuICAgICAgUmVxdWVzdERpc3BhdGNoZXIuYWNjb3VudCA9IGFjY291bnQ7XG4gICAgfVxuXG4gICAgcHJvY2Vzc0JhY2t1cEV2ZW50cygpIHtcbiAgICAgIGNvbnN0IGJhY2t1cE1hcCA9IFN0b3JhZ2VNYW5hZ2VyLnJlYWRGcm9tTFNvckNvb2tpZShMQ09PS0lFX05BTUUpO1xuXG4gICAgICBpZiAodHlwZW9mIGJhY2t1cE1hcCA9PT0gJ3VuZGVmaW5lZCcgfHwgYmFja3VwTWFwID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wcm9jZXNzaW5nQmFja3VwID0gdHJ1ZTtcblxuICAgICAgZm9yIChjb25zdCBpZHggaW4gYmFja3VwTWFwKSB7XG4gICAgICAgIGlmIChiYWNrdXBNYXAuaGFzT3duUHJvcGVydHkoaWR4KSkge1xuICAgICAgICAgIGNvbnN0IGJhY2t1cEV2ZW50ID0gYmFja3VwTWFwW2lkeF07XG5cbiAgICAgICAgICBpZiAodHlwZW9mIGJhY2t1cEV2ZW50LmZpcmVkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNilbX2xvZ2dlciQ2XS5kZWJ1ZygnUHJvY2Vzc2luZyBiYWNrdXAgZXZlbnQgOiAnICsgYmFja3VwRXZlbnQucSk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgYmFja3VwRXZlbnQucSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgUmVxdWVzdERpc3BhdGNoZXIuZmlyZVJlcXVlc3QoYmFja3VwRXZlbnQucSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJhY2t1cEV2ZW50LmZpcmVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShMQ09PS0lFX05BTUUsIGJhY2t1cE1hcCk7XG4gICAgICB0aGlzLnByb2Nlc3NpbmdCYWNrdXAgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBhZGRTeXN0ZW1EYXRhVG9PYmplY3QoZGF0YU9iamVjdCwgaWdub3JlVHJpbSkge1xuICAgICAgLy8gaWdub3JlIHRyaW0gZm9yIGNocm9tZSBub3RpZmljYXRpb25zOyB1bmRlZmluZWQgZXZlcnl3aGVyZSBlbHNlXG4gICAgICBpZiAodHlwZW9mIGlnbm9yZVRyaW0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGRhdGFPYmplY3QgPSByZW1vdmVVbnN1cHBvcnRlZENoYXJzKGRhdGFPYmplY3QsIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzT2JqZWN0RW1wdHkoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNilbX2xvZ2dlciQ2XS53enJrRXJyb3IpKSB7XG4gICAgICAgIGRhdGFPYmplY3Qud3pya19lcnJvciA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0ud3pya0Vycm9yO1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ2KVtfbG9nZ2VyJDZdLnd6cmtFcnJvciA9IHt9O1xuICAgICAgfVxuXG4gICAgICBkYXRhT2JqZWN0LmlkID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDIpW19hY2NvdW50JDJdLmlkO1xuXG4gICAgICBpZiAoaXNWYWx1ZVZhbGlkKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlJDIpW19kZXZpY2UkMl0uZ2Nvb2tpZSkpIHtcbiAgICAgICAgZGF0YU9iamVjdC5nID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UkMilbX2RldmljZSQyXS5nY29va2llO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBvYmogPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMilbX3Nlc3Npb24kMl0uZ2V0U2Vzc2lvbkNvb2tpZU9iamVjdCgpO1xuXG4gICAgICBkYXRhT2JqZWN0LnMgPSBvYmouczsgLy8gc2Vzc2lvbiBjb29raWVcblxuICAgICAgZGF0YU9iamVjdC5wZyA9IHR5cGVvZiBvYmoucCA9PT0gJ3VuZGVmaW5lZCcgPyAxIDogb2JqLnA7IC8vIFBhZ2UgY291bnRcblxuICAgICAgbGV0IHByb3RvID0gZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2w7XG4gICAgICBwcm90byA9IHByb3RvLnJlcGxhY2UoJzonLCAnJyk7XG4gICAgICBkYXRhT2JqZWN0LmFmID0geyAuLi5kYXRhT2JqZWN0LmFmLFxuICAgICAgICBsaWI6ICd3ZWItc2RrLXYxLjguMicsXG4gICAgICAgIHByb3RvY29sOiBwcm90byxcbiAgICAgICAgLi4uJGN0LmZsdXR0ZXJWZXJzaW9uXG4gICAgICB9OyAvLyBhcHAgZmllbGRzXG5cbiAgICAgIGlmIChzZXNzaW9uU3RvcmFnZS5oYXNPd25Qcm9wZXJ0eSgnV1pSS19EJykpIHtcbiAgICAgICAgZGF0YU9iamVjdC5kZWJ1ZyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhT2JqZWN0O1xuICAgIH1cblxuICAgIGFkZEZsYWdzKGRhdGEpIHtcbiAgICAgIC8vIGNoZWNrIGlmIGNvb2tpZSBzaG91bGQgYmUgY2xlYXJlZC5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2xlYXJDb29raWUpW19jbGVhckNvb2tpZV0gPSBTdG9yYWdlTWFuYWdlci5nZXRBbmRDbGVhck1ldGFQcm9wKENMRUFSKTtcblxuICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2xlYXJDb29raWUpW19jbGVhckNvb2tpZV0gIT09IHVuZGVmaW5lZCAmJiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NsZWFyQ29va2llKVtfY2xlYXJDb29raWVdKSB7XG4gICAgICAgIGRhdGEucmMgPSB0cnVlO1xuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0uZGVidWcoJ3Jlc2V0IGNvb2tpZSBzZW50IGluIHJlcXVlc3QgYW5kIGNsZWFyZWQgZnJvbSBtZXRhIGZvciBmdXR1cmUgcmVxdWVzdHMuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDQpW19pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSQ0XSgpKSB7XG4gICAgICAgIGNvbnN0IGxhc3RTeW5jVGltZSA9IFN0b3JhZ2VNYW5hZ2VyLmdldE1ldGFQcm9wKCdsc1RpbWUnKTtcbiAgICAgICAgY29uc3QgZXhwaXJ5U2Vjb25kcyA9IFN0b3JhZ2VNYW5hZ2VyLmdldE1ldGFQcm9wKCdleFRzJyk7IC8vIGRzeW5jIG5vdCBmb3VuZCBpbiBsb2NhbCBzdG9yYWdlIC0gZ2V0IGRhdGEgZnJvbSBzZXJ2ZXJcblxuICAgICAgICBpZiAodHlwZW9mIGxhc3RTeW5jVGltZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIGV4cGlyeVNlY29uZHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgZGF0YS5kc3luYyA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgbm93ID0gZ2V0Tm93KCk7IC8vIGxhc3Qgc3luYyB0aW1lIGhhcyBleHBpcmVkIC0gZ2V0IGZyZXNoIGRhdGEgZnJvbSBzZXJ2ZXJcblxuICAgICAgICBpZiAobGFzdFN5bmNUaW1lICsgZXhwaXJ5U2Vjb25kcyA8IG5vdykge1xuICAgICAgICAgIGRhdGEuZHN5bmMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBzYXZlcyB1cmwgdG8gYmFja3VwIGNhY2hlIGFuZCBmaXJlcyB0aGUgcmVxdWVzdFxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvdmVycmlkZSB3aGV0aGVyIHRoZSByZXF1ZXN0IGNhbiBnbyB0aHJvdWdoIG9yIG5vdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gc2VuZE9VTEZsYWcgLSB0cnVlIGluIGNhc2Ugb2YgYSBPbiBVc2VyIExvZ2luIHJlcXVlc3RcbiAgICAgKi9cblxuXG4gICAgc2F2ZUFuZEZpcmVSZXF1ZXN0KHVybCwgb3ZlcnJpZGUsIHNlbmRPVUxGbGFnLCBldnROYW1lKSB7XG4gICAgICBjb25zdCBub3cgPSBnZXROb3coKTtcbiAgICAgIHVybCA9IGFkZFRvVVJMKHVybCwgJ3JuJywgKyskY3QuZ2xvYmFsQ2FjaGUuUkVRX04pO1xuICAgICAgY29uc3QgZGF0YSA9IHVybCArICcmaT0nICsgbm93ICsgJyZzbj0nICsgc2VxTm87XG4gICAgICBTdG9yYWdlTWFuYWdlci5iYWNrdXBFdmVudChkYXRhLCAkY3QuZ2xvYmFsQ2FjaGUuUkVRX04sIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0pOyAvLyBpZiBvZmZsaW5lIGlzIHNldCB0byB0cnVlLCBzYXZlIHRoZSByZXF1ZXN0IGluIGJhY2t1cCBhbmQgcmV0dXJuXG5cbiAgICAgIGlmICgkY3Qub2ZmbGluZSkgcmV0dXJuOyAvLyBpZiB0aGVyZSBpcyBubyBvdmVycmlkZVxuICAgICAgLy8gYW5kIGFuIE9VTCByZXF1ZXN0IGlzIG5vdCBpbiBwcm9ncmVzc1xuICAgICAgLy8gdGhlbiBwcm9jZXNzIHRoZSByZXF1ZXN0IGFzIGl0IGlzXG4gICAgICAvLyBlbHNlIGJsb2NrIHRoZSByZXF1ZXN0XG4gICAgICAvLyBub3RlIC0gJGN0LmJsb2NrUmVxdWVzdCBzaG91bGQgaWRlYWxseSBiZSB1c2VkIGZvciBvdmVycmlkZVxuXG4gICAgICBpZiAoKCFvdmVycmlkZSB8fCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2NsZWFyQ29va2llKVtfY2xlYXJDb29raWVdICE9PSB1bmRlZmluZWQgJiYgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jbGVhckNvb2tpZSlbX2NsZWFyQ29va2llXSkgJiYgIXdpbmRvdy5pc09VTEluUHJvZ3Jlc3MpIHtcbiAgICAgICAgaWYgKG5vdyA9PT0gcmVxdWVzdFRpbWUpIHtcbiAgICAgICAgICBzZXFObysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcXVlc3RUaW1lID0gbm93O1xuICAgICAgICAgIHNlcU5vID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHdpbmRvdy5vdWxSZXFOID0gJGN0Lmdsb2JhbENhY2hlLlJFUV9OO1xuICAgICAgICBSZXF1ZXN0RGlzcGF0Y2hlci5maXJlUmVxdWVzdChkYXRhLCBmYWxzZSwgc2VuZE9VTEZsYWcsIGV2dE5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNilbX2xvZ2dlciQ2XS5kZWJ1ZyhcIk5vdCBmaXJlZCBkdWUgdG8gb3ZlcnJpZGUgLSBcIi5jb25jYXQoJGN0LmJsb2NrUmVxdWVzdCwgXCIgb3IgY2xlYXJDb29raWUgLSBcIikuY29uY2F0KF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfY2xlYXJDb29raWUpW19jbGVhckNvb2tpZV0sIFwiIG9yIE9VTCByZXF1ZXN0IGluIHByb2dyZXNzIC0gXCIpLmNvbmNhdCh3aW5kb3cuaXNPVUxJblByb2dyZXNzKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdW5yZWdpc3RlclRva2VuRm9yR3VpZChnaXZlbkdVSUQpIHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoUFVTSF9TVUJTQ1JJUFRJT05fREFUQSk7IC8vIFNlbmQgdW5yZWdpc3RlciBldmVudCBvbmx5IHdoZW4gdG9rZW4gaXMgYXZhaWxhYmxlXG5cbiAgICAgIGlmIChwYXlsb2FkKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7fTtcbiAgICAgICAgZGF0YS50eXBlID0gJ2RhdGEnO1xuXG4gICAgICAgIGlmIChpc1ZhbHVlVmFsaWQoZ2l2ZW5HVUlEKSkge1xuICAgICAgICAgIGRhdGEuZyA9IGdpdmVuR1VJRDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEuYWN0aW9uID0gJ3VucmVnaXN0ZXInO1xuICAgICAgICBkYXRhLmlkID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDIpW19hY2NvdW50JDJdLmlkO1xuXG4gICAgICAgIGNvbnN0IG9iaiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbiQyKVtfc2Vzc2lvbiQyXS5nZXRTZXNzaW9uQ29va2llT2JqZWN0KCk7XG5cbiAgICAgICAgZGF0YS5zID0gb2JqLnM7IC8vIHNlc3Npb24gY29va2llXG5cbiAgICAgICAgY29uc3QgY29tcHJlc3NlZERhdGEgPSBjb21wcmVzc0RhdGEoSlNPTi5zdHJpbmdpZnkoZGF0YSksIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0pO1xuXG4gICAgICAgIGxldCBwYWdlTG9hZFVybCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQyKVtfYWNjb3VudCQyXS5kYXRhUG9zdFVSTDtcblxuICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAndHlwZScsICdkYXRhJyk7XG4gICAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICdkJywgY29tcHJlc3NlZERhdGEpO1xuICAgICAgICBSZXF1ZXN0RGlzcGF0Y2hlci5maXJlUmVxdWVzdChwYWdlTG9hZFVybCwgdHJ1ZSk7XG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmVUb0xTb3JDb29raWUoRklSRV9QVVNIX1VOUkVHSVNURVJFRCwgZmFsc2UpO1xuICAgICAgfSAvLyBSRUdJU1RFUiBUT0tFTlxuXG5cbiAgICAgIHRoaXMucmVnaXN0ZXJUb2tlbihwYXlsb2FkKTtcbiAgICB9XG5cbiAgICByZWdpc3RlclRva2VuKHBheWxvYWQpIHtcbiAgICAgIGlmICghcGF5bG9hZCkgcmV0dXJuOyAvLyBhZGQgZ2Nvb2tpZSBldGMgdG8gdGhlIHBheWxvYWRcblxuICAgICAgcGF5bG9hZCA9IHRoaXMuYWRkU3lzdGVtRGF0YVRvT2JqZWN0KHBheWxvYWQsIHRydWUpO1xuICAgICAgcGF5bG9hZCA9IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpO1xuXG4gICAgICBsZXQgcGFnZUxvYWRVcmwgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkMilbX2FjY291bnQkMl0uZGF0YVBvc3RVUkw7XG5cbiAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICd0eXBlJywgJ2RhdGEnKTtcbiAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICdkJywgY29tcHJlc3NEYXRhKHBheWxvYWQsIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0pKTtcbiAgICAgIFJlcXVlc3REaXNwYXRjaGVyLmZpcmVSZXF1ZXN0KHBhZ2VMb2FkVXJsKTsgLy8gc2V0IGluIGxvY2Fsc3RvcmFnZVxuXG4gICAgICBTdG9yYWdlTWFuYWdlci5zYXZlKFdFQlBVU0hfTFNfS0VZLCAnb2snKTtcbiAgICB9XG5cbiAgICBwcm9jZXNzRXZlbnQoZGF0YSkge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hZGRUb0xvY2FsRXZlbnRNYXApW19hZGRUb0xvY2FsRXZlbnRNYXBdKGRhdGEuZXZ0TmFtZSk7XG5cbiAgICAgIGRhdGEgPSB0aGlzLmFkZFN5c3RlbURhdGFUb09iamVjdChkYXRhLCB1bmRlZmluZWQpO1xuICAgICAgdGhpcy5hZGRGbGFncyhkYXRhKTtcbiAgICAgIGRhdGFbQ0FNUF9DT09LSUVfTkFNRV0gPSBnZXRDYW1wYWlnbk9iakZvckxjKCk7XG4gICAgICBjb25zdCBjb21wcmVzc2VkRGF0YSA9IGNvbXByZXNzRGF0YShKU09OLnN0cmluZ2lmeShkYXRhKSwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNilbX2xvZ2dlciQ2XSk7XG5cbiAgICAgIGxldCBwYWdlTG9hZFVybCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQyKVtfYWNjb3VudCQyXS5kYXRhUG9zdFVSTDtcblxuICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ3R5cGUnLCBFVlRfUFVTSCk7XG4gICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAnZCcsIGNvbXByZXNzZWREYXRhKTtcbiAgICAgIHRoaXMuc2F2ZUFuZEZpcmVSZXF1ZXN0KHBhZ2VMb2FkVXJsLCAkY3QuYmxvY2tSZXF1ZXN0LCBmYWxzZSwgZGF0YS5ldnROYW1lKTtcbiAgICB9XG5cbiAgICBwb3N0KHVybCwgYm9keSkge1xuICAgICAgcmV0dXJuIGZldGNoKHVybCwge1xuICAgICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogYm9keVxuICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyByZXNwb25zZTtcbiAgICAgIH0pLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDYpW19sb2dnZXIkNl0uZGVidWcoJ1N5bmMgZGF0YSBzdWNjZXNzZnVsJywgZGF0YSk7XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9KS5jYXRjaChlID0+IHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkNilbX2xvZ2dlciQ2XS5kZWJ1ZygnRXJyb3IgaW4gc3luY2luZyB2YXJpYWJsZXMnLCBlKTtcblxuICAgICAgICB0aHJvdyBlO1xuICAgICAgfSk7XG4gICAgfVxuXG4gIH1cblxuICB2YXIgX2FkZFRvTG9jYWxFdmVudE1hcDIgPSBmdW5jdGlvbiBfYWRkVG9Mb2NhbEV2ZW50TWFwMihldnROYW1lKSB7XG4gICAgaWYgKFN0b3JhZ2VNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZVN1cHBvcnRlZCgpKSB7XG4gICAgICBpZiAodHlwZW9mICRjdC5nbG9iYWxFdmVudHNNYXAgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICRjdC5nbG9iYWxFdmVudHNNYXAgPSBTdG9yYWdlTWFuYWdlci5yZWFkRnJvbUxTb3JDb29raWUoRVZfQ09PS0lFKTtcblxuICAgICAgICBpZiAodHlwZW9mICRjdC5nbG9iYWxFdmVudHNNYXAgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgJGN0Lmdsb2JhbEV2ZW50c01hcCA9IHt9O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5vd1RzID0gZ2V0Tm93KCk7XG4gICAgICBsZXQgZXZ0RGV0YWlsID0gJGN0Lmdsb2JhbEV2ZW50c01hcFtldnROYW1lXTtcblxuICAgICAgaWYgKHR5cGVvZiBldnREZXRhaWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGV2dERldGFpbFsyXSA9IG5vd1RzO1xuICAgICAgICBldnREZXRhaWxbMF0rKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV2dERldGFpbCA9IFtdO1xuICAgICAgICBldnREZXRhaWwucHVzaCgxKTtcbiAgICAgICAgZXZ0RGV0YWlsLnB1c2gobm93VHMpO1xuICAgICAgICBldnREZXRhaWwucHVzaChub3dUcyk7XG4gICAgICB9XG5cbiAgICAgICRjdC5nbG9iYWxFdmVudHNNYXBbZXZ0TmFtZV0gPSBldnREZXRhaWw7XG4gICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKEVWX0NPT0tJRSwgJGN0Lmdsb2JhbEV2ZW50c01hcCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBfcmVxdWVzdCQ0ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJyZXF1ZXN0XCIpO1xuXG4gIHZhciBfYWNjb3VudCQzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJhY2NvdW50XCIpO1xuXG4gIHZhciBfb2xkVmFsdWVzJDMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcIm9sZFZhbHVlc1wiKTtcblxuICB2YXIgX2xvZ2dlciQ3ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJsb2dnZXJcIik7XG5cbiAgdmFyIF9wcm9jZXNzUHJpdmFjeUFycmF5ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJwcm9jZXNzUHJpdmFjeUFycmF5XCIpO1xuXG4gIGNsYXNzIFByaXZhY3kgZXh0ZW5kcyBBcnJheSB7XG4gICAgY29uc3RydWN0b3IoX3JlZiwgdmFsdWVzKSB7XG4gICAgICBsZXQge1xuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBhY2NvdW50LFxuICAgICAgICBsb2dnZXJcbiAgICAgIH0gPSBfcmVmO1xuICAgICAgc3VwZXIoKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcHJvY2Vzc1ByaXZhY3lBcnJheSwge1xuICAgICAgICB2YWx1ZTogX3Byb2Nlc3NQcml2YWN5QXJyYXkyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcmVxdWVzdCQ0LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfYWNjb3VudCQzLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfb2xkVmFsdWVzJDMsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9sb2dnZXIkNywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ3KVtfbG9nZ2VyJDddID0gbG9nZ2VyO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDQpW19yZXF1ZXN0JDRdID0gcmVxdWVzdDtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQzKVtfYWNjb3VudCQzXSA9IGFjY291bnQ7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQzKVtfb2xkVmFsdWVzJDNdID0gdmFsdWVzO1xuICAgIH1cblxuICAgIHB1c2goKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcHJpdmFjeUFyciA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgcHJpdmFjeUFycltfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgaWYgKCRjdC5pc1ByaXZhY3lBcnJQdXNoZWQpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wcm9jZXNzUHJpdmFjeUFycmF5KVtfcHJvY2Vzc1ByaXZhY3lBcnJheV0oJGN0LnByaXZhY3lBcnJheS5sZW5ndGggPiAwID8gJGN0LnByaXZhY3lBcnJheSA6IHByaXZhY3lBcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGN0LnByaXZhY3lBcnJheS5wdXNoKC4uLnByaXZhY3lBcnIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBfcHJvY2Vzc09sZFZhbHVlcygpIHtcbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQzKVtfb2xkVmFsdWVzJDNdKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcHJvY2Vzc1ByaXZhY3lBcnJheSlbX3Byb2Nlc3NQcml2YWN5QXJyYXldKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb2xkVmFsdWVzJDMpW19vbGRWYWx1ZXMkM10pO1xuICAgICAgfVxuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQzKVtfb2xkVmFsdWVzJDNdID0gbnVsbDtcbiAgICB9XG5cbiAgfVxuXG4gIHZhciBfcHJvY2Vzc1ByaXZhY3lBcnJheTIgPSBmdW5jdGlvbiBfcHJvY2Vzc1ByaXZhY3lBcnJheTIocHJpdmFjeUFycikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHByaXZhY3lBcnIpICYmIHByaXZhY3lBcnIubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgcHJpdmFjeU9iaiA9IHByaXZhY3lBcnIucmVkdWNlKChwcmV2LCBjdXJyKSA9PiAoeyAuLi5wcmV2LFxuICAgICAgICAuLi5jdXJyXG4gICAgICB9KSwge30pO1xuICAgICAgbGV0IGRhdGEgPSB7fTtcbiAgICAgIGNvbnN0IHByb2ZpbGVPYmogPSB7fTtcbiAgICAgIHZhciBvcHRPdXQgPSBmYWxzZTtcblxuICAgICAgaWYgKHByaXZhY3lPYmouaGFzT3duUHJvcGVydHkoT1BUT1VUX0tFWSkpIHtcbiAgICAgICAgb3B0T3V0ID0gcHJpdmFjeU9ialtPUFRPVVRfS0VZXTtcblxuICAgICAgICBpZiAodHlwZW9mIG9wdE91dCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgcHJvZmlsZU9ialtDVF9PUFRPVVRfS0VZXSA9IG9wdE91dDsgLy8gc2hvdWxkIGJlIHRydWUgd2hlbiB1c2VyIHdhbnRzIHRvIG9wdCBpblxuXG4gICAgICAgICAgJGN0LmlzT3B0SW5SZXF1ZXN0ID0gIW9wdE91dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocHJpdmFjeU9iai5oYXNPd25Qcm9wZXJ0eShVU0VJUF9LRVkpKSB7XG4gICAgICAgIGNvbnN0IHVzZUlQID0gcHJpdmFjeU9ialtVU0VJUF9LRVldO1xuICAgICAgICBjb25zdCBzaG91bGRVc2VJUCA9IHR5cGVvZiB1c2VJUCA9PT0gJ2Jvb2xlYW4nID8gdXNlSVAgOiBmYWxzZTtcbiAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2V0TWV0YVByb3AoVVNFSVBfS0VZLCBzaG91bGRVc2VJUCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNPYmplY3RFbXB0eShwcm9maWxlT2JqKSkge1xuICAgICAgICBkYXRhLnR5cGUgPSAncHJvZmlsZSc7XG4gICAgICAgIGRhdGEucHJvZmlsZSA9IHByb2ZpbGVPYmo7XG4gICAgICAgIGRhdGEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNClbX3JlcXVlc3QkNF0uYWRkU3lzdGVtRGF0YVRvT2JqZWN0KGRhdGEsIHVuZGVmaW5lZCk7XG4gICAgICAgIGNvbnN0IGNvbXByZXNzZWREYXRhID0gY29tcHJlc3NEYXRhKEpTT04uc3RyaW5naWZ5KGRhdGEpLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ3KVtfbG9nZ2VyJDddKTtcblxuICAgICAgICBsZXQgcGFnZUxvYWRVcmwgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkMylbX2FjY291bnQkM10uZGF0YVBvc3RVUkw7XG5cbiAgICAgICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ3R5cGUnLCBFVlRfUFVTSCk7XG4gICAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICdkJywgY29tcHJlc3NlZERhdGEpO1xuICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCBPUFRPVVRfS0VZLCBvcHRPdXQgPyAndHJ1ZScgOiAnZmFsc2UnKTtcblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNClbX3JlcXVlc3QkNF0uc2F2ZUFuZEZpcmVSZXF1ZXN0KHBhZ2VMb2FkVXJsLCAkY3QuYmxvY2tSZXF1ZXN0KTtcblxuICAgICAgICBwcml2YWN5QXJyLnNwbGljZSgwLCBwcml2YWN5QXJyLmxlbmd0aCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHZhciBfb2xkVmFsdWVzJDQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcIm9sZFZhbHVlc1wiKTtcblxuICB2YXIgX2xvZ2dlciQ4ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJsb2dnZXJcIik7XG5cbiAgdmFyIF9yZXF1ZXN0JDUgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInJlcXVlc3RcIik7XG5cbiAgdmFyIF9hY2NvdW50JDQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImFjY291bnRcIik7XG5cbiAgdmFyIF93aXpBbGVydEpTUGF0aCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwid2l6QWxlcnRKU1BhdGhcIik7XG5cbiAgdmFyIF9mY21QdWJsaWNLZXkgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImZjbVB1YmxpY0tleVwiKTtcblxuICB2YXIgX3NldFVwV2ViUHVzaCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwic2V0VXBXZWJQdXNoXCIpO1xuXG4gIHZhciBfc2V0VXBXZWJQdXNoTm90aWZpY2F0aW9ucyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwic2V0VXBXZWJQdXNoTm90aWZpY2F0aW9uc1wiKTtcblxuICB2YXIgX3NldEFwcGxpY2F0aW9uU2VydmVyS2V5ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJzZXRBcHBsaWNhdGlvblNlcnZlcktleVwiKTtcblxuICB2YXIgX3NldFVwU2FmYXJpTm90aWZpY2F0aW9ucyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwic2V0VXBTYWZhcmlOb3RpZmljYXRpb25zXCIpO1xuXG4gIHZhciBfc2V0VXBDaHJvbWVGaXJlZm94Tm90aWZpY2F0aW9ucyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwic2V0VXBDaHJvbWVGaXJlZm94Tm90aWZpY2F0aW9uc1wiKTtcblxuICB2YXIgX2FkZFdpekFsZXJ0SlMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImFkZFdpekFsZXJ0SlNcIik7XG5cbiAgdmFyIF9yZW1vdmVXaXpBbGVydEpTID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJyZW1vdmVXaXpBbGVydEpTXCIpO1xuXG4gIHZhciBfaGFuZGxlTm90aWZpY2F0aW9uUmVnaXN0cmF0aW9uID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJoYW5kbGVOb3RpZmljYXRpb25SZWdpc3RyYXRpb25cIik7XG5cbiAgY2xhc3MgTm90aWZpY2F0aW9uSGFuZGxlciBleHRlbmRzIEFycmF5IHtcbiAgICBjb25zdHJ1Y3RvcihfcmVmLCB2YWx1ZXMpIHtcbiAgICAgIGxldCB7XG4gICAgICAgIGxvZ2dlcixcbiAgICAgICAgc2Vzc2lvbixcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgYWNjb3VudFxuICAgICAgfSA9IF9yZWY7XG4gICAgICBzdXBlcigpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9oYW5kbGVOb3RpZmljYXRpb25SZWdpc3RyYXRpb24sIHtcbiAgICAgICAgdmFsdWU6IF9oYW5kbGVOb3RpZmljYXRpb25SZWdpc3RyYXRpb24yXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcmVtb3ZlV2l6QWxlcnRKUywge1xuICAgICAgICB2YWx1ZTogX3JlbW92ZVdpekFsZXJ0SlMyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfYWRkV2l6QWxlcnRKUywge1xuICAgICAgICB2YWx1ZTogX2FkZFdpekFsZXJ0SlMyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfc2V0VXBDaHJvbWVGaXJlZm94Tm90aWZpY2F0aW9ucywge1xuICAgICAgICB2YWx1ZTogX3NldFVwQ2hyb21lRmlyZWZveE5vdGlmaWNhdGlvbnMyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfc2V0VXBTYWZhcmlOb3RpZmljYXRpb25zLCB7XG4gICAgICAgIHZhbHVlOiBfc2V0VXBTYWZhcmlOb3RpZmljYXRpb25zMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3NldEFwcGxpY2F0aW9uU2VydmVyS2V5LCB7XG4gICAgICAgIHZhbHVlOiBfc2V0QXBwbGljYXRpb25TZXJ2ZXJLZXkyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfc2V0VXBXZWJQdXNoTm90aWZpY2F0aW9ucywge1xuICAgICAgICB2YWx1ZTogX3NldFVwV2ViUHVzaE5vdGlmaWNhdGlvbnMyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfc2V0VXBXZWJQdXNoLCB7XG4gICAgICAgIHZhbHVlOiBfc2V0VXBXZWJQdXNoMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX29sZFZhbHVlcyQ0LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfbG9nZ2VyJDgsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9yZXF1ZXN0JDUsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9hY2NvdW50JDQsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF93aXpBbGVydEpTUGF0aCwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2ZjbVB1YmxpY0tleSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3dpekFsZXJ0SlNQYXRoKVtfd2l6QWxlcnRKU1BhdGhdID0gJ2h0dHBzOi8vZDJyMXlwMnc3YmJ5MnUuY2xvdWRmcm9udC5uZXQvanMvd3pya19kaWFsb2cubWluLmpzJztcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZmNtUHVibGljS2V5KVtfZmNtUHVibGljS2V5XSA9IG51bGw7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQ0KVtfb2xkVmFsdWVzJDRdID0gdmFsdWVzO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOClbX2xvZ2dlciQ4XSA9IGxvZ2dlcjtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ1KVtfcmVxdWVzdCQ1XSA9IHJlcXVlc3Q7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNClbX2FjY291bnQkNF0gPSBhY2NvdW50O1xuICAgIH1cblxuICAgIHB1c2goKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZGlzcGxheUFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGRpc3BsYXlBcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3NldFVwV2ViUHVzaClbX3NldFVwV2ViUHVzaF0oZGlzcGxheUFyZ3MpO1xuXG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBfcHJvY2Vzc09sZFZhbHVlcygpIHtcbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQ0KVtfb2xkVmFsdWVzJDRdKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2V0VXBXZWJQdXNoKVtfc2V0VXBXZWJQdXNoXShfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29sZFZhbHVlcyQ0KVtfb2xkVmFsdWVzJDRdKTtcbiAgICAgIH1cblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbGRWYWx1ZXMkNClbX29sZFZhbHVlcyQ0XSA9IG51bGw7XG4gICAgfVxuXG4gICAgX2VuYWJsZVdlYlB1c2goZW5hYmxlZCwgYXBwbGljYXRpb25TZXJ2ZXJLZXkpIHtcbiAgICAgICRjdC53ZWJQdXNoRW5hYmxlZCA9IGVuYWJsZWQ7XG5cbiAgICAgIGlmIChhcHBsaWNhdGlvblNlcnZlcktleSAhPSBudWxsKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2V0QXBwbGljYXRpb25TZXJ2ZXJLZXkpW19zZXRBcHBsaWNhdGlvblNlcnZlcktleV0oYXBwbGljYXRpb25TZXJ2ZXJLZXkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoJGN0LndlYlB1c2hFbmFibGVkICYmICRjdC5ub3RpZkFwaS5ub3RpZkVuYWJsZWRGcm9tQXBpKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaGFuZGxlTm90aWZpY2F0aW9uUmVnaXN0cmF0aW9uKVtfaGFuZGxlTm90aWZpY2F0aW9uUmVnaXN0cmF0aW9uXSgkY3Qubm90aWZBcGkuZGlzcGxheUFyZ3MpO1xuICAgICAgfSBlbHNlIGlmICghJGN0LndlYlB1c2hFbmFibGVkICYmICRjdC5ub3RpZkFwaS5ub3RpZkVuYWJsZWRGcm9tQXBpKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDgpW19sb2dnZXIkOF0uZXJyb3IoJ0Vuc3VyZSB0aGF0IHdlYiBwdXNoIG5vdGlmaWNhdGlvbnMgYXJlIGZ1bGx5IGVuYWJsZWQgYW5kIGludGVncmF0ZWQgYmVmb3JlIHJlcXVlc3RpbmcgdGhlbScpO1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgdmFyIF9zZXRVcFdlYlB1c2gyID0gZnVuY3Rpb24gX3NldFVwV2ViUHVzaDIoZGlzcGxheUFyZ3MpIHtcbiAgICBpZiAoJGN0LndlYlB1c2hFbmFibGVkICYmIGRpc3BsYXlBcmdzLmxlbmd0aCA+IDApIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfaGFuZGxlTm90aWZpY2F0aW9uUmVnaXN0cmF0aW9uKVtfaGFuZGxlTm90aWZpY2F0aW9uUmVnaXN0cmF0aW9uXShkaXNwbGF5QXJncyk7XG4gICAgfSBlbHNlIGlmICgkY3Qud2ViUHVzaEVuYWJsZWQgPT0gbnVsbCAmJiBkaXNwbGF5QXJncy5sZW5ndGggPiAwKSB7XG4gICAgICAkY3Qubm90aWZBcGkubm90aWZFbmFibGVkRnJvbUFwaSA9IHRydWU7XG4gICAgICAkY3Qubm90aWZBcGkuZGlzcGxheUFyZ3MgPSBkaXNwbGF5QXJncy5zbGljZSgpO1xuICAgIH0gZWxzZSBpZiAoJGN0LndlYlB1c2hFbmFibGVkID09PSBmYWxzZSAmJiBkaXNwbGF5QXJncy5sZW5ndGggPiAwKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ4KVtfbG9nZ2VyJDhdLmVycm9yKCdNYWtlIHN1cmUgcHVzaCBub3RpZmljYXRpb25zIGFyZSBmdWxseSBlbmFibGVkIGFuZCBpbnRlZ3JhdGVkJyk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBfc2V0VXBXZWJQdXNoTm90aWZpY2F0aW9uczIgPSBmdW5jdGlvbiBfc2V0VXBXZWJQdXNoTm90aWZpY2F0aW9uczIoc3Vic2NyaXB0aW9uQ2FsbGJhY2ssIHNlcnZpY2VXb3JrZXJQYXRoLCBhcG5zV2ViUHVzaElkLCBhcG5zU2VydmljZVVybCkge1xuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0Nocm9tZScpICE9PSAtMSB8fCBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSAhPT0gLTEpIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2V0VXBDaHJvbWVGaXJlZm94Tm90aWZpY2F0aW9ucylbX3NldFVwQ2hyb21lRmlyZWZveE5vdGlmaWNhdGlvbnNdKHN1YnNjcmlwdGlvbkNhbGxiYWNrLCBzZXJ2aWNlV29ya2VyUGF0aCk7XG4gICAgfSBlbHNlIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ1NhZmFyaScpICE9PSAtMSkge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXRVcFNhZmFyaU5vdGlmaWNhdGlvbnMpW19zZXRVcFNhZmFyaU5vdGlmaWNhdGlvbnNdKHN1YnNjcmlwdGlvbkNhbGxiYWNrLCBhcG5zV2ViUHVzaElkLCBhcG5zU2VydmljZVVybCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBfc2V0QXBwbGljYXRpb25TZXJ2ZXJLZXkyID0gZnVuY3Rpb24gX3NldEFwcGxpY2F0aW9uU2VydmVyS2V5MihhcHBsaWNhdGlvblNlcnZlcktleSkge1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZmNtUHVibGljS2V5KVtfZmNtUHVibGljS2V5XSA9IGFwcGxpY2F0aW9uU2VydmVyS2V5O1xuICB9O1xuXG4gIHZhciBfc2V0VXBTYWZhcmlOb3RpZmljYXRpb25zMiA9IGZ1bmN0aW9uIF9zZXRVcFNhZmFyaU5vdGlmaWNhdGlvbnMyKHN1YnNjcmlwdGlvbkNhbGxiYWNrLCBhcG5zV2ViUHVzaElkLCBhcG5zU2VydmljZVVybCkge1xuICAgIC8vIGVuc3VyZSB0aGF0IHByb3BlciBhcmd1bWVudHMgYXJlIHBhc3NlZFxuICAgIGlmICh0eXBlb2YgYXBuc1dlYlB1c2hJZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDgpW19sb2dnZXIkOF0uZXJyb3IoJ0Vuc3VyZSB0aGF0IEFQTlMgV2ViIFB1c2ggSUQgaXMgc3VwcGxpZWQnKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGFwbnNTZXJ2aWNlVXJsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOClbX2xvZ2dlciQ4XS5lcnJvcignRW5zdXJlIHRoYXQgQVBOUyBXZWIgUHVzaCBzZXJ2aWNlIHBhdGggaXMgc3VwcGxpZWQnKTtcbiAgICB9XG5cbiAgICBpZiAoJ3NhZmFyaScgaW4gd2luZG93ICYmICdwdXNoTm90aWZpY2F0aW9uJyBpbiB3aW5kb3cuc2FmYXJpKSB7XG4gICAgICB3aW5kb3cuc2FmYXJpLnB1c2hOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oYXBuc1NlcnZpY2VVcmwsIGFwbnNXZWJQdXNoSWQsIHt9LCBzdWJzY3JpcHRpb24gPT4ge1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uLnBlcm1pc3Npb24gPT09ICdncmFudGVkJykge1xuICAgICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbkRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHN1YnNjcmlwdGlvbikpO1xuICAgICAgICAgIHN1YnNjcmlwdGlvbkRhdGEuZW5kcG9pbnQgPSBzdWJzY3JpcHRpb24uZGV2aWNlVG9rZW47XG4gICAgICAgICAgc3Vic2NyaXB0aW9uRGF0YS5icm93c2VyID0gJ1NhZmFyaSc7XG4gICAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2F2ZVRvTFNvckNvb2tpZShQVVNIX1NVQlNDUklQVElPTl9EQVRBLCBzdWJzY3JpcHRpb25EYXRhKTtcblxuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ1KVtfcmVxdWVzdCQ1XS5yZWdpc3RlclRva2VuKHN1YnNjcmlwdGlvbkRhdGEpO1xuXG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOClbX2xvZ2dlciQ4XS5pbmZvKCdTYWZhcmkgV2ViIFB1c2ggcmVnaXN0ZXJlZC4gRGV2aWNlIFRva2VuOiAnICsgc3Vic2NyaXB0aW9uLmRldmljZVRva2VuKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdWJzY3JpcHRpb24ucGVybWlzc2lvbiA9PT0gJ2RlbmllZCcpIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ4KVtfbG9nZ2VyJDhdLmluZm8oJ0Vycm9yIHN1YnNjcmliaW5nIHRvIFNhZmFyaSB3ZWIgcHVzaCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIF9zZXRVcENocm9tZUZpcmVmb3hOb3RpZmljYXRpb25zMiA9IGZ1bmN0aW9uIF9zZXRVcENocm9tZUZpcmVmb3hOb3RpZmljYXRpb25zMihzdWJzY3JpcHRpb25DYWxsYmFjaywgc2VydmljZVdvcmtlclBhdGgpIHtcbiAgICBsZXQgcmVnaXN0cmF0aW9uU2NvcGUgPSAnJztcblxuICAgIGlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7XG4gICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3RlcihzZXJ2aWNlV29ya2VyUGF0aCkudGhlbihyZWdpc3RyYXRpb24gPT4ge1xuICAgICAgICBpZiAodHlwZW9mIF9fd3pya19hY2NvdW50X2lkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAvLyBzaG9waWZ5IGFjY291bnRzICwgc2luY2UgdGhlIHNlcnZpY2Ugd29ya2VyIGlzIG5vdCBhdCByb290LCBzZXJ2aWNlV29ya2VyLnJlYWR5IGlzIG5ldmVyIHJlc29sdmVkLlxuICAgICAgICAgIC8vIGhlbmNlIGFkZCBhIHRpbWVvdXQgYW5kIGhvcGUgc2VydmljZVdyb2tlciBpcyByZWFkeSB3aXRoaW4gdGhhdCB0aW1lLlxuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZShyZWdpc3RyYXRpb24pLCA1MDAwKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZWdpc3RyYXRpb25TY29wZSA9IHJlZ2lzdHJhdGlvbi5zY29wZTsgLy8gSUYgU0VSVklDRSBXT1JLRVIgSVMgQVQgUk9PVCwgUkVUVVJOIFRIRSBSRUFEWSBQUk9NSVNFXG4gICAgICAgIC8vIEVMU0UgSUYgQ0hST01FIFJFVFVSTiBQUk9NSVNFIEFGVEVSIDUgU0VDT05EU1xuICAgICAgICAvLyBPUiBnZXRSZWdpc3RyYXRpb25zIFBST01JU0UgSUYgSVRTIEZJUkVGT1hcblxuICAgICAgICBjb25zdCByb290RGlyUmVnZXggPSAvXihcXC4/KShcXC8/KShbXi9dKikuanMkLztcbiAgICAgICAgY29uc3QgaXNTZXJ2aWNlV29ya2VyQXRSb290ID0gcm9vdERpclJlZ2V4LnRlc3Qoc2VydmljZVdvcmtlclBhdGgpO1xuXG4gICAgICAgIGlmIChpc1NlcnZpY2VXb3JrZXJBdFJvb3QpIHtcbiAgICAgICAgICByZXR1cm4gbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVhZHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lJykgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUocmVnaXN0cmF0aW9uKSwgNTAwMCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuZ2V0UmVnaXN0cmF0aW9ucygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSkudGhlbihzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uID0+IHtcbiAgICAgICAgLy8gSVRTIEFOIEFSUkFZIElOIENBU0UgT0YgRklSRUZPWCwgU08gVVNFIFRIRSBSRUdJU1RSQVRJT04gV0lUSCBQUk9QRVIgU0NPUEVcbiAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpICE9PSAtMSAmJiBBcnJheS5pc0FycmF5KHNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24pKSB7XG4gICAgICAgICAgc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9IHNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24uZmlsdGVyKGkgPT4gaS5zY29wZSA9PT0gcmVnaXN0cmF0aW9uU2NvcGUpWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3Vic2NyaWJlT2JqID0ge1xuICAgICAgICAgIHVzZXJWaXNpYmxlT25seTogdHJ1ZVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2ZjbVB1YmxpY0tleSlbX2ZjbVB1YmxpY0tleV0gIT0gbnVsbCkge1xuICAgICAgICAgIHN1YnNjcmliZU9iai5hcHBsaWNhdGlvblNlcnZlcktleSA9IHVybEJhc2U2NFRvVWludDhBcnJheShfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2ZjbVB1YmxpY0tleSlbX2ZjbVB1YmxpY0tleV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5zdWJzY3JpYmUoc3Vic2NyaWJlT2JqKS50aGVuKHN1YnNjcmlwdGlvbiA9PiB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOClbX2xvZ2dlciQ4XS5pbmZvKCdTZXJ2aWNlIFdvcmtlciByZWdpc3RlcmVkLiBFbmRwb2ludDogJyArIHN1YnNjcmlwdGlvbi5lbmRwb2ludCk7IC8vIGNvbnZlcnQgdGhlIHN1YnNjcmlwdGlvbiBrZXlzIHRvIHN0cmluZ3M7IHRoaXMgc2V0cyBpdCB1cCBuaWNlbHkgZm9yIHB1c2hpbmcgdG8gTENcblxuXG4gICAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uRGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3Vic2NyaXB0aW9uKSk7IC8vIHJlbW92ZSB0aGUgY29tbW9uIGNocm9tZS9maXJlZm94IGVuZHBvaW50IGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHRva2VuXG5cbiAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbkRhdGEuZW5kcG9pbnQgPSBzdWJzY3JpcHRpb25EYXRhLmVuZHBvaW50LnNwbGl0KCcvJykucG9wKCk7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25EYXRhLmJyb3dzZXIgPSAnQ2hyb21lJztcbiAgICAgICAgICB9IGVsc2UgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpICE9PSAtMSkge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uRGF0YS5lbmRwb2ludCA9IHN1YnNjcmlwdGlvbkRhdGEuZW5kcG9pbnQuc3BsaXQoJy8nKS5wb3AoKTtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbkRhdGEuYnJvd3NlciA9ICdGaXJlZm94JztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKFBVU0hfU1VCU0NSSVBUSU9OX0RBVEEsIHN1YnNjcmlwdGlvbkRhdGEpO1xuXG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDUpW19yZXF1ZXN0JDVdLnJlZ2lzdGVyVG9rZW4oc3Vic2NyaXB0aW9uRGF0YSk7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHN1YnNjcmlwdGlvbkNhbGxiYWNrICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygc3Vic2NyaXB0aW9uQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbkNhbGxiYWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOClbX2xvZ2dlciQ4XS5lcnJvcignRXJyb3Igc3Vic2NyaWJpbmc6ICcgKyBlcnJvcik7IC8vIHVuc3Vic2NyaWJlIGZyb20gd2VicHVzaCBpZiBlcnJvclxuXG5cbiAgICAgICAgICBzZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpLnRoZW4oc3Vic2NyaXB0aW9uID0+IHtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCkudGhlbihzdWNjZXNzZnVsID0+IHtcbiAgICAgICAgICAgICAgICAvLyBZb3UndmUgc3VjY2Vzc2Z1bGx5IHVuc3Vic2NyaWJlZFxuICAgICAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDgpW19sb2dnZXIkOF0uaW5mbygnVW5zdWJzY3JpcHRpb24gc3VjY2Vzc2Z1bCcpO1xuICAgICAgICAgICAgICB9KS5jYXRjaChlID0+IHtcbiAgICAgICAgICAgICAgICAvLyBVbnN1YnNjcmlwdGlvbiBmYWlsZWRcbiAgICAgICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ4KVtfbG9nZ2VyJDhdLmVycm9yKCdFcnJvciB1bnN1YnNjcmliaW5nOiAnICsgZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDgpW19sb2dnZXIkOF0uZXJyb3IoJ2Vycm9yIHJlZ2lzdGVyaW5nIHNlcnZpY2Ugd29ya2VyOiAnICsgZXJyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgX2FkZFdpekFsZXJ0SlMyID0gZnVuY3Rpb24gX2FkZFdpekFsZXJ0SlMyKCkge1xuICAgIGNvbnN0IHNjcmlwdFRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIHNjcmlwdFRhZy5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9qYXZhc2NyaXB0Jyk7XG4gICAgc2NyaXB0VGFnLnNldEF0dHJpYnV0ZSgnaWQnLCAnd3pyay1hbGVydC1qcycpO1xuICAgIHNjcmlwdFRhZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfd2l6QWxlcnRKU1BhdGgpW193aXpBbGVydEpTUGF0aF0pOyAvLyBhZGQgdGhlIHNjcmlwdCB0YWcgdG8gdGhlIGVuZCBvZiB0aGUgYm9keVxuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5hcHBlbmRDaGlsZChzY3JpcHRUYWcpO1xuICAgIHJldHVybiBzY3JpcHRUYWc7XG4gIH07XG5cbiAgdmFyIF9yZW1vdmVXaXpBbGVydEpTMiA9IGZ1bmN0aW9uIF9yZW1vdmVXaXpBbGVydEpTMigpIHtcbiAgICBjb25zdCBzY3JpcHRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3pyay1hbGVydC1qcycpO1xuICAgIHNjcmlwdFRhZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdFRhZyk7XG4gIH07XG5cbiAgdmFyIF9oYW5kbGVOb3RpZmljYXRpb25SZWdpc3RyYXRpb24yID0gZnVuY3Rpb24gX2hhbmRsZU5vdGlmaWNhdGlvblJlZ2lzdHJhdGlvbjIoZGlzcGxheUFyZ3MpIHtcbiAgICAvLyBtYWtlIHN1cmUgZXZlcnl0aGluZyBpcyBzcGVjaWZpZWRcbiAgICBsZXQgdGl0bGVUZXh0O1xuICAgIGxldCBib2R5VGV4dDtcbiAgICBsZXQgb2tCdXR0b25UZXh0O1xuICAgIGxldCByZWplY3RCdXR0b25UZXh0O1xuICAgIGxldCBva0J1dHRvbkNvbG9yO1xuICAgIGxldCBza2lwRGlhbG9nO1xuICAgIGxldCBhc2tBZ2FpblRpbWVJblNlY29uZHM7XG4gICAgbGV0IG9rQ2FsbGJhY2s7XG4gICAgbGV0IHJlamVjdENhbGxiYWNrO1xuICAgIGxldCBzdWJzY3JpcHRpb25DYWxsYmFjaztcbiAgICBsZXQgc2VydmljZVdvcmtlclBhdGg7XG4gICAgbGV0IGh0dHBzUG9wdXBQYXRoO1xuICAgIGxldCBodHRwc0lmcmFtZVBhdGg7XG4gICAgbGV0IGFwbnNXZWJQdXNoSWQ7XG4gICAgbGV0IGFwbnNXZWJQdXNoU2VydmljZVVybDtcblxuICAgIGlmIChkaXNwbGF5QXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGlmIChpc09iamVjdChkaXNwbGF5QXJnc1swXSkpIHtcbiAgICAgICAgY29uc3Qgbm90aWZPYmogPSBkaXNwbGF5QXJnc1swXTtcbiAgICAgICAgdGl0bGVUZXh0ID0gbm90aWZPYmoudGl0bGVUZXh0O1xuICAgICAgICBib2R5VGV4dCA9IG5vdGlmT2JqLmJvZHlUZXh0O1xuICAgICAgICBva0J1dHRvblRleHQgPSBub3RpZk9iai5va0J1dHRvblRleHQ7XG4gICAgICAgIHJlamVjdEJ1dHRvblRleHQgPSBub3RpZk9iai5yZWplY3RCdXR0b25UZXh0O1xuICAgICAgICBva0J1dHRvbkNvbG9yID0gbm90aWZPYmoub2tCdXR0b25Db2xvcjtcbiAgICAgICAgc2tpcERpYWxvZyA9IG5vdGlmT2JqLnNraXBEaWFsb2c7XG4gICAgICAgIGFza0FnYWluVGltZUluU2Vjb25kcyA9IG5vdGlmT2JqLmFza0FnYWluVGltZUluU2Vjb25kcztcbiAgICAgICAgb2tDYWxsYmFjayA9IG5vdGlmT2JqLm9rQ2FsbGJhY2s7XG4gICAgICAgIHJlamVjdENhbGxiYWNrID0gbm90aWZPYmoucmVqZWN0Q2FsbGJhY2s7XG4gICAgICAgIHN1YnNjcmlwdGlvbkNhbGxiYWNrID0gbm90aWZPYmouc3Vic2NyaXB0aW9uQ2FsbGJhY2s7XG4gICAgICAgIHNlcnZpY2VXb3JrZXJQYXRoID0gbm90aWZPYmouc2VydmljZVdvcmtlclBhdGg7XG4gICAgICAgIGh0dHBzUG9wdXBQYXRoID0gbm90aWZPYmouaHR0cHNQb3B1cFBhdGg7XG4gICAgICAgIGh0dHBzSWZyYW1lUGF0aCA9IG5vdGlmT2JqLmh0dHBzSWZyYW1lUGF0aDtcbiAgICAgICAgYXBuc1dlYlB1c2hJZCA9IG5vdGlmT2JqLmFwbnNXZWJQdXNoSWQ7XG4gICAgICAgIGFwbnNXZWJQdXNoU2VydmljZVVybCA9IG5vdGlmT2JqLmFwbnNXZWJQdXNoU2VydmljZVVybDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGl0bGVUZXh0ID0gZGlzcGxheUFyZ3NbMF07XG4gICAgICBib2R5VGV4dCA9IGRpc3BsYXlBcmdzWzFdO1xuICAgICAgb2tCdXR0b25UZXh0ID0gZGlzcGxheUFyZ3NbMl07XG4gICAgICByZWplY3RCdXR0b25UZXh0ID0gZGlzcGxheUFyZ3NbM107XG4gICAgICBva0J1dHRvbkNvbG9yID0gZGlzcGxheUFyZ3NbNF07XG4gICAgICBza2lwRGlhbG9nID0gZGlzcGxheUFyZ3NbNV07XG4gICAgICBhc2tBZ2FpblRpbWVJblNlY29uZHMgPSBkaXNwbGF5QXJnc1s2XTtcbiAgICB9XG5cbiAgICBpZiAoc2tpcERpYWxvZyA9PSBudWxsKSB7XG4gICAgICBza2lwRGlhbG9nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHNlcnZpY2VXb3JrZXJQYXRoID09IG51bGwpIHtcbiAgICAgIHNlcnZpY2VXb3JrZXJQYXRoID0gJy9jbGV2ZXJ0YXBfc3cuanMnO1xuICAgIH0gLy8gZW5zdXJlIHRoYXQgdGhlIGJyb3dzZXIgc3VwcG9ydHMgbm90aWZpY2F0aW9uc1xuXG5cbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGlzSFRUUCA9IGh0dHBzUG9wdXBQYXRoICE9IG51bGwgJiYgaHR0cHNJZnJhbWVQYXRoICE9IG51bGw7IC8vIG1ha2Ugc3VyZSB0aGUgc2l0ZSBpcyBvbiBodHRwcyBmb3IgY2hyb21lIG5vdGlmaWNhdGlvbnNcblxuICAgIGlmICh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgIT09ICdodHRwczonICYmIGRvY3VtZW50LmxvY2F0aW9uLmhvc3RuYW1lICE9PSAnbG9jYWxob3N0JyAmJiAhaXNIVFRQKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ4KVtfbG9nZ2VyJDhdLmVycm9yKCdNYWtlIHN1cmUgeW91IGFyZSBodHRwcyBvciBsb2NhbGhvc3QgdG8gcmVnaXN0ZXIgZm9yIG5vdGlmaWNhdGlvbnMnKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gcmlnaHQgbm93LCB3ZSBvbmx5IHN1cHBvcnQgQ2hyb21lIFY1MCAmIGhpZ2hlciAmIEZpcmVmb3hcblxuXG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lJykgIT09IC0xKSB7XG4gICAgICBjb25zdCBjaHJvbWVBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0Nocm9tZVxcLyhcXGQrKS8pO1xuXG4gICAgICBpZiAoY2hyb21lQWdlbnQgPT0gbnVsbCB8fCBwYXJzZUludChjaHJvbWVBZ2VudFsxXSwgMTApIDwgNTApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgIT09IC0xKSB7XG4gICAgICBjb25zdCBmaXJlZm94QWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9GaXJlZm94XFwvKFxcZCspLyk7XG5cbiAgICAgIGlmIChmaXJlZm94QWdlbnQgPT0gbnVsbCB8fCBwYXJzZUludChmaXJlZm94QWdlbnRbMV0sIDEwKSA8IDUwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignU2FmYXJpJykgIT09IC0xKSB7XG4gICAgICBjb25zdCBzYWZhcmlBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1NhZmFyaVxcLyhcXGQrKS8pO1xuXG4gICAgICBpZiAoc2FmYXJpQWdlbnQgPT0gbnVsbCB8fCBwYXJzZUludChzYWZhcmlBZ2VudFsxXSwgMTApIDwgNTApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyB3ZSBjaGVjayBmb3IgdGhlIGNvb2tpZSBpbiBzZXRVcENocm9tZU5vdGlmaWNhdGlvbnMoKSB0aGUgdG9rZW5zIG1heSBoYXZlIGNoYW5nZWRcblxuXG4gICAgaWYgKCFpc0hUVFApIHtcbiAgICAgIGlmIChOb3RpZmljYXRpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIGhhbmRsZSBtaWdyYXRpb25zIGZyb20gb3RoZXIgc2VydmljZXMgLT4gY2hyb21lIG5vdGlmaWNhdGlvbnMgbWF5IGhhdmUgYWxyZWFkeSBiZWVuIGFza2VkIGZvciBiZWZvcmVcblxuXG4gICAgICBpZiAoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT09ICdncmFudGVkJykge1xuICAgICAgICAvLyBza2lwIHRoZSBkaWFsb2cgYW5kIHJlZ2lzdGVyXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2V0VXBXZWJQdXNoTm90aWZpY2F0aW9ucylbX3NldFVwV2ViUHVzaE5vdGlmaWNhdGlvbnNdKHN1YnNjcmlwdGlvbkNhbGxiYWNrLCBzZXJ2aWNlV29ya2VyUGF0aCwgYXBuc1dlYlB1c2hJZCwgYXBuc1dlYlB1c2hTZXJ2aWNlVXJsKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09PSAnZGVuaWVkJykge1xuICAgICAgICAvLyB3ZSd2ZSBsb3N0IHRoaXMgcHJvZmlsZSA6JyhcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2tpcERpYWxvZykge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3NldFVwV2ViUHVzaE5vdGlmaWNhdGlvbnMpW19zZXRVcFdlYlB1c2hOb3RpZmljYXRpb25zXShzdWJzY3JpcHRpb25DYWxsYmFjaywgc2VydmljZVdvcmtlclBhdGgsIGFwbnNXZWJQdXNoSWQsIGFwbnNXZWJQdXNoU2VydmljZVVybCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gLy8gbWFrZSBzdXJlIHRoZSByaWdodCBwYXJhbWV0ZXJzIGFyZSBwYXNzZWRcblxuXG4gICAgaWYgKCF0aXRsZVRleHQgfHwgIWJvZHlUZXh0IHx8ICFva0J1dHRvblRleHQgfHwgIXJlamVjdEJ1dHRvblRleHQpIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDgpW19sb2dnZXIkOF0uZXJyb3IoJ01pc3NpbmcgaW5wdXQgcGFyYW1ldGVyczsgcGxlYXNlIHNwZWNpZnkgdGl0bGUsIGJvZHksIG9rIGJ1dHRvbiBhbmQgY2FuY2VsIGJ1dHRvbiB0ZXh0Jyk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9IC8vIG1ha2Ugc3VyZSBva0J1dHRvbkNvbG9yIGlzIGZvcm1hdHRlZCBwcm9wZXJseVxuXG5cbiAgICBpZiAob2tCdXR0b25Db2xvciA9PSBudWxsIHx8ICFva0J1dHRvbkNvbG9yLm1hdGNoKC9eI1thLWZcXGRdezZ9JC9pKSkge1xuICAgICAgb2tCdXR0b25Db2xvciA9ICcjZjI4MDQ2JzsgLy8gZGVmYXVsdCBjb2xvciBmb3IgcG9zaXRpdmUgYnV0dG9uXG4gICAgfSAvLyBtYWtlIHN1cmUgdGhlIHVzZXIgaXNuJ3QgYXNrZWQgZm9yIG5vdGlmaWNhdGlvbnMgbW9yZSB0aGFuIGFza0FnYWluVGltZUluU2Vjb25kc1xuXG5cbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDA7XG5cbiAgICBpZiAoU3RvcmFnZU1hbmFnZXIuZ2V0TWV0YVByb3AoJ25vdGlmX2xhc3RfdGltZScpID09IG51bGwpIHtcbiAgICAgIFN0b3JhZ2VNYW5hZ2VyLnNldE1ldGFQcm9wKCdub3RpZl9sYXN0X3RpbWUnLCBub3cpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYXNrQWdhaW5UaW1lSW5TZWNvbmRzID09IG51bGwpIHtcbiAgICAgICAgLy8gNyBkYXlzIGJ5IGRlZmF1bHRcbiAgICAgICAgYXNrQWdhaW5UaW1lSW5TZWNvbmRzID0gNyAqIDI0ICogNjAgKiA2MDtcbiAgICAgIH1cblxuICAgICAgaWYgKG5vdyAtIFN0b3JhZ2VNYW5hZ2VyLmdldE1ldGFQcm9wKCdub3RpZl9sYXN0X3RpbWUnKSA8IGFza0FnYWluVGltZUluU2Vjb25kcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb250aW51ZSBhc2tpbmdcbiAgICAgICAgU3RvcmFnZU1hbmFnZXIuc2V0TWV0YVByb3AoJ25vdGlmX2xhc3RfdGltZScsIG5vdyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzSFRUUCkge1xuICAgICAgLy8gYWRkIHRoZSBodHRwcyBpZnJhbWVcbiAgICAgIGNvbnN0IGh0dHBzSWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgICBodHRwc0lmcmFtZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6bm9uZTsnKTtcbiAgICAgIGh0dHBzSWZyYW1lLnNldEF0dHJpYnV0ZSgnc3JjJywgaHR0cHNJZnJhbWVQYXRoKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaHR0cHNJZnJhbWUpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBldmVudCA9PiB7XG4gICAgICAgIGlmIChldmVudC5kYXRhICE9IG51bGwpIHtcbiAgICAgICAgICBsZXQgb2JqID0ge307XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgb2JqID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBub3QgYSBjYWxsIGZyb20gb3VyIGlmcmFtZVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChvYmouc3RhdGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKG9iai5mcm9tID09PSAnY3QnICYmIG9iai5zdGF0ZSA9PT0gJ25vdCcpIHtcbiAgICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hZGRXaXpBbGVydEpTKVtfYWRkV2l6QWxlcnRKU10oKS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIG91ciB3aXpyb2NrZXQgcG9wdXBcbiAgICAgICAgICAgICAgICB3aW5kb3cud3pya1Blcm1pc3Npb25Qb3B1cC53aXpBbGVydCh7XG4gICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGVUZXh0LFxuICAgICAgICAgICAgICAgICAgYm9keTogYm9keVRleHQsXG4gICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogb2tCdXR0b25UZXh0LFxuICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiBva0J1dHRvbkNvbG9yLFxuICAgICAgICAgICAgICAgICAgcmVqZWN0QnV0dG9uVGV4dDogcmVqZWN0QnV0dG9uVGV4dFxuICAgICAgICAgICAgICAgIH0sIGVuYWJsZWQgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8gY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgIGlmIChlbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSB1c2VyIGFjY2VwdGVkIG9uIHRoZSBkaWFsb2cgYm94XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2tDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgIG9rQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfSAvLyByZWRpcmVjdCB0byBwb3B1cC5odG1sXG5cblxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihodHRwc1BvcHVwUGF0aCk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlamVjdENhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmVqZWN0Q2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlbW92ZVdpekFsZXJ0SlMpW19yZW1vdmVXaXpBbGVydEpTXSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FkZFdpekFsZXJ0SlMpW19hZGRXaXpBbGVydEpTXSgpLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgLy8gY3JlYXRlIG91ciB3aXpyb2NrZXQgcG9wdXBcbiAgICAgICAgd2luZG93Lnd6cmtQZXJtaXNzaW9uUG9wdXAud2l6QWxlcnQoe1xuICAgICAgICAgIHRpdGxlOiB0aXRsZVRleHQsXG4gICAgICAgICAgYm9keTogYm9keVRleHQsXG4gICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IG9rQnV0dG9uVGV4dCxcbiAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6IG9rQnV0dG9uQ29sb3IsXG4gICAgICAgICAgcmVqZWN0QnV0dG9uVGV4dDogcmVqZWN0QnV0dG9uVGV4dFxuICAgICAgICB9LCBlbmFibGVkID0+IHtcbiAgICAgICAgICAvLyBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICAgIGlmIChlbmFibGVkKSB7XG4gICAgICAgICAgICAvLyB0aGUgdXNlciBhY2NlcHRlZCBvbiB0aGUgZGlhbG9nIGJveFxuICAgICAgICAgICAgaWYgKHR5cGVvZiBva0NhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIG9rQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXRVcFdlYlB1c2hOb3RpZmljYXRpb25zKVtfc2V0VXBXZWJQdXNoTm90aWZpY2F0aW9uc10oc3Vic2NyaXB0aW9uQ2FsbGJhY2ssIHNlcnZpY2VXb3JrZXJQYXRoLCBhcG5zV2ViUHVzaElkLCBhcG5zV2ViUHVzaFNlcnZpY2VVcmwpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlamVjdENhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIHJlamVjdENhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZW1vdmVXaXpBbGVydEpTKVtfcmVtb3ZlV2l6QWxlcnRKU10oKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICB2YXIgX3ZhcmlhYmxlU3RvcmUgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInZhcmlhYmxlU3RvcmVcIik7XG5cbiAgY2xhc3MgVmFyaWFibGUge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhlIFZhcmlhYmxlIGNsYXNzLlxuICAgICAqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtWYXJpYWJsZVN0b3JlfSBvcHRpb25zLnZhcmlhYmxlU3RvcmUgLSBUaGUgVmFyaWFibGVTdG9yZSBpbnN0YW5jZSBmb3IgcmVnaXN0cmF0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bGx9IG9wdGlvbnMubmFtZSAtIFRoZSBuYW1lIG9mIHRoZSB2YXJpYWJsZS5cbiAgICAgKiBAcGFyYW0geyp9IG9wdGlvbnMuZGVmYXVsdFZhbHVlIC0gVGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHZhcmlhYmxlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3B0aW9ucy52YWx1ZSAtIFRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSB2YXJpYWJsZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudWxsfSBvcHRpb25zLnR5cGUgLSBUaGUgdHlwZSBvZiB0aGUgdmFyaWFibGUgKHN0cmluZywgbnVtYmVyLCBib29sZWFuKS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuaGFkU3RhcnRlZCAtIEEgZmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHZhcmlhYmxlIGhhcyBzdGFydGVkICh1c2VkIGludGVybmFsbHkpLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gb3B0aW9ucy52YWx1ZUNoYW5nZWRDYWxsYmFja3MgLSBBcnJheSB0byBzdG9yZSBjYWxsYmFja3MgdG8gYmUgZXhlY3V0ZWQgd2hlbiB0aGUgdmFyaWFibGUgdmFsdWUgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihfcmVmKSB7XG4gICAgICBsZXQge1xuICAgICAgICB2YXJpYWJsZVN0b3JlXG4gICAgICB9ID0gX3JlZjtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfdmFyaWFibGVTdG9yZSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICB0aGlzLm5hbWUgPSBudWxsO1xuICAgICAgdGhpcy5kZWZhdWx0VmFsdWUgPSBudWxsO1xuICAgICAgdGhpcy52YWx1ZSA9IG51bGw7XG4gICAgICB0aGlzLnR5cGUgPSBudWxsO1xuICAgICAgdGhpcy5oYWRTdGFydGVkID0gZmFsc2U7XG4gICAgICB0aGlzLnZhbHVlQ2hhbmdlZENhbGxiYWNrcyA9IFtdO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZVN0b3JlKVtfdmFyaWFibGVTdG9yZV0gPSB2YXJpYWJsZVN0b3JlO1xuICAgIH1cblxuICAgIGdldFZhbHVlKCkge1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0ZGVmYXVsdFZhbHVlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIGEgbmV3IHZhcmlhYmxlIHdpdGggdGhlIHByb3ZpZGVkIG5hbWUsIGRlZmF1bHQgdmFsdWUsIGFuZCB2YXJpYWJsZSBzdG9yZS5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgdmFyaWFibGUuXG4gICAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgLSBUaGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgdmFyaWFibGUuXG4gICAgICogQHBhcmFtIHtWYXJpYWJsZVN0b3JlfSB2YXJpYWJsZVN0b3JlIC0gVGhlIFZhcmlhYmxlU3RvcmUgaW5zdGFuY2UgZm9yIHJlZ2lzdHJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7VmFyaWFibGV8bnVsbH0gLSBUaGUgY3JlYXRlZCBWYXJpYWJsZSBpbnN0YW5jZSBvciBudWxsIGlmIGludmFsaWQgcGFyYW1ldGVycyBhcmUgcHJvdmlkZWQuXG4gICAgICovXG5cblxuICAgIHN0YXRpYyBkZWZpbmUobmFtZSwgZGVmYXVsdFZhbHVlLCB2YXJpYWJsZVN0b3JlKSB7XG4gICAgICBpZiAoIW5hbWUgfHwgdHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0VtcHR5IG9yIGludmFsaWQgbmFtZSBwYXJhbWV0ZXIgcHJvdmlkZWQuJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAobmFtZS5zdGFydHNXaXRoKCcuJykgfHwgbmFtZS5lbmRzV2l0aCgnLicpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ZhcmlhYmxlIG5hbWUgc3RhcnRzIG9yIGVuZHMgd2l0aCBhIGAuYCB3aGljaCBpcyBub3QgYWxsb3dlZDogJyArIG5hbWUpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdHlwZU9mRGVmYXVsdFZhbHVlID0gdHlwZW9mIGRlZmF1bHRWYWx1ZTtcblxuICAgICAgaWYgKHR5cGVPZkRlZmF1bHRWYWx1ZSAhPT0gJ3N0cmluZycgJiYgdHlwZU9mRGVmYXVsdFZhbHVlICE9PSAnbnVtYmVyJyAmJiB0eXBlT2ZEZWZhdWx0VmFsdWUgIT09ICdib29sZWFuJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdPbmx5IHByaW1pdGl2ZSB0eXBlcyAoc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4pIGFyZSBhY2NlcHRlZCBhcyB2YWx1ZScpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZXhpc3RpbmcgPSB2YXJpYWJsZVN0b3JlLmdldFZhcmlhYmxlKG5hbWUpO1xuXG4gICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB2YXJJbnN0YW5jZSA9IG5ldyBWYXJpYWJsZSh7XG4gICAgICAgIHZhcmlhYmxlU3RvcmVcbiAgICAgIH0pO1xuXG4gICAgICB0cnkge1xuICAgICAgICB2YXJJbnN0YW5jZS5uYW1lID0gbmFtZTtcbiAgICAgICAgdmFySW5zdGFuY2UuZGVmYXVsdFZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICB2YXJJbnN0YW5jZS52YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgdmFySW5zdGFuY2UudHlwZSA9IHR5cGVPZkRlZmF1bHRWYWx1ZTtcbiAgICAgICAgdmFyaWFibGVTdG9yZS5yZWdpc3RlclZhcmlhYmxlKHZhckluc3RhbmNlKTtcbiAgICAgICAgdmFySW5zdGFuY2UudXBkYXRlKGRlZmF1bHRWYWx1ZSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhckluc3RhbmNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB2YXJpYWJsZSdzIHZhbHVlLCB0cmlnZ2VyaW5nIGNhbGxiYWNrcyBpZiBoYXNWYXJzUmVxdWVzdENvbXBsZXRlZCBpcyByZXR1cm5lZCB0cnVlLlxuICAgICAqIEBwYXJhbSB7Kn0gbmV3VmFsdWUgLSBUaGUgbmV3IHZhbHVlIHRvIGJlIGFzc2lnbmVkIHRvIHRoZSB2YXJpYWJsZS5cbiAgICAgKi9cblxuXG4gICAgdXBkYXRlKG5ld1ZhbHVlKSB7XG4gICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICB0aGlzLnZhbHVlID0gbmV3VmFsdWU7XG5cbiAgICAgIGlmIChuZXdWYWx1ZSA9PT0gbnVsbCAmJiBvbGRWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChuZXdWYWx1ZSAhPT0gbnVsbCAmJiBuZXdWYWx1ZSA9PT0gb2xkVmFsdWUgJiYgdGhpcy5oYWRTdGFydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVTdG9yZSlbX3ZhcmlhYmxlU3RvcmVdLmhhc1ZhcnNSZXF1ZXN0Q29tcGxldGVkKCkpIHtcbiAgICAgICAgdGhpcy5oYWRTdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50cmlnZ2VyVmFsdWVDaGFuZ2VkKCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZXMgYWxsIHJlZ2lzdGVyZWQgY2FsbGJhY2tzIHdoZW4gdGhlIHZhcmlhYmxlIHZhbHVlIGNoYW5nZXMuXG4gICAgICovXG5cblxuICAgIHRyaWdnZXJWYWx1ZUNoYW5nZWQoKSB7XG4gICAgICB0aGlzLnZhbHVlQ2hhbmdlZENhbGxiYWNrcy5mb3JFYWNoKG9uVmFsdWVDaGFuZ2VkID0+IHtcbiAgICAgICAgb25WYWx1ZUNoYW5nZWQodGhpcyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHRoZSBhcnJheSBhbmQgdHJpZ2dlcnMgaXQgaW1tZWRpYXRlbHkgaWYgdmFyaWFibGUgcmVxdWVzdHMgaGF2ZSBjb21wbGV0ZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb25WYWx1ZUNoYW5nZWQgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgYWRkZWQuXG4gICAgICovXG5cblxuICAgIGFkZFZhbHVlQ2hhbmdlZENhbGxiYWNrKG9uVmFsdWVDaGFuZ2VkKSB7XG4gICAgICBpZiAoIW9uVmFsdWVDaGFuZ2VkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdJbnZhbGlkIGNhbGxiYWNrIHBhcmFtZXRlciBwcm92aWRlZC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnZhbHVlQ2hhbmdlZENhbGxiYWNrcy5wdXNoKG9uVmFsdWVDaGFuZ2VkKTtcblxuICAgICAgaWYgKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVTdG9yZSlbX3ZhcmlhYmxlU3RvcmVdLmhhc1ZhcnNSZXF1ZXN0Q29tcGxldGVkKCkpIHtcbiAgICAgICAgb25WYWx1ZUNoYW5nZWQodGhpcyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBjYWxsYmFjayBmdW5jdGlvbiBmcm9tIHRoZSBhcnJheS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblZhbHVlQ2hhbmdlZCAtIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSByZW1vdmVkLlxuICAgICAqL1xuXG5cbiAgICByZW1vdmVWYWx1ZUNoYW5nZWRDYWxsYmFjayhvblZhbHVlQ2hhbmdlZCkge1xuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnZhbHVlQ2hhbmdlZENhbGxiYWNrcy5pbmRleE9mKG9uVmFsdWVDaGFuZ2VkKTtcblxuICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICB0aGlzLnZhbHVlQ2hhbmdlZENhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIGBoYWRTdGFydGVkYCBmbGFnIHRvIGZhbHNlLlxuICAgICAqL1xuXG5cbiAgICBjbGVhclN0YXJ0RmxhZygpIHtcbiAgICAgIHRoaXMuaGFkU3RhcnRlZCA9IGZhbHNlO1xuICAgIH1cblxuICB9XG5cbiAgdmFyIF9sb2dnZXIkOSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwibG9nZ2VyXCIpO1xuXG4gIHZhciBfYWNjb3VudCQ1ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJhY2NvdW50XCIpO1xuXG4gIHZhciBfcmVxdWVzdCQ2ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJyZXF1ZXN0XCIpO1xuXG4gIHZhciBfZXZlbnQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImV2ZW50XCIpO1xuXG4gIHZhciBfdmFyaWFibGVzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJ2YXJpYWJsZXNcIik7XG5cbiAgdmFyIF9yZW1vdGVWYXJpYWJsZXMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcInJlbW90ZVZhcmlhYmxlc1wiKTtcblxuICB2YXIgX2ZldGNoQ2FsbGJhY2sgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImZldGNoQ2FsbGJhY2tcIik7XG5cbiAgdmFyIF92YXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJ2YXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzXCIpO1xuXG4gIHZhciBfb25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3MgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcIm9uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzXCIpO1xuXG4gIHZhciBfaGFzVmFyc1JlcXVlc3RDb21wbGV0ZWQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImhhc1ZhcnNSZXF1ZXN0Q29tcGxldGVkXCIpO1xuXG4gIHZhciBfcnVuVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJydW5WYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tcIik7XG5cbiAgY2xhc3MgVmFyaWFibGVTdG9yZSB7XG4gICAgY29uc3RydWN0b3IoX3JlZikge1xuICAgICAgbGV0IHtcbiAgICAgICAgbG9nZ2VyLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBhY2NvdW50LFxuICAgICAgICBldmVudFxuICAgICAgfSA9IF9yZWY7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3J1blZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjaywge1xuICAgICAgICB2YWx1ZTogX3J1blZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjazJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9sb2dnZXIkOSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2FjY291bnQkNSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3JlcXVlc3QkNiwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2V2ZW50LCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfdmFyaWFibGVzLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcmVtb3RlVmFyaWFibGVzLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfZmV0Y2hDYWxsYmFjaywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3ZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3MsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9vbmVUaW1lVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrcywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2hhc1ZhcnNSZXF1ZXN0Q29tcGxldGVkLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOSlbX2xvZ2dlciQ5XSA9IGxvZ2dlcjtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ1KVtfYWNjb3VudCQ1XSA9IGFjY291bnQ7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNilbX3JlcXVlc3QkNl0gPSByZXF1ZXN0O1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9ldmVudClbX2V2ZW50XSA9IGV2ZW50O1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZXMpW192YXJpYWJsZXNdID0ge307XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlbW90ZVZhcmlhYmxlcylbX3JlbW90ZVZhcmlhYmxlc10gPSB7fTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrcylbX3ZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3NdID0gW107XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzKVtfb25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3NdID0gW107XG4gICAgICAkY3QudmFyaWFibGVTdG9yZSA9IHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIHZhcmlhYmxlIGluc3RhbmNlIGluIHRoZSBzdG9yZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdmFySW5zdGFuY2UgLSBUaGUgdmFyaWFibGUgaW5zdGFuY2UgdG8gYmUgcmVnaXN0ZXJlZC5cbiAgICAgKi9cblxuXG4gICAgcmVnaXN0ZXJWYXJpYWJsZSh2YXJJbnN0YW5jZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBuYW1lXG4gICAgICB9ID0gdmFySW5zdGFuY2U7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlcylbX3ZhcmlhYmxlc11bbmFtZV0gPSB2YXJJbnN0YW5jZTtcbiAgICAgIGNvbnNvbGUubG9nKCdyZWdpc3RlclZhcmlhYmxlJywgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZXMpW192YXJpYWJsZXNdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgdmFyaWFibGUgYnkgaXRzIG5hbWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgdmFyaWFibGUgdG8gcmV0cmlldmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gLSBUaGUgdmFyaWFibGUgaW5zdGFuY2UuXG4gICAgICovXG5cblxuICAgIGdldFZhcmlhYmxlKG5hbWUpIHtcbiAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlcylbX3ZhcmlhYmxlc11bbmFtZV07XG4gICAgfVxuXG4gICAgaGFzVmFyc1JlcXVlc3RDb21wbGV0ZWQoKSB7XG4gICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9oYXNWYXJzUmVxdWVzdENvbXBsZXRlZClbX2hhc1ZhcnNSZXF1ZXN0Q29tcGxldGVkXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3luY2hyb25pemVzIHZhcmlhYmxlcyB3aXRoIHRoZSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb25TeW5jU3VjY2VzcyAtIENhbGxiYWNrIGZ1bmN0aW9uIG9uIHN1Y2Nlc3NmdWwgc3luY2hyb25pemF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3luY0ZhaWx1cmUgLSBDYWxsYmFjayBmdW5jdGlvbiBvbiBzeW5jaHJvbml6YXRpb24gZmFpbHVyZS5cbiAgICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGFjY291bnQgdG9rZW4gaXMgbWlzc2luZy5cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBUaGUgcmVzdWx0IG9mIHRoZSBzeW5jaHJvbml6YXRpb24gcmVxdWVzdC5cbiAgICAgKi9cblxuXG4gICAgc3luY1ZhcmlhYmxlcyhvblN5bmNTdWNjZXNzLCBvblN5bmNGYWlsdXJlKSB7XG4gICAgICBpZiAoIV9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ1KVtfYWNjb3VudCQ1XS50b2tlbikge1xuICAgICAgICBjb25zdCBtID0gJ0FjY291bnQgdG9rZW4gaXMgbWlzc2luZy4nO1xuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDkpW19sb2dnZXIkOV0uZXJyb3IobSk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihtKSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHR5cGU6ICd2YXJzUGF5bG9hZCcsXG4gICAgICAgIHZhcnM6IHt9XG4gICAgICB9O1xuXG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZXMpW192YXJpYWJsZXNdKSB7XG4gICAgICAgIHBheWxvYWQudmFyc1tuYW1lXSA9IHtcbiAgICAgICAgICBkZWZhdWx0VmFsdWU6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVzKVtfdmFyaWFibGVzXVtuYW1lXS5kZWZhdWx0VmFsdWUsXG4gICAgICAgICAgdHlwZTogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZXMpW192YXJpYWJsZXNdW25hbWVdLnR5cGVcbiAgICAgICAgfTtcbiAgICAgIH0gLy8gQ2hlY2sgaWYgcGF5bG9hZC52YXJzIGlzIGVtcHR5XG5cblxuICAgICAgaWYgKE9iamVjdC5rZXlzKHBheWxvYWQudmFycykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IG0gPSAnTm8gdmFyaWFibGVzIGFyZSBkZWZpbmVkLic7XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkOSlbX2xvZ2dlciQ5XS5lcnJvcihtKTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKG0pKTtcbiAgICAgIH1cblxuICAgICAgbGV0IG1ldGEgPSB7fTtcbiAgICAgIG1ldGEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNilbX3JlcXVlc3QkNl0uYWRkU3lzdGVtRGF0YVRvT2JqZWN0KG1ldGEsIHVuZGVmaW5lZCk7XG4gICAgICBtZXRhLnRrID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDUpW19hY2NvdW50JDVdLnRva2VuO1xuICAgICAgbWV0YS50eXBlID0gJ21ldGEnO1xuICAgICAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KFttZXRhLCBwYXlsb2FkXSk7XG5cbiAgICAgIGNvbnN0IHVybCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ1KVtfYWNjb3VudCQ1XS5kYXRhUG9zdFBFVVJMO1xuXG4gICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDYpW19yZXF1ZXN0JDZdLnBvc3QodXJsLCBib2R5KS50aGVuKHIgPT4ge1xuICAgICAgICBpZiAob25TeW5jU3VjY2VzcyAmJiB0eXBlb2Ygb25TeW5jU3VjY2VzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9uU3luY1N1Y2Nlc3Mocik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcjtcbiAgICAgIH0pLmNhdGNoKGUgPT4ge1xuICAgICAgICBpZiAob25TeW5jRmFpbHVyZSAmJiB0eXBlb2Ygb25TeW5jRmFpbHVyZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9uU3luY0ZhaWx1cmUoZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZS5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDkpW19sb2dnZXIkOV0uZXJyb3IoJ0ludmFsaWQgc3luYyBwYXlsb2FkIG9yIGNsZWFyIHRoZSBleGlzdGluZyBkcmFmdCcpO1xuICAgICAgICB9IGVsc2UgaWYgKGUuc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ5KVtfbG9nZ2VyJDldLmVycm9yKCdUaGlzIGlzIG5vdCBhIHRlc3QgcHJvZmlsZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJDkpW19sb2dnZXIkOV0uZXJyb3IoJ1N5bmMgdmFyaWFibGUgZmFpbGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBlO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgdmFyaWFibGVzIGZyb20gdGhlIHNlcnZlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkZldGNoQ2FsbGJhY2sgLSBDYWxsYmFjayBmdW5jdGlvbiBvbiBmZXRjaCBjb21wbGV0aW9uLlxuICAgICAqL1xuXG5cbiAgICBmZXRjaFZhcmlhYmxlcyhvbkZldGNoQ2FsbGJhY2spIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZXZlbnQpW19ldmVudF0ucHVzaChXWlJLX0ZFVENILCB7XG4gICAgICAgIHQ6IDRcbiAgICAgIH0pO1xuXG4gICAgICBpZiAob25GZXRjaENhbGxiYWNrICYmIHR5cGVvZiBvbkZldGNoQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9mZXRjaENhbGxiYWNrKVtfZmV0Y2hDYWxsYmFja10gPSBvbkZldGNoQ2FsbGJhY2s7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbWVyZ2VWYXJpYWJsZXModmFycykge1xuICAgICAgY29uc29sZS5sb2coJ21zZyB2YXJzIGlzICcsIHZhcnMpO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9oYXNWYXJzUmVxdWVzdENvbXBsZXRlZClbX2hhc1ZhcnNSZXF1ZXN0Q29tcGxldGVkXSA9IHRydWU7XG4gICAgICBTdG9yYWdlTWFuYWdlci5zYXZlVG9MU29yQ29va2llKFZBUklBQkxFUywgdmFycyk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlbW90ZVZhcmlhYmxlcylbX3JlbW90ZVZhcmlhYmxlc10gPSB2YXJzO1xuXG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZXMpW192YXJpYWJsZXNdKSB7XG4gICAgICAgIGlmICh2YXJzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZXMpW192YXJpYWJsZXNdW25hbWVdLnVwZGF0ZSh2YXJzW25hbWVdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9mZXRjaENhbGxiYWNrKVtfZmV0Y2hDYWxsYmFja10pIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9mZXRjaENhbGxiYWNrKVtfZmV0Y2hDYWxsYmFja10oKTtcbiAgICAgIH1cblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9ydW5WYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2spW19ydW5WYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tdKCk7XG4gICAgfVxuXG4gICAgYWRkVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgICBpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrcylbX3ZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3NdLnB1c2goY2FsbGJhY2spO1xuXG4gICAgICAgIGlmICh0aGlzLmhhc1ZhcnNSZXF1ZXN0Q29tcGxldGVkKCkpIHtcbiAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciQ5KVtfbG9nZ2VyJDldLmVycm9yKCdjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGFkZE9uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgIGlmIChjYWxsYmFjayAmJiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzVmFyc1JlcXVlc3RDb21wbGV0ZWQoKSkge1xuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbmVUaW1lVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrcylbX29uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzXS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjayhjYWxsYmFjaykge1xuICAgICAgY29uc3QgaW5kZXggPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3MpW192YXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzXS5pbmRleE9mKGNhbGxiYWNrKTtcblxuICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3MpW192YXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzXS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZU9uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbmVUaW1lVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrcylbX29uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzXS5pbmRleE9mKGNhbGxiYWNrKTtcblxuICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzKVtfb25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3NdLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICB2YXIgX3J1blZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjazIgPSBmdW5jdGlvbiBfcnVuVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrMigpIHtcbiAgICBmb3IgKHZhciBjYWxsYmFjayBvZiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3MpW192YXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzXSkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBjYWxsQmFjayBvZiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2tzKVtfb25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3NdKSB7XG4gICAgICBjYWxsQmFjaygpO1xuICAgIH1cblxuICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3MpW19vbmVUaW1lVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrc10ubGVuZ3RoID0gMDtcbiAgfTtcblxuICB2YXIgX2xvZ2dlciRhID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJsb2dnZXJcIik7XG5cbiAgdmFyIF9hcGkgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImFwaVwiKTtcblxuICB2YXIgX29ubG9hZGNhbGxlZCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwib25sb2FkY2FsbGVkXCIpO1xuXG4gIHZhciBfZGV2aWNlJDMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImRldmljZVwiKTtcblxuICB2YXIgX3Nlc3Npb24kMyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwic2Vzc2lvblwiKTtcblxuICB2YXIgX2FjY291bnQkNiA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYWNjb3VudFwiKTtcblxuICB2YXIgX3JlcXVlc3QkNyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwicmVxdWVzdFwiKTtcblxuICB2YXIgX3ZhcmlhYmxlU3RvcmUkMSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwidmFyaWFibGVTdG9yZVwiKTtcblxuICB2YXIgX2lzU3BhID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJpc1NwYVwiKTtcblxuICB2YXIgX3ByZXZpb3VzVXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJwcmV2aW91c1VybFwiKTtcblxuICB2YXIgX2JvdW5kQ2hlY2tQYWdlQ2hhbmdlZCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiYm91bmRDaGVja1BhZ2VDaGFuZ2VkXCIpO1xuXG4gIHZhciBfZGlzbWlzc1NwYW1Db250cm9sID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJkaXNtaXNzU3BhbUNvbnRyb2xcIik7XG5cbiAgdmFyIF9wcm9jZXNzT2xkVmFsdWVzID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJwcm9jZXNzT2xkVmFsdWVzXCIpO1xuXG4gIHZhciBfZGVib3VuY2UgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImRlYm91bmNlXCIpO1xuXG4gIHZhciBfY2hlY2tQYWdlQ2hhbmdlZCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwiY2hlY2tQYWdlQ2hhbmdlZFwiKTtcblxuICB2YXIgX3BpbmdSZXF1ZXN0ID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJwaW5nUmVxdWVzdFwiKTtcblxuICB2YXIgX2lzUGluZ0NvbnRpbnVvdXMgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleShcImlzUGluZ0NvbnRpbnVvdXNcIik7XG5cbiAgdmFyIF9vdmVycmlkZURTeW5jRmxhZyA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5KFwib3ZlcnJpZGVEU3luY0ZsYWdcIik7XG5cbiAgdmFyIF9zZW5kTG9jYXRpb25EYXRhID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkoXCJzZW5kTG9jYXRpb25EYXRhXCIpO1xuXG4gIGNsYXNzIENsZXZlclRhcCB7XG4gICAgZ2V0IHNwYSgpIHtcbiAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzU3BhKVtfaXNTcGFdO1xuICAgIH1cblxuICAgIHNldCBzcGEodmFsdWUpIHtcbiAgICAgIGNvbnN0IGlzU3BhID0gdmFsdWUgPT09IHRydWU7XG5cbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzU3BhKVtfaXNTcGFdICE9PSBpc1NwYSAmJiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29ubG9hZGNhbGxlZClbX29ubG9hZGNhbGxlZF0gPT09IDEpIHtcbiAgICAgICAgLy8gaWYgY2xldmVydGFwLnNwYSBpcyBjaGFuZ2VkIGFmdGVyIGluaXQgaGFzIGJlZW4gY2FsbGVkIHRoZW4gdXBkYXRlIHRoZSBjbGljayBsaXN0ZW5lcnNcbiAgICAgICAgaWYgKGlzU3BhKSB7XG4gICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2JvdW5kQ2hlY2tQYWdlQ2hhbmdlZClbX2JvdW5kQ2hlY2tQYWdlQ2hhbmdlZF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9ib3VuZENoZWNrUGFnZUNoYW5nZWQpW19ib3VuZENoZWNrUGFnZUNoYW5nZWRdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2lzU3BhKVtfaXNTcGFdID0gaXNTcGE7XG4gICAgfVxuXG4gICAgZ2V0IGRpc21pc3NTcGFtQ29udHJvbCgpIHtcbiAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2Rpc21pc3NTcGFtQ29udHJvbClbX2Rpc21pc3NTcGFtQ29udHJvbF07XG4gICAgfVxuXG4gICAgc2V0IGRpc21pc3NTcGFtQ29udHJvbCh2YWx1ZSkge1xuICAgICAgY29uc3QgZGlzbWlzc1NwYW1Db250cm9sID0gdmFsdWUgPT09IHRydWU7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2Rpc21pc3NTcGFtQ29udHJvbClbX2Rpc21pc3NTcGFtQ29udHJvbF0gPSBkaXNtaXNzU3BhbUNvbnRyb2w7XG4gICAgICAkY3QuZGlzbWlzc1NwYW1Db250cm9sID0gZGlzbWlzc1NwYW1Db250cm9sO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgdmFyIF9jbGV2ZXJ0YXAkYWNjb3VudCwgX2NsZXZlcnRhcCRhY2NvdW50MiwgX2NsZXZlcnRhcCRhY2NvdW50MywgX2NsZXZlcnRhcCRhY2NvdW50NCwgX2NsZXZlcnRhcCRhY2NvdW50NTtcblxuICAgICAgbGV0IGNsZXZlcnRhcCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3NlbmRMb2NhdGlvbkRhdGEsIHtcbiAgICAgICAgdmFsdWU6IF9zZW5kTG9jYXRpb25EYXRhMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX292ZXJyaWRlRFN5bmNGbGFnLCB7XG4gICAgICAgIHZhbHVlOiBfb3ZlcnJpZGVEU3luY0ZsYWcyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfaXNQaW5nQ29udGludW91cywge1xuICAgICAgICB2YWx1ZTogX2lzUGluZ0NvbnRpbnVvdXMyXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfcGluZ1JlcXVlc3QsIHtcbiAgICAgICAgdmFsdWU6IF9waW5nUmVxdWVzdDJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9jaGVja1BhZ2VDaGFuZ2VkLCB7XG4gICAgICAgIHZhbHVlOiBfY2hlY2tQYWdlQ2hhbmdlZDJcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9kZWJvdW5jZSwge1xuICAgICAgICB2YWx1ZTogX2RlYm91bmNlMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3Byb2Nlc3NPbGRWYWx1ZXMsIHtcbiAgICAgICAgdmFsdWU6IF9wcm9jZXNzT2xkVmFsdWVzMlxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2xvZ2dlciRhLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfYXBpLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfb25sb2FkY2FsbGVkLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfZGV2aWNlJDMsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9zZXNzaW9uJDMsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9hY2NvdW50JDYsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9yZXF1ZXN0JDcsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF92YXJpYWJsZVN0b3JlJDEsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIF9pc1NwYSwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX3ByZXZpb3VzVXJsLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBfYm91bmRDaGVja1BhZ2VDaGFuZ2VkLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9jaGVja1BhZ2VDaGFuZ2VkKVtfY2hlY2tQYWdlQ2hhbmdlZF0uYmluZCh0aGlzKVxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgX2Rpc21pc3NTcGFtQ29udHJvbCwge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICB0aGlzLmVuYWJsZVBlcnNvbmFsaXphdGlvbiA9IHZvaWQgMDtcbiAgICAgIHRoaXMucG9wdXBDYWxsYmFja3MgPSB7fTtcbiAgICAgIHRoaXMucG9wdXBDdXJyZW50V3pya0lkID0gJyc7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29ubG9hZGNhbGxlZClbX29ubG9hZGNhbGxlZF0gPSAwO1xuICAgICAgdGhpcy5faXNQZXJzb25hbGlzYXRpb25BY3RpdmUgPSB0aGlzLl9pc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZS5iaW5kKHRoaXMpO1xuXG4gICAgICB0aGlzLnJhaXNlTm90aWZpY2F0aW9uQ2xpY2tlZCA9ICgpID0+IHt9O1xuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdID0gbmV3IExvZ2dlcihsb2dMZXZlbHMuSU5GTyk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNilbX2FjY291bnQkNl0gPSBuZXcgQWNjb3VudCgoX2NsZXZlcnRhcCRhY2NvdW50ID0gY2xldmVydGFwLmFjY291bnQpID09PSBudWxsIHx8IF9jbGV2ZXJ0YXAkYWNjb3VudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NsZXZlcnRhcCRhY2NvdW50WzBdLCBjbGV2ZXJ0YXAucmVnaW9uIHx8ICgoX2NsZXZlcnRhcCRhY2NvdW50MiA9IGNsZXZlcnRhcC5hY2NvdW50KSA9PT0gbnVsbCB8fCBfY2xldmVydGFwJGFjY291bnQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY2xldmVydGFwJGFjY291bnQyWzFdKSwgY2xldmVydGFwLnRhcmdldERvbWFpbiB8fCAoKF9jbGV2ZXJ0YXAkYWNjb3VudDMgPSBjbGV2ZXJ0YXAuYWNjb3VudCkgPT09IG51bGwgfHwgX2NsZXZlcnRhcCRhY2NvdW50MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NsZXZlcnRhcCRhY2NvdW50M1syXSksIGNsZXZlcnRhcC50b2tlbiB8fCAoKF9jbGV2ZXJ0YXAkYWNjb3VudDQgPSBjbGV2ZXJ0YXAuYWNjb3VudCkgPT09IG51bGwgfHwgX2NsZXZlcnRhcCRhY2NvdW50NCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NsZXZlcnRhcCRhY2NvdW50NFszXSkpO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UkMylbX2RldmljZSQzXSA9IG5ldyBEZXZpY2VNYW5hZ2VyKHtcbiAgICAgICAgbG9nZ2VyOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdXG4gICAgICB9KTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGlzbWlzc1NwYW1Db250cm9sKVtfZGlzbWlzc1NwYW1Db250cm9sXSA9IGNsZXZlcnRhcC5kaXNtaXNzU3BhbUNvbnRyb2wgfHwgZmFsc2U7XG4gICAgICB0aGlzLnNocGZ5UHJveHlQYXRoID0gY2xldmVydGFwLnNocGZ5UHJveHlQYXRoIHx8ICcnO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uJDMpW19zZXNzaW9uJDNdID0gbmV3IFNlc3Npb25NYW5hZ2VyKHtcbiAgICAgICAgbG9nZ2VyOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdLFxuICAgICAgICBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZTogdGhpcy5faXNQZXJzb25hbGlzYXRpb25BY3RpdmVcbiAgICAgIH0pO1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDcpW19yZXF1ZXN0JDddID0gbmV3IFJlcXVlc3RNYW5hZ2VyKHtcbiAgICAgICAgbG9nZ2VyOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdLFxuICAgICAgICBhY2NvdW50OiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNilbX2FjY291bnQkNl0sXG4gICAgICAgIGRldmljZTogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UkMylbX2RldmljZSQzXSxcbiAgICAgICAgc2Vzc2lvbjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uJDMpW19zZXNzaW9uJDNdLFxuICAgICAgICBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZTogdGhpcy5faXNQZXJzb25hbGlzYXRpb25BY3RpdmVcbiAgICAgIH0pO1xuICAgICAgdGhpcy5lbmFibGVQZXJzb25hbGl6YXRpb24gPSBjbGV2ZXJ0YXAuZW5hYmxlUGVyc29uYWxpemF0aW9uIHx8IGZhbHNlO1xuICAgICAgdGhpcy5ldmVudCA9IG5ldyBFdmVudEhhbmRsZXIoe1xuICAgICAgICBsb2dnZXI6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0sXG4gICAgICAgIHJlcXVlc3Q6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XSxcbiAgICAgICAgaXNQZXJzb25hbGlzYXRpb25BY3RpdmU6IHRoaXMuX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlXG4gICAgICB9LCBjbGV2ZXJ0YXAuZXZlbnQpO1xuICAgICAgdGhpcy5wcm9maWxlID0gbmV3IFByb2ZpbGVIYW5kbGVyKHtcbiAgICAgICAgbG9nZ2VyOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdLFxuICAgICAgICByZXF1ZXN0OiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNylbX3JlcXVlc3QkN10sXG4gICAgICAgIGFjY291bnQ6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ2KVtfYWNjb3VudCQ2XSxcbiAgICAgICAgaXNQZXJzb25hbGlzYXRpb25BY3RpdmU6IHRoaXMuX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlXG4gICAgICB9LCBjbGV2ZXJ0YXAucHJvZmlsZSk7XG4gICAgICB0aGlzLm9uVXNlckxvZ2luID0gbmV3IFVzZXJMb2dpbkhhbmRsZXIoe1xuICAgICAgICByZXF1ZXN0OiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNylbX3JlcXVlc3QkN10sXG4gICAgICAgIGFjY291bnQ6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ2KVtfYWNjb3VudCQ2XSxcbiAgICAgICAgc2Vzc2lvbjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uJDMpW19zZXNzaW9uJDNdLFxuICAgICAgICBsb2dnZXI6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0sXG4gICAgICAgIGRldmljZTogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UkMylbX2RldmljZSQzXVxuICAgICAgfSwgY2xldmVydGFwLm9uVXNlckxvZ2luKTtcbiAgICAgIHRoaXMucHJpdmFjeSA9IG5ldyBQcml2YWN5KHtcbiAgICAgICAgcmVxdWVzdDogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDcpW19yZXF1ZXN0JDddLFxuICAgICAgICBhY2NvdW50OiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNilbX2FjY291bnQkNl0sXG4gICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXVxuICAgICAgfSwgY2xldmVydGFwLnByaXZhY3kpO1xuICAgICAgdGhpcy5ub3RpZmljYXRpb25zID0gbmV3IE5vdGlmaWNhdGlvbkhhbmRsZXIoe1xuICAgICAgICBsb2dnZXI6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0sXG4gICAgICAgIHJlcXVlc3Q6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XSxcbiAgICAgICAgYWNjb3VudDogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdXG4gICAgICB9LCBjbGV2ZXJ0YXAubm90aWZpY2F0aW9ucyk7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlU3RvcmUkMSlbX3ZhcmlhYmxlU3RvcmUkMV0gPSBuZXcgVmFyaWFibGVTdG9yZSh7XG4gICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXSxcbiAgICAgICAgcmVxdWVzdDogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDcpW19yZXF1ZXN0JDddLFxuICAgICAgICBhY2NvdW50OiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNilbX2FjY291bnQkNl0sXG4gICAgICAgIGV2ZW50OiB0aGlzLmV2ZW50XG4gICAgICB9KTtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYXBpKVtfYXBpXSA9IG5ldyBDbGV2ZXJUYXBBUEkoe1xuICAgICAgICBsb2dnZXI6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0sXG4gICAgICAgIHJlcXVlc3Q6IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XSxcbiAgICAgICAgZGV2aWNlOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSQzKVtfZGV2aWNlJDNdLFxuICAgICAgICBzZXNzaW9uOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMylbX3Nlc3Npb24kM11cbiAgICAgIH0pO1xuICAgICAgdGhpcy5zcGEgPSBjbGV2ZXJ0YXAuc3BhO1xuICAgICAgdGhpcy5kaXNtaXNzU3BhbUNvbnRyb2wgPSBjbGV2ZXJ0YXAuZGlzbWlzc1NwYW1Db250cm9sO1xuICAgICAgdGhpcy51c2VyID0gbmV3IFVzZXIoe1xuICAgICAgICBpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZTogdGhpcy5faXNQZXJzb25hbGlzYXRpb25BY3RpdmVcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZXNzaW9uID0ge1xuICAgICAgICBnZXRUaW1lRWxhcHNlZDogKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMylbX3Nlc3Npb24kM10uZ2V0VGltZUVsYXBzZWQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0UGFnZUNvdW50OiAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2Vzc2lvbiQzKVtfc2Vzc2lvbiQzXS5nZXRQYWdlQ291bnQoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5sb2dvdXQgPSAoKSA9PiB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0uZGVidWcoJ2xvZ291dCBjYWxsZWQnKTtcblxuICAgICAgICBTdG9yYWdlTWFuYWdlci5zZXRJbnN0YW50RGVsZXRlRmxhZ0luSygpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5jbGVhciA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5vblVzZXJMb2dpbi5jbGVhcigpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5nZXRDbGV2ZXJUYXBJRCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfZGV2aWNlJDMpW19kZXZpY2UkM10uZ2V0R3VpZCgpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5nZXRBY2NvdW50SUQgPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNilbX2FjY291bnQkNl0uaWQ7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmdldFNDRG9tYWluID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLmZpbmFsVGFyZ2V0RG9tYWluO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5zZXRMaWJyYXJ5ID0gKGxpYk5hbWUsIGxpYlZlcnNpb24pID0+IHtcbiAgICAgICAgJGN0LmZsdXR0ZXJWZXJzaW9uID0ge1xuICAgICAgICAgIFtsaWJOYW1lXTogbGliVmVyc2lvblxuICAgICAgICB9O1xuICAgICAgfTsgLy8gU2V0IHRoZSBTaWduZWQgQ2FsbCBzZGsgdmVyc2lvbiBhbmQgZmlyZSByZXF1ZXN0XG5cblxuICAgICAgdGhpcy5zZXRTQ1NES1ZlcnNpb24gPSB2ZXIgPT4ge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2FjY291bnQkNilbX2FjY291bnQkNl0uc2NTREtWZXJzaW9uID0gdmVyO1xuICAgICAgICBjb25zdCBkYXRhID0ge307XG4gICAgICAgIGRhdGEuYWYgPSB7XG4gICAgICAgICAgc2N2OiAnc2Mtc2RrLXYnICsgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLnNjU0RLVmVyc2lvblxuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBwYWdlTG9hZFVybCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ2KVtfYWNjb3VudCQ2XS5kYXRhUG9zdFVSTDtcblxuICAgICAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAndHlwZScsICdwYWdlJyk7XG4gICAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICdkJywgY29tcHJlc3NEYXRhKEpTT04uc3RyaW5naWZ5KGRhdGEpLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdKSk7XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDcpW19yZXF1ZXN0JDddLnNhdmVBbmRGaXJlUmVxdWVzdChwYWdlTG9hZFVybCwgJGN0LmJsb2NrUmVxdWVzdCk7XG4gICAgICB9O1xuXG4gICAgICBpZiAoaGFzV2ViSW5ib3hTZXR0aW5nc0luTFMoKSkge1xuICAgICAgICBjaGVja0FuZFJlZ2lzdGVyV2ViSW5ib3hFbGVtZW50cygpO1xuICAgICAgICBpbml0aWFsaXplV2ViSW5ib3goX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXSk7XG4gICAgICB9IC8vIEdldCBJbmJveCBNZXNzYWdlIENvdW50XG5cblxuICAgICAgdGhpcy5nZXRJbmJveE1lc3NhZ2VDb3VudCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgbXNnQ291bnQgPSBnZXRJbmJveE1lc3NhZ2VzKCk7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhtc2dDb3VudCkubGVuZ3RoO1xuICAgICAgfTsgLy8gR2V0IEluYm94IFVucmVhZCBNZXNzYWdlIENvdW50XG5cblxuICAgICAgdGhpcy5nZXRJbmJveE1lc3NhZ2VVbnJlYWRDb3VudCA9ICgpID0+IHtcbiAgICAgICAgaWYgKCRjdC5pbmJveCkge1xuICAgICAgICAgIHJldHVybiAkY3QuaW5ib3gudW52aWV3ZWRDb3VudGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0uZGVidWcoJ05vIHVucmVhZCBtZXNzYWdlcycpO1xuICAgICAgICB9XG4gICAgICB9OyAvLyBHZXQgQWxsIEluYm94IG1lc3NhZ2VzXG5cblxuICAgICAgdGhpcy5nZXRBbGxJbmJveE1lc3NhZ2VzID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gZ2V0SW5ib3hNZXNzYWdlcygpO1xuICAgICAgfTsgLy8gR2V0IG9ubHkgVW5yZWFkIG1lc3NhZ2VzXG5cblxuICAgICAgdGhpcy5nZXRVbnJlYWRJbmJveE1lc3NhZ2VzID0gKCkgPT4ge1xuICAgICAgICBpZiAoJGN0LmluYm94KSB7XG4gICAgICAgICAgcmV0dXJuICRjdC5pbmJveC51bnZpZXdlZE1lc3NhZ2VzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0uZGVidWcoJ05vIHVucmVhZCBtZXNzYWdlcycpO1xuICAgICAgICB9XG4gICAgICB9OyAvLyBHZXQgbWVzc2FnZSBvYmplY3QgYmVsb25naW5nIHRvIHRoZSBnaXZlbiBtZXNzYWdlIGlkIG9ubHkuIE1lc3NhZ2UgaWQgc2hvdWxkIGJlIGEgU3RyaW5nXG5cblxuICAgICAgdGhpcy5nZXRJbmJveE1lc3NhZ2VGb3JJZCA9IG1lc3NhZ2VJZCA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gZ2V0SW5ib3hNZXNzYWdlcygpO1xuXG4gICAgICAgIGlmICgobWVzc2FnZUlkICE9PSBudWxsIHx8IG1lc3NhZ2VJZCAhPT0gJycpICYmIG1lc3NhZ2VzLmhhc093blByb3BlcnR5KG1lc3NhZ2VJZCkpIHtcbiAgICAgICAgICByZXR1cm4gbWVzc2FnZXNbbWVzc2FnZUlkXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdLmVycm9yKCdObyBtZXNzYWdlIGF2YWlsYWJsZSBmb3IgbWVzc2FnZSBJZCAnICsgbWVzc2FnZUlkKTtcbiAgICAgICAgfVxuICAgICAgfTsgLy8gRGVsZXRlIG1lc3NhZ2UgZnJvbSB0aGUgSW5ib3guIE1lc3NhZ2UgaWQgc2hvdWxkIGJlIGEgU3RyaW5nXG4gICAgICAvLyBJZiB0aGUgbWVzc2FnZSB0byBiZSBkZWxldGVkIGlzIHVudmlld2VkIHRoZW4gZGVjcmVtZW50IHRoZSBiYWRnZSBjb3VudCwgZGVsZXRlIHRoZSBtZXNzYWdlIGZyb20gdW52aWV3ZWRNZXNzYWdlcyBsaXN0XG4gICAgICAvLyBUaGVuIHJlbW92ZSB0aGUgbWVzc2FnZSBmcm9tIGxvY2FsIHN0b3JhZ2UgYW5kIHVwZGF0ZSBjb29raWVcblxuXG4gICAgICB0aGlzLmRlbGV0ZUluYm94TWVzc2FnZSA9IG1lc3NhZ2VJZCA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gZ2V0SW5ib3hNZXNzYWdlcygpO1xuXG4gICAgICAgIGlmICgobWVzc2FnZUlkICE9PSBudWxsIHx8IG1lc3NhZ2VJZCAhPT0gJycpICYmIG1lc3NhZ2VzLmhhc093blByb3BlcnR5KG1lc3NhZ2VJZCkpIHtcbiAgICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2N0LXdlYi1pbmJveCcpLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQobWVzc2FnZUlkKTtcblxuICAgICAgICAgIGlmIChtZXNzYWdlc1ttZXNzYWdlSWRdLnZpZXdlZCA9PT0gMCkge1xuICAgICAgICAgICAgJGN0LmluYm94LnVudmlld2VkQ291bnRlci0tO1xuICAgICAgICAgICAgZGVsZXRlICRjdC5pbmJveC51bnZpZXdlZE1lc3NhZ2VzW21lc3NhZ2VJZF07XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW52aWV3ZWRCYWRnZScpLmlubmVyVGV4dCA9ICRjdC5pbmJveC51bnZpZXdlZENvdW50ZXI7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW52aWV3ZWRCYWRnZScpLnN0eWxlLmRpc3BsYXkgPSAkY3QuaW5ib3gudW52aWV3ZWRDb3VudGVyID4gMCA/ICdmbGV4JyA6ICdub25lJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbCAmJiBlbC5yZW1vdmUoKTtcbiAgICAgICAgICBkZWxldGUgbWVzc2FnZXNbbWVzc2FnZUlkXTtcbiAgICAgICAgICBzYXZlSW5ib3hNZXNzYWdlcyhtZXNzYWdlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXS5lcnJvcignTm8gbWVzc2FnZSBhdmFpbGFibGUgZm9yIG1lc3NhZ2UgSWQgJyArIG1lc3NhZ2VJZCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICAvKiBNYXJrIE1lc3NhZ2UgYXMgUmVhZC4gTWVzc2FnZSBpZCBzaG91bGQgYmUgYSBTdHJpbmdcbiAgICAgICAtIENoZWNrIGlmIHRoZSBtZXNzYWdlIElkIGV4aXN0IGluIHRoZSB1bnJlYWQgbWVzc2FnZSBsaXN0XG4gICAgICAgLSBSZW1vdmUgdGhlIHVucmVhZCBtYXJrZXIsIHVwZGF0ZSB0aGUgdmlld2VkIGZsYWcsIGRlY3JlbWVudCB0aGUgYmFnZSBDb3VudFxuICAgICAgIC0gcmVuZGVyTm90aWZpY2F0aW9uVmlld2VkICovXG5cblxuICAgICAgdGhpcy5tYXJrUmVhZEluYm94TWVzc2FnZSA9IG1lc3NhZ2VJZCA9PiB7XG4gICAgICAgIGNvbnN0IHVucmVhZE1zZyA9ICRjdC5pbmJveC51bnZpZXdlZE1lc3NhZ2VzO1xuICAgICAgICBjb25zdCBtZXNzYWdlcyA9IGdldEluYm94TWVzc2FnZXMoKTtcblxuICAgICAgICBpZiAoKG1lc3NhZ2VJZCAhPT0gbnVsbCB8fCBtZXNzYWdlSWQgIT09ICcnKSAmJiB1bnJlYWRNc2cuaGFzT3duUHJvcGVydHkobWVzc2FnZUlkKSkge1xuICAgICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignY3Qtd2ViLWluYm94Jykuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChtZXNzYWdlSWQpO1xuXG4gICAgICAgICAgaWYgKGVsICE9PSBudWxsKSB7XG4gICAgICAgICAgICBlbC5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCd1bnJlYWRNYXJrZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG1lc3NhZ2VzW21lc3NhZ2VJZF0udmlld2VkID0gMTtcblxuICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW52aWV3ZWRCYWRnZScpKSB7XG4gICAgICAgICAgICB2YXIgY291bnRlciA9IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bnZpZXdlZEJhZGdlJykuaW5uZXJUZXh0KSAtIDE7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW52aWV3ZWRCYWRnZScpLmlubmVyVGV4dCA9IGNvdW50ZXI7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW52aWV3ZWRCYWRnZScpLnN0eWxlLmRpc3BsYXkgPSBjb3VudGVyID4gMCA/ICdmbGV4JyA6ICdub25lJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB3aW5kb3cuY2xldmVydGFwLnJlbmRlck5vdGlmaWNhdGlvblZpZXdlZCh7XG4gICAgICAgICAgICBtc2dJZDogbWVzc2FnZXNbbWVzc2FnZUlkXS53enJrX2lkLFxuICAgICAgICAgICAgcGl2b3RJZDogbWVzc2FnZXNbbWVzc2FnZUlkXS5waXZvdElkXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJGN0LmluYm94LnVudmlld2VkQ291bnRlci0tO1xuICAgICAgICAgIGRlbGV0ZSAkY3QuaW5ib3gudW52aWV3ZWRNZXNzYWdlc1ttZXNzYWdlSWRdO1xuICAgICAgICAgIHNhdmVJbmJveE1lc3NhZ2VzKG1lc3NhZ2VzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdLmVycm9yKCdObyBtZXNzYWdlIGF2YWlsYWJsZSBmb3IgbWVzc2FnZSBJZCAnICsgbWVzc2FnZUlkKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIC8qIE1hcmsgTWVzc2FnZSBhcyBSZWFkLiBtZXNzYWdlSWRzIHNob3VsZCBiZSBhIGFuIGFycmF5IG9mIHN0cmluZyAqL1xuXG5cbiAgICAgIHRoaXMubWFya1JlYWRJbmJveE1lc3NhZ2VzRm9ySWRzID0gbWVzc2FnZUlkcyA9PiB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG1lc3NhZ2VJZHMpKSB7XG4gICAgICAgICAgZm9yICh2YXIgaWQgPSAwOyBpZCA8IG1lc3NhZ2VJZHMubGVuZ3RoOyBpZCsrKSB7XG4gICAgICAgICAgICB0aGlzLm1hcmtSZWFkSW5ib3hNZXNzYWdlKG1lc3NhZ2VJZHNbaWRdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICAvKiBNYXJrIGFsbCBtZXNzYWdlcyBhcyByZWFkXG4gICAgICAgIC0gR2V0IHRoZSBjb3VudCBvZiB1bnJlYWQgbWVzc2FnZXMsIHVwZGF0ZSB1bnJlYWQgbWFya2VyIHN0eWxlXG4gICAgICAgIC0gcmVuZGVyTm90aWZpY2F0aW9uVmlld2VkLCB1cGRhdGUgdGhlIGJhZGdlIGNvdW50IGFuZCBzdHlsZVxuICAgICAgKi9cblxuXG4gICAgICB0aGlzLm1hcmtSZWFkQWxsSW5ib3hNZXNzYWdlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB1bnJlYWRNc2cgPSAkY3QuaW5ib3gudW52aWV3ZWRNZXNzYWdlcztcbiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBnZXRJbmJveE1lc3NhZ2VzKCk7XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHVucmVhZE1zZykubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IG1zZ0lkcyA9IE9iamVjdC5rZXlzKHVucmVhZE1zZyk7XG4gICAgICAgICAgbXNnSWRzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignY3Qtd2ViLWluYm94Jykuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChrZXkpO1xuXG4gICAgICAgICAgICBpZiAoZWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgZWwuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgndW5yZWFkTWFya2VyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWVzc2FnZXNba2V5XS52aWV3ZWQgPSAxO1xuICAgICAgICAgICAgd2luZG93LmNsZXZlcnRhcC5yZW5kZXJOb3RpZmljYXRpb25WaWV3ZWQoe1xuICAgICAgICAgICAgICBtc2dJZDogbWVzc2FnZXNba2V5XS53enJrX2lkLFxuICAgICAgICAgICAgICBwaXZvdElkOiBtZXNzYWdlc1trZXldLnd6cmtfcGl2b3RcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bnZpZXdlZEJhZGdlJykuaW5uZXJUZXh0ID0gMDtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW52aWV3ZWRCYWRnZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgc2F2ZUluYm94TWVzc2FnZXMobWVzc2FnZXMpO1xuICAgICAgICAgICRjdC5pbmJveC51bnZpZXdlZENvdW50ZXIgPSAwO1xuICAgICAgICAgICRjdC5pbmJveC51bnZpZXdlZE1lc3NhZ2VzID0ge307XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXS5kZWJ1ZygnQWxsIG1lc3NhZ2VzIGFyZSBhbHJlYWR5IHJlYWQnKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy50b2dnbGVJbmJveCA9IGUgPT4ge1xuICAgICAgICB2YXIgXyRjdCRpbmJveDtcblxuICAgICAgICByZXR1cm4gKF8kY3QkaW5ib3ggPSAkY3QuaW5ib3gpID09PSBudWxsIHx8IF8kY3QkaW5ib3ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8kY3QkaW5ib3gudG9nZ2xlSW5ib3goZSk7XG4gICAgICB9OyAvLyBtZXRob2QgZm9yIG5vdGlmaWNhdGlvbiB2aWV3ZWRcblxuXG4gICAgICB0aGlzLnJlbmRlck5vdGlmaWNhdGlvblZpZXdlZCA9IGRldGFpbCA9PiB7XG4gICAgICAgIHByb2Nlc3NOb3RpZmljYXRpb25FdmVudChOT1RJRklDQVRJT05fVklFV0VELCBkZXRhaWwpO1xuICAgICAgfTsgLy8gbWV0aG9kIGZvciBub3RpZmljYXRpb24gY2xpY2tlZFxuXG5cbiAgICAgIHRoaXMucmVuZGVyTm90aWZpY2F0aW9uQ2xpY2tlZCA9IGRldGFpbCA9PiB7XG4gICAgICAgIHByb2Nlc3NOb3RpZmljYXRpb25FdmVudChOT1RJRklDQVRJT05fQ0xJQ0tFRCwgZGV0YWlsKTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHByb2Nlc3NOb3RpZmljYXRpb25FdmVudCA9IChldmVudE5hbWUsIGV2ZW50RGV0YWlsKSA9PiB7XG4gICAgICAgIGlmICghZXZlbnREZXRhaWwgfHwgIWV2ZW50RGV0YWlsLm1zZ0lkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IHt9O1xuICAgICAgICBkYXRhLnR5cGUgPSAnZXZlbnQnO1xuICAgICAgICBkYXRhLmV2dE5hbWUgPSBldmVudE5hbWU7XG4gICAgICAgIGRhdGEuZXZ0RGF0YSA9IHtcbiAgICAgICAgICBbV1pSS19JRF06IGV2ZW50RGV0YWlsLm1zZ0lkXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGV2ZW50RGV0YWlsLnBpdm90SWQpIHtcbiAgICAgICAgICBkYXRhLmV2dERhdGEgPSB7IC4uLmRhdGEuZXZ0RGF0YSxcbiAgICAgICAgICAgIHd6cmtfcGl2b3Q6IGV2ZW50RGV0YWlsLnBpdm90SWRcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50RGV0YWlsLnd6cmtfc2xpZGVObykge1xuICAgICAgICAgIGRhdGEuZXZ0RGF0YSA9IHsgLi4uZGF0YS5ldnREYXRhLFxuICAgICAgICAgICAgd3pya19zbGlkZU5vOiBldmVudERldGFpbC53enJrX3NsaWRlTm9cbiAgICAgICAgICB9O1xuICAgICAgICB9IC8vIEFkZGluZyBrdiBwYWlyIHRvIGV2ZW50IGRhdGFcblxuXG4gICAgICAgIGlmIChldmVudERldGFpbC5rdiAmJiBldmVudERldGFpbC5rdiAhPT0gbnVsbCAmJiBldmVudERldGFpbC5rdiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZXZlbnREZXRhaWwua3YpIHtcbiAgICAgICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aChXWlJLX1BSRUZJWCkpIHtcbiAgICAgICAgICAgICAgZGF0YS5ldnREYXRhID0geyAuLi5kYXRhLmV2dERhdGEsXG4gICAgICAgICAgICAgICAgW2tleV06IGV2ZW50RGV0YWlsLmt2W2tleV1cbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gQWRkaW5nIG1zZ0NUa3YgdG8gZXZlbnQgZGF0YVxuXG5cbiAgICAgICAgaWYgKGV2ZW50RGV0YWlsLm1zZ0NUa3YgJiYgZXZlbnREZXRhaWwubXNnQ1RrdiAhPT0gbnVsbCAmJiBldmVudERldGFpbC5tc2dDVGt2ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBldmVudERldGFpbC5tc2dDVGt2KSB7XG4gICAgICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoV1pSS19QUkVGSVgpKSB7XG4gICAgICAgICAgICAgIGRhdGEuZXZ0RGF0YSA9IHsgLi4uZGF0YS5ldnREYXRhLFxuICAgICAgICAgICAgICAgIFtrZXldOiBldmVudERldGFpbC5tc2dDVGt2W2tleV1cbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNylbX3JlcXVlc3QkN10ucHJvY2Vzc0V2ZW50KGRhdGEpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5zZXRMb2dMZXZlbCA9IGwgPT4ge1xuICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdLmxvZ0xldmVsID0gTnVtYmVyKGwpO1xuXG4gICAgICAgIGlmIChsID09PSAzKSB7XG4gICAgICAgICAgc2Vzc2lvblN0b3JhZ2UuV1pSS19EID0gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIHNlc3Npb25TdG9yYWdlLldaUktfRDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIC8qKlxuICAgICAgKiBAcGFyYW0ge30ga2V5XG4gICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgICovXG5cblxuICAgICAgdGhpcy5oYW5kbGVJbmNyZW1lbnRWYWx1ZSA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIHRoaXMucHJvZmlsZS5faGFuZGxlSW5jcmVtZW50RGVjcmVtZW50VmFsdWUoa2V5LCB2YWx1ZSwgQ09NTUFORF9JTkNSRU1FTlQpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5oYW5kbGVEZWNyZW1lbnRWYWx1ZSA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIHRoaXMucHJvZmlsZS5faGFuZGxlSW5jcmVtZW50RGVjcmVtZW50VmFsdWUoa2V5LCB2YWx1ZSwgQ09NTUFORF9ERUNSRU1FTlQpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5zZXRNdWx0aVZhbHVlc0ZvcktleSA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIHRoaXMucHJvZmlsZS5faGFuZGxlTXVsdGlWYWx1ZVNldChrZXksIHZhbHVlLCBDT01NQU5EX1NFVCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignc2V0TXVsdGlWYWx1ZXNGb3JLZXkgc2hvdWxkIGJlIGNhbGxlZCB3aXRoIGEgdmFsdWUgb2YgdHlwZSBhcnJheScpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmFkZE11bHRpVmFsdWVGb3JLZXkgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgdGhpcy5wcm9maWxlLl9oYW5kbGVNdWx0aVZhbHVlQWRkKGtleSwgdmFsdWUsIENPTU1BTkRfQUREKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdhZGRNdWx0aVZhbHVlRm9yS2V5IHNob3VsZCBiZSBjYWxsZWQgd2l0aCBhIHZhbHVlIG9mIHR5cGUgc3RyaW5nIG9yIG51bWJlci4nKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5hZGRNdWx0aVZhbHVlc0ZvcktleSA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIHRoaXMucHJvZmlsZS5faGFuZGxlTXVsdGlWYWx1ZUFkZChrZXksIHZhbHVlLCBDT01NQU5EX0FERCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignYWRkTXVsdGlWYWx1ZXNGb3JLZXkgc2hvdWxkIGJlIGNhbGxlZCB3aXRoIGEgdmFsdWUgb2YgdHlwZSBhcnJheS4nKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5yZW1vdmVNdWx0aVZhbHVlRm9yS2V5ID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHRoaXMucHJvZmlsZS5faGFuZGxlTXVsdGlWYWx1ZVJlbW92ZShrZXksIHZhbHVlLCBDT01NQU5EX1JFTU9WRSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcigncmVtb3ZlTXVsdGlWYWx1ZUZvcktleSBzaG91bGQgYmUgY2FsbGVkIHdpdGggYSB2YWx1ZSBvZiB0eXBlIHN0cmluZyBvciBudW1iZXIuJyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMucmVtb3ZlTXVsdGlWYWx1ZXNGb3JLZXkgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICB0aGlzLnByb2ZpbGUuX2hhbmRsZU11bHRpVmFsdWVSZW1vdmUoa2V5LCB2YWx1ZSwgQ09NTUFORF9SRU1PVkUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3JlbW92ZU11bHRpVmFsdWVzRm9yS2V5IHNob3VsZCBiZSBjYWxsZWQgd2l0aCBhIHZhbHVlIG9mIHR5cGUgYXJyYXkuJyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMucmVtb3ZlVmFsdWVGb3JLZXkgPSBrZXkgPT4ge1xuICAgICAgICB0aGlzLnByb2ZpbGUuX2hhbmRsZU11bHRpVmFsdWVEZWxldGUoa2V5LCBDT01NQU5EX0RFTEVURSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBfaGFuZGxlRW1haWxTdWJzY3JpcHRpb24gPSAoc3Vic2NyaXB0aW9uLCByZUVuY29kZWQsIGZldGNoR3JvdXBzKSA9PiB7XG4gICAgICAgIGhhbmRsZUVtYWlsU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbiwgcmVFbmNvZGVkLCBmZXRjaEdyb3VwcywgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdKTtcbiAgICAgIH07XG4gICAgICAvKipcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge251bWJlcn0gbGF0XG4gICAgICAgKiBAcGFyYW0ge251bWJlcn0gbG5nXG4gICAgICAgKiBAcGFyYW0ge2NhbGxiYWNrIGZ1bmN0aW9ufSBoYW5kbGVDb29yZGluYXRlc1xuICAgICAgICogQHJldHVybnNcbiAgICAgICovXG5cblxuICAgICAgdGhpcy5nZXRMb2NhdGlvbiA9IGZ1bmN0aW9uIChsYXQsIGxuZykge1xuICAgICAgICAvLyBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlIHNob3VsZCBiZSBudW1iZXIgdHlwZVxuICAgICAgICBpZiAobGF0ICYmIHR5cGVvZiBsYXQgIT09ICdudW1iZXInIHx8IGxuZyAmJiB0eXBlb2YgbG5nICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdMYXRpdHVkZSBhbmQgTG9uZ2l0dWRlIG11c3QgYmUgb2YgbnVtYmVyIHR5cGUnKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGF0ICYmIGxuZykge1xuICAgICAgICAgIC8vIHZhbGlkIGxhdGl0dWRlIHJhbmdlcyBidyArLTkwXG4gICAgICAgICAgaWYgKGxhdCA8PSAtOTAgfHwgbGF0ID4gOTApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBIHZhaWQgbGF0aXR1ZGUgbXVzdCByYW5nZSBiZXR3ZWVuIC05MCBhbmQgOTAnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IC8vIHZhbGlkIGxvbmdpdHVkZSByYW5nZXMgYncgKy0xODBcblxuXG4gICAgICAgICAgaWYgKGxuZyA8PSAtMTgwIHx8IGxuZyA+IDE4MCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0EgdmFsaWQgbG9uZ2l0dWRlIG11c3QgcmFuZ2UgYmV0d2VlbiAtMTgwIGFuZCAxODAnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAkY3QubG9jYXRpb24gPSB7XG4gICAgICAgICAgICBMYXRpdHVkZTogbGF0LFxuICAgICAgICAgICAgTG9uZ2l0dWRlOiBsbmdcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZW5kTG9jYXRpb25EYXRhKVtfc2VuZExvY2F0aW9uRGF0YV0oe1xuICAgICAgICAgICAgTGF0aXR1ZGU6IGxhdCxcbiAgICAgICAgICAgIExvbmdpdHVkZTogbG5nXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG5hdmlnYXRvci5nZW9sb2NhdGlvbikge1xuICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihzaG93UG9zaXRpb24uYmluZCh0aGlzKSwgc2hvd0Vycm9yKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0dlb2xvY2F0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gc2hvd1Bvc2l0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciBsYXQgPSBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7XG4gICAgICAgIHZhciBsbmcgPSBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlO1xuICAgICAgICAkY3QubG9jYXRpb24gPSB7XG4gICAgICAgICAgTGF0aXR1ZGU6IGxhdCxcbiAgICAgICAgICBMb25naXR1ZGU6IGxuZ1xuICAgICAgICB9O1xuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfc2VuZExvY2F0aW9uRGF0YSlbX3NlbmRMb2NhdGlvbkRhdGFdKHtcbiAgICAgICAgICBMYXRpdHVkZTogbGF0LFxuICAgICAgICAgIExvbmdpdHVkZTogbG5nXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzaG93RXJyb3IoZXJyb3IpIHtcbiAgICAgICAgc3dpdGNoIChlcnJvci5jb2RlKSB7XG4gICAgICAgICAgY2FzZSBlcnJvci5QRVJNSVNTSU9OX0RFTklFRDpcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIGRlbmllZCB0aGUgcmVxdWVzdCBmb3IgR2VvbG9jYXRpb24uJyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgZXJyb3IuUE9TSVRJT05fVU5BVkFJTEFCTEU6XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTG9jYXRpb24gaW5mb3JtYXRpb24gaXMgdW5hdmFpbGFibGUuJyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgZXJyb3IuVElNRU9VVDpcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUaGUgcmVxdWVzdCB0byBnZXQgdXNlciBsb2NhdGlvbiB0aW1lZCBvdXQuJyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgZXJyb3IuVU5LTk9XTl9FUlJPUjpcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBbiB1bmtub3duIGVycm9yIG9jY3VycmVkLicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgYXBpID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hcGkpW19hcGldO1xuXG4gICAgICBhcGkubG9nb3V0ID0gdGhpcy5sb2dvdXQ7XG4gICAgICBhcGkuY2xlYXIgPSB0aGlzLmNsZWFyO1xuXG4gICAgICBhcGkuY2xvc2VJZnJhbWUgPSAoY2FtcGFpZ25JZCwgZGl2SWRJZ25vcmVkKSA9PiB7XG4gICAgICAgIGNsb3NlSWZyYW1lKGNhbXBhaWduSWQsIGRpdklkSWdub3JlZCwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uJDMpW19zZXNzaW9uJDNdLnNlc3Npb25JZCk7XG4gICAgICB9O1xuXG4gICAgICBhcGkuZW5hYmxlV2ViUHVzaCA9IChlbmFibGVkLCBhcHBsaWNhdGlvblNlcnZlcktleSkgPT4ge1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnMuX2VuYWJsZVdlYlB1c2goZW5hYmxlZCwgYXBwbGljYXRpb25TZXJ2ZXJLZXkpO1xuICAgICAgfTtcblxuICAgICAgYXBpLnRyID0gbXNnID0+IHtcbiAgICAgICAgX3RyKG1zZywge1xuICAgICAgICAgIGRldmljZTogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9kZXZpY2UkMylbX2RldmljZSQzXSxcbiAgICAgICAgICBzZXNzaW9uOiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMylbX3Nlc3Npb24kM10sXG4gICAgICAgICAgcmVxdWVzdDogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDcpW19yZXF1ZXN0JDddLFxuICAgICAgICAgIGxvZ2dlcjogX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXVxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGFwaS5zZXRFbnVtID0gZW51bVZhbCA9PiB7XG4gICAgICAgIHNldEVudW0oZW51bVZhbCwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXSk7XG4gICAgICB9O1xuXG4gICAgICBhcGkuaXNfb25sb2FkY2FsbGVkID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbmxvYWRjYWxsZWQpW19vbmxvYWRjYWxsZWRdID09PSAxO1xuICAgICAgfTtcblxuICAgICAgYXBpLnN1YkVtYWlsID0gcmVFbmNvZGVkID0+IHtcbiAgICAgICAgX2hhbmRsZUVtYWlsU3Vic2NyaXB0aW9uKCcxJywgcmVFbmNvZGVkKTtcbiAgICAgIH07XG5cbiAgICAgIGFwaS5nZXRFbWFpbCA9IChyZUVuY29kZWQsIHdpdGhHcm91cHMpID0+IHtcbiAgICAgICAgX2hhbmRsZUVtYWlsU3Vic2NyaXB0aW9uKCctMScsIHJlRW5jb2RlZCwgd2l0aEdyb3Vwcyk7XG4gICAgICB9O1xuXG4gICAgICBhcGkudW5TdWJFbWFpbCA9IHJlRW5jb2RlZCA9PiB7XG4gICAgICAgIF9oYW5kbGVFbWFpbFN1YnNjcmlwdGlvbignMCcsIHJlRW5jb2RlZCk7XG4gICAgICB9O1xuXG4gICAgICBhcGkudW5zdWJFbWFpbEdyb3VwcyA9IHJlRW5jb2RlZCA9PiB7XG4gICAgICAgICRjdC51bnN1Ykdyb3VwcyA9IFtdO1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2N0LXVuc3ViLWdyb3VwLWlucHV0LWl0ZW0nKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuXG4gICAgICAgICAgaWYgKGVsZW1lbnQubmFtZSkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgICAgbmFtZTogZWxlbWVudC5uYW1lLFxuICAgICAgICAgICAgICBpc1Vuc3Vic2NyaWJlZDogZWxlbWVudC5jaGVja2VkXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJGN0LnVuc3ViR3JvdXBzLnB1c2goZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgX2hhbmRsZUVtYWlsU3Vic2NyaXB0aW9uKEdST1VQX1NVQlNDUklQVElPTl9SRVFVRVNUX0lELCByZUVuY29kZWQpO1xuICAgICAgfTtcblxuICAgICAgYXBpLnNldFN1YnNjcmlwdGlvbkdyb3VwcyA9IHZhbHVlID0+IHtcbiAgICAgICAgJGN0LnVuc3ViR3JvdXBzID0gdmFsdWU7XG4gICAgICB9O1xuXG4gICAgICBhcGkuZ2V0U3Vic2NyaXB0aW9uR3JvdXBzID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gJGN0LnVuc3ViR3JvdXBzO1xuICAgICAgfTtcblxuICAgICAgYXBpLmNoYW5nZVN1YnNjcmlwdGlvbkdyb3VwcyA9IChyZUVuY29kZWQsIHVwZGF0ZWRHcm91cHMpID0+IHtcbiAgICAgICAgYXBpLnNldFN1YnNjcmlwdGlvbkdyb3Vwcyh1cGRhdGVkR3JvdXBzKTtcblxuICAgICAgICBfaGFuZGxlRW1haWxTdWJzY3JpcHRpb24oR1JPVVBfU1VCU0NSSVBUSU9OX1JFUVVFU1RfSUQsIHJlRW5jb2RlZCk7XG4gICAgICB9O1xuXG4gICAgICBhcGkuaXNHbG9iYWxVbnN1YnNjcmliZSA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuICRjdC5nbG9iYWxVbnN1YnNjcmliZTtcbiAgICAgIH07XG5cbiAgICAgIGFwaS5zZXRJc0dsb2JhbFVuc3Vic2NyaWJlID0gdmFsdWUgPT4ge1xuICAgICAgICAkY3QuZ2xvYmFsVW5zdWJzY3JpYmUgPSB2YWx1ZTtcbiAgICAgIH07XG5cbiAgICAgIGFwaS5zZXRVcGRhdGVkQ2F0ZWdvcnlMb25nID0gcHJvZmlsZSA9PiB7XG4gICAgICAgIGlmIChwcm9maWxlW2NhdGVnb3J5TG9uZ0tleV0pIHtcbiAgICAgICAgICAkY3QudXBkYXRlZENhdGVnb3J5TG9uZyA9IHByb2ZpbGVbY2F0ZWdvcnlMb25nS2V5XTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgd2luZG93LiRDTFRQX1dSID0gd2luZG93LiRXWlJLX1dSID0gYXBpO1xuXG4gICAgICBpZiAoKF9jbGV2ZXJ0YXAkYWNjb3VudDUgPSBjbGV2ZXJ0YXAuYWNjb3VudCkgPT09IG51bGwgfHwgX2NsZXZlcnRhcCRhY2NvdW50NSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NsZXZlcnRhcCRhY2NvdW50NVswXS5pZCkge1xuICAgICAgICAvLyBUaGUgYWNjb3VudElkIGlzIHByZXNlbnQgc28gY2FuIGluaXQgd2l0aCBlbXB0eSB2YWx1ZXMuXG4gICAgICAgIC8vIE5lZWRlZCB0byBtYWludGFpbiBiYWNrd2FyZCBjb21wYXRhYmlsaXR5IHdpdGggbGVnYWN5IGltcGxlbWVudGF0aW9ucy5cbiAgICAgICAgLy8gTnBtIGltcG9ydHMvcmVxdWlyZSB3aWxsIG5lZWQgdG8gY2FsbCBpbml0IGV4cGxpY3RseSB3aXRoIGFjY291bnRJZFxuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgIH1cbiAgICB9IC8vIHN0YXJ0cyBoZXJlXG5cblxuICAgIGluaXQoYWNjb3VudElkLCByZWdpb24sIHRhcmdldERvbWFpbiwgdG9rZW4pIHtcbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX29ubG9hZGNhbGxlZClbX29ubG9hZGNhbGxlZF0gPT09IDEpIHtcbiAgICAgICAgLy8gYWxyZWFkeSBpbml0YWlsc2VkXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY2hlY2tCdWlsZGVyKF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0pO1xuICAgICAgU3RvcmFnZU1hbmFnZXIucmVtb3ZlQ29va2llKCdXWlJLX1AnLCB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpO1xuXG4gICAgICBpZiAoIV9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ2KVtfYWNjb3VudCQ2XS5pZCkge1xuICAgICAgICBpZiAoIWFjY291bnRJZCkge1xuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0uZXJyb3IoRU1CRURfRVJST1IpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLmlkID0gYWNjb3VudElkO1xuICAgICAgfVxuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMylbX3Nlc3Npb24kM10uY29va2llTmFtZSA9IFNDT09LSUVfUFJFRklYICsgJ18nICsgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLmlkO1xuXG4gICAgICBpZiAocmVnaW9uKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ2KVtfYWNjb3VudCQ2XS5yZWdpb24gPSByZWdpb247XG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXREb21haW4pIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLnRhcmdldERvbWFpbiA9IHRhcmdldERvbWFpbjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ2KVtfYWNjb3VudCQ2XS50b2tlbiA9IHRva2VuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjdXJyTG9jYXRpb24gPSBsb2NhdGlvbi5ocmVmO1xuICAgICAgY29uc3QgdXJsUGFyYW1zID0gZ2V0VVJMUGFyYW1zKGN1cnJMb2NhdGlvbi50b0xvd2VyQ2FzZSgpKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXG4gICAgICBpZiAodHlwZW9mIHVybFBhcmFtcy5lICE9PSAndW5kZWZpbmVkJyAmJiB1cmxQYXJhbXMud3pya19leCA9PSAnMCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAkY3QuaXNQcml2YWN5QXJyUHVzaGVkID0gdHJ1ZTtcblxuICAgICAgaWYgKCRjdC5wcml2YWN5QXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLnByaXZhY3kucHVzaCgkY3QucHJpdmFjeUFycmF5KTtcbiAgICAgIH1cblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9wcm9jZXNzT2xkVmFsdWVzKVtfcHJvY2Vzc09sZFZhbHVlc10oKTtcblxuICAgICAgdGhpcy5wYWdlQ2hhbmdlZCgpO1xuICAgICAgY29uc3QgYmFja3VwSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RldmljZSQzKVtfZGV2aWNlJDNdLmdjb29raWUpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGJhY2t1cEludGVydmFsKTtcblxuICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XS5wcm9jZXNzQmFja3VwRXZlbnRzKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDMwMDApO1xuXG4gICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1NwYSlbX2lzU3BhXSkge1xuICAgICAgICAvLyBsaXN0ZW4gdG8gY2xpY2sgb24gdGhlIGRvY3VtZW50IGFuZCBjaGVjayBpZiBVUkwgaGFzIGNoYW5nZWQuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9ib3VuZENoZWNrUGFnZUNoYW5nZWQpW19ib3VuZENoZWNrUGFnZUNoYW5nZWRdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHJlbW92ZSBleGlzdGluZyBjbGljayBsaXN0ZW5lcnMgaWYgYW55XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9ib3VuZENoZWNrUGFnZUNoYW5nZWQpW19ib3VuZENoZWNrUGFnZUNoYW5nZWRdKTtcbiAgICAgIH1cblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9vbmxvYWRjYWxsZWQpW19vbmxvYWRjYWxsZWRdID0gMTtcbiAgICB9IC8vIHByb2Nlc3MgdGhlIG9wdGlvbiBhcnJheSBwcm92aWRlZCB0byB0aGUgY2xldmVydGFwIG9iamVjdFxuICAgIC8vIGFmdGVyIGl0cyBiZWVuIGluaXRpYWxpemVkXG5cblxuICAgIHBhZ2VDaGFuZ2VkKCkge1xuICAgICAgY29uc3QgY3VyckxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgICBjb25zdCB1cmxQYXJhbXMgPSBnZXRVUkxQYXJhbXMoY3VyckxvY2F0aW9uLnRvTG93ZXJDYXNlKCkpOyAvLyAtLSB1cGRhdGUgcGFnZSBjb3VudFxuXG4gICAgICBjb25zdCBvYmogPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3Nlc3Npb24kMylbX3Nlc3Npb24kM10uZ2V0U2Vzc2lvbkNvb2tpZU9iamVjdCgpO1xuXG4gICAgICBsZXQgcGdDb3VudCA9IHR5cGVvZiBvYmoucCA9PT0gJ3VuZGVmaW5lZCcgPyAwIDogb2JqLnA7XG4gICAgICBvYmoucCA9ICsrcGdDb3VudDtcblxuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9zZXNzaW9uJDMpW19zZXNzaW9uJDNdLnNldFNlc3Npb25Db29raWVPYmplY3Qob2JqKTsgLy8gLS0gdXBkYXRlIHBhZ2UgY291bnRcblxuXG4gICAgICBsZXQgZGF0YSA9IHt9O1xuICAgICAgbGV0IHJlZmVycmVyRG9tYWluID0gZ2V0RG9tYWluKGRvY3VtZW50LnJlZmVycmVyKTtcblxuICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSAhPT0gcmVmZXJyZXJEb21haW4pIHtcbiAgICAgICAgY29uc3QgbWF4TGVuID0gMTIwO1xuXG4gICAgICAgIGlmIChyZWZlcnJlckRvbWFpbiAhPT0gJycpIHtcbiAgICAgICAgICByZWZlcnJlckRvbWFpbiA9IHJlZmVycmVyRG9tYWluLmxlbmd0aCA+IG1heExlbiA/IHJlZmVycmVyRG9tYWluLnN1YnN0cmluZygwLCBtYXhMZW4pIDogcmVmZXJyZXJEb21haW47XG4gICAgICAgICAgZGF0YS5yZWZlcnJlciA9IHJlZmVycmVyRG9tYWluO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHV0bVNvdXJjZSA9IHVybFBhcmFtcy51dG1fc291cmNlIHx8IHVybFBhcmFtcy53enJrX3NvdXJjZTtcblxuICAgICAgICBpZiAodHlwZW9mIHV0bVNvdXJjZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB1dG1Tb3VyY2UgPSB1dG1Tb3VyY2UubGVuZ3RoID4gbWF4TGVuID8gdXRtU291cmNlLnN1YnN0cmluZygwLCBtYXhMZW4pIDogdXRtU291cmNlO1xuICAgICAgICAgIGRhdGEudXMgPSB1dG1Tb3VyY2U7IC8vIHV0bV9zb3VyY2VcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB1dG1NZWRpdW0gPSB1cmxQYXJhbXMudXRtX21lZGl1bSB8fCB1cmxQYXJhbXMud3pya19tZWRpdW07XG5cbiAgICAgICAgaWYgKHR5cGVvZiB1dG1NZWRpdW0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdXRtTWVkaXVtID0gdXRtTWVkaXVtLmxlbmd0aCA+IG1heExlbiA/IHV0bU1lZGl1bS5zdWJzdHJpbmcoMCwgbWF4TGVuKSA6IHV0bU1lZGl1bTtcbiAgICAgICAgICBkYXRhLnVtID0gdXRtTWVkaXVtOyAvLyB1dG1fbWVkaXVtXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdXRtQ2FtcGFpZ24gPSB1cmxQYXJhbXMudXRtX2NhbXBhaWduIHx8IHVybFBhcmFtcy53enJrX2NhbXBhaWduO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdXRtQ2FtcGFpZ24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdXRtQ2FtcGFpZ24gPSB1dG1DYW1wYWlnbi5sZW5ndGggPiBtYXhMZW4gPyB1dG1DYW1wYWlnbi5zdWJzdHJpbmcoMCwgbWF4TGVuKSA6IHV0bUNhbXBhaWduO1xuICAgICAgICAgIGRhdGEudWMgPSB1dG1DYW1wYWlnbjsgLy8gdXRtX2NhbXBhaWduXG4gICAgICAgIH0gLy8gYWxzbyBpbmRlcGVuZGVudGx5IHNlbmQgd3pya19tZWRpdW0gdG8gdGhlIGJhY2tlbmRcblxuXG4gICAgICAgIGlmICh0eXBlb2YgdXJsUGFyYW1zLnd6cmtfbWVkaXVtICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnN0IHdtID0gdXJsUGFyYW1zLnd6cmtfbWVkaXVtO1xuXG4gICAgICAgICAgaWYgKHdtLm1hdGNoKC9eZW1haWwkfF5zb2NpYWwkfF5zZWFyY2gkLykpIHtcbiAgICAgICAgICAgIGRhdGEud20gPSB3bTsgLy8gd3pya19tZWRpdW1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZGF0YSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XS5hZGRTeXN0ZW1EYXRhVG9PYmplY3QoZGF0YSwgdW5kZWZpbmVkKTtcbiAgICAgIGRhdGEuY3BnID0gY3VyckxvY2F0aW9uO1xuICAgICAgZGF0YVtDQU1QX0NPT0tJRV9OQU1FXSA9IGdldENhbXBhaWduT2JqRm9yTGMoKTtcblxuICAgICAgbGV0IHBhZ2VMb2FkVXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLmRhdGFQb3N0VVJMO1xuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNylbX3JlcXVlc3QkN10uYWRkRmxhZ3MoZGF0YSk7IC8vIHNlbmQgZHN5bmMgZmxhZyB3aGVuIHBhZ2UgPSAxXG5cblxuICAgICAgaWYgKHBhcnNlSW50KGRhdGEucGcpID09PSAxKSB7XG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfb3ZlcnJpZGVEU3luY0ZsYWcpW19vdmVycmlkZURTeW5jRmxhZ10oZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICd0eXBlJywgJ3BhZ2UnKTtcbiAgICAgIHBhZ2VMb2FkVXJsID0gYWRkVG9VUkwocGFnZUxvYWRVcmwsICdkJywgY29tcHJlc3NEYXRhKEpTT04uc3RyaW5naWZ5KGRhdGEpLCBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdKSk7XG5cbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XS5zYXZlQW5kRmlyZVJlcXVlc3QocGFnZUxvYWRVcmwsICRjdC5ibG9ja1JlcXVlc3QpO1xuXG4gICAgICBpZiAocGFyc2VJbnQoZGF0YS5wZykgPT09IDEpIHtcbiAgICAgICAgdGhpcy5ldmVudC5wdXNoKFdaUktfRkVUQ0gsIHtcbiAgICAgICAgICB0OiA0XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ByZXZpb3VzVXJsKVtfcHJldmlvdXNVcmxdID0gY3VyckxvY2F0aW9uO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChwZ0NvdW50IDw9IDMpIHtcbiAgICAgICAgICAvLyBzZW5kIHBpbmcgZm9yIHVwIHRvIDMgcGFnZXNcbiAgICAgICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3BpbmdSZXF1ZXN0KVtfcGluZ1JlcXVlc3RdKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9pc1BpbmdDb250aW51b3VzKVtfaXNQaW5nQ29udGludW91c10oKSkge1xuICAgICAgICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcGluZ1JlcXVlc3QpW19waW5nUmVxdWVzdF0oKTtcbiAgICAgICAgICB9LCBDT05USU5VT1VTX1BJTkdfRlJFUV9JTl9NSUxMSVMpO1xuICAgICAgICB9XG4gICAgICB9LCBGSVJTVF9QSU5HX0ZSRVFfSU5fTUlMTElTKTtcbiAgICB9XG5cbiAgICBfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUoKSB7XG4gICAgICByZXR1cm4gU3RvcmFnZU1hbmFnZXIuX2lzTG9jYWxTdG9yYWdlU3VwcG9ydGVkKCkgJiYgdGhpcy5lbmFibGVQZXJzb25hbGl6YXRpb247XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGFjY2Vzc29yLXBhaXJzXG4gICAgc2V0IHBvcHVwQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgIHRoaXMucG9wdXBDYWxsYmFja3NbdGhpcy5wb3B1cEN1cnJlbnRXenJrSWRdID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHBheWxvYWRcbiAgICAgKi9cblxuXG4gICAgLy8gb2ZmbGluZSBtb2RlXG5cbiAgICAvKipcbiAgICAgKiBldmVudHMgd2lsbCBiZSByZWNvcmRlZCBhbmQgcXVldWVkIGxvY2FsbHkgd2hlbiBwYXNzZWQgd2l0aCB0cnVlXG4gICAgICogYnV0IHdpbGwgbm90IGJlIHNlbnQgdG8gdGhlIHNlcnZlciB1bnRpbCBvZmZsaW5lIGlzIGRpc2FibGVkIGJ5IHBhc3NpbmcgZmFsc2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFyZ1xuICAgICAqL1xuICAgIHNldE9mZmxpbmUoYXJnKSB7XG4gICAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ3NldE9mZmxpbmUgc2hvdWxkIGJlIGNhbGxlZCB3aXRoIGEgdmFsdWUgb2YgdHlwZSBib29sZWFuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgJGN0Lm9mZmxpbmUgPSBhcmc7IC8vIGlmIG9mZmxpbmUgaXMgZGlzYWJsZWRcbiAgICAgIC8vIHByb2Nlc3MgZXZlbnRzIGZyb20gY2FjaGVcblxuICAgICAgaWYgKCFhcmcpIHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDcpW19yZXF1ZXN0JDddLnByb2Nlc3NCYWNrdXBFdmVudHMoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRTREtWZXJzaW9uKCkge1xuICAgICAgcmV0dXJuICd3ZWItc2RrLXYxLjguMic7XG4gICAgfVxuXG4gICAgZGVmaW5lVmFyaWFibGUobmFtZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gVmFyaWFibGUuZGVmaW5lKG5hbWUsIGRlZmF1bHRWYWx1ZSwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF92YXJpYWJsZVN0b3JlJDEpW192YXJpYWJsZVN0b3JlJDFdKTtcbiAgICB9XG5cbiAgICBzeW5jVmFyaWFibGVzKG9uU3luY1N1Y2Nlc3MsIG9uU3luY0ZhaWx1cmUpIHtcbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2xvZ2dlciRhKVtfbG9nZ2VyJGFdLmxvZ0xldmVsID09PSA0KSB7XG4gICAgICAgIHJldHVybiBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlU3RvcmUkMSlbX3ZhcmlhYmxlU3RvcmUkMV0uc3luY1ZhcmlhYmxlcyhvblN5bmNTdWNjZXNzLCBvblN5bmNGYWlsdXJlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG0gPSAnQXBwIGxvZyBsZXZlbCBpcyBub3Qgc2V0IHRvIDQnO1xuXG4gICAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0uZXJyb3IobSk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihtKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZmV0Y2hWYXJpYWJsZXMob25GZXRjaENhbGxiYWNrKSB7XG4gICAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ZhcmlhYmxlU3RvcmUkMSlbX3ZhcmlhYmxlU3RvcmUkMV0uZmV0Y2hWYXJpYWJsZXMob25GZXRjaENhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBhZGRWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVTdG9yZSQxKVtfdmFyaWFibGVTdG9yZSQxXS5hZGRWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2soY2FsbGJhY2spO1xuICAgIH1cblxuICAgIGFkZE9uZVRpbWVWYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfdmFyaWFibGVTdG9yZSQxKVtfdmFyaWFibGVTdG9yZSQxXS5hZGRPbmVUaW1lVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrKGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgfVxuXG4gIHZhciBfcHJvY2Vzc09sZFZhbHVlczIgPSBmdW5jdGlvbiBfcHJvY2Vzc09sZFZhbHVlczIoKSB7XG4gICAgdGhpcy5vblVzZXJMb2dpbi5fcHJvY2Vzc09sZFZhbHVlcygpO1xuXG4gICAgdGhpcy5wcml2YWN5Ll9wcm9jZXNzT2xkVmFsdWVzKCk7XG5cbiAgICB0aGlzLmV2ZW50Ll9wcm9jZXNzT2xkVmFsdWVzKCk7XG5cbiAgICB0aGlzLnByb2ZpbGUuX3Byb2Nlc3NPbGRWYWx1ZXMoKTtcblxuICAgIHRoaXMubm90aWZpY2F0aW9ucy5fcHJvY2Vzc09sZFZhbHVlcygpO1xuICB9O1xuXG4gIHZhciBfZGVib3VuY2UyID0gZnVuY3Rpb24gX2RlYm91bmNlMihmdW5jKSB7XG4gICAgbGV0IGRlbGF5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAzMDA7XG4gICAgbGV0IHRpbWVvdXQ7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmMsIGRlbGF5KTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBfY2hlY2tQYWdlQ2hhbmdlZDIgPSBmdW5jdGlvbiBfY2hlY2tQYWdlQ2hhbmdlZDIoKSB7XG4gICAgY29uc3QgZGVib3VuY2VkUGFnZUNoYW5nZWQgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX2RlYm91bmNlKVtfZGVib3VuY2VdKCgpID0+IHtcbiAgICAgIGlmIChfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3ByZXZpb3VzVXJsKVtfcHJldmlvdXNVcmxdICE9PSBsb2NhdGlvbi5ocmVmKSB7XG4gICAgICAgIHRoaXMucGFnZUNoYW5nZWQoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlYm91bmNlZFBhZ2VDaGFuZ2VkKCk7XG4gIH07XG5cbiAgdmFyIF9waW5nUmVxdWVzdDIgPSBmdW5jdGlvbiBfcGluZ1JlcXVlc3QyKCkge1xuICAgIGxldCBwYWdlTG9hZFVybCA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfYWNjb3VudCQ2KVtfYWNjb3VudCQ2XS5kYXRhUG9zdFVSTDtcblxuICAgIGxldCBkYXRhID0ge307XG4gICAgZGF0YSA9IF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfcmVxdWVzdCQ3KVtfcmVxdWVzdCQ3XS5hZGRTeXN0ZW1EYXRhVG9PYmplY3QoZGF0YSwgdW5kZWZpbmVkKTtcbiAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAndHlwZScsIEVWVF9QSU5HKTtcbiAgICBwYWdlTG9hZFVybCA9IGFkZFRvVVJMKHBhZ2VMb2FkVXJsLCAnZCcsIGNvbXByZXNzRGF0YShKU09OLnN0cmluZ2lmeShkYXRhKSwgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9sb2dnZXIkYSlbX2xvZ2dlciRhXSkpO1xuXG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDcpW19yZXF1ZXN0JDddLnNhdmVBbmRGaXJlUmVxdWVzdChwYWdlTG9hZFVybCwgJGN0LmJsb2NrUmVxdWVzdCk7XG4gIH07XG5cbiAgdmFyIF9pc1BpbmdDb250aW51b3VzMiA9IGZ1bmN0aW9uIF9pc1BpbmdDb250aW51b3VzMigpIHtcbiAgICByZXR1cm4gdHlwZW9mIHdpbmRvdy53enJrX2QgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy53enJrX2QucGluZyA9PT0gJ2NvbnRpbnVvdXMnO1xuICB9O1xuXG4gIHZhciBfb3ZlcnJpZGVEU3luY0ZsYWcyID0gZnVuY3Rpb24gX292ZXJyaWRlRFN5bmNGbGFnMihkYXRhKSB7XG4gICAgaWYgKHRoaXMuX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlKCkpIHtcbiAgICAgIGRhdGEuZHN5bmMgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICB2YXIgX3NlbmRMb2NhdGlvbkRhdGEyID0gZnVuY3Rpb24gX3NlbmRMb2NhdGlvbkRhdGEyKHBheWxvYWQpIHtcbiAgICAvLyBTZW5kIHRoZSB1cGRhdGVkIHZhbHVlIHRvIExDXG4gICAgbGV0IGRhdGEgPSB7fTtcbiAgICBkYXRhLmFmID0ge307XG4gICAgY29uc3QgcHJvZmlsZU9iaiA9IHt9O1xuICAgIGRhdGEudHlwZSA9ICdwcm9maWxlJztcblxuICAgIGlmIChwcm9maWxlT2JqLnR6ID09IG51bGwpIHtcbiAgICAgIHByb2ZpbGVPYmoudHogPSBuZXcgRGF0ZSgpLnRvU3RyaW5nKCkubWF0Y2goLyhbQS1aXStbXFwrLV1bMC05XSspLylbMV07XG4gICAgfVxuXG4gICAgZGF0YS5wcm9maWxlID0gcHJvZmlsZU9iajtcblxuICAgIGlmIChwYXlsb2FkKSB7XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocGF5bG9hZCk7XG4gICAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgZGF0YS5hZltrZXldID0gcGF5bG9hZFtrZXldO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCRjdC5sb2NhdGlvbikge1xuICAgICAgZGF0YS5hZiA9IHsgLi4uZGF0YS5hZixcbiAgICAgICAgLi4uJGN0LmxvY2F0aW9uXG4gICAgICB9O1xuICAgIH1cblxuICAgIGRhdGEgPSBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNylbX3JlcXVlc3QkN10uYWRkU3lzdGVtRGF0YVRvT2JqZWN0KGRhdGEsIHRydWUpO1xuXG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9yZXF1ZXN0JDcpW19yZXF1ZXN0JDddLmFkZEZsYWdzKGRhdGEpO1xuXG4gICAgY29uc3QgY29tcHJlc3NlZERhdGEgPSBjb21wcmVzc0RhdGEoSlNPTi5zdHJpbmdpZnkoZGF0YSksIF9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSh0aGlzLCBfbG9nZ2VyJGEpW19sb2dnZXIkYV0pO1xuXG4gICAgbGV0IHBhZ2VMb2FkVXJsID0gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHRoaXMsIF9hY2NvdW50JDYpW19hY2NvdW50JDZdLmRhdGFQb3N0VVJMO1xuXG4gICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ3R5cGUnLCBFVlRfUFVTSCk7XG4gICAgcGFnZUxvYWRVcmwgPSBhZGRUb1VSTChwYWdlTG9hZFVybCwgJ2QnLCBjb21wcmVzc2VkRGF0YSk7XG5cbiAgICBfY2xhc3NQcml2YXRlRmllbGRMb29zZUJhc2UodGhpcywgX3JlcXVlc3QkNylbX3JlcXVlc3QkN10uc2F2ZUFuZEZpcmVSZXF1ZXN0KHBhZ2VMb2FkVXJsLCAkY3QuYmxvY2tSZXF1ZXN0KTtcbiAgfTtcblxuICBjb25zdCBjbGV2ZXJ0YXAgPSBuZXcgQ2xldmVyVGFwKHdpbmRvdy5jbGV2ZXJ0YXApO1xuICB3aW5kb3cuY2xldmVydGFwID0gd2luZG93LndpenJvY2tldCA9IGNsZXZlcnRhcDtcblxuICByZXR1cm4gY2xldmVydGFwO1xuXG59KSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xldmVydGFwLmpzLm1hcFxuIiwiLyoqXG4gKiBMb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBKUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanMuZm91bmRhdGlvbi8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG52YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbnZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDEsXG4gICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJyxcbiAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJyxcbiAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nO1xuXG52YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICBmbG9hdDMyVGFnID0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICBpbnQxNlRhZyA9ICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICB1aW50OENsYW1wZWRUYWcgPSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbnZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xudHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG50eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG50eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG50eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG50eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG50eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG50eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG50eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG50eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG52YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxuLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbnZhciBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5maWx0ZXJgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlGaWx0ZXIoYXJyYXksIHByZWRpY2F0ZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgcmVzdWx0ID0gW107XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQXBwZW5kcyB0aGUgZWxlbWVudHMgb2YgYHZhbHVlc2AgdG8gYGFycmF5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFwcGVuZC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBhcnJheVB1c2goYXJyYXksIHZhbHVlcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICBvZmZzZXQgPSBhcnJheS5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBhcnJheVtvZmZzZXQgKyBpbmRleF0gPSB2YWx1ZXNbaW5kZXhdO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc29tZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gKiBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5U29tZShhcnJheSwgcHJlZGljYXRlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICB9O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGBjYWNoZWAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IGNhY2hlIFRoZSBjYWNoZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG4gIHJldHVybiBjYWNoZS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAqL1xuZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShtYXAuc2l6ZSk7XG5cbiAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IFtrZXksIHZhbHVlXTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICB9O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBzZXRgIHRvIGFuIGFycmF5IG9mIGl0cyB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIHNldFRvQXJyYXkoc2V0KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gcm9vdC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgU3ltYm9sID0gcm9vdC5TeW1ib2wsXG4gICAgVWludDhBcnJheSA9IHJvb3QuVWludDhBcnJheSxcbiAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlLFxuICAgIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlR2V0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gICAgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBEYXRhVmlldyA9IGdldE5hdGl2ZShyb290LCAnRGF0YVZpZXcnKSxcbiAgICBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpLFxuICAgIFByb21pc2UgPSBnZXROYXRpdmUocm9vdCwgJ1Byb21pc2UnKSxcbiAgICBTZXQgPSBnZXROYXRpdmUocm9vdCwgJ1NldCcpLFxuICAgIFdlYWtNYXAgPSBnZXROYXRpdmUocm9vdCwgJ1dlYWtNYXAnKSxcbiAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtYXBzLCBzZXRzLCBhbmQgd2Vha21hcHMuICovXG52YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLFxuICAgIG1hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShNYXApLFxuICAgIHByb21pc2VDdG9yU3RyaW5nID0gdG9Tb3VyY2UoUHJvbWlzZSksXG4gICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksXG4gICAgd2Vha01hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShXZWFrTWFwKTtcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIEhhc2hcbiAqL1xuZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5IYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbkhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5IYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbkhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgZGF0YS5wb3AoKTtcbiAgfSBlbHNlIHtcbiAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gIH1cbiAgLS10aGlzLnNpemU7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICArK3RoaXMuc2l6ZTtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbkxpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbkxpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbkxpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICB0aGlzLnNpemUgPSAwO1xuICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gIH07XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbk1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5NYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5NYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5NYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5NYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbi8qKlxuICpcbiAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzID09IG51bGwgPyAwIDogdmFsdWVzLmxlbmd0aDtcblxuICB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHRoaXMuYWRkKHZhbHVlc1tpbmRleF0pO1xuICB9XG59XG5cbi8qKlxuICogQWRkcyBgdmFsdWVgIHRvIHRoZSBhcnJheSBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgYWRkXG4gKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAqIEBhbGlhcyBwdXNoXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjYWNoZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzZXRDYWNoZUFkZCh2YWx1ZSkge1xuICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICByZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModmFsdWUpO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuU2V0Q2FjaGUucHJvdG90eXBlLmFkZCA9IFNldENhY2hlLnByb3RvdHlwZS5wdXNoID0gc2V0Q2FjaGVBZGQ7XG5TZXRDYWNoZS5wcm90b3R5cGUuaGFzID0gc2V0Q2FjaGVIYXM7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZShlbnRyaWVzKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIFN0YWNrXG4gKi9cbmZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBzdGFjayBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChkYXRhIGluc3RhbmNlb2YgTGlzdENhY2hlKSB7XG4gICAgdmFyIHBhaXJzID0gZGF0YS5fX2RhdGFfXztcbiAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB0aGlzLnNpemUgPSArK2RhdGEuc2l6ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZShwYWlycyk7XG4gIH1cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG5TdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSksXG4gICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgIGlzVHlwZSA9ICFpc0FyciAmJiAhaXNBcmcgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkodmFsdWUpLFxuICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cbiAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG4gICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldEFsbEtleXNgIGFuZCBgZ2V0QWxsS2V5c0luYCB3aGljaCB1c2VzXG4gKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcbiAgdmFyIHJlc3VsdCA9IGtleXNGdW5jKG9iamVjdCk7XG4gIHJldHVybiBpc0FycmF5KG9iamVjdCkgPyByZXN1bHQgOiBhcnJheVB1c2gocmVzdWx0LCBzeW1ib2xzRnVuYyhvYmplY3QpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gIH1cbiAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcmdzVGFnO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdoaWNoIHN1cHBvcnRzIHBhcnRpYWwgY29tcGFyaXNvbnNcbiAqIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICogIDEgLSBVbm9yZGVyZWQgY29tcGFyaXNvblxuICogIDIgLSBQYXJ0aWFsIGNvbXBhcmlzb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgdmFsdWVgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gIGlmICh2YWx1ZSA9PT0gb3RoZXIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCB8fCBvdGhlciA9PSBudWxsIHx8ICghaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNPYmplY3RMaWtlKG90aGVyKSkpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgfVxuICByZXR1cm4gYmFzZUlzRXF1YWxEZWVwKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgYmFzZUlzRXF1YWwsIHN0YWNrKTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gKiByZWZlcmVuY2VzIHRvIGJlIGNvbXBhcmVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICB2YXIgb2JqSXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICBvdGhJc0FyciA9IGlzQXJyYXkob3RoZXIpLFxuICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuICAgICAgb3RoVGFnID0gb3RoSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvdGhlcik7XG5cbiAgb2JqVGFnID0gb2JqVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvYmpUYWc7XG4gIG90aFRhZyA9IG90aFRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb3RoVGFnO1xuXG4gIHZhciBvYmpJc09iaiA9IG9ialRhZyA9PSBvYmplY3RUYWcsXG4gICAgICBvdGhJc09iaiA9IG90aFRhZyA9PSBvYmplY3RUYWcsXG4gICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gIGlmIChpc1NhbWVUYWcgJiYgaXNCdWZmZXIob2JqZWN0KSkge1xuICAgIGlmICghaXNCdWZmZXIob3RoZXIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIG9iaklzQXJyID0gdHJ1ZTtcbiAgICBvYmpJc09iaiA9IGZhbHNlO1xuICB9XG4gIGlmIChpc1NhbWVUYWcgJiYgIW9iaklzT2JqKSB7XG4gICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICByZXR1cm4gKG9iaklzQXJyIHx8IGlzVHlwZWRBcnJheShvYmplY3QpKVxuICAgICAgPyBlcXVhbEFycmF5cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKVxuICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gIH1cbiAgaWYgKCEoYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHKSkge1xuICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgIG90aElzV3JhcHBlZCA9IG90aElzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsICdfX3dyYXBwZWRfXycpO1xuXG4gICAgaWYgKG9iaklzV3JhcHBlZCB8fCBvdGhJc1dyYXBwZWQpIHtcbiAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICBvdGhVbndyYXBwZWQgPSBvdGhJc1dyYXBwZWQgPyBvdGhlci52YWx1ZSgpIDogb3RoZXI7XG5cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgfVxuICB9XG4gIGlmICghaXNTYW1lVGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gIHJldHVybiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge0FycmF5fSBvdGhlciBUaGUgb3RoZXIgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYGFycmF5YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcnJheXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxBcnJheXMoYXJyYXksIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICBvdGhMZW5ndGggPSBvdGhlci5sZW5ndGg7XG5cbiAgaWYgKGFyckxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIShpc1BhcnRpYWwgJiYgb3RoTGVuZ3RoID4gYXJyTGVuZ3RoKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KGFycmF5KTtcbiAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICB9XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gdHJ1ZSxcbiAgICAgIHNlZW4gPSAoYml0bWFzayAmIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpID8gbmV3IFNldENhY2hlIDogdW5kZWZpbmVkO1xuXG4gIHN0YWNrLnNldChhcnJheSwgb3RoZXIpO1xuICBzdGFjay5zZXQob3RoZXIsIGFycmF5KTtcblxuICAvLyBJZ25vcmUgbm9uLWluZGV4IHByb3BlcnRpZXMuXG4gIHdoaWxlICgrK2luZGV4IDwgYXJyTGVuZ3RoKSB7XG4gICAgdmFyIGFyclZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2luZGV4XTtcblxuICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBhcnJWYWx1ZSwgaW5kZXgsIG90aGVyLCBhcnJheSwgc3RhY2spXG4gICAgICAgIDogY3VzdG9taXplcihhcnJWYWx1ZSwgb3RoVmFsdWUsIGluZGV4LCBhcnJheSwgb3RoZXIsIHN0YWNrKTtcbiAgICB9XG4gICAgaWYgKGNvbXBhcmVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChjb21wYXJlZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgaWYgKHNlZW4pIHtcbiAgICAgIGlmICghYXJyYXlTb21lKG90aGVyLCBmdW5jdGlvbihvdGhWYWx1ZSwgb3RoSW5kZXgpIHtcbiAgICAgICAgICAgIGlmICghY2FjaGVIYXMoc2Vlbiwgb3RoSW5kZXgpICYmXG4gICAgICAgICAgICAgICAgKGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzZWVuLnB1c2gob3RoSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKSB7XG4gICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCEoXG4gICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgc3RhY2tbJ2RlbGV0ZSddKGFycmF5KTtcbiAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gKiB0aGUgc2FtZSBgdG9TdHJpbmdUYWdgLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCB0YWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgc3dpdGNoICh0YWcpIHtcbiAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgIChvYmplY3QuYnl0ZU9mZnNldCAhPSBvdGhlci5ieXRlT2Zmc2V0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBvYmplY3QuYnVmZmVyO1xuICAgICAgb3RoZXIgPSBvdGhlci5idWZmZXI7XG5cbiAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICFlcXVhbEZ1bmMobmV3IFVpbnQ4QXJyYXkob2JqZWN0KSwgbmV3IFVpbnQ4QXJyYXkob3RoZXIpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgYm9vbFRhZzpcbiAgICBjYXNlIGRhdGVUYWc6XG4gICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAvLyBDb2VyY2UgYm9vbGVhbnMgdG8gYDFgIG9yIGAwYCBhbmQgZGF0ZXMgdG8gbWlsbGlzZWNvbmRzLlxuICAgICAgLy8gSW52YWxpZCBkYXRlcyBhcmUgY29lcmNlZCB0byBgTmFOYC5cbiAgICAgIHJldHVybiBlcSgrb2JqZWN0LCArb3RoZXIpO1xuXG4gICAgY2FzZSBlcnJvclRhZzpcbiAgICAgIHJldHVybiBvYmplY3QubmFtZSA9PSBvdGhlci5uYW1lICYmIG9iamVjdC5tZXNzYWdlID09IG90aGVyLm1lc3NhZ2U7XG5cbiAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgIC8vIENvZXJjZSByZWdleGVzIHRvIHN0cmluZ3MgYW5kIHRyZWF0IHN0cmluZ3MsIHByaW1pdGl2ZXMgYW5kIG9iamVjdHMsXG4gICAgICAvLyBhcyBlcXVhbC4gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1yZWdleHAucHJvdG90eXBlLnRvc3RyaW5nXG4gICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgcmV0dXJuIG9iamVjdCA9PSAob3RoZXIgKyAnJyk7XG5cbiAgICBjYXNlIG1hcFRhZzpcbiAgICAgIHZhciBjb252ZXJ0ID0gbWFwVG9BcnJheTtcblxuICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRztcbiAgICAgIGNvbnZlcnQgfHwgKGNvbnZlcnQgPSBzZXRUb0FycmF5KTtcblxuICAgICAgaWYgKG9iamVjdC5zaXplICE9IG90aGVyLnNpemUgJiYgIWlzUGFydGlhbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgICB9XG4gICAgICBiaXRtYXNrIHw9IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUc7XG5cbiAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgdmFyIHJlc3VsdCA9IGVxdWFsQXJyYXlzKGNvbnZlcnQob2JqZWN0KSwgY29udmVydChvdGhlciksIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICBpZiAoc3ltYm9sVmFsdWVPZikge1xuICAgICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZi5jYWxsKG9iamVjdCkgPT0gc3ltYm9sVmFsdWVPZi5jYWxsKG90aGVyKTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBvYmplY3RzIHdpdGggc3VwcG9ydCBmb3JcbiAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICBvYmpQcm9wcyA9IGdldEFsbEtleXMob2JqZWN0KSxcbiAgICAgIG9iakxlbmd0aCA9IG9ialByb3BzLmxlbmd0aCxcbiAgICAgIG90aFByb3BzID0gZ2V0QWxsS2V5cyhvdGhlciksXG4gICAgICBvdGhMZW5ndGggPSBvdGhQcm9wcy5sZW5ndGg7XG5cbiAgaWYgKG9iakxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIWlzUGFydGlhbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgaW5kZXggPSBvYmpMZW5ndGg7XG4gIHdoaWxlIChpbmRleC0tKSB7XG4gICAgdmFyIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICBpZiAoIShpc1BhcnRpYWwgPyBrZXkgaW4gb3RoZXIgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCBrZXkpKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgfVxuICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICBzdGFjay5zZXQob3RoZXIsIG9iamVjdCk7XG5cbiAgdmFyIHNraXBDdG9yID0gaXNQYXJ0aWFsO1xuICB3aGlsZSAoKytpbmRleCA8IG9iakxlbmd0aCkge1xuICAgIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltrZXldO1xuXG4gICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIG9ialZhbHVlLCBrZXksIG90aGVyLCBvYmplY3QsIHN0YWNrKVxuICAgICAgICA6IGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlLCBrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrKTtcbiAgICB9XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgaWYgKCEoY29tcGFyZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gKG9ialZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMob2JqVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpXG4gICAgICAgICAgOiBjb21wYXJlZFxuICAgICAgICApKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBza2lwQ3RvciB8fCAoc2tpcEN0b3IgPSBrZXkgPT0gJ2NvbnN0cnVjdG9yJyk7XG4gIH1cbiAgaWYgKHJlc3VsdCAmJiAhc2tpcEN0b3IpIHtcbiAgICB2YXIgb2JqQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcixcbiAgICAgICAgb3RoQ3RvciA9IG90aGVyLmNvbnN0cnVjdG9yO1xuXG4gICAgLy8gTm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWwuXG4gICAgaWYgKG9iakN0b3IgIT0gb3RoQ3RvciAmJlxuICAgICAgICAoJ2NvbnN0cnVjdG9yJyBpbiBvYmplY3QgJiYgJ2NvbnN0cnVjdG9yJyBpbiBvdGhlcikgJiZcbiAgICAgICAgISh0eXBlb2Ygb2JqQ3RvciA9PSAnZnVuY3Rpb24nICYmIG9iakN0b3IgaW5zdGFuY2VvZiBvYmpDdG9yICYmXG4gICAgICAgICAgdHlwZW9mIG90aEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvdGhDdG9yIGluc3RhbmNlb2Ygb3RoQ3RvcikpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICovXG5mdW5jdGlvbiBnZXRBbGxLZXlzKG9iamVjdCkge1xuICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzLCBnZXRTeW1ib2xzKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICA6IGRhdGEubWFwO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAqL1xudmFyIGdldFN5bWJvbHMgPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gIHJldHVybiBhcnJheUZpbHRlcihuYXRpdmVHZXRTeW1ib2xzKG9iamVjdCksIGZ1bmN0aW9uKHN5bWJvbCkge1xuICAgIHJldHVybiBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgc3ltYm9sKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG52YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEgYW5kIHByb21pc2VzIGluIE5vZGUuanMgPCA2LlxuaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gYmFzZUdldFRhZyh2YWx1ZSksXG4gICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiAnJztcblxuICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICBjYXNlIHByb21pc2VDdG9yU3RyaW5nOiByZXR1cm4gcHJvbWlzZVRhZztcbiAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAodHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8IHJlSXNVaW50LnRlc3QodmFsdWUpKSAmJlxuICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgOiAodmFsdWUgPT09IG51bGwpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAqL1xuZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4zLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbi8qKlxuICogUGVyZm9ybXMgYSBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICogZXF1aXZhbGVudC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2Qgc3VwcG9ydHMgY29tcGFyaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsXG4gKiBkYXRlIG9iamVjdHMsIGVycm9yIG9iamVjdHMsIG1hcHMsIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsXG4gKiBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWQgYXJyYXlzLiBgT2JqZWN0YCBvYmplY3RzIGFyZSBjb21wYXJlZFxuICogYnkgdGhlaXIgb3duLCBub3QgaW5oZXJpdGVkLCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuIEZ1bmN0aW9ucyBhbmQgRE9NXG4gKiBub2RlcyBhcmUgY29tcGFyZWQgYnkgc3RyaWN0IGVxdWFsaXR5LCBpLmUuIGA9PT1gLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmlzRXF1YWwob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogb2JqZWN0ID09PSBvdGhlcjtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRXF1YWwodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNMZW5ndGgoMyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoJzMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgdHlwZWQgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICpcbiAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG4gKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gKiBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8ua2V5cyhuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqXG4gKiBfLmtleXMoJ2hpJyk7XG4gKiAvLyA9PiBbJzAnLCAnMSddXG4gKi9cbmZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgYXJyYXkuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBhcnJheXMgPSBfLnRpbWVzKDIsIF8uc3R1YkFycmF5KTtcbiAqXG4gKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICogLy8gPT4gW1tdLCBbXV1cbiAqXG4gKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gIHJldHVybiBbXTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAqIC8vID0+IFtmYWxzZSwgZmFsc2VdXG4gKi9cbmZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzRXF1YWw7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbi8qKlxuICogTGVhbnBsdW0gQXJnc0J1aWxkZXIsIHVzZSB0byBjb25zdHJ1Y3QgcmVxdWVzdCBwYXlsb2FkLlxuICovXG52YXIgQXJnc0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGVtcHR5IHJlcXVlc3QgYXJndW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQXJnc0J1aWxkZXIoKSB7XG4gICAgICAgIHRoaXMuYXJnU3RyaW5nID0gJyc7XG4gICAgICAgIHRoaXMuYXJnVmFsdWVzID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBnaXZlbiBrZXksIHZhbHVlIHRvIHRoZSBwYXlsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBmb3IgdGhlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IHZhbHVlIFRoZSB2YWx1ZSBmb3IgZ2l2ZW4ga2V5LlxuICAgICAqIEByZXR1cm4ge0FyZ3NCdWlsZGVyfSBSZXR1cm5zIGFuIG9iamVjdCBvZiBBcmdzQnVpbGRlci5cbiAgICAgKi9cbiAgICBBcmdzQnVpbGRlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFyZ1N0cmluZykge1xuICAgICAgICAgICAgdGhpcy5hcmdTdHJpbmcgKz0gJyYnO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWwgPSAnJztcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIHZhbCA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhbCA9IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hcmdTdHJpbmcgKz0gXCJcIi5jb25jYXQoa2V5LCBcIj1cIikuY29uY2F0KHZhbCk7XG4gICAgICAgIHRoaXMuYXJnVmFsdWVzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBBcmdzQnVpbGRlci5wcm90b3R5cGUuYm9keSA9IGZ1bmN0aW9uIChib2R5KSB7XG4gICAgICAgIGlmIChib2R5KSB7XG4gICAgICAgICAgICB0aGlzLl9ib2R5ID0gYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9ib2R5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgbWV0aG9kIHRvIGF0dGFjaCBnaXZlbiBhcHBJZCBhbmQgYXBwS2V5IHRvIHJlcXVlc3QuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBhcHBJZCBUaGUgYXBwSWQgdG8gYXR0YWNoLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gY2xpZW50S2V5IFRoZSBhcHBLZXkgdG8gYXR0YWNoLlxuICAgICAqIEByZXR1cm4ge0FyZ3NCdWlsZGVyfSBSZXR1cm5zIGFuIG9iamVjdCBvZiBBcmdzQnVpbGRlci5cbiAgICAgKi9cbiAgICBBcmdzQnVpbGRlci5wcm90b3R5cGUuYXR0YWNoQXBpS2V5cyA9IGZ1bmN0aW9uIChhcHBJZCwgY2xpZW50S2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BUFBfSUQsIGFwcElkKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DTElFTlQsIENvbnN0YW50c18xLmRlZmF1bHQuQ0xJRU5UKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DTElFTlRfS0VZLCBjbGllbnRLZXkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBhcmd1bWVudHMuXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBBcmd1bWVudHMgc3RyaW5nLlxuICAgICAqL1xuICAgIEFyZ3NCdWlsZGVyLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJnU3RyaW5nO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBhcmd1bWVudCB2YWx1ZXMuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgYXJndW1lbnQgdmFsdWVzLlxuICAgICAqL1xuICAgIEFyZ3NCdWlsZGVyLnByb3RvdHlwZS5idWlsZERpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFyZ1ZhbHVlcztcbiAgICB9O1xuICAgIHJldHVybiBBcmdzQnVpbGRlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBBcmdzQnVpbGRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIEJyb3dzZXIgZGV0ZWN0aW9uLiBTb3VyY2U6IGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvanMvZGV0ZWN0Lmh0bWxcbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGRldGVjdCB3aGljaCBicm93c2VyIGNsaWVudCBpcyB1c2luZy5cbiAqL1xudmFyIEJyb3dzZXJEZXRlY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgb2JqZWN0IHdpdGggY3VycmVudCBicm93c2VyIHNldHRpbmdzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJyb3dzZXJEZXRlY3Rvcih3bmQpIHtcbiAgICAgICAgdGhpcy5icm93c2VyID0gdGhpcy5zZWFyY2hTdHJpbmcodGhpcy5nZXRCcm93c2VyRGF0YSh3bmQpKSB8fCAnVW5rbm93biBCcm93c2VyJztcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gKHRoaXMuc2VhcmNoVmVyc2lvbih3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCkgfHxcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoVmVyc2lvbih3bmQubmF2aWdhdG9yLmFwcFZlcnNpb24pIHx8XG4gICAgICAgICAgICAnVW5rbm93biBWZXJzaW9uJyk7XG4gICAgICAgIHRoaXMuT1MgPSB0aGlzLnNlYXJjaFN0cmluZyh0aGlzLmdldE9TRGF0YSh3bmQpKSB8fCAnVW5rbm93biBPUyc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hdGNoZXMgdGhlIGNsaWVudCdzIHN5c3RlbSB0byB0aGUgcHJlZGVmaW5lZCBzeXN0ZW0gbGlzdC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSBUaGUgZGF0YSBvYmplY3QgdG8gc2Nhbi5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBmb3VuZCBpZGVudGl0eSBzdHJpbmcuXG4gICAgICovXG4gICAgQnJvd3NlckRldGVjdG9yLnByb3RvdHlwZS5zZWFyY2hTdHJpbmcgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkYXRhU3RyaW5nID0gZGF0YVtpXS5zdHJpbmc7XG4gICAgICAgICAgICB2YXIgZGF0YVByb3AgPSBkYXRhW2ldLnByb3A7XG4gICAgICAgICAgICB0aGlzLnZlcnNpb25TZWFyY2hTdHJpbmcgPSBkYXRhW2ldLnZlcnNpb25TZWFyY2ggfHwgZGF0YVtpXS5pZGVudGl0eTtcbiAgICAgICAgICAgIGlmIChkYXRhU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFTdHJpbmcuaW5kZXhPZihkYXRhW2ldLnN1YlN0cmluZykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhW2ldLmlkZW50aXR5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGFQcm9wKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFbaV0uaWRlbnRpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpbmRzIHRoZSBjdXJyZW50IHZlcnNpb24gb2YgdGhlIGdpdmVuIHN5c3RlbS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YVN0cmluZyBUaGUgZGF0YSBvYmplY3QgdG8gc2Nhbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBmb3VuZCBudW1iZXIuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCcm93c2VyRGV0ZWN0b3IucHJvdG90eXBlLnNlYXJjaFZlcnNpb24gPSBmdW5jdGlvbiAoZGF0YVN0cmluZykge1xuICAgICAgICBpZiAoIWRhdGFTdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gZGF0YVN0cmluZy5pbmRleE9mKHRoaXMudmVyc2lvblNlYXJjaFN0cmluZyk7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoZGF0YVN0cmluZy5zdWJzdHJpbmcoaW5kZXggKyB0aGlzLnZlcnNpb25TZWFyY2hTdHJpbmcubGVuZ3RoICsgMSkpO1xuICAgIH07XG4gICAgQnJvd3NlckRldGVjdG9yLnByb3RvdHlwZS5nZXRCcm93c2VyRGF0YSA9IGZ1bmN0aW9uICh3bmQpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0Nocm9tZScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdDaHJvbWUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ09tbmlXZWInLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnT21uaVdlYicsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ09tbmlXZWIvJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdDcmlPUycsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdDaHJvbWUnLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdDcmlPUycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnRnhpT1MnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnRmlyZWZveCcsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ0Z4aU9TJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnZlbmRvcixcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdBcHBsZScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdTYWZhcmknLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdWZXJzaW9uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcHJvcDogd25kLm9wZXJhLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnT3BlcmEnLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdWZXJzaW9uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnZlbmRvcixcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdpQ2FiJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ2lDYWInLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudmVuZG9yLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0tERScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdLb25xdWVyb3InLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0ZpcmVmb3gnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnRmlyZWZveCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci52ZW5kb3IsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnQ2FtaW5vJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0NhbWlubycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnTmV0c2NhcGUnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnTmV0c2NhcGUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ01TSUUnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnRXhwbG9yZXInLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdNU0lFJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdBbmRyb2lkJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0FuZHJvaWQgQnJvd3NlcicsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ1ZlcnNpb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0dlY2tvJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ01vemlsbGEnLFxuICAgICAgICAgICAgICAgIHZlcnNpb25TZWFyY2g6ICdydicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnTW96aWxsYScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdOZXRzY2FwZScsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ01vemlsbGEnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICB9O1xuICAgIEJyb3dzZXJEZXRlY3Rvci5wcm90b3R5cGUuZ2V0T1NEYXRhID0gZnVuY3Rpb24gKHduZCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdXaW4nLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnV2luZG93cycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdNYWMnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnTWFjIE9TJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnBsYXRmb3JtLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ2lQYWQnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnaU9TJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdpUGhvbmUnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnaU9TJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdBbmRyb2lkJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0FuZHJvaWQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IucGxhdGZvcm0sXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnTGludXgnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnTGludXgnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICB9O1xuICAgIHJldHVybiBCcm93c2VyRGV0ZWN0b3I7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQnJvd3NlckRldGVjdG9yO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKlxuICpcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZVxuICpcbiAqL1xuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICAgIE1FVEhPRFM6IHtcbiAgICAgICAgU1RBUlQ6ICdzdGFydCcsXG4gICAgICAgIFNUT1A6ICdzdG9wJyxcbiAgICAgICAgQURWQU5DRTogJ2FkdmFuY2UnLFxuICAgICAgICBUUkFDSzogJ3RyYWNrJyxcbiAgICAgICAgUEFVU0VfU0VTU0lPTjogJ3BhdXNlU2Vzc2lvbicsXG4gICAgICAgIFJFU1VNRV9TRVNTSU9OOiAncmVzdW1lU2Vzc2lvbicsXG4gICAgICAgIFBBVVNFX1NUQVRFOiAncGF1c2VTdGF0ZScsXG4gICAgICAgIFJFU1VNRV9TVEFURTogJ3Jlc3VtZVN0YXRlJyxcbiAgICAgICAgRE9XTkxPQURfRklMRTogJ2Rvd25sb2FkRmlsZScsXG4gICAgICAgIE1VTFRJOiAnbXVsdGknLFxuICAgICAgICBTRVRfVkFSUzogJ3NldFZhcnMnLFxuICAgICAgICBHRVRfVkFSUzogJ2dldFZhcnMnLFxuICAgICAgICBTRVRfVVNFUl9BVFRSSUJVVEVTOiAnc2V0VXNlckF0dHJpYnV0ZXMnLFxuICAgICAgICBTRVRfREVWSUNFX0FUVFJJQlVURVM6ICdzZXREZXZpY2VBdHRyaWJ1dGVzJyxcbiAgICAgICAgVVBMT0FEX0ZJTEU6ICd1cGxvYWRGaWxlJyxcbiAgICAgICAgUkVHSVNURVJfREVWSUNFOiAncmVnaXN0ZXJEZXZpY2UnLFxuICAgIH0sXG4gICAgU0RLX1ZFUlNJT046ICcxLjEyLjAtZGV2ZWxvcC4xJyxcbiAgICBDTElFTlQ6ICdqcycsXG4gICAgUEFSQU1TOiB7XG4gICAgICAgIEFDVElPTjogJ2FjdGlvbicsXG4gICAgICAgIEFQUF9JRDogJ2FwcElkJyxcbiAgICAgICAgQ0xJRU5UOiAnY2xpZW50JyxcbiAgICAgICAgQ0xJRU5UX0tFWTogJ2NsaWVudEtleScsXG4gICAgICAgIENUOiAnY3QnLFxuICAgICAgICBDVVJSRU5DWV9DT0RFOiAnY3VycmVuY3lDb2RlJyxcbiAgICAgICAgREVWSUNFX0lEOiAnZGV2aWNlSWQnLFxuICAgICAgICBTREtfVkVSU0lPTjogJ3Nka1ZlcnNpb24nLFxuICAgICAgICBVU0VSX0lEOiAndXNlcklkJyxcbiAgICAgICAgTkVXX1VTRVJfSUQ6ICduZXdVc2VySWQnLFxuICAgICAgICBERVZfTU9ERTogJ2Rldk1vZGUnLFxuICAgICAgICBWRVJTSU9OX05BTUU6ICd2ZXJzaW9uTmFtZScsXG4gICAgICAgIFNZU1RFTV9OQU1FOiAnc3lzdGVtTmFtZScsXG4gICAgICAgIFNZU1RFTV9WRVJTSU9OOiAnc3lzdGVtVmVyc2lvbicsXG4gICAgICAgIEJST1dTRVJfTkFNRTogJ2Jyb3dzZXJOYW1lJyxcbiAgICAgICAgQlJPV1NFUl9WRVJTSU9OOiAnYnJvd3NlclZlcnNpb24nLFxuICAgICAgICBERVZJQ0VfTkFNRTogJ2RldmljZU5hbWUnLFxuICAgICAgICBERVZJQ0VfTU9ERUw6ICdkZXZpY2VNb2RlbCcsXG4gICAgICAgIFVTRVJfQVRUUklCVVRFUzogJ3VzZXJBdHRyaWJ1dGVzJyxcbiAgICAgICAgTE9DQUxFOiAnbG9jYWxlJyxcbiAgICAgICAgQ09VTlRSWTogJ2NvdW50cnknLFxuICAgICAgICBSRUdJT046ICdyZWdpb24nLFxuICAgICAgICBDSVRZOiAnY2l0eScsXG4gICAgICAgIExPQ0FUSU9OOiAnbG9jYXRpb24nLFxuICAgICAgICBTVEFURTogJ3N0YXRlJyxcbiAgICAgICAgSU5GTzogJ2luZm8nLFxuICAgICAgICBFVkVOVDogJ2V2ZW50JyxcbiAgICAgICAgVkFMVUU6ICd2YWx1ZScsXG4gICAgICAgIEZJTEVOQU1FOiAnZmlsZW5hbWUnLFxuICAgICAgICBUSU1FOiAndGltZScsXG4gICAgICAgIERBVEE6ICdkYXRhJyxcbiAgICAgICAgVkFSUzogJ3ZhcnMnLFxuICAgICAgICBGSUxFOiAnZmlsZScsXG4gICAgICAgIFNJWkU6ICdzaXplJyxcbiAgICAgICAgVkFSSUFUSU9OOiAndmFyaWF0aW9uJyxcbiAgICAgICAgSEFTSDogJ2hhc2gnLFxuICAgICAgICBFTUFJTDogJ2VtYWlsJyxcbiAgICAgICAgVkFSSUFCTEVTOiAndmFycycsXG4gICAgICAgIEFDVElPTl9ERUZJTklUSU9OUzogJ2FjdGlvbkRlZmluaXRpb25zJyxcbiAgICAgICAgUEFSQU1TOiAncGFyYW1zJyxcbiAgICAgICAgSU5DTFVERV9ERUZBVUxUUzogJ2luY2x1ZGVEZWZhdWx0cycsXG4gICAgICAgIElOQ0xVREVfVkFSSUFOVF9ERUJVR19JTkZPOiAnaW5jbHVkZVZhcmlhbnREZWJ1Z0luZm8nLFxuICAgICAgICBORVdTRkVFRF9NRVNTQUdFUzogJ25ld3NmZWVkTWVzc2FnZXMnLFxuICAgICAgICBNRVNTQUdFX0lEOiAnbWVzc2FnZUlkJyxcbiAgICAgICAgV0VCX1BVU0hfU1VCU0NSSVBUSU9OOiAnd2ViUHVzaFN1YnNjcmlwdGlvbicsXG4gICAgfSxcbiAgICBLRVlTOiB7XG4gICAgICAgIElTX1JFR0lTVEVSRUQ6ICdpc1JlZ2lzdGVyZWQnLFxuICAgICAgICBMQVRFU1RfVkVSU0lPTjogJ2xhdGVzdFZlcnNpb24nLFxuICAgICAgICBTWU5DX0lOQk9YOiAnc3luY05ld3NmZWVkJyxcbiAgICAgICAgTUVTU0FHRVM6ICdtZXNzYWdlcycsXG4gICAgICAgIFZBUlM6ICd2YXJzJyxcbiAgICAgICAgVkFSSUFOVFM6ICd2YXJpYW50cycsXG4gICAgICAgIFZBUklBTlRfREVCVUdfSU5GTzogJ3ZhcmlhbnREZWJ1Z0luZm8nLFxuICAgICAgICBBQ1RJT05fREVGSU5JVElPTlM6ICdhY3Rpb25EZWZpbml0aW9ucycsXG4gICAgICAgIFRPS0VOOiAndG9rZW4nLFxuICAgIH0sXG4gICAgREVGQVVMVF9LRVlTOiB7XG4gICAgICAgIENPVU5UOiAnX19sZWFucGx1bV91bnN5bmNlZCcsXG4gICAgICAgIElURU06ICdfX2xlYW5wbHVtX3Vuc3luY2VkXycsXG4gICAgICAgIFZBUklBQkxFUzogJ19fbGVhbnBsdW1fdmFyaWFibGVzJyxcbiAgICAgICAgVkFSSUFOVFM6ICdfX2xlYW5wbHVtX3ZhcmlhbnRzJyxcbiAgICAgICAgVkFSSUFOVF9ERUJVR19JTkZPOiAnX19sZWFucGx1bV92YXJpYW50X2RlYnVnX2luZm8nLFxuICAgICAgICBBQ1RJT05fREVGSU5JVElPTlM6ICdfX2xlYW5wbHVtX2FjdGlvbl9kZWZpbml0aW9ucycsXG4gICAgICAgIEhPU1RfQ09ORklHOiAnX19sZWFucGx1bV9ob3N0cycsXG4gICAgICAgIElOQk9YX01FU1NBR0VTOiAnX19sZWFucGx1bV9pbmJveF9tZXNzYWdlcycsXG4gICAgICAgIFRPS0VOOiAnX19sZWFucGx1bV90b2tlbicsXG4gICAgICAgIERFVklDRV9JRDogJ19fbGVhbnBsdW1fZGV2aWNlX2lkJyxcbiAgICAgICAgVVNFUl9JRDogJ19fbGVhbnBsdW1fdXNlcl9pZCcsXG4gICAgICAgIFNFU1NJT046ICdfX2xlYW5wbHVtX3Nlc3Npb24nLFxuICAgICAgICBNRVNTQUdFX09DQ1VSUkVOQ0VTOiAnX19sZWFucGx1bV9tZXNzYWdlX29jY3VycmVuY2VzJyxcbiAgICAgICAgTUVTU0FHRV9DQUNIRTogJ19fbGVhbnBsdW1fbWVzc2FnZV9jYWNoZScsXG4gICAgICAgIE1JR1JBVElPTl9TVEFURTogJ19fbGVhbnBsdW1fbWlncmF0aW9uX3N0YXRlJyxcbiAgICAgICAgUFVTSF9TVUJTQ1JJUFRJT046ICdfX2xlYW5wbHVtX3B1c2hfc3Vic2NyaXB0aW9uJyxcbiAgICB9LFxuICAgIFZBTFVFUzoge1xuICAgICAgICBERVRFQ1Q6ICcoZGV0ZWN0KScsXG4gICAgICAgIERFRkFVTFRfUFVTSF9BQ1RJT046ICdPcGVuIGFjdGlvbicsXG4gICAgfSxcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBFdmVudEVtaXR0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gW107XG4gICAgfVxuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmhhbmRsZXJzLnB1c2goeyBldmVudE5hbWU6IGV2ZW50TmFtZSwgY2FsbGJhY2s6IGNhbGxiYWNrIH0pO1xuICAgIH07XG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gdGhpcy5oYW5kbGVycy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguZXZlbnROYW1lICE9PSBldmVudE5hbWUgfHwgeC5jYWxsYmFjayAhPT0gY2FsbGJhY2s7IH0pO1xuICAgIH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBhcmdzKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICAgICAgaWYgKGhhbmRsZXIuZXZlbnROYW1lID09PSBldmVudE5hbWUpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmNhbGxiYWNrKGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBFdmVudEVtaXR0ZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRXZlbnRFbWl0dGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEludGVybmFsU3RhdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW50ZXJuYWxTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy5zdGFydEhhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMuZGV2TW9kZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGFydFN1Y2Nlc3NmdWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy52YXJpYW50RGVidWdJbmZvRW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBJbnRlcm5hbFN0YXRlLnByb3RvdHlwZS5hZGRTdGFydFJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuc3RhcnRIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgICAgICBpZiAodGhpcy5oYXNTdGFydGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVyKHRoaXMuc3RhcnRTdWNjZXNzZnVsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSW50ZXJuYWxTdGF0ZS5wcm90b3R5cGUucmVtb3ZlU3RhcnRSZXNwb25zZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB2YXIgaWR4ID0gdGhpcy5zdGFydEhhbmRsZXJzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydEhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJbnRlcm5hbFN0YXRlLnByb3RvdHlwZS50cmlnZ2VyU3RhcnRIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXJ0SGFuZGxlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRIYW5kbGVyc1tpXSh0aGlzLnN0YXJ0U3VjY2Vzc2Z1bCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBJbnRlcm5hbFN0YXRlO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEludGVybmFsU3RhdGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBMZWFucGx1bUludGVybmFsXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTGVhbnBsdW1JbnRlcm5hbFwiKSk7XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzICovXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG52YXIgTGVhbnBsdW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVhbnBsdW0oKSB7XG4gICAgfVxuICAgIExlYW5wbHVtLnNldEFwaVBhdGggPSBmdW5jdGlvbiAoYXBpUGF0aCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0QXBpUGF0aChhcGlQYXRoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldEVtYWlsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBkZXByZWNhdGVkXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBuZXR3b3JrIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHMgVGhlIHRpbWVvdXQgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBMZWFucGx1bS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXROZXR3b3JrVGltZW91dChzZWNvbmRzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldEFwcElkRm9yRGV2ZWxvcG1lbnRNb2RlID0gZnVuY3Rpb24gKGFwcElkLCBhY2Nlc3NLZXkpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldEFwcElkRm9yRGV2ZWxvcG1lbnRNb2RlKGFwcElkLCBhY2Nlc3NLZXkpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0QXBwSWRGb3JQcm9kdWN0aW9uTW9kZSA9IGZ1bmN0aW9uIChhcHBJZCwgYWNjZXNzS2V5KSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRBcHBJZEZvclByb2R1Y3Rpb25Nb2RlKGFwcElkLCBhY2Nlc3NLZXkpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0U29ja2V0SG9zdCA9IGZ1bmN0aW9uIChob3N0KSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRTb2NrZXRIb3N0KGhvc3QpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0RGV2aWNlSWQgPSBmdW5jdGlvbiAoZGV2aWNlSWQpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldERldmljZUlkKGRldmljZUlkKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldExvY2FsZSA9IGZ1bmN0aW9uIChsb2NhbGUpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldExvY2FsZShsb2NhbGUpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0QXBwVmVyc2lvbiA9IGZ1bmN0aW9uICh2ZXJzaW9uTmFtZSkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0QXBwVmVyc2lvbih2ZXJzaW9uTmFtZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXREZXZpY2VOYW1lID0gZnVuY3Rpb24gKGRldmljZU5hbWUpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldERldmljZU5hbWUoZGV2aWNlTmFtZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXREZXZpY2VNb2RlbCA9IGZ1bmN0aW9uIChkZXZpY2VNb2RlbCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0RGV2aWNlTW9kZWwoZGV2aWNlTW9kZWwpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0UmVxdWVzdEJhdGNoaW5nID0gZnVuY3Rpb24gKGJhdGNoRW5hYmxlZCwgY29vbGRvd25TZWNvbmRzKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRSZXF1ZXN0QmF0Y2hpbmcoYmF0Y2hFbmFibGVkLCBjb29sZG93blNlY29uZHMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0U3lzdGVtTmFtZSA9IGZ1bmN0aW9uIChzeXN0ZW1OYW1lKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRTeXN0ZW1OYW1lKHN5c3RlbU5hbWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0U3lzdGVtVmVyc2lvbiA9IGZ1bmN0aW9uIChzeXN0ZW1WZXJzaW9uKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRTeXN0ZW1WZXJzaW9uKHN5c3RlbVZlcnNpb24pO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0VmFyaWFibGVzID0gZnVuY3Rpb24gKHZhcmlhYmxlcykge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0VmFyaWFibGVzKHZhcmlhYmxlcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRWYXJpYW50RGVidWdJbmZvRW5hYmxlZCA9IGZ1bmN0aW9uICh2YXJpYW50RGVidWdJbmZvRW5hYmxlZCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0VmFyaWFudERlYnVnSW5mb0VuYWJsZWQodmFyaWFudERlYnVnSW5mb0VuYWJsZWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZW5hYmxlUmljaEluQXBwTWVzc2FnZXMgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuZW5hYmxlUmljaEluQXBwTWVzc2FnZXMoZW5hYmxlZCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5wcm9jZXNzTWVzc2FnZUV2ZW50ID0gZnVuY3Rpb24gKG1lc3NhZ2VJZCwgbWVzc2FnZSkge1xuICAgICAgICBMZWFucGx1bS5fbHAucHJvY2Vzc01lc3NhZ2VFdmVudChtZXNzYWdlSWQsIG1lc3NhZ2UpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZ2V0VmFyaWFudERlYnVnSW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5nZXRWYXJpYW50RGVidWdJbmZvKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5nZXRWYXJpYWJsZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuZ2V0VmFyaWFibGVzKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5nZXRWYXJpYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoX2EgPSBMZWFucGx1bS5fbHApLmdldFZhcmlhYmxlLmFwcGx5KF9hLCBhcmdzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldFZhcmlhbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmdldFZhcmlhbnRzKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5pbmJveCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5pbmJveCgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICBMZWFucGx1bS5fbHAuYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5yZW1vdmVTdGFydFJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5yZW1vdmVTdGFydFJlc3BvbnNlSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmFkZFZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmFkZFZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucmVtb3ZlVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICBMZWFucGx1bS5fbHAucmVtb3ZlVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5mb3JjZUNvbnRlbnRVcGRhdGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmZvcmNlQ29udGVudFVwZGF0ZShjYWxsYmFjayk7XG4gICAgfTtcbiAgICBMZWFucGx1bS51c2VTZXNzaW9uTGVuZ3RoID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnVzZVNlc3Npb25MZW5ndGgoc2Vjb25kcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zdGFydCA9IGZ1bmN0aW9uICh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjaykge1xuICAgICAgICBMZWFucGx1bS5fbHAuc3RhcnQodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc3RhcnRGcm9tQ2FjaGUgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnN0YXJ0RnJvbUNhY2hlKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zdG9wKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5wYXVzZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5wYXVzZVNlc3Npb24oKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnJlc3VtZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5yZXN1bWVTZXNzaW9uKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5wYXVzZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAucGF1c2VTdGF0ZSgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucmVzdW1lU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5yZXN1bWVTdGF0ZSgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZ2V0VXNlcklkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbHAuZ2V0VXNlcklkKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRVc2VySWQgPSBmdW5jdGlvbiAodXNlcklkKSB7XG4gICAgICAgIExlYW5wbHVtLnNldFVzZXJBdHRyaWJ1dGVzKHVzZXJJZCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRVc2VyQXR0cmlidXRlcyA9IGZ1bmN0aW9uICh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRVc2VyQXR0cmlidXRlcyh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnRyYWNrID0gZnVuY3Rpb24gKGV2ZW50LCB2YWx1ZSwgaW5mbywgcGFyYW1zKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC50cmFjayhldmVudCwgdmFsdWUsIGluZm8sIHBhcmFtcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS50cmFja1B1cmNoYXNlID0gZnVuY3Rpb24gKHZhbHVlLCBjdXJyZW5jeUNvZGUsIHBhcmFtcywgZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50ID09PSB2b2lkIDApIHsgZXZlbnQgPSAnUHVyY2hhc2UnOyB9XG4gICAgICAgIExlYW5wbHVtLl9scC50cmFja1B1cmNoYXNlKHZhbHVlLCBjdXJyZW5jeUNvZGUsIHBhcmFtcywgZXZlbnQpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uYWR2YW5jZVRvID0gZnVuY3Rpb24gKHN0YXRlLCBpbmZvLCBwYXJhbXMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmFkdmFuY2VUbyhzdGF0ZSwgaW5mbywgcGFyYW1zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgd2ViIHB1c2ggaXMgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgc3VwcG9ydGVkLCBlbHNlIGZhbHNlLlxuICAgICAqL1xuICAgIExlYW5wbHVtLmlzV2ViUHVzaFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5pc1dlYlB1c2hTdXBwb3J0ZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgd2ViIHB1c2ggaXMgc3Vic2NyaWJlZC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBSZXNvbHZlcyBpZiB0cnVlLCByZWplY3RzIGlmIGZhbHNlLlxuICAgICAqL1xuICAgIExlYW5wbHVtLmlzV2ViUHVzaFN1YnNjcmliZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuaXNXZWJQdXNoU3Vic2NyaWJlZCgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0V2ViUHVzaE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLnNldFdlYlB1c2hPcHRpb25zKG9wdGlvbnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgdGhlIGJyb3dzZXIgZm9yIHdlYiBwdXNoLlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICBzZXJ2aWNlV29ya2VyVXJsIFRoZSB1cmwgb24geW91ciBzZXJ2ZXIgdGhhdCBob3N0cyB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvc3cubWluLmpzIHNlcnZpY2Ugd29ya2VyIGpzIGZpbGUuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gICAgICAgICAgICAgICAgICAgUmVzb2x2ZXMgaWYgcmVnaXN0cmF0aW9uIHN1Y2Nlc3NmdWwsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJ3aXNlIGZhaWxzLlxuICAgICAqL1xuICAgIExlYW5wbHVtLnJlZ2lzdGVyRm9yV2ViUHVzaCA9IGZ1bmN0aW9uIChzZXJ2aWNlV29ya2VyVXJsKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAucmVnaXN0ZXJGb3JXZWJQdXNoKHNlcnZpY2VXb3JrZXJVcmwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5yZWdpc3RlcnMgdGhlIGJyb3dzZXIgZm9ybSB3ZWIgcHVzaC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICAgICAgIFJlc29sdmVzIG9uIHN1Y2Nlc3MsIG90aGVyd2lzZSByZWplY3RzLlxuICAgICAqL1xuICAgIExlYW5wbHVtLnVucmVnaXN0ZXJGcm9tV2ViUHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC51bnJlZ2lzdGVyRnJvbVdlYlB1c2goKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFycyBjYWNoZWQgdmFsdWVzIGZvciBtZXNzYWdlcywgdmFyaWFibGVzIGFuZCB0ZXN0IGFzc2lnbm1lbnRzLlxuICAgICAqIFVzZSBzcGFyaW5nbHkgYXMgaWYgdGhlIGFwcCBpcyB1cGRhdGVkLCB5b3UnbGwgaGF2ZSB0byBkZWFsIHdpdGggcG90ZW50aWFsbHlcbiAgICAgKiBpbmNvbnNpc3RlbnQgc3RhdGUgb3IgdXNlciBleHBlcmllbmNlLlxuICAgICAqL1xuICAgIExlYW5wbHVtLmNsZWFyVXNlckNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5jbGVhclVzZXJDb250ZW50KCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5kZWZpbmVBY3Rpb24gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBMZWFucGx1bS5fbHAuZGVmaW5lQWN0aW9uKG9wdGlvbnMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uYXBwbHlRdWV1ZSA9IGZ1bmN0aW9uIChxdWV1ZSkge1xuICAgICAgICBMZWFucGx1bS5fbHAuYXBwbHlRdWV1ZShxdWV1ZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5vbiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLm9uKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5vZmYgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5vZmYoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldEZpbGVVcmwgPSBmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5nZXRGaWxlVXJsKGZpbGVuYW1lKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLl9fZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fbHAgPSBuZXcgTGVhbnBsdW1JbnRlcm5hbF8xLmRlZmF1bHQod2luZG93KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLl9scCA9IG5ldyBMZWFucGx1bUludGVybmFsXzEuZGVmYXVsdCh3aW5kb3cpO1xuICAgIExlYW5wbHVtLlZFUlNJT04gPSBDb25zdGFudHNfMS5kZWZhdWx0LlNES19WRVJTSU9OO1xuICAgIHJldHVybiBMZWFucGx1bTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMZWFucGx1bTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTGVhbnBsdW1JbmJveE1lc3NhZ2UgPSB2b2lkIDA7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBTdG9yYWdlTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1N0b3JhZ2VNYW5hZ2VyXCIpKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG52YXIgdmFsdWVzID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBvYmpba2V5XTsgfSk7XG59O1xudmFyIExlYW5wbHVtSW5ib3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVhbnBsdW1JbmJveChjcmVhdGVSZXF1ZXN0LCBvbkFjdGlvbikge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuICAgICAgICB0aGlzLm9uQWN0aW9uID0gb25BY3Rpb247XG4gICAgICAgIHRoaXMubWVzc2FnZU1hcCA9IHt9O1xuICAgICAgICB0aGlzLmNoYW5nZUhhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgIH1cbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5kb3dubG9hZE1lc3NhZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoJ2dldE5ld3NmZWVkTWVzc2FnZXMnLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEucmVzcG9uc2VbMF07XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLm5ld3NmZWVkTWVzc2FnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubWVzc2FnZU1hcCA9IHJlc3BvbnNlLm5ld3NmZWVkTWVzc2FnZXM7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRyaWdnZXJDaGFuZ2VIYW5kbGVycygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUubWFya0FzUmVhZCA9IGZ1bmN0aW9uIChtZXNzYWdlSWQpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VNYXBbbWVzc2FnZUlkXTtcbiAgICAgICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtZXNzYWdlLmlzUmVhZCkge1xuICAgICAgICAgICAgbWVzc2FnZS5pc1JlYWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyQ2hhbmdlSGFuZGxlcnMoKTtcbiAgICAgICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpO1xuICAgICAgICAgICAgYXJncy5hZGQoJ25ld3NmZWVkTWVzc2FnZUlkJywgbWVzc2FnZUlkKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCgnbWFya05ld3NmZWVkTWVzc2FnZUFzUmVhZCcsIGFyZ3MsIHt9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uIChtZXNzYWdlSWQpIHtcbiAgICAgICAgdGhpcy5tYXJrQXNSZWFkKG1lc3NhZ2VJZCk7XG4gICAgICAgIHZhciBpbmJveE1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2UobWVzc2FnZUlkKTtcbiAgICAgICAgdmFyIGlkID0gbWVzc2FnZUlkLnNwbGl0KCcjIycpWzBdO1xuICAgICAgICB2YXIgb3BlbkFjdGlvbiA9IChpbmJveE1lc3NhZ2UgPT09IG51bGwgfHwgaW5ib3hNZXNzYWdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbmJveE1lc3NhZ2Uub3BlbkFjdGlvbigpKSB8fCBudWxsO1xuICAgICAgICB0aGlzLm9uQWN0aW9uKGlkLCBvcGVuQWN0aW9uKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChtZXNzYWdlSWQpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VNYXBbbWVzc2FnZUlkXTtcbiAgICAgICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMubWVzc2FnZU1hcFttZXNzYWdlSWRdO1xuICAgICAgICB0aGlzLnRyaWdnZXJDaGFuZ2VIYW5kbGVycygpO1xuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKTtcbiAgICAgICAgYXJncy5hZGQoJ25ld3NmZWVkTWVzc2FnZUlkJywgbWVzc2FnZUlkKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KCdkZWxldGVOZXdzZmVlZE1lc3NhZ2UnLCBhcmdzLCB7fSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5vbkNoYW5nZWQgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmNoYW5nZUhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5jaGFuZ2VIYW5kbGVycyA9IF90aGlzLmNoYW5nZUhhbmRsZXJzLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAhPT0gaGFuZGxlcjsgfSk7IH07XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS50cmlnZ2VyQ2hhbmdlSGFuZGxlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlSGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlcikgeyByZXR1cm4gaGFuZGxlcigpOyB9KTtcbiAgICAgICAgdGhpcy5zYXZlKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZShDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5JTkJPWF9NRVNTQUdFUywgSlNPTi5zdHJpbmdpZnkodGhpcy5tZXNzYWdlTWFwKSwgJ3Nlc3Npb24nKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXQoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuSU5CT1hfTUVTU0FHRVMsICdzZXNzaW9uJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VNYXAgPSBKU09OLnBhcnNlKHN0YXRlKSB8fCB7fTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlTWFwID0ge307XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLmNvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdmFsdWVzKHRoaXMubWVzc2FnZU1hcCkubGVuZ3RoO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUudW5yZWFkQ291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXModGhpcy5tZXNzYWdlTWFwKS5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuICF4LmlzUmVhZDsgfSkubGVuZ3RoO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUubWVzc2FnZXMgPSBmdW5jdGlvbiAoZmlsdGVyKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5tZXNzYWdlTWFwKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMubWVzc2FnZU1hcFtpZF07XG4gICAgICAgICAgICBpZiAoZmlsdGVyKGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTGVhbnBsdW1JbmJveE1lc3NhZ2UuY3JlYXRlKGlkLCBkYXRhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLmFsbE1lc3NhZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlcyhmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLnVucmVhZE1lc3NhZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlcyhmdW5jdGlvbiAoeCkgeyByZXR1cm4gIXguaXNSZWFkOyB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm1lc3NhZ2VJZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLm1lc3NhZ2VNYXApO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUubWVzc2FnZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IHRoaXMubWVzc2FnZU1hcFtpZF07XG4gICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIExlYW5wbHVtSW5ib3hNZXNzYWdlLmNyZWF0ZShpZCwgbWVzc2FnZSk7XG4gICAgfTtcbiAgICByZXR1cm4gTGVhbnBsdW1JbmJveDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMZWFucGx1bUluYm94O1xudmFyIExlYW5wbHVtSW5ib3hNZXNzYWdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExlYW5wbHVtSW5ib3hNZXNzYWdlKF9pZCwgX3RpdGxlLCBfc3VidGl0bGUsIF9kYXRhLCBfdGltZXN0YW1wLCBfaXNSZWFkLCBfaW1hZ2VVcmwsIF9vcGVuQWN0aW9uKSB7XG4gICAgICAgIHRoaXMuX2lkID0gX2lkO1xuICAgICAgICB0aGlzLl90aXRsZSA9IF90aXRsZTtcbiAgICAgICAgdGhpcy5fc3VidGl0bGUgPSBfc3VidGl0bGU7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBfZGF0YTtcbiAgICAgICAgdGhpcy5fdGltZXN0YW1wID0gX3RpbWVzdGFtcDtcbiAgICAgICAgdGhpcy5faXNSZWFkID0gX2lzUmVhZDtcbiAgICAgICAgdGhpcy5faW1hZ2VVcmwgPSBfaW1hZ2VVcmw7XG4gICAgICAgIHRoaXMuX29wZW5BY3Rpb24gPSBfb3BlbkFjdGlvbjtcbiAgICB9XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UuY3JlYXRlID0gZnVuY3Rpb24gKGlkLCBtZXNzYWdlSW5mbykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2ssIF9sO1xuICAgICAgICB2YXIgcGFyZW50Q2FtcGFpZ25JZCA9IChfYSA9IG1lc3NhZ2VJbmZvLm1lc3NhZ2VEYXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGFyZW50Q2FtcGFpZ25JZDtcbiAgICAgICAgdmFyIGFjdGlvbiA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCAoX2MgPSAoX2IgPSBtZXNzYWdlSW5mby5tZXNzYWdlRGF0YSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnZhcnMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY1tDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERUZBVUxUX1BVU0hfQUNUSU9OXSksIHsgcGFyZW50Q2FtcGFpZ25JZDogcGFyZW50Q2FtcGFpZ25JZCB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBMZWFucGx1bUluYm94TWVzc2FnZShpZCwgKF9lID0gKF9kID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC52YXJzKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuVGl0bGUsIChfZyA9IChfZiA9IG1lc3NhZ2VJbmZvLm1lc3NhZ2VEYXRhKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YudmFycykgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLlN1YnRpdGxlLCAoX2ogPSAoX2ggPSBtZXNzYWdlSW5mby5tZXNzYWdlRGF0YSkgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLnZhcnMpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5EYXRhLCBtZXNzYWdlSW5mby5kZWxpdmVyeVRpbWVzdGFtcCwgbWVzc2FnZUluZm8uaXNSZWFkLCAoX2wgPSAoX2sgPSBtZXNzYWdlSW5mby5tZXNzYWdlRGF0YSkgPT09IG51bGwgfHwgX2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9rLnZhcnMpID09PSBudWxsIHx8IF9sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbC5JbWFnZSwgYWN0aW9uKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS5pZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLnRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGl0bGU7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUuc3VidGl0bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdWJ0aXRsZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS5kYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS50aW1lc3RhbXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW1lc3RhbXA7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUuaXNSZWFkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNSZWFkO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLmltYWdlVXJsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW1hZ2VVcmw7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUub3BlbkFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wZW5BY3Rpb247XG4gICAgfTtcbiAgICByZXR1cm4gTGVhbnBsdW1JbmJveE1lc3NhZ2U7XG59KCkpO1xuZXhwb3J0cy5MZWFucGx1bUluYm94TWVzc2FnZSA9IExlYW5wbHVtSW5ib3hNZXNzYWdlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEFyZ3NCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQXJnc0J1aWxkZXJcIikpO1xudmFyIEJyb3dzZXJEZXRlY3Rvcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0Jyb3dzZXJEZXRlY3RvclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBJbnRlcm5hbFN0YXRlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vSW50ZXJuYWxTdGF0ZVwiKSk7XG52YXIgTGVhbnBsdW1JbmJveF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0xlYW5wbHVtSW5ib3hcIikpO1xudmFyIExlYW5wbHVtUmVxdWVzdF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0xlYW5wbHVtUmVxdWVzdFwiKSk7XG52YXIgTGVhbnBsdW1Tb2NrZXRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9MZWFucGx1bVNvY2tldFwiKSk7XG52YXIgU3RvcmFnZU1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9TdG9yYWdlTWFuYWdlclwiKSk7XG52YXIgUHVzaE1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9QdXNoTWFuYWdlclwiKSk7XG52YXIgTWVzc2FnZXNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9NZXNzYWdlc1wiKSk7XG52YXIgRXZlbnRFbWl0dGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vRXZlbnRFbWl0dGVyXCIpKTtcbnZhciBNaWdyYXRpb25NYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTWlncmF0aW9uTWFuYWdlclwiKSk7XG52YXIgcHVibGljXzEgPSByZXF1aXJlKFwiLi90eXBlcy9wdWJsaWNcIik7XG52YXIgaW50ZXJuYWxfMSA9IHJlcXVpcmUoXCIuL3R5cGVzL2ludGVybmFsXCIpO1xudmFyIFZhckNhY2hlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vVmFyQ2FjaGVcIikpO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlcyAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xudmFyIFNFU1NJT05fS0VZID0gQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuU0VTU0lPTjtcbnZhciBMZWFucGx1bUludGVybmFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExlYW5wbHVtSW50ZXJuYWwod25kKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMud25kID0gd25kO1xuICAgICAgICB0aGlzLl9taWdyYXRpb24gPSBuZXcgTWlncmF0aW9uTWFuYWdlcl8xLmRlZmF1bHQodGhpcy5jcmVhdGVSZXF1ZXN0LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRFbWl0dGVyXzEuZGVmYXVsdCgpO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlID0gbmV3IEludGVybmFsU3RhdGVfMS5kZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX2xwSW5ib3ggPSBuZXcgTGVhbnBsdW1JbmJveF8xLmRlZmF1bHQodGhpcy5jcmVhdGVSZXF1ZXN0LmJpbmQodGhpcyksIHRoaXMub25JbmJveEFjdGlvbi5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0ID0gbmV3IExlYW5wbHVtUmVxdWVzdF8xLmRlZmF1bHQodGhpcy5fZXZlbnRzKTtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUgPSBuZXcgVmFyQ2FjaGVfMS5kZWZhdWx0KHRoaXMuY3JlYXRlUmVxdWVzdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fbHBTb2NrZXQgPSBuZXcgTGVhbnBsdW1Tb2NrZXRfMS5kZWZhdWx0KHRoaXMuX3ZhckNhY2hlLCB0aGlzLmNyZWF0ZVJlcXVlc3QuYmluZCh0aGlzKSwgdGhpcy5fbHBSZXF1ZXN0LmdldExhc3RSZXNwb25zZS5iaW5kKHRoaXMuX2xwUmVxdWVzdCksIHRoaXMuX2V2ZW50cyk7XG4gICAgICAgIHRoaXMuX3B1c2hNYW5hZ2VyID0gbmV3IFB1c2hNYW5hZ2VyXzEuZGVmYXVsdCh0aGlzLmNyZWF0ZVJlcXVlc3QuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX21lc3NhZ2VzID0gbmV3IE1lc3NhZ2VzXzEuZGVmYXVsdCh0aGlzLl9ldmVudHMsIHRoaXMuY3JlYXRlUmVxdWVzdC5iaW5kKHRoaXMpLCB0aGlzLmdldEZpbGVVcmwuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX2Jyb3dzZXJEZXRlY3RvciA9IG5ldyBCcm93c2VyRGV0ZWN0b3JfMS5kZWZhdWx0KHduZCk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5vbignbmF2aWdhdGlvbkNoYW5nZScsIGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgICAgIHZhciBwcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLl9ldmVudHMuZW1pdCgnb3BlblVybCcsIHtcbiAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJldmVudGVkID0gdHJ1ZTsgfSxcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFwcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy53bmQubG9jYXRpb24uYXNzaWduKHVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9ldmVudHMub24oJ3JlZ2lzdGVyRm9yUHVzaCcsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnJlZ2lzdGVyRm9yV2ViUHVzaCgpOyB9KTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLm9uKCd1cGRhdGVEZXZTZXJ2ZXJIb3N0JywgZnVuY3Rpb24gKGhvc3QpIHsgcmV0dXJuIF90aGlzLnNldFNvY2tldEhvc3QoaG9zdCk7IH0pO1xuICAgICAgICB0aGlzLl9ldmVudHMub24oJ21pZ3JhdGVTdGF0ZVJlY2VpdmVkJywgZnVuY3Rpb24gKHNoYSkgeyByZXR1cm4gX3RoaXMuX21pZ3JhdGlvbi52ZXJpZnlTdGF0ZShzaGEpOyB9KTtcbiAgICB9XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0QXBpUGF0aCA9IGZ1bmN0aW9uIChhcGlQYXRoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbHBSZXF1ZXN0LmFwaVBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9scFJlcXVlc3QuYXBpUGF0aCA9IGFwaVBhdGg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBuZXR3b3JrIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHMgVGhlIHRpbWVvdXQgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5zZXROZXR3b3JrVGltZW91dChzZWNvbmRzKTtcbiAgICAgICAgdGhpcy5fbHBTb2NrZXQuc2V0TmV0d29ya1RpbWVvdXQoc2Vjb25kcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRBcHBJZEZvckRldmVsb3BtZW50TW9kZSA9IGZ1bmN0aW9uIChhcHBJZCwgYWNjZXNzS2V5KSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5hcHBJZCA9IGFwcElkO1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuY2xpZW50S2V5ID0gYWNjZXNzS2V5O1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLmRldk1vZGUgPSB0cnVlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0QXBwSWRGb3JQcm9kdWN0aW9uTW9kZSA9IGZ1bmN0aW9uIChhcHBJZCwgYWNjZXNzS2V5KSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5hcHBJZCA9IGFwcElkO1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuY2xpZW50S2V5ID0gYWNjZXNzS2V5O1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLmRldk1vZGUgPSBmYWxzZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFNvY2tldEhvc3QgPSBmdW5jdGlvbiAoaG9zdCkge1xuICAgICAgICB0aGlzLl9scFNvY2tldC5zZXRTb2NrZXRIb3N0KGhvc3QpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0RGV2aWNlSWQgPSBmdW5jdGlvbiAoZGV2aWNlSWQpIHtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmRldmljZUlkID0gZGV2aWNlSWQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRMb2NhbGUgPSBmdW5jdGlvbiAobG9jYWxlKSB7XG4gICAgICAgIHRoaXMuX2xvY2FsZSA9IGxvY2FsZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldEFwcFZlcnNpb24gPSBmdW5jdGlvbiAodmVyc2lvbk5hbWUpIHtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LnZlcnNpb25OYW1lID0gdmVyc2lvbk5hbWU7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXREZXZpY2VOYW1lID0gZnVuY3Rpb24gKGRldmljZU5hbWUpIHtcbiAgICAgICAgdGhpcy5fZGV2aWNlTmFtZSA9IGRldmljZU5hbWU7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXREZXZpY2VNb2RlbCA9IGZ1bmN0aW9uIChkZXZpY2VNb2RlbCkge1xuICAgICAgICB0aGlzLl9kZXZpY2VNb2RlbCA9IGRldmljZU1vZGVsO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0UmVxdWVzdEJhdGNoaW5nID0gZnVuY3Rpb24gKGJhdGNoRW5hYmxlZCwgY29vbGRvd25TZWNvbmRzKSB7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5iYXRjaEVuYWJsZWQgPSBiYXRjaEVuYWJsZWQ7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5iYXRjaENvb2xkb3duID0gY29vbGRvd25TZWNvbmRzO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0U3lzdGVtTmFtZSA9IGZ1bmN0aW9uIChzeXN0ZW1OYW1lKSB7XG4gICAgICAgIHRoaXMuX3N5c3RlbU5hbWUgPSBzeXN0ZW1OYW1lO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0U3lzdGVtVmVyc2lvbiA9IGZ1bmN0aW9uIChzeXN0ZW1WZXJzaW9uKSB7XG4gICAgICAgIHRoaXMuX3N5c3RlbVZlcnNpb24gPSBzeXN0ZW1WZXJzaW9uO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0VmFyaWFibGVzID0gZnVuY3Rpb24gKHZhcmlhYmxlcykge1xuICAgICAgICB0aGlzLl92YXJDYWNoZS5zZXRWYXJpYWJsZXModmFyaWFibGVzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFZhcmlhbnREZWJ1Z0luZm9FbmFibGVkID0gZnVuY3Rpb24gKHZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKSB7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUudmFyaWFudERlYnVnSW5mb0VuYWJsZWQgPSB2YXJpYW50RGVidWdJbmZvRW5hYmxlZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmVuYWJsZVJpY2hJbkFwcE1lc3NhZ2VzID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5fbWVzc2FnZXMuZW5hYmxlUmljaEluQXBwTWVzc2FnZXMoZW5hYmxlZCk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5wcm9jZXNzTWVzc2FnZUV2ZW50ID0gZnVuY3Rpb24gKG1lc3NhZ2VJZCwgbWVzc2FnZSkge1xuICAgICAgICB0aGlzLl9tZXNzYWdlcy5wcm9jZXNzTWVzc2FnZUV2ZW50KG1lc3NhZ2VJZCwgbWVzc2FnZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5nZXRWYXJpYW50RGVidWdJbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFyQ2FjaGUuZ2V0VmFyaWFudERlYnVnSW5mbygpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0VmFyaWFibGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFyQ2FjaGUuZ2V0VmFyaWFibGVzKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5nZXRWYXJpYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLl92YXJDYWNoZSkuZ2V0VmFyaWFibGUuYXBwbHkoX2EsIGFyZ3MpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZ2V0VmFyaWFudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YXJDYWNoZS52YXJpYW50cyB8fCBbXTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmluYm94ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbHBJbmJveDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgICB0aGlzLl9ldmVudHMub24oZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fZXZlbnRzLm9mZihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUub25JbmJveEFjdGlvbiA9IGZ1bmN0aW9uIChtZXNzYWdlSWQsIGFjdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9tZXNzYWdlcy50cmFja01lc3NhZ2UobWVzc2FnZUlkLCB7IGV2ZW50OiAnT3BlbicgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gYWN0aW9uICYmIF90aGlzLl9tZXNzYWdlcy5vbkFjdGlvbihhY3Rpb24pOyB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmRlZmluZUFjdGlvbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX3ZhckNhY2hlLnJlZ2lzdGVyQWN0aW9uRGVmaW5pdGlvbihfX2Fzc2lnbih7IGtpbmQ6IHB1YmxpY18xLk1lc3NhZ2VLaW5kLlRlbXBsYXRlIH0sIG9wdGlvbnMpKTtcbiAgICB9O1xuICAgIC8vIFRPRE8oYnJlYWtpbmcgY2hhbmdlKTogcmVwbGFjZSB3aXRoIGV2ZW50cyBhbmQgcmVtb3ZlIHN0YXRlZnVsIGhhbmRsZXJzXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucmVtb3ZlU3RhcnRSZXNwb25zZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLnJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLl92YXJDYWNoZS5hZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUucmVtb3ZlVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5nZXRGaWxlVXJsID0gZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9scFJlcXVlc3QuZ2V0RmlsZVVybChmaWxlbmFtZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5mb3JjZUNvbnRlbnRVcGRhdGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5DTFVERV9ERUZBVUxUUywgZmFsc2UpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklOQ0xVREVfVkFSSUFOVF9ERUJVR19JTkZPLCB0aGlzLl9pbnRlcm5hbFN0YXRlLnZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5HRVRfVkFSUywgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiBmYWxzZSxcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdldFZhcnNSZXNwb25zZSA9IF90aGlzLl9scFJlcXVlc3QuZ2V0TGFzdFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB2YXIgaXNTdWNjZXNzID0gX3RoaXMuX2xwUmVxdWVzdC5pc1Jlc3BvbnNlU3VjY2VzcyhnZXRWYXJzUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIGlmIChpc1N1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3ZhckNhY2hlLmFwcGx5RGlmZnMoZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJTXSwgZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJJQU5UU10sIGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuQUNUSU9OX0RFRklOSVRJT05TXSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS5zZXRWYXJpYW50RGVidWdJbmZvKGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSSUFOVF9ERUJVR19JTkZPXSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9ldmVudHMuZW1pdCgnbWVzc2FnZXNSZWNlaXZlZCcsIGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuTUVTU0FHRVNdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGlzU3VjY2Vzcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS51c2VTZXNzaW9uTGVuZ3RoID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICAgICAgdGhpcy5fc2Vzc2lvbkxlbmd0aCA9IHNlY29uZHM7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodHlwZW9mIHVzZXJJZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VySWQ7XG4gICAgICAgICAgICB1c2VyQXR0cmlidXRlcyA9IHt9O1xuICAgICAgICAgICAgdXNlcklkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdXNlcklkID09PSAnb2JqZWN0JyAmJiB1c2VySWQgIT09IG51bGwgJiYgdXNlcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlckF0dHJpYnV0ZXM7XG4gICAgICAgICAgICB1c2VyQXR0cmlidXRlcyA9IHVzZXJJZDtcbiAgICAgICAgICAgIHVzZXJJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHVzZXJBdHRyaWJ1dGVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJBdHRyaWJ1dGVzO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oYXNBY3RpdmVTZXNzaW9uKCkgJiYgIXRoaXMuX2ludGVybmFsU3RhdGUuZGV2TW9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRGcm9tQ2FjaGUodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21pZ3JhdGlvbi5nZXRTdGF0ZShmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gaW50ZXJuYWxfMS5NaWdyYXRpb25TdGF0ZS5EVVBMSUNBVEUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fY3QgPSBfdGhpcy5fbWlncmF0aW9uLmluaXRDbGV2ZXJUYXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlID09PSBpbnRlcm5hbF8xLk1pZ3JhdGlvblN0YXRlLkNMRVZFUlRBUCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9jdCA9IF90aGlzLl9taWdyYXRpb24uaW5pdENsZXZlclRhcCgpO1xuICAgICAgICAgICAgICAgIF90aGlzLm1pZ3JhdGVQdXNoVG9rZW4oKTtcbiAgICAgICAgICAgICAgICBPYmplY3QudmFsdWVzKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuICFbXG4gICAgICAgICAgICAgICAgICAgIENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlVTRVJfSUQsXG4gICAgICAgICAgICAgICAgICAgIENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkRFVklDRV9JRCxcbiAgICAgICAgICAgICAgICAgICAgQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVE9LRU4sXG4gICAgICAgICAgICAgICAgICAgIENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLk1JR1JBVElPTl9TVEFURSxcbiAgICAgICAgICAgICAgICBdLmluY2x1ZGVzKGtleSk7IH0pXG4gICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5yZW1vdmUoa2V5KTsgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX21lc3NhZ2VzLmNsZWFudXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLl9scFJlcXVlc3QudXNlcklkID0gdXNlcklkO1xuICAgICAgICAgICAgaWYgKHVzZXJJZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9taWdyYXRpb24uaWRlbnRpdHkuc2V0VXNlcklkKHVzZXJJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGRTdGFydFJlc3BvbnNlSGFuZGxlcihjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUub25VcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3ZhckNhY2hlLnRyaWdnZXJWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVVNFUl9BVFRSSUJVVEVTLCBKU09OLnN0cmluZ2lmeSh1c2VyQXR0cmlidXRlcykpXG4gICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DT1VOVFJZLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5SRUdJT04sIENvbnN0YW50c18xLmRlZmF1bHQuVkFMVUVTLkRFVEVDVClcbiAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkNJVFksIENvbnN0YW50c18xLmRlZmF1bHQuVkFMVUVTLkRFVEVDVClcbiAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkxPQ0FUSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5TWVNURU1fTkFNRSwgX3RoaXMuX3N5c3RlbU5hbWUgfHwgX3RoaXMuX2Jyb3dzZXJEZXRlY3Rvci5PUylcbiAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNZU1RFTV9WRVJTSU9OLCAoX3RoaXMuX3N5c3RlbVZlcnNpb24gfHwgJycpLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5CUk9XU0VSX05BTUUsIF90aGlzLl9icm93c2VyRGV0ZWN0b3IuYnJvd3NlcilcbiAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkJST1dTRVJfVkVSU0lPTiwgX3RoaXMuX2Jyb3dzZXJEZXRlY3Rvci52ZXJzaW9uLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5MT0NBTEUsIF90aGlzLl9sb2NhbGUgfHwgQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVURUNUKVxuICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuREVWSUNFX05BTUUsIF90aGlzLl9kZXZpY2VOYW1lIHx8XG4gICAgICAgICAgICAgICAgXCJcIi5jb25jYXQoX3RoaXMuX2Jyb3dzZXJEZXRlY3Rvci5icm93c2VyLCBcIiBcIikuY29uY2F0KF90aGlzLl9icm93c2VyRGV0ZWN0b3IudmVyc2lvbikpXG4gICAgICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZJQ0VfTU9ERUwsIF90aGlzLl9kZXZpY2VNb2RlbCB8fCAnV2ViIEJyb3dzZXInKVxuICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuTkVXU0ZFRURfTUVTU0FHRVMsIF90aGlzLl9scEluYm94Lm1lc3NhZ2VJZHMoKSlcbiAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklOQ0xVREVfREVGQVVMVFMsIGZhbHNlKVxuICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5DTFVERV9WQVJJQU5UX0RFQlVHX0lORk8sIF90aGlzLl9pbnRlcm5hbFN0YXRlLnZhcmlhbnREZWJ1Z0luZm9FbmFibGVkKTtcbiAgICAgICAgICAgIF90aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlNUQVJULCBhcmdzLCB7XG4gICAgICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5faW50ZXJuYWxTdGF0ZS5oYXNTdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0UmVzcG9uc2UgPSBfdGhpcy5fbHBSZXF1ZXN0LmdldExhc3RSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc1N1Y2Nlc3MgPSBfdGhpcy5fbHBSZXF1ZXN0LmlzUmVzcG9uc2VTdWNjZXNzKHN0YXJ0UmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5faW50ZXJuYWxTdGF0ZS5zdGFydFN1Y2Nlc3NmdWwgPSBpc1N1Y2Nlc3M7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1N1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZVNlc3Npb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlcyA9IHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLk1FU1NBR0VTXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFydFJlc3BvbnNlLmFjdGlvbkRlZmluaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXMuYWN0aW9uRGVmaW5pdGlvbnMgPSBzdGFydFJlc3BvbnNlLmFjdGlvbkRlZmluaXRpb25zO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2V2ZW50cy5lbWl0KCdtZXNzYWdlc1JlY2VpdmVkJywgbWVzc2FnZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlNZTkNfSU5CT1hdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2xwSW5ib3guZG93bmxvYWRNZXNzYWdlcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9pbnRlcm5hbFN0YXRlLmRldk1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF0ZXN0VmVyc2lvbiA9IHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLkxBVEVTVF9WRVJTSU9OXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF0ZXN0VmVyc2lvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkEgbmV3ZXIgdmVyc2lvbiBvZiB0aGUgTGVhbnBsdW0gU0RLLCBcIi5jb25jYXQobGF0ZXN0VmVyc2lvbiwgXCIsIGlzIGF2YWlsYWJsZS5cXG4gIFVzZSBcXFwibnBtIHVwZGF0ZSBsZWFucGx1bS1zZGtcXFwiIG9yIGdvIHRvIGh0dHBzOi8vZG9jcy5sZWFucGx1bS5jb20vcmVmZXJlbmNlI2phdmFzY3JpcHQtc2V0dXAgdG8gZG93bmxvYWQgaXQuXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdFNvY2tldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3ZhckNhY2hlLmFwcGx5RGlmZnMoc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSU10sIHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUklBTlRTXSwgc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuQUNUSU9OX0RFRklOSVRJT05TXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUuc2V0VmFyaWFudERlYnVnSW5mbyhzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJJQU5UX0RFQlVHX0lORk9dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS50b2tlbiA9IHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlRPS0VOXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS5sb2FkRGlmZnMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZXZlbnRzLmVtaXQoJ3N0YXJ0JywgeyBzdWNjZXNzOiBpc1N1Y2Nlc3MgfSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9pbnRlcm5hbFN0YXRlLnRyaWdnZXJTdGFydEhhbmRsZXJzKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnN0YXJ0RnJvbUNhY2hlID0gZnVuY3Rpb24gKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlb2YgdXNlcklkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJJZDtcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0ge307XG4gICAgICAgICAgICB1c2VySWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdvYmplY3QnICYmIHVzZXJJZCAhPT0gbnVsbCAmJiB1c2VySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VyQXR0cmlidXRlcztcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0gdXNlcklkO1xuICAgICAgICAgICAgdXNlcklkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdXNlckF0dHJpYnV0ZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlckF0dHJpYnV0ZXM7XG4gICAgICAgICAgICB1c2VyQXR0cmlidXRlcyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlU2Vzc2lvbigpO1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QudXNlcklkID0gdXNlcklkO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIoY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUuaGFzU3RhcnRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUuc3RhcnRTdWNjZXNzZnVsID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fbWlncmF0aW9uLmdldFN0YXRlKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgICAgaWYgKHN0YXRlID09PSBpbnRlcm5hbF8xLk1pZ3JhdGlvblN0YXRlLkRVUExJQ0FURSB8fCBzdGF0ZSA9PT0gaW50ZXJuYWxfMS5NaWdyYXRpb25TdGF0ZS5DTEVWRVJUQVApIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fY3QgPSBfdGhpcy5fbWlncmF0aW9uLmluaXRDbGV2ZXJUYXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLl9pbnRlcm5hbFN0YXRlLmRldk1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdFNvY2tldCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ZhckNhY2hlLmxvYWREaWZmcygpO1xuICAgICAgICB0aGlzLl9ldmVudHMuZW1pdCgncmVzdW1lJyk7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUudHJpZ2dlclN0YXJ0SGFuZGxlcnMoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuU1RPUCwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQucmVtb3ZlKFNFU1NJT05fS0VZKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucGF1c2VTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlBBVVNFX1NFU1NJT04sIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5yZXN1bWVTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9ldmVudHMuZW1pdCgncmVzdW1lJyk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuUkVTVU1FX1NFU1NJT04sIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5wYXVzZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlBBVVNFX1NUQVRFLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5yZXN1bWVTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5SRVNVTUVfU1RBVEUsIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldFVzZXJJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xwUmVxdWVzdC51c2VySWQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRVc2VySWQgPSBmdW5jdGlvbiAodXNlcklkKSB7XG4gICAgICAgIHRoaXMuc2V0VXNlckF0dHJpYnV0ZXModXNlcklkKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFVzZXJBdHRyaWJ1dGVzID0gZnVuY3Rpb24gKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMpIHtcbiAgICAgICAgaWYgKHVzZXJBdHRyaWJ1dGVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXNlcklkID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0gdXNlcklkO1xuICAgICAgICAgICAgICAgIHVzZXJJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VySWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBzZXRVc2VyQXR0cmlidXRlcyBleHBlY3RzIGEgc3RyaW5nIG9yIGFuICcgK1xuICAgICAgICAgICAgICAgICAgICAnb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlVTRVJfQVRUUklCVVRFUywgdXNlckF0dHJpYnV0ZXMgPyBKU09OLnN0cmluZ2lmeSh1c2VyQXR0cmlidXRlcykgOiB1bmRlZmluZWQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLk5FV19VU0VSX0lELCB1c2VySWQpO1xuICAgICAgICB0aGlzLl9ldmVudHMuZW1pdCgnc2V0VXNlckF0dHJpYnV0ZScsIHVzZXJBdHRyaWJ1dGVzKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TRVRfVVNFUl9BVFRSSUJVVEVTLCBhcmdzLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodXNlcklkKSB7XG4gICAgICAgICAgICB0aGlzLl9scFJlcXVlc3QudXNlcklkID0gdXNlcklkO1xuICAgICAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmUoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVVNFUl9JRCwgdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnRyYWNrID0gZnVuY3Rpb24gKGV2ZW50LCB2YWx1ZSwgaW5mbywgcGFyYW1zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IHZhbHVlO1xuICAgICAgICAgICAgaW5mbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IGluZm87XG4gICAgICAgICAgICBpbmZvID0gdmFsdWU7XG4gICAgICAgICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgaW5mbyA9PT0gJ29iamVjdCcgJiYgaW5mbyAhPT0gbnVsbCAmJiBpbmZvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IGluZm87XG4gICAgICAgICAgICBpbmZvID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkVWRU5ULCBldmVudClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVkFMVUUsIHZhbHVlIHx8IDAuMClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5GTywgaW5mbylcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuUEFSQU1TLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLmVtaXQoJ3RyYWNrJywgeyBldmVudE5hbWU6IGV2ZW50LCBwYXJhbXM6IHBhcmFtcyB9KTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5UUkFDSywgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnVwZGF0ZVNlc3Npb24oKTsgfSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS50cmFja1B1cmNoYXNlID0gZnVuY3Rpb24gKHZhbHVlLCBjdXJyZW5jeUNvZGUsIHBhcmFtcywgZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50ID09PSB2b2lkIDApIHsgZXZlbnQgPSAnUHVyY2hhc2UnOyB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkVWRU5ULCBldmVudClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVkFMVUUsIHZhbHVlIHx8IDAuMClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuUEFSQU1TLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcbiAgICAgICAgaWYgKGN1cnJlbmN5Q29kZSkge1xuICAgICAgICAgICAgYXJncy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQ1VSUkVOQ1lfQ09ERSwgY3VycmVuY3lDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ldmVudHMuZW1pdCgndHJhY2snLCB7IGV2ZW50TmFtZTogZXZlbnQgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuVFJBQ0ssIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgICAgIGlzUHVyY2hhc2U6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuYWR2YW5jZVRvID0gZnVuY3Rpb24gKHN0YXRlLCBpbmZvLCBwYXJhbXMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbmZvID09PSAnb2JqZWN0JyAmJiBpbmZvICE9PSBudWxsICYmIGluZm8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGFyYW1zID0gaW5mbztcbiAgICAgICAgICAgIGluZm8gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuU1RBVEUsIHN0YXRlKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkZPLCBpbmZvKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5QQVJBTVMsIEpTT04uc3RyaW5naWZ5KHBhcmFtcykpO1xuICAgICAgICB0aGlzLl9ldmVudHMuZW1pdCgnYWR2YW5jZVN0YXRlJywgeyBzdGF0ZTogc3RhdGUsIHBhcmFtczogcGFyYW1zIH0pO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLkFEVkFOQ0UsIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHdlYiBwdXNoIGlzIHN1cHBvcnRlZCBpbiB0aGUgYnJvd3Nlci5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHN1cHBvcnRlZCwgZWxzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5pc1dlYlB1c2hTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wdXNoTWFuYWdlci5pc1dlYlB1c2hTdXBwb3J0ZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgd2ViIHB1c2ggaXMgc3Vic2NyaWJlZC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBSZXNvbHZlcyBpZiB0cnVlLCByZWplY3RzIGlmIGZhbHNlLlxuICAgICAqL1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmlzV2ViUHVzaFN1YnNjcmliZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGNsaWVudFVybCA9ICgoX2EgPSB0aGlzLl93ZWJQdXNoT3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsaWVudFVybCkgfHwgJyc7XG4gICAgICAgIHJldHVybiB0aGlzLl9wdXNoTWFuYWdlci5pc1dlYlB1c2hTdWJzY3JpYmVkKGNsaWVudFVybCk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRXZWJQdXNoT3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX3dlYlB1c2hPcHRpb25zID0gX19hc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgdGhlIGJyb3dzZXIgZm9yIHdlYiBwdXNoLlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICBzZXJ2aWNlV29ya2VyVXJsIFRoZSB1cmwgb24geW91ciBzZXJ2ZXIgdGhhdCBob3N0cyB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvc3cubWluLmpzIHNlcnZpY2Ugd29ya2VyIGpzIGZpbGUuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gICAgICAgICAgICAgICAgICAgUmVzb2x2ZXMgaWYgcmVnaXN0cmF0aW9uIHN1Y2Nlc3NmdWwsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJ3aXNlIGZhaWxzLlxuICAgICAqL1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnJlZ2lzdGVyRm9yV2ViUHVzaCA9IGZ1bmN0aW9uIChzZXJ2aWNlV29ya2VyVXJsKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9wdXNoTWFuYWdlci5pc1dlYlB1c2hTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmliZSA9IGZ1bmN0aW9uIChpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fcHVzaE1hbmFnZXIuc3Vic2NyaWJlVXNlcigpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5fd2ViUHVzaE9wdGlvbnMgfHwge307XG4gICAgICAgICAgICB2YXIgd29ya2VyVXJsID0gc2VydmljZVdvcmtlclVybCB8fCBvcHRpb25zLnNlcnZpY2VXb3JrZXJVcmw7XG4gICAgICAgICAgICB2YXIgc2NvcGUgPSBvcHRpb25zICYmIG9wdGlvbnMuc2NvcGUgPyB7IHNjb3BlOiBvcHRpb25zLnNjb3BlIH0gOiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3B1c2hNYW5hZ2VyLnJlZ2lzdGVyKHdvcmtlclVybCwgc2NvcGUsIHN1YnNjcmliZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ0xlYW5wbHVtOiBXZWJQdXNoIGlzIG5vdCBzdXBwb3J0ZWQuJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVucmVnaXN0ZXJzIHRoZSBicm93c2VyIGZvcm0gd2ViIHB1c2guXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gICAgICAgICAgICBSZXNvbHZlcyBvbiBzdWNjZXNzLCBvdGhlcndpc2UgcmVqZWN0cy5cbiAgICAgKi9cbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS51bnJlZ2lzdGVyRnJvbVdlYlB1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGNsaWVudFVybCA9ICgoX2EgPSB0aGlzLl93ZWJQdXNoT3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsaWVudFVybCkgfHwgJyc7XG4gICAgICAgIHJldHVybiB0aGlzLl9wdXNoTWFuYWdlci51bnN1YnNjcmliZVVzZXIoY2xpZW50VXJsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFycyBjYWNoZWQgdmFsdWVzIGZvciBtZXNzYWdlcywgdmFyaWFibGVzIGFuZCB0ZXN0IGFzc2lnbm1lbnRzLlxuICAgICAqIFVzZSBzcGFyaW5nbHkgYXMgaWYgdGhlIGFwcCBpcyB1cGRhdGVkLCB5b3UnbGwgaGF2ZSB0byBkZWFsIHdpdGggcG90ZW50aWFsbHlcbiAgICAgKiBpbmNvbnNpc3RlbnQgc3RhdGUgb3IgdXNlciBleHBlcmllbmNlLlxuICAgICAqL1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmNsZWFyVXNlckNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3ZhckNhY2hlLmNsZWFyVXNlckNvbnRlbnQoKTtcbiAgICB9O1xuICAgIC8vIHVzZWQgYnkgR29vZ2xlIFRhZyBNYW5hZ2VyIHRvIGFwcGx5IGNvbW1hbmRzIHF1ZXVlZCBkdXJpbmcgYXN5bmMgc2NyaXB0IGxvYWRpbmdcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5hcHBseVF1ZXVlID0gZnVuY3Rpb24gKHF1ZXVlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHF1ZXVlLmZvckVhY2goZnVuY3Rpb24gKGludm9jYXRpb24pIHsgcmV0dXJuIF90aGlzW2ludm9jYXRpb24ubmFtZV0uYXBwbHkoX3RoaXMsIGludm9jYXRpb24uYXJncyk7IH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuY3JlYXRlUmVxdWVzdCA9IGZ1bmN0aW9uIChhY3Rpb24sIGFyZ3MsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdmFyIHN1cHByZXNzID0gdGhpcy5fbWlncmF0aW9uLmR1cGxpY2F0ZVJlcXVlc3QoYWN0aW9uLCBhcmdzLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKCFzdXBwcmVzcykge1xuICAgICAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LnJlcXVlc3QoYWN0aW9uLCBhcmdzLCBfX2Fzc2lnbih7IGRldk1vZGU6IHRoaXMuX2ludGVybmFsU3RhdGUuZGV2TW9kZSB9LCBvcHRpb25zKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmNvbm5lY3RTb2NrZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2xwU29ja2V0LmNvbm5lY3Qoe1xuICAgICAgICAgICAgYXBwSWQ6IHRoaXMuX2xwUmVxdWVzdC5hcHBJZCxcbiAgICAgICAgICAgIGRldmljZUlkOiB0aGlzLl9scFJlcXVlc3QuZGV2aWNlSWQsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuaGFzQWN0aXZlU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zZXNzaW9uTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIGxhc3RBY3RpdmUgPSBwYXJzZUludChTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0KFNFU1NJT05fS0VZKSk7XG4gICAgICAgIGlmIChpc05hTihsYXN0QWN0aXZlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50VGltZSAtIGxhc3RBY3RpdmUgPCB0aGlzLl9zZXNzaW9uTGVuZ3RoICogMTAwMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUudXBkYXRlU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmUoU0VTU0lPTl9LRVksIFN0cmluZyhEYXRlLm5vdygpKSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5taWdyYXRlUHVzaFRva2VuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5QVVNIX1NVQlNDUklQVElPTikpIHtcbiAgICAgICAgICAgIC8vIG1vdmUgc3Vic2NyaXB0aW9uIGluIENUXG4gICAgICAgICAgICB0aGlzLmlzV2ViUHVzaFN1YnNjcmliZWQoKS50aGVuKGZ1bmN0aW9uIChpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcHVzaE1hbmFnZXIudW5zdWJzY3JpYmVVc2VyKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXJ2aWNlV29ya2VyUGF0aCA9IChfYSA9IF90aGlzLl93ZWJQdXNoT3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNlcnZpY2VXb3JrZXJVcmw7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXRoID0gc2VydmljZVdvcmtlclBhdGggPyB7IHNlcnZpY2VXb3JrZXJQYXRoOiBzZXJ2aWNlV29ya2VyUGF0aCB9IDoge307XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9jdCAmJiBfdGhpcy5fY3Qubm90aWZpY2F0aW9ucy5wdXNoKF9fYXNzaWduKHsgdGl0bGVUZXh0OiAnJywgYm9keVRleHQ6ICcnLCBva0J1dHRvblRleHQ6ICcnLCByZWplY3RCdXR0b25UZXh0OiAnJyB9LCBwYXRoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBMZWFucGx1bUludGVybmFsO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExlYW5wbHVtSW50ZXJuYWw7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEFyZ3NCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQXJnc0J1aWxkZXJcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgU3RvcmFnZU1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9TdG9yYWdlTWFuYWdlclwiKSk7XG52YXIgTmV0d29ya18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL05ldHdvcmtcIikpO1xudmFyIExlYW5wbHVtUmVxdWVzdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bVJlcXVlc3QoZXZlbnRzLCBuZXR3b3JrKSB7XG4gICAgICAgIGlmIChuZXR3b3JrID09PSB2b2lkIDApIHsgbmV0d29yayA9IG5ldyBOZXR3b3JrXzEuZGVmYXVsdCgpOyB9XG4gICAgICAgIHRoaXMuZXZlbnRzID0gZXZlbnRzO1xuICAgICAgICB0aGlzLm5ldHdvcmsgPSBuZXR3b3JrO1xuICAgICAgICB0aGlzLmNvb2xkb3duVGltZW91dCA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdFJlcXVlc3RUaW1lID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnVzZXJJZFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmFwaVBhdGggPSAnaHR0cHM6Ly9hcGkubGVhbnBsdW0uY29tL2FwaSc7XG4gICAgICAgIHRoaXMuYmF0Y2hDb29sZG93biA9IDU7XG4gICAgICAgIHRoaXMuYmF0Y2hFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sb2FkSG9zdENvbmZpZygpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZSwgXCJ1c2VySWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy51c2VySWRWYWx1ZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVVNFUl9JRCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRoaXMuZGV2aWNlSWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHVzZXJJZCkge1xuICAgICAgICAgICAgdGhpcy51c2VySWRWYWx1ZSA9IHVzZXJJZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIChhY3Rpb24sIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKTtcbiAgICAgICAgLy8gR2V0IG9yIGNyZWF0ZSBkZXZpY2UgSUQgYW5kIHVzZXIgSUQuXG4gICAgICAgIGlmICghdGhpcy5kZXZpY2VJZCkge1xuICAgICAgICAgICAgdGhpcy5kZXZpY2VJZCA9IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkRFVklDRV9JRCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmRldmljZUlkKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSAnJztcbiAgICAgICAgICAgIHZhciBwb3NzaWJsZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRldmljZUlkID0gaWQ7XG4gICAgICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5ERVZJQ0VfSUQsIGlkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5VU0VSX0lELCB0aGlzLnVzZXJJZCk7XG4gICAgICAgIHZhciBhcmdzQnVpbGRlciA9IHBhcmFtc1xuICAgICAgICAgICAgLmF0dGFjaEFwaUtleXModGhpcy5hcHBJZCwgdGhpcy5jbGllbnRLZXkpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNES19WRVJTSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlNES19WRVJTSU9OKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZJQ0VfSUQsIHRoaXMuZGV2aWNlSWQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlVTRVJfSUQsIHRoaXMudXNlcklkKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BQ1RJT04sIGFjdGlvbilcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVkVSU0lPTl9OQU1FLCB0aGlzLnZlcnNpb25OYW1lKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZfTU9ERSwgb3B0aW9ucy5kZXZNb2RlKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5USU1FLCAobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKS50b1N0cmluZygpKTtcbiAgICAgICAgdmFyIHN1Y2Nlc3MgPSBvcHRpb25zLnN1Y2Nlc3MgfHwgb3B0aW9ucy5yZXNwb25zZTtcbiAgICAgICAgdmFyIGVycm9yID0gb3B0aW9ucy5lcnJvciB8fCBvcHRpb25zLnJlc3BvbnNlO1xuICAgICAgICBpZiAoIXRoaXMuYXBwSWQgfHwgIXRoaXMuY2xpZW50S2V5KSB7XG4gICAgICAgICAgICB2YXIgZXJyID0gJ0xlYW5wbHVtIEFwcCBJRCBhbmQgY2xpZW50IGtleSBhcmUgbm90IHNldC4gTWFrZSBzdXJlIHlvdSAnICtcbiAgICAgICAgICAgICAgICAnYXJlIGNhbGxpbmcgc2V0QXBwSWRGb3JEZXZlbG9wbWVudE1vZGUgb3Igc2V0QXBwSWRGb3JQcm9kdWN0aW9uTW9kZSAnICtcbiAgICAgICAgICAgICAgICAnYmVmb3JlIGlzc3VpbmcgQVBJIGNhbGxzLic7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zLmJvZHkoKSkge1xuICAgICAgICAgICAgdGhpcy5zZW5kUmVxdWVzdChcIj9cIi5jb25jYXQoYXJnc0J1aWxkZXIuYnVpbGQoKSksIHBhcmFtcy5ib2R5KCksIHN1Y2Nlc3MsIGVycm9yLCBvcHRpb25zLnF1ZXVlZCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlbmROb3cgPSBvcHRpb25zLmRldk1vZGUgfHwgb3B0aW9ucy5zZW5kTm93IHx8ICF0aGlzLmJhdGNoRW5hYmxlZDtcbiAgICAgICAgdmFyIHNlbmRVbnNlbnRSZXF1ZXN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXF1ZXN0c1RvU2VuZCA9IF90aGlzLnBvcFVuc2VudFJlcXVlc3RzKCk7XG4gICAgICAgICAgICBpZiAocmVxdWVzdHNUb1NlbmQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0RGF0YSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiByZXF1ZXN0c1RvU2VuZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgbXVsdGlSZXF1ZXN0QXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgICAuYXR0YWNoQXBpS2V5cyhfdGhpcy5hcHBJZCwgX3RoaXMuY2xpZW50S2V5KVxuICAgICAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNES19WRVJTSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlNES19WRVJTSU9OKVxuICAgICAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkFDVElPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLk1VTFRJKVxuICAgICAgICAgICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlRJTUUsIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApLnRvU3RyaW5nKCkudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgLmJ1aWxkKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2VuZFJlcXVlc3QoXCI/XCIuY29uY2F0KG11bHRpUmVxdWVzdEFyZ3MpLCByZXF1ZXN0RGF0YSwgc3VjY2VzcywgZXJyb3IsIG9wdGlvbnMucXVldWVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gRGVhbCB3aXRoIGNvb2xkb3duLlxuICAgICAgICBpZiAoIXNlbmROb3cgJiYgdGhpcy5iYXRjaENvb2xkb3duKSB7XG4gICAgICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmxhc3RSZXF1ZXN0VGltZSB8fCBub3cgLSB0aGlzLmxhc3RSZXF1ZXN0VGltZSA+PSB0aGlzLmJhdGNoQ29vbGRvd24pIHtcbiAgICAgICAgICAgICAgICBzZW5kTm93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RSZXF1ZXN0VGltZSA9IG5vdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCF0aGlzLmNvb2xkb3duVGltZW91dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29vbGRvd25UaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNvb2xkb3duVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxhc3RSZXF1ZXN0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMDtcbiAgICAgICAgICAgICAgICAgICAgc2VuZFVuc2VudFJlcXVlc3RzKCk7XG4gICAgICAgICAgICAgICAgfSwgKHRoaXMuYmF0Y2hDb29sZG93biAtIChub3cgLSB0aGlzLmxhc3RSZXF1ZXN0VGltZSkpICogMTAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zYXZlUmVxdWVzdEZvckxhdGVyKGFyZ3NCdWlsZGVyLmJ1aWxkRGljdCgpKTtcbiAgICAgICAgaWYgKHNlbmROb3cpIHtcbiAgICAgICAgICAgIHNlbmRVbnNlbnRSZXF1ZXN0cygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLmdldEZpbGVVcmwgPSBmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgICAgaWYgKCFmaWxlbmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIGlmICgvXmh0dHBzPzovLnRlc3QoZmlsZW5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlsZW5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KClcbiAgICAgICAgICAgIC5hdHRhY2hBcGlLZXlzKHRoaXMuYXBwSWQsIHRoaXMuY2xpZW50S2V5KVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5TREtfVkVSU0lPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5TREtfVkVSU0lPTilcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQUNUSU9OLCAnZG93bmxvYWRGaWxlJylcbiAgICAgICAgICAgIC5hZGQoJ2ZpbGVuYW1lJywgZmlsZW5hbWUpO1xuICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQodGhpcy5hcGlQYXRoLCBcIj9cIikuY29uY2F0KGFyZ3MuYnVpbGQoKSk7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLnNldE5ldHdvcmtUaW1lb3V0ID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrLnNldE5ldHdvcmtUaW1lb3V0KHNlY29uZHMpO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5nZXRMYXN0UmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHZhciBjb3VudCA9IChfYiA9IChfYSA9IHJlc3BvbnNlID09PSBudWxsIHx8IHJlc3BvbnNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNwb25zZS5yZXNwb25zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMDtcbiAgICAgICAgcmV0dXJuIChjb3VudCA+IDApID8gKF9jID0gcmVzcG9uc2UgPT09IG51bGwgfHwgcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbnNlLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbY291bnQgLSAxXSA6IG51bGw7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLmdldEZpcnN0UmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHZhciBjb3VudCA9IChfYiA9IChfYSA9IHJlc3BvbnNlID09PSBudWxsIHx8IHJlc3BvbnNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNwb25zZS5yZXNwb25zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMDtcbiAgICAgICAgcmV0dXJuIChjb3VudCA+IDApID8gKF9jID0gcmVzcG9uc2UgPT09IG51bGwgfHwgcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbnNlLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbMF0gOiBudWxsO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5pc1Jlc3BvbnNlU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbihyZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uc2Uuc3VjY2Vzcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLnNhdmVSZXF1ZXN0Rm9yTGF0ZXIgPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICB2YXIgY291bnQgPSB0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5DT1VOVCkgfHwgMDtcbiAgICAgICAgdmFyIGl0ZW1LZXkgPSBDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5JVEVNICsgY291bnQ7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKGl0ZW1LZXksIEpTT04uc3RyaW5naWZ5KGFyZ3MpKTtcbiAgICAgICAgY291bnQrKztcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuQ09VTlQsIGNvdW50KTtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuc2VuZFJlcXVlc3QgPSBmdW5jdGlvbiAocXVlcnksIGRhdGEsIHN1Y2Nlc3MsIGVycm9yLCBxdWV1ZWQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5uZXR3b3JrLmFqYXgoJ1BPU1QnLCBcIlwiLmNvbmNhdCh0aGlzLmFwaVBhdGgpLmNvbmNhdChxdWVyeSksIGRhdGEsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdmFyIG1ldGhvZFJlc3BvbnNlID0gX3RoaXMuZ2V0Rmlyc3RSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICB2YXIgc2hhMjU2ID0gKChfYSA9IHJlc3BvbnNlLm1pZ3JhdGVTdGF0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNoYTI1NikgfHwgbWV0aG9kUmVzcG9uc2Uuc2hhMjU2O1xuICAgICAgICAgICAgaWYgKCEvXFxiZ2V0TWlncmF0ZVN0YXRlXFxiLy50ZXN0KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRzLmVtaXQoJ21pZ3JhdGVTdGF0ZVJlY2VpdmVkJywgc2hhMjU2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbWV0aG9kUmVzcG9uc2Uuc3VjY2VzcyAmJiBtZXRob2RSZXNwb25zZS5hcGlIb3N0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGFwaUhvc3QgPSBtZXRob2RSZXNwb25zZS5hcGlIb3N0LCBhcGlQYXRoID0gbWV0aG9kUmVzcG9uc2UuYXBpUGF0aCwgZGV2U2VydmVySG9zdCA9IG1ldGhvZFJlc3BvbnNlLmRldlNlcnZlckhvc3Q7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkhPU1RfQ09ORklHLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIGFwaUhvc3Q6IGFwaUhvc3QsXG4gICAgICAgICAgICAgICAgICAgIGFwaVBhdGg6IGFwaVBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGRldlNlcnZlckhvc3Q6IGRldlNlcnZlckhvc3QsXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIF90aGlzLmFwaVBhdGggPSBcImh0dHBzOi8vXCIuY29uY2F0KGFwaUhvc3QsIFwiL1wiKS5jb25jYXQoYXBpUGF0aCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2VuZFJlcXVlc3QocXVlcnksIGRhdGEsIHN1Y2Nlc3MsIGVycm9yLCBxdWV1ZWQpO1xuICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50cy5lbWl0KCd1cGRhdGVEZXZTZXJ2ZXJIb3N0JywgZGV2U2VydmVySG9zdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgc3VjY2VzcyhyZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGVycm9yLCBxdWV1ZWQpO1xuICAgIH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLnBvcFVuc2VudFJlcXVlc3RzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVxdWVzdERhdGEgPSBbXTtcbiAgICAgICAgdmFyIGNvdW50ID0gdGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuQ09VTlQpIHx8IDA7XG4gICAgICAgIHRoaXMucmVtb3ZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuQ09VTlQpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtS2V5ID0gQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuSVRFTSArIGk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlcXVlc3REYXRhLnB1c2goSlNPTi5wYXJzZSh0aGlzLmxvYWRMb2NhbChpdGVtS2V5KSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGlnbm9yZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBEbyBub3RoaW5nLlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZW1vdmVMb2NhbChpdGVtS2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVxdWVzdERhdGE7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLmxvYWRIb3N0Q29uZmlnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaG9zdENvbmZpZyA9IEpTT04ucGFyc2UodGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuSE9TVF9DT05GSUcpIHx8ICdudWxsJyk7XG4gICAgICAgIGlmIChob3N0Q29uZmlnKSB7XG4gICAgICAgICAgICB2YXIgYXBpSG9zdCA9IGhvc3RDb25maWcuYXBpSG9zdCwgYXBpUGF0aCA9IGhvc3RDb25maWcuYXBpUGF0aCwgZGV2U2VydmVySG9zdCA9IGhvc3RDb25maWcuZGV2U2VydmVySG9zdDtcbiAgICAgICAgICAgIHRoaXMuYXBpUGF0aCA9IFwiaHR0cHM6Ly9cIi5jb25jYXQoYXBpSG9zdCwgXCIvXCIpLmNvbmNhdChhcGlQYXRoKTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3VwZGF0ZURldlNlcnZlckhvc3QnLCBkZXZTZXJ2ZXJIb3N0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5sb2FkTG9jYWwgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0KGtleSk7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLnNhdmVMb2NhbCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlKGtleSwgdmFsdWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5yZW1vdmVMb2NhbCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnJlbW92ZShrZXkpO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtUmVxdWVzdDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMZWFucGx1bVJlcXVlc3Q7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGxvZGFzaF9pc2VxdWFsXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImxvZGFzaC5pc2VxdWFsXCIpKTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIFNvY2tldElvQ2xpZW50XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vU29ja2V0SW9DbGllbnRcIikpO1xudmFyIExlYW5wbHVtU29ja2V0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExlYW5wbHVtU29ja2V0KGNhY2hlLCBjcmVhdGVSZXF1ZXN0LCBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGdldExhc3RSZXNwb25zZSwgZXZlbnRzKSB7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBjYWNoZTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdDtcbiAgICAgICAgdGhpcy5nZXRMYXN0UmVzcG9uc2UgPSBnZXRMYXN0UmVzcG9uc2U7XG4gICAgICAgIHRoaXMuZXZlbnRzID0gZXZlbnRzO1xuICAgICAgICB0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyA9IDEwO1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuc29ja2V0SG9zdCA9ICdkZXYubGVhbnBsdW0uY29tJztcbiAgICAgICAgdGhpcy5hdXRoID0gbnVsbDtcbiAgICB9XG4gICAgTGVhbnBsdW1Tb2NrZXQucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAoYXV0aCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIVdlYlNvY2tldCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1lvdXIgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCBXZWJTb2NrZXRzLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXV0aCA9IGF1dGg7XG4gICAgICAgIHZhciBhdXRoU2VudCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudCA9IG5ldyBTb2NrZXRJb0NsaWVudF8xLmRlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQuc2V0TmV0d29ya1RpbWVvdXQodGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMpO1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5vbm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoIWF1dGhTZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBDb25uZWN0ZWQgdG8gZGV2ZWxvcG1lbnQgc2VydmVyLicpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNvY2tldENsaWVudC5zZW5kKCdhdXRoJywgKF9hID0ge30sXG4gICAgICAgICAgICAgICAgICAgIF9hW0NvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkFQUF9JRF0gPSBhdXRoLmFwcElkLFxuICAgICAgICAgICAgICAgICAgICBfYVtDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZJQ0VfSURdID0gYXV0aC5kZXZpY2VJZCxcbiAgICAgICAgICAgICAgICAgICAgX2EpKTtcbiAgICAgICAgICAgICAgICBhdXRoU2VudCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogU29ja2V0IGVycm9yJywgZXZlbnQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5vbm1lc3NhZ2UgPSB0aGlzLm9uTWVzc2FnZVJlY2VpdmVkLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50Lm9uY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IERpc2Nvbm5lY3RlZCBmcm9tIGRldmVsb3BtZW50IHNlcnZlci4nKTtcbiAgICAgICAgICAgIGF1dGhTZW50ID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50LmNvbm5lY3QodGhpcy5zb2NrZXRIb3N0KTtcbiAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5zb2NrZXRDbGllbnQuY29ubmVjdGVkICYmICFfdGhpcy5zb2NrZXRDbGllbnQuY29ubmVjdGluZykge1xuICAgICAgICAgICAgICAgIF90aGlzLnNvY2tldENsaWVudC5jb25uZWN0KF90aGlzLnNvY2tldEhvc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCA1MDAwKTtcbiAgICB9O1xuICAgIExlYW5wbHVtU29ja2V0LnByb3RvdHlwZS5zZXRTb2NrZXRIb3N0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuc29ja2V0SG9zdCA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5zb2NrZXRDbGllbnQuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNvY2tldENsaWVudC5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3QodGhpcy5hdXRoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmV0d29yayB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSBzZWNvbmRzIFRoZSB0aW1lb3V0IGluIHNlY29uZHMuXG4gICAgICovXG4gICAgTGVhbnBsdW1Tb2NrZXQucHJvdG90eXBlLnNldE5ldHdvcmtUaW1lb3V0ID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyA9IHNlY29uZHM7XG4gICAgICAgIChfYSA9IHRoaXMuc29ja2V0Q2xpZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0TmV0d29ya1RpbWVvdXQoc2Vjb25kcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bVNvY2tldC5wcm90b3R5cGUub25NZXNzYWdlUmVjZWl2ZWQgPSBmdW5jdGlvbiAoZXZlbnQsIGFyZ3MpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGV2ZW50ID09PSAndXBkYXRlVmFycycpIHtcbiAgICAgICAgICAgIHZhciBhcmdzXzEgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KCkuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklOQ0xVREVfREVGQVVMVFMsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuR0VUX1ZBUlMsIGFyZ3NfMSwge1xuICAgICAgICAgICAgICAgIHF1ZXVlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBnZXRWYXJzUmVzcG9uc2UgPSBfdGhpcy5nZXRMYXN0UmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJTXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhcmlhbnRzID0gZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJJQU5UU107XG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3Rpb25EZWZpbml0aW9ucyA9IGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuQUNUSU9OX0RFRklOSVRJT05TXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoMCwgbG9kYXNoX2lzZXF1YWxfMS5kZWZhdWx0KSh2YWx1ZXMsIF90aGlzLmNhY2hlLmRpZmZzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2FjaGUuYXBwbHlEaWZmcyh2YWx1ZXMsIHZhcmlhbnRzLCBhY3Rpb25EZWZpbml0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnQgPT09ICdnZXRWYXJpYWJsZXMnKSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlLnNlbmRWYXJpYWJsZXMoKTtcbiAgICAgICAgICAgIHRoaXMuc29ja2V0Q2xpZW50LnNlbmQoJ2dldENvbnRlbnRSZXNwb25zZScsIHtcbiAgICAgICAgICAgICAgICAndXBkYXRlZCc6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudCA9PT0gJ2dldEFjdGlvbnMnKSB7XG4gICAgICAgICAgICB2YXIgdXBkYXRlZCA9IHRoaXMuY2FjaGUuc2VuZEFjdGlvbnMoKTtcbiAgICAgICAgICAgIHRoaXMuc29ja2V0Q2xpZW50LnNlbmQoJ2dldENvbnRlbnRSZXNwb25zZScsIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVkOiB1cGRhdGVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnQgPT09ICdyZWdpc3RlckRldmljZScpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gYXJnc1swXTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1hbGVydFxuICAgICAgICAgICAgYWxlcnQoXCJZb3VyIGRldmljZSBoYXMgYmVlbiByZWdpc3RlcmVkIHRvIFwiLmNvbmNhdChtZXNzYWdlLmVtYWlsLCBcIi5cIikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAndHJpZ2dlcicpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gYXJnc1swXTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3ByZXZpZXdSZXF1ZXN0JywgbWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBMZWFucGx1bVNvY2tldDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMZWFucGx1bVNvY2tldDtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIEFyZ3NCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQXJnc0J1aWxkZXJcIikpO1xudmFyIE5ldHdvcmtfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9OZXR3b3JrXCIpKTtcbnZhciBsb2Rhc2hfaXNlcXVhbF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJsb2Rhc2guaXNlcXVhbFwiKSk7XG52YXIgU3RvcmFnZU1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9TdG9yYWdlTWFuYWdlclwiKSk7XG52YXIgVmFsdWVUcmFuc2Zvcm1zXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vVmFsdWVUcmFuc2Zvcm1zXCIpKTtcbnZhciBPY2N1cnJlbmNlVHJhY2tlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPY2N1cnJlbmNlVHJhY2tlcigpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0ge307XG4gICAgICAgIHRoaXMudHJpZ2dlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5vY2N1cnJlbmNlcyA9IHt9O1xuICAgIH1cbiAgICBPY2N1cnJlbmNlVHJhY2tlci5wcm90b3R5cGUucmVjb3JkT2NjdXJyZW5jZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB2YXIgc2Vzc2lvbk9jY3VycmVuY2VzID0gKHRoaXMuc2Vzc2lvbltpZF0gfHwgMCkgKyAxO1xuICAgICAgICB0aGlzLnNlc3Npb25baWRdID0gc2Vzc2lvbk9jY3VycmVuY2VzO1xuICAgICAgICB2YXIgb2NjdXJyZW5jZXMgPSAodGhpcy5vY2N1cnJlbmNlc1tpZF0gfHwgW10pO1xuICAgICAgICBvY2N1cnJlbmNlcy5wdXNoKERhdGUubm93KCkpO1xuICAgICAgICB0aGlzLm9jY3VycmVuY2VzW2lkXSA9IG9jY3VycmVuY2VzO1xuICAgICAgICB0aGlzLnNhdmUoKTtcbiAgICB9O1xuICAgIE9jY3VycmVuY2VUcmFja2VyLnByb3RvdHlwZS5yZWNvcmRUcmlnZ2VyT2NjdXJyZW5jZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB2YXIgdHJpZ2dlck9jY3VycmVuY2VzID0gdGhpcy50cmlnZ2Vyc1tpZF0gfHwgW107XG4gICAgICAgIHRyaWdnZXJPY2N1cnJlbmNlcy5wdXNoKERhdGUubm93KCkpO1xuICAgICAgICB0aGlzLnRyaWdnZXJzW2lkXSA9IHRyaWdnZXJPY2N1cnJlbmNlcztcbiAgICAgICAgdGhpcy5zYXZlKCk7XG4gICAgICAgIHJldHVybiB0cmlnZ2VyT2NjdXJyZW5jZXMubGVuZ3RoO1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVRyYWNrZXIucHJvdG90eXBlLmdldFNlc3Npb25PY2N1cnJhbmNlQ291bnQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbltpZF0gfHwgMDtcbiAgICB9O1xuICAgIE9jY3VycmVuY2VUcmFja2VyLnByb3RvdHlwZS5nZXRPY2N1cnJlbmNlcyA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vY2N1cnJlbmNlc1tpZF0gfHwgW107XG4gICAgfTtcbiAgICBPY2N1cnJlbmNlVHJhY2tlci5wcm90b3R5cGUuY2xlYXJTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNlc3Npb24gPSB7fTtcbiAgICB9O1xuICAgIE9jY3VycmVuY2VUcmFja2VyLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2FjaGUgPSBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0KENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLk1FU1NBR0VfT0NDVVJSRU5DRVMpO1xuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICAgIHZhciBqc29uID0gbWF5YmVKU09OKGNhY2hlKTtcbiAgICAgICAgICAgIGlmIChqc29uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uID0ganNvbi5zZXNzaW9uO1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcnMgPSBqc29uLnRyaWdnZXJzO1xuICAgICAgICAgICAgICAgIHRoaXMub2NjdXJyZW5jZXMgPSBqc29uLm9jY3VycmVuY2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBPY2N1cnJlbmNlVHJhY2tlci5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGtleSA9IENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLk1FU1NBR0VfT0NDVVJSRU5DRVM7XG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlKGtleSwgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgc2Vzc2lvbjogdGhpcy5zZXNzaW9uLFxuICAgICAgICAgICAgdHJpZ2dlcnM6IHRoaXMudHJpZ2dlcnMsXG4gICAgICAgICAgICBvY2N1cnJlbmNlczogdGhpcy5vY2N1cnJlbmNlcyxcbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgcmV0dXJuIE9jY3VycmVuY2VUcmFja2VyO1xufSgpKTtcbnZhciB2ZXJiVG9JbnRlcnZhbCA9IGZ1bmN0aW9uICh2ZXJiKSB7XG4gICAgdmFyIFNFQ09ORCA9IDEwMDA7XG4gICAgdmFyIE1JTlVURSA9IDYwICogU0VDT05EO1xuICAgIHZhciBIT1VSID0gNjAgKiBNSU5VVEU7XG4gICAgdmFyIERBWSA9IDI0ICogSE9VUjtcbiAgICBzd2l0Y2ggKHZlcmIpIHtcbiAgICAgICAgY2FzZSAnbGltaXRTZWNvbmQnOiByZXR1cm4gU0VDT05EO1xuICAgICAgICBjYXNlICdsaW1pdE1pbnV0ZSc6IHJldHVybiBNSU5VVEU7XG4gICAgICAgIGNhc2UgJ2xpbWl0SG91cic6IHJldHVybiBIT1VSO1xuICAgICAgICBjYXNlICdsaW1pdERheSc6IHJldHVybiBEQVk7XG4gICAgfVxufTtcbnZhciBtYXliZUpTT04gPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59O1xudmFyIE1lc3NhZ2VzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1lc3NhZ2VzKGV2ZW50cywgY3JlYXRlUmVxdWVzdCwgZ2V0RmlsZVVybCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmV2ZW50cyA9IGV2ZW50cztcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdDtcbiAgICAgICAgdGhpcy5nZXRGaWxlVXJsID0gZ2V0RmlsZVVybDtcbiAgICAgICAgdGhpcy5fbWVzc2FnZUNhY2hlID0ge307XG4gICAgICAgIHRoaXMub2NjdXJyZW5jZVRyYWNrZXIgPSBuZXcgT2NjdXJyZW5jZVRyYWNrZXIoKTtcbiAgICAgICAgdGhpcy5fc2hvd1JpY2hJQU0gPSBmYWxzZTtcbiAgICAgICAgZXZlbnRzLm9uKCdwcmV2aWV3UmVxdWVzdCcsIHRoaXMub25NZXNzYWdlUHJldmlldy5iaW5kKHRoaXMpKTtcbiAgICAgICAgZXZlbnRzLm9uKCdtZXNzYWdlc1JlY2VpdmVkJywgdGhpcy5vbk1lc3NhZ2VzUmVjZWl2ZWQuYmluZCh0aGlzKSk7XG4gICAgICAgIGV2ZW50cy5vbignc3RhcnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5vY2N1cnJlbmNlVHJhY2tlci5sb2FkKCk7XG4gICAgICAgICAgICBfdGhpcy5vY2N1cnJlbmNlVHJhY2tlci5jbGVhclNlc3Npb24oKTtcbiAgICAgICAgICAgIF90aGlzLm9uVHJpZ2dlcih7IHRyaWdnZXI6ICdzdGFydCcgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBldmVudHMub24oJ3Jlc3VtZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5NRVNTQUdFX0NBQ0hFO1xuICAgICAgICAgICAgdmFyIGNhY2hlID0gbWF5YmVKU09OKFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXQoa2V5KSk7XG4gICAgICAgICAgICBfdGhpcy5fbWVzc2FnZUNhY2hlID0gY2FjaGUgfHwgX3RoaXMuX21lc3NhZ2VDYWNoZTtcbiAgICAgICAgICAgIF90aGlzLm9jY3VycmVuY2VUcmFja2VyLmxvYWQoKTtcbiAgICAgICAgICAgIF90aGlzLm9uVHJpZ2dlcih7IHRyaWdnZXI6ICdyZXN1bWUnIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgZXZlbnRzLm9uKCd0cmFjaycsIGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICBfdGhpcy5vblRyaWdnZXIoe1xuICAgICAgICAgICAgICAgIHRyaWdnZXI6ICdldmVudCcsXG4gICAgICAgICAgICAgICAgZXZlbnROYW1lOiBhcmdzLmV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IGFyZ3MucGFyYW1zIHx8IHt9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBldmVudHMub24oJ2FkdmFuY2VTdGF0ZScsIGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMub25UcmlnZ2VyKHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyOiAnc3RhdGUnLFxuICAgICAgICAgICAgICAgIHN0YXRlOiBhcmdzLnN0YXRlLFxuICAgICAgICAgICAgICAgIHBhcmFtczogYXJncy5wYXJhbXMgfHwge30sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGV2ZW50cy5vbignc2V0VXNlckF0dHJpYnV0ZScsIGZ1bmN0aW9uIChhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMub25UcmlnZ2VyKHsgdHJpZ2dlcjogJ3VzZXJBdHRyaWJ1dGUnLCBhdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLmNsZWFudXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5yZW1vdmUoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuTUVTU0FHRV9DQUNIRSk7XG4gICAgICAgIHRoaXMuX21lc3NhZ2VDYWNoZSA9IHt9O1xuICAgICAgICB0aGlzLm9uVHJpZ2dlciA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5lbmFibGVSaWNoSW5BcHBNZXNzYWdlcyA9IGZ1bmN0aW9uIChlbmFibGVkKSB7XG4gICAgICAgIHRoaXMuX3Nob3dSaWNoSUFNID0gZW5hYmxlZDtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5vblRyaWdnZXIgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbWVzc2FnZXMgPSB0aGlzLmdldE1lc3NhZ2VzKCk7XG4gICAgICAgIHZhciBtZXNzYWdlSWRzID0gT2JqZWN0LmtleXMobWVzc2FnZXMpO1xuICAgICAgICBtZXNzYWdlSWRzXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gX3RoaXMuc2hvdWxkU2hvd01lc3NhZ2UoaWQsIG1lc3NhZ2VzW2lkXSwgY29udGV4dCk7IH0pXG4gICAgICAgICAgICAuc2xpY2UoMCwgMSkgLy8gVE9ETzogY2hvb3NlIHJhbmRvbWx5XG4gICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIF90aGlzLnNob3dNZXNzYWdlKGlkLCBtZXNzYWdlc1tpZF0pOyB9KTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5vbk1lc3NhZ2VQcmV2aWV3ID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIHZhcnMgPSBtZXNzYWdlLmFjdGlvbjtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB7XG4gICAgICAgICAgICB0cmFjazogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50SW5mbyA9IGV2ZW50ID8gXCJldmVudCAnXCIuY29uY2F0KGV2ZW50LCBcIidcIikgOiAnaW1wcmVzc2lvbic7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJUcmFja2luZyBcIi5jb25jYXQoZXZlbnRJbmZvLCBcIiBmb3IgXCIpLmNvbmNhdChtZXNzYWdlLm1lc3NhZ2VJZCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJ1bkFjdGlvbk5hbWVkOiBmdW5jdGlvbiAoYWN0aW9uTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhcIlJ1bm5pbmcgdW50cmFja2VkIGFjdGlvbiAnXCIuY29uY2F0KGFjdGlvbk5hbWUsIFwiJ1wiKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcnVuVHJhY2tlZEFjdGlvbk5hbWVkOiBmdW5jdGlvbiAoYWN0aW9uTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhcIlJ1bm5pbmcgdHJhY2tlZCBhY3Rpb24gJ1wiLmNvbmNhdChhY3Rpb25OYW1lLCBcIidcIikpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVNZXNzYWdlKHtcbiAgICAgICAgICAgIGlzUHJldmlldzogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuYWRkRGVmYXVsdHMoX19hc3NpZ24oeyBtZXNzYWdlSWQ6IG1lc3NhZ2UubWVzc2FnZUlkIH0sIHZhcnMpKSxcbiAgICAgICAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLm9uTWVzc2FnZXNSZWNlaXZlZCA9IGZ1bmN0aW9uIChyZWNlaXZlZE1lc3NhZ2VzKSB7XG4gICAgICAgIHZhciBtZXNzYWdlcyA9IHJlY2VpdmVkTWVzc2FnZXMgfHwge307XG4gICAgICAgIHRoaXMuX21lc3NhZ2VDYWNoZSA9IG1lc3NhZ2VzO1xuICAgICAgICBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZShDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5NRVNTQUdFX0NBQ0hFLCBKU09OLnN0cmluZ2lmeShtZXNzYWdlcykpO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLnNob3VsZFNob3dNZXNzYWdlID0gZnVuY3Rpb24gKGlkLCBtZXNzYWdlLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgbWF0Y2hlc1RyaWdnZXIgPSB0aGlzLm1hdGNoZXNUcmlnZ2VyKG1lc3NhZ2Uud2hlblRyaWdnZXJzLCBjb250ZXh0KTtcbiAgICAgICAgdmFyIG1hdGNoZXNVbmxlc3MgPSB0aGlzLm1hdGNoZXNUcmlnZ2VyKG1lc3NhZ2UudW5sZXNzVHJpZ2dlcnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoIW1hdGNoZXNUcmlnZ2VyIHx8IG1hdGNoZXNVbmxlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdHJpZ2dlcnNDb3VudCA9IHRoaXMub2NjdXJyZW5jZVRyYWNrZXIucmVjb3JkVHJpZ2dlck9jY3VycmVuY2UoaWQpO1xuICAgICAgICBpZiAoIXRoaXMubWF0Y2hlc0xpbWl0cyhpZCwgbWVzc2FnZS53aGVuTGltaXRzLCB0cmlnZ2Vyc0NvdW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnN0YXJ0VGltZSAmJiBtZXNzYWdlLmVuZFRpbWUpIHtcbiAgICAgICAgICAgIHZhciBvdXRzaWRlQWN0aXZlUGVyaW9kID0gbm93IDwgbWVzc2FnZS5zdGFydFRpbWUgfHwgbWVzc2FnZS5lbmRUaW1lIDwgbm93O1xuICAgICAgICAgICAgaWYgKG91dHNpZGVBY3RpdmVQZXJpb2QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUuc2hvd01lc3NhZ2UgPSBmdW5jdGlvbiAoaWQsIG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHZhcnMgPSB0aGlzLmFkZERlZmF1bHRzKF9fYXNzaWduKHt9LCBtZXNzYWdlLnZhcnMpKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB7XG4gICAgICAgICAgICB0cmFjazogZnVuY3Rpb24gKGV2ZW50LCB2YWx1ZSwgaW5mbywgcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub2NjdXJyZW5jZVRyYWNrZXIucmVjb3JkT2NjdXJyZW5jZShpZCk7XG4gICAgICAgICAgICAgICAgX3RoaXMudHJhY2tNZXNzYWdlKGlkLCB7IGV2ZW50OiBldmVudCwgdmFsdWU6IHZhbHVlLCBpbmZvOiBpbmZvLCBwYXJhbXM6IHBhcmFtcyB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBydW5BY3Rpb25OYW1lZDogZnVuY3Rpb24gKGFjdGlvbk5hbWUpIHsgcmV0dXJuIF90aGlzLm9uQWN0aW9uKHZhcnNbYWN0aW9uTmFtZV0sIGlkKTsgfSxcbiAgICAgICAgICAgIHJ1blRyYWNrZWRBY3Rpb25OYW1lZDogZnVuY3Rpb24gKGFjdGlvbk5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBhY3Rpb25OYW1lLnJlcGxhY2UoLyBhY3Rpb24kLywgJycpO1xuICAgICAgICAgICAgICAgIF90aGlzLnRyYWNrTWVzc2FnZShpZCwgeyBldmVudDogZXZlbnQgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub25BY3Rpb24odmFyc1thY3Rpb25OYW1lXSwgaWQpOyB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlTWVzc2FnZSh7XG4gICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgICAgICAgbWVzc2FnZTogX19hc3NpZ24oeyBtZXNzYWdlSWQ6IGlkIH0sIHZhcnMpLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5wcm9jZXNzTWVzc2FnZUV2ZW50ID0gZnVuY3Rpb24gKG1lc3NhZ2VJZCwgZXZlbnRVcmwpIHtcbiAgICAgICAgdmFyIGlmcmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibHAtbWVzc2FnZS1cIi5jb25jYXQobWVzc2FnZUlkKSk7XG4gICAgICAgIGlmICghaWZyYW1lKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbWVzc2FnZSBjbG9zZWQsIHNraXBwaW5nIGV2ZW50IHByb2Nlc3NpbmcnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSBldmVudFVybC5yZXBsYWNlKC9eaHR0cDpcXC9cXC9sZWFucGx1bVxcLy8sICcnKS5zcGxpdCgnPycpLCBldmVudCA9IF9hWzBdLCBfYiA9IF9hWzFdLCBxdWVyeSA9IF9iID09PSB2b2lkIDAgPyAnJyA6IF9iO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICB2YXIgcGFyYW1zID0gcXVlcnkuc3BsaXQoJyYnKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGFyYW0pIHtcbiAgICAgICAgICAgIHZhciBfYSA9IHBhcmFtLnNwbGl0KCc9JyksIGtleSA9IF9hWzBdLCB2YWx1ZSA9IF9hWzFdO1xuICAgICAgICAgICAgYWNjW2tleV0gPSBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgICAgICB2YXIgX2MgPSBpZnJhbWUubWV0YWRhdGEsIG1lc3NhZ2UgPSBfYy5tZXNzYWdlLCBjb250ZXh0ID0gX2MuY29udGV4dDtcbiAgICAgICAgc3dpdGNoIChldmVudCkge1xuICAgICAgICAgICAgY2FzZSAnbG9hZEZpbmlzaGVkJzpcbiAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUubGVmdCA9ICcwJztcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZVsnSFRNTCBIZWlnaHQnXSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gbWVzc2FnZVsnSFRNTCBXaWR0aCddO1xuICAgICAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUuaGVpZ2h0ID0gXCJcIi5jb25jYXQobWVzc2FnZVsnSFRNTCBIZWlnaHQnXSwgXCJweFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5sZWZ0ID0gXCJjYWxjKCgxMDAlIC0gXCIuY29uY2F0KHdpZHRoLCBcIikgLyAyKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuY2hvclByb3AgPSBtZXNzYWdlWydIVE1MIEFsaWduJ10udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFsdFByb3AgPSBhbmNob3JQcm9wID09PSAndG9wJyA/ICdib3R0b20nIDogJ3RvcCc7XG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZVthbmNob3JQcm9wXSA9ICcwJztcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlW2FsdFByb3BdID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUudG9wID0gJzAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZnJhbWUuY29udGVudFdpbmRvdy5mb2N1cygpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQudHJhY2soKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3RyYWNrJzpcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYWNrKHBhcmFtcy5ldmVudCwgcGFyc2VGbG9hdChwYXJhbXMudmFsdWUpLCBwYXJhbXMuaW5mbywgbWF5YmVKU09OKHBhcmFtcy5wYXJhbWV0ZXJzKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdydW5BY3Rpb24nOlxuICAgICAgICAgICAgY2FzZSAncnVuVHJhY2tlZEFjdGlvbic6XG4gICAgICAgICAgICAgICAgY29udGV4dFtcIlwiLmNvbmNhdChldmVudCwgXCJOYW1lZFwiKV0ocGFyYW1zLmFjdGlvbik7XG4gICAgICAgICAgICAvLyBmYWxsIHRocm91Z2ggYW5kIGNsb3NlXG4gICAgICAgICAgICBjYXNlICdjbG9zZSc6XG4gICAgICAgICAgICAgICAgaWZyYW1lLm1ldGFkYXRhID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUuaGFuZGxlTWVzc2FnZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9zaG93UmljaElBTSAmJiBvcHRpb25zLm1lc3NhZ2UuX19uYW1lX18gPT09ICdIVE1MJykge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlRmlsZXMob3B0aW9ucy5tZXNzYWdlKTtcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZU5hbWUgPSBvcHRpb25zLm1lc3NhZ2VbJ1RlbXBsYXRlJ10gfHwgJyc7XG4gICAgICAgICAgICBuZXcgTmV0d29ya18xLmRlZmF1bHQoKS5hamF4KCdnZXQnLCB0ZW1wbGF0ZU5hbWUucmVwbGFjZSgnLTEwLmh0bWwnLCAnLTExLmh0bWwnKSwgJycsIGZ1bmN0aW9uICh0ZW1wbGF0ZSkgeyByZXR1cm4gX3RoaXMucmVuZGVyUmljaEluQXBwTWVzc2FnZSh0ZW1wbGF0ZSwgb3B0aW9ucyk7IH0sIGZ1bmN0aW9uICgpIHsgfSwgZmFsc2UsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnc2hvd01lc3NhZ2UnLCB0aGlzLnJlc29sdmVGaWVsZHMob3B0aW9ucykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUucmVuZGVyUmljaEluQXBwTWVzc2FnZSA9IGZ1bmN0aW9uICh0ZW1wbGF0ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgbWVzc2FnZUlkID0gb3B0aW9ucy5tZXNzYWdlLm1lc3NhZ2VJZDtcbiAgICAgICAgdmFyIHZhcnMgPSBKU09OLnN0cmluZ2lmeShvcHRpb25zLm1lc3NhZ2UpO1xuICAgICAgICB2YXIgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2lkJywgXCJscC1tZXNzYWdlLVwiLmNvbmNhdChtZXNzYWdlSWQpKTtcbiAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnUG9wdXAnKTtcbiAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnYXJpYS1tb2RhbCcsICd0cnVlJyk7XG4gICAgICAgIGlmcmFtZS5zdHlsZS5jc3NUZXh0ID0gW1xuICAgICAgICAgICAgJ2JvcmRlci13aWR0aDogMCcsXG4gICAgICAgICAgICAncG9zaXRpb246IGZpeGVkJyxcbiAgICAgICAgICAgICd0b3A6IC0xMDAlJyxcbiAgICAgICAgICAgICdsZWZ0OiAtMTAwJScsXG4gICAgICAgICAgICAnd2lkdGg6IDEwMCUnLFxuICAgICAgICAgICAgJ2hlaWdodDogMTAwJScsXG4gICAgICAgICAgICAndmlzaWJpbGl0eTogaGlkZGVuJyxcbiAgICAgICAgICAgICd6LWluZGV4OiAxMDAwMDAnLFxuICAgICAgICBdLmpvaW4oJzsnKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoaWZyYW1lLCBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpO1xuICAgICAgICAvLyBwYXNzIG1lc3NhZ2UgaW5mb1xuICAgICAgICBpZnJhbWUubWV0YWRhdGEgPSBvcHRpb25zO1xuICAgICAgICBpZnJhbWUuY29udGVudFdpbmRvdy5tZXNzYWdlSWQgPSBtZXNzYWdlSWQ7XG4gICAgICAgIHZhciBjb250ZW50ID0gdGVtcGxhdGVcbiAgICAgICAgICAgIC5yZXBsYWNlKCcjI1ZhcnMjIycsIHZhcnMpXG4gICAgICAgICAgICAucmVwbGFjZSgnPGJvZHk+JywgXCI8Ym9keT48c2NyaXB0PndpbmRvdy5tZXNzYWdlSWQ9J1wiLmNvbmNhdChtZXNzYWdlSWQsIFwiJzwvc2NyaXB0PlwiKSk7XG4gICAgICAgIGlmICgnc3JjZG9jJyBpbiBpZnJhbWUpIHtcbiAgICAgICAgICAgIGlmcmFtZS5zcmNkb2MgPSBjb250ZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGRvYyA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICAgICAgICAgICAgZG9jLm9wZW4oKTtcbiAgICAgICAgICAgIGRvYy53cml0ZShjb250ZW50KTtcbiAgICAgICAgICAgIGRvYy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUudHJhY2tNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2VJZCwgdHJhY2tPcHRpb25zLCByZXNwb25zZSkge1xuICAgICAgICBpZiAodHJhY2tPcHRpb25zID09PSB2b2lkIDApIHsgdHJhY2tPcHRpb25zID0geyBldmVudDogbnVsbCB9OyB9XG4gICAgICAgIGlmIChyZXNwb25zZSA9PT0gdm9pZCAwKSB7IHJlc3BvbnNlID0gZnVuY3Rpb24gKCkgeyB9OyB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLk1FU1NBR0VfSUQsIG1lc3NhZ2VJZCk7XG4gICAgICAgIHZhciBkZWZpbmVkID0gZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHR5cGVvZiB4ICE9PSAndW5kZWZpbmVkJzsgfTtcbiAgICAgICAgaWYgKHRyYWNrT3B0aW9ucy5ldmVudCkge1xuICAgICAgICAgICAgYXJncy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuRVZFTlQsIHRyYWNrT3B0aW9ucy5ldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZmluZWQodHJhY2tPcHRpb25zLnZhbHVlKSkge1xuICAgICAgICAgICAgYXJncy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVkFMVUUsIHRyYWNrT3B0aW9ucy52YWx1ZSB8fCAwLjApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWZpbmVkKHRyYWNrT3B0aW9ucy5pbmZvKSkge1xuICAgICAgICAgICAgYXJncy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5GTywgdHJhY2tPcHRpb25zLmluZm8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWZpbmVkKHRyYWNrT3B0aW9ucy5wYXJhbXMpKSB7XG4gICAgICAgICAgICBhcmdzLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5QQVJBTVMsIEpTT04uc3RyaW5naWZ5KHRyYWNrT3B0aW9ucy5wYXJhbXMpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlRSQUNLLCBhcmdzLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5vbkFjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24sIHBhcmVudE1lc3NhZ2VJZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAocGFyZW50TWVzc2FnZUlkID09PSB2b2lkIDApIHsgcGFyZW50TWVzc2FnZUlkID0gJyc7IH1cbiAgICAgICAgaWYgKCFhY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWVzc2FnZXMgPSB0aGlzLl9tZXNzYWdlQ2FjaGU7XG4gICAgICAgIGlmIChhY3Rpb24uX19uYW1lX18gPT09ICdDaGFpbiB0byBFeGlzdGluZyBNZXNzYWdlJykge1xuICAgICAgICAgICAgdmFyIGNoYWluZWRNZXNzYWdlSWRfMSA9IGFjdGlvblsnQ2hhaW5lZCBtZXNzYWdlJ107XG4gICAgICAgICAgICB2YXIgbWVzc2FnZV8xID0gbWVzc2FnZXNbY2hhaW5lZE1lc3NhZ2VJZF8xXTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlXzEuYWN0aW9uID09PSAnT3BlbiBVUkwnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFja01lc3NhZ2UoY2hhaW5lZE1lc3NhZ2VJZF8xLCB7IGV2ZW50OiAnVmlldycgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub25BY3Rpb24obWVzc2FnZV8xLnZhcnMsIGNoYWluZWRNZXNzYWdlSWRfMSk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWVzc2FnZV8xLmFjdGlvbiA9PT0gJ1JlZ2lzdGVyIEZvciBQdXNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3JlZ2lzdGVyRm9yUHVzaCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93TWVzc2FnZShjaGFpbmVkTWVzc2FnZUlkXzEsIG1lc3NhZ2VfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGFuZGxlIGFwcCBmdW5jdGlvblxuICAgICAgICB2YXIgcHJvY2Vzc0FjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gYWN0aW9uLl9fbmFtZV9fO1xuICAgICAgICAgICAgaWYgKGFjdGlvbi5fX25hbWVfXyA9PT0gJ09wZW4gVVJMJykge1xuICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50cy5lbWl0KCduYXZpZ2F0aW9uQ2hhbmdlJywgYWN0aW9uLlVSTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhY3Rpb24uX19uYW1lX18gPT09ICdSZWdpc3RlciBGb3IgUHVzaCcpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5ldmVudHMuZW1pdCgncmVnaXN0ZXJGb3JQdXNoJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gZW1iZWRkZWQgY2hhaW5lZCBtZXNzYWdlXG4gICAgICAgICAgICAgICAgX3RoaXMuc2hvd01lc3NhZ2UocGFyZW50TWVzc2FnZUlkLCB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogcGFyZW50TWVzc2FnZUlkLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhcnM6IGFjdGlvbiwgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgbWVzc2FnZUlkID0gdGhpcy5tZXNzYWdlSWRGcm9tQWN0aW9uKGFjdGlvbik7XG4gICAgICAgIGlmIChtZXNzYWdlSWQpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2tNZXNzYWdlKG1lc3NhZ2VJZCwgeyBldmVudDogbnVsbCB9LCBwcm9jZXNzQWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByb2Nlc3NBY3Rpb24oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLmdldE1lc3NhZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVzc2FnZUNhY2hlIHx8IHt9O1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLmFkZERlZmF1bHRzID0gZnVuY3Rpb24gKHZhcnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGRlZmluaXRpb25zID0gdGhpcy5nZXRNZXNzYWdlcygpLmFjdGlvbkRlZmluaXRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgZGVmaW5pdGlvbiA9IGRlZmluaXRpb25zW3ZhcnMuX19uYW1lX19dO1xuICAgICAgICB2YXIga2luZHMgPSBkZWZpbml0aW9uID09PSBudWxsIHx8IGRlZmluaXRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlZmluaXRpb24ua2luZHM7XG4gICAgICAgIGlmICghZGVmaW5pdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHZhcnM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVzZURlZmF1bHRzID0gZnVuY3Rpb24gKG9iaiwgZGVmYXVsdFZhbHVlcywgcGF0aCkge1xuICAgICAgICAgICAgaWYgKHBhdGggPT09IHZvaWQgMCkgeyBwYXRoID0gJyc7IH1cbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyhkZWZhdWx0VmFsdWVzKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGRlZmF1bHRWYWx1ZXNba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBvYmpba2V5XSA9IHVzZURlZmF1bHRzKG9ialtrZXldIHx8IHt9LCB2YWx1ZSwgXCJcIi5jb25jYXQocGF0aCkuY29uY2F0KGtleSwgXCIuXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9ialtrZXldID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoa2luZHNbXCJcIi5jb25jYXQocGF0aCkuY29uY2F0KGtleSldID09PSAnRklMRScpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSBfdGhpcy5nZXRGaWxlVXJsKG9ialtrZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdXNlRGVmYXVsdHMoX19hc3NpZ24oe30sIHZhcnMpLCBkZWZpbml0aW9uLnZhbHVlcyk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUucmVzb2x2ZUZpbGVzID0gZnVuY3Rpb24gKHZhcnMpIHtcbiAgICAgICAgdmFyIGZpbGVQcmVmaXggPSAvXl9fZmlsZV9fLztcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHZhcnMpIHtcbiAgICAgICAgICAgIGlmIChmaWxlUHJlZml4LnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgICAgIHZhciBuYW1lID0ga2V5LnJlcGxhY2UoZmlsZVByZWZpeCwgJycpO1xuICAgICAgICAgICAgICAgIHZhcnNbbmFtZV0gPSB0aGlzLmdldEZpbGVVcmwodmFyc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YXJzW2tleV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdmFyc1trZXldID0gdGhpcy5yZXNvbHZlRmlsZXModmFyc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFycztcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5yZXNvbHZlRmllbGRzID0gZnVuY3Rpb24gKHZhcnMpIHtcbiAgICAgICAgdmFyIGNvbG9yU3VmZml4ID0gL1xcYmNvbG9yL2k7XG4gICAgICAgIHZhciBmaWxlUHJlZml4ID0gL15fX2ZpbGVfXy87XG4gICAgICAgIGZvciAodmFyIGtleSBpbiB2YXJzKSB7XG4gICAgICAgICAgICBpZiAoZmlsZVByZWZpeC50ZXN0KGtleSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGtleS5yZXBsYWNlKGZpbGVQcmVmaXgsICcnKTtcbiAgICAgICAgICAgICAgICB2YXJzW25hbWUgKyAnIFVSTCddID0gdGhpcy5nZXRGaWxlVXJsKHZhcnNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb2xvclN1ZmZpeC50ZXN0KGtleSkpIHtcbiAgICAgICAgICAgICAgICB2YXJzW2tleV0gPSBWYWx1ZVRyYW5zZm9ybXNfMS5kZWZhdWx0LmRlY29kZUNvbG9yKHZhcnNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFyc1trZXldID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHZhcnNba2V5XSA9IHRoaXMucmVzb2x2ZUZpZWxkcyh2YXJzW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YXJzO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLm1lc3NhZ2VJZEZyb21BY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHZhciBtZXNzYWdlcyA9IHRoaXMuX21lc3NhZ2VDYWNoZTtcbiAgICAgICAgdmFyIHZhcnMgPSBfX2Fzc2lnbih7fSwgYWN0aW9uKTtcbiAgICAgICAgZGVsZXRlIHZhcnNbJ3BhcmVudENhbXBhaWduSWQnXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5rZXlzKG1lc3NhZ2VzKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBpZCA9IF9hW19pXTtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbWVzc2FnZXNbaWRdO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGFyZW50Q2FtcGFpZ25JZCAhPT0gYWN0aW9uLnBhcmVudENhbXBhaWduSWQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoMCwgbG9kYXNoX2lzZXF1YWxfMS5kZWZhdWx0KShtZXNzYWdlLnZhcnMsIHZhcnMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUubWF0Y2hlc1RyaWdnZXIgPSBmdW5jdGlvbiAod2hlblRyaWdnZXJzLCBjb250ZXh0KSB7XG4gICAgICAgIGlmICghd2hlblRyaWdnZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlnbm9yZUNhc2VFcXVhbHMgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgaWYgKGIgPT09IHZvaWQgMCkgeyBiID0gJyc7IH1cbiAgICAgICAgICAgIHJldHVybiBhLnRvU3RyaW5nKCkubG9jYWxlQ29tcGFyZShiLnRvU3RyaW5nKCksIHVuZGVmaW5lZCwgeyBzZW5zaXRpdml0eTogJ2FjY2VudCcgfSkgPT09IDA7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBtYXRjaGVzVHJpZ2dlcnMgPSBmdW5jdGlvbiAoY29udGV4dE5vdW4sIHBhcmFtcywgdHJpZ2dlcikge1xuICAgICAgICAgICAgdmFyIG1hdGNoZXNOb3VuID0gY29udGV4dE5vdW4gPT09IHRyaWdnZXIubm91bjtcbiAgICAgICAgICAgIGlmICh0cmlnZ2VyLnZlcmIgPT09ICd0cmlnZ2VycycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlc05vdW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0cmlnZ2VyLnZlcmIgPT09ICd0cmlnZ2Vyc1dpdGhQYXJhbWV0ZXInKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gdHJpZ2dlci5vYmplY3RzLCBwYXJhbWV0ZXIgPSBfYVswXSwgdmFsdWUgPSBfYVsxXTtcbiAgICAgICAgICAgICAgICB2YXIgY29udGFpbnNQYXJhbSA9IHBhcmFtZXRlciBpbiBwYXJhbXM7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoZXNQYXJhbSA9IGNvbnRhaW5zUGFyYW0gJiYgaWdub3JlQ2FzZUVxdWFscyh2YWx1ZSwgcGFyYW1zW3BhcmFtZXRlcl0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVzTm91biAmJiBtYXRjaGVzUGFyYW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB3aGVuVHJpZ2dlcnMuY2hpbGRyZW4uc29tZShmdW5jdGlvbiAodHJpZ2dlcikge1xuICAgICAgICAgICAgdmFyIHN1YmplY3QgPSB0cmlnZ2VyLnN1YmplY3Q7XG4gICAgICAgICAgICBzd2l0Y2ggKGNvbnRleHQudHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0YXJ0JzogcmV0dXJuIHN1YmplY3QgPT09ICdzdGFydCcgfHwgc3ViamVjdCA9PT0gJ3Jlc3VtZSc7XG4gICAgICAgICAgICAgICAgY2FzZSAncmVzdW1lJzogcmV0dXJuIHN1YmplY3QgPT09ICdyZXN1bWUnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2V2ZW50JzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YmplY3QgIT09ICdldmVudCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlc1RyaWdnZXJzKGNvbnRleHQuZXZlbnROYW1lLCBjb250ZXh0LnBhcmFtcywgdHJpZ2dlcik7XG4gICAgICAgICAgICAgICAgY2FzZSAndXNlckF0dHJpYnV0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJqZWN0ICE9PSAndXNlckF0dHJpYnV0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGFpbnNBdHRyaWJ1dGUgPSB0cmlnZ2VyLm5vdW4gaW4gY29udGV4dC5hdHRyaWJ1dGVzO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlci52ZXJiID09PSAnY2hhbmdlcycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250YWluc0F0dHJpYnV0ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0cmlnZ2VyLnZlcmIgPT09ICdjaGFuZ2VzVG8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5zQXR0cmlidXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRleHRWYWx1ZV8xID0gY29udGV4dC5hdHRyaWJ1dGVzW3RyaWdnZXIubm91bl07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJpZ2dlci5vYmplY3RzLnNvbWUoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsICYmIGNvbnRleHRWYWx1ZV8xID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgJiYgY29udGV4dFZhbHVlXzEgJiYgaWdub3JlQ2FzZUVxdWFscyh2YWx1ZSwgY29udGV4dFZhbHVlXzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RhdGUnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoc3ViamVjdCAhPT0gJ3N0YXRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVzVHJpZ2dlcnMoY29udGV4dC5zdGF0ZSwgY29udGV4dC5wYXJhbXMsIHRyaWdnZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5tYXRjaGVzTGltaXRzID0gZnVuY3Rpb24gKGlkLCB3aGVuTGltaXRzLCB0cmlnZ2VyT2NjdXJyZW5jZXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF3aGVuTGltaXRzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2hlbkxpbWl0cy5jaGlsZHJlbi5ldmVyeShmdW5jdGlvbiAobGltaXQpIHtcbiAgICAgICAgICAgIHZhciBzdWJqZWN0ID0gbGltaXQuc3ViamVjdCwgdmVyYiA9IGxpbWl0LnZlcmI7XG4gICAgICAgICAgICB2YXIgbm91biA9IHBhcnNlSW50KGxpbWl0Lm5vdW4udG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBpZiAoc3ViamVjdCA9PT0gJ3RpbWVzJykge1xuICAgICAgICAgICAgICAgIGlmICh2ZXJiID09PSAnbGltaXRTZXNzaW9uJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2Vzc2lvbk9jY3VycmVuY2VzID0gX3RoaXMub2NjdXJyZW5jZVRyYWNrZXIuZ2V0U2Vzc2lvbk9jY3VycmFuY2VDb3VudChpZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXNzaW9uT2NjdXJyZW5jZXMgKyAxID09PSBub3VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2ZXJiID09PSAnbGltaXRVc2VyJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2NjdXJyZW5jZXMgPSBfdGhpcy5vY2N1cnJlbmNlVHJhY2tlci5nZXRPY2N1cnJlbmNlcyhpZCkubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2NjdXJyZW5jZXMgKyAxIDw9IG5vdW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBYIGluIFkgKHNlY29uZHN8bWludXRlc3xkYXlzfGhvdXJzKVxuICAgICAgICAgICAgICAgICAgICB2YXIgcGVySW50ZXJ2YWwgPSBwYXJzZUludChsaW1pdC5vYmplY3RzWzBdLnRvU3RyaW5nKCkpIHx8IDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aW1lU2xvdCA9IHZlcmJUb0ludGVydmFsKHZlcmIpICogcGVySW50ZXJ2YWw7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvY2N1cnJlbmNlcyA9IF90aGlzLm9jY3VycmVuY2VUcmFja2VyLmdldE9jY3VycmVuY2VzKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gb2NjdXJyZW5jZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgPCBub3VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzbGljZSA9IG9jY3VycmVuY2VzLnNsaWNlKGNvdW50IC0gbm91biwgY291bnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgdGhlIHRpbWUgb2YgdGhlIGZpcnN0IG9mIHRoZSBsYXN0IE4gb2NjdXJyZW5jZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzbGljZVswXSA8IERhdGUubm93KCkgLSB0aW1lU2xvdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN1YmplY3QgPT09ICdvbk50aE9jY3VycmVuY2UnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyaWdnZXJPY2N1cnJlbmNlcyA9PT0gbm91bjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN1YmplY3QgPT09ICdldmVyeU50aE9jY3VycmVuY2UnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0cmlnZ2VyT2NjdXJyZW5jZXMgJSBub3VuKSA9PT0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gTWVzc2FnZXM7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTWVzc2FnZXM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSWRlbnRpdHlNYW5hZ2VyID0gZXhwb3J0cy5JZGVudGl0eVN0YXRlID0gdm9pZCAwO1xudmFyIGNsZXZlcnRhcF93ZWJfc2RrXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImNsZXZlcnRhcC13ZWItc2RrXCIpKTtcbnZhciBpbnRlcm5hbF8xID0gcmVxdWlyZShcIi4vdHlwZXMvaW50ZXJuYWxcIik7XG52YXIgU3RvcmFnZU1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9TdG9yYWdlTWFuYWdlclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBub29wID0gZnVuY3Rpb24gKCkgeyB9O1xudmFyIHRvTWlncmF0aW9uU3RhdGUgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgc3dpdGNoIChvYmogPT09IG51bGwgfHwgb2JqID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvYmouc2RrKSB7XG4gICAgICAgIGNhc2UgJ2xwJzpcbiAgICAgICAgICAgIHJldHVybiBpbnRlcm5hbF8xLk1pZ3JhdGlvblN0YXRlLkxFQU5QTFVNO1xuICAgICAgICBjYXNlICdscCtjdCc6XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJuYWxfMS5NaWdyYXRpb25TdGF0ZS5EVVBMSUNBVEU7XG4gICAgICAgIGNhc2UgJ2N0JzpcbiAgICAgICAgICAgIHJldHVybiBpbnRlcm5hbF8xLk1pZ3JhdGlvblN0YXRlLkNMRVZFUlRBUDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBpbnRlcm5hbF8xLk1pZ3JhdGlvblN0YXRlLlVOS05PV047XG4gICAgfVxufTtcbnZhciBNaWdyYXRpb25NYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1pZ3JhdGlvbk1hbmFnZXIoY3JlYXRlUmVxdWVzdCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4gICAgICAgIHRoaXMucmVzcG9uc2UgPSBudWxsO1xuICAgICAgICB0aGlzLl9mZXRjaGluZyA9IG51bGw7XG4gICAgICAgIHZhciBzYXZlZFJlc3BvbnNlID0gU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5NSUdSQVRJT05fU1RBVEUpO1xuICAgICAgICB2YXIgZGV2aWNlSWQgPSBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0KENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkRFVklDRV9JRCk7XG4gICAgICAgIHZhciB1c2VySWQgPSAoX2EgPSBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0KENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlVTRVJfSUQpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkZXZpY2VJZDtcbiAgICAgICAgdGhpcy5pZGVudGl0eSA9IG5ldyBJZGVudGl0eU1hbmFnZXIodXNlcklkLCBkZXZpY2VJZCk7XG4gICAgICAgIGlmIChzYXZlZFJlc3BvbnNlKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3BvbnNlID0gSlNPTi5wYXJzZShzYXZlZFJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBNaWdyYXRpb25NYW5hZ2VyLnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICBpZiAoY2FsbGJhY2sgPT09IHZvaWQgMCkgeyBjYWxsYmFjayA9IG5vb3A7IH1cbiAgICAgICAgdmFyIHJlc3BvbnNlID0gdGhpcy5yZXNwb25zZTtcbiAgICAgICAgdmFyIHN0YXRlID0gdG9NaWdyYXRpb25TdGF0ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlICYmIHN0YXRlICE9PSBpbnRlcm5hbF8xLk1pZ3JhdGlvblN0YXRlLlVOS05PV04pIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKHN0YXRlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdldE1pZ3JhdGlvblN0YXRlKGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIE1pZ3JhdGlvbk1hbmFnZXIucHJvdG90eXBlLnZlcmlmeVN0YXRlID0gZnVuY3Rpb24gKHNoYSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChzaGEgJiYgKChfYSA9IHRoaXMucmVzcG9uc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zaGEyNTYpICE9PSBzaGEpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0TWlncmF0aW9uU3RhdGUoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocyA9PT0gaW50ZXJuYWxfMS5NaWdyYXRpb25TdGF0ZS5EVVBMSUNBVEUgfHwgcyA9PT0gaW50ZXJuYWxfMS5NaWdyYXRpb25TdGF0ZS5DTEVWRVJUQVApIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaW5pdENsZXZlclRhcCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmlkZW50aXR5LmlzQW5vbnltb3VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGV2ZXJ0YXBfd2ViX3Nka18xLmRlZmF1bHQub25Vc2VyTG9naW4ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZTogX3RoaXMuaWRlbnRpdHkucHJvZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1pZ3JhdGlvbk1hbmFnZXIucHJvdG90eXBlLmluaXRDbGV2ZXJUYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGNvbmZpZyA9IChfYSA9IHRoaXMucmVzcG9uc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jdDtcbiAgICAgICAgaWYgKCFjb25maWcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjbGV2ZXJ0YXBfd2ViX3Nka18xLmRlZmF1bHQuaW5pdChjb25maWcuYWNjb3VudElkLCBjb25maWcucmVnaW9uQ29kZSk7XG4gICAgICAgIHJldHVybiBjbGV2ZXJ0YXBfd2ViX3Nka18xLmRlZmF1bHQ7XG4gICAgfTtcbiAgICBNaWdyYXRpb25NYW5hZ2VyLnByb3RvdHlwZS5kdXBsaWNhdGVSZXF1ZXN0ID0gZnVuY3Rpb24gKGFjdGlvbiwgYXJncywgb3B0aW9ucykge1xuICAgICAgICB2YXIgc3RhdGUgPSB0b01pZ3JhdGlvblN0YXRlKHRoaXMucmVzcG9uc2UpO1xuICAgICAgICBpZiAoc3RhdGUgPT09IGludGVybmFsXzEuTWlncmF0aW9uU3RhdGUuTEVBTlBMVU0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFyZ3MpIHtcbiAgICAgICAgICAgIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlID09PSBpbnRlcm5hbF8xLk1pZ3JhdGlvblN0YXRlLkRVUExJQ0FURSkge1xuICAgICAgICAgICAgYXJncy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQ1QsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzRGljdCA9IChhcmdzID09PSBudWxsIHx8IGFyZ3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFyZ3MuYnVpbGREaWN0KCkpIHx8IHt9O1xuICAgICAgICB2YXIgdXNlcklkID0gYXJnc0RpY3RbQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVVNFUl9JRF07XG4gICAgICAgIGlmICh1c2VySWQpIHtcbiAgICAgICAgICAgIHRoaXMuaWRlbnRpdHkuc2V0VXNlcklkKHVzZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlNUQVJUOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pZGVudGl0eS5pc0Fub255bW91cykge1xuICAgICAgICAgICAgICAgICAgICBjbGV2ZXJ0YXBfd2ViX3Nka18xLmRlZmF1bHQub25Vc2VyTG9naW4ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBTaXRlOiB0aGlzLmlkZW50aXR5LnByb2ZpbGUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlRSQUNLOlxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRQdXNoKGFyZ3NEaWN0LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLkFEVkFOQ0U6XG4gICAgICAgICAgICAgICAgYXJnc0RpY3QuZXZlbnQgPSBcInN0YXRlX1wiLmNvbmNhdChhcmdzRGljdC5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudFB1c2goYXJnc0RpY3QsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuU0VUX1VTRVJfQVRUUklCVVRFUzpcbiAgICAgICAgICAgICAgICB0aGlzLnByb2ZpbGVQdXNoKGFyZ3NEaWN0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGUgPT09IGludGVybmFsXzEuTWlncmF0aW9uU3RhdGUuQ0xFVkVSVEFQO1xuICAgIH07XG4gICAgTWlncmF0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvZmlsZVB1c2ggPSBmdW5jdGlvbiAoYXJnc0RpY3QpIHtcbiAgICAgICAgdmFyIHVzZXJJZCA9IGFyZ3NEaWN0W0NvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLk5FV19VU0VSX0lEXTtcbiAgICAgICAgdmFyIGF0dHJzID0gdGhpcy5tYXBBdHRyaWJ1dGVzKHRoaXMuY29udmVydEFycmF5cyhKU09OLnBhcnNlKGFyZ3NEaWN0LnVzZXJBdHRyaWJ1dGVzIHx8ICd7fScpKSk7XG4gICAgICAgIGlmICh1c2VySWQpIHtcbiAgICAgICAgICAgIHRoaXMuaWRlbnRpdHkuc2V0VXNlcklkKHVzZXJJZCk7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGF0dHJzLCB0aGlzLmlkZW50aXR5LnByb2ZpbGUpO1xuICAgICAgICAgICAgY2xldmVydGFwX3dlYl9zZGtfMS5kZWZhdWx0Lm9uVXNlckxvZ2luLnB1c2goeyBTaXRlOiBhdHRycyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNsZXZlcnRhcF93ZWJfc2RrXzEuZGVmYXVsdC5wcm9maWxlLnB1c2goeyBTaXRlOiBhdHRycyB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWlncmF0aW9uTWFuYWdlci5wcm90b3R5cGUuZXZlbnRQdXNoID0gZnVuY3Rpb24gKGFyZ3NEaWN0LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBpc0VuZ2FnZW1lbnRFdmVudCA9IGFyZ3NEaWN0W0NvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLk1FU1NBR0VfSURdO1xuICAgICAgICB2YXIgZXZlbnROYW1lID0gb3B0aW9ucy5pc1B1cmNoYXNlID8gJ0NoYXJnZWQnIDogYXJnc0RpY3QuZXZlbnQ7XG4gICAgICAgIGlmIChldmVudE5hbWUgJiYgIWlzRW5nYWdlbWVudEV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgZXZlbnRQYXJhbXMgPSB7fTtcbiAgICAgICAgICAgIGlmIChhcmdzRGljdC5wYXJhbXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gdGhpcy5jb252ZXJ0QXJyYXlzKEpTT04ucGFyc2UoYXJnc0RpY3QucGFyYW1zKSk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihldmVudFBhcmFtcywgcGFyYW1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhcmdzRGljdC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oZXZlbnRQYXJhbXMsIHsgdmFsdWU6IGFyZ3NEaWN0LnZhbHVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFyZ3NEaWN0LmluZm8pIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGV2ZW50UGFyYW1zLCB7IGluZm86IGFyZ3NEaWN0LmluZm8gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5pc1B1cmNoYXNlICYmIGFyZ3NEaWN0LmN1cnJlbmN5Q29kZSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oZXZlbnRQYXJhbXMsIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3lDb2RlOiBhcmdzRGljdC5jdXJyZW5jeUNvZGUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGV2ZXJ0YXBfd2ViX3Nka18xLmRlZmF1bHQuZXZlbnQucHVzaChldmVudE5hbWUsIGV2ZW50UGFyYW1zKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWlncmF0aW9uTWFuYWdlci5wcm90b3R5cGUuY29udmVydEFycmF5cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyciA9IG9ialtrZXldO1xuICAgICAgICAgICAgICAgIGFjY1trZXldID0gXCJbXCIuY29uY2F0KGFyci5qb2luKCcsJyksIFwiXVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFjY1trZXldID0gb2JqW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG4gICAgfTtcbiAgICBNaWdyYXRpb25NYW5hZ2VyLnByb3RvdHlwZS5tYXBBdHRyaWJ1dGVzID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB2YXIgbWFwcGluZyA9IChfYiA9IChfYSA9IHRoaXMucmVzcG9uc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jdCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmF0dHJpYnV0ZU1hcHBpbmdzO1xuICAgICAgICBpZiAoIW1hcHBpbmcpXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgICAgICBpZiAobWFwcGluZ1trZXldKSB7XG4gICAgICAgICAgICAgICAgYWNjW21hcHBpbmdba2V5XV0gPSBvYmpba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFjY1trZXldID0gb2JqW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG4gICAgfTtcbiAgICBNaWdyYXRpb25NYW5hZ2VyLnByb3RvdHlwZS5nZXRNaWdyYXRpb25TdGF0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fZmV0Y2hpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZldGNoaW5nID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY3JlYXRlUmVxdWVzdCgnZ2V0TWlncmF0ZVN0YXRlJywgbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpLCB7XG4gICAgICAgICAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAocikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gKF9hID0gciA9PT0gbnVsbCB8fCByID09PSB2b2lkIDAgPyB2b2lkIDAgOiByLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSB0b01pZ3JhdGlvblN0YXRlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSAmJiBzdGF0ZSAhPT0gaW50ZXJuYWxfMS5NaWdyYXRpb25TdGF0ZS5VTktOT1dOKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmUoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuTUlHUkFUSU9OX1NUQVRFLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZldGNoaW5nLnRoZW4oY2FsbGJhY2spXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fZmV0Y2hpbmcgPSBudWxsOyB9KTtcbiAgICB9O1xuICAgIHJldHVybiBNaWdyYXRpb25NYW5hZ2VyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE1pZ3JhdGlvbk1hbmFnZXI7XG52YXIgSWRlbnRpdHlTdGF0ZTtcbihmdW5jdGlvbiAoSWRlbnRpdHlTdGF0ZSkge1xuICAgIElkZW50aXR5U3RhdGVbXCJBTk9OWU1PVVNcIl0gPSBcImFub255bW91c1wiO1xuICAgIElkZW50aXR5U3RhdGVbXCJJREVOVElGSUVEXCJdID0gXCJpZGVudGlmaWVkXCI7XG59KShJZGVudGl0eVN0YXRlID0gZXhwb3J0cy5JZGVudGl0eVN0YXRlIHx8IChleHBvcnRzLklkZW50aXR5U3RhdGUgPSB7fSkpO1xudmFyIElkZW50aXR5TWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJZGVudGl0eU1hbmFnZXIodXNlcklkLCBkZXZpY2VJZCkge1xuICAgICAgICB0aGlzLnVzZXJJZCA9IHVzZXJJZDtcbiAgICAgICAgdGhpcy5kZXZpY2VJZCA9IGRldmljZUlkO1xuICAgICAgICB0aGlzLnN0YXRlID0gSWRlbnRpdHlTdGF0ZS5BTk9OWU1PVVM7XG4gICAgICAgIHRoaXMuaWRlbnRpZnkoKTtcbiAgICB9XG4gICAgSWRlbnRpdHlNYW5hZ2VyLnByb3RvdHlwZS5zZXRVc2VySWQgPSBmdW5jdGlvbiAodXNlcklkKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBJZGVudGl0eVN0YXRlLkFOT05ZTU9VUykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IElkZW50aXR5U3RhdGUuSURFTlRJRklFRDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVzZXJJZCA9IHVzZXJJZDtcbiAgICB9O1xuICAgIElkZW50aXR5TWFuYWdlci5wcm90b3R5cGUuaWRlbnRpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQW5vbnltb3VzKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gSWRlbnRpdHlTdGF0ZS5BTk9OWU1PVVM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlkZW50aWZ5Tm9uQW5vbnltb3VzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIElkZW50aXR5TWFuYWdlci5wcm90b3R5cGUuaWRlbnRpZnlOb25Bbm9ueW1vdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBJZGVudGl0eVN0YXRlLklERU5USUZJRUQ7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSWRlbnRpdHlNYW5hZ2VyLnByb3RvdHlwZSwgXCJwcm9maWxlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4geyBJZGVudGl0eTogdGhpcy51c2VySWQgfTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJZGVudGl0eU1hbmFnZXIucHJvdG90eXBlLCBcImlzQW5vbnltb3VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51c2VySWQgPT09IHRoaXMuZGV2aWNlSWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gSWRlbnRpdHlNYW5hZ2VyO1xufSgpKTtcbmV4cG9ydHMuSWRlbnRpdHlNYW5hZ2VyID0gSWRlbnRpdHlNYW5hZ2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEFqYXggZnVuY3Rpb25zIGZyb206XG4gKlxuICogUGFyc2UgSmF2YVNjcmlwdCBTREtcbiAqIFZlcnNpb246IDEuMS41XG4gKiBCdWlsdDogTW9uIE9jdCAwMSAyMDEyIDE3OjU3OjEzXG4gKiBodHRwOi8vcGFyc2UuY29tXG4gKlxuICogQ29weXJpZ2h0IDIwMTIgUGFyc2UsIEluYy5cbiAqIFRoZSBQYXJzZSBKYXZhU2NyaXB0IFNESyBpcyBmcmVlbHkgZGlzdHJpYnV0YWJsZSB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG4gKiBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSXG4gKiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBOZXR3b3JrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5ldHdvcmsoKSB7XG4gICAgICAgIHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzID0gMTA7XG4gICAgICAgIHRoaXMucmVxdWVzdFF1ZXVlID0gW107XG4gICAgICAgIHRoaXMucnVubmluZ1JlcXVlc3QgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmV0d29yayB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzZWNvbmRzIFRoZSB0aW1lb3V0IGluIHNlY29uZHMuXG4gICAgICovXG4gICAgTmV0d29yay5wcm90b3R5cGUuc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICB0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyA9IHNlY29uZHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNYWtlIGFuIGFqYXggcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIFRoZSBodHRwIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSB1cmwgdG8gb3Blbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheUJ1ZmZlcnxCbG9ifERvY3VtZW50fEZvcm1EYXRhfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHNlbnQgaW4gYm9keS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdWNjZXNzIEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIHN1Y2Nlc3MuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZXJyb3IgQSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gZXJyb3IuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBxdWV1ZWQgV2hldGhlciB0aGUgcmVxdWVzdCBzaG91bGQgYmUgcXVldWVkIG9yIGltbWVkaWF0ZWx5IHNlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcGxhaW5UZXh0XSBXaGV0aGVyIHRoZSByZXNwb25zZSBzaG91bGQgYmUgcmV0dXJuZWQgYXMgcGxhaW4gdGV4dCBvciBqc29uLlxuICAgICAqIEByZXR1cm4geyp9XG4gICAgICovXG4gICAgTmV0d29yay5wcm90b3R5cGUuYWpheCA9IGZ1bmN0aW9uIChtZXRob2QsIHVybCwgZGF0YSwgc3VjY2VzcywgZXJyb3IsIHF1ZXVlZCwgcGxhaW5UZXh0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChxdWV1ZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJ1bm5pbmdSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVucXVldWVSZXF1ZXN0KGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJ1bm5pbmdSZXF1ZXN0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIFhEb21haW5SZXF1ZXN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cDonICYmIHVybC5pbmRleE9mKCdodHRwczonKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHVybCA9IFwiaHR0cDpcIi5jb25jYXQodXJsLnN1YnN0cmluZyg2KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hamF4SUU4KG1ldGhvZCwgdXJsLCBkYXRhLCBzdWNjZXNzLCBlcnJvciwgcXVldWVkLCBwbGFpblRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoYW5kbGVkID0gZmFsc2U7XG4gICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGFuZGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlXzE7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnNlRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAocGxhaW5UZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlXzEgPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlXzEgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IobnVsbCwgeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghcGFyc2VFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyhyZXNwb25zZV8xLCB4aHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yKHJlc3BvbnNlXzEsIHhocik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHF1ZXVlZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ydW5uaW5nUmVxdWVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZXF1ZXVlUmVxdWVzdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGJsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgeGhyLm9uZXJyb3IgPSB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDApIHtcbiAgICAgICAgICAgICAgICBibG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZXF1ZXN0UXVldWUuc3BsaWNlKDAsIF90aGlzLnJlcXVlc3RRdWV1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoIWJsb2NrZWQpIHtcbiAgICAgICAgICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAndGV4dC9wbGFpbicpOyAvLyBBdm9pZCBwcmUtZmxpZ2h0LlxuICAgICAgICAgICAgeGhyLnNlbmQoZGF0YSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWhhbmRsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgeGhyLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgdGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMgKiAxMDAwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFrZSBhbiBhamF4IHJlcXVlc3QgZm9yIElFOC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIFRoZSBodHRwIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSB1cmwgdG8gb3Blbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheUJ1ZmZlcnxCbG9ifERvY3VtZW50fEZvcm1EYXRhfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHNlbnQgaW4gYm9keS5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdWNjZXNzIEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIHN1Y2Nlc3MuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZXJyb3IgQSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gZXJyb3IuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBxdWV1ZWQgV2hldGhlciB0aGUgcmVxdWVzdCBzaG91bGQgYmUgcXVldWVkIG9yIGltbWVkaWF0ZWx5IHNlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBwbGFpblRleHQgV2hldGhlciB0aGUgcmVzcG9uc2Ugc2hvdWxkIGJlIHJldHVybmVkIGFzIHBsYWluIHRleHQgb3IganNvbi5cbiAgICAgKi9cbiAgICBOZXR3b3JrLnByb3RvdHlwZS5hamF4SUU4ID0gZnVuY3Rpb24gKG1ldGhvZCwgdXJsLCBkYXRhLCBzdWNjZXNzLCBlcnJvciwgcXVldWVkLCBwbGFpblRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHhkciA9IG5ldyBYRG9tYWluUmVxdWVzdCgpO1xuICAgICAgICB4ZHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlc3BvbnNlO1xuICAgICAgICAgICAgdmFyIHBhcnNlRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChwbGFpblRleHQpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHhkci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IEpTT04ucGFyc2UoeGRyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IobnVsbCwgeGRyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcGFyc2VFcnJvcikge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyhyZXNwb25zZSwgeGRyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHF1ZXVlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJ1bm5pbmdSZXF1ZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVxdWV1ZVJlcXVlc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeGRyLm9uZXJyb3IgPSB4ZHIub250aW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yKG51bGwsIHhkcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICBpZiAocXVldWVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucnVubmluZ1JlcXVlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5kZXF1ZXVlUmVxdWVzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB4ZHIub25wcm9ncmVzcyA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAgICAgeGRyLm9wZW4obWV0aG9kLCB1cmwpO1xuICAgICAgICB4ZHIudGltZW91dCA9IHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzICogMTAwMDtcbiAgICAgICAgeGRyLnNlbmQoZGF0YSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSByZXF1ZXN0IHRvIHRoZSByZXF1ZXN0IHF1ZXVlLlxuICAgICAqIEBwYXJhbSByZXF1ZXN0QXJndW1lbnRzIFRoZSByZXF1ZXN0IGFyZ3VtZW50cyBmcm9tIHRoZSBpbml0aWFsIG1ldGhvZCBjYWxsLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTmV0d29yay5wcm90b3R5cGUuZW5xdWV1ZVJlcXVlc3QgPSBmdW5jdGlvbiAocmVxdWVzdEFyZ3VtZW50cykge1xuICAgICAgICB0aGlzLnJlcXVlc3RRdWV1ZS5wdXNoKHJlcXVlc3RBcmd1bWVudHMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgcmVxdWVzdCBmcm9tIHRoZSByZXF1ZXN0IHF1ZXVlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTmV0d29yay5wcm90b3R5cGUuZGVxdWV1ZVJlcXVlc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gdGhpcy5yZXF1ZXN0UXVldWUuc2hpZnQoKTtcbiAgICAgICAgaWYgKGFyZ3MpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItc3ByZWFkXG4gICAgICAgICAgICB0aGlzLmFqYXguYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBOZXR3b3JrO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE5ldHdvcms7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEFyZ3NCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQXJnc0J1aWxkZXJcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgU3RvcmFnZU1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9TdG9yYWdlTWFuYWdlclwiKSk7XG52YXIgQVBQTElDQVRJT05fU0VSVkVSX1BVQkxJQ19LRVkgPSAnQkluV1BwV250ZlIzOXJnWFNQMDRwcWRtRWRER2E1MHo2enFiTXZ4eXhKQ3d6WEl1U3BTaDhDODg4LUNmSjgyV0VMbDdYZThjakFuZkN0LTN2SzBDaTY4Jztcbi8qKlxuICogUHVzaCBNYW5hZ2VyIGhhbmRsZXMgdGhlIHJlZ2lzdHJhdGlvbiBhbmQgc3Vic2NyaXB0aW9uIGZvciB3ZWIgcHVzaC5cbiAqL1xudmFyIFB1c2hNYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFB1c2hNYW5hZ2VyKGNyZWF0ZVJlcXVlc3QpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdDtcbiAgICAgICAgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uID0gbnVsbDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFB1c2hNYW5hZ2VyLnByb3RvdHlwZSwgXCJzZXJ2aWNlV29ya2VyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci5zZXJ2aWNlV29ya2VyO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3Qgd2ViIHB1c2ggaXMgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgc3VwcG9ydGVkLCBlbHNlIGZhbHNlLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5pc1dlYlB1c2hTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKCh3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3cubmF2aWdhdG9yKSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAnc2VydmljZVdvcmtlcicgaW4gd2luZG93Lm5hdmlnYXRvciAmJlxuICAgICAgICAgICAgJ1B1c2hNYW5hZ2VyJyBpbiB3aW5kb3cpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdGhlIGJyb3dzZXIgaXMgc3Vic2NyaWJlZCB0byB3ZWIgcHVzaCBub3RpZmljYXRpb25zLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFRydWUgaWYgc3Vic2NyaWJlZCwgZWxzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuaXNXZWJQdXNoU3Vic2NyaWJlZCA9IGZ1bmN0aW9uIChjbGllbnRVcmwpIHtcbiAgICAgICAgaWYgKGNsaWVudFVybCA9PT0gdm9pZCAwKSB7IGNsaWVudFVybCA9ICcnOyB9XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVnaXN0cmF0aW9uLCBzdWJzY3JpcHRpb24sIGlzU3Vic2NyaWJlZDtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1dlYlB1c2hTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBmYWxzZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmdldFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24oY2xpZW50VXJsKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVnaXN0cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGZhbHNlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5nZXRTdWJzY3JpcHRpb24oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU3Vic2NyaWJlZCA9IHN1YnNjcmlwdGlvbiAhPT0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgaXNTdWJzY3JpYmVkXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBmb3IgV2ViUHVzaC5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgc2VydmljZVdvcmtlclVybCBUaGUgdXJsIHRoYXQgc2VydmVzIHRoZSBzZXJ2aWNlIHdvcmtlciBvbiB5b3VyIGRvbWFpbi5cbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICAgICBUaGUgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdpdGggcmVzdWx0LlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFRydWUgaWYgc3Vic2NyaWJlZCwgZWxzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAoc2VydmljZVdvcmtlclVybCwgc2NvcGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIHN1YnNjcmlwdGlvbiwgaXNTdWJzY3JpYmVkLCBlcnJvcl8xO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzV2ViUHVzaFN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBQdXNoIG1lc3NhZ2luZyBpcyBub3Qgc3VwcG9ydGVkLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBjYWxsYmFjayhmYWxzZSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsIDQsICwgNV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKHNlcnZpY2VXb3JrZXJVcmwgfHwgJy9zdy5taW4uanMnLCBzY29wZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNTdWJzY3JpYmVkID0gc3Vic2NyaXB0aW9uICE9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTmV3U3Vic2NyaXB0aW9uT25TZXJ2ZXIoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBjYWxsYmFjayhpc1N1YnNjcmliZWQpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfMSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogU2VydmljZSBXb3JrZXIgRXJyb3I6ICcsIGVycm9yXzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNhbGxiYWNrKGZhbHNlKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZSB0aGUgdXNlciAoYnJvd3NlcikgdG8gcHVzaC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBSZXNvbHZlcyBpZiBzdWJzY3JpcHRpb24gc3VjY2Vzc2Z1bCwgb3RoZXJ3aXNlIHJlamVjdHMuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnN1YnNjcmliZVVzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXBwbGljYXRpb25TZXJ2ZXJLZXksIHN1YnNjcmlwdGlvbiwgZXJyb3JfMjtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uU2VydmVyS2V5ID0gdGhpcy51cmxCNjRUb1VpbnQ4QXJyYXkoQVBQTElDQVRJT05fU0VSVkVSX1BVQkxJQ19LRVkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzEsIDMsICwgNF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJWaXNpYmxlT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25TZXJ2ZXJLZXk6IGFwcGxpY2F0aW9uU2VydmVyS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTmV3U3Vic2NyaXB0aW9uT25TZXJ2ZXIoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl8yID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGVhbnBsdW06IEZhaWxlZCB0byBzdWJzY3JpYmUgdGhlIHVzZXI6IFwiLmNvbmNhdChlcnJvcl8yKSk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRydWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVuc3Vic2NyaWJlIHRoZSB1c2VyKGJyb3dzZXIpIGZyb20gcHVzaC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBSZXNvbHZlcyBpZiB1bnN1YnNjcmliZWQsIG90aGVyd2lzZSByZWplY3RzLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS51bnN1YnNjcmliZVVzZXIgPSBmdW5jdGlvbiAoY2xpZW50VXJsKSB7XG4gICAgICAgIGlmIChjbGllbnRVcmwgPT09IHZvaWQgMCkgeyBjbGllbnRVcmwgPSAnJzsgfVxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgUHJvbWlzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmliZWQsIHN1YnNjcmlwdGlvbiwgZXJyb3JfMztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5pc1dlYlB1c2hTdWJzY3JpYmVkKGNsaWVudFVybCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVkID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVkKSByZXR1cm4gWzMgLypicmVhayovLCA2XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsyLCA1LCAsIDZdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5nZXRTdWJzY3JpcHRpb24oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl8zID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGVhbnBsdW06IEVycm9yIHVuc3Vic2NyaWJpbmc6IFwiLmNvbmNhdChlcnJvcl8zKSk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgc2VydmljZSB3b3JrZXIgcmVnaXN0cmF0aW9uIG9iamVjdCBmcm9tIGJyb3dzZXIuXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBSZXR1cm5zIHRoZSByZWdpc3RyYXRpb24gb3IgbnVsbC5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuZ2V0U2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9IGZ1bmN0aW9uIChjbGllbnRVcmwpIHtcbiAgICAgICAgaWYgKGNsaWVudFVybCA9PT0gdm9pZCAwKSB7IGNsaWVudFVybCA9ICcnOyB9XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISF0aGlzLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24pIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXJ2aWNlV29ya2VyLmdldFJlZ2lzdHJhdGlvbihjbGllbnRVcmwpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmNvZGVzIGEgYmFzZTY0IFVSTCBzdHJpbmcgdG8gYW4gVWludDggYXJyYXkuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnVybEI2NFRvVWludDhBcnJheSA9IGZ1bmN0aW9uIChiYXNlNjRTdHJpbmcpIHtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSAnPScucmVwZWF0KCg0IC0gYmFzZTY0U3RyaW5nLmxlbmd0aCAlIDQpICUgNCk7XG4gICAgICAgIHZhciBiYXNlNjQgPSAoYmFzZTY0U3RyaW5nICsgcGFkZGluZykucmVwbGFjZSgvLS9nLCAnKycpLnJlcGxhY2UoL18vZywgJy8nKTtcbiAgICAgICAgdmFyIHJhd0RhdGEgPSB0aGlzLmRlY29kZURhdGEoYmFzZTY0KTtcbiAgICAgICAgdmFyIG91dHB1dEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkocmF3RGF0YS5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhd0RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIG91dHB1dEFycmF5W2ldID0gcmF3RGF0YS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXRBcnJheTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmQgYSBuZXcgc3Vic2NyaXB0aW9uIG9iamVjdCB0byB0aGUgTGVhbnBsdW0gc2VydmVyLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdWJzY3JpcHRpb24gVGhlIHN1YnNjcmlwdGlvbi5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUudXBkYXRlTmV3U3Vic2NyaXB0aW9uT25TZXJ2ZXIgPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHZhciBwcmVwYXJlZFN1YnNjcmlwdGlvbiA9IHRoaXMucHJlcGFyZVN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgdmFyIHByZXBhcmVkU3Vic2NyaXB0aW9uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkocHJlcGFyZWRTdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgdmFyIGV4aXN0aW5nU3Vic2NyaXB0aW9uU3RyaW5nID0gU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5QVVNIX1NVQlNDUklQVElPTik7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdTdWJzY3JpcHRpb25TdHJpbmcgIT09IHByZXBhcmVkU3Vic2NyaXB0aW9uU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmUoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuUFVTSF9TVUJTQ1JJUFRJT04sIHByZXBhcmVkU3Vic2NyaXB0aW9uU3RyaW5nKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN1YnNjcmlwdGlvbihwcmVwYXJlZFN1YnNjcmlwdGlvblN0cmluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5wcmVwYXJlU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICB2YXIga2V5ID0gKCdnZXRLZXknIGluIHN1YnNjcmlwdGlvbikgPyBzdWJzY3JpcHRpb24uZ2V0S2V5KCdwMjU2ZGgnKSA6IFtdO1xuICAgICAgICB2YXIgYXV0aCA9ICgnZ2V0S2V5JyBpbiBzdWJzY3JpcHRpb24pID8gc3Vic2NyaXB0aW9uLmdldEtleSgnYXV0aCcpIDogW107XG4gICAgICAgIHZhciBrZXlBc2NpaSA9IHRoaXMuZW5jb2RlRGF0YShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGtleSkpKTtcbiAgICAgICAgdmFyIGF1dGhBc2NpaSA9IHRoaXMuZW5jb2RlRGF0YShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGF1dGgpKSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbmRwb2ludDogc3Vic2NyaXB0aW9uLmVuZHBvaW50LFxuICAgICAgICAgICAga2V5OiBrZXlBc2NpaSxcbiAgICAgICAgICAgIGF1dGg6IGF1dGhBc2NpaSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmQgdGhlIHN1YnNjcmlwdGlvbiB0byB0aGUgTGVhbnBsdW0gc2VydmVyLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdWJzY3JpcHRpb24gVGhlIHN1YnNjcmlwdGlvbiBzdHJpbmcuXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnNldFN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KCkuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLldFQl9QVVNIX1NVQlNDUklQVElPTiwgc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuU0VUX0RFVklDRV9BVFRSSUJVVEVTLCBhcmdzLCB7XG4gICAgICAgICAgICAgICAgcXVldWVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5lbmNvZGVEYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5idG9hKGRhdGEpO1xuICAgIH07XG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLmRlY29kZURhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gd2luZG93LmF0b2IoZGF0YSk7XG4gICAgfTtcbiAgICByZXR1cm4gUHVzaE1hbmFnZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gUHVzaE1hbmFnZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTmV0d29ya18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL05ldHdvcmtcIikpO1xuLyoqXG4gKiBTb2NrZXQuaW8gMS4wIGNsaWVudCBjbGFzcy5cbiAqL1xudmFyIFNvY2tldElvQ2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGEgbmV3IFNvY2tldElvQ2xpZW50LCBub3QgY29ubmVjdGVkIGJ5IGRlZmF1bHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU29ja2V0SW9DbGllbnQoKSB7XG4gICAgICAgIHRoaXMubmV0d29yayA9IG5ldyBOZXR3b3JrXzEuZGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb25uZWN0aW5nID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbm5lY3RzIHRvIHRoZSBnaXZlbiBzb2NrZXRIb3N0LlxuICAgICAqIEBwYXJhbSBzb2NrZXRIb3N0IFRoZSBob3N0IHRvIGNvbm5lY3QgdG8uXG4gICAgICovXG4gICAgU29ja2V0SW9DbGllbnQucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAoc29ja2V0SG9zdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmNvbm5lY3RpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLm5ldHdvcmsuYWpheCgnUE9TVCcsIFwiaHR0cHM6Ly9cIi5jb25jYXQoc29ja2V0SG9zdCwgXCIvc29ja2V0LmlvLzFcIiksICcnLCBmdW5jdGlvbiAobGluZSkge1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgdmFyIHNlc3Npb24gPSBwYXJ0c1swXTtcbiAgICAgICAgICAgIHZhciBoZWFydGJlYXQgPSBwYXJzZUludChwYXJ0c1sxXSkgLyAyICogMTAwMDtcbiAgICAgICAgICAgIF90aGlzLnNvY2tldCA9IG5ldyBXZWJTb2NrZXQoXCJ3c3M6Ly9cIi5jb25jYXQoc29ja2V0SG9zdCwgXCIvc29ja2V0LmlvLzEvd2Vic29ja2V0L1wiKS5jb25jYXQoc2Vzc2lvbikpO1xuICAgICAgICAgICAgdmFyIGhlYXJ0YmVhdEludGVydmFsID0gbnVsbDtcbiAgICAgICAgICAgIF90aGlzLnNvY2tldC5vbm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLm9ub3Blbikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbm9wZW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGVhcnRiZWF0SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNvY2tldC5zZW5kKCcyOjo6Jyk7XG4gICAgICAgICAgICAgICAgfSwgaGVhcnRiZWF0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5zb2NrZXQub25jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGhlYXJ0YmVhdEludGVydmFsKTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMub25jbG9zZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLnNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZVBhcnRzID0gZXZlbnQuZGF0YS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgICAgIHZhciBjb2RlID0gcGFyc2VJbnQobWVzc2FnZVBhcnRzWzBdKTtcbiAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXQuc2VuZCgnMjo6Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvZGUgPT09IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VJZCA9IG1lc3NhZ2VQYXJ0c1sxXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKG1lc3NhZ2VQYXJ0cy5zbGljZSgzKS5qb2luKCc6JykpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZUV2ZW50ID0gZGF0YS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGRhdGEuYXJncztcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc29ja2V0LnNlbmQoXCI2Ojo6XCIuY29uY2F0KG1lc3NhZ2VJZCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vbm1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm9ubWVzc2FnZShtZXNzYWdlRXZlbnQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvZGUgPT09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTb2NrZXQgZXJyb3I6IFwiLmNvbmNhdChldmVudC5kYXRhKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLnNvY2tldC5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc29ja2V0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLm9uZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub25lcnJvcihldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSwgbnVsbCwgZmFsc2UsIHRydWUgLy8gbnVsbCwgcXVldWVkLCBwbGFpblRleHRcbiAgICAgICAgKTtcbiAgICB9O1xuICAgIFNvY2tldElvQ2xpZW50LnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNvY2tldC5jbG9zZSgpO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmRzIGdpdmVuIGV2ZW50IHdpdGggYXJndW1lbnRzIHRvIHRoZSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgZXZlbnQuXG4gICAgICogQHBhcmFtIGFyZ3MgQXJndW1lbnRzIHRvIHNlbmQuXG4gICAgICovXG4gICAgU29ja2V0SW9DbGllbnQucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAobmFtZSwgYXJncykge1xuICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IFNvY2tldCBpcyBub3QgY29ubmVjdGVkLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzSnNvbiA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBhcmdzOiBhcmdzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zb2NrZXQuc2VuZChcIjU6OjpcIi5jb25jYXQoYXJnc0pzb24pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0gVGhlIHRpbWVvdXQgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBTb2NrZXRJb0NsaWVudC5wcm90b3R5cGUuc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICB0aGlzLm5ldHdvcmsuc2V0TmV0d29ya1RpbWVvdXQoc2Vjb25kcyk7XG4gICAgfTtcbiAgICByZXR1cm4gU29ja2V0SW9DbGllbnQ7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gU29ja2V0SW9DbGllbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgc3RvcmFnZUVuYWJsZWQgPSB7XG4gICAgbG9jYWw6IHRydWUsXG4gICAgc2Vzc2lvbjogdHJ1ZSxcbn07XG52YXIgYWx0ZXJuYXRlU3RvcmFnZSA9IHtcbiAgICBsb2NhbDoge30sXG4gICAgc2Vzc2lvbjoge30sXG59O1xudmFyIFN0b3JhZ2VNYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0b3JhZ2VNYW5hZ2VyKCkge1xuICAgIH1cbiAgICBTdG9yYWdlTWFuYWdlci5nZXQgPSBmdW5jdGlvbiAoa2V5LCB0eXBlKSB7XG4gICAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9ICdsb2NhbCc7IH1cbiAgICAgICAgaWYgKCFzdG9yYWdlRW5hYmxlZFt0eXBlXSkge1xuICAgICAgICAgICAgcmV0dXJuIGFsdGVybmF0ZVN0b3JhZ2VbdHlwZV1ba2V5XTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdsb2NhbCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBzdG9yYWdlRW5hYmxlZFt0eXBlXSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIGFsdGVybmF0ZVN0b3JhZ2VbdHlwZV1ba2V5XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RvcmFnZU1hbmFnZXIuc2F2ZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlLCB0eXBlKSB7XG4gICAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9ICdsb2NhbCc7IH1cbiAgICAgICAgaWYgKCFzdG9yYWdlRW5hYmxlZFt0eXBlXSkge1xuICAgICAgICAgICAgYWx0ZXJuYXRlU3RvcmFnZVt0eXBlXVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnbG9jYWwnKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHN0b3JhZ2VFbmFibGVkW3R5cGVdID0gZmFsc2U7XG4gICAgICAgICAgICBhbHRlcm5hdGVTdG9yYWdlW3R5cGVdW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RvcmFnZU1hbmFnZXIucmVtb3ZlID0gZnVuY3Rpb24gKGtleSwgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSAnbG9jYWwnOyB9XG4gICAgICAgIGlmICghc3RvcmFnZUVuYWJsZWRbdHlwZV0pIHtcbiAgICAgICAgICAgIGRlbGV0ZSBhbHRlcm5hdGVTdG9yYWdlW3R5cGVdW2tleV07XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnbG9jYWwnKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgc3RvcmFnZUVuYWJsZWRbdHlwZV0gPSBmYWxzZTtcbiAgICAgICAgICAgIGRlbGV0ZSBhbHRlcm5hdGVTdG9yYWdlW3R5cGVdW2tleV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTdG9yYWdlTWFuYWdlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBTdG9yYWdlTWFuYWdlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFZhbHVlVHJhbnNmb3JtcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWYWx1ZVRyYW5zZm9ybXMoKSB7XG4gICAgfVxuICAgIFZhbHVlVHJhbnNmb3Jtcy5kZWNvZGVDb2xvciA9IGZ1bmN0aW9uIChjb2xvcikge1xuICAgICAgICB2YXIgYiA9IGNvbG9yICYgMHhmZjtcbiAgICAgICAgY29sb3IgPj49IDg7XG4gICAgICAgIHZhciBnID0gY29sb3IgJiAweGZmO1xuICAgICAgICBjb2xvciA+Pj0gODtcbiAgICAgICAgdmFyIHIgPSBjb2xvciAmIDB4ZmY7XG4gICAgICAgIGNvbG9yID4+PSA4O1xuICAgICAgICB2YXIgYSA9IChjb2xvciAmIDB4ZmYpIC8gMjU1O1xuICAgICAgICByZXR1cm4gXCJyZ2JhKFwiLmNvbmNhdChyLCBcIixcIikuY29uY2F0KGcsIFwiLFwiKS5jb25jYXQoYiwgXCIsXCIpLmNvbmNhdChhLCBcIilcIik7XG4gICAgfTtcbiAgICBWYWx1ZVRyYW5zZm9ybXMuZW5jb2RlQ29sb3IgPSBmdW5jdGlvbiAoY29sb3IpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgfVxuICAgICAgICAvLyByZ2JhIC0+IG51bWJlclxuICAgICAgICB2YXIgcmdiYVJlID0gL15yZ2JhXFwoKFxcZCspLChcXGQrKSwoXFxkKyksKFxcZCsoXFwuXFxkKyk/KVxcKSQvO1xuICAgICAgICB2YXIgcmdiYSA9IHJnYmFSZS5leGVjKGNvbG9yKTtcbiAgICAgICAgaWYgKHJnYmEpIHtcbiAgICAgICAgICAgIHZhciBhID0gcGFyc2VJbnQocmdiYVs0XSwgMTApICogMjU1O1xuICAgICAgICAgICAgdmFyIHIgPSBwYXJzZUludChyZ2JhWzFdLCAxMCkgJiAweGZmO1xuICAgICAgICAgICAgdmFyIGcgPSBwYXJzZUludChyZ2JhWzJdLCAxMCkgJiAweGZmO1xuICAgICAgICAgICAgdmFyIGIgPSBwYXJzZUludChyZ2JhWzNdLCAxMCkgJiAweGZmO1xuICAgICAgICAgICAgcmV0dXJuIChhIDw8IDI0KSArIChyIDw8IDE2KSArIChnIDw8IDgpICsgYjtcbiAgICAgICAgfVxuICAgICAgICAvLyBoZXggLT4gbnVtYmVyXG4gICAgICAgIHZhciBoZXhSZSA9IC9eIyhbMC05YS1mXXsyfSkoWzAtOWEtZl17Mn0pKFswLTlhLWZdezJ9KSQvaTtcbiAgICAgICAgdmFyIGhleCA9IGhleFJlLmV4ZWMoY29sb3IpO1xuICAgICAgICBpZiAoaGV4KSB7XG4gICAgICAgICAgICB2YXIgciA9IHBhcnNlSW50KGhleFsxXSwgMTYpICYgMHhmZjtcbiAgICAgICAgICAgIHZhciBnID0gcGFyc2VJbnQoaGV4WzJdLCAxNikgJiAweGZmO1xuICAgICAgICAgICAgdmFyIGIgPSBwYXJzZUludChoZXhbM10sIDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICByZXR1cm4gKDI1NSA8PCAyNCkgKyAociA8PCAxNikgKyAoZyA8PCA4KSArIGI7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IHBhcnNlIGNvbG9yIFxcXCJcIi5jb25jYXQoY29sb3IsIFwiXFxcIlwiKSk7XG4gICAgfTtcbiAgICByZXR1cm4gVmFsdWVUcmFuc2Zvcm1zO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFZhbHVlVHJhbnNmb3JtcztcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBTdG9yYWdlTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1N0b3JhZ2VNYW5hZ2VyXCIpKTtcbnZhciBWYWx1ZVRyYW5zZm9ybXNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9WYWx1ZVRyYW5zZm9ybXNcIikpO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuLy8gdHJhbnNmb3JtcyB0aGUgc2VydmVyIHJlc3BvbnNlIHRvIHRoZSBmb3JtYXQgZXhwZWN0ZWQgYnkgc2V0VmFyc1xuLy8gLSBsb3dlcmNhc2Uga2luZHNcbi8vIC0gYWN0aW9ucyBhcyBlbXB0eSBzdHJpbmdzXG5mdW5jdGlvbiB0b1NldFZhcnNGb3JtYXQobykge1xuICAgIGlmICghbylcbiAgICAgICAgcmV0dXJuIG87XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG8pLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBhY3Rpb24pIHtcbiAgICAgICAgYWNjW2FjdGlvbl0gPSBfX2Fzc2lnbih7fSwgb1thY3Rpb25dKTtcbiAgICAgICAgdmFyIGtpbmRzID0gb1thY3Rpb25dLmtpbmRzO1xuICAgICAgICBpZiAoa2luZHMpIHtcbiAgICAgICAgICAgIGFjY1thY3Rpb25dLmtpbmRzID0gT2JqZWN0LmtleXMoa2luZHMpXG4gICAgICAgICAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAoaywga3gpIHtcbiAgICAgICAgICAgICAgICB2YXIga2luZCA9IGtpbmRzW2t4XS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGtba3hdID0ga2luZDtcbiAgICAgICAgICAgICAgICBpZiAoa2luZCA9PT0gJ2FjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgYWNjW2FjdGlvbl0udmFsdWVzW2t4XSA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaztcbiAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn1cbnZhciBWYXJDYWNoZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWYXJDYWNoZShjcmVhdGVSZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4gICAgICAgIHRoaXMuYWN0aW9uRGVmaW5pdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5oYXNSZWNlaXZlZERpZmZzID0gZmFsc2U7XG4gICAgICAgIHRoaXMubWVyZ2VkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnZhcmlhYmxlcyA9IG51bGw7XG4gICAgICAgIHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzID0gW107XG4gICAgICAgIHRoaXMudmFyaWFudERlYnVnSW5mbyA9IHt9O1xuICAgICAgICB0aGlzLmRpZmZzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRva2VuID0gJyc7XG4gICAgICAgIHRoaXMudmFyaWFudHMgPSBbXTtcbiAgICB9XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmFwcGx5RGlmZnMgPSBmdW5jdGlvbiAoZGlmZnMsIHZhcmlhbnRzLCBhY3Rpb25EZWZpbml0aW9ucykge1xuICAgICAgICB0aGlzLmRpZmZzID0gZGlmZnM7XG4gICAgICAgIHRoaXMudmFyaWFudHMgPSB2YXJpYW50cztcbiAgICAgICAgdGhpcy5hY3Rpb25EZWZpbml0aW9ucyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCB0aGlzLmFjdGlvbkRlZmluaXRpb25zKSwgdG9TZXRWYXJzRm9ybWF0KGFjdGlvbkRlZmluaXRpb25zKSk7XG4gICAgICAgIHRoaXMuaGFzUmVjZWl2ZWREaWZmcyA9IHRydWU7XG4gICAgICAgIHRoaXMubWVyZ2VkID0gbWVyZ2VIZWxwZXIodGhpcy52YXJpYWJsZXMsIGRpZmZzKTtcbiAgICAgICAgdGhpcy5zYXZlRGlmZnMoKTtcbiAgICAgICAgaWYgKHRoaXMub25VcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMub25VcGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmxvYWREaWZmcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlEaWZmcyhKU09OLnBhcnNlKHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBQkxFUykgfHwgbnVsbCksIEpTT04ucGFyc2UodGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFOVFMpIHx8IG51bGwpLCBKU09OLnBhcnNlKHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkFDVElPTl9ERUZJTklUSU9OUykgfHwgbnVsbCkpO1xuICAgICAgICAgICAgdGhpcy50b2tlbiA9IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlRPS0VOKTtcbiAgICAgICAgICAgIHRoaXMudmFyaWFudERlYnVnSW5mbyA9IHRoaXMubG9hZExvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBTlRfREVCVUdfSU5GTyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGVhbnBsdW06IEludmFsaWQgZGlmZnM6IFwiLmNvbmNhdChlKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zYXZlRGlmZnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBQkxFUywgSlNPTi5zdHJpbmdpZnkodGhpcy5kaWZmcyB8fCB7fSkpO1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5WQVJJQU5UUywgSlNPTi5zdHJpbmdpZnkodGhpcy52YXJpYW50cyB8fCBbXSkpO1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5BQ1RJT05fREVGSU5JVElPTlMsIEpTT04uc3RyaW5naWZ5KHRoaXMuYWN0aW9uRGVmaW5pdGlvbnMgfHwge30pKTtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFOVF9ERUJVR19JTkZPLCBKU09OLnN0cmluZ2lmeSh0aGlzLnZhcmlhbnREZWJ1Z0luZm8gfHwge30pKTtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVE9LRU4sIHRoaXMudG9rZW4pO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmdldFZhcmlhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5nZXRWYXJpYWJsZXMoKTtcbiAgICAgICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50W2FyZ3NbaV1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmdldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVyZ2VkICE9PSB1bmRlZmluZWQgPyB0aGlzLm1lcmdlZCA6IHRoaXMudmFyaWFibGVzO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNldFZhcmlhYmxlcyA9IGZ1bmN0aW9uICh2YXJpYWJsZXMpIHtcbiAgICAgICAgdGhpcy52YXJpYWJsZXMgPSB2YXJpYWJsZXM7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLnZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgICAgICBpZiAodGhpcy5oYXNSZWNlaXZlZERpZmZzKSB7XG4gICAgICAgICAgICBoYW5kbGVyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5yZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHZhciBpZHggPSB0aGlzLnZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpO1xuICAgICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUudHJpZ2dlclZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy52YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnNbaV0oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmdldFZhcmlhbnREZWJ1Z0luZm8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhcmlhbnREZWJ1Z0luZm87XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2V0VmFyaWFudERlYnVnSW5mbyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZhcmlhbnREZWJ1Z0luZm8gPSB2YWx1ZTtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zZW5kQWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIU9iamVjdC5rZXlzKHRoaXMuYWN0aW9uRGVmaW5pdGlvbnMpLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0VmFycygoX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW0NvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkFDVElPTl9ERUZJTklUSU9OU10gPSB0aGlzLmFjdGlvbkRlZmluaXRpb25zLFxuICAgICAgICAgICAgX2EpKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2VuZFZhcmlhYmxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLnNldFZhcnMoKF9hID0ge30sXG4gICAgICAgICAgICBfYVtDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5WQVJJQUJMRVNdID0gdGhpcy52YXJpYWJsZXMsXG4gICAgICAgICAgICBfYSkpO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNldFZhcnMgPSBmdW5jdGlvbiAoYm9keSkge1xuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKS5ib2R5KEpTT04uc3RyaW5naWZ5KGJvZHkpKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TRVRfVkFSUywgYXJncywge1xuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuY2xlYXJVc2VyQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kaWZmcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy52YXJpYWJsZXMgPSBudWxsO1xuICAgICAgICB0aGlzLnZhcmlhbnRzID0gW107XG4gICAgICAgIHRoaXMudmFyaWFudERlYnVnSW5mbyA9IHt9O1xuICAgICAgICB0aGlzLm1lcmdlZCA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5yZWdpc3RlckFjdGlvbkRlZmluaXRpb24gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB0aGlzLmFjdGlvbkRlZmluaXRpb25zW29wdGlvbnMubmFtZV0gPSBvcHRpb25zVG9EZWZpbml0aW9ucyhvcHRpb25zKTtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5sb2FkTG9jYWwgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0KGtleSk7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2F2ZUxvY2FsID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmUoa2V5LCB2YWx1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gVmFyQ2FjaGU7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gVmFyQ2FjaGU7XG5mdW5jdGlvbiBhcmd1bWVudFRyZWUoYXJncykge1xuICAgIHJldHVybiBhcmdzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCB4KSB7XG4gICAgICAgIGlmICh4LnZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGFjY1t4Lm5hbWVdID0gYXJndW1lbnRUcmVlKHgudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHgudHlwZSA9PT0gJ2FjdGlvbicpIHtcbiAgICAgICAgICAgIGFjY1t4Lm5hbWVdID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoeC50eXBlID09PSAnY29sb3InKSB7XG4gICAgICAgICAgICBhY2NbeC5uYW1lXSA9IFZhbHVlVHJhbnNmb3Jtc18xLmRlZmF1bHQuZW5jb2RlQ29sb3IoeC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhY2NbeC5uYW1lXSA9IHgudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG59XG5mdW5jdGlvbiBhcmd1bWVudEtpbmRzKGFyZ3MsIHByZWZpeCkge1xuICAgIGlmIChwcmVmaXggPT09IHZvaWQgMCkgeyBwcmVmaXggPSAnJzsgfVxuICAgIHJldHVybiBhcmdzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCB4KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIHByb3BOYW1lID0gXCJcIi5jb25jYXQocHJlZml4KS5jb25jYXQoeC5uYW1lKTtcbiAgICAgICAgaWYgKHgudmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgYWNjID0gX19hc3NpZ24oKF9hID0ge30sIF9hW3Byb3BOYW1lXSA9ICdncm91cCcsIF9hKSwgYXJndW1lbnRLaW5kcyh4LnZhbHVlLCBcIlwiLmNvbmNhdChwcm9wTmFtZSwgXCIuXCIpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhY2NbcHJvcE5hbWVdID0geC50eXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG59XG5mdW5jdGlvbiBvcHRpb25zVG9EZWZpbml0aW9ucyhvcHRpb25zKSB7XG4gICAgdmFyIGRlZmluaXRpb25zID0ge1xuICAgICAgICBraW5kOiBvcHRpb25zLmtpbmQgfHwgMyxcbiAgICAgICAgb3B0aW9uczogbnVsbCxcbiAgICAgICAgdmFsdWVzOiBhcmd1bWVudFRyZWUob3B0aW9ucy5hcmdzKSxcbiAgICAgICAga2luZHM6IGFyZ3VtZW50S2luZHMob3B0aW9ucy5hcmdzKSxcbiAgICB9O1xuICAgIHJldHVybiBkZWZpbml0aW9ucztcbn1cbmZ1bmN0aW9uIG1lcmdlSGVscGVyKHZhcnMsIGRpZmYpIHtcbiAgICBpZiAodHlwZW9mIGRpZmYgPT09ICdudW1iZXInIHx8IHR5cGVvZiBkaWZmID09PSAnYm9vbGVhbicgfHwgdHlwZW9mIGRpZmYgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgIH1cbiAgICBpZiAoZGlmZiA9PT0gbnVsbCB8fCBkaWZmID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHZhcnM7XG4gICAgfVxuICAgIHZhciBvYmpJdGVyYXRvciA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGl0ZXJhdGUoZikge1xuICAgICAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZihvYmpbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGF0dHIgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgc2VlbXMgdG8gYmUgYmVzdCBwcmFjdGljZTogaHR0cHM6Ly9naXRodWIuY29tL2VzbGludC9lc2xpbnQvaXNzdWVzLzcwNzFcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZWZsZWN0XG4gICAgICAgICAgICAgICAgICAgIGlmICh7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgYXR0cikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGYoYXR0cik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbiAgICB2YXIgdmFyc0l0ZXJhdG9yID0gb2JqSXRlcmF0b3IodmFycyk7XG4gICAgdmFyIGRpZmZJdGVyYXRvciA9IG9iakl0ZXJhdG9yKGRpZmYpO1xuICAgIC8vIEluZmVyIHRoYXQgdGhlIGRpZmZzIGlzIGFuIGFycmF5IGlmIHRoZSB2YXJzIHZhbHVlIGRvZXNuJ3QgZXhpc3QgdG8gdGVsbCB1cyB0aGUgdHlwZS5cbiAgICB2YXIgaXNBcnJheSA9IGZhbHNlO1xuICAgIGlmICh2YXJzID09PSBudWxsKSB7XG4gICAgICAgIGlmICghKGRpZmYgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgIGlzQXJyYXkgPSBudWxsO1xuICAgICAgICAgICAgZm9yICh2YXIgYXR0cmlidXRlIGluIGRpZmYpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWRpZmYuaGFzT3duUHJvcGVydHkoYXR0cmlidXRlKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNBcnJheSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghKHR5cGVvZiBhdHRyaWJ1dGUgPT09ICdzdHJpbmcnKSkge1xuICAgICAgICAgICAgICAgICAgICBpc0FycmF5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLmxlbmd0aCA8IDMgfHwgYXR0cmlidXRlLmNoYXJBdCgwKSAhPT0gJ1snIHx8XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5jaGFyQXQoYXR0cmlidXRlLmxlbmd0aCAtIDEpICE9PSAnXScpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNBcnJheSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gTWVyZ2UgYXJyYXlzLlxuICAgIGlmICh2YXJzIGluc3RhbmNlb2YgQXJyYXkgfHwgaXNBcnJheSkge1xuICAgICAgICB2YXIgbWVyZ2VkXzEgPSBbXTtcbiAgICAgICAgdmFyc0l0ZXJhdG9yKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAgICAgICBtZXJnZWRfMS5wdXNoKGF0dHIpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGlmZkl0ZXJhdG9yKGZ1bmN0aW9uICh2YXJTdWJzY3JpcHQpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHQgPSBwYXJzZUludCh2YXJTdWJzY3JpcHQuc3Vic3RyaW5nKDEsIHZhclN1YnNjcmlwdC5sZW5ndGggLSAxKSk7XG4gICAgICAgICAgICB2YXIgZGlmZlZhbHVlID0gZGlmZlt2YXJTdWJzY3JpcHRdO1xuICAgICAgICAgICAgd2hpbGUgKHN1YnNjcmlwdCA+PSBtZXJnZWRfMS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBtZXJnZWRfMS5wdXNoKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWVyZ2VkXzFbc3Vic2NyaXB0XSA9IG1lcmdlSGVscGVyKG1lcmdlZF8xW3N1YnNjcmlwdF0sIGRpZmZWYWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWVyZ2VkXzE7XG4gICAgfVxuICAgIC8vIE1lcmdlIGRpY3Rpb25hcmllcy5cbiAgICB2YXIgbWVyZ2VkID0ge307XG4gICAgdmFyc0l0ZXJhdG9yKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAgIGlmIChkaWZmW2F0dHJdID09PSBudWxsIHx8IGRpZmZbYXR0cl0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbWVyZ2VkW2F0dHJdID0gdmFyc1thdHRyXTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGRpZmZJdGVyYXRvcihmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICBtZXJnZWRbYXR0cl0gPSBtZXJnZUhlbHBlcih2YXJzID09PSBudWxsID8gbnVsbCA6IHZhcnNbYXR0cl0gfHwge30sIGRpZmZbYXR0cl0pO1xuICAgIH0pO1xuICAgIHJldHVybiBtZXJnZWQ7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdmFyLXJlcXVpcmVzICovXG52YXIgTGVhbnBsdW0gPSByZXF1aXJlKCcuLi9MZWFucGx1bS50cycpO1xubW9kdWxlLmV4cG9ydHMgPSBMZWFucGx1bS5kZWZhdWx0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1pZ3JhdGlvblN0YXRlID0gdm9pZCAwO1xudmFyIE1pZ3JhdGlvblN0YXRlO1xuKGZ1bmN0aW9uIChNaWdyYXRpb25TdGF0ZSkge1xuICAgIE1pZ3JhdGlvblN0YXRlW1wiVU5LTk9XTlwiXSA9IFwidW5rbm93blwiO1xuICAgIE1pZ3JhdGlvblN0YXRlW1wiTEVBTlBMVU1cIl0gPSBcImxwXCI7XG4gICAgTWlncmF0aW9uU3RhdGVbXCJEVVBMSUNBVEVcIl0gPSBcImxwK2N0XCI7XG4gICAgTWlncmF0aW9uU3RhdGVbXCJDTEVWRVJUQVBcIl0gPSBcImN0XCI7XG59KShNaWdyYXRpb25TdGF0ZSA9IGV4cG9ydHMuTWlncmF0aW9uU3RhdGUgfHwgKGV4cG9ydHMuTWlncmF0aW9uU3RhdGUgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1lc3NhZ2VLaW5kID0gZXhwb3J0cy5BY3Rpb25QYXJhbWV0ZXJUeXBlID0gdm9pZCAwO1xudmFyIEFjdGlvblBhcmFtZXRlclR5cGU7XG4oZnVuY3Rpb24gKEFjdGlvblBhcmFtZXRlclR5cGUpIHtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiSW50ZWdlclwiXSA9IFwiaW50ZWdlclwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJDb2xvclwiXSA9IFwiY29sb3JcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiRmxvYXRcIl0gPSBcImZsb2F0XCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkRlY2ltYWxcIl0gPSBcImRlY2ltYWxcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiTnVtYmVyXCJdID0gXCJudW1iZXJcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiQm9vbGVhblwiXSA9IFwiYm9vbFwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJTdHJpbmdcIl0gPSBcInN0cmluZ1wiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJUZXh0XCJdID0gXCJ0ZXh0XCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkhUTUxcIl0gPSBcImh0bWxcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiRmlsZVwiXSA9IFwiZmlsZVwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJMaXN0XCJdID0gXCJsaXN0XCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkdyb3VwXCJdID0gXCJncm91cFwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJBY3Rpb25cIl0gPSBcImFjdGlvblwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJVbmtub3duXCJdID0gXCJcIjtcbn0pKEFjdGlvblBhcmFtZXRlclR5cGUgPSBleHBvcnRzLkFjdGlvblBhcmFtZXRlclR5cGUgfHwgKGV4cG9ydHMuQWN0aW9uUGFyYW1ldGVyVHlwZSA9IHt9KSk7XG47XG52YXIgTWVzc2FnZUtpbmQ7XG4oZnVuY3Rpb24gKE1lc3NhZ2VLaW5kKSB7XG4gICAgTWVzc2FnZUtpbmRbTWVzc2FnZUtpbmRbXCJBY3Rpb25cIl0gPSAyXSA9IFwiQWN0aW9uXCI7XG4gICAgTWVzc2FnZUtpbmRbTWVzc2FnZUtpbmRbXCJUZW1wbGF0ZVwiXSA9IDNdID0gXCJUZW1wbGF0ZVwiO1xufSkoTWVzc2FnZUtpbmQgPSBleHBvcnRzLk1lc3NhZ2VLaW5kIHx8IChleHBvcnRzLk1lc3NhZ2VLaW5kID0ge30pKTtcbjtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdGxvYWRlZDogZmFsc2UsXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuXHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5ubWQgPSAobW9kdWxlKSA9PiB7XG5cdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdHJldHVybiBtb2R1bGU7XG59OyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MDQpO1xuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJpZCIsIl9jbGFzc1ByaXZhdGVGaWVsZExvb3NlS2V5IiwibmFtZSIsIl9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZSIsInJlY2VpdmVyIiwicHJpdmF0ZUtleSIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlR5cGVFcnJvciIsIlRBUkdFVF9ET01BSU4iLCJUQVJHRVRfUFJPVE9DT0wiLCJfYWNjb3VudElkIiwiX3JlZ2lvbiIsIl90YXJnZXREb21haW4iLCJfZGNTZGt2ZXJzaW9uIiwiX3Rva2VuIiwiQWNjb3VudCIsImNvbnN0cnVjdG9yIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwicmVnaW9uIiwidGFyZ2V0RG9tYWluIiwidG9rZW4iLCJkZWZpbmVQcm9wZXJ0eSIsInRoaXMiLCJ3cml0YWJsZSIsInZhbHVlIiwiYWNjb3VudElkIiwiZGNTREtWZXJzaW9uIiwiZmluYWxUYXJnZXREb21haW4iLCJjb25jYXQiLCJkYXRhUG9zdFBFVVJMIiwiZGF0YVBvc3RVUkwiLCJyZWNvcmRlclVSTCIsImVtYWlsVVJMIiwidW5zdXBwb3J0ZWRLZXlDaGFyUmVnZXgiLCJSZWdFeHAiLCJ1bnN1cHBvcnRlZFZhbHVlQ2hhclJlZ2V4Iiwic2luZ2xlUXVvdGVSZWdleCIsIkNMRUFSIiwiQ0hBUkdFRF9JRCIsIkNIQVJHRURJRF9DT09LSUVfTkFNRSIsIkdDT09LSUVfTkFNRSIsIktDT09LSUVfTkFNRSIsIkNBTVBfQ09PS0lFX05BTUUiLCJDQU1QX0NPT0tJRV9HIiwiRVZfQ09PS0lFIiwiTUVUQV9DT09LSUUiLCJQUl9DT09LSUUiLCJBUlBfQ09PS0lFIiwiTENPT0tJRV9OQU1FIiwiR0xPQkFMIiwiRElTUExBWSIsIk9QVE9VVF9LRVkiLCJVU0VJUF9LRVkiLCJMUlVfQ0FDSEUiLCJJU19PVUwiLCJFVlRfUFVTSCIsIkNPT0tJRV9FWFBJUlkiLCJjYXRlZ29yeUxvbmdLZXkiLCJXWlJLX1BSRUZJWCIsIldaUktfSUQiLCJOT1RJRklDQVRJT05fVklFV0VEIiwiTk9USUZJQ0FUSU9OX0NMSUNLRUQiLCJGSVJFX1BVU0hfVU5SRUdJU1RFUkVEIiwiUFVTSF9TVUJTQ1JJUFRJT05fREFUQSIsIkNPTU1BTkRfSU5DUkVNRU5UIiwiQ09NTUFORF9BREQiLCJDT01NQU5EX1JFTU9WRSIsIkNPTU1BTkRfREVMRVRFIiwiV0VCSU5CT1hfQ09ORklHIiwiV0VCSU5CT1giLCJQVVNIX0RFTEFZX01TIiwiV1pSS19GRVRDSCIsIlNZU1RFTV9FVkVOVFMiLCJpc1N0cmluZyIsImlucHV0IiwiU3RyaW5nIiwiaXNPYmplY3QiLCJ0b1N0cmluZyIsImlzRGF0ZU9iamVjdCIsIkRhdGUiLCJpc09iamVjdEVtcHR5Iiwib2JqIiwicHJvcCIsImlzQ29udmVydGlibGVUb051bWJlciIsIm4iLCJpc05hTiIsInBhcnNlRmxvYXQiLCJpc0Zpbml0ZSIsImlzTnVtYmVyIiwidGVzdCIsImlzVmFsdWVWYWxpZCIsInJlbW92ZVVuc3VwcG9ydGVkQ2hhcnMiLCJvIiwibG9nZ2VyIiwidmFsIiwic2FuaXRpemUiLCJzdWJzdHJpbmciLCJyZXBvcnRFcnJvciIsImtleSIsInNhbml0aXplZFZhbCIsInNhbml0aXplZEtleSIsInJlZ2V4IiwicmVwbGFjZSIsImdldFRvZGF5IiwidG9kYXkiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF5IiwiZ2V0Tm93IiwiTWF0aCIsImZsb29yIiwiZ2V0VGltZSIsImNvbnZlcnRUb1daUktEYXRlIiwiZGF0ZU9iaiIsInJvdW5kIiwic2V0RGF0ZSIsImR0IiwiaXNEYXRlVmFsaWQiLCJkYXRlIiwibWF0Y2hlcyIsImV4ZWMiLCJkIiwibSIsInkiLCJjb21wb3NlZERhdGUiLCJnZXREYXRlIiwiU3RvcmFnZU1hbmFnZXIiLCJzdGF0aWMiLCJfaXNMb2NhbFN0b3JhZ2VTdXBwb3J0ZWQiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJnZXRJdGVtIiwicGFyc2UiLCJlIiwicmVtb3ZlSXRlbSIsImRvbWFpbiIsImNvb2tpZVN0ciIsImRvY3VtZW50IiwiY29va2llIiwic2Vjb25kcyIsImV4cGlyZXMiLCJkb21haW5TdHIiLCJzZXRUaW1lIiwidG9HTVRTdHJpbmciLCJlbmNvZGVVUklDb21wb25lbnQiLCJuYW1lRVEiLCJjYSIsInNwbGl0IiwiaWR4IiwiYyIsImNoYXJBdCIsImluZGV4T2YiLCJkZWNvZGVVUklDb21wb25lbnQiLCJ3aW5kb3ciLCJwcm9wZXJ0eSIsInNhdmUiLCJjcmVhdGVDb29raWUiLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwiJGN0IiwiZ2xvYmFsQ2FjaGUiLCJyZWFkIiwicmVhZENvb2tpZSIsInRyaW0iLCJlcnIiLCJicm9hZERvbWFpbiIsImRvbWFpblBhcnRzIiwidGVzdEJyb2FkRG9tYWluIiwidGVzdENvb2tpZU5hbWUiLCJyZW1vdmVDb29raWUiLCJtZXRhT2JqIiwicmVhZEZyb21MU29yQ29va2llIiwid3pya01ldGFPYmoiLCJzYXZlVG9MU29yQ29va2llIiwiZ2V0TWV0YVByb3AiLCJzZXRNZXRhUHJvcCIsImsiLCJmbGFnIiwicmVxTm8iLCJiYWNrdXBBcnIiLCJxIiwiZGVidWciLCJyZXNwTm8iLCJiYWNrdXBNYXAiLCJnY29va2llIiwiUkVRX04iLCJSRVNQX04iLCJnbG9iYWxQcm9maWxlTWFwIiwiZ2xvYmFsRXZlbnRzTWFwIiwiYmxvY2tSZXF1ZXN0IiwiaXNPcHRJblJlcXVlc3QiLCJ3ZWJQdXNoRW5hYmxlZCIsImNhbXBhaWduRGl2TWFwIiwiY3VycmVudFNlc3Npb25JZCIsIndpel9jb3VudGVyIiwibm90aWZBcGkiLCJub3RpZkVuYWJsZWRGcm9tQXBpIiwidW5zdWJHcm91cHMiLCJ1cGRhdGVkQ2F0ZWdvcnlMb25nIiwiaW5ib3giLCJpc1ByaXZhY3lBcnJQdXNoZWQiLCJwcml2YWN5QXJyYXkiLCJvZmZsaW5lIiwiZGlzbWlzc1NwYW1Db250cm9sIiwiZ2xvYmFsVW5zdWJzY3JpYmUiLCJmbHV0dGVyVmVyc2lvbiIsInZhcmlhYmxlU3RvcmUiLCJfa2V5T3JkZXIiLCJfZGVsZXRlRnJvbU9iamVjdCIsIkxSVUNhY2hlIiwibWF4IiwiX2RlbGV0ZUZyb21PYmplY3QyIiwibHJ1Q2FjaGUiLCJ0ZW1wTHJ1Q2FjaGUiLCJjYWNoZSIsImVudHJ5IiwicHVzaCIsImdldCIsIml0ZW0iLCJzYXZlQ2FjaGVUb0xTIiwic2V0IiwiYWxsS2V5cyIsIm9ialRvQXJyYXkiLCJpbmRleCIsInRlbXAiLCJnZXRLZXkiLCJnZXRTZWNvbmRMYXN0S2V5Iiwia2V5c0FyciIsImdldExhc3RLZXkiLCJrZXlzTGVuZ3RoIiwibmV3Q2FjaGUiLCJpbmRleFRvRGVsZXRlIiwic3BsaWNlIiwiX2xvZ2dlciIsIl9yZXF1ZXN0IiwiX2RldmljZSIsIl9zZXNzaW9uIiwiQ2xldmVyVGFwQVBJIiwiX3JlZiIsInJlcXVlc3QiLCJkZXZpY2UiLCJzZXNzaW9uIiwicyIsImdsb2JhbCIsInJlc3VtZSIsInJlc3BOdW1iZXIiLCJvcHRPdXRSZXNwb25zZSIsIm91bFJlcSIsIm5ld0d1aWQiLCJpc09VTEluUHJvZ3Jlc3MiLCJvdWxSZXFOIiwicmVtb3ZlQmFja3VwIiwic2Vzc2lvbk9iaiIsImdldFNlc3Npb25Db29raWVPYmplY3QiLCJnZXRBbmRDbGVhck1ldGFQcm9wIiwia0lkRnJvbUxTIiwiZ3VpZEZyb21MUlVDYWNoZSIsImxhc3RLIiwibGFzdEdVSUQiLCJ1bnJlZ2lzdGVyVG9rZW5Gb3JHdWlkIiwiY3JlYXRlQnJvYWRDb29raWUiLCJtYW5hZ2VTZXNzaW9uIiwidCIsInNldFNlc3Npb25Db29raWVPYmplY3QiLCJwcm9jZXNzaW5nQmFja3VwIiwicHJvY2Vzc0JhY2t1cEV2ZW50cyIsIl9sb2dnZXIkMSIsIkRldmljZU1hbmFnZXIiLCJnZXRHdWlkIiwiZ3VpZCIsImVycm9yIiwiREFUQV9OT1RfU0VOVF9URVhUIiwiQ0xFVkVSVEFQX0VSUk9SX1BSRUZJWCIsIkVNQkVEX0VSUk9SIiwiRVZFTlRfRVJST1IiLCJHRU5ERVJfRVJST1IiLCJFTVBMT1lFRF9FUlJPUiIsIk1BUlJJRURfRVJST1IiLCJFRFVDQVRJT05fRVJST1IiLCJBR0VfRVJST1IiLCJET0JfRVJST1IiLCJFTlVNX0ZPUk1BVF9FUlJPUiIsIlBIT05FX0ZPUk1BVF9FUlJPUiIsIl9nbG9iYWxDaGFyZ2VkSWQiLCJpc0V2ZW50U3RydWN0dXJlRmxhdCIsImV2ZW50T2JqIiwiQXJyYXkiLCJpc0FycmF5IiwiaXNDaGFyZ2VkRXZlbnRTdHJ1Y3R1cmVWYWxpZCIsImNoYXJnZWRPYmoiLCJpdGVtS2V5IiwiY2hhcmdlZElkIiwiX2xvZ2dlciQyIiwiX29sZFZhbHVlcyIsIl9yZXF1ZXN0JDEiLCJfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUiLCJfcHJvY2Vzc0V2ZW50QXJyYXkiLCJFdmVudEhhbmRsZXIiLCJ2YWx1ZXMiLCJpc1BlcnNvbmFsaXNhdGlvbkFjdGl2ZSIsInN1cGVyIiwiX3Byb2Nlc3NFdmVudEFycmF5MiIsIl9sZW4iLCJldmVudHNBcnIiLCJfa2V5IiwiX3Byb2Nlc3NPbGRWYWx1ZXMiLCJnZXREZXRhaWxzIiwiZXZ0TmFtZSIsImV2dE9iaiIsInJlc3BPYmoiLCJmaXJzdFRpbWUiLCJsYXN0VGltZSIsImNvdW50IiwiZXZlbnROYW1lIiwic2hpZnQiLCJpbmNsdWRlcyIsImV2dERhdGEiLCJ1bnNoaWZ0IiwicHJvY2Vzc0V2ZW50IiwiZ2V0VVJMUGFyYW1zIiwidXJsIiwidXJsUGFyYW1zIiwidXJpIiwibWF0Y2giLCJwbCIsInNlYXJjaCIsImRlY29kZSIsInJlcGxhY2VtZW50IiwiYWRkVG9VUkwiLCJ2IiwiZ2V0SG9zdE5hbWUiLCJjb21wcmVzc0RhdGEiLCJkYXRhT2JqZWN0IiwiY29tcHJlc3NUb0Jhc2U2NCIsIl9rZXlTdHIiLCJpIiwiZnJvbUNoYXJDb2RlIiwiZ2V0S2V5U3RyIiwiY2hyMSIsImNocjIiLCJjaHIzIiwiZW5jMSIsImVuYzIiLCJlbmMzIiwiZW5jNCIsIm91dHB1dCIsInVuY29tcHJlc3NlZCIsImlpIiwiY29udGV4dF9kaWN0aW9uYXJ5IiwiY29udGV4dF9kaWN0aW9uYXJ5VG9DcmVhdGUiLCJjb250ZXh0X2MiLCJjb250ZXh0X3djIiwiY29udGV4dF93IiwiY29udGV4dF9lbmxhcmdlSW4iLCJjb250ZXh0X2RpY3RTaXplIiwiY29udGV4dF9udW1CaXRzIiwiY29udGV4dF9kYXRhX3N0cmluZyIsImNvbnRleHRfZGF0YV92YWwiLCJjb250ZXh0X2RhdGFfcG9zaXRpb24iLCJmIiwiY2hhckNvZGVBdCIsInBvdyIsImNvbXByZXNzIiwiTmFOIiwiX2ZpcmVSZXF1ZXN0IiwiX2Ryb3BSZXF1ZXN0RHVlVG9PcHRPdXQiLCJfYWRkVXNlSVBUb1JlcXVlc3QiLCJfYWRkQVJQVG9SZXF1ZXN0IiwiUmVxdWVzdERpc3BhdGNoZXIiLCJuZXR3b3JrUmV0cnlDb3VudCIsIm1pbkRlbGF5RnJlcXVlbmN5Iiwic2tpcEFSUCIsInNlbmRPVUxGbGFnIiwiZ2V0RGVsYXlGcmVxdWVuY3kiLCJhY2NvdW50IiwicmFuZG9tRGVsYXkiLCJyYW5kb20iLCJ0cmllcyIsIl93aW5kb3ckY2xldmVydGFwIiwiX3dpbmRvdyR3aXpyb2NrZXQiLCJzZXRUaW1lb3V0IiwiY2xldmVydGFwIiwid2l6cm9ja2V0IiwicGx1Z2luIiwiY3RDYlNjcmlwdHMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImFzeW5jIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJhcHBlbmRDaGlsZCIsInNsaWNlIiwicGFnZUxvYWRVcmwiLCJ1c2VJUCIsInNraXBSZXNBUlAiLCJfYXJwIiwiZ2V0Q2FtcGFpZ25PYmplY3QiLCJmaW5hbGNhbXBPYmoiLCJjYW1wT2JqIiwid3AiLCJzYXZlQ2FtcGFpZ25PYmplY3QiLCJjYW1wYWlnbk9iaiIsIm5ld09iaiIsInNldENhbXBhaWduT2JqZWN0Rm9yR3VpZCIsImd1aWRDYW1wT2JqIiwiZmluYWxDYW1wT2JqIiwia2V5cyIsImZvckVhY2giLCJjYW1wS2V5T2JqIiwiZ2xvYmFsT2JqIiwiZGFpbHlPYmoiLCJjYW1wYWlnbklkQXJyYXkiLCJyZXN1bHRPYmoiLCJkYWlseUMiLCJ0b3RhbEMiLCJjYW1wYWlnbklkIiwiY29uc29sZSIsImdldENhbXBhaWduT2JqRm9yTGMiLCJzdG9yYWdlVmFsdWUiLCJkZWNvZGVkVmFsdWUiLCJwYXJzZWRWYWx1ZSIsInJlc3VsdE9ialdQIiwicmVzdWx0T2JqV0kiLCJ3aSIsInRvZGF5Q3dwIiwidG9kYXlDd2kiLCJ0YyIsIndtcCIsIndpbXAiLCJ0bGMiLCJ3aXRsYyIsImlzUHJvZmlsZVZhbGlkIiwicHJvZmlsZU9iaiIsInZhbGlkIiwicHJvZmlsZUtleSIsInByb2ZpbGVWYWwiLCJBZ2UiLCJQaG9uZSIsInByb2Nlc3NGQlVzZXJPYmoiLCJ1c2VyIiwicHJvZmlsZURhdGEiLCJOYW1lIiwiRkJJRCIsImdlbmRlciIsIkdlbmRlciIsInJlbGF0aW9uc2hpcF9zdGF0dXMiLCJNYXJyaWVkIiwiZWR1IiwiZWR1QXJyIiwiY29sbGVnZSIsImhpZ2hzY2hvb2wiLCJ0eXBlIiwiZ2V0SGlnaGVzdEVkdWNhdGlvbiIsImVkdWNhdGlvbiIsIkVkdWNhdGlvbiIsIndvcmsiLCJFbXBsb3llZCIsImVtYWlsIiwiRW1haWwiLCJiaXJ0aGRheSIsIm1tZGR5eSIsIkRPQiIsInByb2Nlc3NHUGx1c1VzZXJPYmoiLCJfcmVmMiIsImRpc3BsYXlOYW1lIiwiR1BJRCIsImltYWdlIiwiaXNEZWZhdWx0IiwiUGhvdG8iLCJlbWFpbHMiLCJlbWFpbElkeCIsImVtYWlsT2JqIiwib3JnYW5pemF0aW9ucyIsInl5eXltbWRkIiwicmVsYXRpb25zaGlwU3RhdHVzIiwiYWRkVG9Mb2NhbFByb2ZpbGVNYXAiLCJvdmVycmlkZSIsIl9jdXN0b20iLCJjbG9zZUlmcmFtZSIsImRpdklkSWdub3JlZCIsInNlc3Npb25DYW1wYWlnbk9iaiIsImRpdklkIiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsImRpc3BsYXkiLCJfbG9nZ2VyJDMiLCJfcmVxdWVzdCQyIiwiX2FjY291bnQiLCJfb2xkVmFsdWVzJDEiLCJfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMSIsIl9wcm9jZXNzUHJvZmlsZUFycmF5IiwiUHJvZmlsZUhhbmRsZXIiLCJfcHJvY2Vzc1Byb2ZpbGVBcnJheTIiLCJwcm9maWxlc0FyciIsImdldEF0dHJpYnV0ZSIsInByb3BOYW1lIiwiX2hhbmRsZUluY3JlbWVudERlY3JlbWVudFZhbHVlIiwiY29tbWFuZCIsIl8kY3QkZ2xvYmFsUHJvZmlsZU1hcCIsInR6IiwicHJvZmlsZSIsImFkZFN5c3RlbURhdGFUb09iamVjdCIsImFkZEZsYWdzIiwiY29tcHJlc3NlZERhdGEiLCJzYXZlQW5kRmlyZVJlcXVlc3QiLCJfaGFuZGxlTXVsdGlWYWx1ZVNldCIsImFycmF5VmFsIiwiYXJyYXkiLCJ0b0xvd2VyQ2FzZSIsIl9TdG9yYWdlTWFuYWdlciRyZWFkRiIsInNlbmRNdWx0aVZhbHVlRGF0YSIsIl9oYW5kbGVNdWx0aVZhbHVlQWRkIiwicHJvcEtleSIsInByb3BWYWwiLCJfaGFuZGxlTXVsdGlWYWx1ZVJlbW92ZSIsIl8kY3QkZ2xvYmFsUHJvZmlsZU1hcDIiLCJfaGFuZGxlTXVsdGlWYWx1ZURlbGV0ZSIsIl8kY3QkZ2xvYmFsUHJvZmlsZU1hcDMiLCJwcm9maWxlQXJyIiwib3V0ZXJPYmoiLCJTaXRlIiwiRmFjZWJvb2siLCJGYlByb2ZpbGVPYmoiLCJHUGx1c1Byb2ZpbGVPYmoiLCJfcmVxdWVzdCQzIiwiX2xvZ2dlciQ0IiwiX2FjY291bnQkMSIsIl9zZXNzaW9uJDEiLCJfb2xkVmFsdWVzJDIiLCJfZGV2aWNlJDEiLCJfcHJvY2Vzc09VTCIsIl9oYW5kbGVDb29raWVGcm9tQ2FjaGUiLCJfZGVsZXRlVXNlciIsIl9wcm9jZXNzTG9naW5BcnJheSIsIlVzZXJMb2dpbkhhbmRsZXIiLCJfcHJvY2Vzc0xvZ2luQXJyYXkyIiwiX2RlbGV0ZVVzZXIyIiwiX2hhbmRsZUNvb2tpZUZyb21DYWNoZTIiLCJfcHJvY2Vzc09VTDIiLCJjbGVhciIsImFkZFRvSyIsImlkcyIsImciLCJrSWQiLCJhbm9ueW1vdXNVc2VyIiwiZm91bmRJbkNhY2hlIiwiZ0Zyb21DYWNoZSIsIklkZW50aXR5IiwiY29va2llTmFtZSIsImxvZ2luQXJyIiwicG9wIiwic2V0SW5zdGFudERlbGV0ZUZsYWdJbksiLCJDVFdlYlBlcnNvbmFsaXNhdGlvbkJhbm5lciIsIkhUTUxFbGVtZW50IiwiX2RldGFpbHMiLCJzaGFkb3ciLCJhdHRhY2hTaGFkb3ciLCJtb2RlIiwiZGV0YWlscyIsInJlbmRlckJhbm5lciIsImlubmVySFRNTCIsImdldEJhbm5lckNvbnRlbnQiLCJ0cmFja0NsaWNrIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uQ2xpY2tVcmwiLCJvbkNsaWNrIiwib3BlbiIsInBhcmVudCIsImhyZWYiLCJyZW5kZXJOb3RpZmljYXRpb25DbGlja2VkIiwibXNnSWQiLCJwaXZvdElkIiwicmVuZGVyTm90aWZpY2F0aW9uVmlld2VkIiwiZGl2SGVpZ2h0IiwiY3NzIiwiZGVza3RvcEltYWdlVVJMIiwibW9iaWxlSW1hZ2VVUkwiLCJodG1sIiwiQ1RXZWJQZXJzb25hbGlzYXRpb25DYXJvdXNlbCIsIl90YXJnZXQiLCJfY2Fyb3VzZWwiLCJzbGlkZXMiLCJwcmV2aW91c2x5U2VsZWN0ZWRJdGVtIiwic2VsZWN0ZWRJdGVtIiwiYXV0b1NsaWRlIiwic3RvcEF1dG9TbGlkZVRpbWVvdXQiLCJjdXN0b21FbGVtZW50cyIsInRhcmdldCIsInJlbmRlckNhcm91c2VsIiwiZ2V0U3R5bGVzIiwiY2Fyb3VzZWwiLCJnZXRDYXJvdXNlbENvbnRlbnQiLCJzaG93TmF2QnRucyIsImluc2VydEFkamFjZW50SFRNTCIsIm5hdkJ0bnNIdG1sIiwic2hvd05hdkFycm93cyIsImxlZnROYXZBcnJvd0h0bWwiLCJyaWdodE5hdkFycm93SHRtbCIsInNldHVwQ2xpY2siLCJ1cGRhdGVTZWxlY3RlZEl0ZW0iLCJzdGFydEF1dG9TbGlkZSIsInNldHVwT25Ib3ZlciIsInd6cmtfaWQiLCJ3enJrX3Bpdm90IiwiZXZlbnQiLCJldmVudElEIiwic3RhcnRzV2l0aCIsInNlbGVjdGVkIiwiZW5kc1dpdGgiLCJnb1RvTmV4dCIsImdvVG9QcmV2Iiwid3pya19zbGlkZU5vIiwiY2xlYXJJbnRlcnZhbCIsImNsZWFyVGltZW91dCIsImRldGFpbCIsImJhbm5lciIsImNsYXNzTGlzdCIsImFkZCIsIl90aGlzJHRhcmdldCIsIl90aGlzJHRhcmdldCRkaXNwbGF5IiwibmF2QnRuc0NzcyIsIm5hdkFycm93c0NzcyIsInByZXZJdGVtIiwicHJldkJ1dHRvbiIsInJlbW92ZSIsImJ1dHRvbiIsInNldEludGVydmFsIiwic2xpZGVyVGltZSIsImdvVG8iLCJwcmV2IiwiY3VyIiwiQ1RXZWJQb3B1cEltYWdlT25seSIsInBvcHVwIiwiY29udGFpbmVyIiwicmVzaXplT2JzZXJ2ZXIiLCJyZW5kZXJJbWFnZU9ubHlQb3B1cCIsInNlc3Npb25JZCIsImdldEltYWdlT25seVBvcHVwQ29udGVudCIsInNoYWRvd1Jvb3QiLCJjbG9zZUljb24iLCJ1cGRhdGVJbWFnZUFuZENvbnRhaW5lcldpZHRoIiwiUmVzaXplT2JzZXJ2ZXIiLCJoYW5kbGVSZXNpemUiLCJvYnNlcnZlIiwidW5vYnNlcnZlIiwid2lkdGgiLCJnZXRSZW5kZXJlZEltYWdlV2lkdGgiLCJzZXRQcm9wZXJ0eSIsIm1zZ0NvbnRlbnQiLCJ2aXNpYmlsaXR5IiwiaW1nIiwicmF0aW8iLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiaGVpZ2h0IiwiTWVzc2FnZSIsImNvbmZpZyIsIm1lc3NhZ2UiLCJ3cmFwcGVyIiwic25hY2tCYXIiLCJyZW5kZXJNZXNzYWdlIiwiY3JlYXRlRWwiLCJwYXJ0IiwiX2VsIiwibXNnIiwidGVtcGxhdGVUeXBlIiwicHJlcGFyZUJhc2ljTWVzc2FnZSIsInRpbWVTdGFtcCIsImRldGVybWluZVRpbWVTdGFtcFRleHQiLCJ2aWV3ZWQiLCJ1bnJlYWRNYXJrZXIiLCJpbWFnZVVybCIsImltYWdlQ29udGFpbmVyIiwiYWRkSW1hZ2UiLCJpY29uVGl0bGVEZXNjV3JhcHBlciIsImljb25VcmwiLCJpY29uQ29udGFpbmVyIiwidGl0bGVEZXNjV3JhcHBlciIsInRpdGxlIiwiaW5uZXJUZXh0IiwiZGVzY3JpcHRpb24iLCJidXR0b25zIiwiYnV0dG9uc0NvbnRhaW5lciIsImFkZEJ1dHRvbnMiLCJoYXNDb3B5QWN0aW9uIiwiYiIsInRleHQiLCJjc3NUZXh0IiwiYWN0aW9uIiwiYWRkU25hY2tiYXIiLCJncmVlblRpY2tTdmciLCJjbGlwYm9hcmRNc2ciLCJyYWlzZUNsaWNrZWRFdmVudCIsInBhdGgiLCJpc1ByZXZpZXciLCJyYWlzZUNsaWNrZWRGb3JCYXNpY1RlbXBsYXRlcyIsInBheWxvYWQiLCJ0YWdOYW1lIiwia3YiLCJ3enJrX2MyYSIsIm9wZW5VcmxJbk5ld1RhYiIsImZvY3VzIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwiY2xpcGJvYXJkVGV4dCIsImxvZyIsIkluYm94IiwiaXNJbmJveE9wZW4iLCJpc0luYm94RnJvbUZsdXR0ZXIiLCJzZWxlY3RlZENhdGVnb3J5IiwidW52aWV3ZWRNZXNzYWdlcyIsInVudmlld2VkQ291bnRlciIsImluYm94Q29uZmlnRm9yUHJldmlldyIsImluYm94U2VsZWN0b3IiLCJlbXB0eUluYm94TXNnIiwiaW5ib3hDYXJkIiwidW52aWV3ZWRCYWRnZSIsIm9ic2VydmVyIiwic2VsZWN0ZWRDYXRlZ29yeVJlZiIsImFkZENsaWNrTGlzdGVuZXJPbkRvY3VtZW50IiwiY29tcG9zZWRQYXRoIiwidG9nZ2xlSW5ib3giLCJwcmV2Q2F0ZWdvcnlSZWYiLCJ1cGRhdGVBY3RpdmVDYXRlZ29yeSIsIl9wYXRoIiwiZmlsdGVyIiwicCIsIl9wJGlkIiwiY29udGFpbnMiLCJzZXRCYWRnZVN0eWxlIiwibXNnQ291bnQiLCJpbmNvbWluZ01lc3NhZ2VzIiwibXNncyIsInVwZGF0ZUluYm94TWVzc2FnZXMiLCJpbmNvbWluZ01lc3NhZ2VzRm9yUHJldmlldyIsInByZXZpZXdNc2dzIiwibm93IiwiYnVpbGRVSUZvck1lc3NhZ2VzIiwidXBkYXRlVW52aWV3ZWRCYWRnZUNvdW50ZXIiLCJjb25uZWN0ZWRDYWxsYmFjayIsImluaXQiLCJzdHlsZXMiLCJub3RpZmljYXRpb25zQmFkZ2UiLCJhZGRVbnZpZXdlZEJhZGdlIiwiY3JlYXRlaW5ib3giLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2F0ZWdvcmllcyIsImdldEluYm94U3R5bGVzIiwiYWRkTXNnc1RvSW5ib3hGcm9tTFMiLCJtZXNzYWdlcyIsImRlbGV0ZUV4cGlyZWRBbmRHZXRVbmV4cGlyZWRNc2dzIiwibXNnSWRzIiwiZGVsZXRlTXNnc0Zyb21VSSIsImdldEluYm94TWVzc2FnZXMiLCJ3enJrX3R0bCIsImVsIiwic29ydCIsImEiLCJyZWR1Y2UiLCJhY2MiLCJzYXZlSW5ib3hNZXNzYWdlcyIsImluYm94TXNncyIsImluY29taW5nTXNncyIsImJhY2tncm91bmRDb2xvciIsInRleHRDb2xvciIsImJvZHkiLCJ1cGRhdGVVbnZpZXdlZEJhZGdlUG9zaXRpb24iLCJ0b3AiLCJyaWdodCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJoZWFkZXIiLCJoZWFkZXJUaXRsZSIsImNyZWF0ZUNhdGVnb3JpZXMiLCJvcHRpb25zIiwicm9vdE1hcmdpbiIsInRocmVzaG9sZCIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cmllcyIsImhhbmRsZU1lc3NhZ2VWaWV3ZWQiLCJjYXRlZ29yaWVzQ29udGFpbmVyIiwibGVmdEFycm93IiwiYXJyb3dTdmciLCJjaGlsZHJlbiIsInNjcm9sbEJ5IiwiY2F0ZWdvcmllc1dyYXBwZXIiLCJjYXRlZ29yeSIsInJpZ2h0QXJyb3ciLCJmaXJzdENhdGVnb3J5IiwibGFzdENhdGVnb3J5IiwiY2F0ZWdvcnlPYnNlcnZlckNiIiwiaW50ZXJzZWN0aW9uUmF0aW8iLCJoaWRlIiwiYWN0aXZlQ2F0ZWdvcnkiLCJzY3JvbGxUb3AiLCJjb3VudGVyIiwiY2hpbGROb2RlcyIsIl90aGlzJGNvbmZpZyRtYXhNc2dzSSIsInVwZGF0ZVRTRm9yUmVuZGVyZWRNc2dzIiwibWF4TXNnc0luSW5ib3giLCJmaXJzdENoaWxkIiwic29ydGVkTXNncyIsIm1hcCIsInRhZ3MiLCJpbnNlcnRCZWZvcmUiLCJtc2dUb3RhbENvdW50IiwicXVlcnlTZWxlY3RvckFsbCIsImN0SW5ib3hNc2dzIiwiaGFzTWVzc2FnZXMiLCJyYWlzZVZpZXdlZEV2ZW50IiwiaXNJbnRlcnNlY3RpbmciLCJ1cGRhdGVNZXNzYWdlSW5MUyIsInJlY3QiLCJ6SW5kZXgiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsV2lkdGgiLCJzZXRJbmJveFBvc2l0aW9uIiwid2luZG93V2lkdGgiLCJvdXRlcldpZHRoIiwiY3VzdG9tSW5ib3hTdHlsZXMiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImJvdHRvbSIsInJlcyIsImdldEluYm94UG9zaXRpb24iLCJjbGllbnRIZWlnaHQiLCJjbGllbnRXaWR0aCIsInhQb3MiLCJ5UG9zIiwidHMiLCJjYXRlZ29yaWVzSGVpZ2h0IiwicGFuZWxCYWNrZ3JvdW5kQ29sb3IiLCJwYW5lbEJvcmRlckNvbG9yIiwiaGVhZGVyQmFja2dyb3VuZENvbG9yIiwiaGVhZGVyVGl0bGVDb2xvciIsInRpdGxlQ29sb3IiLCJjbG9zZUljb25Db2xvciIsImNhdGVnb3JpZXNUYWJDb2xvciIsInRhYkNvbG9yIiwiY2F0ZWdvcmllc1RpdGxlQ29sb3IiLCJzZWxlY3RlZENhdGVnb3J5VGFiQ29sb3IiLCJzZWxlY3RlZFRhYiIsInNlbGVjdGVkQ2F0ZWdvcnlUaXRsZUNvbG9yIiwiaGVhZGVyQ2F0ZWdvcnlIZWlnaHQiLCJib3JkZXJDb2xvciIsImNhdGVnb3JpZXNCb3JkZXJDb2xvciIsInNlbGVjdGVkQ2F0ZWdvcnlCb3JkZXJDb2xvciIsImluYm94U3R5bGVzIiwiaW5ib3hDb250YWluZXJTdHlsZXMiLCJjYXJkU3R5bGVzIiwiY2FyZHMiLCJkZXNjcmlwdGlvbkNvbG9yIiwiYnV0dG9uQ29sb3IiLCJidXR0b25UZXh0Q29sb3IiLCJ1bnJlYWRNYXJrZXJDb2xvciIsIm1lc3NhZ2VTdHlsZXMiLCJwcm9jZXNzSW5ib3hOb3RpZnMiLCJpbmJveF9wcmV2aWV3IiwiaW5ib3hfbm90aWZzIiwiYWRkV2ViSW5ib3giLCJjaGVja0FuZFJlZ2lzdGVyV2ViSW5ib3hFbGVtZW50cyIsImdldEFuZE1pZ3JhdGVJbmJveE1lc3NhZ2VzIiwiZ3VkSW5ib3hPYmoiLCJpbml0aWFsaXplV2ViSW5ib3giLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlYWR5U3RhdGUiLCJvbkxvYWRlZCIsImluYm94SGVpZ2h0IiwiaW5ib3hXaWR0aCIsImhvcml6b250YWxTY3JvbGwiLCJzY3JvbGxpbmdFbGVtZW50IiwidmVydGljYWxTY3JvbGwiLCJpbm5lcldpZHRoIiwid2luZG93SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJzZWxlY3RvclJlY3QiLCJzZWxlY3RvclgiLCJ4Iiwic2VsZWN0b3JZIiwic2VsZWN0b3JMZWZ0Iiwic2VsZWN0b3JSaWdodCIsInNlbGVjdG9yVG9wIiwic2VsZWN0b3JCb3R0b20iLCJzZWxlY3RvckhlaWdodCIsInNlbGVjdG9yQ2VudGVyIiwiaW5ib3hPblNpZGUiLCJwYWRkaW5nIiwiYXZhaWxhYmxlSGVpZ2h0IiwiaW5ib3hSaWdodCIsImluYm94TGVmdCIsImRpZmYiLCJoYXNXZWJJbmJveFNldHRpbmdzSW5MUyIsIkNTU19QQVRIIiwiaGFuZGxlTWVzc2FnZUV2ZW50IiwiX2V2ZW50JGRhdGEkdmFyaWFudCIsIl9ldmVudCRkYXRhJGRldGFpbHMiLCJpbml0aWFsaXNlQ1RCdWlsZGVyIiwidmFyaWFudCIsInJlbmRlclZpc3VhbEJ1aWxkZXIiLCJvbkNvbnRlbnRMb2FkIiwiY29udGVudExvYWRlZCIsImxpbmsiLCJwb3NpdGlvbiIsIm92ZXJsYXlQYXRoIiwic2NyaXB0Iiwic3JjIiwib25sb2FkIiwiT3ZlcmxheSIsIkVycm9yIiwib25lcnJvciIsImhlYWQiLCJsb2FkT3ZlcmxheVNjcmlwdCIsInRoZW4iLCJjYXRjaCIsInJlbCIsImtpdElkIiwic2NyaXB0VGltZW91dCIsImRvY0VsZW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJ0aW1lb3V0SWQiLCJjbGFzc05hbWUiLCJ0eXBlS2l0U2NyaXB0Iiwic2NyaXB0TG9hZGVkIiwiZmlyc3RTY3JpcHQiLCJzY3JpcHRSZWFkeVN0YXRlIiwib25yZWFkeXN0YXRlY2hhbmdlIiwiVHlwZWtpdCIsImxvYWQiLCJsb2FkVHlwZUtpdCIsInRhcmdldGluZ01zZ0pzb24iLCJzaXRlVXJsIiwic2VsZWN0b3JzIiwiZWxlbWVudERpc3BsYXllZCIsInNlbGVjdG9yIiwiZWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJvdXRlckhUTUwiLCJkaXNwYXRjaEpzb25EYXRhIiwiaW50ZXJ2YWxJZCIsInJldHJ5RWxlbWVudCIsImluYU9iaiIsImpzb24iLCJrdlBhaXJzRXZlbnQiLCJDdXN0b21FdmVudCIsImRpc3BhdGNoRXZlbnQiLCJfdHIiLCJfd2l6Q291bnRlciIsImRvQ2FtcEhvdXNlS2VlcGluZyIsImluY3JDb3VudCIsImV4Y2x1ZGVGcm9tRnJlcUNhcHMiLCJjdXJyZW50Q291bnQiLCJ0b3RhbENvdW50Iiwic2Vzc2lvblN0b3JhZ2UiLCJjYW1wVHlwZU9iaiIsInd0YXJnZXRfdHlwZSIsIndtYyIsIndpbWMiLCJjYW1wYWlnblNlc3Npb25MaW1pdCIsImNhbXBhaWduRGFpbHlMaW1pdCIsImNhbXBhaWduVG90YWxMaW1pdCIsInRvdGFsRGFpbHlMaW1pdCIsInRvdGFsU2Vzc2lvbkxpbWl0IiwidG90YWxJbmJveFNlc3Npb25MaW1pdCIsImVmYyIsInBhcnNlSW50IiwibWRjIiwidGRjIiwiY2FtcGFpZ25TZXNzaW9uQ291bnQiLCJ0b3RhbFNlc3Npb25Db3VudCIsImNhbXBhaWduRGFpbHlDb3VudCIsInRvdGFsRGFpbHlDb3VudCIsImNhbXBhaWduVG90YWxDb3VudCIsImRlbGF5IiwiY2FtcEtleSIsIm5ld0NhbXBPYmoiLCJnZXRDb29raWVQYXJhbXMiLCJzY29va2llT2JqIiwiaW52b2tlRXh0ZXJuYWxKcyIsImpzRnVuYyIsImZ1bmMiLCJzZXR1cENsaWNrVXJsIiwiY29udGVudERpdiIsImlzTGVnYWN5IiwiaW5jcmVtZW50SW1wcmVzc2lvbiIsImN0YUVsZW1lbnQiLCJqc0NUQUVsZW1lbnRzIiwicHJldmlldyIsIm9uY2xpY2siLCJmaXJlUmVxdWVzdCIsInNldHVwQ2xpY2tFdmVudCIsInJlbmRlclBlcnNvbmFsaXNhdGlvbkJhbm5lciIsIl90YXJnZXRpbmdNc2dKc29uJGRpcyIsImRpdlNlbGVjdG9yIiwiYmFubmVyRWwiLCJjb250YWluZXJFbCIsInJlbmRlclBlcnNvbmFsaXNhdGlvbkNhcm91c2VsIiwiX3RhcmdldGluZ01zZ0pzb24kZGlzMiIsInJlbmRlckZvb3Rlck5vdGlmaWNhdGlvbiIsImRpc3BsYXlPYmoiLCJsYXlvdXQiLCJzaG93RXhpdEludGVudCIsIm1zZ0RpdiIsInBvcHVwSW1hZ2VPbmx5IiwicmVuZGVyUG9wVXBJbWFnZU9ubHkiLCJpc0Jhbm5lciIsInZpZXdIZWlnaHQiLCJ2aWV3V2lkdGgiLCJsZWdhY3kiLCJpRnJhbWVTdHlsZSIsImNvbnRlbnRIZWlnaHQiLCJib3R0b21Qb3NpdGlvbiIsIndpZHRoUGVyY3QiLCJ1c2VyQWdlbnQiLCJwcm90byIsImlmcmFtZSIsImJvcmRlclJhZGl1cyIsImJyIiwiZnJhbWVib3JkZXIiLCJtYXJnaW5oZWlnaHQiLCJtYXJnaW53aWR0aCIsInNjcm9sbGluZyIsInBvaW50ZXJDc3MiLCJzYW5kYm94IiwiYmdDb2xvciIsImJ0bkJnIiwibGVmdFRkIiwiYnRDb2xvciIsInRoZW1lIiwidGl0bGVUZXh0IiwiZGVzY3JpcHRpb25UZXh0IiwiaW1hZ2VUZCIsImNsb3NlQ2FtcGFpZ24iLCJFdmVudCIsImFwcGVuZFNjcmlwdEZvckN1c3RvbUV2ZW50Iiwic3JjZG9jIiwiYWRqdXN0SUZyYW1lSGVpZ2h0IiwiY29udGVudERvY3VtZW50Iiwic2Nyb2xsSGVpZ2h0IiwibWFyZ2luIiwidWEiLCJpbkRvYyIsImNvbnRlbnRXaW5kb3ciLCJfdGltZXIiLCJfY2FsbEJhY2tDYWxsZWQiLCJzaG93Rm9vdGVyTm90aWZpY2F0aW9uIiwibm90aWZpY2F0aW9uQ2FsbGJhY2siLCJyYWlzZU5vdGlmaWNhdGlvbkNsaWNrZWQiLCJyYWlzZU5vdGlmaWNhdGlvblZpZXdlZCIsInBvcHVwQ3VycmVudFd6cmtJZCIsInBvcHVwQ2FsbGJhY2tzIiwicG9wdXBDYWxsYmFjayIsIm1zZ0NUa3YiLCJ3enJrUHJlZml4S2V5Iiwid3pya0pzb24iLCJyYWlzZVBvcHVwTm90aWZpY2F0aW9uQ2xpY2tlZCIsIm5vdGlmaWNhdGlvbkRhdGEiLCJldmVudERhdGEiLCJ3enJrUHJlZml4T2JqIiwiZXhpdGludGVudE9iaiIsInRhcmdldE9iaiIsImNsaWVudFkiLCJvcGFjaXR5RGl2Iiwib3BhY2l0eSIsInJnYmFDb2xvciIsImN0YVRleHQiLCJwcm9jZXNzTmF0aXZlRGlzcGxheUFyciIsImFyckluQXBwTm90aWZzIiwiZWxlbWVudElkIiwiaW5hcHBfbm90aWZzIiwidGFyZ2V0Tm90aWYiLCJvbm1vdXNlbGVhdmUiLCJhZGRMb2FkTGlzdGVuZXIiLCJoYW5kbGVJbmJveE5vdGlmaWNhdGlvbnMiLCJtc2dBcnIiLCJ3ZWJJbmJveFNldHRpbmciLCJfc2V0dGluZ3MiLCJwcm9jZXNzV2ViSW5ib3hTZXR0aW5ncyIsInZhcnMiLCJtZXJnZVZhcmlhYmxlcyIsInN0YWxlRGF0YVVwZGF0ZSIsInN0YWxlZGF0YSIsImNhbXBUeXBlIiwiZXZwciIsImV2ZW50c01hcCIsImV2ZW50cyIsInByb2ZpbGVNYXAiLCJzeW5jRXhwaXJ5IiwiZXhwaXJlc19pbiIsIm5ld0V2dE1hcCIsIm9sZEV2dE9iaiIsIm5ld0V2dE9iaiIsIm1lcmdlRXZlbnRNYXAiLCJhcnAiLCJqc29uTWFwIiwiaXNPVUxBUlAiLCJhcnBGcm9tU3RvcmFnZSIsImluYXBwX3N0YWxlIiwiaW5ib3hfc3RhbGUiLCJfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMiIsIlVzZXIiLCJnZXRUb3RhbFZpc2l0cyIsInZpc2l0Q291bnQiLCJnZXRMYXN0VmlzaXQiLCJwcmV2U2Vzc2lvbiIsImxvZ0xldmVscyIsIl9sb2dMZXZlbCIsIl9sb2ciLCJfaXNMZWdhY3lEZWJ1ZyIsIkxvZ2dlciIsImxvZ0xldmVsIiwiX2dldF9pc0xlZ2FjeURlYnVnIiwiX2xvZzIiLCJ3enJrRXJyb3IiLCJpbmZvIiwiZGVidWdQRSIsImNvZGUiLCJsZXZlbCIsIldaUktfRCIsIl9sb2dnZXIkNSIsIl9zZXNzaW9uSWQiLCJfaXNQZXJzb25hbGlzYXRpb25BY3RpdmUkMyIsIlNlc3Npb25NYW5hZ2VyIiwic2Nvb2tpZVN0ciIsIlNDT09LSUVfRVhQX1RJTUVfSU5fU0VDUyIsIm9ialN0ciIsImN1cnJlbnRTZXNzaW9uSW5MUyIsInNlc3Npb25Db3VudCIsImdldFRpbWVFbGFwc2VkIiwic2Vzc2lvblN0YXJ0IiwiZ2V0UGFnZUNvdW50Iiwic2VxTm8iLCJyZXF1ZXN0VGltZSIsIl9sb2dnZXIkNiIsIl9hY2NvdW50JDIiLCJfZGV2aWNlJDIiLCJfc2Vzc2lvbiQyIiwiX2lzUGVyc29uYWxpc2F0aW9uQWN0aXZlJDQiLCJfY2xlYXJDb29raWUiLCJfYWRkVG9Mb2NhbEV2ZW50TWFwIiwiUmVxdWVzdE1hbmFnZXIiLCJfYWRkVG9Mb2NhbEV2ZW50TWFwMiIsImJhY2t1cEV2ZW50IiwiZmlyZWQiLCJpZ25vcmVUcmltIiwid3pya19lcnJvciIsInBnIiwicHJvdG9jb2wiLCJhZiIsImxpYiIsInJjIiwibGFzdFN5bmNUaW1lIiwiZXhwaXJ5U2Vjb25kcyIsImRzeW5jIiwiZ2l2ZW5HVUlEIiwicmVnaXN0ZXJUb2tlbiIsInBvc3QiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJyZXNwb25zZSIsIm9rIiwibm93VHMiLCJldnREZXRhaWwiLCJfcmVxdWVzdCQ0IiwiX2FjY291bnQkMyIsIl9vbGRWYWx1ZXMkMyIsIl9sb2dnZXIkNyIsIl9wcm9jZXNzUHJpdmFjeUFycmF5IiwiUHJpdmFjeSIsIl9wcm9jZXNzUHJpdmFjeUFycmF5MiIsInByaXZhY3lBcnIiLCJwcml2YWN5T2JqIiwiY3VyciIsIm9wdE91dCIsInNob3VsZFVzZUlQIiwiX29sZFZhbHVlcyQ0IiwiX2xvZ2dlciQ4IiwiX3JlcXVlc3QkNSIsIl9hY2NvdW50JDQiLCJfd2l6QWxlcnRKU1BhdGgiLCJfZmNtUHVibGljS2V5IiwiX3NldFVwV2ViUHVzaCIsIl9zZXRVcFdlYlB1c2hOb3RpZmljYXRpb25zIiwiX3NldEFwcGxpY2F0aW9uU2VydmVyS2V5IiwiX3NldFVwU2FmYXJpTm90aWZpY2F0aW9ucyIsIl9zZXRVcENocm9tZUZpcmVmb3hOb3RpZmljYXRpb25zIiwiX2FkZFdpekFsZXJ0SlMiLCJfcmVtb3ZlV2l6QWxlcnRKUyIsIl9oYW5kbGVOb3RpZmljYXRpb25SZWdpc3RyYXRpb24iLCJOb3RpZmljYXRpb25IYW5kbGVyIiwiX2hhbmRsZU5vdGlmaWNhdGlvblJlZ2lzdHJhdGlvbjIiLCJfcmVtb3ZlV2l6QWxlcnRKUzIiLCJfYWRkV2l6QWxlcnRKUzIiLCJfc2V0VXBDaHJvbWVGaXJlZm94Tm90aWZpY2F0aW9uczIiLCJfc2V0VXBTYWZhcmlOb3RpZmljYXRpb25zMiIsIl9zZXRBcHBsaWNhdGlvblNlcnZlcktleTIiLCJfc2V0VXBXZWJQdXNoTm90aWZpY2F0aW9uczIiLCJfc2V0VXBXZWJQdXNoMiIsImRpc3BsYXlBcmdzIiwiX2VuYWJsZVdlYlB1c2giLCJlbmFibGVkIiwiYXBwbGljYXRpb25TZXJ2ZXJLZXkiLCJzdWJzY3JpcHRpb25DYWxsYmFjayIsInNlcnZpY2VXb3JrZXJQYXRoIiwiYXBuc1dlYlB1c2hJZCIsImFwbnNTZXJ2aWNlVXJsIiwic2FmYXJpIiwicHVzaE5vdGlmaWNhdGlvbiIsInJlcXVlc3RQZXJtaXNzaW9uIiwic3Vic2NyaXB0aW9uIiwicGVybWlzc2lvbiIsInN1YnNjcmlwdGlvbkRhdGEiLCJlbmRwb2ludCIsImRldmljZVRva2VuIiwiYnJvd3NlciIsInJlZ2lzdHJhdGlvblNjb3BlIiwic2VydmljZVdvcmtlciIsInJlZ2lzdGVyIiwicmVnaXN0cmF0aW9uIiwiX193enJrX2FjY291bnRfaWQiLCJzY29wZSIsInJlYWR5IiwiZ2V0UmVnaXN0cmF0aW9ucyIsInNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24iLCJzdWJzY3JpYmVPYmoiLCJ1c2VyVmlzaWJsZU9ubHkiLCJiYXNlNjRTdHJpbmciLCJiYXNlNjQiLCJyZXBlYXQiLCJyYXdEYXRhIiwiYXRvYiIsInByb2Nlc3NlZERhdGEiLCJVaW50OEFycmF5IiwidXJsQmFzZTY0VG9VaW50OEFycmF5IiwicHVzaE1hbmFnZXIiLCJzdWJzY3JpYmUiLCJnZXRTdWJzY3JpcHRpb24iLCJ1bnN1YnNjcmliZSIsInN1Y2Nlc3NmdWwiLCJzY3JpcHRUYWciLCJib2R5VGV4dCIsIm9rQnV0dG9uVGV4dCIsInJlamVjdEJ1dHRvblRleHQiLCJva0J1dHRvbkNvbG9yIiwic2tpcERpYWxvZyIsImFza0FnYWluVGltZUluU2Vjb25kcyIsIm9rQ2FsbGJhY2siLCJyZWplY3RDYWxsYmFjayIsImh0dHBzUG9wdXBQYXRoIiwiaHR0cHNJZnJhbWVQYXRoIiwiYXBuc1dlYlB1c2hTZXJ2aWNlVXJsIiwibm90aWZPYmoiLCJpc0hUVFAiLCJjaHJvbWVBZ2VudCIsImZpcmVmb3hBZ2VudCIsInNhZmFyaUFnZW50IiwiTm90aWZpY2F0aW9uIiwiaHR0cHNJZnJhbWUiLCJzdGF0ZSIsImZyb20iLCJ3enJrUGVybWlzc2lvblBvcHVwIiwid2l6QWxlcnQiLCJjb25maXJtQnV0dG9uVGV4dCIsImNvbmZpcm1CdXR0b25Db2xvciIsIl92YXJpYWJsZVN0b3JlIiwiVmFyaWFibGUiLCJkZWZhdWx0VmFsdWUiLCJoYWRTdGFydGVkIiwidmFsdWVDaGFuZ2VkQ2FsbGJhY2tzIiwiZ2V0VmFsdWUiLCJnZXRkZWZhdWx0VmFsdWUiLCJ0eXBlT2ZEZWZhdWx0VmFsdWUiLCJleGlzdGluZyIsImdldFZhcmlhYmxlIiwidmFySW5zdGFuY2UiLCJyZWdpc3RlclZhcmlhYmxlIiwidXBkYXRlIiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsImhhc1ZhcnNSZXF1ZXN0Q29tcGxldGVkIiwidHJpZ2dlclZhbHVlQ2hhbmdlZCIsIm9uVmFsdWVDaGFuZ2VkIiwiYWRkVmFsdWVDaGFuZ2VkQ2FsbGJhY2siLCJyZW1vdmVWYWx1ZUNoYW5nZWRDYWxsYmFjayIsImNsZWFyU3RhcnRGbGFnIiwiX2xvZ2dlciQ5IiwiX2FjY291bnQkNSIsIl9yZXF1ZXN0JDYiLCJfZXZlbnQiLCJfdmFyaWFibGVzIiwiX3JlbW90ZVZhcmlhYmxlcyIsIl9mZXRjaENhbGxiYWNrIiwiX3ZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3MiLCJfb25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFja3MiLCJfaGFzVmFyc1JlcXVlc3RDb21wbGV0ZWQiLCJfcnVuVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrIiwiVmFyaWFibGVTdG9yZSIsIl9ydW5WYXJpYWJsZXNDaGFuZ2VkQ2FsbGJhY2syIiwic3luY1ZhcmlhYmxlcyIsIm9uU3luY1N1Y2Nlc3MiLCJvblN5bmNGYWlsdXJlIiwibWV0YSIsInRrIiwiciIsInN0YXR1cyIsImZldGNoVmFyaWFibGVzIiwib25GZXRjaENhbGxiYWNrIiwiYWRkVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrIiwiY2FsbGJhY2siLCJhZGRPbmVUaW1lVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrIiwicmVtb3ZlVmFyaWFibGVzQ2hhbmdlZENhbGxiYWNrIiwicmVtb3ZlT25lVGltZVZhcmlhYmxlc0NoYW5nZWRDYWxsYmFjayIsImNhbGxCYWNrIiwiX2xvZ2dlciRhIiwiX2FwaSIsIl9vbmxvYWRjYWxsZWQiLCJfZGV2aWNlJDMiLCJfc2Vzc2lvbiQzIiwiX2FjY291bnQkNiIsIl9yZXF1ZXN0JDciLCJfdmFyaWFibGVTdG9yZSQxIiwiX2lzU3BhIiwiX3ByZXZpb3VzVXJsIiwiX2JvdW5kQ2hlY2tQYWdlQ2hhbmdlZCIsIl9kaXNtaXNzU3BhbUNvbnRyb2wiLCJfZGVib3VuY2UiLCJfY2hlY2tQYWdlQ2hhbmdlZCIsIl9waW5nUmVxdWVzdCIsIl9pc1BpbmdDb250aW51b3VzIiwiX292ZXJyaWRlRFN5bmNGbGFnIiwiX3NlbmRMb2NhdGlvbkRhdGEiLCJfcHJvY2Vzc09sZFZhbHVlczIiLCJvblVzZXJMb2dpbiIsInByaXZhY3kiLCJub3RpZmljYXRpb25zIiwiX2RlYm91bmNlMiIsInRpbWVvdXQiLCJfY2hlY2tQYWdlQ2hhbmdlZDIiLCJwYWdlQ2hhbmdlZCIsImRlYm91bmNlZFBhZ2VDaGFuZ2VkIiwiX3BpbmdSZXF1ZXN0MiIsIl9pc1BpbmdDb250aW51b3VzMiIsInd6cmtfZCIsInBpbmciLCJfb3ZlcnJpZGVEU3luY0ZsYWcyIiwiX3NlbmRMb2NhdGlvbkRhdGEyIiwic3BhIiwiaXNTcGEiLCJfY2xldmVydGFwJGFjY291bnQiLCJfY2xldmVydGFwJGFjY291bnQyIiwiX2NsZXZlcnRhcCRhY2NvdW50MyIsIl9jbGV2ZXJ0YXAkYWNjb3VudDQiLCJfY2xldmVydGFwJGFjY291bnQ1IiwiYmluZCIsImVuYWJsZVBlcnNvbmFsaXphdGlvbiIsInNocGZ5UHJveHlQYXRoIiwibG9nb3V0IiwiZ2V0Q2xldmVyVGFwSUQiLCJnZXRBY2NvdW50SUQiLCJnZXRTQ0RvbWFpbiIsInNldExpYnJhcnkiLCJsaWJOYW1lIiwibGliVmVyc2lvbiIsInNldFNDU0RLVmVyc2lvbiIsInZlciIsInNjU0RLVmVyc2lvbiIsInNjdiIsImdldEluYm94TWVzc2FnZUNvdW50IiwiZ2V0SW5ib3hNZXNzYWdlVW5yZWFkQ291bnQiLCJnZXRBbGxJbmJveE1lc3NhZ2VzIiwiZ2V0VW5yZWFkSW5ib3hNZXNzYWdlcyIsImdldEluYm94TWVzc2FnZUZvcklkIiwibWVzc2FnZUlkIiwiZGVsZXRlSW5ib3hNZXNzYWdlIiwibWFya1JlYWRJbmJveE1lc3NhZ2UiLCJ1bnJlYWRNc2ciLCJtYXJrUmVhZEluYm94TWVzc2FnZXNGb3JJZHMiLCJtZXNzYWdlSWRzIiwibWFya1JlYWRBbGxJbmJveE1lc3NhZ2UiLCJfJGN0JGluYm94IiwicHJvY2Vzc05vdGlmaWNhdGlvbkV2ZW50IiwiZXZlbnREZXRhaWwiLCJzZXRMb2dMZXZlbCIsImwiLCJOdW1iZXIiLCJoYW5kbGVJbmNyZW1lbnRWYWx1ZSIsImhhbmRsZURlY3JlbWVudFZhbHVlIiwic2V0TXVsdGlWYWx1ZXNGb3JLZXkiLCJhZGRNdWx0aVZhbHVlRm9yS2V5IiwiYWRkTXVsdGlWYWx1ZXNGb3JLZXkiLCJyZW1vdmVNdWx0aVZhbHVlRm9yS2V5IiwicmVtb3ZlTXVsdGlWYWx1ZXNGb3JLZXkiLCJyZW1vdmVWYWx1ZUZvcktleSIsIl9oYW5kbGVFbWFpbFN1YnNjcmlwdGlvbiIsInJlRW5jb2RlZCIsImZldGNoR3JvdXBzIiwidXJsUGFyYW1zQXNJcyIsImVuY29kZWRFbWFpbElkIiwiZW5jb2RlZFByb2ZpbGVQcm9wcyIsInBhZ2VUeXBlIiwicGFnZV90eXBlIiwiaGFuZGxlRW1haWxTdWJzY3JpcHRpb24iLCJzaG93UG9zaXRpb24iLCJsYXQiLCJjb29yZHMiLCJsYXRpdHVkZSIsImxuZyIsImxvbmdpdHVkZSIsIkxhdGl0dWRlIiwiTG9uZ2l0dWRlIiwic2hvd0Vycm9yIiwiUEVSTUlTU0lPTl9ERU5JRUQiLCJQT1NJVElPTl9VTkFWQUlMQUJMRSIsIlRJTUVPVVQiLCJVTktOT1dOX0VSUk9SIiwiZ2V0TG9jYXRpb24iLCJnZW9sb2NhdGlvbiIsImdldEN1cnJlbnRQb3NpdGlvbiIsImFwaSIsImVuYWJsZVdlYlB1c2giLCJ0ciIsInNldEVudW0iLCJlbnVtVmFsIiwiaXNfb25sb2FkY2FsbGVkIiwic3ViRW1haWwiLCJnZXRFbWFpbCIsIndpdGhHcm91cHMiLCJ1blN1YkVtYWlsIiwidW5zdWJFbWFpbEdyb3VwcyIsImVsZW1lbnRzIiwiaXNVbnN1YnNjcmliZWQiLCJjaGVja2VkIiwic2V0U3Vic2NyaXB0aW9uR3JvdXBzIiwiZ2V0U3Vic2NyaXB0aW9uR3JvdXBzIiwiY2hhbmdlU3Vic2NyaXB0aW9uR3JvdXBzIiwidXBkYXRlZEdyb3VwcyIsImlzR2xvYmFsVW5zdWJzY3JpYmUiLCJzZXRJc0dsb2JhbFVuc3Vic2NyaWJlIiwic2V0VXBkYXRlZENhdGVnb3J5TG9uZyIsIiRDTFRQX1dSIiwiJFdaUktfV1IiLCJwYXJlbnRXaW5kb3ciLCJvcGVuZXIiLCJwb3N0TWVzc2FnZSIsImNoZWNrQnVpbGRlciIsIlNDT09LSUVfUFJFRklYIiwiY3VyckxvY2F0aW9uIiwid3pya19leCIsImJhY2t1cEludGVydmFsIiwicGdDb3VudCIsInJlZmVycmVyRG9tYWluIiwiZ2V0RG9tYWluIiwicmVmZXJyZXIiLCJtYXhMZW4iLCJ1dG1Tb3VyY2UiLCJ1dG1fc291cmNlIiwid3pya19zb3VyY2UiLCJ1cyIsInV0bU1lZGl1bSIsInV0bV9tZWRpdW0iLCJ3enJrX21lZGl1bSIsInVtIiwidXRtQ2FtcGFpZ24iLCJ1dG1fY2FtcGFpZ24iLCJ3enJrX2NhbXBhaWduIiwidWMiLCJ3bSIsImNwZyIsInNldE9mZmxpbmUiLCJhcmciLCJnZXRTREtWZXJzaW9uIiwiZGVmaW5lVmFyaWFibGUiLCJIQVNIX1VOREVGSU5FRCIsIk1BWF9TQUZFX0lOVEVHRVIiLCJhcmdzVGFnIiwiYXJyYXlUYWciLCJib29sVGFnIiwiZGF0ZVRhZyIsImVycm9yVGFnIiwiZnVuY1RhZyIsIm1hcFRhZyIsIm51bWJlclRhZyIsIm9iamVjdFRhZyIsInByb21pc2VUYWciLCJyZWdleHBUYWciLCJzZXRUYWciLCJzdHJpbmdUYWciLCJ3ZWFrTWFwVGFnIiwiYXJyYXlCdWZmZXJUYWciLCJkYXRhVmlld1RhZyIsInJlSXNIb3N0Q3RvciIsInJlSXNVaW50IiwidHlwZWRBcnJheVRhZ3MiLCJmcmVlR2xvYmFsIiwiZnJlZVNlbGYiLCJGdW5jdGlvbiIsImZyZWVFeHBvcnRzIiwibm9kZVR5cGUiLCJmcmVlTW9kdWxlIiwibW9kdWxlRXhwb3J0cyIsImZyZWVQcm9jZXNzIiwicHJvY2VzcyIsIm5vZGVVdGlsIiwiYmluZGluZyIsIm5vZGVJc1R5cGVkQXJyYXkiLCJpc1R5cGVkQXJyYXkiLCJhcnJheVNvbWUiLCJwcmVkaWNhdGUiLCJtYXBUb0FycmF5IiwicmVzdWx0Iiwic2l6ZSIsInNldFRvQXJyYXkiLCJ1aWQiLCJ0cmFuc2Zvcm0iLCJhcnJheVByb3RvIiwiZnVuY1Byb3RvIiwib2JqZWN0UHJvdG8iLCJjb3JlSnNEYXRhIiwiZnVuY1RvU3RyaW5nIiwibWFza1NyY0tleSIsIklFX1BST1RPIiwibmF0aXZlT2JqZWN0VG9TdHJpbmciLCJyZUlzTmF0aXZlIiwiQnVmZmVyIiwiU3ltYm9sIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJzeW1Ub1N0cmluZ1RhZyIsInRvU3RyaW5nVGFnIiwibmF0aXZlR2V0U3ltYm9scyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm5hdGl2ZUlzQnVmZmVyIiwiaXNCdWZmZXIiLCJuYXRpdmVLZXlzIiwiRGF0YVZpZXciLCJnZXROYXRpdmUiLCJNYXAiLCJTZXQiLCJXZWFrTWFwIiwibmF0aXZlQ3JlYXRlIiwiZGF0YVZpZXdDdG9yU3RyaW5nIiwidG9Tb3VyY2UiLCJtYXBDdG9yU3RyaW5nIiwicHJvbWlzZUN0b3JTdHJpbmciLCJzZXRDdG9yU3RyaW5nIiwid2Vha01hcEN0b3JTdHJpbmciLCJzeW1ib2xQcm90byIsInN5bWJvbFZhbHVlT2YiLCJ2YWx1ZU9mIiwiSGFzaCIsIkxpc3RDYWNoZSIsIk1hcENhY2hlIiwiU2V0Q2FjaGUiLCJfX2RhdGFfXyIsIlN0YWNrIiwiYXNzb2NJbmRleE9mIiwiZXEiLCJiYXNlR2V0VGFnIiwiaXNPd24iLCJ0YWciLCJ1bm1hc2tlZCIsImdldFJhd1RhZyIsIm9iamVjdFRvU3RyaW5nIiwiYmFzZUlzQXJndW1lbnRzIiwiaXNPYmplY3RMaWtlIiwiYmFzZUlzRXF1YWwiLCJvdGhlciIsImJpdG1hc2siLCJjdXN0b21pemVyIiwic3RhY2siLCJvYmplY3QiLCJlcXVhbEZ1bmMiLCJvYmpJc0FyciIsIm90aElzQXJyIiwib2JqVGFnIiwiZ2V0VGFnIiwib3RoVGFnIiwib2JqSXNPYmoiLCJvdGhJc09iaiIsImlzU2FtZVRhZyIsImVxdWFsQXJyYXlzIiwiYnl0ZUxlbmd0aCIsImJ5dGVPZmZzZXQiLCJidWZmZXIiLCJjb252ZXJ0IiwiaXNQYXJ0aWFsIiwic3RhY2tlZCIsImVxdWFsQnlUYWciLCJvYmpJc1dyYXBwZWQiLCJvdGhJc1dyYXBwZWQiLCJvYmpVbndyYXBwZWQiLCJvdGhVbndyYXBwZWQiLCJvYmpQcm9wcyIsImdldEFsbEtleXMiLCJvYmpMZW5ndGgiLCJza2lwQ3RvciIsIm9ialZhbHVlIiwib3RoVmFsdWUiLCJjb21wYXJlZCIsIm9iakN0b3IiLCJvdGhDdG9yIiwiZXF1YWxPYmplY3RzIiwiYmFzZUlzRXF1YWxEZWVwIiwiYXJyTGVuZ3RoIiwib3RoTGVuZ3RoIiwic2VlbiIsImFyclZhbHVlIiwib3RoSW5kZXgiLCJoYXMiLCJrZXlzRnVuYyIsInN5bWJvbHNGdW5jIiwib2Zmc2V0IiwiYXJyYXlQdXNoIiwiYmFzZUdldEFsbEtleXMiLCJnZXRTeW1ib2xzIiwiZ2V0TWFwRGF0YSIsImlzTWFza2VkIiwiaXNGdW5jdGlvbiIsImJhc2VJc05hdGl2ZSIsInBhaXJzIiwiTEFSR0VfQVJSQVlfU0laRSIsInJlc0luZGV4Iiwic3ltYm9sIiwiYXJyYXlGaWx0ZXIiLCJpc0luZGV4IiwiQXJyYXlCdWZmZXIiLCJDdG9yIiwiY3RvclN0cmluZyIsImlzQXJndW1lbnRzIiwiaXNMZW5ndGgiLCJiYXNlVW5hcnkiLCJpbmhlcml0ZWQiLCJpc0FyciIsImlzQXJnIiwiaXNCdWZmIiwiaXNUeXBlIiwic2tpcEluZGV4ZXMiLCJpdGVyYXRlZSIsImJhc2VUaW1lcyIsImFycmF5TGlrZUtleXMiLCJiYXNlS2V5cyIsIl9faW1wb3J0RGVmYXVsdCIsIm1vZCIsIl9fZXNNb2R1bGUiLCJDb25zdGFudHNfMSIsIkFyZ3NCdWlsZGVyIiwiYXJnU3RyaW5nIiwiYXJnVmFsdWVzIiwiX2JvZHkiLCJhdHRhY2hBcGlLZXlzIiwiYXBwSWQiLCJjbGllbnRLZXkiLCJkZWZhdWx0IiwiUEFSQU1TIiwiQVBQX0lEIiwiQ0xJRU5UIiwiQ0xJRU5UX0tFWSIsImJ1aWxkIiwiYnVpbGREaWN0IiwiQnJvd3NlckRldGVjdG9yIiwid25kIiwic2VhcmNoU3RyaW5nIiwiZ2V0QnJvd3NlckRhdGEiLCJ2ZXJzaW9uIiwic2VhcmNoVmVyc2lvbiIsImFwcFZlcnNpb24iLCJPUyIsImdldE9TRGF0YSIsImRhdGFTdHJpbmciLCJzdHJpbmciLCJkYXRhUHJvcCIsInZlcnNpb25TZWFyY2hTdHJpbmciLCJ2ZXJzaW9uU2VhcmNoIiwiaWRlbnRpdHkiLCJzdWJTdHJpbmciLCJ2ZW5kb3IiLCJvcGVyYSIsInBsYXRmb3JtIiwiTUVUSE9EUyIsIlNUQVJUIiwiU1RPUCIsIkFEVkFOQ0UiLCJUUkFDSyIsIlBBVVNFX1NFU1NJT04iLCJSRVNVTUVfU0VTU0lPTiIsIlBBVVNFX1NUQVRFIiwiUkVTVU1FX1NUQVRFIiwiRE9XTkxPQURfRklMRSIsIk1VTFRJIiwiU0VUX1ZBUlMiLCJHRVRfVkFSUyIsIlNFVF9VU0VSX0FUVFJJQlVURVMiLCJTRVRfREVWSUNFX0FUVFJJQlVURVMiLCJVUExPQURfRklMRSIsIlJFR0lTVEVSX0RFVklDRSIsIlNES19WRVJTSU9OIiwiQUNUSU9OIiwiQ1QiLCJDVVJSRU5DWV9DT0RFIiwiREVWSUNFX0lEIiwiVVNFUl9JRCIsIk5FV19VU0VSX0lEIiwiREVWX01PREUiLCJWRVJTSU9OX05BTUUiLCJTWVNURU1fTkFNRSIsIlNZU1RFTV9WRVJTSU9OIiwiQlJPV1NFUl9OQU1FIiwiQlJPV1NFUl9WRVJTSU9OIiwiREVWSUNFX05BTUUiLCJERVZJQ0VfTU9ERUwiLCJVU0VSX0FUVFJJQlVURVMiLCJMT0NBTEUiLCJDT1VOVFJZIiwiUkVHSU9OIiwiQ0lUWSIsIkxPQ0FUSU9OIiwiU1RBVEUiLCJJTkZPIiwiRVZFTlQiLCJWQUxVRSIsIkZJTEVOQU1FIiwiVElNRSIsIkRBVEEiLCJWQVJTIiwiRklMRSIsIlNJWkUiLCJWQVJJQVRJT04iLCJIQVNIIiwiRU1BSUwiLCJWQVJJQUJMRVMiLCJBQ1RJT05fREVGSU5JVElPTlMiLCJJTkNMVURFX0RFRkFVTFRTIiwiSU5DTFVERV9WQVJJQU5UX0RFQlVHX0lORk8iLCJORVdTRkVFRF9NRVNTQUdFUyIsIk1FU1NBR0VfSUQiLCJXRUJfUFVTSF9TVUJTQ1JJUFRJT04iLCJLRVlTIiwiSVNfUkVHSVNURVJFRCIsIkxBVEVTVF9WRVJTSU9OIiwiU1lOQ19JTkJPWCIsIk1FU1NBR0VTIiwiVkFSSUFOVFMiLCJWQVJJQU5UX0RFQlVHX0lORk8iLCJUT0tFTiIsIkRFRkFVTFRfS0VZUyIsIkNPVU5UIiwiSVRFTSIsIkhPU1RfQ09ORklHIiwiSU5CT1hfTUVTU0FHRVMiLCJTRVNTSU9OIiwiTUVTU0FHRV9PQ0NVUlJFTkNFUyIsIk1FU1NBR0VfQ0FDSEUiLCJNSUdSQVRJT05fU1RBVEUiLCJQVVNIX1NVQlNDUklQVElPTiIsIlZBTFVFUyIsIkRFVEVDVCIsIkRFRkFVTFRfUFVTSF9BQ1RJT04iLCJFdmVudEVtaXR0ZXIiLCJoYW5kbGVycyIsIm9uIiwib2ZmIiwiZW1pdCIsImFyZ3MiLCJoYW5kbGVyIiwiSW50ZXJuYWxTdGF0ZSIsInN0YXJ0SGFuZGxlcnMiLCJkZXZNb2RlIiwiaGFzU3RhcnRlZCIsInN0YXJ0U3VjY2Vzc2Z1bCIsInZhcmlhbnREZWJ1Z0luZm9FbmFibGVkIiwiYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIiLCJyZW1vdmVTdGFydFJlc3BvbnNlSGFuZGxlciIsInRyaWdnZXJTdGFydEhhbmRsZXJzIiwiTGVhbnBsdW1JbnRlcm5hbF8xIiwiTGVhbnBsdW0iLCJzZXRBcGlQYXRoIiwiYXBpUGF0aCIsIl9scCIsInNldEVtYWlsIiwic2V0TmV0d29ya1RpbWVvdXQiLCJzZXRBcHBJZEZvckRldmVsb3BtZW50TW9kZSIsImFjY2Vzc0tleSIsInNldEFwcElkRm9yUHJvZHVjdGlvbk1vZGUiLCJzZXRTb2NrZXRIb3N0IiwiaG9zdCIsInNldERldmljZUlkIiwiZGV2aWNlSWQiLCJzZXRMb2NhbGUiLCJsb2NhbGUiLCJzZXRBcHBWZXJzaW9uIiwidmVyc2lvbk5hbWUiLCJzZXREZXZpY2VOYW1lIiwiZGV2aWNlTmFtZSIsInNldERldmljZU1vZGVsIiwiZGV2aWNlTW9kZWwiLCJzZXRSZXF1ZXN0QmF0Y2hpbmciLCJiYXRjaEVuYWJsZWQiLCJjb29sZG93blNlY29uZHMiLCJzZXRTeXN0ZW1OYW1lIiwic3lzdGVtTmFtZSIsInNldFN5c3RlbVZlcnNpb24iLCJzeXN0ZW1WZXJzaW9uIiwic2V0VmFyaWFibGVzIiwidmFyaWFibGVzIiwic2V0VmFyaWFudERlYnVnSW5mb0VuYWJsZWQiLCJlbmFibGVSaWNoSW5BcHBNZXNzYWdlcyIsInByb2Nlc3NNZXNzYWdlRXZlbnQiLCJnZXRWYXJpYW50RGVidWdJbmZvIiwiZ2V0VmFyaWFibGVzIiwiX2EiLCJfaSIsImFwcGx5IiwiZ2V0VmFyaWFudHMiLCJhZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciIsInJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyIiwiZm9yY2VDb250ZW50VXBkYXRlIiwidXNlU2Vzc2lvbkxlbmd0aCIsInN0YXJ0IiwidXNlcklkIiwidXNlckF0dHJpYnV0ZXMiLCJzdGFydEZyb21DYWNoZSIsInN0b3AiLCJwYXVzZVNlc3Npb24iLCJyZXN1bWVTZXNzaW9uIiwicGF1c2VTdGF0ZSIsInJlc3VtZVN0YXRlIiwiZ2V0VXNlcklkIiwic2V0VXNlcklkIiwic2V0VXNlckF0dHJpYnV0ZXMiLCJ0cmFjayIsInBhcmFtcyIsInRyYWNrUHVyY2hhc2UiLCJjdXJyZW5jeUNvZGUiLCJhZHZhbmNlVG8iLCJpc1dlYlB1c2hTdXBwb3J0ZWQiLCJpc1dlYlB1c2hTdWJzY3JpYmVkIiwic2V0V2ViUHVzaE9wdGlvbnMiLCJyZWdpc3RlckZvcldlYlB1c2giLCJzZXJ2aWNlV29ya2VyVXJsIiwidW5yZWdpc3RlckZyb21XZWJQdXNoIiwiY2xlYXJVc2VyQ29udGVudCIsImRlZmluZUFjdGlvbiIsImFwcGx5UXVldWUiLCJxdWV1ZSIsImdldEZpbGVVcmwiLCJmaWxlbmFtZSIsIl9fZGVzdHJveSIsIlZFUlNJT04iLCJfX2Fzc2lnbiIsImFzc2lnbiIsIkxlYW5wbHVtSW5ib3hNZXNzYWdlIiwiQXJnc0J1aWxkZXJfMSIsIlN0b3JhZ2VNYW5hZ2VyXzEiLCJMZWFucGx1bUluYm94IiwiY3JlYXRlUmVxdWVzdCIsIm9uQWN0aW9uIiwibWVzc2FnZU1hcCIsImNoYW5nZUhhbmRsZXJzIiwiZG93bmxvYWRNZXNzYWdlcyIsIl90aGlzIiwicXVldWVkIiwic2VuZE5vdyIsIm5ld3NmZWVkTWVzc2FnZXMiLCJ0cmlnZ2VyQ2hhbmdlSGFuZGxlcnMiLCJtYXJrQXNSZWFkIiwiaXNSZWFkIiwiaW5ib3hNZXNzYWdlIiwib3BlbkFjdGlvbiIsIm9uQ2hhbmdlZCIsInVucmVhZENvdW50IiwiY3JlYXRlIiwiYWxsTWVzc2FnZXMiLCJ1bnJlYWRNZXNzYWdlcyIsIl9pZCIsIl90aXRsZSIsIl9zdWJ0aXRsZSIsIl9kYXRhIiwiX3RpbWVzdGFtcCIsIl9pc1JlYWQiLCJfaW1hZ2VVcmwiLCJfb3BlbkFjdGlvbiIsIm1lc3NhZ2VJbmZvIiwiX2IiLCJfYyIsIl9kIiwiX2UiLCJfZiIsIl9nIiwiX2giLCJfaiIsIl9rIiwiX2wiLCJwYXJlbnRDYW1wYWlnbklkIiwibWVzc2FnZURhdGEiLCJUaXRsZSIsIlN1YnRpdGxlIiwiRGF0YSIsImRlbGl2ZXJ5VGltZXN0YW1wIiwiSW1hZ2UiLCJzdWJ0aXRsZSIsInRpbWVzdGFtcCIsIkJyb3dzZXJEZXRlY3Rvcl8xIiwiSW50ZXJuYWxTdGF0ZV8xIiwiTGVhbnBsdW1JbmJveF8xIiwiTGVhbnBsdW1SZXF1ZXN0XzEiLCJMZWFucGx1bVNvY2tldF8xIiwiUHVzaE1hbmFnZXJfMSIsIk1lc3NhZ2VzXzEiLCJFdmVudEVtaXR0ZXJfMSIsIk1pZ3JhdGlvbk1hbmFnZXJfMSIsInB1YmxpY18xIiwiaW50ZXJuYWxfMSIsIlZhckNhY2hlXzEiLCJTRVNTSU9OX0tFWSIsIkxlYW5wbHVtSW50ZXJuYWwiLCJfbWlncmF0aW9uIiwiX2V2ZW50cyIsIl9pbnRlcm5hbFN0YXRlIiwiX2xwSW5ib3giLCJvbkluYm94QWN0aW9uIiwiX2xwUmVxdWVzdCIsIl92YXJDYWNoZSIsIl9scFNvY2tldCIsImdldExhc3RSZXNwb25zZSIsIl9wdXNoTWFuYWdlciIsIl9tZXNzYWdlcyIsIl9icm93c2VyRGV0ZWN0b3IiLCJwcmV2ZW50ZWQiLCJwcmV2ZW50RGVmYXVsdCIsInNoYSIsInZlcmlmeVN0YXRlIiwiX2xvY2FsZSIsIl9kZXZpY2VOYW1lIiwiX2RldmljZU1vZGVsIiwiYmF0Y2hDb29sZG93biIsIl9zeXN0ZW1OYW1lIiwiX3N5c3RlbVZlcnNpb24iLCJ2YXJpYW50cyIsInRyYWNrTWVzc2FnZSIsInJlZ2lzdGVyQWN0aW9uRGVmaW5pdGlvbiIsImtpbmQiLCJNZXNzYWdlS2luZCIsIlRlbXBsYXRlIiwiZ2V0VmFyc1Jlc3BvbnNlIiwiaXNTdWNjZXNzIiwiaXNSZXNwb25zZVN1Y2Nlc3MiLCJhcHBseURpZmZzIiwic2V0VmFyaWFudERlYnVnSW5mbyIsIl9zZXNzaW9uTGVuZ3RoIiwiaGFzQWN0aXZlU2Vzc2lvbiIsImdldFN0YXRlIiwiTWlncmF0aW9uU3RhdGUiLCJEVVBMSUNBVEUiLCJfY3QiLCJpbml0Q2xldmVyVGFwIiwiQ0xFVkVSVEFQIiwibWlncmF0ZVB1c2hUb2tlbiIsImNsZWFudXAiLCJvblVwZGF0ZSIsInRyaWdnZXJWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMiLCJzdGFydFJlc3BvbnNlIiwidXBkYXRlU2Vzc2lvbiIsImFjdGlvbkRlZmluaXRpb25zIiwibGF0ZXN0VmVyc2lvbiIsImNvbm5lY3RTb2NrZXQiLCJsb2FkRGlmZnMiLCJzdWNjZXNzIiwiaXNQdXJjaGFzZSIsImNsaWVudFVybCIsIl93ZWJQdXNoT3B0aW9ucyIsIndvcmtlclVybCIsImlzU3Vic2NyaWJlZCIsInN1YnNjcmliZVVzZXIiLCJ1bnN1YnNjcmliZVVzZXIiLCJpbnZvY2F0aW9uIiwiZHVwbGljYXRlUmVxdWVzdCIsImNvbm5lY3QiLCJjdXJyZW50VGltZSIsImxhc3RBY3RpdmUiLCJOZXR3b3JrXzEiLCJMZWFucGx1bVJlcXVlc3QiLCJuZXR3b3JrIiwiY29vbGRvd25UaW1lb3V0IiwibGFzdFJlcXVlc3RUaW1lIiwidXNlcklkVmFsdWUiLCJsb2FkSG9zdENvbmZpZyIsImxvYWRMb2NhbCIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJwb3NzaWJsZSIsInNhdmVMb2NhbCIsImFyZ3NCdWlsZGVyIiwic2VuZFJlcXVlc3QiLCJzZW5kVW5zZW50UmVxdWVzdHMiLCJyZXF1ZXN0c1RvU2VuZCIsInBvcFVuc2VudFJlcXVlc3RzIiwicmVxdWVzdERhdGEiLCJtdWx0aVJlcXVlc3RBcmdzIiwic2F2ZVJlcXVlc3RGb3JMYXRlciIsImdldEZpcnN0UmVzcG9uc2UiLCJCb29sZWFuIiwicXVlcnkiLCJhamF4IiwibWV0aG9kUmVzcG9uc2UiLCJzaGEyNTYiLCJtaWdyYXRlU3RhdGUiLCJhcGlIb3N0IiwiZGV2U2VydmVySG9zdCIsInJlbW92ZUxvY2FsIiwiaWdub3JlZCIsImhvc3RDb25maWciLCJsb2Rhc2hfaXNlcXVhbF8xIiwiU29ja2V0SW9DbGllbnRfMSIsIkxlYW5wbHVtU29ja2V0IiwibmV0d29ya1RpbWVvdXRTZWNvbmRzIiwic29ja2V0Q2xpZW50Iiwic29ja2V0SG9zdCIsImF1dGgiLCJXZWJTb2NrZXQiLCJhdXRoU2VudCIsIm9ub3BlbiIsInNlbmQiLCJvbm1lc3NhZ2UiLCJvbk1lc3NhZ2VSZWNlaXZlZCIsIm9uY2xvc2UiLCJjb25uZWN0ZWQiLCJjb25uZWN0aW5nIiwiZGlzY29ubmVjdCIsImFyZ3NfMSIsImRpZmZzIiwic2VuZFZhcmlhYmxlcyIsInVwZGF0ZWQiLCJzZW5kQWN0aW9ucyIsImFsZXJ0IiwiVmFsdWVUcmFuc2Zvcm1zXzEiLCJPY2N1cnJlbmNlVHJhY2tlciIsInRyaWdnZXJzIiwib2NjdXJyZW5jZXMiLCJyZWNvcmRPY2N1cnJlbmNlIiwic2Vzc2lvbk9jY3VycmVuY2VzIiwicmVjb3JkVHJpZ2dlck9jY3VycmVuY2UiLCJ0cmlnZ2VyT2NjdXJyZW5jZXMiLCJnZXRTZXNzaW9uT2NjdXJyYW5jZUNvdW50IiwiZ2V0T2NjdXJyZW5jZXMiLCJjbGVhclNlc3Npb24iLCJtYXliZUpTT04iLCJzdHIiLCJNZXNzYWdlcyIsIl9tZXNzYWdlQ2FjaGUiLCJvY2N1cnJlbmNlVHJhY2tlciIsIl9zaG93UmljaElBTSIsIm9uTWVzc2FnZVByZXZpZXciLCJvbk1lc3NhZ2VzUmVjZWl2ZWQiLCJvblRyaWdnZXIiLCJ0cmlnZ2VyIiwiYXR0cmlidXRlcyIsImNvbnRleHQiLCJnZXRNZXNzYWdlcyIsInNob3VsZFNob3dNZXNzYWdlIiwic2hvd01lc3NhZ2UiLCJldmVudEluZm8iLCJydW5BY3Rpb25OYW1lZCIsImFjdGlvbk5hbWUiLCJydW5UcmFja2VkQWN0aW9uTmFtZWQiLCJoYW5kbGVNZXNzYWdlIiwiYWRkRGVmYXVsdHMiLCJyZWNlaXZlZE1lc3NhZ2VzIiwibWF0Y2hlc1RyaWdnZXIiLCJ3aGVuVHJpZ2dlcnMiLCJtYXRjaGVzVW5sZXNzIiwidW5sZXNzVHJpZ2dlcnMiLCJ0cmlnZ2Vyc0NvdW50IiwibWF0Y2hlc0xpbWl0cyIsIndoZW5MaW1pdHMiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwiZXZlbnRVcmwiLCJwYXJhbSIsIm1ldGFkYXRhIiwiYW5jaG9yUHJvcCIsImFsdFByb3AiLCJwYXJhbWV0ZXJzIiwiX19uYW1lX18iLCJyZXNvbHZlRmlsZXMiLCJ0ZW1wbGF0ZU5hbWUiLCJ0ZW1wbGF0ZSIsInJlbmRlclJpY2hJbkFwcE1lc3NhZ2UiLCJyZXNvbHZlRmllbGRzIiwiam9pbiIsImNvbnRlbnQiLCJkb2MiLCJ3cml0ZSIsImNsb3NlIiwidHJhY2tPcHRpb25zIiwiZGVmaW5lZCIsInBhcmVudE1lc3NhZ2VJZCIsInByb2Nlc3NBY3Rpb24iLCJVUkwiLCJtZXNzYWdlSWRGcm9tQWN0aW9uIiwiY2hhaW5lZE1lc3NhZ2VJZF8xIiwibWVzc2FnZV8xIiwiZGVmaW5pdGlvbiIsImtpbmRzIiwidXNlRGVmYXVsdHMiLCJkZWZhdWx0VmFsdWVzIiwiZmlsZVByZWZpeCIsImNvbG9yU3VmZml4IiwiZGVjb2RlQ29sb3IiLCJpZ25vcmVDYXNlRXF1YWxzIiwibG9jYWxlQ29tcGFyZSIsInNlbnNpdGl2aXR5IiwibWF0Y2hlc1RyaWdnZXJzIiwiY29udGV4dE5vdW4iLCJtYXRjaGVzTm91biIsIm5vdW4iLCJ2ZXJiIiwib2JqZWN0cyIsInBhcmFtZXRlciIsIm1hdGNoZXNQYXJhbSIsInNvbWUiLCJzdWJqZWN0IiwiY29udGFpbnNBdHRyaWJ1dGUiLCJjb250ZXh0VmFsdWVfMSIsImV2ZXJ5IiwibGltaXQiLCJwZXJJbnRlcnZhbCIsInRpbWVTbG90IiwidmVyYlRvSW50ZXJ2YWwiLCJJZGVudGl0eU1hbmFnZXIiLCJJZGVudGl0eVN0YXRlIiwiY2xldmVydGFwX3dlYl9zZGtfMSIsIm5vb3AiLCJ0b01pZ3JhdGlvblN0YXRlIiwic2RrIiwiTEVBTlBMVU0iLCJVTktOT1dOIiwiTWlncmF0aW9uTWFuYWdlciIsIl9mZXRjaGluZyIsInNhdmVkUmVzcG9uc2UiLCJnZXRNaWdyYXRpb25TdGF0ZSIsImlzQW5vbnltb3VzIiwiY3QiLCJyZWdpb25Db2RlIiwiYXJnc0RpY3QiLCJldmVudFB1c2giLCJwcm9maWxlUHVzaCIsImF0dHJzIiwibWFwQXR0cmlidXRlcyIsImNvbnZlcnRBcnJheXMiLCJpc0VuZ2FnZW1lbnRFdmVudCIsImV2ZW50UGFyYW1zIiwiYXJyIiwibWFwcGluZyIsImF0dHJpYnV0ZU1hcHBpbmdzIiwiQU5PTllNT1VTIiwiaWRlbnRpZnkiLCJJREVOVElGSUVEIiwiaWRlbnRpZnlOb25Bbm9ueW1vdXMiLCJOZXR3b3JrIiwicmVxdWVzdFF1ZXVlIiwicnVubmluZ1JlcXVlc3QiLCJwbGFpblRleHQiLCJlbnF1ZXVlUmVxdWVzdCIsIlhEb21haW5SZXF1ZXN0IiwiYWpheElFOCIsImhhbmRsZWQiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsInJlc3BvbnNlXzEiLCJwYXJzZUVycm9yIiwicmVzcG9uc2VUZXh0IiwiZGVxdWV1ZVJlcXVlc3QiLCJibG9ja2VkIiwib250aW1lb3V0Iiwic2V0UmVxdWVzdEhlYWRlciIsImFib3J0IiwieGRyIiwib25wcm9ncmVzcyIsInJlcXVlc3RBcmd1bWVudHMiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJmdWxmaWxsZWQiLCJzdGVwIiwibmV4dCIsInJlamVjdGVkIiwiZG9uZSIsIl9fZ2VuZXJhdG9yIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJpdGVyYXRvciIsIm9wIiwiUHVzaE1hbmFnZXIiLCJnZXRTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uIiwidXBkYXRlTmV3U3Vic2NyaXB0aW9uT25TZXJ2ZXIiLCJlcnJvcl8xIiwiZXJyb3JfMiIsInVybEI2NFRvVWludDhBcnJheSIsImVycm9yXzMiLCJnZXRSZWdpc3RyYXRpb24iLCJkZWNvZGVEYXRhIiwib3V0cHV0QXJyYXkiLCJwcmVwYXJlZFN1YnNjcmlwdGlvbiIsInByZXBhcmVTdWJzY3JpcHRpb24iLCJwcmVwYXJlZFN1YnNjcmlwdGlvblN0cmluZyIsInNldFN1YnNjcmlwdGlvbiIsImtleUFzY2lpIiwiZW5jb2RlRGF0YSIsImF1dGhBc2NpaSIsImJ0b2EiLCJTb2NrZXRJb0NsaWVudCIsImxpbmUiLCJwYXJ0cyIsImhlYXJ0YmVhdCIsInNvY2tldCIsImhlYXJ0YmVhdEludGVydmFsIiwibWVzc2FnZVBhcnRzIiwibWVzc2FnZUV2ZW50IiwiYXJnc0pzb24iLCJzdG9yYWdlRW5hYmxlZCIsImxvY2FsIiwiYWx0ZXJuYXRlU3RvcmFnZSIsIlZhbHVlVHJhbnNmb3JtcyIsImNvbG9yIiwiZW5jb2RlQ29sb3IiLCJyZ2JhIiwiaGV4IiwiVmFyQ2FjaGUiLCJoYXNSZWNlaXZlZERpZmZzIiwibWVyZ2VkIiwidmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzIiwidmFyaWFudERlYnVnSW5mbyIsImt4IiwibWVyZ2VIZWxwZXIiLCJzYXZlRGlmZnMiLCJjdXJyZW50Iiwic2V0VmFycyIsImFyZ3VtZW50VHJlZSIsImFyZ3VtZW50S2luZHMiLCJvcHRpb25zVG9EZWZpbml0aW9ucyIsInByZWZpeCIsIm9iakl0ZXJhdG9yIiwiYXR0ciIsInZhcnNJdGVyYXRvciIsImRpZmZJdGVyYXRvciIsImF0dHJpYnV0ZSIsIm1lcmdlZF8xIiwidmFyU3Vic2NyaXB0Iiwic3Vic2NyaXB0IiwiZGlmZlZhbHVlIiwiQWN0aW9uUGFyYW1ldGVyVHlwZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImxvYWRlZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnbG9iYWxUaGlzIiwibm1kIiwicGF0aHMiXSwic291cmNlUm9vdCI6IiJ9