!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Leanplum=t():e.Leanplum=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={METHODS:{START:"start",STOP:"stop",ADVANCE:"advance",TRACK:"track",PAUSE_SESSION:"pauseSession",RESUME_SESSION:"resumeSession",PAUSE_STATE:"pauseState",RESUME_STATE:"resumeState",DOWNLOAD_FILE:"downloadFile",MULTI:"multi",SET_VARS:"setVars",GET_VARS:"getVars",SET_USER_ATTRIBUTES:"setUserAttributes",SET_DEVICE_ATTRIBUTES:"setDeviceAttributes",UPLOAD_FILE:"uploadFile",REGISTER_DEVICE:"registerDevice"},SDK_VERSION:"1.10.5-develop.5",CLIENT:"js",PARAMS:{ACTION:"action",APP_ID:"appId",CLIENT:"client",CLIENT_KEY:"clientKey",CURRENCY_CODE:"currencyCode",DEVICE_ID:"deviceId",SDK_VERSION:"sdkVersion",USER_ID:"userId",NEW_USER_ID:"newUserId",DEV_MODE:"devMode",VERSION_NAME:"versionName",SYSTEM_NAME:"systemName",SYSTEM_VERSION:"systemVersion",BROWSER_NAME:"browserName",BROWSER_VERSION:"browserVersion",DEVICE_NAME:"deviceName",DEVICE_MODEL:"deviceModel",USER_ATTRIBUTES:"userAttributes",LOCALE:"locale",COUNTRY:"country",REGION:"region",CITY:"city",LOCATION:"location",STATE:"state",INFO:"info",EVENT:"event",VALUE:"value",FILENAME:"filename",TIME:"time",DATA:"data",VARS:"vars",FILE:"file",SIZE:"size",VARIATION:"variation",HASH:"hash",EMAIL:"email",VARIABLES:"vars",ACTION_DEFINITIONS:"actionDefinitions",PARAMS:"params",INCLUDE_DEFAULTS:"includeDefaults",INCLUDE_VARIANT_DEBUG_INFO:"includeVariantDebugInfo",NEWSFEED_MESSAGES:"newsfeedMessages",MESSAGE_ID:"messageId",WEB_PUSH_SUBSCRIPTION:"webPushSubscription"},KEYS:{IS_REGISTERED:"isRegistered",LATEST_VERSION:"latestVersion",SYNC_INBOX:"syncNewsfeed",MESSAGES:"messages",VARS:"vars",VARIANTS:"variants",VARIANT_DEBUG_INFO:"variantDebugInfo",ACTION_DEFINITIONS:"actionDefinitions",TOKEN:"token"},DEFAULT_KEYS:{COUNT:"__leanplum_unsynced",ITEM:"__leanplum_unsynced_",VARIABLES:"__leanplum_variables",VARIANTS:"__leanplum_variants",VARIANT_DEBUG_INFO:"__leanplum_variant_debug_info",ACTION_DEFINITIONS:"__leanplum_action_definitions",HOST_CONFIG:"__leanplum_hosts",INBOX_MESSAGES:"__leanplum_inbox_messages",TOKEN:"__leanplum_token",DEVICE_ID:"__leanplum_device_id",USER_ID:"__leanplum_user_id",SESSION:"__leanplum_session",MESSAGE_OCCURRENCES:"__leanplum_message_occurrences",MESSAGE_CACHE:"__leanplum_message_cache",PUSH_SUBSCRIPTION:"__leanplum_push_subscription"},VALUES:{DETECT:"(detect)",DEFAULT_PUSH_ACTION:"Open action"}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),s=function(){function e(){this.argString="",this.argValues={}}return e.prototype.add=function(e,t){if(void 0===t)return this;this.argString&&(this.argString+="&");var n="";return n=t instanceof Array?JSON.stringify(t):encodeURIComponent(t),this.argString+=e+"="+n,this.argValues[e]=t,this},e.prototype.body=function(e){return e?(this._body=e,this):this._body},e.prototype.attachApiKeys=function(e,t){return this.add(i.default.PARAMS.APP_ID,e).add(i.default.PARAMS.CLIENT,i.default.CLIENT).add(i.default.PARAMS.CLIENT_KEY,t)},e.prototype.build=function(){return this.argString},e.prototype.buildDict=function(){return this.argValues},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={local:!0,session:!0},i={local:{},session:{}},s=function(){function e(){}return e.get=function(e,t){if(void 0===t&&(t="local"),!r[t])return i[t][e];try{return"local"===t?localStorage[e]:sessionStorage.getItem(e)}catch(n){return r[t]=!1,i[t][e]}},e.save=function(e,t,n){if(void 0===n&&(n="local"),r[n])try{"local"===n?localStorage[e]=t:sessionStorage.setItem(e,t)}catch(s){r[n]=!1,i[n][e]=t}else i[n][e]=t},e.remove=function(e,t){if(void 0===t&&(t="local"),r[t])try{"local"===t?localStorage.removeItem(e):sessionStorage.removeItem(e)}catch(n){r[t]=!1,delete i[t][e]}else delete i[t][e]},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.networkTimeoutSeconds=10,this.requestQueue=[],this.runningRequest=!1}return e.prototype.setNetworkTimeout=function(e){this.networkTimeoutSeconds=e},e.prototype.ajax=function(e,t,n,r,i,s,o){var a=this;if(s){if(this.runningRequest)return this.enqueueRequest(arguments);this.runningRequest=!0}if("undefined"!=typeof XDomainRequest)return"http:"===location.protocol&&0===t.indexOf("https:")&&(t="http:"+t.substring(6)),this.ajaxIE8(e,t,n,r,i,s,o);var u=!1,c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState){if(u)return;var e;u=!0;var t=!1;if(o)e=c.responseText;else try{e=JSON.parse(c.responseText)}catch(e){setTimeout((function(){i&&i(null,c)}),0),t=!0}t||(c.status>=200&&c.status<300?setTimeout((function(){r&&r(e,c)}),0):setTimeout((function(){i&&i(e,c)}),0)),s&&(a.runningRequest=!1,a.dequeueRequest())}},c.open(e,t,!0),c.setRequestHeader("Content-Type","text/plain"),c.send(n),setTimeout((function(){u||c.abort()}),1e3*this.networkTimeoutSeconds)},e.prototype.ajaxIE8=function(e,t,n,r,i,s,o){var a=this,u=new XDomainRequest;u.onload=function(){var e,t=!1;if(o)e=u.responseText;else try{e=JSON.parse(u.responseText)}catch(e){setTimeout((function(){i&&i(null,u)}),0),t=!0}t||setTimeout((function(){r&&r(e,u)}),0),s&&(a.runningRequest=!1,a.dequeueRequest())},u.onerror=u.ontimeout=function(){setTimeout((function(){i&&i(null,u)}),0),s&&(a.runningRequest=!1,a.dequeueRequest())},u.onprogress=function(){},u.open(e,t),u.timeout=1e3*this.networkTimeoutSeconds,u.send(n)},e.prototype.enqueueRequest=function(e){this.requestQueue.push(e)},e.prototype.dequeueRequest=function(){var e=this.requestQueue.shift();e&&this.ajax.apply(this,e)},e}();t.default=r},function(e,t,n){(function(e,n){var r="[object Arguments]",i="[object Map]",s="[object Object]",o="[object Set]",a=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[r]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[i]=c["[object Number]"]=c[s]=c["[object RegExp]"]=c[o]=c["[object String]"]=c["[object WeakMap]"]=!1;var l="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,f=l||d||Function("return this")(),p=t&&!t.nodeType&&t,h=p&&"object"==typeof n&&n&&!n.nodeType&&n,v=h&&h.exports===p,g=v&&l.process,_=function(){try{return g&&g.binding&&g.binding("util")}catch(e){}}(),S=_&&_.isTypedArray;function y(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function b(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function A(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var m,E,R,I=Array.prototype,T=Function.prototype,M=Object.prototype,O=f["__core-js_shared__"],D=T.toString,w=M.hasOwnProperty,N=(m=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",C=M.toString,P=RegExp("^"+D.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=v?f.Buffer:void 0,U=f.Symbol,L=f.Uint8Array,V=M.propertyIsEnumerable,j=I.splice,F=U?U.toStringTag:void 0,q=Object.getOwnPropertySymbols,H=k?k.isBuffer:void 0,K=(E=Object.keys,R=Object,function(e){return E(R(e))}),x=_e(f,"DataView"),W=_e(f,"Map"),Y=_e(f,"Promise"),B=_e(f,"Set"),G=_e(f,"WeakMap"),J=_e(Object,"create"),z=Ae(x),X=Ae(W),$=Ae(Y),Q=Ae(B),Z=Ae(G),ee=U?U.prototype:void 0,te=ee?ee.valueOf:void 0;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function se(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ie;++t<n;)this.add(e[t])}function oe(e){var t=this.__data__=new re(e);this.size=t.size}function ae(e,t){var n=Re(e),r=!n&&Ee(e),i=!n&&!r&&Ie(e),s=!n&&!r&&!i&&we(e),o=n||r||i||s,a=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=a.length;for(var c in e)!t&&!w.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||be(c,u))||a.push(c);return a}function ue(e,t){for(var n=e.length;n--;)if(me(e[n][0],t))return n;return-1}function ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?function(e){var t=w.call(e,F),n=e[F];try{e[F]=void 0;var r=!0}catch(e){}var i=C.call(e);r&&(t?e[F]=n:delete e[F]);return i}(e):function(e){return C.call(e)}(e)}function le(e){return De(e)&&ce(e)==r}function de(e,t,n,a,u){return e===t||(null==e||null==t||!De(e)&&!De(t)?e!=e&&t!=t:function(e,t,n,a,u,c){var l=Re(e),d=Re(t),f=l?"[object Array]":ye(e),p=d?"[object Array]":ye(t),h=(f=f==r?s:f)==s,v=(p=p==r?s:p)==s,g=f==p;if(g&&Ie(e)){if(!Ie(t))return!1;l=!0,h=!1}if(g&&!h)return c||(c=new oe),l||we(e)?he(e,t,n,a,u,c):function(e,t,n,r,s,a,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new L(e),new L(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return me(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case i:var c=b;case o:var l=1&r;if(c||(c=A),e.size!=t.size&&!l)return!1;var d=u.get(e);if(d)return d==t;r|=2,u.set(e,t);var f=he(c(e),c(t),r,s,a,u);return u.delete(e),f;case"[object Symbol]":if(te)return te.call(e)==te.call(t)}return!1}(e,t,f,n,a,u,c);if(!(1&n)){var _=h&&w.call(e,"__wrapped__"),S=v&&w.call(t,"__wrapped__");if(_||S){var y=_?e.value():e,m=S?t.value():t;return c||(c=new oe),u(y,m,n,a,c)}}if(!g)return!1;return c||(c=new oe),function(e,t,n,r,i,s){var o=1&n,a=ve(e),u=a.length,c=ve(t).length;if(u!=c&&!o)return!1;var l=u;for(;l--;){var d=a[l];if(!(o?d in t:w.call(t,d)))return!1}var f=s.get(e);if(f&&s.get(t))return f==t;var p=!0;s.set(e,t),s.set(t,e);var h=o;for(;++l<u;){d=a[l];var v=e[d],g=t[d];if(r)var _=o?r(g,v,d,t,e,s):r(v,g,d,e,t,s);if(!(void 0===_?v===g||i(v,g,n,r,s):_)){p=!1;break}h||(h="constructor"==d)}if(p&&!h){var S=e.constructor,y=t.constructor;S==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof S&&S instanceof S&&"function"==typeof y&&y instanceof y||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,n,a,u,c)}(e,t,n,a,de,u))}function fe(e){return!(!Oe(e)||function(e){return!!N&&N in e}(e))&&(Te(e)?P:a).test(Ae(e))}function pe(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||M,t!==r)return K(e);var t,n,r,i=[];for(var s in Object(e))w.call(e,s)&&"constructor"!=s&&i.push(s);return i}function he(e,t,n,r,i,s){var o=1&n,a=e.length,u=t.length;if(a!=u&&!(o&&u>a))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var l=-1,d=!0,f=2&n?new se:void 0;for(s.set(e,t),s.set(t,e);++l<a;){var p=e[l],h=t[l];if(r)var v=o?r(h,p,l,t,e,s):r(p,h,l,e,t,s);if(void 0!==v){if(v)continue;d=!1;break}if(f){if(!y(t,(function(e,t){if(o=t,!f.has(o)&&(p===e||i(p,e,n,r,s)))return f.push(t);var o}))){d=!1;break}}else if(p!==h&&!i(p,h,n,r,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function ve(e){return function(e,t,n){var r=t(e);return Re(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Ne,Se)}function ge(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function _e(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return fe(n)?n:void 0}ne.prototype.clear=function(){this.__data__=J?J(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(J){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return w.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return J?void 0!==t[e]:w.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=J&&void 0===t?"__lodash_hash_undefined__":t,this},re.prototype.clear=function(){this.__data__=[],this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=ue(t,e);return!(n<0)&&(n==t.length-1?t.pop():j.call(t,n,1),--this.size,!0)},re.prototype.get=function(e){var t=this.__data__,n=ue(t,e);return n<0?void 0:t[n][1]},re.prototype.has=function(e){return ue(this.__data__,e)>-1},re.prototype.set=function(e,t){var n=this.__data__,r=ue(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ie.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(W||re),string:new ne}},ie.prototype.delete=function(e){var t=ge(this,e).delete(e);return this.size-=t?1:0,t},ie.prototype.get=function(e){return ge(this,e).get(e)},ie.prototype.has=function(e){return ge(this,e).has(e)},ie.prototype.set=function(e,t){var n=ge(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},se.prototype.add=se.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},se.prototype.has=function(e){return this.__data__.has(e)},oe.prototype.clear=function(){this.__data__=new re,this.size=0},oe.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},oe.prototype.get=function(e){return this.__data__.get(e)},oe.prototype.has=function(e){return this.__data__.has(e)},oe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof re){var r=n.__data__;if(!W||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ie(r)}return n.set(e,t),this.size=n.size,this};var Se=q?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}(q(e),(function(t){return V.call(e,t)})))}:function(){return[]},ye=ce;function be(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||u.test(e))&&e>-1&&e%1==0&&e<t}function Ae(e){if(null!=e){try{return D.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function me(e,t){return e===t||e!=e&&t!=t}(x&&"[object DataView]"!=ye(new x(new ArrayBuffer(1)))||W&&ye(new W)!=i||Y&&"[object Promise]"!=ye(Y.resolve())||B&&ye(new B)!=o||G&&"[object WeakMap]"!=ye(new G))&&(ye=function(e){var t=ce(e),n=t==s?e.constructor:void 0,r=n?Ae(n):"";if(r)switch(r){case z:return"[object DataView]";case X:return i;case $:return"[object Promise]";case Q:return o;case Z:return"[object WeakMap]"}return t});var Ee=le(function(){return arguments}())?le:function(e){return De(e)&&w.call(e,"callee")&&!V.call(e,"callee")},Re=Array.isArray;var Ie=H||function(){return!1};function Te(e){if(!Oe(e))return!1;var t=ce(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Me(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Oe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function De(e){return null!=e&&"object"==typeof e}var we=S?function(e){return function(t){return e(t)}}(S):function(e){return De(e)&&Me(e.length)&&!!c[ce(e)]};function Ne(e){return null!=(t=e)&&Me(t.length)&&!Te(t)?ae(e):pe(e);var t}n.exports=function(e,t){return de(e,t)}}).call(this,n(14),n(15)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.decodeColor=function(e){var t=255&e,n=255&(e>>=8);return"rgba("+(255&(e>>=8))+","+n+","+t+","+(255&(e>>=8))/255+")"},e.encodeColor=function(e){if("number"==typeof e)return e;var t=/^rgba\((\d+),(\d+),(\d+),(\d+(\.\d+)?)\)$/.exec(e);if(t)return(255*parseInt(t[4],10)<<24)+((255&parseInt(t[1],10))<<16)+((255&parseInt(t[2],10))<<8)+(255&parseInt(t[3],10));var n=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e);if(n)return(255<<24)+((255&parseInt(n[1],16))<<16)+((255&parseInt(n[2],16))<<8)+(255&parseInt(n[3],16));throw new Error('Could not parse color "'+e+'"')},e}();t.default=r},function(e,t,n){var r=n(7);e.exports=r.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),s=r(n(8)),o=function(){function e(){}return e.setApiPath=function(t){e._lp.setApiPath(t)},e.setEmail=function(){},e.setNetworkTimeout=function(t){e._lp.setNetworkTimeout(t)},e.setAppIdForDevelopmentMode=function(t,n){e._lp.setAppIdForDevelopmentMode(t,n)},e.setAppIdForProductionMode=function(t,n){e._lp.setAppIdForProductionMode(t,n)},e.setSocketHost=function(t){e._lp.setSocketHost(t)},e.setDeviceId=function(t){e._lp.setDeviceId(t)},e.setLocale=function(t){e._lp.setLocale(t)},e.setAppVersion=function(t){e._lp.setAppVersion(t)},e.setDeviceName=function(t){e._lp.setDeviceName(t)},e.setDeviceModel=function(t){e._lp.setDeviceModel(t)},e.setRequestBatching=function(t,n){e._lp.setRequestBatching(t,n)},e.setSystemName=function(t){e._lp.setSystemName(t)},e.setSystemVersion=function(t){e._lp.setSystemVersion(t)},e.setVariables=function(t){e._lp.setVariables(t)},e.setVariantDebugInfoEnabled=function(t){e._lp.setVariantDebugInfoEnabled(t)},e.enableRichInAppMessages=function(t){e._lp.enableRichInAppMessages(t)},e.processMessageEvent=function(t,n){e._lp.processMessageEvent(t,n)},e.getVariantDebugInfo=function(){return e._lp.getVariantDebugInfo()},e.getVariables=function(){return e._lp.getVariables()},e.getVariable=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(t=e._lp).getVariable.apply(t,n)},e.getVariants=function(){return e._lp.getVariants()},e.inbox=function(){return e._lp.inbox()},e.addStartResponseHandler=function(t){e._lp.addStartResponseHandler(t)},e.removeStartResponseHandler=function(t){e._lp.removeStartResponseHandler(t)},e.addVariablesChangedHandler=function(t){e._lp.addVariablesChangedHandler(t)},e.removeVariablesChangedHandler=function(t){e._lp.removeVariablesChangedHandler(t)},e.forceContentUpdate=function(t){e._lp.forceContentUpdate(t)},e.useSessionLength=function(t){e._lp.useSessionLength(t)},e.start=function(t,n,r){e._lp.start(t,n,r)},e.startFromCache=function(t,n,r){e._lp.startFromCache(t,n,r)},e.stop=function(){e._lp.stop()},e.pauseSession=function(){e._lp.pauseSession()},e.resumeSession=function(){e._lp.resumeSession()},e.pauseState=function(){e._lp.pauseState()},e.resumeState=function(){e._lp.resumeState()},e.getUserId=function(){return this._lp.getUserId()},e.setUserId=function(t){e.setUserAttributes(t)},e.setUserAttributes=function(t,n){e._lp.setUserAttributes(t,n)},e.track=function(t,n,r,i){e._lp.track(t,n,r,i)},e.trackPurchase=function(t,n,r,i){void 0===i&&(i="Purchase"),e._lp.trackPurchase(t,n,r,i)},e.advanceTo=function(t,n,r){e._lp.advanceTo(t,n,r)},e.isWebPushSupported=function(){return e._lp.isWebPushSupported()},e.isWebPushSubscribed=function(){return e._lp.isWebPushSubscribed()},e.setWebPushOptions=function(t){return e._lp.setWebPushOptions(t)},e.registerForWebPush=function(t){return e._lp.registerForWebPush(t)},e.unregisterFromWebPush=function(){return e._lp.unregisterFromWebPush()},e.clearUserContent=function(){e._lp.clearUserContent()},e.defineAction=function(t){e._lp.defineAction(t)},e.applyQueue=function(t){e._lp.applyQueue(t)},e.on=function(t,n){e._lp.on(t,n)},e.off=function(t,n){e._lp.off(t,n)},e.getFileUrl=function(t){return e._lp.getFileUrl(t)},e.__destroy=function(){this._lp=new s.default(window)},e._lp=new s.default(window),e.VERSION=i.default.SDK_VERSION,e}();t.default=o},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),o=i(n(9)),a=i(n(0)),u=i(n(10)),c=i(n(11)),l=i(n(12)),d=i(n(13)),f=i(n(2)),p=i(n(17)),h=i(n(18)),v=i(n(19)),g=n(20),_=i(n(21)),S=a.default.DEFAULT_KEYS.SESSION,y=function(){function e(e){var t=this;this.wnd=e,this._events=new v.default,this._internalState=new u.default,this._lpInbox=new c.default(this.createRequest.bind(this),this.onInboxAction.bind(this)),this._lpRequest=new l.default(this._events),this._varCache=new _.default(this.createRequest.bind(this)),this._lpSocket=new d.default(this._varCache,this.createRequest.bind(this),this._lpRequest.getLastResponse.bind(this._lpRequest),this._events),this._pushManager=new p.default(this.createRequest.bind(this)),this._messages=new h.default(this._events,this.createRequest.bind(this),this.getFileUrl.bind(this)),this._browserDetector=new o.default(e),this._events.on("navigationChange",(function(e){var n=!1;t._events.emit("openUrl",{preventDefault:function(){return n=!0},url:e}),n||t.wnd.location.assign(e)})),this._events.on("registerForPush",(function(){return t.registerForWebPush()})),this._events.on("updateDevServerHost",(function(e){return t.setSocketHost(e)}))}return e.prototype.setApiPath=function(e){this._lpRequest.apiPath&&(this._lpRequest.apiPath=e)},e.prototype.setNetworkTimeout=function(e){this._lpRequest.setNetworkTimeout(e),this._lpSocket.setNetworkTimeout(e)},e.prototype.setAppIdForDevelopmentMode=function(e,t){this._lpRequest.appId=e,this._lpRequest.clientKey=t,this._internalState.devMode=!0},e.prototype.setAppIdForProductionMode=function(e,t){this._lpRequest.appId=e,this._lpRequest.clientKey=t,this._internalState.devMode=!1},e.prototype.setSocketHost=function(e){this._lpSocket.setSocketHost(e)},e.prototype.setDeviceId=function(e){this._lpRequest.deviceId=e},e.prototype.setLocale=function(e){this._locale=e},e.prototype.setAppVersion=function(e){this._lpRequest.versionName=e},e.prototype.setDeviceName=function(e){this._deviceName=e},e.prototype.setDeviceModel=function(e){this._deviceModel=e},e.prototype.setRequestBatching=function(e,t){this._lpRequest.batchEnabled=e,this._lpRequest.batchCooldown=t},e.prototype.setSystemName=function(e){this._systemName=e},e.prototype.setSystemVersion=function(e){this._systemVersion=e},e.prototype.setVariables=function(e){this._varCache.setVariables(e)},e.prototype.setVariantDebugInfoEnabled=function(e){this._internalState.variantDebugInfoEnabled=e},e.prototype.enableRichInAppMessages=function(e){this._messages.enableRichInAppMessages(e)},e.prototype.processMessageEvent=function(e,t){this._messages.processMessageEvent(e,t)},e.prototype.getVariantDebugInfo=function(){return this._varCache.getVariantDebugInfo()},e.prototype.getVariables=function(){return this._varCache.getVariables()},e.prototype.getVariable=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._varCache).getVariable.apply(e,t)},e.prototype.getVariants=function(){return this._varCache.variants||[]},e.prototype.inbox=function(){return this._lpInbox},e.prototype.on=function(e,t){this._events.on(e,t)},e.prototype.off=function(e,t){this._events.off(e,t)},e.prototype.onInboxAction=function(e,t){var n=this;this._messages.trackMessage(e,{event:"Open"},(function(){return t&&n._messages.onAction(t)}))},e.prototype.defineAction=function(e){this._varCache.registerActionDefinition(r({kind:g.MessageKind.Template},e))},e.prototype.addStartResponseHandler=function(e){this._internalState.addStartResponseHandler(e)},e.prototype.removeStartResponseHandler=function(e){this._internalState.removeStartResponseHandler(e)},e.prototype.addVariablesChangedHandler=function(e){this._varCache.addVariablesChangedHandler(e)},e.prototype.removeVariablesChangedHandler=function(e){this._varCache.removeVariablesChangedHandler(e)},e.prototype.getFileUrl=function(e){return this._lpRequest.getFileUrl(e)},e.prototype.forceContentUpdate=function(e){var t=this,n=(new s.default).add(a.default.PARAMS.INCLUDE_DEFAULTS,!1).add(a.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,this._internalState.variantDebugInfoEnabled);this.createRequest(a.default.METHODS.GET_VARS,n,{queued:!1,sendNow:!0,response:function(n){var r=t._lpRequest.getLastResponse(n),i=t._lpRequest.isResponseSuccess(r);i&&(t._varCache.applyDiffs(r[a.default.KEYS.VARS],r[a.default.KEYS.VARIANTS],r[a.default.KEYS.ACTION_DEFINITIONS]),t._varCache.setVariantDebugInfo(r[a.default.KEYS.VARIANT_DEBUG_INFO]),t._events.emit("messagesReceived",r[a.default.KEYS.MESSAGES])),e&&e(i)}})},e.prototype.useSessionLength=function(e){this._sessionLength=e},e.prototype.start=function(e,t,n){var r=this;if("function"==typeof e?(n=e,t={},e=null):"object"==typeof e&&null!=e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t={}),this.hasActiveSession()&&!this._internalState.devMode)return this.startFromCache(e,t,n);this._lpRequest.userId=e,n&&this.addStartResponseHandler(n),this._varCache.onUpdate=function(){r._varCache.triggerVariablesChangedHandlers()};var i=(new s.default).add(a.default.PARAMS.USER_ATTRIBUTES,JSON.stringify(t)).add(a.default.PARAMS.COUNTRY,a.default.VALUES.DETECT).add(a.default.PARAMS.REGION,a.default.VALUES.DETECT).add(a.default.PARAMS.CITY,a.default.VALUES.DETECT).add(a.default.PARAMS.LOCATION,a.default.VALUES.DETECT).add(a.default.PARAMS.SYSTEM_NAME,this._systemName||this._browserDetector.OS).add(a.default.PARAMS.SYSTEM_VERSION,(this._systemVersion||"").toString()).add(a.default.PARAMS.BROWSER_NAME,this._browserDetector.browser).add(a.default.PARAMS.BROWSER_VERSION,this._browserDetector.version.toString()).add(a.default.PARAMS.LOCALE,this._locale||a.default.VALUES.DETECT).add(a.default.PARAMS.DEVICE_NAME,this._deviceName||this._browserDetector.browser+" "+this._browserDetector.version).add(a.default.PARAMS.DEVICE_MODEL,this._deviceModel||"Web Browser").add(a.default.PARAMS.NEWSFEED_MESSAGES,this._lpInbox.messageIds()).add(a.default.PARAMS.INCLUDE_DEFAULTS,!1).add(a.default.PARAMS.INCLUDE_VARIANT_DEBUG_INFO,this._internalState.variantDebugInfoEnabled);this.createRequest(a.default.METHODS.START,i,{queued:!0,sendNow:!0,response:function(e){r._internalState.hasStarted=!0;var t=r._lpRequest.getLastResponse(e),n=r._lpRequest.isResponseSuccess(t);if(r._internalState.startSuccessful=n,n){r.updateSession();var i=t[a.default.KEYS.MESSAGES];if(t.actionDefinitions&&(i.actionDefinitions=t.actionDefinitions),r._events.emit("messagesReceived",i),t[a.default.KEYS.SYNC_INBOX]&&r._lpInbox.downloadMessages(),r._internalState.devMode){var s=t[a.default.KEYS.LATEST_VERSION];s&&console.log("A newer version of the Leanplum SDK, "+s+', is available.\nUse "npm update leanplum-sdk" or go to https://docs.leanplum.com/reference#javascript-setup to download it.'),r.connectSocket()}r._varCache.applyDiffs(t[a.default.KEYS.VARS],t[a.default.KEYS.VARIANTS],t[a.default.KEYS.ACTION_DEFINITIONS]),r._varCache.setVariantDebugInfo(t[a.default.KEYS.VARIANT_DEBUG_INFO]),r._varCache.token=t[a.default.KEYS.TOKEN]}else r._varCache.loadDiffs();r._events.emit("start",{success:n}),r._internalState.triggerStartHandlers()}})},e.prototype.startFromCache=function(e,t,n){"function"==typeof e?(n=e,t={},e=null):"object"==typeof e&&null!=e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t={}),this.updateSession(),this._lpRequest.userId=e,n&&this.addStartResponseHandler(n),this._internalState.hasStarted=!0,this._internalState.startSuccessful=!0,this._internalState.devMode&&this.connectSocket(),this._varCache.loadDiffs(),this._events.emit("resume"),this._internalState.triggerStartHandlers()},e.prototype.stop=function(){this.createRequest(a.default.METHODS.STOP,void 0,{sendNow:!0,queued:!0,response:function(){f.default.remove(S)}})},e.prototype.pauseSession=function(){this.createRequest(a.default.METHODS.PAUSE_SESSION,void 0,{sendNow:!0,queued:!0})},e.prototype.resumeSession=function(){this._events.emit("resume"),this.createRequest(a.default.METHODS.RESUME_SESSION,void 0,{sendNow:!0,queued:!0})},e.prototype.pauseState=function(){this.createRequest(a.default.METHODS.PAUSE_STATE,void 0,{queued:!0})},e.prototype.resumeState=function(){this.createRequest(a.default.METHODS.RESUME_STATE,void 0,{queued:!0})},e.prototype.getUserId=function(){return this._lpRequest.userId},e.prototype.setUserId=function(e){this.setUserAttributes(e)},e.prototype.setUserAttributes=function(e,t){if(void 0===t)if("object"==typeof e)t=e,e=void 0;else if("string"!=typeof e)return void console.log("Leanplum: setUserAttributes expects a string or an object");var n=(new s.default).add(a.default.PARAMS.USER_ATTRIBUTES,t?JSON.stringify(t):void 0).add(a.default.PARAMS.NEW_USER_ID,e);this._events.emit("setUserAttribute",t),this.createRequest(a.default.METHODS.SET_USER_ATTRIBUTES,n,{queued:!0}),e&&(this._lpRequest.userId=e,f.default.save(a.default.DEFAULT_KEYS.USER_ID,this._lpRequest.userId))},e.prototype.track=function(e,t,n,r){var i=this;"object"==typeof t&&null!=t?(r=t,n=void 0,t=void 0):"string"==typeof t?(r=n,n=t,t=void 0):"object"==typeof n&&null!=n&&(r=n,n=void 0);var o=(new s.default).add(a.default.PARAMS.EVENT,e).add(a.default.PARAMS.VALUE,t||0).add(a.default.PARAMS.INFO,n).add(a.default.PARAMS.PARAMS,JSON.stringify(r));this._events.emit("track",{eventName:e,params:r}),this.createRequest(a.default.METHODS.TRACK,o,{queued:!0,response:function(){return i.updateSession()}})},e.prototype.trackPurchase=function(e,t,n,r){void 0===r&&(r="Purchase");var i=(new s.default).add(a.default.PARAMS.EVENT,r).add(a.default.PARAMS.VALUE,e||0).add(a.default.PARAMS.PARAMS,JSON.stringify(n));t&&i.add(a.default.PARAMS.CURRENCY_CODE,t),this._events.emit("track",{eventName:r}),this.createRequest(a.default.METHODS.TRACK,i,{queued:!0})},e.prototype.advanceTo=function(e,t,n){"object"==typeof t&&null!=t&&(n=t,t=void 0);var r=(new s.default).add(a.default.PARAMS.STATE,e).add(a.default.PARAMS.INFO,t).add(a.default.PARAMS.PARAMS,JSON.stringify(n));this._events.emit("advanceState",{state:e,params:n}),this.createRequest(a.default.METHODS.ADVANCE,r,{queued:!0})},e.prototype.isWebPushSupported=function(){return this._pushManager.isWebPushSupported()},e.prototype.isWebPushSubscribed=function(){var e,t=(null===(e=this._webPushOptions)||void 0===e?void 0:e.clientUrl)||"";return this._pushManager.isWebPushSubscribed(t)},e.prototype.setWebPushOptions=function(e){this._webPushOptions=r({},e)},e.prototype.registerForWebPush=function(e){var t=this;if(this._pushManager.isWebPushSupported()){var n=this._webPushOptions||{},r=e||n.serviceWorkerUrl,i=n&&n.scope?{scope:n.scope}:null;return this._pushManager.register(r,i,(function(e){return e?Promise.resolve(!0):t._pushManager.subscribeUser()}))}return Promise.reject("Leanplum: WebPush is not supported.")},e.prototype.unregisterFromWebPush=function(){var e,t=(null===(e=this._webPushOptions)||void 0===e?void 0:e.clientUrl)||"";return this._pushManager.unsubscribeUser(t)},e.prototype.clearUserContent=function(){this._varCache.clearUserContent()},e.prototype.applyQueue=function(e){var t=this;e.forEach((function(e){return t[e.name].apply(t,e.args)}))},e.prototype.createRequest=function(e,t,n){void 0===n&&(n={}),this._lpRequest.request(e,t,r({devMode:this._internalState.devMode},n))},e.prototype.connectSocket=function(){this._lpSocket.connect({appId:this._lpRequest.appId,deviceId:this._lpRequest.deviceId})},e.prototype.hasActiveSession=function(){if(!this._sessionLength)return!1;var e=Date.now(),t=parseInt(f.default.get(S));return!isNaN(t)&&e-t<1e3*this._sessionLength},e.prototype.updateSession=function(){f.default.save(S,String(Date.now()))},e}();t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.browser=this.searchString(this.getBrowserData(e))||"Unknown Browser",this.version=this.searchVersion(e.navigator.userAgent)||this.searchVersion(e.navigator.appVersion)||"Unknown Version",this.OS=this.searchString(this.getOSData(e))||"Unknown OS"}return e.prototype.searchString=function(e){for(var t=0;t<e.length;t++){var n=e[t].string,r=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,n){if(-1!==n.indexOf(e[t].subString))return e[t].identity}else if(r)return e[t].identity}},e.prototype.searchVersion=function(e){if(e){var t=e.indexOf(this.versionSearchString);if(-1!==t)return parseFloat(e.substring(t+this.versionSearchString.length+1))}},e.prototype.getBrowserData=function(e){return[{string:e.navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:e.navigator.userAgent,subString:"OmniWeb",identity:"OmniWeb",versionSearch:"OmniWeb/"},{string:e.navigator.userAgent,subString:"CriOS",identity:"Chrome",versionSearch:"CriOS"},{string:e.navigator.userAgent,subString:"FxiOS",identity:"Firefox",versionSearch:"FxiOS"},{string:e.navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:e.opera,identity:"Opera",versionSearch:"Version"},{string:e.navigator.vendor,subString:"iCab",identity:"iCab"},{string:e.navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:e.navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:e.navigator.vendor,subString:"Camino",identity:"Camino"},{string:e.navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:e.navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:e.navigator.userAgent,subString:"Android",identity:"Android Browser",versionSearch:"Version"},{string:e.navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:e.navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}]},e.prototype.getOSData=function(e){return[{string:e.navigator.platform,subString:"Win",identity:"Windows"},{string:e.navigator.platform,subString:"Mac",identity:"Mac OS"},{string:e.navigator.platform,subString:"iPad",identity:"iOS"},{string:e.navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:e.navigator.userAgent,subString:"Android",identity:"Android"},{string:e.navigator.platform,subString:"Linux",identity:"Linux"}]},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.startHandlers=[],this.devMode=!1,this.hasStarted=!1,this.startSuccessful=!1,this.variantDebugInfoEnabled=!1}return e.prototype.addStartResponseHandler=function(e){this.startHandlers.push(e),this.hasStarted&&e(this.startSuccessful)},e.prototype.removeStartResponseHandler=function(e){var t=this.startHandlers.indexOf(e);t>=0&&this.startHandlers.splice(t,1)},e.prototype.triggerStartHandlers=function(){for(var e=0;e<this.startHandlers.length;e++)this.startHandlers[e](this.startSuccessful)},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),o=i(n(0)),a=i(n(2)),u=function(e){return Object.keys(e).map((function(t){return e[t]}))},c=function(){function e(e,t){this.createRequest=e,this.onAction=t,this.messageMap={},this.changeHandlers=[],this.load()}return e.prototype.downloadMessages=function(){var e=this;this.createRequest("getNewsfeedMessages",void 0,{queued:!0,sendNow:!0,response:function(t){var n=null==t?void 0:t.response[0];n&&n.newsfeedMessages&&(e.messageMap=n.newsfeedMessages,e.triggerChangeHandlers())}})},e.prototype.markAsRead=function(e){var t=this.messageMap[e];if(t&&!t.isRead){t.isRead=!0,this.triggerChangeHandlers();var n=new s.default;n.add("newsfeedMessageId",e),this.createRequest("markNewsfeedMessageAsRead",n,{})}},e.prototype.read=function(e){this.markAsRead(e);var t=this.message(e),n=e.split("##")[0],r=(null==t?void 0:t.openAction())||null;this.onAction(n,r)},e.prototype.remove=function(e){if(this.messageMap[e]){delete this.messageMap[e],this.triggerChangeHandlers();var t=new s.default;t.add("newsfeedMessageId",e),this.createRequest("deleteNewsfeedMessage",t,{})}},e.prototype.onChanged=function(e){this.changeHandlers.push(e)},e.prototype.triggerChangeHandlers=function(){this.changeHandlers.forEach((function(e){return e()})),this.save()},e.prototype.save=function(){a.default.save(o.default.DEFAULT_KEYS.INBOX_MESSAGES,JSON.stringify(this.messageMap),"session")},e.prototype.load=function(){var e=a.default.get(o.default.DEFAULT_KEYS.INBOX_MESSAGES,"session");try{this.messageMap=JSON.parse(e)||{}}catch(e){this.messageMap={}}},e.prototype.count=function(){return u(this.messageMap).length},e.prototype.unreadCount=function(){return u(this.messageMap).filter((function(e){return!e.isRead})).length},e.prototype.messages=function(e){var t=[];for(var n in this.messageMap){var r=this.messageMap[n];e(r)&&t.push(l.create(n,r))}return t},e.prototype.allMessages=function(){return this.messages((function(){return!0}))},e.prototype.unreadMessages=function(){return this.messages((function(e){return!e.isRead}))},e.prototype.messageIds=function(){return Object.keys(this.messageMap)},e.prototype.message=function(e){var t=this.messageMap[e];return t?l.create(e,t):null},e}();t.default=c;var l=function(){function e(e,t,n,r,i,s,o,a){this._id=e,this._title=t,this._subtitle=n,this._data=r,this._timestamp=i,this._isRead=s,this._imageUrl=o,this._openAction=a}return e.create=function(t,n){var i,s,a,u,c,l,d,f,p,h,v,g=null===(i=n.messageData)||void 0===i?void 0:i.parentCampaignId,_=r(r({},null===(a=null===(s=n.messageData)||void 0===s?void 0:s.vars)||void 0===a?void 0:a[o.default.VALUES.DEFAULT_PUSH_ACTION]),{parentCampaignId:g});return new e(t,null===(c=null===(u=n.messageData)||void 0===u?void 0:u.vars)||void 0===c?void 0:c.Title,null===(d=null===(l=n.messageData)||void 0===l?void 0:l.vars)||void 0===d?void 0:d.Subtitle,null===(p=null===(f=n.messageData)||void 0===f?void 0:f.vars)||void 0===p?void 0:p.Data,n.deliveryTimestamp,n.isRead,null===(v=null===(h=n.messageData)||void 0===h?void 0:h.vars)||void 0===v?void 0:v.Image,_)},e.prototype.id=function(){return this._id},e.prototype.title=function(){return this._title},e.prototype.subtitle=function(){return this._subtitle},e.prototype.data=function(){return this._data},e.prototype.timestamp=function(){return this._timestamp},e.prototype.isRead=function(){return this._isRead},e.prototype.imageUrl=function(){return this._imageUrl},e.prototype.openAction=function(){return this._openAction},e}();t.LeanplumInboxMessage=l},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),s=r(n(0)),o=r(n(2)),a=r(n(3)),u=function(){function e(e,t){void 0===t&&(t=new a.default),this.events=e,this.network=t,this.cooldownTimeout=null,this.lastRequestTime=void 0,this.userIdValue=void 0,this.apiPath="https://api.leanplum.com/api",this.batchCooldown=5,this.batchEnabled=!0,this.loadHostConfig()}return Object.defineProperty(e.prototype,"userId",{get:function(){var e,t;return null!==(t=null!==(e=this.userIdValue)&&void 0!==e?e:this.loadLocal(s.default.DEFAULT_KEYS.USER_ID))&&void 0!==t?t:this.deviceId},set:function(e){this.userIdValue=e},enumerable:!0,configurable:!0}),e.prototype.request=function(e,t,n){var r=this;if(void 0===n&&(n={}),n=n||{},t=t||new i.default,this.deviceId||(this.deviceId=this.loadLocal(s.default.DEFAULT_KEYS.DEVICE_ID)),!this.deviceId){for(var o="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",u=0;u<16;u++)o+=a.charAt(Math.floor(Math.random()*a.length));this.deviceId=o,this.saveLocal(s.default.DEFAULT_KEYS.DEVICE_ID,o)}this.saveLocal(s.default.DEFAULT_KEYS.USER_ID,this.userId);var c=t.attachApiKeys(this.appId,this.clientKey).add(s.default.PARAMS.SDK_VERSION,s.default.SDK_VERSION).add(s.default.PARAMS.DEVICE_ID,this.deviceId).add(s.default.PARAMS.USER_ID,this.userId).add(s.default.PARAMS.ACTION,e).add(s.default.PARAMS.VERSION_NAME,this.versionName).add(s.default.PARAMS.DEV_MODE,n.devMode).add(s.default.PARAMS.TIME,((new Date).getTime()/1e3).toString()),l=n.success||n.response,d=n.error||n.response;if(!this.appId||!this.clientKey){var f="Leanplum App ID and client key are not set. Make sure you are calling setAppIdForDevelopmentMode or setAppIdForProductionMode before issuing API calls.";return console.error(f),void(d&&d(f))}if(t.body())this.sendRequest("?"+c.build(),t.body(),l,d,n.queued);else{var p=n.devMode||n.sendNow||!this.batchEnabled,h=function(){var e=r.popUnsentRequests();if(e.length>0){var t=JSON.stringify({data:e}),o=(new i.default).attachApiKeys(r.appId,r.clientKey).add(s.default.PARAMS.SDK_VERSION,s.default.SDK_VERSION).add(s.default.PARAMS.ACTION,s.default.METHODS.MULTI).add(s.default.PARAMS.TIME,((new Date).getTime()/1e3).toString().toString()).build();r.sendRequest("?"+o,t,l,d,n.queued)}};if(!p&&this.batchCooldown){var v=(new Date).getTime()/1e3;!this.lastRequestTime||v-this.lastRequestTime>=this.batchCooldown?(p=!0,this.lastRequestTime=v):this.cooldownTimeout||(this.cooldownTimeout=setTimeout((function(){r.cooldownTimeout=null,r.lastRequestTime=(new Date).getTime()/1e3,h()}),1e3*(this.batchCooldown-(v-this.lastRequestTime))))}this.saveRequestForLater(c.buildDict()),p&&h()}},e.prototype.getFileUrl=function(e){if(!e)return"";if(/^https?:/.test(e))return e;var t=(new i.default).attachApiKeys(this.appId,this.clientKey).add(s.default.PARAMS.SDK_VERSION,s.default.SDK_VERSION).add(s.default.PARAMS.ACTION,"downloadFile").add("filename",e);return this.apiPath+"?"+t.build()},e.prototype.setNetworkTimeout=function(e){this.network.setNetworkTimeout(e)},e.prototype.getLastResponse=function(e){var t,n,r,i=null!==(n=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.length)&&void 0!==n?n:0;return i>0?null===(r=null==e?void 0:e.response)||void 0===r?void 0:r[i-1]:null},e.prototype.getFirstResponse=function(e){var t,n,r;return(null!==(n=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.length)&&void 0!==n?n:0)>0?null===(r=null==e?void 0:e.response)||void 0===r?void 0:r[0]:null},e.prototype.isResponseSuccess=function(e){return Boolean(null==e?void 0:e.success)},e.prototype.saveRequestForLater=function(e){var t=this.loadLocal(s.default.DEFAULT_KEYS.COUNT)||0,n=s.default.DEFAULT_KEYS.ITEM+t;this.saveLocal(n,JSON.stringify(e)),t++,this.saveLocal(s.default.DEFAULT_KEYS.COUNT,t)},e.prototype.sendRequest=function(e,t,n,r,i){var o=this;this.network.ajax("POST",""+this.apiPath+e,t,(function(a){var u=o.getFirstResponse(a);if(!u.success&&u.apiHost){var c=u.apiHost,l=u.apiPath,d=u.devServerHost;o.saveLocal(s.default.DEFAULT_KEYS.HOST_CONFIG,JSON.stringify({apiHost:c,apiPath:l,devServerHost:d})),o.apiPath="https://"+c+"/"+l,o.sendRequest(e,t,n,r,i),o.events.emit("updateDevServerHost",d)}else n&&n(a)}),r,i)},e.prototype.popUnsentRequests=function(){var e=[],t=this.loadLocal(s.default.DEFAULT_KEYS.COUNT)||0;this.removeLocal(s.default.DEFAULT_KEYS.COUNT);for(var n=0;n<t;n++){var r=s.default.DEFAULT_KEYS.ITEM+n;try{e.push(JSON.parse(this.loadLocal(r)))}catch(e){}this.removeLocal(r)}return e},e.prototype.loadHostConfig=function(){var e=JSON.parse(this.loadLocal(s.default.DEFAULT_KEYS.HOST_CONFIG)||"null");if(e){var t=e.apiHost,n=e.apiPath,r=e.devServerHost;this.apiPath="https://"+t+"/"+n,this.events.emit("updateDevServerHost",r)}},e.prototype.loadLocal=function(e){return o.default.get(e)},e.prototype.saveLocal=function(e,t){o.default.save(e,t)},e.prototype.removeLocal=function(e){o.default.remove(e)},e}();t.default=u},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(4)),s=r(n(1)),o=r(n(0)),a=r(n(16)),u=function(){function e(e,t,n,r){this.cache=e,this.createRequest=t,this.getLastResponse=n,this.events=r,this.networkTimeoutSeconds=10,this.socketClient=null,this.socketHost="dev.leanplum.com",this.auth=null}return e.prototype.connect=function(e){var t=this;if(WebSocket){this.auth=e;var n=!1;this.socketClient=new a.default,this.socketClient.setNetworkTimeout(this.networkTimeoutSeconds),this.socketClient.onopen=function(){var r;n||(console.log("Leanplum: Connected to development server."),t.socketClient.send("auth",((r={})[o.default.PARAMS.APP_ID]=e.appId,r[o.default.PARAMS.DEVICE_ID]=e.deviceId,r)),n=!0)},this.socketClient.onerror=function(e){console.log("Leanplum: Socket error",e)},this.socketClient.onmessage=this.onMessageReceived.bind(this),this.socketClient.onclose=function(){console.log("Leanplum: Disconnected from development server."),n=!1},this.socketClient.connect(this.socketHost),setInterval((function(){t.socketClient.connected||t.socketClient.connecting||t.socketClient.connect(t.socketHost)}),5e3)}else console.log("Your browser doesn't support WebSockets.")},e.prototype.setSocketHost=function(e){this.socketHost=e,this.socketClient.connected&&(this.socketClient.disconnect(),this.connect(this.auth))},e.prototype.setNetworkTimeout=function(e){var t;this.networkTimeoutSeconds=e,null===(t=this.socketClient)||void 0===t||t.setNetworkTimeout(e)},e.prototype.onMessageReceived=function(e,t){var n=this;if("updateVars"===e){var r=(new s.default).add(o.default.PARAMS.INCLUDE_DEFAULTS,!1);this.createRequest(o.default.METHODS.GET_VARS,r,{queued:!1,sendNow:!0,response:function(e){var t=n.getLastResponse(e),r=t[o.default.KEYS.VARS],s=t[o.default.KEYS.VARIANTS],a=t[o.default.KEYS.ACTION_DEFINITIONS];i.default(r,n.cache.diffs)||n.cache.applyDiffs(r,s,a)}})}else if("getVariables"===e)this.cache.sendVariables(),this.socketClient.send("getContentResponse",{updated:!0});else if("getActions"===e){var a=this.cache.sendActions();this.socketClient.send("getContentResponse",{updated:a})}else if("registerDevice"===e){var u=t[0];alert("Your device has been registered to "+u.email+".")}else if("trigger"===e){u=t[0];this.events.emit("previewRequest",u)}},e}();t.default=u},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3)),s=function(){function e(){this.network=new i.default,this.connected=!1,this.connecting=!1,this.connected=!1,this.connecting=!1}return e.prototype.connect=function(e){var t=this;this.connecting=!0,this.network.ajax("POST","https://"+e+"/socket.io/1","",(function(n){var r=n.split(":"),i=r[0],s=parseInt(r[1])/2*1e3;t.socket=new WebSocket("wss://"+e+"/socket.io/1/websocket/"+i);var o=null;t.socket.onopen=function(){t.connected=!0,t.connecting=!1,t.onopen&&t.onopen(),o=setInterval((function(){t.socket.send("2:::")}),s)},t.socket.onclose=function(){t.connected=!1,clearInterval(o),t.onclose&&t.onclose()},t.socket.onmessage=function(e){var n=e.data.split(":"),r=parseInt(n[0]);if(2===r)t.socket.send("2::");else if(5===r){var i=n[1],s=JSON.parse(n.slice(3).join(":")),o=s.name,a=s.args;i&&t.socket.send("6:::"+i),t.onmessage&&t.onmessage(o,a)}else 7===r&&console.log("Socket error: "+e.data)},t.socket.onerror=function(e){t.socket.close(),t.onerror&&t.onerror(e)}}),null,!1,!0)},e.prototype.disconnect=function(){this.socket.close(),this.connected=!1,this.connecting=!1},e.prototype.send=function(e,t){if(this.connected){var n=JSON.stringify({name:e,args:t});this.socket.send("5:::"+n)}else console.log("Leanplum: Socket is not connected.")},e.prototype.setNetworkTimeout=function(e){this.network.setNetworkTimeout(e)},e}();t.default=s},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(1)),a=s(n(0)),u=s(n(2)),c=function(){function e(e){this.createRequest=e,this.serviceWorkerRegistration=null}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return window.navigator.serviceWorker},enumerable:!0,configurable:!0}),e.prototype.isWebPushSupported=function(){return Boolean(void 0!==(null===window||void 0===window?void 0:window.navigator)&&"serviceWorker"in window.navigator&&"PushManager"in window)},e.prototype.isWebPushSubscribed=function(e){return void 0===e&&(e=""),r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return this.isWebPushSupported()?[4,this.getServiceWorkerRegistration(e)]:[2,!1];case 1:return(t=i.sent())?[4,t.pushManager.getSubscription()]:[2,!1];case 2:return n=i.sent(),(r=null!==n)&&this.updateNewSubscriptionOnServer(n),[2,r]}}))}))},e.prototype.register=function(e,t,n){return r(this,void 0,void 0,(function(){var r,s,o,a;return i(this,(function(i){switch(i.label){case 0:if(!this.isWebPushSupported())return console.log("Leanplum: Push messaging is not supported."),[2,n(!1)];i.label=1;case 1:return i.trys.push([1,4,,5]),r=this,[4,this.serviceWorker.register(e||"/sw.min.js",t)];case 2:return r.serviceWorkerRegistration=i.sent(),[4,this.serviceWorkerRegistration.pushManager.getSubscription()];case 3:return s=i.sent(),(o=null!==s)&&this.updateNewSubscriptionOnServer(s),[2,n(o)];case 4:return a=i.sent(),console.log("Leanplum: Service Worker Error: ",a),[2,n(!1)];case 5:return[2]}}))}))},e.prototype.subscribeUser=function(){return r(this,void 0,void 0,(function(){var e,t,n;return i(this,(function(r){switch(r.label){case 0:e=this.urlB64ToUint8Array("BInWPpWntfR39rgXSP04pqdmEdDGa50z6zqbMvxyxJCwzXIuSpSh8C888-CfJ82WELl7Xe8cjAnfCt-3vK0Ci68"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})];case 2:if(!(t=r.sent()))throw new Error;return this.updateNewSubscriptionOnServer(t),[3,4];case 3:throw n=r.sent(),new Error("Leanplum: Failed to subscribe the user: "+n);case 4:return[2,!0]}}))}))},e.prototype.unsubscribeUser=function(e){return void 0===e&&(e=""),r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return[4,this.isWebPushSubscribed(e)];case 1:if(!r.sent())return[3,6];r.label=2;case 2:return r.trys.push([2,5,,6]),[4,this.serviceWorkerRegistration.pushManager.getSubscription()];case 3:if(!(t=r.sent()))throw new Error;return[4,t.unsubscribe()];case 4:return r.sent(),[3,6];case 5:throw n=r.sent(),new Error("Leanplum: Error unsubscribing: "+n);case 6:return[2]}}))}))},e.prototype.getServiceWorkerRegistration=function(e){return void 0===e&&(e=""),r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return this.serviceWorkerRegistration?[3,2]:(t=this,[4,this.serviceWorker.getRegistration(e)]);case 1:t.serviceWorkerRegistration=n.sent(),n.label=2;case 2:return[2,this.serviceWorkerRegistration]}}))}))},e.prototype.urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=this.decodeData(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r},e.prototype.updateNewSubscriptionOnServer=function(e){if(e){var t=this.prepareSubscription(e),n=JSON.stringify(t);u.default.get(a.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION)!==n&&(u.default.save(a.default.DEFAULT_KEYS.PUSH_SUBSCRIPTION,n),this.setSubscription(n))}},e.prototype.prepareSubscription=function(e){var t="getKey"in e?e.getKey("p256dh"):[],n="getKey"in e?e.getKey("auth"):[],r=this.encodeData(String.fromCharCode.apply(null,new Uint8Array(t))),i=this.encodeData(String.fromCharCode.apply(null,new Uint8Array(n)));return{endpoint:e.endpoint,key:r,auth:i}},e.prototype.setSubscription=function(e){if(e){var t=(new o.default).add(a.default.PARAMS.WEB_PUSH_SUBSCRIPTION,e);this.createRequest(a.default.METHODS.SET_DEVICE_ATTRIBUTES,t,{queued:!1,sendNow:!0})}},e.prototype.encodeData=function(e){return window.btoa(e)},e.prototype.decodeData=function(e){return window.atob(e)},e}();t.default=c},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(0)),o=i(n(1)),a=i(n(3)),u=i(n(4)),c=i(n(2)),l=i(n(5)),d=function(){function e(){this.session={},this.triggers={},this.occurrences={}}return e.prototype.recordOccurrence=function(e){var t=(this.session[e]||0)+1;this.session[e]=t;var n=this.occurrences[e]||[];n.push(Date.now()),this.occurrences[e]=n,this.save()},e.prototype.recordTriggerOccurrence=function(e){var t=this.triggers[e]||[];return t.push(Date.now()),this.triggers[e]=t,this.save(),t.length},e.prototype.getSessionOccurranceCount=function(e){return this.session[e]||0},e.prototype.getOccurrences=function(e){return this.occurrences[e]||[]},e.prototype.clearSession=function(){this.session={}},e.prototype.load=function(){var e=c.default.get(s.default.DEFAULT_KEYS.MESSAGE_OCCURRENCES);if(e){var t=f(e);t&&(this.session=t.session,this.triggers=t.triggers,this.occurrences=t.occurrences)}},e.prototype.save=function(){var e=s.default.DEFAULT_KEYS.MESSAGE_OCCURRENCES;c.default.save(e,JSON.stringify({session:this.session,triggers:this.triggers,occurrences:this.occurrences}))},e}(),f=function(e){try{return JSON.parse(e)}catch(e){return}},p=function(){function e(e,t,n){var r=this;this.events=e,this.createRequest=t,this.getFileUrl=n,this._messageCache={},this.occurrenceTracker=new d,this._showRichIAM=!1,e.on("previewRequest",this.onMessagePreview.bind(this)),e.on("messagesReceived",this.onMessagesReceived.bind(this)),e.on("start",(function(){r.occurrenceTracker.load(),r.occurrenceTracker.clearSession(),r.onTrigger({trigger:"start"})})),e.on("resume",(function(){var e=s.default.DEFAULT_KEYS.MESSAGE_CACHE,t=f(c.default.get(e));r._messageCache=t||r._messageCache,r.occurrenceTracker.load(),r.onTrigger({trigger:"resume"})})),e.on("track",(function(e){r.onTrigger({trigger:"event",eventName:e.eventName,params:e.params||{}})})),e.on("advanceState",(function(e){return r.onTrigger({trigger:"state",state:e.state,params:e.params||{}})})),e.on("setUserAttribute",(function(e){return r.onTrigger({trigger:"userAttribute",attributes:e})}))}return e.prototype.enableRichInAppMessages=function(e){this._showRichIAM=e},e.prototype.onTrigger=function(e){var t=this,n=this.getMessages();Object.keys(n).filter((function(r){return t.shouldShowMessage(r,n[r],e)})).slice(0,1).forEach((function(e){return t.showMessage(e,n[e])}))},e.prototype.onMessagePreview=function(e){var t=e.action,n={track:function(t){var n=t?"event '"+t+"'":"impression";console.log("Tracking "+n+" for "+e.messageId)},runActionNamed:function(e){return console.log("Running untracked action '"+e+"'")},runTrackedActionNamed:function(e){return console.log("Running tracked action '"+e+"'")}};this.handleMessage({isPreview:!0,message:this.addDefaults(r({messageId:e.messageId},t)),context:n})},e.prototype.onMessagesReceived=function(e){var t=e||{};this._messageCache=t,c.default.save(s.default.DEFAULT_KEYS.MESSAGE_CACHE,JSON.stringify(t))},e.prototype.shouldShowMessage=function(e,t,n){var r=Date.now(),i=this.matchesTrigger(t.whenTriggers,n),s=this.matchesTrigger(t.unlessTriggers,n);if(!i||s)return!1;var o=this.occurrenceTracker.recordTriggerOccurrence(e);if(!this.matchesLimits(e,t.whenLimits,o))return!1;if(t.startTime&&t.endTime&&(r<t.startTime||t.endTime<r))return!1;return!0},e.prototype.showMessage=function(e,t){var n=this,i=this.addDefaults(r({},t.vars)),s={track:function(t,r,i,s){n.occurrenceTracker.recordOccurrence(e),n.trackMessage(e,{event:t,value:r,info:i,params:s})},runActionNamed:function(t){return n.onAction(i[t],e)},runTrackedActionNamed:function(t){var r=t.replace(/ action$/,"");n.trackMessage(e,{event:r},(function(){return n.onAction(i[t],e)}))}};this.handleMessage({context:s,message:r({messageId:e},i)})},e.prototype.processMessageEvent=function(e,t){var n=document.getElementById("lp-message-"+e);if(n){var r=t.replace(/^http:\/\/leanplum\//,"").split("?"),i=r[0],s=r[1],o=(void 0===s?"":s).split("&").reduce((function(e,t){var n=t.split("="),r=n[0],i=n[1];return e[r]=decodeURIComponent(i),e}),{}),a=n.metadata,u=a.message,c=a.context;switch(i){case"loadFinished":if(n.style.visibility="visible",n.style.left="0",u["HTML Height"]>0){var l=u["HTML Width"];n.style.height=u["HTML Height"]+"px",n.style.width=l,n.style.left="calc((100% - "+l+") / 2)";var d=u["HTML Align"].toLowerCase(),p="top"===d?"bottom":"top";n.style[d]="0",n.style[p]=""}else n.style.top="0";n.contentWindow.focus(),c.track();break;case"track":c.track(o.event,parseFloat(o.value),o.info,f(o.parameters));break;case"runAction":case"runTrackedAction":c[i+"Named"](o.action);case"close":n.metadata=null,n.parentNode.removeChild(n)}}else console.log("message closed, skipping event processing")},e.prototype.handleMessage=function(e){var t=this;if(this._showRichIAM&&"HTML"===e.message.__name__){this.resolveFiles(e.message);var n=e.message.Template||"";(new a.default).ajax("get",n.replace("-10.html","-11.html"),"",(function(n){return t.renderRichInAppMessage(n,e)}),(function(){}),!1,!0)}else this.events.emit("showMessage",this.resolveFields(e))},e.prototype.renderRichInAppMessage=function(e,t){var n=t.message.messageId,r=JSON.stringify(t.message),i=document.createElement("iframe");i.setAttribute("id","lp-message-"+n),i.setAttribute("title","Popup"),i.setAttribute("aria-modal","true"),i.style.cssText=["border-width: 0","position: fixed","top: -100%","left: -100%","width: 100%","height: 100%","visibility: hidden","z-index: 100000"].join(";"),document.body.insertBefore(i,document.body.firstChild),i.metadata=t,i.contentWindow.messageId=n;var s=e.replace("##Vars##",r).replace("<body>","<body><script>window.messageId='"+n+"'<\/script>");if("srcdoc"in i)i.srcdoc=s;else{var o=i.contentWindow.document;o.open(),o.write(s),o.close()}},e.prototype.trackMessage=function(e,t,n){void 0===t&&(t={event:null}),void 0===n&&(n=function(){});var r=(new o.default).add(s.default.PARAMS.MESSAGE_ID,e),i=function(e){return void 0!==e};t.event&&r.add(s.default.PARAMS.EVENT,t.event),i(t.value)&&r.add(s.default.PARAMS.VALUE,t.value||0),i(t.info)&&r.add(s.default.PARAMS.INFO,t.info),i(t.params)&&r.add(s.default.PARAMS.PARAMS,JSON.stringify(t.params)),this.createRequest(s.default.METHODS.TRACK,r,{queued:!0,sendNow:!0,response:n})},e.prototype.onAction=function(e,t){var n=this;if(void 0===t&&(t=""),e){var r=this._messageCache;if("Chain to Existing Message"!==e.__name__){var i=function(){var r=e.__name__;"Open URL"===e.__name__?n.events.emit("navigationChange",e.URL):"Register For Push"===e.__name__?n.events.emit("registerForPush"):r&&n.showMessage(t,{messageId:t,action:r,vars:e})},s=this.messageIdFromAction(e);s?this.trackMessage(s,{event:null},i):i()}else{var o=e["Chained message"],a=r[o];"Open URL"===a.action?this.trackMessage(o,{event:"View"},(function(){return n.onAction(a.vars,o)})):"Register For Push"===a.action?this.events.emit("registerForPush"):this.showMessage(o,a)}}},e.prototype.getMessages=function(){return this._messageCache||{}},e.prototype.addDefaults=function(e){var t=this,n=(this.getMessages().actionDefinitions||{})[e.__name__],i=null==n?void 0:n.kinds;if(!n)return e;var s=function(e,n,r){void 0===r&&(r="");for(var o=0,a=Object.keys(n);o<a.length;o++){var u=a[o],c=n[u];"object"==typeof c?e[u]=s(e[u]||{},c,""+r+u+"."):void 0===e[u]&&(e[u]=c),"FILE"===i[""+r+u]&&(e[u]=t.getFileUrl(e[u]))}return e};return s(r({},e),n.values)},e.prototype.resolveFiles=function(e){var t=/^__file__/;for(var n in e){if(t.test(n))e[n.replace(t,"")]=this.getFileUrl(e[n]);else"object"==typeof e[n]&&(e[n]=this.resolveFiles(e[n]))}return e},e.prototype.resolveFields=function(e){var t=/\bcolor/i,n=/^__file__/;for(var r in e){if(n.test(r))e[r.replace(n,"")+" URL"]=this.getFileUrl(e[r]);else t.test(r)?e[r]=l.default.decodeColor(e[r]):"object"==typeof e[r]&&(e[r]=this.resolveFields(e[r]))}return e},e.prototype.messageIdFromAction=function(e){var t=this._messageCache,n=r({},e);delete n.parentCampaignId;for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];if(a.parentCampaignId===e.parentCampaignId&&u.default(a.vars,n))return o}},e.prototype.matchesTrigger=function(e,t){if(!e)return!1;var n=function(e,t){return void 0===t&&(t=""),0===e.toString().localeCompare(t.toString(),void 0,{sensitivity:"accent"})},r=function(e,t,r){var i=e===r.noun;if("triggers"===r.verb)return i;if("triggersWithParameter"===r.verb){var s=r.objects,o=s[0],a=s[1],u=o in t&&n(a,t[o]);return i&&u}};return e.children.some((function(e){var i=e.subject;switch(t.trigger){case"start":return"start"===i||"resume"===i;case"resume":return"resume"===i;case"event":return"event"===i&&r(t.eventName,t.params,e);case"userAttribute":if("userAttribute"!==i)return!1;var s=e.noun in t.attributes;if("changes"===e.verb)return s;if("changesTo"===e.verb){if(!s)return!1;var o=t.attributes[e.noun];return e.objects.some((function(e){return null===e&&null===o||e&&o&&n(e,o)}))}break;case"state":return"state"===i&&r(t.state,t.params,e)}return!1}))},e.prototype.matchesLimits=function(e,t,n){var r=this;return!t||t.children.every((function(t){var i=t.subject,s=t.verb,o=parseInt(t.noun.toString());if("times"===i){if("limitSession"===s)return r.occurrenceTracker.getSessionOccurranceCount(e)+1===o;if("limitUser"===s)return(a=r.occurrenceTracker.getOccurrences(e).length)+1<=o;var a,u=parseInt(t.objects[0].toString())||1,c=function(e){switch(e){case"limitSecond":return 1e3;case"limitMinute":return 6e4;case"limitHour":return 36e5;case"limitDay":return 864e5}}(s)*u,l=(a=r.occurrenceTracker.getOccurrences(e)).length;return l<o||a.slice(l-o,l)[0]<Date.now()-c}return"onNthOccurrence"===i?n===o:"everyNthOccurrence"===i&&n%o==0}))},e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.handlers=[]}return e.prototype.on=function(e,t){this.handlers.push({eventName:e,callback:t})},e.prototype.off=function(e,t){this.handlers=this.handlers.filter((function(n){return n.eventName!==e||n.callback!==t}))},e.prototype.emit=function(e,t){this.handlers.forEach((function(n){n.eventName===e&&n.callback(t)}))},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Integer="integer",e.Color="color",e.Float="float",e.Decimal="decimal",e.Number="number",e.Boolean="bool",e.String="string",e.Text="text",e.HTML="html",e.File="file",e.List="list",e.Group="group",e.Action="action",e.Unknown=""}(t.ActionParameterType||(t.ActionParameterType={})),function(e){e[e.Action=2]="Action",e[e.Template=3]="Template"}(t.MessageKind||(t.MessageKind={}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(1)),o=i(n(0)),a=i(n(2)),u=i(n(5));var c=function(){function e(e){this.createRequest=e,this.actionDefinitions={},this.hasReceivedDiffs=!1,this.merged=void 0,this.variables=null,this.variablesChangedHandlers=[],this.variantDebugInfo={},this.diffs=void 0,this.token="",this.variants=[]}return e.prototype.applyDiffs=function(e,t,n){var i;this.diffs=e,this.variants=t,this.actionDefinitions=r(r({},this.actionDefinitions),(i=n)?Object.keys(i).reduce((function(e,t){e[t]=r({},i[t]);var n=i[t].kinds;return n&&(e[t].kinds=Object.keys(n).reduce((function(r,i){var s=n[i].toLowerCase();return r[i]=s,"action"===s&&(e[t].values[i]=""),r}),{})),e}),{}):i),this.hasReceivedDiffs=!0,this.merged=function e(t,n){if("number"==typeof n||"boolean"==typeof n||"string"==typeof n)return n;if(null==n)return t;var r=function(e){return function(t){if(e instanceof Array)for(var n=0;n<e.length;n++)t(e[n]);else for(var r in e)({}).hasOwnProperty.call(e,r)&&t(r)}},i=r(t),s=r(n),o=!1;if(null===t&&!(n instanceof Array))for(var a in o=null,n)if(n.hasOwnProperty(a)){if(null===o&&(o=!0),"string"!=typeof a){o=!1;break}if(a.length<3||"["!==a.charAt(0)||"]"!==a.charAt(a.length-1)){o=!1;break}}if(t instanceof Array||o){var u=[];return i((function(e){u.push(e)})),s((function(t){for(var r=parseInt(t.substring(1,t.length-1)),i=n[t];r>=u.length;)u.push(null);u[r]=e(u[r],i)})),u}var c={};return i((function(e){null!==n[e]&&void 0!==n[e]||(c[e]=t[e])})),s((function(r){c[r]=e(null===t?null:t[r]||{},n[r])})),c}(this.variables,e),this.saveDiffs(),this.onUpdate&&this.onUpdate()},e.prototype.loadDiffs=function(){try{this.applyDiffs(JSON.parse(this.loadLocal(o.default.DEFAULT_KEYS.VARIABLES)||null),JSON.parse(this.loadLocal(o.default.DEFAULT_KEYS.VARIANTS)||null),JSON.parse(this.loadLocal(o.default.DEFAULT_KEYS.ACTION_DEFINITIONS)||null)),this.token=this.loadLocal(o.default.DEFAULT_KEYS.TOKEN),this.variantDebugInfo=this.loadLocal(o.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO)}catch(e){console.log("Leanplum: Invalid diffs: "+e)}},e.prototype.saveDiffs=function(){this.saveLocal(o.default.DEFAULT_KEYS.VARIABLES,JSON.stringify(this.diffs||{})),this.saveLocal(o.default.DEFAULT_KEYS.VARIANTS,JSON.stringify(this.variants||[])),this.saveLocal(o.default.DEFAULT_KEYS.ACTION_DEFINITIONS,JSON.stringify(this.actionDefinitions||{})),this.saveLocal(o.default.DEFAULT_KEYS.VARIANT_DEBUG_INFO,JSON.stringify(this.variantDebugInfo||{})),this.saveLocal(o.default.DEFAULT_KEYS.TOKEN,this.token)},e.prototype.getVariable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getVariables();if(n)for(var r=0;r<e.length;r++)n=n[e[r]];return n},e.prototype.getVariables=function(){return void 0!==this.merged?this.merged:this.variables},e.prototype.setVariables=function(e){this.variables=e},e.prototype.addVariablesChangedHandler=function(e){this.variablesChangedHandlers.push(e),this.hasReceivedDiffs&&e()},e.prototype.removeVariablesChangedHandler=function(e){var t=this.variablesChangedHandlers.indexOf(e);t>=0&&this.variablesChangedHandlers.splice(t,1)},e.prototype.triggerVariablesChangedHandlers=function(){for(var e=0;e<this.variablesChangedHandlers.length;e++)this.variablesChangedHandlers[e]()},e.prototype.getVariantDebugInfo=function(){return this.variantDebugInfo},e.prototype.setVariantDebugInfo=function(e){this.variantDebugInfo=e},e.prototype.sendActions=function(){var e;return!!Object.keys(this.actionDefinitions).length&&(this.setVars(((e={})[o.default.PARAMS.ACTION_DEFINITIONS]=this.actionDefinitions,e)),!0)},e.prototype.sendVariables=function(){var e;this.setVars(((e={})[o.default.PARAMS.VARIABLES]=this.variables,e))},e.prototype.setVars=function(e){var t=(new s.default).body(JSON.stringify(e));this.createRequest(o.default.METHODS.SET_VARS,t,{sendNow:!0})},e.prototype.clearUserContent=function(){this.diffs=void 0,this.variables=null,this.variants=[],this.variantDebugInfo={},this.merged=void 0},e.prototype.registerActionDefinition=function(e){this.actionDefinitions[e.name]=function(e){return{kind:e.kind||3,options:null,values:l(e.args),kinds:d(e.args)}}(e)},e.prototype.loadLocal=function(e){return a.default.get(e)},e.prototype.saveLocal=function(e,t){a.default.save(e,t)},e}();function l(e){return e.reduce((function(e,t){return t.value instanceof Array?e[t.name]=l(t.value):"action"===t.type?e[t.name]="":"color"===t.type?e[t.name]=u.default.encodeColor(t.value):e[t.name]=t.value,e}),{})}function d(e,t){return void 0===t&&(t=""),e.reduce((function(e,n){var i,s=""+t+n.name;return n.value instanceof Array?e=r(((i={})[s]="group",i),d(n.value,s+".")):e[s]=n.type.toLowerCase(),e}),{})}t.default=c}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9MZWFucGx1bS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvQ29uc3RhbnRzLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0FyZ3NCdWlsZGVyLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL1N0b3JhZ2VNYW5hZ2VyLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL05ldHdvcmsudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9ub2RlX21vZHVsZXMvbG9kYXNoLmlzZXF1YWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvVmFsdWVUcmFuc2Zvcm1zLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL2J1bmRsZXMvbGVhbnBsdW0uZnVsbC50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9MZWFucGx1bS50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9MZWFucGx1bUludGVybmFsLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0Jyb3dzZXJEZXRlY3Rvci50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9JbnRlcm5hbFN0YXRlLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0xlYW5wbHVtSW5ib3gudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTGVhbnBsdW1SZXF1ZXN0LnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL0xlYW5wbHVtU29ja2V0LnRzIiwid2VicGFjazovL0xlYW5wbHVtLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly9MZWFucGx1bS8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvU29ja2V0SW9DbGllbnQudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvUHVzaE1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvTWVzc2FnZXMudHMiLCJ3ZWJwYWNrOi8vTGVhbnBsdW0vLi9zcmMvRXZlbnRFbWl0dGVyLnRzIiwid2VicGFjazovL0xlYW5wbHVtLy4vc3JjL3R5cGVzL3B1YmxpYy50cyIsIndlYnBhY2s6Ly9MZWFucGx1bS8uL3NyYy9WYXJDYWNoZS50cyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ3aW5kb3ciLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZGVmYXVsdCIsIk1FVEhPRFMiLCJTVEFSVCIsIlNUT1AiLCJBRFZBTkNFIiwiVFJBQ0siLCJQQVVTRV9TRVNTSU9OIiwiUkVTVU1FX1NFU1NJT04iLCJQQVVTRV9TVEFURSIsIlJFU1VNRV9TVEFURSIsIkRPV05MT0FEX0ZJTEUiLCJNVUxUSSIsIlNFVF9WQVJTIiwiR0VUX1ZBUlMiLCJTRVRfVVNFUl9BVFRSSUJVVEVTIiwiU0VUX0RFVklDRV9BVFRSSUJVVEVTIiwiVVBMT0FEX0ZJTEUiLCJSRUdJU1RFUl9ERVZJQ0UiLCJTREtfVkVSU0lPTiIsIkNMSUVOVCIsIlBBUkFNUyIsIkFDVElPTiIsIkFQUF9JRCIsIkNMSUVOVF9LRVkiLCJDVVJSRU5DWV9DT0RFIiwiREVWSUNFX0lEIiwiVVNFUl9JRCIsIk5FV19VU0VSX0lEIiwiREVWX01PREUiLCJWRVJTSU9OX05BTUUiLCJTWVNURU1fTkFNRSIsIlNZU1RFTV9WRVJTSU9OIiwiQlJPV1NFUl9OQU1FIiwiQlJPV1NFUl9WRVJTSU9OIiwiREVWSUNFX05BTUUiLCJERVZJQ0VfTU9ERUwiLCJVU0VSX0FUVFJJQlVURVMiLCJMT0NBTEUiLCJDT1VOVFJZIiwiUkVHSU9OIiwiQ0lUWSIsIkxPQ0FUSU9OIiwiU1RBVEUiLCJJTkZPIiwiRVZFTlQiLCJWQUxVRSIsIkZJTEVOQU1FIiwiVElNRSIsIkRBVEEiLCJWQVJTIiwiRklMRSIsIlNJWkUiLCJWQVJJQVRJT04iLCJIQVNIIiwiRU1BSUwiLCJWQVJJQUJMRVMiLCJBQ1RJT05fREVGSU5JVElPTlMiLCJJTkNMVURFX0RFRkFVTFRTIiwiSU5DTFVERV9WQVJJQU5UX0RFQlVHX0lORk8iLCJORVdTRkVFRF9NRVNTQUdFUyIsIk1FU1NBR0VfSUQiLCJXRUJfUFVTSF9TVUJTQ1JJUFRJT04iLCJLRVlTIiwiSVNfUkVHSVNURVJFRCIsIkxBVEVTVF9WRVJTSU9OIiwiU1lOQ19JTkJPWCIsIk1FU1NBR0VTIiwiVkFSSUFOVFMiLCJWQVJJQU5UX0RFQlVHX0lORk8iLCJUT0tFTiIsIkRFRkFVTFRfS0VZUyIsIkNPVU5UIiwiSVRFTSIsIkhPU1RfQ09ORklHIiwiSU5CT1hfTUVTU0FHRVMiLCJTRVNTSU9OIiwiTUVTU0FHRV9PQ0NVUlJFTkNFUyIsIk1FU1NBR0VfQ0FDSEUiLCJQVVNIX1NVQlNDUklQVElPTiIsIlZBTFVFUyIsIkRFVEVDVCIsIkRFRkFVTFRfUFVTSF9BQ1RJT04iLCJfX2ltcG9ydERlZmF1bHQiLCJ0aGlzIiwibW9kIiwiQ29uc3RhbnRzXzEiLCJBcmdzQnVpbGRlciIsImFyZ1N0cmluZyIsImFyZ1ZhbHVlcyIsImFkZCIsInZhbCIsIkFycmF5IiwiSlNPTiIsInN0cmluZ2lmeSIsImVuY29kZVVSSUNvbXBvbmVudCIsImJvZHkiLCJfYm9keSIsImF0dGFjaEFwaUtleXMiLCJhcHBJZCIsImNsaWVudEtleSIsImJ1aWxkIiwiYnVpbGREaWN0Iiwic3RvcmFnZUVuYWJsZWQiLCJsb2NhbCIsInNlc3Npb24iLCJhbHRlcm5hdGVTdG9yYWdlIiwiU3RvcmFnZU1hbmFnZXIiLCJ0eXBlIiwibG9jYWxTdG9yYWdlIiwic2Vzc2lvblN0b3JhZ2UiLCJnZXRJdGVtIiwiZSIsInNhdmUiLCJzZXRJdGVtIiwicmVtb3ZlIiwicmVtb3ZlSXRlbSIsIk5ldHdvcmsiLCJuZXR3b3JrVGltZW91dFNlY29uZHMiLCJyZXF1ZXN0UXVldWUiLCJydW5uaW5nUmVxdWVzdCIsInNldE5ldHdvcmtUaW1lb3V0Iiwic2Vjb25kcyIsImFqYXgiLCJtZXRob2QiLCJ1cmwiLCJkYXRhIiwic3VjY2VzcyIsImVycm9yIiwicXVldWVkIiwicGxhaW5UZXh0IiwiX3RoaXMiLCJlbnF1ZXVlUmVxdWVzdCIsImFyZ3VtZW50cyIsIlhEb21haW5SZXF1ZXN0IiwibG9jYXRpb24iLCJwcm90b2NvbCIsImluZGV4T2YiLCJzdWJzdHJpbmciLCJhamF4SUU4IiwiaGFuZGxlZCIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInJlc3BvbnNlXzEiLCJwYXJzZUVycm9yIiwicmVzcG9uc2VUZXh0IiwicGFyc2UiLCJzZXRUaW1lb3V0Iiwic3RhdHVzIiwiZGVxdWV1ZVJlcXVlc3QiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJhYm9ydCIsInhkciIsIm9ubG9hZCIsInJlc3BvbnNlIiwib25lcnJvciIsIm9udGltZW91dCIsIm9ucHJvZ3Jlc3MiLCJ0aW1lb3V0IiwicmVxdWVzdEFyZ3VtZW50cyIsInB1c2giLCJhcmdzIiwic2hpZnQiLCJhcHBseSIsImFyZ3NUYWciLCJtYXBUYWciLCJvYmplY3RUYWciLCJzZXRUYWciLCJyZUlzSG9zdEN0b3IiLCJyZUlzVWludCIsInR5cGVkQXJyYXlUYWdzIiwiZnJlZUdsb2JhbCIsImdsb2JhbCIsImZyZWVTZWxmIiwic2VsZiIsIkZ1bmN0aW9uIiwiZnJlZUV4cG9ydHMiLCJub2RlVHlwZSIsImZyZWVNb2R1bGUiLCJtb2R1bGVFeHBvcnRzIiwiZnJlZVByb2Nlc3MiLCJwcm9jZXNzIiwibm9kZVV0aWwiLCJiaW5kaW5nIiwibm9kZUlzVHlwZWRBcnJheSIsImlzVHlwZWRBcnJheSIsImFycmF5U29tZSIsImFycmF5IiwicHJlZGljYXRlIiwiaW5kZXgiLCJsZW5ndGgiLCJtYXBUb0FycmF5IiwibWFwIiwicmVzdWx0Iiwic2l6ZSIsImZvckVhY2giLCJzZXRUb0FycmF5Iiwic2V0IiwidWlkIiwiZnVuYyIsInRyYW5zZm9ybSIsImFycmF5UHJvdG8iLCJmdW5jUHJvdG8iLCJvYmplY3RQcm90byIsImNvcmVKc0RhdGEiLCJmdW5jVG9TdHJpbmciLCJ0b1N0cmluZyIsIm1hc2tTcmNLZXkiLCJleGVjIiwia2V5cyIsIklFX1BST1RPIiwibmF0aXZlT2JqZWN0VG9TdHJpbmciLCJyZUlzTmF0aXZlIiwiUmVnRXhwIiwicmVwbGFjZSIsIkJ1ZmZlciIsInVuZGVmaW5lZCIsIlVpbnQ4QXJyYXkiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInNwbGljZSIsInN5bVRvU3RyaW5nVGFnIiwibmF0aXZlR2V0U3ltYm9scyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm5hdGl2ZUlzQnVmZmVyIiwiaXNCdWZmZXIiLCJuYXRpdmVLZXlzIiwiYXJnIiwiRGF0YVZpZXciLCJnZXROYXRpdmUiLCJNYXAiLCJQcm9taXNlIiwiU2V0IiwiV2Vha01hcCIsIm5hdGl2ZUNyZWF0ZSIsImRhdGFWaWV3Q3RvclN0cmluZyIsInRvU291cmNlIiwibWFwQ3RvclN0cmluZyIsInByb21pc2VDdG9yU3RyaW5nIiwic2V0Q3RvclN0cmluZyIsIndlYWtNYXBDdG9yU3RyaW5nIiwic3ltYm9sUHJvdG8iLCJzeW1ib2xWYWx1ZU9mIiwidmFsdWVPZiIsIkhhc2giLCJlbnRyaWVzIiwiY2xlYXIiLCJlbnRyeSIsIkxpc3RDYWNoZSIsIk1hcENhY2hlIiwiU2V0Q2FjaGUiLCJ2YWx1ZXMiLCJfX2RhdGFfXyIsIlN0YWNrIiwiYXJyYXlMaWtlS2V5cyIsImluaGVyaXRlZCIsImlzQXJyIiwiaXNBcnJheSIsImlzQXJnIiwiaXNBcmd1bWVudHMiLCJpc0J1ZmYiLCJpc1R5cGUiLCJza2lwSW5kZXhlcyIsIml0ZXJhdGVlIiwiYmFzZVRpbWVzIiwiU3RyaW5nIiwiaXNJbmRleCIsImFzc29jSW5kZXhPZiIsImVxIiwiYmFzZUdldFRhZyIsImlzT3duIiwidGFnIiwidW5tYXNrZWQiLCJnZXRSYXdUYWciLCJvYmplY3RUb1N0cmluZyIsImJhc2VJc0FyZ3VtZW50cyIsImlzT2JqZWN0TGlrZSIsImJhc2VJc0VxdWFsIiwib3RoZXIiLCJiaXRtYXNrIiwiY3VzdG9taXplciIsInN0YWNrIiwiZXF1YWxGdW5jIiwib2JqSXNBcnIiLCJvdGhJc0FyciIsIm9ialRhZyIsImdldFRhZyIsIm90aFRhZyIsIm9iaklzT2JqIiwib3RoSXNPYmoiLCJpc1NhbWVUYWciLCJlcXVhbEFycmF5cyIsImJ5dGVMZW5ndGgiLCJieXRlT2Zmc2V0IiwiYnVmZmVyIiwibWVzc2FnZSIsImNvbnZlcnQiLCJpc1BhcnRpYWwiLCJzdGFja2VkIiwiZXF1YWxCeVRhZyIsIm9iaklzV3JhcHBlZCIsIm90aElzV3JhcHBlZCIsIm9ialVud3JhcHBlZCIsIm90aFVud3JhcHBlZCIsIm9ialByb3BzIiwiZ2V0QWxsS2V5cyIsIm9iakxlbmd0aCIsIm90aExlbmd0aCIsInNraXBDdG9yIiwib2JqVmFsdWUiLCJvdGhWYWx1ZSIsImNvbXBhcmVkIiwib2JqQ3RvciIsImNvbnN0cnVjdG9yIiwib3RoQ3RvciIsImVxdWFsT2JqZWN0cyIsImJhc2VJc0VxdWFsRGVlcCIsImJhc2VJc05hdGl2ZSIsImlzT2JqZWN0IiwiaXNNYXNrZWQiLCJpc0Z1bmN0aW9uIiwidGVzdCIsImJhc2VLZXlzIiwiQ3RvciIsInByb3RvIiwiYXJyTGVuZ3RoIiwic2VlbiIsImFyclZhbHVlIiwib3RoSW5kZXgiLCJoYXMiLCJrZXlzRnVuYyIsInN5bWJvbHNGdW5jIiwib2Zmc2V0IiwiYXJyYXlQdXNoIiwiYmFzZUdldEFsbEtleXMiLCJnZXRTeW1ib2xzIiwiZ2V0TWFwRGF0YSIsImdldFZhbHVlIiwicG9wIiwicGFpcnMiLCJMQVJHRV9BUlJBWV9TSVpFIiwicmVzSW5kZXgiLCJhcnJheUZpbHRlciIsInN5bWJvbCIsIkFycmF5QnVmZmVyIiwicmVzb2x2ZSIsImN0b3JTdHJpbmciLCJpc0xlbmd0aCIsImJhc2VVbmFyeSIsIlZhbHVlVHJhbnNmb3JtcyIsImRlY29kZUNvbG9yIiwiY29sb3IiLCJiIiwiZyIsImVuY29kZUNvbG9yIiwicmdiYSIsInBhcnNlSW50IiwiaGV4IiwiRXJyb3IiLCJMZWFucGx1bSIsIkxlYW5wbHVtSW50ZXJuYWxfMSIsInNldEFwaVBhdGgiLCJhcGlQYXRoIiwiX2xwIiwic2V0RW1haWwiLCJzZXRBcHBJZEZvckRldmVsb3BtZW50TW9kZSIsImFjY2Vzc0tleSIsInNldEFwcElkRm9yUHJvZHVjdGlvbk1vZGUiLCJzZXRTb2NrZXRIb3N0IiwiaG9zdCIsInNldERldmljZUlkIiwiZGV2aWNlSWQiLCJzZXRMb2NhbGUiLCJsb2NhbGUiLCJzZXRBcHBWZXJzaW9uIiwidmVyc2lvbk5hbWUiLCJzZXREZXZpY2VOYW1lIiwiZGV2aWNlTmFtZSIsInNldERldmljZU1vZGVsIiwiZGV2aWNlTW9kZWwiLCJzZXRSZXF1ZXN0QmF0Y2hpbmciLCJiYXRjaEVuYWJsZWQiLCJjb29sZG93blNlY29uZHMiLCJzZXRTeXN0ZW1OYW1lIiwic3lzdGVtTmFtZSIsInNldFN5c3RlbVZlcnNpb24iLCJzeXN0ZW1WZXJzaW9uIiwic2V0VmFyaWFibGVzIiwidmFyaWFibGVzIiwic2V0VmFyaWFudERlYnVnSW5mb0VuYWJsZWQiLCJ2YXJpYW50RGVidWdJbmZvRW5hYmxlZCIsImVuYWJsZVJpY2hJbkFwcE1lc3NhZ2VzIiwiZW5hYmxlZCIsInByb2Nlc3NNZXNzYWdlRXZlbnQiLCJtZXNzYWdlSWQiLCJnZXRWYXJpYW50RGVidWdJbmZvIiwiZ2V0VmFyaWFibGVzIiwiZ2V0VmFyaWFibGUiLCJfYSIsIl9pIiwiZ2V0VmFyaWFudHMiLCJpbmJveCIsImFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyIiwiaGFuZGxlciIsInJlbW92ZVN0YXJ0UmVzcG9uc2VIYW5kbGVyIiwiYWRkVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIiLCJyZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciIsImZvcmNlQ29udGVudFVwZGF0ZSIsImNhbGxiYWNrIiwidXNlU2Vzc2lvbkxlbmd0aCIsInN0YXJ0IiwidXNlcklkIiwidXNlckF0dHJpYnV0ZXMiLCJzdGFydEZyb21DYWNoZSIsInN0b3AiLCJwYXVzZVNlc3Npb24iLCJyZXN1bWVTZXNzaW9uIiwicGF1c2VTdGF0ZSIsInJlc3VtZVN0YXRlIiwiZ2V0VXNlcklkIiwic2V0VXNlcklkIiwic2V0VXNlckF0dHJpYnV0ZXMiLCJ0cmFjayIsImV2ZW50IiwiaW5mbyIsInBhcmFtcyIsInRyYWNrUHVyY2hhc2UiLCJjdXJyZW5jeUNvZGUiLCJhZHZhbmNlVG8iLCJzdGF0ZSIsImlzV2ViUHVzaFN1cHBvcnRlZCIsImlzV2ViUHVzaFN1YnNjcmliZWQiLCJzZXRXZWJQdXNoT3B0aW9ucyIsIm9wdGlvbnMiLCJyZWdpc3RlckZvcldlYlB1c2giLCJzZXJ2aWNlV29ya2VyVXJsIiwidW5yZWdpc3RlckZyb21XZWJQdXNoIiwiY2xlYXJVc2VyQ29udGVudCIsImRlZmluZUFjdGlvbiIsImFwcGx5UXVldWUiLCJxdWV1ZSIsIm9uIiwiZXZlbnROYW1lIiwib2ZmIiwiZ2V0RmlsZVVybCIsImZpbGVuYW1lIiwiX19kZXN0cm95IiwiVkVSU0lPTiIsIl9fYXNzaWduIiwiYXNzaWduIiwiQXJnc0J1aWxkZXJfMSIsIkJyb3dzZXJEZXRlY3Rvcl8xIiwiSW50ZXJuYWxTdGF0ZV8xIiwiTGVhbnBsdW1JbmJveF8xIiwiTGVhbnBsdW1SZXF1ZXN0XzEiLCJMZWFucGx1bVNvY2tldF8xIiwiU3RvcmFnZU1hbmFnZXJfMSIsIlB1c2hNYW5hZ2VyXzEiLCJNZXNzYWdlc18xIiwiRXZlbnRFbWl0dGVyXzEiLCJwdWJsaWNfMSIsIlZhckNhY2hlXzEiLCJTRVNTSU9OX0tFWSIsIkxlYW5wbHVtSW50ZXJuYWwiLCJ3bmQiLCJfZXZlbnRzIiwiX2ludGVybmFsU3RhdGUiLCJfbHBJbmJveCIsImNyZWF0ZVJlcXVlc3QiLCJvbkluYm94QWN0aW9uIiwiX2xwUmVxdWVzdCIsIl92YXJDYWNoZSIsIl9scFNvY2tldCIsImdldExhc3RSZXNwb25zZSIsIl9wdXNoTWFuYWdlciIsIl9tZXNzYWdlcyIsIl9icm93c2VyRGV0ZWN0b3IiLCJwcmV2ZW50ZWQiLCJlbWl0IiwicHJldmVudERlZmF1bHQiLCJkZXZNb2RlIiwiX2xvY2FsZSIsIl9kZXZpY2VOYW1lIiwiX2RldmljZU1vZGVsIiwiYmF0Y2hDb29sZG93biIsIl9zeXN0ZW1OYW1lIiwiX3N5c3RlbVZlcnNpb24iLCJ2YXJpYW50cyIsImFjdGlvbiIsInRyYWNrTWVzc2FnZSIsIm9uQWN0aW9uIiwicmVnaXN0ZXJBY3Rpb25EZWZpbml0aW9uIiwia2luZCIsIk1lc3NhZ2VLaW5kIiwiVGVtcGxhdGUiLCJzZW5kTm93IiwiZ2V0VmFyc1Jlc3BvbnNlIiwiaXNTdWNjZXNzIiwiaXNSZXNwb25zZVN1Y2Nlc3MiLCJhcHBseURpZmZzIiwic2V0VmFyaWFudERlYnVnSW5mbyIsIl9zZXNzaW9uTGVuZ3RoIiwiaGFzQWN0aXZlU2Vzc2lvbiIsIm9uVXBkYXRlIiwidHJpZ2dlclZhcmlhYmxlc0NoYW5nZWRIYW5kbGVycyIsIk9TIiwiYnJvd3NlciIsInZlcnNpb24iLCJtZXNzYWdlSWRzIiwiaGFzU3RhcnRlZCIsInN0YXJ0UmVzcG9uc2UiLCJzdGFydFN1Y2Nlc3NmdWwiLCJ1cGRhdGVTZXNzaW9uIiwibWVzc2FnZXMiLCJhY3Rpb25EZWZpbml0aW9ucyIsImRvd25sb2FkTWVzc2FnZXMiLCJsYXRlc3RWZXJzaW9uIiwiY29uc29sZSIsImxvZyIsImNvbm5lY3RTb2NrZXQiLCJ0b2tlbiIsImxvYWREaWZmcyIsInRyaWdnZXJTdGFydEhhbmRsZXJzIiwiY2xpZW50VXJsIiwiX3dlYlB1c2hPcHRpb25zIiwid29ya2VyVXJsIiwic2NvcGUiLCJyZWdpc3RlciIsImlzU3Vic2NyaWJlZCIsInN1YnNjcmliZVVzZXIiLCJyZWplY3QiLCJ1bnN1YnNjcmliZVVzZXIiLCJpbnZvY2F0aW9uIiwicmVxdWVzdCIsImNvbm5lY3QiLCJjdXJyZW50VGltZSIsIkRhdGUiLCJub3ciLCJsYXN0QWN0aXZlIiwiaXNOYU4iLCJCcm93c2VyRGV0ZWN0b3IiLCJzZWFyY2hTdHJpbmciLCJnZXRCcm93c2VyRGF0YSIsInNlYXJjaFZlcnNpb24iLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJhcHBWZXJzaW9uIiwiZ2V0T1NEYXRhIiwiZGF0YVN0cmluZyIsInN0cmluZyIsImRhdGFQcm9wIiwicHJvcCIsInZlcnNpb25TZWFyY2hTdHJpbmciLCJ2ZXJzaW9uU2VhcmNoIiwiaWRlbnRpdHkiLCJzdWJTdHJpbmciLCJwYXJzZUZsb2F0IiwidmVuZG9yIiwib3BlcmEiLCJwbGF0Zm9ybSIsIkludGVybmFsU3RhdGUiLCJzdGFydEhhbmRsZXJzIiwiaWR4Iiwib2JqIiwiTGVhbnBsdW1JbmJveCIsIm1lc3NhZ2VNYXAiLCJjaGFuZ2VIYW5kbGVycyIsImxvYWQiLCJuZXdzZmVlZE1lc3NhZ2VzIiwidHJpZ2dlckNoYW5nZUhhbmRsZXJzIiwibWFya0FzUmVhZCIsImlzUmVhZCIsInJlYWQiLCJpbmJveE1lc3NhZ2UiLCJpZCIsInNwbGl0Iiwib3BlbkFjdGlvbiIsIm9uQ2hhbmdlZCIsImNvdW50IiwidW5yZWFkQ291bnQiLCJmaWx0ZXIiLCJ4IiwiTGVhbnBsdW1JbmJveE1lc3NhZ2UiLCJhbGxNZXNzYWdlcyIsInVucmVhZE1lc3NhZ2VzIiwiX2lkIiwiX3RpdGxlIiwiX3N1YnRpdGxlIiwiX2RhdGEiLCJfdGltZXN0YW1wIiwiX2lzUmVhZCIsIl9pbWFnZVVybCIsIl9vcGVuQWN0aW9uIiwibWVzc2FnZUluZm8iLCJfYiIsIl9jIiwiX2QiLCJfZSIsIl9mIiwiX2ciLCJfaCIsIl9qIiwiX2siLCJfbCIsInBhcmVudENhbXBhaWduSWQiLCJtZXNzYWdlRGF0YSIsInZhcnMiLCJUaXRsZSIsIlN1YnRpdGxlIiwiRGF0YSIsImRlbGl2ZXJ5VGltZXN0YW1wIiwiSW1hZ2UiLCJ0aXRsZSIsInN1YnRpdGxlIiwidGltZXN0YW1wIiwiaW1hZ2VVcmwiLCJOZXR3b3JrXzEiLCJMZWFucGx1bVJlcXVlc3QiLCJldmVudHMiLCJuZXR3b3JrIiwiY29vbGRvd25UaW1lb3V0IiwibGFzdFJlcXVlc3RUaW1lIiwidXNlcklkVmFsdWUiLCJsb2FkSG9zdENvbmZpZyIsImxvYWRMb2NhbCIsImNvbmZpZ3VyYWJsZSIsInBvc3NpYmxlIiwiY2hhckF0IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwic2F2ZUxvY2FsIiwiYXJnc0J1aWxkZXIiLCJnZXRUaW1lIiwiZXJyIiwic2VuZFJlcXVlc3QiLCJzZW5kVW5zZW50UmVxdWVzdHMiLCJyZXF1ZXN0c1RvU2VuZCIsInBvcFVuc2VudFJlcXVlc3RzIiwicmVxdWVzdERhdGEiLCJtdWx0aVJlcXVlc3RBcmdzIiwic2F2ZVJlcXVlc3RGb3JMYXRlciIsImdldEZpcnN0UmVzcG9uc2UiLCJCb29sZWFuIiwiaXRlbUtleSIsInF1ZXJ5IiwibWV0aG9kUmVzcG9uc2UiLCJhcGlIb3N0IiwiZGV2U2VydmVySG9zdCIsInJlbW92ZUxvY2FsIiwiaWdub3JlZCIsImhvc3RDb25maWciLCJsb2Rhc2hfaXNlcXVhbF8xIiwiU29ja2V0SW9DbGllbnRfMSIsIkxlYW5wbHVtU29ja2V0IiwiY2FjaGUiLCJzb2NrZXRDbGllbnQiLCJzb2NrZXRIb3N0IiwiYXV0aCIsIldlYlNvY2tldCIsImF1dGhTZW50Iiwib25vcGVuIiwib25tZXNzYWdlIiwib25NZXNzYWdlUmVjZWl2ZWQiLCJvbmNsb3NlIiwic2V0SW50ZXJ2YWwiLCJjb25uZWN0ZWQiLCJjb25uZWN0aW5nIiwiZGlzY29ubmVjdCIsImFyZ3NfMSIsImRpZmZzIiwic2VuZFZhcmlhYmxlcyIsInVwZGF0ZWQiLCJzZW5kQWN0aW9ucyIsImFsZXJ0IiwiZW1haWwiLCJ3ZWJwYWNrUG9seWZpbGwiLCJkZXByZWNhdGUiLCJwYXRocyIsImNoaWxkcmVuIiwiU29ja2V0SW9DbGllbnQiLCJsaW5lIiwicGFydHMiLCJoZWFydGJlYXQiLCJzb2NrZXQiLCJoZWFydGJlYXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJtZXNzYWdlUGFydHMiLCJjb2RlIiwic2xpY2UiLCJqb2luIiwibWVzc2FnZUV2ZW50IiwiY2xvc2UiLCJhcmdzSnNvbiIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwicmVqZWN0ZWQiLCJkb25lIiwidGhlbiIsIl9fZ2VuZXJhdG9yIiwiZiIsInkiLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsInZlcmIiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsIlB1c2hNYW5hZ2VyIiwic2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiIsInNlcnZpY2VXb3JrZXIiLCJyZWdpc3RyYXRpb24iLCJzdWJzY3JpcHRpb24iLCJnZXRTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uIiwicHVzaE1hbmFnZXIiLCJnZXRTdWJzY3JpcHRpb24iLCJ1cGRhdGVOZXdTdWJzY3JpcHRpb25PblNlcnZlciIsImVycm9yXzEiLCJhcHBsaWNhdGlvblNlcnZlcktleSIsImVycm9yXzIiLCJ1cmxCNjRUb1VpbnQ4QXJyYXkiLCJzdWJzY3JpYmUiLCJ1c2VyVmlzaWJsZU9ubHkiLCJlcnJvcl8zIiwidW5zdWJzY3JpYmUiLCJnZXRSZWdpc3RyYXRpb24iLCJiYXNlNjRTdHJpbmciLCJiYXNlNjQiLCJyZXBlYXQiLCJyYXdEYXRhIiwiZGVjb2RlRGF0YSIsIm91dHB1dEFycmF5IiwiY2hhckNvZGVBdCIsInByZXBhcmVkU3Vic2NyaXB0aW9uIiwicHJlcGFyZVN1YnNjcmlwdGlvbiIsInByZXBhcmVkU3Vic2NyaXB0aW9uU3RyaW5nIiwic2V0U3Vic2NyaXB0aW9uIiwiZ2V0S2V5Iiwia2V5QXNjaWkiLCJlbmNvZGVEYXRhIiwiZnJvbUNoYXJDb2RlIiwiYXV0aEFzY2lpIiwiZW5kcG9pbnQiLCJidG9hIiwiYXRvYiIsIlZhbHVlVHJhbnNmb3Jtc18xIiwiT2NjdXJyZW5jZVRyYWNrZXIiLCJ0cmlnZ2VycyIsIm9jY3VycmVuY2VzIiwicmVjb3JkT2NjdXJyZW5jZSIsInNlc3Npb25PY2N1cnJlbmNlcyIsInJlY29yZFRyaWdnZXJPY2N1cnJlbmNlIiwidHJpZ2dlck9jY3VycmVuY2VzIiwiZ2V0U2Vzc2lvbk9jY3VycmFuY2VDb3VudCIsImdldE9jY3VycmVuY2VzIiwiY2xlYXJTZXNzaW9uIiwianNvbiIsIm1heWJlSlNPTiIsInN0ciIsIk1lc3NhZ2VzIiwiX21lc3NhZ2VDYWNoZSIsIm9jY3VycmVuY2VUcmFja2VyIiwiX3Nob3dSaWNoSUFNIiwib25NZXNzYWdlUHJldmlldyIsIm9uTWVzc2FnZXNSZWNlaXZlZCIsIm9uVHJpZ2dlciIsInRyaWdnZXIiLCJhdHRyaWJ1dGVzIiwiY29udGV4dCIsImdldE1lc3NhZ2VzIiwic2hvdWxkU2hvd01lc3NhZ2UiLCJzaG93TWVzc2FnZSIsImV2ZW50SW5mbyIsInJ1bkFjdGlvbk5hbWVkIiwiYWN0aW9uTmFtZSIsInJ1blRyYWNrZWRBY3Rpb25OYW1lZCIsImhhbmRsZU1lc3NhZ2UiLCJpc1ByZXZpZXciLCJhZGREZWZhdWx0cyIsInJlY2VpdmVkTWVzc2FnZXMiLCJtYXRjaGVzVHJpZ2dlciIsIndoZW5UcmlnZ2VycyIsIm1hdGNoZXNVbmxlc3MiLCJ1bmxlc3NUcmlnZ2VycyIsInRyaWdnZXJzQ291bnQiLCJtYXRjaGVzTGltaXRzIiwid2hlbkxpbWl0cyIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJldmVudFVybCIsImlmcmFtZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZWR1Y2UiLCJhY2MiLCJwYXJhbSIsImRlY29kZVVSSUNvbXBvbmVudCIsIm1ldGFkYXRhIiwic3R5bGUiLCJ2aXNpYmlsaXR5IiwibGVmdCIsIndpZHRoIiwiaGVpZ2h0IiwiYW5jaG9yUHJvcCIsInRvTG93ZXJDYXNlIiwiYWx0UHJvcCIsInRvcCIsImNvbnRlbnRXaW5kb3ciLCJmb2N1cyIsInBhcmFtZXRlcnMiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJfX25hbWVfXyIsInJlc29sdmVGaWxlcyIsInRlbXBsYXRlTmFtZSIsInRlbXBsYXRlIiwicmVuZGVyUmljaEluQXBwTWVzc2FnZSIsInJlc29sdmVGaWVsZHMiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiY3NzVGV4dCIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJjb250ZW50Iiwic3JjZG9jIiwiZG9jIiwid3JpdGUiLCJ0cmFja09wdGlvbnMiLCJkZWZpbmVkIiwicGFyZW50TWVzc2FnZUlkIiwicHJvY2Vzc0FjdGlvbiIsIlVSTCIsIm1lc3NhZ2VJZEZyb21BY3Rpb24iLCJjaGFpbmVkTWVzc2FnZUlkXzEiLCJtZXNzYWdlXzEiLCJkZWZpbml0aW9uIiwia2luZHMiLCJ1c2VEZWZhdWx0cyIsImRlZmF1bHRWYWx1ZXMiLCJwYXRoIiwiZmlsZVByZWZpeCIsImNvbG9yU3VmZml4IiwiaWdub3JlQ2FzZUVxdWFscyIsImEiLCJsb2NhbGVDb21wYXJlIiwic2Vuc2l0aXZpdHkiLCJtYXRjaGVzVHJpZ2dlcnMiLCJjb250ZXh0Tm91biIsIm1hdGNoZXNOb3VuIiwibm91biIsIm9iamVjdHMiLCJwYXJhbWV0ZXIiLCJtYXRjaGVzUGFyYW0iLCJzb21lIiwic3ViamVjdCIsImNvbnRhaW5zQXR0cmlidXRlIiwiY29udGV4dFZhbHVlXzEiLCJldmVyeSIsImxpbWl0IiwicGVySW50ZXJ2YWwiLCJ0aW1lU2xvdCIsInZlcmJUb0ludGVydmFsIiwiRXZlbnRFbWl0dGVyIiwiaGFuZGxlcnMiLCJBY3Rpb25QYXJhbWV0ZXJUeXBlIiwiVmFyQ2FjaGUiLCJoYXNSZWNlaXZlZERpZmZzIiwibWVyZ2VkIiwidmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzIiwidmFyaWFudERlYnVnSW5mbyIsImsiLCJreCIsIm1lcmdlSGVscGVyIiwiZGlmZiIsIm9iakl0ZXJhdG9yIiwiYXR0ciIsInZhcnNJdGVyYXRvciIsImRpZmZJdGVyYXRvciIsImF0dHJpYnV0ZSIsIm1lcmdlZF8xIiwidmFyU3Vic2NyaXB0Iiwic3Vic2NyaXB0IiwiZGlmZlZhbHVlIiwic2F2ZURpZmZzIiwiY3VycmVudCIsInNldFZhcnMiLCJhcmd1bWVudFRyZWUiLCJhcmd1bWVudEtpbmRzIiwib3B0aW9uc1RvRGVmaW5pdGlvbnMiLCJwcmVmaXgiLCJwcm9wTmFtZSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELElBQ1EsbUJBQVhHLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxHQUFJSCxHQUNlLGlCQUFaQyxRQUNkQSxRQUFrQixTQUFJRCxJQUV0QkQsRUFBZSxTQUFJQyxJQVJyQixDQVNHSyxRQUFRLFdBQ1gsTyxZQ1RFLElBQUlDLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVQLFFBR25DLElBQUlDLEVBQVNJLEVBQWlCRSxHQUFZLENBQ3pDQyxFQUFHRCxFQUNIRSxHQUFHLEVBQ0hULFFBQVMsSUFVVixPQU5BVSxFQUFRSCxHQUFVSSxLQUFLVixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTTSxHQUcvREwsRUFBT1EsR0FBSSxFQUdKUixFQUFPRCxRQTBEZixPQXJEQU0sRUFBb0JNLEVBQUlGLEVBR3hCSixFQUFvQk8sRUFBSVIsRUFHeEJDLEVBQW9CUSxFQUFJLFNBQVNkLEVBQVNlLEVBQU1DLEdBQzNDVixFQUFvQlcsRUFBRWpCLEVBQVNlLElBQ2xDRyxPQUFPQyxlQUFl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ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkxlYW5wbHVtXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkxlYW5wbHVtXCJdID0gZmFjdG9yeSgpO1xufSkod2luZG93LCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNik7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qXG4gKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlXG4gKlxuICovXG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gICAgTUVUSE9EUzoge1xuICAgICAgICBTVEFSVDogJ3N0YXJ0JyxcbiAgICAgICAgU1RPUDogJ3N0b3AnLFxuICAgICAgICBBRFZBTkNFOiAnYWR2YW5jZScsXG4gICAgICAgIFRSQUNLOiAndHJhY2snLFxuICAgICAgICBQQVVTRV9TRVNTSU9OOiAncGF1c2VTZXNzaW9uJyxcbiAgICAgICAgUkVTVU1FX1NFU1NJT046ICdyZXN1bWVTZXNzaW9uJyxcbiAgICAgICAgUEFVU0VfU1RBVEU6ICdwYXVzZVN0YXRlJyxcbiAgICAgICAgUkVTVU1FX1NUQVRFOiAncmVzdW1lU3RhdGUnLFxuICAgICAgICBET1dOTE9BRF9GSUxFOiAnZG93bmxvYWRGaWxlJyxcbiAgICAgICAgTVVMVEk6ICdtdWx0aScsXG4gICAgICAgIFNFVF9WQVJTOiAnc2V0VmFycycsXG4gICAgICAgIEdFVF9WQVJTOiAnZ2V0VmFycycsXG4gICAgICAgIFNFVF9VU0VSX0FUVFJJQlVURVM6ICdzZXRVc2VyQXR0cmlidXRlcycsXG4gICAgICAgIFNFVF9ERVZJQ0VfQVRUUklCVVRFUzogJ3NldERldmljZUF0dHJpYnV0ZXMnLFxuICAgICAgICBVUExPQURfRklMRTogJ3VwbG9hZEZpbGUnLFxuICAgICAgICBSRUdJU1RFUl9ERVZJQ0U6ICdyZWdpc3RlckRldmljZScsXG4gICAgfSxcbiAgICBTREtfVkVSU0lPTjogJzEuMTAuNS1kZXZlbG9wLjUnLFxuICAgIENMSUVOVDogJ2pzJyxcbiAgICBQQVJBTVM6IHtcbiAgICAgICAgQUNUSU9OOiAnYWN0aW9uJyxcbiAgICAgICAgQVBQX0lEOiAnYXBwSWQnLFxuICAgICAgICBDTElFTlQ6ICdjbGllbnQnLFxuICAgICAgICBDTElFTlRfS0VZOiAnY2xpZW50S2V5JyxcbiAgICAgICAgQ1VSUkVOQ1lfQ09ERTogJ2N1cnJlbmN5Q29kZScsXG4gICAgICAgIERFVklDRV9JRDogJ2RldmljZUlkJyxcbiAgICAgICAgU0RLX1ZFUlNJT046ICdzZGtWZXJzaW9uJyxcbiAgICAgICAgVVNFUl9JRDogJ3VzZXJJZCcsXG4gICAgICAgIE5FV19VU0VSX0lEOiAnbmV3VXNlcklkJyxcbiAgICAgICAgREVWX01PREU6ICdkZXZNb2RlJyxcbiAgICAgICAgVkVSU0lPTl9OQU1FOiAndmVyc2lvbk5hbWUnLFxuICAgICAgICBTWVNURU1fTkFNRTogJ3N5c3RlbU5hbWUnLFxuICAgICAgICBTWVNURU1fVkVSU0lPTjogJ3N5c3RlbVZlcnNpb24nLFxuICAgICAgICBCUk9XU0VSX05BTUU6ICdicm93c2VyTmFtZScsXG4gICAgICAgIEJST1dTRVJfVkVSU0lPTjogJ2Jyb3dzZXJWZXJzaW9uJyxcbiAgICAgICAgREVWSUNFX05BTUU6ICdkZXZpY2VOYW1lJyxcbiAgICAgICAgREVWSUNFX01PREVMOiAnZGV2aWNlTW9kZWwnLFxuICAgICAgICBVU0VSX0FUVFJJQlVURVM6ICd1c2VyQXR0cmlidXRlcycsXG4gICAgICAgIExPQ0FMRTogJ2xvY2FsZScsXG4gICAgICAgIENPVU5UUlk6ICdjb3VudHJ5JyxcbiAgICAgICAgUkVHSU9OOiAncmVnaW9uJyxcbiAgICAgICAgQ0lUWTogJ2NpdHknLFxuICAgICAgICBMT0NBVElPTjogJ2xvY2F0aW9uJyxcbiAgICAgICAgU1RBVEU6ICdzdGF0ZScsXG4gICAgICAgIElORk86ICdpbmZvJyxcbiAgICAgICAgRVZFTlQ6ICdldmVudCcsXG4gICAgICAgIFZBTFVFOiAndmFsdWUnLFxuICAgICAgICBGSUxFTkFNRTogJ2ZpbGVuYW1lJyxcbiAgICAgICAgVElNRTogJ3RpbWUnLFxuICAgICAgICBEQVRBOiAnZGF0YScsXG4gICAgICAgIFZBUlM6ICd2YXJzJyxcbiAgICAgICAgRklMRTogJ2ZpbGUnLFxuICAgICAgICBTSVpFOiAnc2l6ZScsXG4gICAgICAgIFZBUklBVElPTjogJ3ZhcmlhdGlvbicsXG4gICAgICAgIEhBU0g6ICdoYXNoJyxcbiAgICAgICAgRU1BSUw6ICdlbWFpbCcsXG4gICAgICAgIFZBUklBQkxFUzogJ3ZhcnMnLFxuICAgICAgICBBQ1RJT05fREVGSU5JVElPTlM6ICdhY3Rpb25EZWZpbml0aW9ucycsXG4gICAgICAgIFBBUkFNUzogJ3BhcmFtcycsXG4gICAgICAgIElOQ0xVREVfREVGQVVMVFM6ICdpbmNsdWRlRGVmYXVsdHMnLFxuICAgICAgICBJTkNMVURFX1ZBUklBTlRfREVCVUdfSU5GTzogJ2luY2x1ZGVWYXJpYW50RGVidWdJbmZvJyxcbiAgICAgICAgTkVXU0ZFRURfTUVTU0FHRVM6ICduZXdzZmVlZE1lc3NhZ2VzJyxcbiAgICAgICAgTUVTU0FHRV9JRDogJ21lc3NhZ2VJZCcsXG4gICAgICAgIFdFQl9QVVNIX1NVQlNDUklQVElPTjogJ3dlYlB1c2hTdWJzY3JpcHRpb24nLFxuICAgIH0sXG4gICAgS0VZUzoge1xuICAgICAgICBJU19SRUdJU1RFUkVEOiAnaXNSZWdpc3RlcmVkJyxcbiAgICAgICAgTEFURVNUX1ZFUlNJT046ICdsYXRlc3RWZXJzaW9uJyxcbiAgICAgICAgU1lOQ19JTkJPWDogJ3N5bmNOZXdzZmVlZCcsXG4gICAgICAgIE1FU1NBR0VTOiAnbWVzc2FnZXMnLFxuICAgICAgICBWQVJTOiAndmFycycsXG4gICAgICAgIFZBUklBTlRTOiAndmFyaWFudHMnLFxuICAgICAgICBWQVJJQU5UX0RFQlVHX0lORk86ICd2YXJpYW50RGVidWdJbmZvJyxcbiAgICAgICAgQUNUSU9OX0RFRklOSVRJT05TOiAnYWN0aW9uRGVmaW5pdGlvbnMnLFxuICAgICAgICBUT0tFTjogJ3Rva2VuJyxcbiAgICB9LFxuICAgIERFRkFVTFRfS0VZUzoge1xuICAgICAgICBDT1VOVDogJ19fbGVhbnBsdW1fdW5zeW5jZWQnLFxuICAgICAgICBJVEVNOiAnX19sZWFucGx1bV91bnN5bmNlZF8nLFxuICAgICAgICBWQVJJQUJMRVM6ICdfX2xlYW5wbHVtX3ZhcmlhYmxlcycsXG4gICAgICAgIFZBUklBTlRTOiAnX19sZWFucGx1bV92YXJpYW50cycsXG4gICAgICAgIFZBUklBTlRfREVCVUdfSU5GTzogJ19fbGVhbnBsdW1fdmFyaWFudF9kZWJ1Z19pbmZvJyxcbiAgICAgICAgQUNUSU9OX0RFRklOSVRJT05TOiAnX19sZWFucGx1bV9hY3Rpb25fZGVmaW5pdGlvbnMnLFxuICAgICAgICBIT1NUX0NPTkZJRzogJ19fbGVhbnBsdW1faG9zdHMnLFxuICAgICAgICBJTkJPWF9NRVNTQUdFUzogJ19fbGVhbnBsdW1faW5ib3hfbWVzc2FnZXMnLFxuICAgICAgICBUT0tFTjogJ19fbGVhbnBsdW1fdG9rZW4nLFxuICAgICAgICBERVZJQ0VfSUQ6ICdfX2xlYW5wbHVtX2RldmljZV9pZCcsXG4gICAgICAgIFVTRVJfSUQ6ICdfX2xlYW5wbHVtX3VzZXJfaWQnLFxuICAgICAgICBTRVNTSU9OOiAnX19sZWFucGx1bV9zZXNzaW9uJyxcbiAgICAgICAgTUVTU0FHRV9PQ0NVUlJFTkNFUzogJ19fbGVhbnBsdW1fbWVzc2FnZV9vY2N1cnJlbmNlcycsXG4gICAgICAgIE1FU1NBR0VfQ0FDSEU6ICdfX2xlYW5wbHVtX21lc3NhZ2VfY2FjaGUnLFxuICAgICAgICBQVVNIX1NVQlNDUklQVElPTjogJ19fbGVhbnBsdW1fcHVzaF9zdWJzY3JpcHRpb24nLFxuICAgIH0sXG4gICAgVkFMVUVTOiB7XG4gICAgICAgIERFVEVDVDogJyhkZXRlY3QpJyxcbiAgICAgICAgREVGQVVMVF9QVVNIX0FDVElPTjogJ09wZW4gYWN0aW9uJyxcbiAgICB9LFxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuLyoqXG4gKiBMZWFucGx1bSBBcmdzQnVpbGRlciwgdXNlIHRvIGNvbnN0cnVjdCByZXF1ZXN0IHBheWxvYWQuXG4gKi9cbnZhciBBcmdzQnVpbGRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgZW1wdHkgcmVxdWVzdCBhcmd1bWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBcmdzQnVpbGRlcigpIHtcbiAgICAgICAgdGhpcy5hcmdTdHJpbmcgPSAnJztcbiAgICAgICAgdGhpcy5hcmdWYWx1ZXMgPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGdpdmVuIGtleSwgdmFsdWUgdG8gdGhlIHBheWxvYWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IGZvciB0aGUgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8Ym9vbGVhbn0gdmFsdWUgVGhlIHZhbHVlIGZvciBnaXZlbiBrZXkuXG4gICAgICogQHJldHVybiB7QXJnc0J1aWxkZXJ9IFJldHVybnMgYW4gb2JqZWN0IG9mIEFyZ3NCdWlsZGVyLlxuICAgICAqL1xuICAgIEFyZ3NCdWlsZGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYXJnU3RyaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmFyZ1N0cmluZyArPSAnJic7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbCA9ICcnO1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgdmFsID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFsID0gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFyZ1N0cmluZyArPSBrZXkgKyBcIj1cIiArIHZhbDtcbiAgICAgICAgdGhpcy5hcmdWYWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEFyZ3NCdWlsZGVyLnByb3RvdHlwZS5ib2R5ID0gZnVuY3Rpb24gKGJvZHkpIHtcbiAgICAgICAgaWYgKGJvZHkpIHtcbiAgICAgICAgICAgIHRoaXMuX2JvZHkgPSBib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvZHk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgdG8gYXR0YWNoIGdpdmVuIGFwcElkIGFuZCBhcHBLZXkgdG8gcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGFwcElkIFRoZSBhcHBJZCB0byBhdHRhY2guXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBjbGllbnRLZXkgVGhlIGFwcEtleSB0byBhdHRhY2guXG4gICAgICogQHJldHVybiB7QXJnc0J1aWxkZXJ9IFJldHVybnMgYW4gb2JqZWN0IG9mIEFyZ3NCdWlsZGVyLlxuICAgICAqL1xuICAgIEFyZ3NCdWlsZGVyLnByb3RvdHlwZS5hdHRhY2hBcGlLZXlzID0gZnVuY3Rpb24gKGFwcElkLCBjbGllbnRLZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkFQUF9JRCwgYXBwSWQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkNMSUVOVCwgQ29uc3RhbnRzXzEuZGVmYXVsdC5DTElFTlQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkNMSUVOVF9LRVksIGNsaWVudEtleSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGFyZ3VtZW50cy5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IEFyZ3VtZW50cyBzdHJpbmcuXG4gICAgICovXG4gICAgQXJnc0J1aWxkZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcmdTdHJpbmc7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGFyZ3VtZW50IHZhbHVlcy5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBhcmd1bWVudCB2YWx1ZXMuXG4gICAgICovXG4gICAgQXJnc0J1aWxkZXIucHJvdG90eXBlLmJ1aWxkRGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJnVmFsdWVzO1xuICAgIH07XG4gICAgcmV0dXJuIEFyZ3NCdWlsZGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEFyZ3NCdWlsZGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICpcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZVxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHN0b3JhZ2VFbmFibGVkID0ge1xuICAgIGxvY2FsOiB0cnVlLFxuICAgIHNlc3Npb246IHRydWUsXG59O1xudmFyIGFsdGVybmF0ZVN0b3JhZ2UgPSB7XG4gICAgbG9jYWw6IHt9LFxuICAgIHNlc3Npb246IHt9LFxufTtcbnZhciBTdG9yYWdlTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdG9yYWdlTWFuYWdlcigpIHtcbiAgICB9XG4gICAgU3RvcmFnZU1hbmFnZXIuZ2V0ID0gZnVuY3Rpb24gKGtleSwgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSAnbG9jYWwnOyB9XG4gICAgICAgIGlmICghc3RvcmFnZUVuYWJsZWRbdHlwZV0pIHtcbiAgICAgICAgICAgIHJldHVybiBhbHRlcm5hdGVTdG9yYWdlW3R5cGVdW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnbG9jYWwnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgc3RvcmFnZUVuYWJsZWRbdHlwZV0gPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBhbHRlcm5hdGVTdG9yYWdlW3R5cGVdW2tleV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0b3JhZ2VNYW5hZ2VyLnNhdmUgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSAnbG9jYWwnOyB9XG4gICAgICAgIGlmICghc3RvcmFnZUVuYWJsZWRbdHlwZV0pIHtcbiAgICAgICAgICAgIGFsdGVybmF0ZVN0b3JhZ2VbdHlwZV1ba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2xvY2FsJykge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBzdG9yYWdlRW5hYmxlZFt0eXBlXSA9IGZhbHNlO1xuICAgICAgICAgICAgYWx0ZXJuYXRlU3RvcmFnZVt0eXBlXVtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0b3JhZ2VNYW5hZ2VyLnJlbW92ZSA9IGZ1bmN0aW9uIChrZXksIHR5cGUpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gJ2xvY2FsJzsgfVxuICAgICAgICBpZiAoIXN0b3JhZ2VFbmFibGVkW3R5cGVdKSB7XG4gICAgICAgICAgICBkZWxldGUgYWx0ZXJuYXRlU3RvcmFnZVt0eXBlXVtrZXldO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2xvY2FsJykge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHN0b3JhZ2VFbmFibGVkW3R5cGVdID0gZmFsc2U7XG4gICAgICAgICAgICBkZWxldGUgYWx0ZXJuYXRlU3RvcmFnZVt0eXBlXVtrZXldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU3RvcmFnZU1hbmFnZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gU3RvcmFnZU1hbmFnZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQWpheCBmdW5jdGlvbnMgZnJvbTpcbiAqXG4gKiBQYXJzZSBKYXZhU2NyaXB0IFNES1xuICogVmVyc2lvbjogMS4xLjVcbiAqIEJ1aWx0OiBNb24gT2N0IDAxIDIwMTIgMTc6NTc6MTNcbiAqIGh0dHA6Ly9wYXJzZS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgMjAxMiBQYXJzZSwgSW5jLlxuICogVGhlIFBhcnNlIEphdmFTY3JpcHQgU0RLIGlzIGZyZWVseSBkaXN0cmlidXRhYmxlIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkdcbiAqIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVJcbiAqIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE5ldHdvcmsgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTmV0d29yaygpIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMgPSAxMDtcbiAgICAgICAgdGhpcy5yZXF1ZXN0UXVldWUgPSBbXTtcbiAgICAgICAgdGhpcy5ydW5uaW5nUmVxdWVzdCA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBuZXR3b3JrIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHMgVGhlIHRpbWVvdXQgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBOZXR3b3JrLnByb3RvdHlwZS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMubmV0d29ya1RpbWVvdXRTZWNvbmRzID0gc2Vjb25kcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1ha2UgYW4gYWpheCByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2QgVGhlIGh0dHAgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIHVybCB0byBvcGVuLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5QnVmZmVyfEJsb2J8RG9jdW1lbnR8Rm9ybURhdGF9IGRhdGEgVGhlIGRhdGEgdG8gYmUgc2VudCBpbiBib2R5LlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1Y2Nlc3MgQSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gc3VjY2Vzcy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBlcnJvciBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBlcnJvci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHF1ZXVlZCBXaGV0aGVyIHRoZSByZXF1ZXN0IHNob3VsZCBiZSBxdWV1ZWQgb3IgaW1tZWRpYXRlbHkgc2VudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwbGFpblRleHRdIFdoZXRoZXIgdGhlIHJlc3BvbnNlIHNob3VsZCBiZSByZXR1cm5lZCBhcyBwbGFpbiB0ZXh0IG9yIGpzb24uXG4gICAgICogQHJldHVybiB7Kn1cbiAgICAgKi9cbiAgICBOZXR3b3JrLnByb3RvdHlwZS5hamF4ID0gZnVuY3Rpb24gKG1ldGhvZCwgdXJsLCBkYXRhLCBzdWNjZXNzLCBlcnJvciwgcXVldWVkLCBwbGFpblRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHF1ZXVlZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucnVubmluZ1JlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5xdWV1ZVJlcXVlc3QoYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucnVubmluZ1JlcXVlc3QgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgWERvbWFpblJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpZiAobG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwOicgJiYgdXJsLmluZGV4T2YoJ2h0dHBzOicpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdXJsID0gXCJodHRwOlwiICsgdXJsLnN1YnN0cmluZyg2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFqYXhJRTgobWV0aG9kLCB1cmwsIGRhdGEsIHN1Y2Nlc3MsIGVycm9yLCBxdWV1ZWQsIHBsYWluVGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhbmRsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VfMTtcbiAgICAgICAgICAgICAgICB2YXIgcGFyc2VFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChwbGFpblRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VfMSA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VfMSA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcihudWxsLCB4aHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJzZUVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHJlc3BvbnNlXzEsIHhocik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IocmVzcG9uc2VfMSwgeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocXVldWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJ1bm5pbmdSZXF1ZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRlcXVldWVSZXF1ZXN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAndGV4dC9wbGFpbicpOyAvLyBBdm9pZCBwcmUtZmxpZ2h0LlxuICAgICAgICB4aHIuc2VuZChkYXRhKTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIWhhbmRsZWQpIHtcbiAgICAgICAgICAgICAgICB4aHIuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMgKiAxMDAwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1ha2UgYW4gYWpheCByZXF1ZXN0IGZvciBJRTguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBUaGUgaHR0cCBtZXRob2QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgdXJsIHRvIG9wZW4uXG4gICAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXlCdWZmZXJ8QmxvYnxEb2N1bWVudHxGb3JtRGF0YX0gZGF0YSBUaGUgZGF0YSB0byBiZSBzZW50IGluIGJvZHkuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gc3VjY2VzcyBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBzdWNjZXNzLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGVycm9yIEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIGVycm9yLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcXVldWVkIFdoZXRoZXIgdGhlIHJlcXVlc3Qgc2hvdWxkIGJlIHF1ZXVlZCBvciBpbW1lZGlhdGVseSBzZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcGxhaW5UZXh0IFdoZXRoZXIgdGhlIHJlc3BvbnNlIHNob3VsZCBiZSByZXR1cm5lZCBhcyBwbGFpbiB0ZXh0IG9yIGpzb24uXG4gICAgICovXG4gICAgTmV0d29yay5wcm90b3R5cGUuYWpheElFOCA9IGZ1bmN0aW9uIChtZXRob2QsIHVybCwgZGF0YSwgc3VjY2VzcywgZXJyb3IsIHF1ZXVlZCwgcGxhaW5UZXh0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB4ZHIgPSBuZXcgWERvbWFpblJlcXVlc3QoKTtcbiAgICAgICAgeGRyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZXNwb25zZTtcbiAgICAgICAgICAgIHZhciBwYXJzZUVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAocGxhaW5UZXh0KSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSB4ZHIucmVzcG9uc2VUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHhkci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yKG51bGwsIHhkcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgICAgICBwYXJzZUVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXBhcnNlRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MocmVzcG9uc2UsIHhkcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChxdWV1ZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5ydW5uaW5nUmVxdWVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF90aGlzLmRlcXVldWVSZXF1ZXN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHhkci5vbmVycm9yID0geGRyLm9udGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcihudWxsLCB4ZHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgaWYgKHF1ZXVlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJ1bm5pbmdSZXF1ZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVxdWV1ZVJlcXVlc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeGRyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgICAgIHhkci5vcGVuKG1ldGhvZCwgdXJsKTtcbiAgICAgICAgeGRyLnRpbWVvdXQgPSB0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyAqIDEwMDA7XG4gICAgICAgIHhkci5zZW5kKGRhdGEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgcmVxdWVzdCB0byB0aGUgcmVxdWVzdCBxdWV1ZS5cbiAgICAgKiBAcGFyYW0gcmVxdWVzdEFyZ3VtZW50cyBUaGUgcmVxdWVzdCBhcmd1bWVudHMgZnJvbSB0aGUgaW5pdGlhbCBtZXRob2QgY2FsbC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIE5ldHdvcmsucHJvdG90eXBlLmVucXVldWVSZXF1ZXN0ID0gZnVuY3Rpb24gKHJlcXVlc3RBcmd1bWVudHMpIHtcbiAgICAgICAgdGhpcy5yZXF1ZXN0UXVldWUucHVzaChyZXF1ZXN0QXJndW1lbnRzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHJlcXVlc3QgZnJvbSB0aGUgcmVxdWVzdCBxdWV1ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIE5ldHdvcmsucHJvdG90eXBlLmRlcXVldWVSZXF1ZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IHRoaXMucmVxdWVzdFF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXNwcmVhZFxuICAgICAgICAgICAgdGhpcy5hamF4LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTmV0d29yaztcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBOZXR3b3JrO1xuIiwiLyoqXG4gKiBMb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBKUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanMuZm91bmRhdGlvbi8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG52YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbnZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDEsXG4gICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJyxcbiAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJyxcbiAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nO1xuXG52YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICBmbG9hdDMyVGFnID0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICBpbnQxNlRhZyA9ICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICB1aW50OENsYW1wZWRUYWcgPSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbnZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xudHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG50eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG50eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG50eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG50eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG50eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG50eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG50eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG50eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG52YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICB9IGNhdGNoIChlKSB7fVxufSgpKTtcblxuLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbnZhciBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5maWx0ZXJgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlGaWx0ZXIoYXJyYXksIHByZWRpY2F0ZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgcmVzdWx0ID0gW107XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQXBwZW5kcyB0aGUgZWxlbWVudHMgb2YgYHZhbHVlc2AgdG8gYGFycmF5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFwcGVuZC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBhcnJheVB1c2goYXJyYXksIHZhbHVlcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICBvZmZzZXQgPSBhcnJheS5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBhcnJheVtvZmZzZXQgKyBpbmRleF0gPSB2YWx1ZXNbaW5kZXhdO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc29tZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gKiBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5U29tZShhcnJheSwgcHJlZGljYXRlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICB9O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGBjYWNoZWAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IGNhY2hlIFRoZSBjYWNoZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG4gIHJldHVybiBjYWNoZS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAqL1xuZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShtYXAuc2l6ZSk7XG5cbiAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IFtrZXksIHZhbHVlXTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICB9O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBzZXRgIHRvIGFuIGFycmF5IG9mIGl0cyB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIHNldFRvQXJyYXkoc2V0KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gcm9vdC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgU3ltYm9sID0gcm9vdC5TeW1ib2wsXG4gICAgVWludDhBcnJheSA9IHJvb3QuVWludDhBcnJheSxcbiAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlLFxuICAgIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlR2V0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gICAgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBEYXRhVmlldyA9IGdldE5hdGl2ZShyb290LCAnRGF0YVZpZXcnKSxcbiAgICBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpLFxuICAgIFByb21pc2UgPSBnZXROYXRpdmUocm9vdCwgJ1Byb21pc2UnKSxcbiAgICBTZXQgPSBnZXROYXRpdmUocm9vdCwgJ1NldCcpLFxuICAgIFdlYWtNYXAgPSBnZXROYXRpdmUocm9vdCwgJ1dlYWtNYXAnKSxcbiAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtYXBzLCBzZXRzLCBhbmQgd2Vha21hcHMuICovXG52YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLFxuICAgIG1hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShNYXApLFxuICAgIHByb21pc2VDdG9yU3RyaW5nID0gdG9Tb3VyY2UoUHJvbWlzZSksXG4gICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksXG4gICAgd2Vha01hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShXZWFrTWFwKTtcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIEhhc2hcbiAqL1xuZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gIHRoaXMuc2l6ZSA9IDA7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5IYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbkhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5IYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbkhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgZGF0YS5wb3AoKTtcbiAgfSBlbHNlIHtcbiAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gIH1cbiAgLS10aGlzLnNpemU7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICArK3RoaXMuc2l6ZTtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbkxpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbkxpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbkxpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICB0aGlzLnNpemUgPSAwO1xuICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gIH07XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbk1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5NYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5NYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5NYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5NYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbi8qKlxuICpcbiAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzID09IG51bGwgPyAwIDogdmFsdWVzLmxlbmd0aDtcblxuICB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHRoaXMuYWRkKHZhbHVlc1tpbmRleF0pO1xuICB9XG59XG5cbi8qKlxuICogQWRkcyBgdmFsdWVgIHRvIHRoZSBhcnJheSBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgYWRkXG4gKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAqIEBhbGlhcyBwdXNoXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjYWNoZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzZXRDYWNoZUFkZCh2YWx1ZSkge1xuICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICByZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModmFsdWUpO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuU2V0Q2FjaGUucHJvdG90eXBlLmFkZCA9IFNldENhY2hlLnByb3RvdHlwZS5wdXNoID0gc2V0Q2FjaGVBZGQ7XG5TZXRDYWNoZS5wcm90b3R5cGUuaGFzID0gc2V0Q2FjaGVIYXM7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZShlbnRyaWVzKTtcbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIFN0YWNrXG4gKi9cbmZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBzdGFjayBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBTdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc3RhY2tTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChkYXRhIGluc3RhbmNlb2YgTGlzdENhY2hlKSB7XG4gICAgdmFyIHBhaXJzID0gZGF0YS5fX2RhdGFfXztcbiAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB0aGlzLnNpemUgPSArK2RhdGEuc2l6ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZShwYWlycyk7XG4gIH1cbiAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG5TdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSksXG4gICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgIGlzVHlwZSA9ICFpc0FyciAmJiAhaXNBcmcgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkodmFsdWUpLFxuICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cbiAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG4gICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldEFsbEtleXNgIGFuZCBgZ2V0QWxsS2V5c0luYCB3aGljaCB1c2VzXG4gKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcbiAgdmFyIHJlc3VsdCA9IGtleXNGdW5jKG9iamVjdCk7XG4gIHJldHVybiBpc0FycmF5KG9iamVjdCkgPyByZXN1bHQgOiBhcnJheVB1c2gocmVzdWx0LCBzeW1ib2xzRnVuYyhvYmplY3QpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gIH1cbiAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcmdzVGFnO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdoaWNoIHN1cHBvcnRzIHBhcnRpYWwgY29tcGFyaXNvbnNcbiAqIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICogIDEgLSBVbm9yZGVyZWQgY29tcGFyaXNvblxuICogIDIgLSBQYXJ0aWFsIGNvbXBhcmlzb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgdmFsdWVgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gIGlmICh2YWx1ZSA9PT0gb3RoZXIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCB8fCBvdGhlciA9PSBudWxsIHx8ICghaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNPYmplY3RMaWtlKG90aGVyKSkpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgfVxuICByZXR1cm4gYmFzZUlzRXF1YWxEZWVwKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgYmFzZUlzRXF1YWwsIHN0YWNrKTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gKiByZWZlcmVuY2VzIHRvIGJlIGNvbXBhcmVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICB2YXIgb2JqSXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICBvdGhJc0FyciA9IGlzQXJyYXkob3RoZXIpLFxuICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuICAgICAgb3RoVGFnID0gb3RoSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvdGhlcik7XG5cbiAgb2JqVGFnID0gb2JqVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvYmpUYWc7XG4gIG90aFRhZyA9IG90aFRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb3RoVGFnO1xuXG4gIHZhciBvYmpJc09iaiA9IG9ialRhZyA9PSBvYmplY3RUYWcsXG4gICAgICBvdGhJc09iaiA9IG90aFRhZyA9PSBvYmplY3RUYWcsXG4gICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gIGlmIChpc1NhbWVUYWcgJiYgaXNCdWZmZXIob2JqZWN0KSkge1xuICAgIGlmICghaXNCdWZmZXIob3RoZXIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIG9iaklzQXJyID0gdHJ1ZTtcbiAgICBvYmpJc09iaiA9IGZhbHNlO1xuICB9XG4gIGlmIChpc1NhbWVUYWcgJiYgIW9iaklzT2JqKSB7XG4gICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICByZXR1cm4gKG9iaklzQXJyIHx8IGlzVHlwZWRBcnJheShvYmplY3QpKVxuICAgICAgPyBlcXVhbEFycmF5cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKVxuICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gIH1cbiAgaWYgKCEoYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHKSkge1xuICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgIG90aElzV3JhcHBlZCA9IG90aElzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsICdfX3dyYXBwZWRfXycpO1xuXG4gICAgaWYgKG9iaklzV3JhcHBlZCB8fCBvdGhJc1dyYXBwZWQpIHtcbiAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICBvdGhVbndyYXBwZWQgPSBvdGhJc1dyYXBwZWQgPyBvdGhlci52YWx1ZSgpIDogb3RoZXI7XG5cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgfVxuICB9XG4gIGlmICghaXNTYW1lVGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gIHJldHVybiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge0FycmF5fSBvdGhlciBUaGUgb3RoZXIgYXJyYXkgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYGFycmF5YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcnJheXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxBcnJheXMoYXJyYXksIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICBvdGhMZW5ndGggPSBvdGhlci5sZW5ndGg7XG5cbiAgaWYgKGFyckxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIShpc1BhcnRpYWwgJiYgb3RoTGVuZ3RoID4gYXJyTGVuZ3RoKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KGFycmF5KTtcbiAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICB9XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gdHJ1ZSxcbiAgICAgIHNlZW4gPSAoYml0bWFzayAmIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpID8gbmV3IFNldENhY2hlIDogdW5kZWZpbmVkO1xuXG4gIHN0YWNrLnNldChhcnJheSwgb3RoZXIpO1xuICBzdGFjay5zZXQob3RoZXIsIGFycmF5KTtcblxuICAvLyBJZ25vcmUgbm9uLWluZGV4IHByb3BlcnRpZXMuXG4gIHdoaWxlICgrK2luZGV4IDwgYXJyTGVuZ3RoKSB7XG4gICAgdmFyIGFyclZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2luZGV4XTtcblxuICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBhcnJWYWx1ZSwgaW5kZXgsIG90aGVyLCBhcnJheSwgc3RhY2spXG4gICAgICAgIDogY3VzdG9taXplcihhcnJWYWx1ZSwgb3RoVmFsdWUsIGluZGV4LCBhcnJheSwgb3RoZXIsIHN0YWNrKTtcbiAgICB9XG4gICAgaWYgKGNvbXBhcmVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChjb21wYXJlZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgaWYgKHNlZW4pIHtcbiAgICAgIGlmICghYXJyYXlTb21lKG90aGVyLCBmdW5jdGlvbihvdGhWYWx1ZSwgb3RoSW5kZXgpIHtcbiAgICAgICAgICAgIGlmICghY2FjaGVIYXMoc2Vlbiwgb3RoSW5kZXgpICYmXG4gICAgICAgICAgICAgICAgKGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzZWVuLnB1c2gob3RoSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKSB7XG4gICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCEoXG4gICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICBlcXVhbEZ1bmMoYXJyVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgc3RhY2tbJ2RlbGV0ZSddKGFycmF5KTtcbiAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gKiB0aGUgc2FtZSBgdG9TdHJpbmdUYWdgLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIG9yIGBTdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCB0YWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgc3dpdGNoICh0YWcpIHtcbiAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgIChvYmplY3QuYnl0ZU9mZnNldCAhPSBvdGhlci5ieXRlT2Zmc2V0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBvYmplY3QuYnVmZmVyO1xuICAgICAgb3RoZXIgPSBvdGhlci5idWZmZXI7XG5cbiAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICFlcXVhbEZ1bmMobmV3IFVpbnQ4QXJyYXkob2JqZWN0KSwgbmV3IFVpbnQ4QXJyYXkob3RoZXIpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgYm9vbFRhZzpcbiAgICBjYXNlIGRhdGVUYWc6XG4gICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAvLyBDb2VyY2UgYm9vbGVhbnMgdG8gYDFgIG9yIGAwYCBhbmQgZGF0ZXMgdG8gbWlsbGlzZWNvbmRzLlxuICAgICAgLy8gSW52YWxpZCBkYXRlcyBhcmUgY29lcmNlZCB0byBgTmFOYC5cbiAgICAgIHJldHVybiBlcSgrb2JqZWN0LCArb3RoZXIpO1xuXG4gICAgY2FzZSBlcnJvclRhZzpcbiAgICAgIHJldHVybiBvYmplY3QubmFtZSA9PSBvdGhlci5uYW1lICYmIG9iamVjdC5tZXNzYWdlID09IG90aGVyLm1lc3NhZ2U7XG5cbiAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgIC8vIENvZXJjZSByZWdleGVzIHRvIHN0cmluZ3MgYW5kIHRyZWF0IHN0cmluZ3MsIHByaW1pdGl2ZXMgYW5kIG9iamVjdHMsXG4gICAgICAvLyBhcyBlcXVhbC4gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1yZWdleHAucHJvdG90eXBlLnRvc3RyaW5nXG4gICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgcmV0dXJuIG9iamVjdCA9PSAob3RoZXIgKyAnJyk7XG5cbiAgICBjYXNlIG1hcFRhZzpcbiAgICAgIHZhciBjb252ZXJ0ID0gbWFwVG9BcnJheTtcblxuICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRztcbiAgICAgIGNvbnZlcnQgfHwgKGNvbnZlcnQgPSBzZXRUb0FycmF5KTtcblxuICAgICAgaWYgKG9iamVjdC5zaXplICE9IG90aGVyLnNpemUgJiYgIWlzUGFydGlhbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgICB9XG4gICAgICBiaXRtYXNrIHw9IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUc7XG5cbiAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgdmFyIHJlc3VsdCA9IGVxdWFsQXJyYXlzKGNvbnZlcnQob2JqZWN0KSwgY29udmVydChvdGhlciksIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICBpZiAoc3ltYm9sVmFsdWVPZikge1xuICAgICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZi5jYWxsKG9iamVjdCkgPT0gc3ltYm9sVmFsdWVPZi5jYWxsKG90aGVyKTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBvYmplY3RzIHdpdGggc3VwcG9ydCBmb3JcbiAqIHBhcnRpYWwgZGVlcCBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcsXG4gICAgICBvYmpQcm9wcyA9IGdldEFsbEtleXMob2JqZWN0KSxcbiAgICAgIG9iakxlbmd0aCA9IG9ialByb3BzLmxlbmd0aCxcbiAgICAgIG90aFByb3BzID0gZ2V0QWxsS2V5cyhvdGhlciksXG4gICAgICBvdGhMZW5ndGggPSBvdGhQcm9wcy5sZW5ndGg7XG5cbiAgaWYgKG9iakxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIWlzUGFydGlhbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgaW5kZXggPSBvYmpMZW5ndGg7XG4gIHdoaWxlIChpbmRleC0tKSB7XG4gICAgdmFyIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICBpZiAoIShpc1BhcnRpYWwgPyBrZXkgaW4gb3RoZXIgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCBrZXkpKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgfVxuICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICBzdGFjay5zZXQob3RoZXIsIG9iamVjdCk7XG5cbiAgdmFyIHNraXBDdG9yID0gaXNQYXJ0aWFsO1xuICB3aGlsZSAoKytpbmRleCA8IG9iakxlbmd0aCkge1xuICAgIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltrZXldO1xuXG4gICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIG9ialZhbHVlLCBrZXksIG90aGVyLCBvYmplY3QsIHN0YWNrKVxuICAgICAgICA6IGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlLCBrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrKTtcbiAgICB9XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgaWYgKCEoY29tcGFyZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gKG9ialZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMob2JqVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpXG4gICAgICAgICAgOiBjb21wYXJlZFxuICAgICAgICApKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBza2lwQ3RvciB8fCAoc2tpcEN0b3IgPSBrZXkgPT0gJ2NvbnN0cnVjdG9yJyk7XG4gIH1cbiAgaWYgKHJlc3VsdCAmJiAhc2tpcEN0b3IpIHtcbiAgICB2YXIgb2JqQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcixcbiAgICAgICAgb3RoQ3RvciA9IG90aGVyLmNvbnN0cnVjdG9yO1xuXG4gICAgLy8gTm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWwuXG4gICAgaWYgKG9iakN0b3IgIT0gb3RoQ3RvciAmJlxuICAgICAgICAoJ2NvbnN0cnVjdG9yJyBpbiBvYmplY3QgJiYgJ2NvbnN0cnVjdG9yJyBpbiBvdGhlcikgJiZcbiAgICAgICAgISh0eXBlb2Ygb2JqQ3RvciA9PSAnZnVuY3Rpb24nICYmIG9iakN0b3IgaW5zdGFuY2VvZiBvYmpDdG9yICYmXG4gICAgICAgICAgdHlwZW9mIG90aEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvdGhDdG9yIGluc3RhbmNlb2Ygb3RoQ3RvcikpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICovXG5mdW5jdGlvbiBnZXRBbGxLZXlzKG9iamVjdCkge1xuICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzLCBnZXRTeW1ib2xzKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICA6IGRhdGEubWFwO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAqL1xudmFyIGdldFN5bWJvbHMgPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gIHJldHVybiBhcnJheUZpbHRlcihuYXRpdmVHZXRTeW1ib2xzKG9iamVjdCksIGZ1bmN0aW9uKHN5bWJvbCkge1xuICAgIHJldHVybiBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgc3ltYm9sKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG52YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEgYW5kIHByb21pc2VzIGluIE5vZGUuanMgPCA2LlxuaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gYmFzZUdldFRhZyh2YWx1ZSksXG4gICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiAnJztcblxuICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICBjYXNlIHByb21pc2VDdG9yU3RyaW5nOiByZXR1cm4gcHJvbWlzZVRhZztcbiAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAodHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8IHJlSXNVaW50LnRlc3QodmFsdWUpKSAmJlxuICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgOiAodmFsdWUgPT09IG51bGwpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAqL1xuZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4zLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbi8qKlxuICogUGVyZm9ybXMgYSBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICogZXF1aXZhbGVudC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2Qgc3VwcG9ydHMgY29tcGFyaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsXG4gKiBkYXRlIG9iamVjdHMsIGVycm9yIG9iamVjdHMsIG1hcHMsIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsXG4gKiBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWQgYXJyYXlzLiBgT2JqZWN0YCBvYmplY3RzIGFyZSBjb21wYXJlZFxuICogYnkgdGhlaXIgb3duLCBub3QgaW5oZXJpdGVkLCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuIEZ1bmN0aW9ucyBhbmQgRE9NXG4gKiBub2RlcyBhcmUgY29tcGFyZWQgYnkgc3RyaWN0IGVxdWFsaXR5LCBpLmUuIGA9PT1gLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmlzRXF1YWwob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogb2JqZWN0ID09PSBvdGhlcjtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRXF1YWwodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNMZW5ndGgoMyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoJzMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgdHlwZWQgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICpcbiAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG4gKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gKiBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8ua2V5cyhuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqXG4gKiBfLmtleXMoJ2hpJyk7XG4gKiAvLyA9PiBbJzAnLCAnMSddXG4gKi9cbmZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGVtcHR5IGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgYXJyYXkuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBhcnJheXMgPSBfLnRpbWVzKDIsIF8uc3R1YkFycmF5KTtcbiAqXG4gKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICogLy8gPT4gW1tdLCBbXV1cbiAqXG4gKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gIHJldHVybiBbXTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAqIC8vID0+IFtmYWxzZSwgZmFsc2VdXG4gKi9cbmZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzRXF1YWw7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBWYWx1ZVRyYW5zZm9ybXMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmFsdWVUcmFuc2Zvcm1zKCkge1xuICAgIH1cbiAgICBWYWx1ZVRyYW5zZm9ybXMuZGVjb2RlQ29sb3IgPSBmdW5jdGlvbiAoY29sb3IpIHtcbiAgICAgICAgdmFyIGIgPSBjb2xvciAmIDB4ZmY7XG4gICAgICAgIGNvbG9yID4+PSA4O1xuICAgICAgICB2YXIgZyA9IGNvbG9yICYgMHhmZjtcbiAgICAgICAgY29sb3IgPj49IDg7XG4gICAgICAgIHZhciByID0gY29sb3IgJiAweGZmO1xuICAgICAgICBjb2xvciA+Pj0gODtcbiAgICAgICAgdmFyIGEgPSAoY29sb3IgJiAweGZmKSAvIDI1NTtcbiAgICAgICAgcmV0dXJuIFwicmdiYShcIiArIHIgKyBcIixcIiArIGcgKyBcIixcIiArIGIgKyBcIixcIiArIGEgKyBcIilcIjtcbiAgICB9O1xuICAgIFZhbHVlVHJhbnNmb3Jtcy5lbmNvZGVDb2xvciA9IGZ1bmN0aW9uIChjb2xvcikge1xuICAgICAgICBpZiAodHlwZW9mIGNvbG9yID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJnYmEgLT4gbnVtYmVyXG4gICAgICAgIHZhciByZ2JhUmUgPSAvXnJnYmFcXCgoXFxkKyksKFxcZCspLChcXGQrKSwoXFxkKyhcXC5cXGQrKT8pXFwpJC87XG4gICAgICAgIHZhciByZ2JhID0gcmdiYVJlLmV4ZWMoY29sb3IpO1xuICAgICAgICBpZiAocmdiYSkge1xuICAgICAgICAgICAgdmFyIGEgPSBwYXJzZUludChyZ2JhWzRdLCAxMCkgKiAyNTU7XG4gICAgICAgICAgICB2YXIgciA9IHBhcnNlSW50KHJnYmFbMV0sIDEwKSAmIDB4ZmY7XG4gICAgICAgICAgICB2YXIgZyA9IHBhcnNlSW50KHJnYmFbMl0sIDEwKSAmIDB4ZmY7XG4gICAgICAgICAgICB2YXIgYiA9IHBhcnNlSW50KHJnYmFbM10sIDEwKSAmIDB4ZmY7XG4gICAgICAgICAgICByZXR1cm4gKGEgPDwgMjQpICsgKHIgPDwgMTYpICsgKGcgPDwgOCkgKyBiO1xuICAgICAgICB9XG4gICAgICAgIC8vIGhleCAtPiBudW1iZXJcbiAgICAgICAgdmFyIGhleFJlID0gL14jKFswLTlhLWZdezJ9KShbMC05YS1mXXsyfSkoWzAtOWEtZl17Mn0pJC9pO1xuICAgICAgICB2YXIgaGV4ID0gaGV4UmUuZXhlYyhjb2xvcik7XG4gICAgICAgIGlmIChoZXgpIHtcbiAgICAgICAgICAgIHZhciByID0gcGFyc2VJbnQoaGV4WzFdLCAxNikgJiAweGZmO1xuICAgICAgICAgICAgdmFyIGcgPSBwYXJzZUludChoZXhbMl0sIDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICB2YXIgYiA9IHBhcnNlSW50KGhleFszXSwgMTYpICYgMHhmZjtcbiAgICAgICAgICAgIHJldHVybiAoMjU1IDw8IDI0KSArIChyIDw8IDE2KSArIChnIDw8IDgpICsgYjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgcGFyc2UgY29sb3IgXFxcIlwiICsgY29sb3IgKyBcIlxcXCJcIik7XG4gICAgfTtcbiAgICByZXR1cm4gVmFsdWVUcmFuc2Zvcm1zO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFZhbHVlVHJhbnNmb3JtcztcbiIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXMgKi9cbnZhciBMZWFucGx1bSA9IHJlcXVpcmUoJy4uL0xlYW5wbHVtLnRzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IExlYW5wbHVtLmRlZmF1bHQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29uc3RhbnRzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQ29uc3RhbnRzXCIpKTtcbnZhciBMZWFucGx1bUludGVybmFsXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTGVhbnBsdW1JbnRlcm5hbFwiKSk7XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzICovXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG52YXIgTGVhbnBsdW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVhbnBsdW0oKSB7XG4gICAgfVxuICAgIExlYW5wbHVtLnNldEFwaVBhdGggPSBmdW5jdGlvbiAoYXBpUGF0aCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0QXBpUGF0aChhcGlQYXRoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldEVtYWlsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBkZXByZWNhdGVkXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBuZXR3b3JrIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHMgVGhlIHRpbWVvdXQgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBMZWFucGx1bS5zZXROZXR3b3JrVGltZW91dCA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXROZXR3b3JrVGltZW91dChzZWNvbmRzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldEFwcElkRm9yRGV2ZWxvcG1lbnRNb2RlID0gZnVuY3Rpb24gKGFwcElkLCBhY2Nlc3NLZXkpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldEFwcElkRm9yRGV2ZWxvcG1lbnRNb2RlKGFwcElkLCBhY2Nlc3NLZXkpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0QXBwSWRGb3JQcm9kdWN0aW9uTW9kZSA9IGZ1bmN0aW9uIChhcHBJZCwgYWNjZXNzS2V5KSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRBcHBJZEZvclByb2R1Y3Rpb25Nb2RlKGFwcElkLCBhY2Nlc3NLZXkpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0U29ja2V0SG9zdCA9IGZ1bmN0aW9uIChob3N0KSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRTb2NrZXRIb3N0KGhvc3QpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0RGV2aWNlSWQgPSBmdW5jdGlvbiAoZGV2aWNlSWQpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldERldmljZUlkKGRldmljZUlkKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnNldExvY2FsZSA9IGZ1bmN0aW9uIChsb2NhbGUpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldExvY2FsZShsb2NhbGUpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0QXBwVmVyc2lvbiA9IGZ1bmN0aW9uICh2ZXJzaW9uTmFtZSkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0QXBwVmVyc2lvbih2ZXJzaW9uTmFtZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXREZXZpY2VOYW1lID0gZnVuY3Rpb24gKGRldmljZU5hbWUpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnNldERldmljZU5hbWUoZGV2aWNlTmFtZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXREZXZpY2VNb2RlbCA9IGZ1bmN0aW9uIChkZXZpY2VNb2RlbCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0RGV2aWNlTW9kZWwoZGV2aWNlTW9kZWwpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0UmVxdWVzdEJhdGNoaW5nID0gZnVuY3Rpb24gKGJhdGNoRW5hYmxlZCwgY29vbGRvd25TZWNvbmRzKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRSZXF1ZXN0QmF0Y2hpbmcoYmF0Y2hFbmFibGVkLCBjb29sZG93blNlY29uZHMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0U3lzdGVtTmFtZSA9IGZ1bmN0aW9uIChzeXN0ZW1OYW1lKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRTeXN0ZW1OYW1lKHN5c3RlbU5hbWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0U3lzdGVtVmVyc2lvbiA9IGZ1bmN0aW9uIChzeXN0ZW1WZXJzaW9uKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRTeXN0ZW1WZXJzaW9uKHN5c3RlbVZlcnNpb24pO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0VmFyaWFibGVzID0gZnVuY3Rpb24gKHZhcmlhYmxlcykge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0VmFyaWFibGVzKHZhcmlhYmxlcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRWYXJpYW50RGVidWdJbmZvRW5hYmxlZCA9IGZ1bmN0aW9uICh2YXJpYW50RGVidWdJbmZvRW5hYmxlZCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuc2V0VmFyaWFudERlYnVnSW5mb0VuYWJsZWQodmFyaWFudERlYnVnSW5mb0VuYWJsZWQpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZW5hYmxlUmljaEluQXBwTWVzc2FnZXMgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICAgICAgICBMZWFucGx1bS5fbHAuZW5hYmxlUmljaEluQXBwTWVzc2FnZXMoZW5hYmxlZCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5wcm9jZXNzTWVzc2FnZUV2ZW50ID0gZnVuY3Rpb24gKG1lc3NhZ2VJZCwgbWVzc2FnZSkge1xuICAgICAgICBMZWFucGx1bS5fbHAucHJvY2Vzc01lc3NhZ2VFdmVudChtZXNzYWdlSWQsIG1lc3NhZ2UpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZ2V0VmFyaWFudERlYnVnSW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5nZXRWYXJpYW50RGVidWdJbmZvKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5nZXRWYXJpYWJsZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuZ2V0VmFyaWFibGVzKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5nZXRWYXJpYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoX2EgPSBMZWFucGx1bS5fbHApLmdldFZhcmlhYmxlLmFwcGx5KF9hLCBhcmdzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldFZhcmlhbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLmdldFZhcmlhbnRzKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5pbmJveCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5pbmJveCgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICBMZWFucGx1bS5fbHAuYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5yZW1vdmVTdGFydFJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5yZW1vdmVTdGFydFJlc3BvbnNlSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmFkZFZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmFkZFZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucmVtb3ZlVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICBMZWFucGx1bS5fbHAucmVtb3ZlVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5mb3JjZUNvbnRlbnRVcGRhdGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmZvcmNlQ29udGVudFVwZGF0ZShjYWxsYmFjayk7XG4gICAgfTtcbiAgICBMZWFucGx1bS51c2VTZXNzaW9uTGVuZ3RoID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnVzZVNlc3Npb25MZW5ndGgoc2Vjb25kcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zdGFydCA9IGZ1bmN0aW9uICh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjaykge1xuICAgICAgICBMZWFucGx1bS5fbHAuc3RhcnQodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc3RhcnRGcm9tQ2FjaGUgPSBmdW5jdGlvbiAodXNlcklkLCB1c2VyQXR0cmlidXRlcywgY2FsbGJhY2spIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLnN0YXJ0RnJvbUNhY2hlKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zdG9wKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5wYXVzZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5wYXVzZVNlc3Npb24oKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnJlc3VtZVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5yZXN1bWVTZXNzaW9uKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5wYXVzZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMZWFucGx1bS5fbHAucGF1c2VTdGF0ZSgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0ucmVzdW1lU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5yZXN1bWVTdGF0ZSgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uZ2V0VXNlcklkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbHAuZ2V0VXNlcklkKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRVc2VySWQgPSBmdW5jdGlvbiAodXNlcklkKSB7XG4gICAgICAgIExlYW5wbHVtLnNldFVzZXJBdHRyaWJ1dGVzKHVzZXJJZCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5zZXRVc2VyQXR0cmlidXRlcyA9IGZ1bmN0aW9uICh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5zZXRVc2VyQXR0cmlidXRlcyh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLnRyYWNrID0gZnVuY3Rpb24gKGV2ZW50LCB2YWx1ZSwgaW5mbywgcGFyYW1zKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC50cmFjayhldmVudCwgdmFsdWUsIGluZm8sIHBhcmFtcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bS50cmFja1B1cmNoYXNlID0gZnVuY3Rpb24gKHZhbHVlLCBjdXJyZW5jeUNvZGUsIHBhcmFtcywgZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50ID09PSB2b2lkIDApIHsgZXZlbnQgPSAnUHVyY2hhc2UnOyB9XG4gICAgICAgIExlYW5wbHVtLl9scC50cmFja1B1cmNoYXNlKHZhbHVlLCBjdXJyZW5jeUNvZGUsIHBhcmFtcywgZXZlbnQpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uYWR2YW5jZVRvID0gZnVuY3Rpb24gKHN0YXRlLCBpbmZvLCBwYXJhbXMpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLmFkdmFuY2VUbyhzdGF0ZSwgaW5mbywgcGFyYW1zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgd2ViIHB1c2ggaXMgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgc3VwcG9ydGVkLCBlbHNlIGZhbHNlLlxuICAgICAqL1xuICAgIExlYW5wbHVtLmlzV2ViUHVzaFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5pc1dlYlB1c2hTdXBwb3J0ZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgd2ViIHB1c2ggaXMgc3Vic2NyaWJlZC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBSZXNvbHZlcyBpZiB0cnVlLCByZWplY3RzIGlmIGZhbHNlLlxuICAgICAqL1xuICAgIExlYW5wbHVtLmlzV2ViUHVzaFN1YnNjcmliZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAuaXNXZWJQdXNoU3Vic2NyaWJlZCgpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uc2V0V2ViUHVzaE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gTGVhbnBsdW0uX2xwLnNldFdlYlB1c2hPcHRpb25zKG9wdGlvbnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgdGhlIGJyb3dzZXIgZm9yIHdlYiBwdXNoLlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICBzZXJ2aWNlV29ya2VyVXJsIFRoZSB1cmwgb24geW91ciBzZXJ2ZXIgdGhhdCBob3N0cyB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvc3cubWluLmpzIHNlcnZpY2Ugd29ya2VyIGpzIGZpbGUuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gICAgICAgICAgICAgICAgICAgUmVzb2x2ZXMgaWYgcmVnaXN0cmF0aW9uIHN1Y2Nlc3NmdWwsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJ3aXNlIGZhaWxzLlxuICAgICAqL1xuICAgIExlYW5wbHVtLnJlZ2lzdGVyRm9yV2ViUHVzaCA9IGZ1bmN0aW9uIChzZXJ2aWNlV29ya2VyVXJsKSB7XG4gICAgICAgIHJldHVybiBMZWFucGx1bS5fbHAucmVnaXN0ZXJGb3JXZWJQdXNoKHNlcnZpY2VXb3JrZXJVcmwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5yZWdpc3RlcnMgdGhlIGJyb3dzZXIgZm9ybSB3ZWIgcHVzaC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICAgICAgIFJlc29sdmVzIG9uIHN1Y2Nlc3MsIG90aGVyd2lzZSByZWplY3RzLlxuICAgICAqL1xuICAgIExlYW5wbHVtLnVucmVnaXN0ZXJGcm9tV2ViUHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC51bnJlZ2lzdGVyRnJvbVdlYlB1c2goKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFycyBjYWNoZWQgdmFsdWVzIGZvciBtZXNzYWdlcywgdmFyaWFibGVzIGFuZCB0ZXN0IGFzc2lnbm1lbnRzLlxuICAgICAqIFVzZSBzcGFyaW5nbHkgYXMgaWYgdGhlIGFwcCBpcyB1cGRhdGVkLCB5b3UnbGwgaGF2ZSB0byBkZWFsIHdpdGggcG90ZW50aWFsbHlcbiAgICAgKiBpbmNvbnNpc3RlbnQgc3RhdGUgb3IgdXNlciBleHBlcmllbmNlLlxuICAgICAqL1xuICAgIExlYW5wbHVtLmNsZWFyVXNlckNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5jbGVhclVzZXJDb250ZW50KCk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5kZWZpbmVBY3Rpb24gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBMZWFucGx1bS5fbHAuZGVmaW5lQWN0aW9uKG9wdGlvbnMpO1xuICAgIH07XG4gICAgTGVhbnBsdW0uYXBwbHlRdWV1ZSA9IGZ1bmN0aW9uIChxdWV1ZSkge1xuICAgICAgICBMZWFucGx1bS5fbHAuYXBwbHlRdWV1ZShxdWV1ZSk7XG4gICAgfTtcbiAgICBMZWFucGx1bS5vbiA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAgICAgTGVhbnBsdW0uX2xwLm9uKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bS5vZmYgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgIExlYW5wbHVtLl9scC5vZmYoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLmdldEZpbGVVcmwgPSBmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgICAgcmV0dXJuIExlYW5wbHVtLl9scC5nZXRGaWxlVXJsKGZpbGVuYW1lKTtcbiAgICB9O1xuICAgIExlYW5wbHVtLl9fZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fbHAgPSBuZXcgTGVhbnBsdW1JbnRlcm5hbF8xLmRlZmF1bHQod2luZG93KTtcbiAgICB9O1xuICAgIExlYW5wbHVtLl9scCA9IG5ldyBMZWFucGx1bUludGVybmFsXzEuZGVmYXVsdCh3aW5kb3cpO1xuICAgIExlYW5wbHVtLlZFUlNJT04gPSBDb25zdGFudHNfMS5kZWZhdWx0LlNES19WRVJTSU9OO1xuICAgIHJldHVybiBMZWFucGx1bTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMZWFucGx1bTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqICBDb3B5cmlnaHQgMjAyMCBMZWFucGx1bSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdDpcbiAqXG4gKiAgICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgQnJvd3NlckRldGVjdG9yXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQnJvd3NlckRldGVjdG9yXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIEludGVybmFsU3RhdGVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9JbnRlcm5hbFN0YXRlXCIpKTtcbnZhciBMZWFucGx1bUluYm94XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTGVhbnBsdW1JbmJveFwiKSk7XG52YXIgTGVhbnBsdW1SZXF1ZXN0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTGVhbnBsdW1SZXF1ZXN0XCIpKTtcbnZhciBMZWFucGx1bVNvY2tldF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0xlYW5wbHVtU29ja2V0XCIpKTtcbnZhciBTdG9yYWdlTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1N0b3JhZ2VNYW5hZ2VyXCIpKTtcbnZhciBQdXNoTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1B1c2hNYW5hZ2VyXCIpKTtcbnZhciBNZXNzYWdlc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL01lc3NhZ2VzXCIpKTtcbnZhciBFdmVudEVtaXR0ZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9FdmVudEVtaXR0ZXJcIikpO1xudmFyIHB1YmxpY18xID0gcmVxdWlyZShcIi4vdHlwZXMvcHVibGljXCIpO1xudmFyIFZhckNhY2hlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vVmFyQ2FjaGVcIikpO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlcyAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xudmFyIFNFU1NJT05fS0VZID0gQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuU0VTU0lPTjtcbnZhciBMZWFucGx1bUludGVybmFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExlYW5wbHVtSW50ZXJuYWwod25kKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMud25kID0gd25kO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRFbWl0dGVyXzEuZGVmYXVsdCgpO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlID0gbmV3IEludGVybmFsU3RhdGVfMS5kZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX2xwSW5ib3ggPSBuZXcgTGVhbnBsdW1JbmJveF8xLmRlZmF1bHQodGhpcy5jcmVhdGVSZXF1ZXN0LmJpbmQodGhpcyksIHRoaXMub25JbmJveEFjdGlvbi5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0ID0gbmV3IExlYW5wbHVtUmVxdWVzdF8xLmRlZmF1bHQodGhpcy5fZXZlbnRzKTtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUgPSBuZXcgVmFyQ2FjaGVfMS5kZWZhdWx0KHRoaXMuY3JlYXRlUmVxdWVzdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fbHBTb2NrZXQgPSBuZXcgTGVhbnBsdW1Tb2NrZXRfMS5kZWZhdWx0KHRoaXMuX3ZhckNhY2hlLCB0aGlzLmNyZWF0ZVJlcXVlc3QuYmluZCh0aGlzKSwgdGhpcy5fbHBSZXF1ZXN0LmdldExhc3RSZXNwb25zZS5iaW5kKHRoaXMuX2xwUmVxdWVzdCksIHRoaXMuX2V2ZW50cyk7XG4gICAgICAgIHRoaXMuX3B1c2hNYW5hZ2VyID0gbmV3IFB1c2hNYW5hZ2VyXzEuZGVmYXVsdCh0aGlzLmNyZWF0ZVJlcXVlc3QuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX21lc3NhZ2VzID0gbmV3IE1lc3NhZ2VzXzEuZGVmYXVsdCh0aGlzLl9ldmVudHMsIHRoaXMuY3JlYXRlUmVxdWVzdC5iaW5kKHRoaXMpLCB0aGlzLmdldEZpbGVVcmwuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX2Jyb3dzZXJEZXRlY3RvciA9IG5ldyBCcm93c2VyRGV0ZWN0b3JfMS5kZWZhdWx0KHduZCk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5vbignbmF2aWdhdGlvbkNoYW5nZScsIGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgICAgIHZhciBwcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLl9ldmVudHMuZW1pdCgnb3BlblVybCcsIHtcbiAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJldmVudGVkID0gdHJ1ZTsgfSxcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFwcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy53bmQubG9jYXRpb24uYXNzaWduKHVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9ldmVudHMub24oJ3JlZ2lzdGVyRm9yUHVzaCcsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnJlZ2lzdGVyRm9yV2ViUHVzaCgpOyB9KTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLm9uKCd1cGRhdGVEZXZTZXJ2ZXJIb3N0JywgZnVuY3Rpb24gKGhvc3QpIHsgcmV0dXJuIF90aGlzLnNldFNvY2tldEhvc3QoaG9zdCk7IH0pO1xuICAgIH1cbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRBcGlQYXRoID0gZnVuY3Rpb24gKGFwaVBhdGgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9scFJlcXVlc3QuYXBpUGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5hcGlQYXRoID0gYXBpUGF0aDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldE5ldHdvcmtUaW1lb3V0ID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LnNldE5ldHdvcmtUaW1lb3V0KHNlY29uZHMpO1xuICAgICAgICB0aGlzLl9scFNvY2tldC5zZXROZXR3b3JrVGltZW91dChzZWNvbmRzKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldEFwcElkRm9yRGV2ZWxvcG1lbnRNb2RlID0gZnVuY3Rpb24gKGFwcElkLCBhY2Nlc3NLZXkpIHtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmFwcElkID0gYXBwSWQ7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5jbGllbnRLZXkgPSBhY2Nlc3NLZXk7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUuZGV2TW9kZSA9IHRydWU7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRBcHBJZEZvclByb2R1Y3Rpb25Nb2RlID0gZnVuY3Rpb24gKGFwcElkLCBhY2Nlc3NLZXkpIHtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmFwcElkID0gYXBwSWQ7XG4gICAgICAgIHRoaXMuX2xwUmVxdWVzdC5jbGllbnRLZXkgPSBhY2Nlc3NLZXk7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUuZGV2TW9kZSA9IGZhbHNlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0U29ja2V0SG9zdCA9IGZ1bmN0aW9uIChob3N0KSB7XG4gICAgICAgIHRoaXMuX2xwU29ja2V0LnNldFNvY2tldEhvc3QoaG9zdCk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXREZXZpY2VJZCA9IGZ1bmN0aW9uIChkZXZpY2VJZCkge1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QuZGV2aWNlSWQgPSBkZXZpY2VJZDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldExvY2FsZSA9IGZ1bmN0aW9uIChsb2NhbGUpIHtcbiAgICAgICAgdGhpcy5fbG9jYWxlID0gbG9jYWxlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0QXBwVmVyc2lvbiA9IGZ1bmN0aW9uICh2ZXJzaW9uTmFtZSkge1xuICAgICAgICB0aGlzLl9scFJlcXVlc3QudmVyc2lvbk5hbWUgPSB2ZXJzaW9uTmFtZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldERldmljZU5hbWUgPSBmdW5jdGlvbiAoZGV2aWNlTmFtZSkge1xuICAgICAgICB0aGlzLl9kZXZpY2VOYW1lID0gZGV2aWNlTmFtZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldERldmljZU1vZGVsID0gZnVuY3Rpb24gKGRldmljZU1vZGVsKSB7XG4gICAgICAgIHRoaXMuX2RldmljZU1vZGVsID0gZGV2aWNlTW9kZWw7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRSZXF1ZXN0QmF0Y2hpbmcgPSBmdW5jdGlvbiAoYmF0Y2hFbmFibGVkLCBjb29sZG93blNlY29uZHMpIHtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmJhdGNoRW5hYmxlZCA9IGJhdGNoRW5hYmxlZDtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LmJhdGNoQ29vbGRvd24gPSBjb29sZG93blNlY29uZHM7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRTeXN0ZW1OYW1lID0gZnVuY3Rpb24gKHN5c3RlbU5hbWUpIHtcbiAgICAgICAgdGhpcy5fc3lzdGVtTmFtZSA9IHN5c3RlbU5hbWU7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRTeXN0ZW1WZXJzaW9uID0gZnVuY3Rpb24gKHN5c3RlbVZlcnNpb24pIHtcbiAgICAgICAgdGhpcy5fc3lzdGVtVmVyc2lvbiA9IHN5c3RlbVZlcnNpb247XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRWYXJpYWJsZXMgPSBmdW5jdGlvbiAodmFyaWFibGVzKSB7XG4gICAgICAgIHRoaXMuX3ZhckNhY2hlLnNldFZhcmlhYmxlcyh2YXJpYWJsZXMpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuc2V0VmFyaWFudERlYnVnSW5mb0VuYWJsZWQgPSBmdW5jdGlvbiAodmFyaWFudERlYnVnSW5mb0VuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTdGF0ZS52YXJpYW50RGVidWdJbmZvRW5hYmxlZCA9IHZhcmlhbnREZWJ1Z0luZm9FbmFibGVkO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZW5hYmxlUmljaEluQXBwTWVzc2FnZXMgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICAgICAgICB0aGlzLl9tZXNzYWdlcy5lbmFibGVSaWNoSW5BcHBNZXNzYWdlcyhlbmFibGVkKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnByb2Nlc3NNZXNzYWdlRXZlbnQgPSBmdW5jdGlvbiAobWVzc2FnZUlkLCBtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuX21lc3NhZ2VzLnByb2Nlc3NNZXNzYWdlRXZlbnQobWVzc2FnZUlkLCBtZXNzYWdlKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldFZhcmlhbnREZWJ1Z0luZm8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YXJDYWNoZS5nZXRWYXJpYW50RGVidWdJbmZvKCk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5nZXRWYXJpYWJsZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YXJDYWNoZS5nZXRWYXJpYWJsZXMoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldFZhcmlhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuX3ZhckNhY2hlKS5nZXRWYXJpYWJsZS5hcHBseShfYSwgYXJncyk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5nZXRWYXJpYW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhckNhY2hlLnZhcmlhbnRzIHx8IFtdO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuaW5ib3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9scEluYm94O1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5vbihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgICB0aGlzLl9ldmVudHMub2ZmKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5vbkluYm94QWN0aW9uID0gZnVuY3Rpb24gKG1lc3NhZ2VJZCwgYWN0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX21lc3NhZ2VzLnRyYWNrTWVzc2FnZShtZXNzYWdlSWQsIHsgZXZlbnQ6ICdPcGVuJyB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiBhY3Rpb24gJiYgX3RoaXMuX21lc3NhZ2VzLm9uQWN0aW9uKGFjdGlvbik7IH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuZGVmaW5lQWN0aW9uID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUucmVnaXN0ZXJBY3Rpb25EZWZpbml0aW9uKF9fYXNzaWduKHsga2luZDogcHVibGljXzEuTWVzc2FnZUtpbmQuVGVtcGxhdGUgfSwgb3B0aW9ucykpO1xuICAgIH07XG4gICAgLy8gVE9ETyhicmVha2luZyBjaGFuZ2UpOiByZXBsYWNlIHdpdGggZXZlbnRzIGFuZCByZW1vdmUgc3RhdGVmdWwgaGFuZGxlcnNcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5hZGRTdGFydFJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUuYWRkU3RhcnRSZXNwb25zZUhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5yZW1vdmVTdGFydFJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUucmVtb3ZlU3RhcnRSZXNwb25zZUhhbmRsZXIoaGFuZGxlcik7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5hZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX3ZhckNhY2hlLmFkZFZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucmVtb3ZlVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLl92YXJDYWNoZS5yZW1vdmVWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldEZpbGVVcmwgPSBmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xwUmVxdWVzdC5nZXRGaWxlVXJsKGZpbGVuYW1lKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmZvcmNlQ29udGVudFVwZGF0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkNMVURFX0RFRkFVTFRTLCBmYWxzZSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5DTFVERV9WQVJJQU5UX0RFQlVHX0lORk8sIHRoaXMuX2ludGVybmFsU3RhdGUudmFyaWFudERlYnVnSW5mb0VuYWJsZWQpO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLkdFVF9WQVJTLCBhcmdzLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgZ2V0VmFyc1Jlc3BvbnNlID0gX3RoaXMuX2xwUmVxdWVzdC5nZXRMYXN0UmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIHZhciBpc1N1Y2Nlc3MgPSBfdGhpcy5fbHBSZXF1ZXN0LmlzUmVzcG9uc2VTdWNjZXNzKGdldFZhcnNSZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUuYXBwbHlEaWZmcyhnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUlNdLCBnZXRWYXJzUmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUklBTlRTXSwgZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5BQ1RJT05fREVGSU5JVElPTlNdKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3ZhckNhY2hlLnNldFZhcmlhbnREZWJ1Z0luZm8oZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJJQU5UX0RFQlVHX0lORk9dKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2V2ZW50cy5lbWl0KCdtZXNzYWdlc1JlY2VpdmVkJywgZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5NRVNTQUdFU10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soaXNTdWNjZXNzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnVzZVNlc3Npb25MZW5ndGggPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICB0aGlzLl9zZXNzaW9uTGVuZ3RoID0gc2Vjb25kcztcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlb2YgdXNlcklkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJJZDtcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0ge307XG4gICAgICAgICAgICB1c2VySWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VySWQgPT09ICdvYmplY3QnICYmIHVzZXJJZCAhPT0gbnVsbCAmJiB1c2VySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VyQXR0cmlidXRlcztcbiAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0gdXNlcklkO1xuICAgICAgICAgICAgdXNlcklkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdXNlckF0dHJpYnV0ZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlckF0dHJpYnV0ZXM7XG4gICAgICAgICAgICB1c2VyQXR0cmlidXRlcyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhhc0FjdGl2ZVNlc3Npb24oKSAmJiAhdGhpcy5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGFydEZyb21DYWNoZSh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZCA9IHVzZXJJZDtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl92YXJDYWNoZS5vblVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS50cmlnZ2VyVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzKCk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlVTRVJfQVRUUklCVVRFUywgSlNPTi5zdHJpbmdpZnkodXNlckF0dHJpYnV0ZXMpKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DT1VOVFJZLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlJFR0lPTiwgQ29uc3RhbnRzXzEuZGVmYXVsdC5WQUxVRVMuREVURUNUKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5DSVRZLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkxPQ0FUSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlZBTFVFUy5ERVRFQ1QpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNZU1RFTV9OQU1FLCB0aGlzLl9zeXN0ZW1OYW1lIHx8IHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci5PUylcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuU1lTVEVNX1ZFUlNJT04sICh0aGlzLl9zeXN0ZW1WZXJzaW9uIHx8ICcnKS50b1N0cmluZygpKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5CUk9XU0VSX05BTUUsIHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci5icm93c2VyKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5CUk9XU0VSX1ZFUlNJT04sIHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci52ZXJzaW9uLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkxPQ0FMRSwgdGhpcy5fbG9jYWxlIHx8IENvbnN0YW50c18xLmRlZmF1bHQuVkFMVUVTLkRFVEVDVClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuREVWSUNFX05BTUUsIHRoaXMuX2RldmljZU5hbWUgfHxcbiAgICAgICAgICAgIHRoaXMuX2Jyb3dzZXJEZXRlY3Rvci5icm93c2VyICsgXCIgXCIgKyB0aGlzLl9icm93c2VyRGV0ZWN0b3IudmVyc2lvbilcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuREVWSUNFX01PREVMLCB0aGlzLl9kZXZpY2VNb2RlbCB8fCAnV2ViIEJyb3dzZXInKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ORVdTRkVFRF9NRVNTQUdFUywgdGhpcy5fbHBJbmJveC5tZXNzYWdlSWRzKCkpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklOQ0xVREVfREVGQVVMVFMsIGZhbHNlKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5JTkNMVURFX1ZBUklBTlRfREVCVUdfSU5GTywgdGhpcy5faW50ZXJuYWxTdGF0ZS52YXJpYW50RGVidWdJbmZvRW5hYmxlZCk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuU1RBUlQsIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgICAgIHNlbmROb3c6IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2ludGVybmFsU3RhdGUuaGFzU3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0UmVzcG9uc2UgPSBfdGhpcy5fbHBSZXF1ZXN0LmdldExhc3RSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgdmFyIGlzU3VjY2VzcyA9IF90aGlzLl9scFJlcXVlc3QuaXNSZXNwb25zZVN1Y2Nlc3Moc3RhcnRSZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2ludGVybmFsU3RhdGUuc3RhcnRTdWNjZXNzZnVsID0gaXNTdWNjZXNzO1xuICAgICAgICAgICAgICAgIGlmIChpc1N1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlU2Vzc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZXMgPSBzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5NRVNTQUdFU107XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFydFJlc3BvbnNlLmFjdGlvbkRlZmluaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlcy5hY3Rpb25EZWZpbml0aW9ucyA9IHN0YXJ0UmVzcG9uc2UuYWN0aW9uRGVmaW5pdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2V2ZW50cy5lbWl0KCdtZXNzYWdlc1JlY2VpdmVkJywgbWVzc2FnZXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuU1lOQ19JTkJPWF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9scEluYm94LmRvd25sb2FkTWVzc2FnZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX2ludGVybmFsU3RhdGUuZGV2TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhdGVzdFZlcnNpb24gPSBzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5MQVRFU1RfVkVSU0lPTl07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF0ZXN0VmVyc2lvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQSBuZXdlciB2ZXJzaW9uIG9mIHRoZSBMZWFucGx1bSBTREssIFwiICsgbGF0ZXN0VmVyc2lvbiArIFwiLCBpcyBhdmFpbGFibGUuXFxuVXNlIFxcXCJucG0gdXBkYXRlIGxlYW5wbHVtLXNka1xcXCIgb3IgZ28gdG8gaHR0cHM6Ly9kb2NzLmxlYW5wbHVtLmNvbS9yZWZlcmVuY2UjamF2YXNjcmlwdC1zZXR1cCB0byBkb3dubG9hZCBpdC5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0U29ja2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3ZhckNhY2hlLmFwcGx5RGlmZnMoc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuVkFSU10sIHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUklBTlRTXSwgc3RhcnRSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuQUNUSU9OX0RFRklOSVRJT05TXSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl92YXJDYWNoZS5zZXRWYXJpYW50RGVidWdJbmZvKHN0YXJ0UmVzcG9uc2VbQ29uc3RhbnRzXzEuZGVmYXVsdC5LRVlTLlZBUklBTlRfREVCVUdfSU5GT10pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUudG9rZW4gPSBzdGFydFJlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5UT0tFTl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdmFyQ2FjaGUubG9hZERpZmZzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLl9ldmVudHMuZW1pdCgnc3RhcnQnLCB7IHN1Y2Nlc3M6IGlzU3VjY2VzcyB9KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5faW50ZXJuYWxTdGF0ZS50cmlnZ2VyU3RhcnRIYW5kbGVycygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zdGFydEZyb21DYWNoZSA9IGZ1bmN0aW9uICh1c2VySWQsIHVzZXJBdHRyaWJ1dGVzLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAodHlwZW9mIHVzZXJJZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB1c2VySWQ7XG4gICAgICAgICAgICB1c2VyQXR0cmlidXRlcyA9IHt9O1xuICAgICAgICAgICAgdXNlcklkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdXNlcklkID09PSAnb2JqZWN0JyAmJiB1c2VySWQgIT09IG51bGwgJiYgdXNlcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gdXNlckF0dHJpYnV0ZXM7XG4gICAgICAgICAgICB1c2VyQXR0cmlidXRlcyA9IHVzZXJJZDtcbiAgICAgICAgICAgIHVzZXJJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHVzZXJBdHRyaWJ1dGVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVzZXJBdHRyaWJ1dGVzO1xuICAgICAgICAgICAgdXNlckF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVNlc3Npb24oKTtcbiAgICAgICAgdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZCA9IHVzZXJJZDtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLmhhc1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFN0YXRlLnN0YXJ0U3VjY2Vzc2Z1bCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9pbnRlcm5hbFN0YXRlLmRldk1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdFNvY2tldCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ZhckNhY2hlLmxvYWREaWZmcygpO1xuICAgICAgICB0aGlzLl9ldmVudHMuZW1pdCgncmVzdW1lJyk7XG4gICAgICAgIHRoaXMuX2ludGVybmFsU3RhdGUudHJpZ2dlclN0YXJ0SGFuZGxlcnMoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuU1RPUCwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQucmVtb3ZlKFNFU1NJT05fS0VZKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucGF1c2VTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlBBVVNFX1NFU1NJT04sIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5yZXN1bWVTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9ldmVudHMuZW1pdCgncmVzdW1lJyk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuUkVTVU1FX1NFU1NJT04sIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5wYXVzZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlBBVVNFX1NUQVRFLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5yZXN1bWVTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5SRVNVTUVfU1RBVEUsIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmdldFVzZXJJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xwUmVxdWVzdC51c2VySWQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5zZXRVc2VySWQgPSBmdW5jdGlvbiAodXNlcklkKSB7XG4gICAgICAgIHRoaXMuc2V0VXNlckF0dHJpYnV0ZXModXNlcklkKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFVzZXJBdHRyaWJ1dGVzID0gZnVuY3Rpb24gKHVzZXJJZCwgdXNlckF0dHJpYnV0ZXMpIHtcbiAgICAgICAgaWYgKHVzZXJBdHRyaWJ1dGVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXNlcklkID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0gdXNlcklkO1xuICAgICAgICAgICAgICAgIHVzZXJJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VySWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBzZXRVc2VyQXR0cmlidXRlcyBleHBlY3RzIGEgc3RyaW5nIG9yIGFuICcgK1xuICAgICAgICAgICAgICAgICAgICAnb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlVTRVJfQVRUUklCVVRFUywgdXNlckF0dHJpYnV0ZXMgPyBKU09OLnN0cmluZ2lmeSh1c2VyQXR0cmlidXRlcykgOiB1bmRlZmluZWQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLk5FV19VU0VSX0lELCB1c2VySWQpO1xuICAgICAgICB0aGlzLl9ldmVudHMuZW1pdCgnc2V0VXNlckF0dHJpYnV0ZScsIHVzZXJBdHRyaWJ1dGVzKTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5TRVRfVVNFUl9BVFRSSUJVVEVTLCBhcmdzLCB7XG4gICAgICAgICAgICBxdWV1ZWQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodXNlcklkKSB7XG4gICAgICAgICAgICB0aGlzLl9scFJlcXVlc3QudXNlcklkID0gdXNlcklkO1xuICAgICAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmUoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVVNFUl9JRCwgdGhpcy5fbHBSZXF1ZXN0LnVzZXJJZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnRyYWNrID0gZnVuY3Rpb24gKGV2ZW50LCB2YWx1ZSwgaW5mbywgcGFyYW1zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IHZhbHVlO1xuICAgICAgICAgICAgaW5mbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IGluZm87XG4gICAgICAgICAgICBpbmZvID0gdmFsdWU7XG4gICAgICAgICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgaW5mbyA9PT0gJ29iamVjdCcgJiYgaW5mbyAhPT0gbnVsbCAmJiBpbmZvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IGluZm87XG4gICAgICAgICAgICBpbmZvID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkVWRU5ULCBldmVudClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVkFMVUUsIHZhbHVlIHx8IDAuMClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuSU5GTywgaW5mbylcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuUEFSQU1TLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzLmVtaXQoJ3RyYWNrJywgeyBldmVudE5hbWU6IGV2ZW50LCBwYXJhbXM6IHBhcmFtcyB9KTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5UUkFDSywgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnVwZGF0ZVNlc3Npb24oKTsgfSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS50cmFja1B1cmNoYXNlID0gZnVuY3Rpb24gKHZhbHVlLCBjdXJyZW5jeUNvZGUsIHBhcmFtcywgZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50ID09PSB2b2lkIDApIHsgZXZlbnQgPSAnUHVyY2hhc2UnOyB9XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkVWRU5ULCBldmVudClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVkFMVUUsIHZhbHVlIHx8IDAuMClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuUEFSQU1TLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTtcbiAgICAgICAgaWYgKGN1cnJlbmN5Q29kZSkge1xuICAgICAgICAgICAgYXJncy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQ1VSUkVOQ1lfQ09ERSwgY3VycmVuY3lDb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ldmVudHMuZW1pdCgndHJhY2snLCB7IGV2ZW50TmFtZTogZXZlbnQgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuVFJBQ0ssIGFyZ3MsIHtcbiAgICAgICAgICAgIHF1ZXVlZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5hZHZhbmNlVG8gPSBmdW5jdGlvbiAoc3RhdGUsIGluZm8sIHBhcmFtcykge1xuICAgICAgICBpZiAodHlwZW9mIGluZm8gPT09ICdvYmplY3QnICYmIGluZm8gIT09IG51bGwgJiYgaW5mbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSBpbmZvO1xuICAgICAgICAgICAgaW5mbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5TVEFURSwgc3RhdGUpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklORk8sIGluZm8pXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlBBUkFNUywgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5lbWl0KCdhZHZhbmNlU3RhdGUnLCB7IHN0YXRlOiBzdGF0ZSwgcGFyYW1zOiBwYXJhbXMgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuQURWQU5DRSwgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgd2ViIHB1c2ggaXMgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgc3VwcG9ydGVkLCBlbHNlIGZhbHNlLlxuICAgICAqL1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmlzV2ViUHVzaFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3B1c2hNYW5hZ2VyLmlzV2ViUHVzaFN1cHBvcnRlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB3ZWIgcHVzaCBpcyBzdWJzY3JpYmVkLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFJlc29sdmVzIGlmIHRydWUsIHJlamVjdHMgaWYgZmFsc2UuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuaXNXZWJQdXNoU3Vic2NyaWJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgY2xpZW50VXJsID0gKChfYSA9IHRoaXMuX3dlYlB1c2hPcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xpZW50VXJsKSB8fCAnJztcbiAgICAgICAgcmV0dXJuIHRoaXMuX3B1c2hNYW5hZ2VyLmlzV2ViUHVzaFN1YnNjcmliZWQoY2xpZW50VXJsKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnNldFdlYlB1c2hPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fd2ViUHVzaE9wdGlvbnMgPSBfX2Fzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciB0aGUgYnJvd3NlciBmb3Igd2ViIHB1c2guXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIHNlcnZpY2VXb3JrZXJVcmwgVGhlIHVybCBvbiB5b3VyIHNlcnZlciB0aGF0IGhvc3RzIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9zdy5taW4uanMgc2VydmljZSB3b3JrZXIganMgZmlsZS5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICAgICAgICAgICAgICBSZXNvbHZlcyBpZiByZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlcndpc2UgZmFpbHMuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUucmVnaXN0ZXJGb3JXZWJQdXNoID0gZnVuY3Rpb24gKHNlcnZpY2VXb3JrZXJVcmwpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX3B1c2hNYW5hZ2VyLmlzV2ViUHVzaFN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaWJlID0gZnVuY3Rpb24gKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgIGlmIChpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9wdXNoTWFuYWdlci5zdWJzY3JpYmVVc2VyKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLl93ZWJQdXNoT3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICAgIHZhciB3b3JrZXJVcmwgPSBzZXJ2aWNlV29ya2VyVXJsIHx8IG9wdGlvbnMuc2VydmljZVdvcmtlclVybDtcbiAgICAgICAgICAgIHZhciBzY29wZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5zY29wZSA/IHsgc2NvcGU6IG9wdGlvbnMuc2NvcGUgfSA6IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHVzaE1hbmFnZXIucmVnaXN0ZXIod29ya2VyVXJsLCBzY29wZSwgc3Vic2NyaWJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnTGVhbnBsdW06IFdlYlB1c2ggaXMgbm90IHN1cHBvcnRlZC4nKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5yZWdpc3RlcnMgdGhlIGJyb3dzZXIgZm9ybSB3ZWIgcHVzaC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICAgICAgIFJlc29sdmVzIG9uIHN1Y2Nlc3MsIG90aGVyd2lzZSByZWplY3RzLlxuICAgICAqL1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLnVucmVnaXN0ZXJGcm9tV2ViUHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgY2xpZW50VXJsID0gKChfYSA9IHRoaXMuX3dlYlB1c2hPcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xpZW50VXJsKSB8fCAnJztcbiAgICAgICAgcmV0dXJuIHRoaXMuX3B1c2hNYW5hZ2VyLnVuc3Vic2NyaWJlVXNlcihjbGllbnRVcmwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGNhY2hlZCB2YWx1ZXMgZm9yIG1lc3NhZ2VzLCB2YXJpYWJsZXMgYW5kIHRlc3QgYXNzaWdubWVudHMuXG4gICAgICogVXNlIHNwYXJpbmdseSBhcyBpZiB0aGUgYXBwIGlzIHVwZGF0ZWQsIHlvdSdsbCBoYXZlIHRvIGRlYWwgd2l0aCBwb3RlbnRpYWxseVxuICAgICAqIGluY29uc2lzdGVudCBzdGF0ZSBvciB1c2VyIGV4cGVyaWVuY2UuXG4gICAgICovXG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuY2xlYXJVc2VyQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdmFyQ2FjaGUuY2xlYXJVc2VyQ29udGVudCgpO1xuICAgIH07XG4gICAgLy8gdXNlZCBieSBHb29nbGUgVGFnIE1hbmFnZXIgdG8gYXBwbHkgY29tbWFuZHMgcXVldWVkIGR1cmluZyBhc3luYyBzY3JpcHQgbG9hZGluZ1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmFwcGx5UXVldWUgPSBmdW5jdGlvbiAocXVldWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcXVldWUuZm9yRWFjaChmdW5jdGlvbiAoaW52b2NhdGlvbikgeyByZXR1cm4gX3RoaXNbaW52b2NhdGlvbi5uYW1lXS5hcHBseShfdGhpcywgaW52b2NhdGlvbi5hcmdzKTsgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUludGVybmFsLnByb3RvdHlwZS5jcmVhdGVSZXF1ZXN0ID0gZnVuY3Rpb24gKGFjdGlvbiwgYXJncywgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB0aGlzLl9scFJlcXVlc3QucmVxdWVzdChhY3Rpb24sIGFyZ3MsIF9fYXNzaWduKHsgZGV2TW9kZTogdGhpcy5faW50ZXJuYWxTdGF0ZS5kZXZNb2RlIH0sIG9wdGlvbnMpKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW50ZXJuYWwucHJvdG90eXBlLmNvbm5lY3RTb2NrZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2xwU29ja2V0LmNvbm5lY3Qoe1xuICAgICAgICAgICAgYXBwSWQ6IHRoaXMuX2xwUmVxdWVzdC5hcHBJZCxcbiAgICAgICAgICAgIGRldmljZUlkOiB0aGlzLl9scFJlcXVlc3QuZGV2aWNlSWQsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUuaGFzQWN0aXZlU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zZXNzaW9uTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIGxhc3RBY3RpdmUgPSBwYXJzZUludChTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0KFNFU1NJT05fS0VZKSk7XG4gICAgICAgIGlmIChpc05hTihsYXN0QWN0aXZlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50VGltZSAtIGxhc3RBY3RpdmUgPCB0aGlzLl9zZXNzaW9uTGVuZ3RoICogMTAwMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbnRlcm5hbC5wcm90b3R5cGUudXBkYXRlU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmUoU0VTU0lPTl9LRVksIFN0cmluZyhEYXRlLm5vdygpKSk7XG4gICAgfTtcbiAgICByZXR1cm4gTGVhbnBsdW1JbnRlcm5hbDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMZWFucGx1bUludGVybmFsO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8gQnJvd3NlciBkZXRlY3Rpb24uIFNvdXJjZTogaHR0cDovL3d3dy5xdWlya3Ntb2RlLm9yZy9qcy9kZXRlY3QuaHRtbFxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gZGV0ZWN0IHdoaWNoIGJyb3dzZXIgY2xpZW50IGlzIHVzaW5nLlxuICovXG52YXIgQnJvd3NlckRldGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBvYmplY3Qgd2l0aCBjdXJyZW50IGJyb3dzZXIgc2V0dGluZ3MuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQnJvd3NlckRldGVjdG9yKHduZCkge1xuICAgICAgICB0aGlzLmJyb3dzZXIgPSB0aGlzLnNlYXJjaFN0cmluZyh0aGlzLmdldEJyb3dzZXJEYXRhKHduZCkpIHx8ICdVbmtub3duIEJyb3dzZXInO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSAodGhpcy5zZWFyY2hWZXJzaW9uKHduZC5uYXZpZ2F0b3IudXNlckFnZW50KSB8fFxuICAgICAgICAgICAgdGhpcy5zZWFyY2hWZXJzaW9uKHduZC5uYXZpZ2F0b3IuYXBwVmVyc2lvbikgfHxcbiAgICAgICAgICAgICdVbmtub3duIFZlcnNpb24nKTtcbiAgICAgICAgdGhpcy5PUyA9IHRoaXMuc2VhcmNoU3RyaW5nKHRoaXMuZ2V0T1NEYXRhKHduZCkpIHx8ICdVbmtub3duIE9TJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWF0Y2hlcyB0aGUgY2xpZW50J3Mgc3lzdGVtIHRvIHRoZSBwcmVkZWZpbmVkIHN5c3RlbSBsaXN0LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIFRoZSBkYXRhIG9iamVjdCB0byBzY2FuLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGZvdW5kIGlkZW50aXR5IHN0cmluZy5cbiAgICAgKi9cbiAgICBCcm93c2VyRGV0ZWN0b3IucHJvdG90eXBlLnNlYXJjaFN0cmluZyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRhdGFTdHJpbmcgPSBkYXRhW2ldLnN0cmluZztcbiAgICAgICAgICAgIHZhciBkYXRhUHJvcCA9IGRhdGFbaV0ucHJvcDtcbiAgICAgICAgICAgIHRoaXMudmVyc2lvblNlYXJjaFN0cmluZyA9IGRhdGFbaV0udmVyc2lvblNlYXJjaCB8fCBkYXRhW2ldLmlkZW50aXR5O1xuICAgICAgICAgICAgaWYgKGRhdGFTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVN0cmluZy5pbmRleE9mKGRhdGFbaV0uc3ViU3RyaW5nKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFbaV0uaWRlbnRpdHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YVByb3ApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVtpXS5pZGVudGl0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiB0aGUgZ2l2ZW4gc3lzdGVtLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhU3RyaW5nIFRoZSBkYXRhIG9iamVjdCB0byBzY2FuLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGZvdW5kIG51bWJlci5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJyb3dzZXJEZXRlY3Rvci5wcm90b3R5cGUuc2VhcmNoVmVyc2lvbiA9IGZ1bmN0aW9uIChkYXRhU3RyaW5nKSB7XG4gICAgICAgIGlmICghZGF0YVN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSBkYXRhU3RyaW5nLmluZGV4T2YodGhpcy52ZXJzaW9uU2VhcmNoU3RyaW5nKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChkYXRhU3RyaW5nLnN1YnN0cmluZyhpbmRleCArIHRoaXMudmVyc2lvblNlYXJjaFN0cmluZy5sZW5ndGggKyAxKSk7XG4gICAgfTtcbiAgICBCcm93c2VyRGV0ZWN0b3IucHJvdG90eXBlLmdldEJyb3dzZXJEYXRhID0gZnVuY3Rpb24gKHduZCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnQ2hyb21lJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0Nocm9tZScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnT21uaVdlYicsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdPbW5pV2ViJyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uU2VhcmNoOiAnT21uaVdlYi8nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0NyaU9TJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0Nocm9tZScsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ0NyaU9TJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdGeGlPUycsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdGaXJlZm94JyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uU2VhcmNoOiAnRnhpT1MnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudmVuZG9yLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0FwcGxlJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ1NhZmFyaScsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ1ZlcnNpb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwcm9wOiB3bmQub3BlcmEsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdPcGVyYScsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ1ZlcnNpb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudmVuZG9yLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ2lDYWInLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnaUNhYicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci52ZW5kb3IsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnS0RFJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ0tvbnF1ZXJvcicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnRmlyZWZveCcsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdGaXJlZm94JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnZlbmRvcixcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdDYW1pbm8nLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnQ2FtaW5vJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdOZXRzY2FwZScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdOZXRzY2FwZScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnTVNJRScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdFeHBsb3JlcicsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ01TSUUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0FuZHJvaWQnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnQW5kcm9pZCBCcm93c2VyJyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uU2VhcmNoOiAnVmVyc2lvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnR2Vja28nLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnTW96aWxsYScsXG4gICAgICAgICAgICAgICAgdmVyc2lvblNlYXJjaDogJ3J2JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdNb3ppbGxhJyxcbiAgICAgICAgICAgICAgICBpZGVudGl0eTogJ05ldHNjYXBlJyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uU2VhcmNoOiAnTW96aWxsYScsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuICAgIH07XG4gICAgQnJvd3NlckRldGVjdG9yLnByb3RvdHlwZS5nZXRPU0RhdGEgPSBmdW5jdGlvbiAod25kKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnBsYXRmb3JtLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ1dpbicsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdXaW5kb3dzJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5nOiB3bmQubmF2aWdhdG9yLnBsYXRmb3JtLFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ01hYycsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdNYWMgT1MnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IucGxhdGZvcm0sXG4gICAgICAgICAgICAgICAgc3ViU3RyaW5nOiAnaVBhZCcsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdpT1MnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ2lQaG9uZScsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdpT1MnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmc6IHduZC5uYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgICAgICAgICAgIHN1YlN0cmluZzogJ0FuZHJvaWQnLFxuICAgICAgICAgICAgICAgIGlkZW50aXR5OiAnQW5kcm9pZCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZzogd25kLm5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICBzdWJTdHJpbmc6ICdMaW51eCcsXG4gICAgICAgICAgICAgICAgaWRlbnRpdHk6ICdMaW51eCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuICAgIH07XG4gICAgcmV0dXJuIEJyb3dzZXJEZXRlY3Rvcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBCcm93c2VyRGV0ZWN0b3I7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgSW50ZXJuYWxTdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbnRlcm5hbFN0YXRlKCkge1xuICAgICAgICB0aGlzLnN0YXJ0SGFuZGxlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5kZXZNb2RlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGFzU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YXJ0U3VjY2Vzc2Z1bCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnZhcmlhbnREZWJ1Z0luZm9FbmFibGVkID0gZmFsc2U7XG4gICAgfVxuICAgIEludGVybmFsU3RhdGUucHJvdG90eXBlLmFkZFN0YXJ0UmVzcG9uc2VIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5zdGFydEhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIGlmICh0aGlzLmhhc1N0YXJ0ZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZXIodGhpcy5zdGFydFN1Y2Nlc3NmdWwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJbnRlcm5hbFN0YXRlLnByb3RvdHlwZS5yZW1vdmVTdGFydFJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHZhciBpZHggPSB0aGlzLnN0YXJ0SGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0SGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEludGVybmFsU3RhdGUucHJvdG90eXBlLnRyaWdnZXJTdGFydEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhcnRIYW5kbGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5zdGFydEhhbmRsZXJzW2ldKHRoaXMuc3RhcnRTdWNjZXNzZnVsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEludGVybmFsU3RhdGU7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gSW50ZXJuYWxTdGF0ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vU3RvcmFnZU1hbmFnZXJcIikpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbnZhciB2YWx1ZXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIG9ialtrZXldOyB9KTtcbn07XG52YXIgTGVhbnBsdW1JbmJveCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bUluYm94KGNyZWF0ZVJlcXVlc3QsIG9uQWN0aW9uKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4gICAgICAgIHRoaXMub25BY3Rpb24gPSBvbkFjdGlvbjtcbiAgICAgICAgdGhpcy5tZXNzYWdlTWFwID0ge307XG4gICAgICAgIHRoaXMuY2hhbmdlSGFuZGxlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgfVxuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLmRvd25sb2FkTWVzc2FnZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCgnZ2V0TmV3c2ZlZWRNZXNzYWdlcycsIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5yZXNwb25zZVswXTtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UubmV3c2ZlZWRNZXNzYWdlcykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5tZXNzYWdlTWFwID0gcmVzcG9uc2UubmV3c2ZlZWRNZXNzYWdlcztcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudHJpZ2dlckNoYW5nZUhhbmRsZXJzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5tYXJrQXNSZWFkID0gZnVuY3Rpb24gKG1lc3NhZ2VJZCkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IHRoaXMubWVzc2FnZU1hcFttZXNzYWdlSWRdO1xuICAgICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1lc3NhZ2UuaXNSZWFkKSB7XG4gICAgICAgICAgICBtZXNzYWdlLmlzUmVhZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJDaGFuZ2VIYW5kbGVycygpO1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KCk7XG4gICAgICAgICAgICBhcmdzLmFkZCgnbmV3c2ZlZWRNZXNzYWdlSWQnLCBtZXNzYWdlSWQpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KCdtYXJrTmV3c2ZlZWRNZXNzYWdlQXNSZWFkJywgYXJncywge30pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKG1lc3NhZ2VJZCkge1xuICAgICAgICB0aGlzLm1hcmtBc1JlYWQobWVzc2FnZUlkKTtcbiAgICAgICAgdmFyIGluYm94TWVzc2FnZSA9IHRoaXMubWVzc2FnZShtZXNzYWdlSWQpO1xuICAgICAgICB2YXIgaWQgPSBtZXNzYWdlSWQuc3BsaXQoJyMjJylbMF07XG4gICAgICAgIHZhciBvcGVuQWN0aW9uID0gKGluYm94TWVzc2FnZSA9PT0gbnVsbCB8fCBpbmJveE1lc3NhZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluYm94TWVzc2FnZS5vcGVuQWN0aW9uKCkpIHx8IG51bGw7XG4gICAgICAgIHRoaXMub25BY3Rpb24oaWQsIG9wZW5BY3Rpb24pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKG1lc3NhZ2VJZCkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9IHRoaXMubWVzc2FnZU1hcFttZXNzYWdlSWRdO1xuICAgICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5tZXNzYWdlTWFwW21lc3NhZ2VJZF07XG4gICAgICAgIHRoaXMudHJpZ2dlckNoYW5nZUhhbmRsZXJzKCk7XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpO1xuICAgICAgICBhcmdzLmFkZCgnbmV3c2ZlZWRNZXNzYWdlSWQnLCBtZXNzYWdlSWQpO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoJ2RlbGV0ZU5ld3NmZWVkTWVzc2FnZScsIGFyZ3MsIHt9KTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLm9uQ2hhbmdlZCA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlSGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLnRyaWdnZXJDaGFuZ2VIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VIYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVyKSB7IHJldHVybiBoYW5kbGVyKCk7IH0pO1xuICAgICAgICB0aGlzLnNhdmUoKTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3gucHJvdG90eXBlLnNhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLklOQk9YX01FU1NBR0VTLCBKU09OLnN0cmluZ2lmeSh0aGlzLm1lc3NhZ2VNYXApLCAnc2Vzc2lvbicpO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5JTkJPWF9NRVNTQUdFUywgJ3Nlc3Npb24nKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZU1hcCA9IEpTT04ucGFyc2Uoc3RhdGUpIHx8IHt9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VNYXAgPSB7fTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUuY291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXModGhpcy5tZXNzYWdlTWFwKS5sZW5ndGg7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS51bnJlYWRDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcyh0aGlzLm1lc3NhZ2VNYXApLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4gIXguaXNSZWFkOyB9KS5sZW5ndGg7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5tZXNzYWdlcyA9IGZ1bmN0aW9uIChmaWx0ZXIpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLm1lc3NhZ2VNYXApIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5tZXNzYWdlTWFwW2lkXTtcbiAgICAgICAgICAgIGlmIChmaWx0ZXIoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChMZWFucGx1bUluYm94TWVzc2FnZS5jcmVhdGUoaWQsIGRhdGEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUuYWxsTWVzc2FnZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VzKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUudW5yZWFkTWVzc2FnZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VzKGZ1bmN0aW9uICh4KSB7IHJldHVybiAheC5pc1JlYWQ7IH0pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveC5wcm90b3R5cGUubWVzc2FnZUlkcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMubWVzc2FnZU1hcCk7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94LnByb3RvdHlwZS5tZXNzYWdlID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5tZXNzYWdlTWFwW2lkXTtcbiAgICAgICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTGVhbnBsdW1JbmJveE1lc3NhZ2UuY3JlYXRlKGlkLCBtZXNzYWdlKTtcbiAgICB9O1xuICAgIHJldHVybiBMZWFucGx1bUluYm94O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExlYW5wbHVtSW5ib3g7XG52YXIgTGVhbnBsdW1JbmJveE1lc3NhZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGVhbnBsdW1JbmJveE1lc3NhZ2UoX2lkLCBfdGl0bGUsIF9zdWJ0aXRsZSwgX2RhdGEsIF90aW1lc3RhbXAsIF9pc1JlYWQsIF9pbWFnZVVybCwgX29wZW5BY3Rpb24pIHtcbiAgICAgICAgdGhpcy5faWQgPSBfaWQ7XG4gICAgICAgIHRoaXMuX3RpdGxlID0gX3RpdGxlO1xuICAgICAgICB0aGlzLl9zdWJ0aXRsZSA9IF9zdWJ0aXRsZTtcbiAgICAgICAgdGhpcy5fZGF0YSA9IF9kYXRhO1xuICAgICAgICB0aGlzLl90aW1lc3RhbXAgPSBfdGltZXN0YW1wO1xuICAgICAgICB0aGlzLl9pc1JlYWQgPSBfaXNSZWFkO1xuICAgICAgICB0aGlzLl9pbWFnZVVybCA9IF9pbWFnZVVybDtcbiAgICAgICAgdGhpcy5fb3BlbkFjdGlvbiA9IF9vcGVuQWN0aW9uO1xuICAgIH1cbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5jcmVhdGUgPSBmdW5jdGlvbiAoaWQsIG1lc3NhZ2VJbmZvKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2w7XG4gICAgICAgIHZhciBwYXJlbnRDYW1wYWlnbklkID0gKF9hID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wYXJlbnRDYW1wYWlnbklkO1xuICAgICAgICB2YXIgYWN0aW9uID0gX19hc3NpZ24oX19hc3NpZ24oe30sIChfYyA9IChfYiA9IG1lc3NhZ2VJbmZvLm1lc3NhZ2VEYXRhKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudmFycykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jW0NvbnN0YW50c18xLmRlZmF1bHQuVkFMVUVTLkRFRkFVTFRfUFVTSF9BQ1RJT05dKSwgeyBwYXJlbnRDYW1wYWlnbklkOiBwYXJlbnRDYW1wYWlnbklkIH0pO1xuICAgICAgICByZXR1cm4gbmV3IExlYW5wbHVtSW5ib3hNZXNzYWdlKGlkLCAoX2UgPSAoX2QgPSBtZXNzYWdlSW5mby5tZXNzYWdlRGF0YSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnZhcnMpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5UaXRsZSwgKF9nID0gKF9mID0gbWVzc2FnZUluZm8ubWVzc2FnZURhdGEpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi52YXJzKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuU3VidGl0bGUsIChfaiA9IChfaCA9IG1lc3NhZ2VJbmZvLm1lc3NhZ2VEYXRhKSA9PT0gbnVsbCB8fCBfaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2gudmFycykgPT09IG51bGwgfHwgX2ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9qLkRhdGEsIG1lc3NhZ2VJbmZvLmRlbGl2ZXJ5VGltZXN0YW1wLCBtZXNzYWdlSW5mby5pc1JlYWQsIChfbCA9IChfayA9IG1lc3NhZ2VJbmZvLm1lc3NhZ2VEYXRhKSA9PT0gbnVsbCB8fCBfayA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2sudmFycykgPT09IG51bGwgfHwgX2wgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9sLkltYWdlLCBhY3Rpb24pO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLmlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUudGl0bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aXRsZTtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS5zdWJ0aXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnRpdGxlO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLmRhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgIH07XG4gICAgTGVhbnBsdW1JbmJveE1lc3NhZ2UucHJvdG90eXBlLnRpbWVzdGFtcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVzdGFtcDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS5pc1JlYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1JlYWQ7XG4gICAgfTtcbiAgICBMZWFucGx1bUluYm94TWVzc2FnZS5wcm90b3R5cGUuaW1hZ2VVcmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbWFnZVVybDtcbiAgICB9O1xuICAgIExlYW5wbHVtSW5ib3hNZXNzYWdlLnByb3RvdHlwZS5vcGVuQWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3BlbkFjdGlvbjtcbiAgICB9O1xuICAgIHJldHVybiBMZWFucGx1bUluYm94TWVzc2FnZTtcbn0oKSk7XG5leHBvcnRzLkxlYW5wbHVtSW5ib3hNZXNzYWdlID0gTGVhbnBsdW1JbmJveE1lc3NhZ2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEFyZ3NCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQXJnc0J1aWxkZXJcIikpO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgU3RvcmFnZU1hbmFnZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9TdG9yYWdlTWFuYWdlclwiKSk7XG52YXIgTmV0d29ya18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL05ldHdvcmtcIikpO1xudmFyIExlYW5wbHVtUmVxdWVzdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZWFucGx1bVJlcXVlc3QoZXZlbnRzLCBuZXR3b3JrKSB7XG4gICAgICAgIGlmIChuZXR3b3JrID09PSB2b2lkIDApIHsgbmV0d29yayA9IG5ldyBOZXR3b3JrXzEuZGVmYXVsdCgpOyB9XG4gICAgICAgIHRoaXMuZXZlbnRzID0gZXZlbnRzO1xuICAgICAgICB0aGlzLm5ldHdvcmsgPSBuZXR3b3JrO1xuICAgICAgICB0aGlzLmNvb2xkb3duVGltZW91dCA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdFJlcXVlc3RUaW1lID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnVzZXJJZFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmFwaVBhdGggPSAnaHR0cHM6Ly9hcGkubGVhbnBsdW0uY29tL2FwaSc7XG4gICAgICAgIHRoaXMuYmF0Y2hDb29sZG93biA9IDU7XG4gICAgICAgIHRoaXMuYmF0Y2hFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sb2FkSG9zdENvbmZpZygpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZSwgXCJ1c2VySWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy51c2VySWRWYWx1ZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVVNFUl9JRCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRoaXMuZGV2aWNlSWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHVzZXJJZCkge1xuICAgICAgICAgICAgdGhpcy51c2VySWRWYWx1ZSA9IHVzZXJJZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5yZXF1ZXN0ID0gZnVuY3Rpb24gKGFjdGlvbiwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBwYXJhbXMgPSBwYXJhbXMgfHwgbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpO1xuICAgICAgICAvLyBHZXQgb3IgY3JlYXRlIGRldmljZSBJRCBhbmQgdXNlciBJRC5cbiAgICAgICAgaWYgKCF0aGlzLmRldmljZUlkKSB7XG4gICAgICAgICAgICB0aGlzLmRldmljZUlkID0gdGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuREVWSUNFX0lEKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuZGV2aWNlSWQpIHtcbiAgICAgICAgICAgIHZhciBpZCA9ICcnO1xuICAgICAgICAgICAgdmFyIHBvc3NpYmxlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JztcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICAgICAgICAgIGlkICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGV2aWNlSWQgPSBpZDtcbiAgICAgICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkRFVklDRV9JRCwgaWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlVTRVJfSUQsIHRoaXMudXNlcklkKTtcbiAgICAgICAgdmFyIGFyZ3NCdWlsZGVyID0gcGFyYW1zXG4gICAgICAgICAgICAuYXR0YWNoQXBpS2V5cyh0aGlzLmFwcElkLCB0aGlzLmNsaWVudEtleSlcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuU0RLX1ZFUlNJT04sIENvbnN0YW50c18xLmRlZmF1bHQuU0RLX1ZFUlNJT04pXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkRFVklDRV9JRCwgdGhpcy5kZXZpY2VJZClcbiAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVVNFUl9JRCwgdGhpcy51c2VySWQpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkFDVElPTiwgYWN0aW9uKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5WRVJTSU9OX05BTUUsIHRoaXMudmVyc2lvbk5hbWUpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkRFVl9NT0RFLCBvcHRpb25zLmRldk1vZGUpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlRJTUUsIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApLnRvU3RyaW5nKCkpO1xuICAgICAgICB2YXIgc3VjY2VzcyA9IG9wdGlvbnMuc3VjY2VzcyB8fCBvcHRpb25zLnJlc3BvbnNlO1xuICAgICAgICB2YXIgZXJyb3IgPSBvcHRpb25zLmVycm9yIHx8IG9wdGlvbnMucmVzcG9uc2U7XG4gICAgICAgIGlmICghdGhpcy5hcHBJZCB8fCAhdGhpcy5jbGllbnRLZXkpIHtcbiAgICAgICAgICAgIHZhciBlcnIgPSAnTGVhbnBsdW0gQXBwIElEIGFuZCBjbGllbnQga2V5IGFyZSBub3Qgc2V0LiBNYWtlIHN1cmUgeW91ICcgK1xuICAgICAgICAgICAgICAgICdhcmUgY2FsbGluZyBzZXRBcHBJZEZvckRldmVsb3BtZW50TW9kZSBvciBzZXRBcHBJZEZvclByb2R1Y3Rpb25Nb2RlICcgK1xuICAgICAgICAgICAgICAgICdiZWZvcmUgaXNzdWluZyBBUEkgY2FsbHMuJztcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICBlcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJhbXMuYm9keSgpKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRSZXF1ZXN0KFwiP1wiICsgYXJnc0J1aWxkZXIuYnVpbGQoKSwgcGFyYW1zLmJvZHkoKSwgc3VjY2VzcywgZXJyb3IsIG9wdGlvbnMucXVldWVkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2VuZE5vdyA9IG9wdGlvbnMuZGV2TW9kZSB8fCBvcHRpb25zLnNlbmROb3cgfHwgIXRoaXMuYmF0Y2hFbmFibGVkO1xuICAgICAgICB2YXIgc2VuZFVuc2VudFJlcXVlc3RzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlcXVlc3RzVG9TZW5kID0gX3RoaXMucG9wVW5zZW50UmVxdWVzdHMoKTtcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0c1RvU2VuZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlcXVlc3REYXRhID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAnZGF0YSc6IHJlcXVlc3RzVG9TZW5kLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBtdWx0aVJlcXVlc3RBcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRhY2hBcGlLZXlzKF90aGlzLmFwcElkLCBfdGhpcy5jbGllbnRLZXkpXG4gICAgICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuU0RLX1ZFUlNJT04sIENvbnN0YW50c18xLmRlZmF1bHQuU0RLX1ZFUlNJT04pXG4gICAgICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQUNUSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuTVVMVEkpXG4gICAgICAgICAgICAgICAgICAgIC5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuVElNRSwgKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCkudG9TdHJpbmcoKS50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICAgICAuYnVpbGQoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZW5kUmVxdWVzdChcIj9cIiArIG11bHRpUmVxdWVzdEFyZ3MsIHJlcXVlc3REYXRhLCBzdWNjZXNzLCBlcnJvciwgb3B0aW9ucy5xdWV1ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBEZWFsIHdpdGggY29vbGRvd24uXG4gICAgICAgIGlmICghc2VuZE5vdyAmJiB0aGlzLmJhdGNoQ29vbGRvd24pIHtcbiAgICAgICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDA7XG4gICAgICAgICAgICBpZiAoIXRoaXMubGFzdFJlcXVlc3RUaW1lIHx8IG5vdyAtIHRoaXMubGFzdFJlcXVlc3RUaW1lID49IHRoaXMuYmF0Y2hDb29sZG93bikge1xuICAgICAgICAgICAgICAgIHNlbmROb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFJlcXVlc3RUaW1lID0gbm93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuY29vbGRvd25UaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb29sZG93blRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29vbGRvd25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubGFzdFJlcXVlc3RUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwO1xuICAgICAgICAgICAgICAgICAgICBzZW5kVW5zZW50UmVxdWVzdHMoKTtcbiAgICAgICAgICAgICAgICB9LCAodGhpcy5iYXRjaENvb2xkb3duIC0gKG5vdyAtIHRoaXMubGFzdFJlcXVlc3RUaW1lKSkgKiAxMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNhdmVSZXF1ZXN0Rm9yTGF0ZXIoYXJnc0J1aWxkZXIuYnVpbGREaWN0KCkpO1xuICAgICAgICBpZiAoc2VuZE5vdykge1xuICAgICAgICAgICAgc2VuZFVuc2VudFJlcXVlc3RzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuZ2V0RmlsZVVybCA9IGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICBpZiAoIWZpbGVuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKC9eaHR0cHM/Oi8udGVzdChmaWxlbmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWxlbmFtZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmF0dGFjaEFwaUtleXModGhpcy5hcHBJZCwgdGhpcy5jbGllbnRLZXkpXG4gICAgICAgICAgICAuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlNES19WRVJTSU9OLCBDb25zdGFudHNfMS5kZWZhdWx0LlNES19WRVJTSU9OKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5BQ1RJT04sICdkb3dubG9hZEZpbGUnKVxuICAgICAgICAgICAgLmFkZCgnZmlsZW5hbWUnLCBmaWxlbmFtZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmFwaVBhdGggKyBcIj9cIiArIGFyZ3MuYnVpbGQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyBUaGUgdGltZW91dCBpbiBzZWNvbmRzLlxuICAgICAqL1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICB0aGlzLm5ldHdvcmsuc2V0TmV0d29ya1RpbWVvdXQoc2Vjb25kcyk7XG4gICAgfTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuZ2V0TGFzdFJlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICB2YXIgY291bnQgPSAoX2IgPSAoX2EgPSByZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uc2UucmVzcG9uc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDA7XG4gICAgICAgIHJldHVybiAoY291bnQgPiAwKSA/IChfYyA9IHJlc3BvbnNlID09PSBudWxsIHx8IHJlc3BvbnNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNwb25zZS5yZXNwb25zZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jW2NvdW50IC0gMV0gOiBudWxsO1xuICAgIH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLmdldEZpcnN0UmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHZhciBjb3VudCA9IChfYiA9IChfYSA9IHJlc3BvbnNlID09PSBudWxsIHx8IHJlc3BvbnNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNwb25zZS5yZXNwb25zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMDtcbiAgICAgICAgcmV0dXJuIChjb3VudCA+IDApID8gKF9jID0gcmVzcG9uc2UgPT09IG51bGwgfHwgcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbnNlLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbMF0gOiBudWxsO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5pc1Jlc3BvbnNlU3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbihyZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uc2Uuc3VjY2Vzcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLnNhdmVSZXF1ZXN0Rm9yTGF0ZXIgPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICB2YXIgY291bnQgPSB0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5DT1VOVCkgfHwgMDtcbiAgICAgICAgdmFyIGl0ZW1LZXkgPSBDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5JVEVNICsgY291bnQ7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKGl0ZW1LZXksIEpTT04uc3RyaW5naWZ5KGFyZ3MpKTtcbiAgICAgICAgY291bnQrKztcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuQ09VTlQsIGNvdW50KTtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUuc2VuZFJlcXVlc3QgPSBmdW5jdGlvbiAocXVlcnksIGRhdGEsIHN1Y2Nlc3MsIGVycm9yLCBxdWV1ZWQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5uZXR3b3JrLmFqYXgoJ1BPU1QnLCBcIlwiICsgdGhpcy5hcGlQYXRoICsgcXVlcnksIGRhdGEsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIG1ldGhvZFJlc3BvbnNlID0gX3RoaXMuZ2V0Rmlyc3RSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICBpZiAoIW1ldGhvZFJlc3BvbnNlLnN1Y2Nlc3MgJiYgbWV0aG9kUmVzcG9uc2UuYXBpSG9zdCkge1xuICAgICAgICAgICAgICAgIHZhciBhcGlIb3N0ID0gbWV0aG9kUmVzcG9uc2UuYXBpSG9zdCwgYXBpUGF0aCA9IG1ldGhvZFJlc3BvbnNlLmFwaVBhdGgsIGRldlNlcnZlckhvc3QgPSBtZXRob2RSZXNwb25zZS5kZXZTZXJ2ZXJIb3N0O1xuICAgICAgICAgICAgICAgIF90aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5IT1NUX0NPTkZJRywgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBhcGlIb3N0OiBhcGlIb3N0LFxuICAgICAgICAgICAgICAgICAgICBhcGlQYXRoOiBhcGlQYXRoLFxuICAgICAgICAgICAgICAgICAgICBkZXZTZXJ2ZXJIb3N0OiBkZXZTZXJ2ZXJIb3N0LFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5hcGlQYXRoID0gXCJodHRwczovL1wiICsgYXBpSG9zdCArIFwiL1wiICsgYXBpUGF0aDtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZW5kUmVxdWVzdChxdWVyeSwgZGF0YSwgc3VjY2VzcywgZXJyb3IsIHF1ZXVlZCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRzLmVtaXQoJ3VwZGF0ZURldlNlcnZlckhvc3QnLCBkZXZTZXJ2ZXJIb3N0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZXJyb3IsIHF1ZXVlZCk7XG4gICAgfTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUucG9wVW5zZW50UmVxdWVzdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXF1ZXN0RGF0YSA9IFtdO1xuICAgICAgICB2YXIgY291bnQgPSB0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5DT1VOVCkgfHwgMDtcbiAgICAgICAgdGhpcy5yZW1vdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5DT1VOVCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIGl0ZW1LZXkgPSBDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5JVEVNICsgaTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdERhdGEucHVzaChKU09OLnBhcnNlKHRoaXMubG9hZExvY2FsKGl0ZW1LZXkpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoaWdub3JlZCkge1xuICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmcuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUxvY2FsKGl0ZW1LZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXF1ZXN0RGF0YTtcbiAgICB9O1xuICAgIExlYW5wbHVtUmVxdWVzdC5wcm90b3R5cGUubG9hZEhvc3RDb25maWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBob3N0Q29uZmlnID0gSlNPTi5wYXJzZSh0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5IT1NUX0NPTkZJRykgfHwgJ251bGwnKTtcbiAgICAgICAgaWYgKGhvc3RDb25maWcpIHtcbiAgICAgICAgICAgIHZhciBhcGlIb3N0ID0gaG9zdENvbmZpZy5hcGlIb3N0LCBhcGlQYXRoID0gaG9zdENvbmZpZy5hcGlQYXRoLCBkZXZTZXJ2ZXJIb3N0ID0gaG9zdENvbmZpZy5kZXZTZXJ2ZXJIb3N0O1xuICAgICAgICAgICAgdGhpcy5hcGlQYXRoID0gXCJodHRwczovL1wiICsgYXBpSG9zdCArIFwiL1wiICsgYXBpUGF0aDtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoJ3VwZGF0ZURldlNlcnZlckhvc3QnLCBkZXZTZXJ2ZXJIb3N0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5sb2FkTG9jYWwgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuZ2V0KGtleSk7XG4gICAgfTtcbiAgICBMZWFucGx1bVJlcXVlc3QucHJvdG90eXBlLnNhdmVMb2NhbCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlKGtleSwgdmFsdWUpO1xuICAgIH07XG4gICAgTGVhbnBsdW1SZXF1ZXN0LnByb3RvdHlwZS5yZW1vdmVMb2NhbCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnJlbW92ZShrZXkpO1xuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtUmVxdWVzdDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBMZWFucGx1bVJlcXVlc3Q7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGxvZGFzaF9pc2VxdWFsXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImxvZGFzaC5pc2VxdWFsXCIpKTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIFNvY2tldElvQ2xpZW50XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vU29ja2V0SW9DbGllbnRcIikpO1xudmFyIExlYW5wbHVtU29ja2V0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExlYW5wbHVtU29ja2V0KGNhY2hlLCBjcmVhdGVSZXF1ZXN0LCBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGdldExhc3RSZXNwb25zZSwgZXZlbnRzKSB7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBjYWNoZTtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdDtcbiAgICAgICAgdGhpcy5nZXRMYXN0UmVzcG9uc2UgPSBnZXRMYXN0UmVzcG9uc2U7XG4gICAgICAgIHRoaXMuZXZlbnRzID0gZXZlbnRzO1xuICAgICAgICB0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyA9IDEwO1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuc29ja2V0SG9zdCA9ICdkZXYubGVhbnBsdW0uY29tJztcbiAgICAgICAgdGhpcy5hdXRoID0gbnVsbDtcbiAgICB9XG4gICAgTGVhbnBsdW1Tb2NrZXQucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAoYXV0aCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIVdlYlNvY2tldCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1lvdXIgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCBXZWJTb2NrZXRzLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXV0aCA9IGF1dGg7XG4gICAgICAgIHZhciBhdXRoU2VudCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudCA9IG5ldyBTb2NrZXRJb0NsaWVudF8xLmRlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zb2NrZXRDbGllbnQuc2V0TmV0d29ya1RpbWVvdXQodGhpcy5uZXR3b3JrVGltZW91dFNlY29uZHMpO1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5vbm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoIWF1dGhTZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xlYW5wbHVtOiBDb25uZWN0ZWQgdG8gZGV2ZWxvcG1lbnQgc2VydmVyLicpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNvY2tldENsaWVudC5zZW5kKCdhdXRoJywgKF9hID0ge30sXG4gICAgICAgICAgICAgICAgICAgIF9hW0NvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkFQUF9JRF0gPSBhdXRoLmFwcElkLFxuICAgICAgICAgICAgICAgICAgICBfYVtDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5ERVZJQ0VfSURdID0gYXV0aC5kZXZpY2VJZCxcbiAgICAgICAgICAgICAgICAgICAgX2EpKTtcbiAgICAgICAgICAgICAgICBhdXRoU2VudCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogU29ja2V0IGVycm9yJywgZXZlbnQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNvY2tldENsaWVudC5vbm1lc3NhZ2UgPSB0aGlzLm9uTWVzc2FnZVJlY2VpdmVkLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50Lm9uY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IERpc2Nvbm5lY3RlZCBmcm9tIGRldmVsb3BtZW50IHNlcnZlci4nKTtcbiAgICAgICAgICAgIGF1dGhTZW50ID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc29ja2V0Q2xpZW50LmNvbm5lY3QodGhpcy5zb2NrZXRIb3N0KTtcbiAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5zb2NrZXRDbGllbnQuY29ubmVjdGVkICYmICFfdGhpcy5zb2NrZXRDbGllbnQuY29ubmVjdGluZykge1xuICAgICAgICAgICAgICAgIF90aGlzLnNvY2tldENsaWVudC5jb25uZWN0KF90aGlzLnNvY2tldEhvc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCA1MDAwKTtcbiAgICB9O1xuICAgIExlYW5wbHVtU29ja2V0LnByb3RvdHlwZS5zZXRTb2NrZXRIb3N0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuc29ja2V0SG9zdCA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5zb2NrZXRDbGllbnQuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNvY2tldENsaWVudC5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3QodGhpcy5hdXRoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmV0d29yayB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSBzZWNvbmRzIFRoZSB0aW1lb3V0IGluIHNlY29uZHMuXG4gICAgICovXG4gICAgTGVhbnBsdW1Tb2NrZXQucHJvdG90eXBlLnNldE5ldHdvcmtUaW1lb3V0ID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLm5ldHdvcmtUaW1lb3V0U2Vjb25kcyA9IHNlY29uZHM7XG4gICAgICAgIChfYSA9IHRoaXMuc29ja2V0Q2xpZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0TmV0d29ya1RpbWVvdXQoc2Vjb25kcyk7XG4gICAgfTtcbiAgICBMZWFucGx1bVNvY2tldC5wcm90b3R5cGUub25NZXNzYWdlUmVjZWl2ZWQgPSBmdW5jdGlvbiAoZXZlbnQsIGFyZ3MpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGV2ZW50ID09PSAndXBkYXRlVmFycycpIHtcbiAgICAgICAgICAgIHZhciBhcmdzXzEgPSBuZXcgQXJnc0J1aWxkZXJfMS5kZWZhdWx0KCkuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklOQ0xVREVfREVGQVVMVFMsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdChDb25zdGFudHNfMS5kZWZhdWx0Lk1FVEhPRFMuR0VUX1ZBUlMsIGFyZ3NfMSwge1xuICAgICAgICAgICAgICAgIHF1ZXVlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICByZXNwb25zZTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBnZXRWYXJzUmVzcG9uc2UgPSBfdGhpcy5nZXRMYXN0UmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJTXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhcmlhbnRzID0gZ2V0VmFyc1Jlc3BvbnNlW0NvbnN0YW50c18xLmRlZmF1bHQuS0VZUy5WQVJJQU5UU107XG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3Rpb25EZWZpbml0aW9ucyA9IGdldFZhcnNSZXNwb25zZVtDb25zdGFudHNfMS5kZWZhdWx0LktFWVMuQUNUSU9OX0RFRklOSVRJT05TXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsb2Rhc2hfaXNlcXVhbF8xLmRlZmF1bHQodmFsdWVzLCBfdGhpcy5jYWNoZS5kaWZmcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNhY2hlLmFwcGx5RGlmZnModmFsdWVzLCB2YXJpYW50cywgYWN0aW9uRGVmaW5pdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAnZ2V0VmFyaWFibGVzJykge1xuICAgICAgICAgICAgdGhpcy5jYWNoZS5zZW5kVmFyaWFibGVzKCk7XG4gICAgICAgICAgICB0aGlzLnNvY2tldENsaWVudC5zZW5kKCdnZXRDb250ZW50UmVzcG9uc2UnLCB7XG4gICAgICAgICAgICAgICAgJ3VwZGF0ZWQnOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnQgPT09ICdnZXRBY3Rpb25zJykge1xuICAgICAgICAgICAgdmFyIHVwZGF0ZWQgPSB0aGlzLmNhY2hlLnNlbmRBY3Rpb25zKCk7XG4gICAgICAgICAgICB0aGlzLnNvY2tldENsaWVudC5zZW5kKCdnZXRDb250ZW50UmVzcG9uc2UnLCB7XG4gICAgICAgICAgICAgICAgdXBkYXRlZDogdXBkYXRlZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAncmVnaXN0ZXJEZXZpY2UnKSB7XG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYWxlcnRcbiAgICAgICAgICAgIGFsZXJ0KFwiWW91ciBkZXZpY2UgaGFzIGJlZW4gcmVnaXN0ZXJlZCB0byBcIiArIG1lc3NhZ2UuZW1haWwgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnQgPT09ICd0cmlnZ2VyJykge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBhcmdzWzBdO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgncHJldmlld1JlcXVlc3QnLCBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIExlYW5wbHVtU29ja2V0O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExlYW5wbHVtU29ja2V0O1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE5ldHdvcmtfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9OZXR3b3JrXCIpKTtcbi8qKlxuICogU29ja2V0LmlvIDEuMCBjbGllbnQgY2xhc3MuXG4gKi9cbnZhciBTb2NrZXRJb0NsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhIG5ldyBTb2NrZXRJb0NsaWVudCwgbm90IGNvbm5lY3RlZCBieSBkZWZhdWx0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNvY2tldElvQ2xpZW50KCkge1xuICAgICAgICB0aGlzLm5ldHdvcmsgPSBuZXcgTmV0d29ya18xLmRlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29ubmVjdGluZyA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25uZWN0cyB0byB0aGUgZ2l2ZW4gc29ja2V0SG9zdC5cbiAgICAgKiBAcGFyYW0gc29ja2V0SG9zdCBUaGUgaG9zdCB0byBjb25uZWN0IHRvLlxuICAgICAqL1xuICAgIFNvY2tldElvQ2xpZW50LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKHNvY2tldEhvc3QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5jb25uZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5uZXR3b3JrLmFqYXgoJ1BPU1QnLCBcImh0dHBzOi8vXCIgKyBzb2NrZXRIb3N0ICsgXCIvc29ja2V0LmlvLzFcIiwgJycsIGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgICAgICB2YXIgcGFydHMgPSBsaW5lLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICB2YXIgc2Vzc2lvbiA9IHBhcnRzWzBdO1xuICAgICAgICAgICAgdmFyIGhlYXJ0YmVhdCA9IHBhcnNlSW50KHBhcnRzWzFdKSAvIDIgKiAxMDAwO1xuICAgICAgICAgICAgX3RoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldChcIndzczovL1wiICsgc29ja2V0SG9zdCArIFwiL3NvY2tldC5pby8xL3dlYnNvY2tldC9cIiArIHNlc3Npb24pO1xuICAgICAgICAgICAgdmFyIGhlYXJ0YmVhdEludGVydmFsID0gbnVsbDtcbiAgICAgICAgICAgIF90aGlzLnNvY2tldC5vbm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLm9ub3Blbikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbm9wZW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGVhcnRiZWF0SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNvY2tldC5zZW5kKCcyOjo6Jyk7XG4gICAgICAgICAgICAgICAgfSwgaGVhcnRiZWF0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5zb2NrZXQub25jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGhlYXJ0YmVhdEludGVydmFsKTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMub25jbG9zZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLnNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZVBhcnRzID0gZXZlbnQuZGF0YS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgICAgIHZhciBjb2RlID0gcGFyc2VJbnQobWVzc2FnZVBhcnRzWzBdKTtcbiAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXQuc2VuZCgnMjo6Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvZGUgPT09IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VJZCA9IG1lc3NhZ2VQYXJ0c1sxXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKG1lc3NhZ2VQYXJ0cy5zbGljZSgzKS5qb2luKCc6JykpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZUV2ZW50ID0gZGF0YS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGRhdGEuYXJncztcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc29ja2V0LnNlbmQoXCI2Ojo6XCIgKyBtZXNzYWdlSWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vbm1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm9ubWVzc2FnZShtZXNzYWdlRXZlbnQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvZGUgPT09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTb2NrZXQgZXJyb3I6IFwiICsgZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLnNvY2tldC5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc29ja2V0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLm9uZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub25lcnJvcihldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSwgbnVsbCwgZmFsc2UsIHRydWUgLy8gbnVsbCwgcXVldWVkLCBwbGFpblRleHRcbiAgICAgICAgKTtcbiAgICB9O1xuICAgIFNvY2tldElvQ2xpZW50LnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNvY2tldC5jbG9zZSgpO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbmRzIGdpdmVuIGV2ZW50IHdpdGggYXJndW1lbnRzIHRvIHRoZSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgZXZlbnQuXG4gICAgICogQHBhcmFtIGFyZ3MgQXJndW1lbnRzIHRvIHNlbmQuXG4gICAgICovXG4gICAgU29ja2V0SW9DbGllbnQucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAobmFtZSwgYXJncykge1xuICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IFNvY2tldCBpcyBub3QgY29ubmVjdGVkLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmdzSnNvbiA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBhcmdzOiBhcmdzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zb2NrZXQuc2VuZChcIjU6OjpcIiArIGFyZ3NKc29uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldHdvcmsgdGltZW91dC5cbiAgICAgKiBAcGFyYW0gVGhlIHRpbWVvdXQgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICBTb2NrZXRJb0NsaWVudC5wcm90b3R5cGUuc2V0TmV0d29ya1RpbWVvdXQgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xuICAgICAgICB0aGlzLm5ldHdvcmsuc2V0TmV0d29ya1RpbWVvdXQoc2Vjb25kcyk7XG4gICAgfTtcbiAgICByZXR1cm4gU29ja2V0SW9DbGllbnQ7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gU29ja2V0SW9DbGllbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiAgQ29weXJpZ2h0IDIwMjAgTGVhbnBsdW0gSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQ6XG4gKlxuICogICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vU3RvcmFnZU1hbmFnZXJcIikpO1xudmFyIEFQUExJQ0FUSU9OX1NFUlZFUl9QVUJMSUNfS0VZID0gJ0JJbldQcFdudGZSMzlyZ1hTUDA0cHFkbUVkREdhNTB6NnpxYk12eHl4SkN3elhJdVNwU2g4Qzg4OC1DZko4MldFTGw3WGU4Y2pBbmZDdC0zdkswQ2k2OCc7XG4vKipcbiAqIFB1c2ggTWFuYWdlciBoYW5kbGVzIHRoZSByZWdpc3RyYXRpb24gYW5kIHN1YnNjcmlwdGlvbiBmb3Igd2ViIHB1c2guXG4gKi9cbnZhciBQdXNoTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQdXNoTWFuYWdlcihjcmVhdGVSZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4gICAgICAgIHRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9IG51bGw7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQdXNoTWFuYWdlci5wcm90b3R5cGUsIFwic2VydmljZVdvcmtlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3Iuc2VydmljZVdvcmtlcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3Qgd2ViIHB1c2ggaXMgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgc3VwcG9ydGVkLCBlbHNlIGZhbHNlLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5pc1dlYlB1c2hTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKCh3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3cubmF2aWdhdG9yKSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAnc2VydmljZVdvcmtlcicgaW4gd2luZG93Lm5hdmlnYXRvciAmJlxuICAgICAgICAgICAgJ1B1c2hNYW5hZ2VyJyBpbiB3aW5kb3cpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdGhlIGJyb3dzZXIgaXMgc3Vic2NyaWJlZCB0byB3ZWIgcHVzaCBub3RpZmljYXRpb25zLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IFRydWUgaWYgc3Vic2NyaWJlZCwgZWxzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuaXNXZWJQdXNoU3Vic2NyaWJlZCA9IGZ1bmN0aW9uIChjbGllbnRVcmwpIHtcbiAgICAgICAgaWYgKGNsaWVudFVybCA9PT0gdm9pZCAwKSB7IGNsaWVudFVybCA9ICcnOyB9XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZWdpc3RyYXRpb24sIHN1YnNjcmlwdGlvbiwgaXNTdWJzY3JpYmVkO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzV2ViUHVzaFN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGZhbHNlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZ2V0U2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbihjbGllbnRVcmwpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0cmF0aW9uID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWdpc3RyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZmFsc2VdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNTdWJzY3JpYmVkID0gc3Vic2NyaXB0aW9uICE9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTmV3U3Vic2NyaXB0aW9uT25TZXJ2ZXIoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBpc1N1YnNjcmliZWRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGZvciBXZWJQdXNoLlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBzZXJ2aWNlV29ya2VyVXJsIFRoZSB1cmwgdGhhdCBzZXJ2ZXMgdGhlIHNlcnZpY2Ugd29ya2VyIG9uIHlvdXIgZG9tYWluLlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgICAgIFRoZSBjYWxsYmFjayB0byBiZSBjYWxsZWQgd2l0aCByZXN1bHQuXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gVHJ1ZSBpZiBzdWJzY3JpYmVkLCBlbHNlIGZhbHNlLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChzZXJ2aWNlV29ya2VyVXJsLCBzY29wZSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hLCBzdWJzY3JpcHRpb24sIGlzU3Vic2NyaWJlZCwgZXJyb3JfMTtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1dlYlB1c2hTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMZWFucGx1bTogUHVzaCBtZXNzYWdpbmcgaXMgbm90IHN1cHBvcnRlZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgY2FsbGJhY2soZmFsc2UpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFsxLCA0LCAsIDVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc2VydmljZVdvcmtlci5yZWdpc3RlcihzZXJ2aWNlV29ya2VyVXJsIHx8ICcvc3cubWluLmpzJywgc2NvcGUpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5nZXRTdWJzY3JpcHRpb24oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU3Vic2NyaWJlZCA9IHN1YnNjcmlwdGlvbiAhPT0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgY2FsbGJhY2soaXNTdWJzY3JpYmVkKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzEgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTGVhbnBsdW06IFNlcnZpY2UgV29ya2VyIEVycm9yOiAnLCBlcnJvcl8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBjYWxsYmFjayhmYWxzZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmUgdGhlIHVzZXIgKGJyb3dzZXIpIHRvIHB1c2guXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gUmVzb2x2ZXMgaWYgc3Vic2NyaXB0aW9uIHN1Y2Nlc3NmdWwsIG90aGVyd2lzZSByZWplY3RzLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5zdWJzY3JpYmVVc2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXBwbGljYXRpb25TZXJ2ZXJLZXksIHN1YnNjcmlwdGlvbiwgZXJyb3JfMjtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uU2VydmVyS2V5ID0gdGhpcy51cmxCNjRUb1VpbnQ4QXJyYXkoQVBQTElDQVRJT05fU0VSVkVSX1BVQkxJQ19LRVkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzEsIDMsICwgNF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJWaXNpYmxlT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25TZXJ2ZXJLZXk6IGFwcGxpY2F0aW9uU2VydmVyS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTmV3U3Vic2NyaXB0aW9uT25TZXJ2ZXIoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl8yID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGVhbnBsdW06IEZhaWxlZCB0byBzdWJzY3JpYmUgdGhlIHVzZXI6IFwiICsgZXJyb3JfMik7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRydWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVuc3Vic2NyaWJlIHRoZSB1c2VyKGJyb3dzZXIpIGZyb20gcHVzaC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBSZXNvbHZlcyBpZiB1bnN1YnNjcmliZWQsIG90aGVyd2lzZSByZWplY3RzLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS51bnN1YnNjcmliZVVzZXIgPSBmdW5jdGlvbiAoY2xpZW50VXJsKSB7XG4gICAgICAgIGlmIChjbGllbnRVcmwgPT09IHZvaWQgMCkgeyBjbGllbnRVcmwgPSAnJzsgfVxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaWJlZCwgc3Vic2NyaXB0aW9uLCBlcnJvcl8zO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmlzV2ViUHVzaFN1YnNjcmliZWQoY2xpZW50VXJsKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZWQgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmliZWQpIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzIsIDUsICwgNl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNl07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzMgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMZWFucGx1bTogRXJyb3IgdW5zdWJzY3JpYmluZzogXCIgKyBlcnJvcl8zKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBzZXJ2aWNlIHdvcmtlciByZWdpc3RyYXRpb24gb2JqZWN0IGZyb20gYnJvd3Nlci5cbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFJldHVybnMgdGhlIHJlZ2lzdHJhdGlvbiBvciBudWxsLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5nZXRTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uID0gZnVuY3Rpb24gKGNsaWVudFVybCkge1xuICAgICAgICBpZiAoY2xpZW50VXJsID09PSB2b2lkIDApIHsgY2xpZW50VXJsID0gJyc7IH1cbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhdGhpcy5zZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuc2VydmljZVdvcmtlci5nZXRSZWdpc3RyYXRpb24oY2xpZW50VXJsKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24gPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuc2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5jb2RlcyBhIGJhc2U2NCBVUkwgc3RyaW5nIHRvIGFuIFVpbnQ4IGFycmF5LlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS51cmxCNjRUb1VpbnQ4QXJyYXkgPSBmdW5jdGlvbiAoYmFzZTY0U3RyaW5nKSB7XG4gICAgICAgIHZhciBwYWRkaW5nID0gJz0nLnJlcGVhdCgoNCAtIGJhc2U2NFN0cmluZy5sZW5ndGggJSA0KSAlIDQpO1xuICAgICAgICB2YXIgYmFzZTY0ID0gKGJhc2U2NFN0cmluZyArIHBhZGRpbmcpLnJlcGxhY2UoLy0vZywgJysnKS5yZXBsYWNlKC9fL2csICcvJyk7XG4gICAgICAgIHZhciByYXdEYXRhID0gdGhpcy5kZWNvZGVEYXRhKGJhc2U2NCk7XG4gICAgICAgIHZhciBvdXRwdXRBcnJheSA9IG5ldyBVaW50OEFycmF5KHJhd0RhdGEubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdEYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBvdXRwdXRBcnJheVtpXSA9IHJhd0RhdGEuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0QXJyYXk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZW5kIGEgbmV3IHN1YnNjcmlwdGlvbiBvYmplY3QgdG8gdGhlIExlYW5wbHVtIHNlcnZlci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3Vic2NyaXB0aW9uIFRoZSBzdWJzY3JpcHRpb24uXG4gICAgICovXG4gICAgUHVzaE1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZU5ld1N1YnNjcmlwdGlvbk9uU2VydmVyID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB2YXIgcHJlcGFyZWRTdWJzY3JpcHRpb24gPSB0aGlzLnByZXBhcmVTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHZhciBwcmVwYXJlZFN1YnNjcmlwdGlvblN0cmluZyA9IEpTT04uc3RyaW5naWZ5KHByZXBhcmVkU3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHZhciBleGlzdGluZ1N1YnNjcmlwdGlvblN0cmluZyA9IFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXQoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuUFVTSF9TVUJTQ1JJUFRJT04pO1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nU3Vic2NyaXB0aW9uU3RyaW5nICE9PSBwcmVwYXJlZFN1YnNjcmlwdGlvblN0cmluZykge1xuICAgICAgICAgICAgICAgIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlBVU0hfU1VCU0NSSVBUSU9OLCBwcmVwYXJlZFN1YnNjcmlwdGlvblN0cmluZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdWJzY3JpcHRpb24ocHJlcGFyZWRTdWJzY3JpcHRpb25TdHJpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUucHJlcGFyZVN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgdmFyIGtleSA9ICgnZ2V0S2V5JyBpbiBzdWJzY3JpcHRpb24pID8gc3Vic2NyaXB0aW9uLmdldEtleSgncDI1NmRoJykgOiBbXTtcbiAgICAgICAgdmFyIGF1dGggPSAoJ2dldEtleScgaW4gc3Vic2NyaXB0aW9uKSA/IHN1YnNjcmlwdGlvbi5nZXRLZXkoJ2F1dGgnKSA6IFtdO1xuICAgICAgICB2YXIga2V5QXNjaWkgPSB0aGlzLmVuY29kZURhdGEoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheShrZXkpKSk7XG4gICAgICAgIHZhciBhdXRoQXNjaWkgPSB0aGlzLmVuY29kZURhdGEoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheShhdXRoKSkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW5kcG9pbnQ6IHN1YnNjcmlwdGlvbi5lbmRwb2ludCxcbiAgICAgICAgICAgIGtleToga2V5QXNjaWksXG4gICAgICAgICAgICBhdXRoOiBhdXRoQXNjaWksXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZW5kIHRoZSBzdWJzY3JpcHRpb24gdG8gdGhlIExlYW5wbHVtIHNlcnZlci5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3Vic2NyaXB0aW9uIFRoZSBzdWJzY3JpcHRpb24gc3RyaW5nLlxuICAgICAqL1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5zZXRTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5XRUJfUFVTSF9TVUJTQ1JJUFRJT04sIHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlNFVF9ERVZJQ0VfQVRUUklCVVRFUywgYXJncywge1xuICAgICAgICAgICAgICAgIHF1ZXVlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQdXNoTWFuYWdlci5wcm90b3R5cGUuZW5jb2RlRGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuYnRvYShkYXRhKTtcbiAgICB9O1xuICAgIFB1c2hNYW5hZ2VyLnByb3RvdHlwZS5kZWNvZGVEYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5hdG9iKGRhdGEpO1xuICAgIH07XG4gICAgcmV0dXJuIFB1c2hNYW5hZ2VyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFB1c2hNYW5hZ2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnN0YW50c18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0NvbnN0YW50c1wiKSk7XG52YXIgQXJnc0J1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9BcmdzQnVpbGRlclwiKSk7XG52YXIgTmV0d29ya18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL05ldHdvcmtcIikpO1xudmFyIGxvZGFzaF9pc2VxdWFsXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImxvZGFzaC5pc2VxdWFsXCIpKTtcbnZhciBTdG9yYWdlTWFuYWdlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1N0b3JhZ2VNYW5hZ2VyXCIpKTtcbnZhciBWYWx1ZVRyYW5zZm9ybXNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9WYWx1ZVRyYW5zZm9ybXNcIikpO1xudmFyIE9jY3VycmVuY2VUcmFja2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9jY3VycmVuY2VUcmFja2VyKCkge1xuICAgICAgICB0aGlzLnNlc3Npb24gPSB7fTtcbiAgICAgICAgdGhpcy50cmlnZ2VycyA9IHt9O1xuICAgICAgICB0aGlzLm9jY3VycmVuY2VzID0ge307XG4gICAgfVxuICAgIE9jY3VycmVuY2VUcmFja2VyLnByb3RvdHlwZS5yZWNvcmRPY2N1cnJlbmNlID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciBzZXNzaW9uT2NjdXJyZW5jZXMgPSAodGhpcy5zZXNzaW9uW2lkXSB8fCAwKSArIDE7XG4gICAgICAgIHRoaXMuc2Vzc2lvbltpZF0gPSBzZXNzaW9uT2NjdXJyZW5jZXM7XG4gICAgICAgIHZhciBvY2N1cnJlbmNlcyA9ICh0aGlzLm9jY3VycmVuY2VzW2lkXSB8fCBbXSk7XG4gICAgICAgIG9jY3VycmVuY2VzLnB1c2goRGF0ZS5ub3coKSk7XG4gICAgICAgIHRoaXMub2NjdXJyZW5jZXNbaWRdID0gb2NjdXJyZW5jZXM7XG4gICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVRyYWNrZXIucHJvdG90eXBlLnJlY29yZFRyaWdnZXJPY2N1cnJlbmNlID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciB0cmlnZ2VyT2NjdXJyZW5jZXMgPSB0aGlzLnRyaWdnZXJzW2lkXSB8fCBbXTtcbiAgICAgICAgdHJpZ2dlck9jY3VycmVuY2VzLnB1c2goRGF0ZS5ub3coKSk7XG4gICAgICAgIHRoaXMudHJpZ2dlcnNbaWRdID0gdHJpZ2dlck9jY3VycmVuY2VzO1xuICAgICAgICB0aGlzLnNhdmUoKTtcbiAgICAgICAgcmV0dXJuIHRyaWdnZXJPY2N1cnJlbmNlcy5sZW5ndGg7XG4gICAgfTtcbiAgICBPY2N1cnJlbmNlVHJhY2tlci5wcm90b3R5cGUuZ2V0U2Vzc2lvbk9jY3VycmFuY2VDb3VudCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uW2lkXSB8fCAwO1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVRyYWNrZXIucHJvdG90eXBlLmdldE9jY3VycmVuY2VzID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9jY3VycmVuY2VzW2lkXSB8fCBbXTtcbiAgICB9O1xuICAgIE9jY3VycmVuY2VUcmFja2VyLnByb3RvdHlwZS5jbGVhclNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHt9O1xuICAgIH07XG4gICAgT2NjdXJyZW5jZVRyYWNrZXIucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjYWNoZSA9IFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXQoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuTUVTU0FHRV9PQ0NVUlJFTkNFUyk7XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgdmFyIGpzb24gPSBtYXliZUpTT04oY2FjaGUpO1xuICAgICAgICAgICAgaWYgKGpzb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb24gPSBqc29uLnNlc3Npb247XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VycyA9IGpzb24udHJpZ2dlcnM7XG4gICAgICAgICAgICAgICAgdGhpcy5vY2N1cnJlbmNlcyA9IGpzb24ub2NjdXJyZW5jZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9jY3VycmVuY2VUcmFja2VyLnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIga2V5ID0gQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuTUVTU0FHRV9PQ0NVUlJFTkNFUztcbiAgICAgICAgU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LnNhdmUoa2V5LCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBzZXNzaW9uOiB0aGlzLnNlc3Npb24sXG4gICAgICAgICAgICB0cmlnZ2VyczogdGhpcy50cmlnZ2VycyxcbiAgICAgICAgICAgIG9jY3VycmVuY2VzOiB0aGlzLm9jY3VycmVuY2VzLFxuICAgICAgICB9KSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2NjdXJyZW5jZVRyYWNrZXI7XG59KCkpO1xudmFyIHZlcmJUb0ludGVydmFsID0gZnVuY3Rpb24gKHZlcmIpIHtcbiAgICB2YXIgU0VDT05EID0gMTAwMDtcbiAgICB2YXIgTUlOVVRFID0gNjAgKiBTRUNPTkQ7XG4gICAgdmFyIEhPVVIgPSA2MCAqIE1JTlVURTtcbiAgICB2YXIgREFZID0gMjQgKiBIT1VSO1xuICAgIHN3aXRjaCAodmVyYikge1xuICAgICAgICBjYXNlICdsaW1pdFNlY29uZCc6IHJldHVybiBTRUNPTkQ7XG4gICAgICAgIGNhc2UgJ2xpbWl0TWludXRlJzogcmV0dXJuIE1JTlVURTtcbiAgICAgICAgY2FzZSAnbGltaXRIb3VyJzogcmV0dXJuIEhPVVI7XG4gICAgICAgIGNhc2UgJ2xpbWl0RGF5JzogcmV0dXJuIERBWTtcbiAgICB9XG59O1xudmFyIG1heWJlSlNPTiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn07XG52YXIgTWVzc2FnZXMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWVzc2FnZXMoZXZlbnRzLCBjcmVhdGVSZXF1ZXN0LCBnZXRGaWxlVXJsKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuZXZlbnRzID0gZXZlbnRzO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuICAgICAgICB0aGlzLmdldEZpbGVVcmwgPSBnZXRGaWxlVXJsO1xuICAgICAgICB0aGlzLl9tZXNzYWdlQ2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5vY2N1cnJlbmNlVHJhY2tlciA9IG5ldyBPY2N1cnJlbmNlVHJhY2tlcigpO1xuICAgICAgICB0aGlzLl9zaG93UmljaElBTSA9IGZhbHNlO1xuICAgICAgICBldmVudHMub24oJ3ByZXZpZXdSZXF1ZXN0JywgdGhpcy5vbk1lc3NhZ2VQcmV2aWV3LmJpbmQodGhpcykpO1xuICAgICAgICBldmVudHMub24oJ21lc3NhZ2VzUmVjZWl2ZWQnLCB0aGlzLm9uTWVzc2FnZXNSZWNlaXZlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgZXZlbnRzLm9uKCdzdGFydCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLm9jY3VycmVuY2VUcmFja2VyLmxvYWQoKTtcbiAgICAgICAgICAgIF90aGlzLm9jY3VycmVuY2VUcmFja2VyLmNsZWFyU2Vzc2lvbigpO1xuICAgICAgICAgICAgX3RoaXMub25UcmlnZ2VyKHsgdHJpZ2dlcjogJ3N0YXJ0JyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGV2ZW50cy5vbigncmVzdW1lJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGtleSA9IENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLk1FU1NBR0VfQ0FDSEU7XG4gICAgICAgICAgICB2YXIgY2FjaGUgPSBtYXliZUpTT04oU3RvcmFnZU1hbmFnZXJfMS5kZWZhdWx0LmdldChrZXkpKTtcbiAgICAgICAgICAgIF90aGlzLl9tZXNzYWdlQ2FjaGUgPSBjYWNoZSB8fCBfdGhpcy5fbWVzc2FnZUNhY2hlO1xuICAgICAgICAgICAgX3RoaXMub2NjdXJyZW5jZVRyYWNrZXIubG9hZCgpO1xuICAgICAgICAgICAgX3RoaXMub25UcmlnZ2VyKHsgdHJpZ2dlcjogJ3Jlc3VtZScgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBldmVudHMub24oJ3RyYWNrJywgZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgIF90aGlzLm9uVHJpZ2dlcih7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcjogJ2V2ZW50JyxcbiAgICAgICAgICAgICAgICBldmVudE5hbWU6IGFyZ3MuZXZlbnROYW1lLFxuICAgICAgICAgICAgICAgIHBhcmFtczogYXJncy5wYXJhbXMgfHwge30sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGV2ZW50cy5vbignYWR2YW5jZVN0YXRlJywgZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5vblRyaWdnZXIoe1xuICAgICAgICAgICAgICAgIHRyaWdnZXI6ICdzdGF0ZScsXG4gICAgICAgICAgICAgICAgc3RhdGU6IGFyZ3Muc3RhdGUsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBhcmdzLnBhcmFtcyB8fCB7fSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgZXZlbnRzLm9uKCdzZXRVc2VyQXR0cmlidXRlJywgZnVuY3Rpb24gKGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5vblRyaWdnZXIoeyB0cmlnZ2VyOiAndXNlckF0dHJpYnV0ZScsIGF0dHJpYnV0ZXM6IGF0dHJpYnV0ZXMgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBNZXNzYWdlcy5wcm90b3R5cGUuZW5hYmxlUmljaEluQXBwTWVzc2FnZXMgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICAgICAgICB0aGlzLl9zaG93UmljaElBTSA9IGVuYWJsZWQ7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUub25UcmlnZ2VyID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gdGhpcy5nZXRNZXNzYWdlcygpO1xuICAgICAgICB2YXIgbWVzc2FnZUlkcyA9IE9iamVjdC5rZXlzKG1lc3NhZ2VzKTtcbiAgICAgICAgbWVzc2FnZUlkc1xuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIF90aGlzLnNob3VsZFNob3dNZXNzYWdlKGlkLCBtZXNzYWdlc1tpZF0sIGNvbnRleHQpOyB9KVxuICAgICAgICAgICAgLnNsaWNlKDAsIDEpIC8vIFRPRE86IGNob29zZSByYW5kb21seVxuICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7IHJldHVybiBfdGhpcy5zaG93TWVzc2FnZShpZCwgbWVzc2FnZXNbaWRdKTsgfSk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUub25NZXNzYWdlUHJldmlldyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHZhciB2YXJzID0gbWVzc2FnZS5hY3Rpb247XG4gICAgICAgIHZhciBjb250ZXh0ID0ge1xuICAgICAgICAgICAgdHJhY2s6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudEluZm8gPSBldmVudCA/IFwiZXZlbnQgJ1wiICsgZXZlbnQgKyBcIidcIiA6ICdpbXByZXNzaW9uJztcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRyYWNraW5nIFwiICsgZXZlbnRJbmZvICsgXCIgZm9yIFwiICsgbWVzc2FnZS5tZXNzYWdlSWQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJ1bkFjdGlvbk5hbWVkOiBmdW5jdGlvbiAoYWN0aW9uTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhcIlJ1bm5pbmcgdW50cmFja2VkIGFjdGlvbiAnXCIgKyBhY3Rpb25OYW1lICsgXCInXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJ1blRyYWNrZWRBY3Rpb25OYW1lZDogZnVuY3Rpb24gKGFjdGlvbk5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coXCJSdW5uaW5nIHRyYWNrZWQgYWN0aW9uICdcIiArIGFjdGlvbk5hbWUgKyBcIidcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZU1lc3NhZ2Uoe1xuICAgICAgICAgICAgaXNQcmV2aWV3OiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogdGhpcy5hZGREZWZhdWx0cyhfX2Fzc2lnbih7IG1lc3NhZ2VJZDogbWVzc2FnZS5tZXNzYWdlSWQgfSwgdmFycykpLFxuICAgICAgICAgICAgY29udGV4dDogY29udGV4dCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUub25NZXNzYWdlc1JlY2VpdmVkID0gZnVuY3Rpb24gKHJlY2VpdmVkTWVzc2FnZXMpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gcmVjZWl2ZWRNZXNzYWdlcyB8fCB7fTtcbiAgICAgICAgdGhpcy5fbWVzc2FnZUNhY2hlID0gbWVzc2FnZXM7XG4gICAgICAgIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5zYXZlKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLk1FU1NBR0VfQ0FDSEUsIEpTT04uc3RyaW5naWZ5KG1lc3NhZ2VzKSk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUuc2hvdWxkU2hvd01lc3NhZ2UgPSBmdW5jdGlvbiAoaWQsIG1lc3NhZ2UsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIHZhciBtYXRjaGVzVHJpZ2dlciA9IHRoaXMubWF0Y2hlc1RyaWdnZXIobWVzc2FnZS53aGVuVHJpZ2dlcnMsIGNvbnRleHQpO1xuICAgICAgICB2YXIgbWF0Y2hlc1VubGVzcyA9IHRoaXMubWF0Y2hlc1RyaWdnZXIobWVzc2FnZS51bmxlc3NUcmlnZ2VycywgY29udGV4dCk7XG4gICAgICAgIGlmICghbWF0Y2hlc1RyaWdnZXIgfHwgbWF0Y2hlc1VubGVzcykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0cmlnZ2Vyc0NvdW50ID0gdGhpcy5vY2N1cnJlbmNlVHJhY2tlci5yZWNvcmRUcmlnZ2VyT2NjdXJyZW5jZShpZCk7XG4gICAgICAgIGlmICghdGhpcy5tYXRjaGVzTGltaXRzKGlkLCBtZXNzYWdlLndoZW5MaW1pdHMsIHRyaWdnZXJzQ291bnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3RhcnRUaW1lICYmIG1lc3NhZ2UuZW5kVGltZSkge1xuICAgICAgICAgICAgdmFyIG91dHNpZGVBY3RpdmVQZXJpb2QgPSBub3cgPCBtZXNzYWdlLnN0YXJ0VGltZSB8fCBtZXNzYWdlLmVuZFRpbWUgPCBub3c7XG4gICAgICAgICAgICBpZiAob3V0c2lkZUFjdGl2ZVBlcmlvZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5zaG93TWVzc2FnZSA9IGZ1bmN0aW9uIChpZCwgbWVzc2FnZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdmFycyA9IHRoaXMuYWRkRGVmYXVsdHMoX19hc3NpZ24oe30sIG1lc3NhZ2UudmFycykpO1xuICAgICAgICB2YXIgY29udGV4dCA9IHtcbiAgICAgICAgICAgIHRyYWNrOiBmdW5jdGlvbiAoZXZlbnQsIHZhbHVlLCBpbmZvLCBwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vY2N1cnJlbmNlVHJhY2tlci5yZWNvcmRPY2N1cnJlbmNlKGlkKTtcbiAgICAgICAgICAgICAgICBfdGhpcy50cmFja01lc3NhZ2UoaWQsIHsgZXZlbnQ6IGV2ZW50LCB2YWx1ZTogdmFsdWUsIGluZm86IGluZm8sIHBhcmFtczogcGFyYW1zIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJ1bkFjdGlvbk5hbWVkOiBmdW5jdGlvbiAoYWN0aW9uTmFtZSkgeyByZXR1cm4gX3RoaXMub25BY3Rpb24odmFyc1thY3Rpb25OYW1lXSwgaWQpOyB9LFxuICAgICAgICAgICAgcnVuVHJhY2tlZEFjdGlvbk5hbWVkOiBmdW5jdGlvbiAoYWN0aW9uTmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudCA9IGFjdGlvbk5hbWUucmVwbGFjZSgvIGFjdGlvbiQvLCAnJyk7XG4gICAgICAgICAgICAgICAgX3RoaXMudHJhY2tNZXNzYWdlKGlkLCB7IGV2ZW50OiBldmVudCB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5vbkFjdGlvbih2YXJzW2FjdGlvbk5hbWVdLCBpZCk7IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVNZXNzYWdlKHtcbiAgICAgICAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgICAgICBtZXNzYWdlOiBfX2Fzc2lnbih7IG1lc3NhZ2VJZDogaWQgfSwgdmFycyksXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLnByb2Nlc3NNZXNzYWdlRXZlbnQgPSBmdW5jdGlvbiAobWVzc2FnZUlkLCBldmVudFVybCkge1xuICAgICAgICB2YXIgaWZyYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJscC1tZXNzYWdlLVwiICsgbWVzc2FnZUlkKTtcbiAgICAgICAgaWYgKCFpZnJhbWUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdtZXNzYWdlIGNsb3NlZCwgc2tpcHBpbmcgZXZlbnQgcHJvY2Vzc2luZycpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IGV2ZW50VXJsLnJlcGxhY2UoL15odHRwOlxcL1xcL2xlYW5wbHVtXFwvLywgJycpLnNwbGl0KCc/JyksIGV2ZW50ID0gX2FbMF0sIF9iID0gX2FbMV0sIHF1ZXJ5ID0gX2IgPT09IHZvaWQgMCA/ICcnIDogX2I7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHZhciBwYXJhbXMgPSBxdWVyeS5zcGxpdCgnJicpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwYXJhbSkge1xuICAgICAgICAgICAgdmFyIF9hID0gcGFyYW0uc3BsaXQoJz0nKSwga2V5ID0gX2FbMF0sIHZhbHVlID0gX2FbMV07XG4gICAgICAgICAgICBhY2Nba2V5XSA9IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG4gICAgICAgIHZhciBfYyA9IGlmcmFtZS5tZXRhZGF0YSwgbWVzc2FnZSA9IF9jLm1lc3NhZ2UsIGNvbnRleHQgPSBfYy5jb250ZXh0O1xuICAgICAgICBzd2l0Y2ggKGV2ZW50KSB7XG4gICAgICAgICAgICBjYXNlICdsb2FkRmluaXNoZWQnOlxuICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlWydIVE1MIEhlaWdodCddID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBtZXNzYWdlWydIVE1MIFdpZHRoJ107XG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5oZWlnaHQgPSBtZXNzYWdlWydIVE1MIEhlaWdodCddICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlLmxlZnQgPSBcImNhbGMoKDEwMCUgLSBcIiArIHdpZHRoICsgXCIpIC8gMilcIjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuY2hvclByb3AgPSBtZXNzYWdlWydIVE1MIEFsaWduJ10udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFsdFByb3AgPSBhbmNob3JQcm9wID09PSAndG9wJyA/ICdib3R0b20nIDogJ3RvcCc7XG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZS5zdHlsZVthbmNob3JQcm9wXSA9ICcwJztcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnN0eWxlW2FsdFByb3BdID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUudG9wID0gJzAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZnJhbWUuY29udGVudFdpbmRvdy5mb2N1cygpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQudHJhY2soKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3RyYWNrJzpcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRyYWNrKHBhcmFtcy5ldmVudCwgcGFyc2VGbG9hdChwYXJhbXMudmFsdWUpLCBwYXJhbXMuaW5mbywgbWF5YmVKU09OKHBhcmFtcy5wYXJhbWV0ZXJzKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdydW5BY3Rpb24nOlxuICAgICAgICAgICAgY2FzZSAncnVuVHJhY2tlZEFjdGlvbic6XG4gICAgICAgICAgICAgICAgY29udGV4dFtldmVudCArIFwiTmFtZWRcIl0ocGFyYW1zLmFjdGlvbik7XG4gICAgICAgICAgICAvLyBmYWxsIHRocm91Z2ggYW5kIGNsb3NlXG4gICAgICAgICAgICBjYXNlICdjbG9zZSc6XG4gICAgICAgICAgICAgICAgaWZyYW1lLm1ldGFkYXRhID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUuaGFuZGxlTWVzc2FnZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9zaG93UmljaElBTSAmJiBvcHRpb25zLm1lc3NhZ2UuX19uYW1lX18gPT09ICdIVE1MJykge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlRmlsZXMob3B0aW9ucy5tZXNzYWdlKTtcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZU5hbWUgPSBvcHRpb25zLm1lc3NhZ2VbJ1RlbXBsYXRlJ10gfHwgJyc7XG4gICAgICAgICAgICBuZXcgTmV0d29ya18xLmRlZmF1bHQoKS5hamF4KCdnZXQnLCB0ZW1wbGF0ZU5hbWUucmVwbGFjZSgnLTEwLmh0bWwnLCAnLTExLmh0bWwnKSwgJycsIGZ1bmN0aW9uICh0ZW1wbGF0ZSkgeyByZXR1cm4gX3RoaXMucmVuZGVyUmljaEluQXBwTWVzc2FnZSh0ZW1wbGF0ZSwgb3B0aW9ucyk7IH0sIGZ1bmN0aW9uICgpIHsgfSwgZmFsc2UsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdCgnc2hvd01lc3NhZ2UnLCB0aGlzLnJlc29sdmVGaWVsZHMob3B0aW9ucykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUucmVuZGVyUmljaEluQXBwTWVzc2FnZSA9IGZ1bmN0aW9uICh0ZW1wbGF0ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgbWVzc2FnZUlkID0gb3B0aW9ucy5tZXNzYWdlLm1lc3NhZ2VJZDtcbiAgICAgICAgdmFyIHZhcnMgPSBKU09OLnN0cmluZ2lmeShvcHRpb25zLm1lc3NhZ2UpO1xuICAgICAgICB2YXIgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2lkJywgXCJscC1tZXNzYWdlLVwiICsgbWVzc2FnZUlkKTtcbiAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnUG9wdXAnKTtcbiAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnYXJpYS1tb2RhbCcsICd0cnVlJyk7XG4gICAgICAgIGlmcmFtZS5zdHlsZS5jc3NUZXh0ID0gW1xuICAgICAgICAgICAgJ2JvcmRlci13aWR0aDogMCcsXG4gICAgICAgICAgICAncG9zaXRpb246IGZpeGVkJyxcbiAgICAgICAgICAgICd0b3A6IC0xMDAlJyxcbiAgICAgICAgICAgICdsZWZ0OiAtMTAwJScsXG4gICAgICAgICAgICAnd2lkdGg6IDEwMCUnLFxuICAgICAgICAgICAgJ2hlaWdodDogMTAwJScsXG4gICAgICAgICAgICAndmlzaWJpbGl0eTogaGlkZGVuJyxcbiAgICAgICAgICAgICd6LWluZGV4OiAxMDAwMDAnLFxuICAgICAgICBdLmpvaW4oJzsnKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoaWZyYW1lLCBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpO1xuICAgICAgICAvLyBwYXNzIG1lc3NhZ2UgaW5mb1xuICAgICAgICBpZnJhbWUubWV0YWRhdGEgPSBvcHRpb25zO1xuICAgICAgICBpZnJhbWUuY29udGVudFdpbmRvdy5tZXNzYWdlSWQgPSBtZXNzYWdlSWQ7XG4gICAgICAgIHZhciBjb250ZW50ID0gdGVtcGxhdGVcbiAgICAgICAgICAgIC5yZXBsYWNlKCcjI1ZhcnMjIycsIHZhcnMpXG4gICAgICAgICAgICAucmVwbGFjZSgnPGJvZHk+JywgXCI8Ym9keT48c2NyaXB0PndpbmRvdy5tZXNzYWdlSWQ9J1wiICsgbWVzc2FnZUlkICsgXCInPC9zY3JpcHQ+XCIpO1xuICAgICAgICBpZiAoJ3NyY2RvYycgaW4gaWZyYW1lKSB7XG4gICAgICAgICAgICBpZnJhbWUuc3JjZG9jID0gY29udGVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBkb2MgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgICAgICAgICAgIGRvYy5vcGVuKCk7XG4gICAgICAgICAgICBkb2Mud3JpdGUoY29udGVudCk7XG4gICAgICAgICAgICBkb2MuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVzc2FnZXMucHJvdG90eXBlLnRyYWNrTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlSWQsIHRyYWNrT3B0aW9ucywgcmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHRyYWNrT3B0aW9ucyA9PT0gdm9pZCAwKSB7IHRyYWNrT3B0aW9ucyA9IHsgZXZlbnQ6IG51bGwgfTsgfVxuICAgICAgICBpZiAocmVzcG9uc2UgPT09IHZvaWQgMCkgeyByZXNwb25zZSA9IGZ1bmN0aW9uICgpIHsgfTsgfVxuICAgICAgICB2YXIgYXJncyA9IG5ldyBBcmdzQnVpbGRlcl8xLmRlZmF1bHQoKVxuICAgICAgICAgICAgLmFkZChDb25zdGFudHNfMS5kZWZhdWx0LlBBUkFNUy5NRVNTQUdFX0lELCBtZXNzYWdlSWQpO1xuICAgICAgICB2YXIgZGVmaW5lZCA9IGZ1bmN0aW9uICh4KSB7IHJldHVybiB0eXBlb2YgeCAhPT0gJ3VuZGVmaW5lZCc7IH07XG4gICAgICAgIGlmICh0cmFja09wdGlvbnMuZXZlbnQpIHtcbiAgICAgICAgICAgIGFyZ3MuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLkVWRU5ULCB0cmFja09wdGlvbnMuZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWZpbmVkKHRyYWNrT3B0aW9ucy52YWx1ZSkpIHtcbiAgICAgICAgICAgIGFyZ3MuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlZBTFVFLCB0cmFja09wdGlvbnMudmFsdWUgfHwgMC4wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmaW5lZCh0cmFja09wdGlvbnMuaW5mbykpIHtcbiAgICAgICAgICAgIGFyZ3MuYWRkKENvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLklORk8sIHRyYWNrT3B0aW9ucy5pbmZvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmaW5lZCh0cmFja09wdGlvbnMucGFyYW1zKSkge1xuICAgICAgICAgICAgYXJncy5hZGQoQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuUEFSQU1TLCBKU09OLnN0cmluZ2lmeSh0cmFja09wdGlvbnMucGFyYW1zKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0KENvbnN0YW50c18xLmRlZmF1bHQuTUVUSE9EUy5UUkFDSywgYXJncywge1xuICAgICAgICAgICAgcXVldWVkOiB0cnVlLFxuICAgICAgICAgICAgc2VuZE5vdzogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiByZXNwb25zZSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUub25BY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uLCBwYXJlbnRNZXNzYWdlSWQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHBhcmVudE1lc3NhZ2VJZCA9PT0gdm9pZCAwKSB7IHBhcmVudE1lc3NhZ2VJZCA9ICcnOyB9XG4gICAgICAgIGlmICghYWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gdGhpcy5fbWVzc2FnZUNhY2hlO1xuICAgICAgICBpZiAoYWN0aW9uLl9fbmFtZV9fID09PSAnQ2hhaW4gdG8gRXhpc3RpbmcgTWVzc2FnZScpIHtcbiAgICAgICAgICAgIHZhciBjaGFpbmVkTWVzc2FnZUlkXzEgPSBhY3Rpb25bJ0NoYWluZWQgbWVzc2FnZSddO1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2VfMSA9IG1lc3NhZ2VzW2NoYWluZWRNZXNzYWdlSWRfMV07XG4gICAgICAgICAgICBpZiAobWVzc2FnZV8xLmFjdGlvbiA9PT0gJ09wZW4gVVJMJykge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2tNZXNzYWdlKGNoYWluZWRNZXNzYWdlSWRfMSwgeyBldmVudDogJ1ZpZXcnIH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uQWN0aW9uKG1lc3NhZ2VfMS52YXJzLCBjaGFpbmVkTWVzc2FnZUlkXzEpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1lc3NhZ2VfMS5hY3Rpb24gPT09ICdSZWdpc3RlciBGb3IgUHVzaCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KCdyZWdpc3RlckZvclB1c2gnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoY2hhaW5lZE1lc3NhZ2VJZF8xLCBtZXNzYWdlXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGhhbmRsZSBhcHAgZnVuY3Rpb25cbiAgICAgICAgdmFyIHByb2Nlc3NBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IGFjdGlvbi5fX25hbWVfXztcbiAgICAgICAgICAgIGlmIChhY3Rpb24uX19uYW1lX18gPT09ICdPcGVuIFVSTCcpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5ldmVudHMuZW1pdCgnbmF2aWdhdGlvbkNoYW5nZScsIGFjdGlvbi5VUkwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYWN0aW9uLl9fbmFtZV9fID09PSAnUmVnaXN0ZXIgRm9yIFB1c2gnKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRzLmVtaXQoJ3JlZ2lzdGVyRm9yUHVzaCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgIC8vIGVtYmVkZGVkIGNoYWluZWQgbWVzc2FnZVxuICAgICAgICAgICAgICAgIF90aGlzLnNob3dNZXNzYWdlKHBhcmVudE1lc3NhZ2VJZCwge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IHBhcmVudE1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YXJzOiBhY3Rpb24sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBtZXNzYWdlSWQgPSB0aGlzLm1lc3NhZ2VJZEZyb21BY3Rpb24oYWN0aW9uKTtcbiAgICAgICAgaWYgKG1lc3NhZ2VJZCkge1xuICAgICAgICAgICAgdGhpcy50cmFja01lc3NhZ2UobWVzc2FnZUlkLCB7IGV2ZW50OiBudWxsIH0sIHByb2Nlc3NBY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJvY2Vzc0FjdGlvbigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUuZ2V0TWVzc2FnZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXNzYWdlQ2FjaGUgfHwge307XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUuYWRkRGVmYXVsdHMgPSBmdW5jdGlvbiAodmFycykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZGVmaW5pdGlvbnMgPSB0aGlzLmdldE1lc3NhZ2VzKCkuYWN0aW9uRGVmaW5pdGlvbnMgfHwge307XG4gICAgICAgIHZhciBkZWZpbml0aW9uID0gZGVmaW5pdGlvbnNbdmFycy5fX25hbWVfX107XG4gICAgICAgIHZhciBraW5kcyA9IGRlZmluaXRpb24gPT09IG51bGwgfHwgZGVmaW5pdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVmaW5pdGlvbi5raW5kcztcbiAgICAgICAgaWYgKCFkZWZpbml0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFycztcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXNlRGVmYXVsdHMgPSBmdW5jdGlvbiAob2JqLCBkZWZhdWx0VmFsdWVzLCBwYXRoKSB7XG4gICAgICAgICAgICBpZiAocGF0aCA9PT0gdm9pZCAwKSB7IHBhdGggPSAnJzsgfVxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5rZXlzKGRlZmF1bHRWYWx1ZXMpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZGVmYXVsdFZhbHVlc1trZXldO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gdXNlRGVmYXVsdHMob2JqW2tleV0gfHwge30sIHZhbHVlLCBcIlwiICsgcGF0aCArIGtleSArIFwiLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9ialtrZXldID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoa2luZHNbXCJcIiArIHBhdGggKyBrZXldID09PSAnRklMRScpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSBfdGhpcy5nZXRGaWxlVXJsKG9ialtrZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdXNlRGVmYXVsdHMoX19hc3NpZ24oe30sIHZhcnMpLCBkZWZpbml0aW9uLnZhbHVlcyk7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUucmVzb2x2ZUZpbGVzID0gZnVuY3Rpb24gKHZhcnMpIHtcbiAgICAgICAgdmFyIGZpbGVQcmVmaXggPSAvXl9fZmlsZV9fLztcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHZhcnMpIHtcbiAgICAgICAgICAgIGlmIChmaWxlUHJlZml4LnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgICAgIHZhciBuYW1lXzEgPSBrZXkucmVwbGFjZShmaWxlUHJlZml4LCAnJyk7XG4gICAgICAgICAgICAgICAgdmFyc1tuYW1lXzFdID0gdGhpcy5nZXRGaWxlVXJsKHZhcnNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFyc1trZXldID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHZhcnNba2V5XSA9IHRoaXMucmVzb2x2ZUZpbGVzKHZhcnNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhcnM7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUucmVzb2x2ZUZpZWxkcyA9IGZ1bmN0aW9uICh2YXJzKSB7XG4gICAgICAgIHZhciBjb2xvclN1ZmZpeCA9IC9cXGJjb2xvci9pO1xuICAgICAgICB2YXIgZmlsZVByZWZpeCA9IC9eX19maWxlX18vO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdmFycykge1xuICAgICAgICAgICAgaWYgKGZpbGVQcmVmaXgudGVzdChrZXkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWVfMiA9IGtleS5yZXBsYWNlKGZpbGVQcmVmaXgsICcnKTtcbiAgICAgICAgICAgICAgICB2YXJzW25hbWVfMiArICcgVVJMJ10gPSB0aGlzLmdldEZpbGVVcmwodmFyc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbG9yU3VmZml4LnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgICAgIHZhcnNba2V5XSA9IFZhbHVlVHJhbnNmb3Jtc18xLmRlZmF1bHQuZGVjb2RlQ29sb3IodmFyc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YXJzW2tleV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdmFyc1trZXldID0gdGhpcy5yZXNvbHZlRmllbGRzKHZhcnNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhcnM7XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUubWVzc2FnZUlkRnJvbUFjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gdGhpcy5fbWVzc2FnZUNhY2hlO1xuICAgICAgICB2YXIgdmFycyA9IF9fYXNzaWduKHt9LCBhY3Rpb24pO1xuICAgICAgICBkZWxldGUgdmFyc1sncGFyZW50Q2FtcGFpZ25JZCddO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXMobWVzc2FnZXMpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGlkID0gX2FbX2ldO1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBtZXNzYWdlc1tpZF07XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5wYXJlbnRDYW1wYWlnbklkICE9PSBhY3Rpb24ucGFyZW50Q2FtcGFpZ25JZCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxvZGFzaF9pc2VxdWFsXzEuZGVmYXVsdChtZXNzYWdlLnZhcnMsIHZhcnMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBNZXNzYWdlcy5wcm90b3R5cGUubWF0Y2hlc1RyaWdnZXIgPSBmdW5jdGlvbiAod2hlblRyaWdnZXJzLCBjb250ZXh0KSB7XG4gICAgICAgIGlmICghd2hlblRyaWdnZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlnbm9yZUNhc2VFcXVhbHMgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgaWYgKGIgPT09IHZvaWQgMCkgeyBiID0gJyc7IH1cbiAgICAgICAgICAgIHJldHVybiBhLnRvU3RyaW5nKCkubG9jYWxlQ29tcGFyZShiLnRvU3RyaW5nKCksIHVuZGVmaW5lZCwgeyBzZW5zaXRpdml0eTogJ2FjY2VudCcgfSkgPT09IDA7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBtYXRjaGVzVHJpZ2dlcnMgPSBmdW5jdGlvbiAoY29udGV4dE5vdW4sIHBhcmFtcywgdHJpZ2dlcikge1xuICAgICAgICAgICAgdmFyIG1hdGNoZXNOb3VuID0gY29udGV4dE5vdW4gPT09IHRyaWdnZXIubm91bjtcbiAgICAgICAgICAgIGlmICh0cmlnZ2VyLnZlcmIgPT09ICd0cmlnZ2VycycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlc05vdW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0cmlnZ2VyLnZlcmIgPT09ICd0cmlnZ2Vyc1dpdGhQYXJhbWV0ZXInKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gdHJpZ2dlci5vYmplY3RzLCBwYXJhbWV0ZXIgPSBfYVswXSwgdmFsdWUgPSBfYVsxXTtcbiAgICAgICAgICAgICAgICB2YXIgY29udGFpbnNQYXJhbSA9IHBhcmFtZXRlciBpbiBwYXJhbXM7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoZXNQYXJhbSA9IGNvbnRhaW5zUGFyYW0gJiYgaWdub3JlQ2FzZUVxdWFscyh2YWx1ZSwgcGFyYW1zW3BhcmFtZXRlcl0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVzTm91biAmJiBtYXRjaGVzUGFyYW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB3aGVuVHJpZ2dlcnMuY2hpbGRyZW4uc29tZShmdW5jdGlvbiAodHJpZ2dlcikge1xuICAgICAgICAgICAgdmFyIHN1YmplY3QgPSB0cmlnZ2VyLnN1YmplY3Q7XG4gICAgICAgICAgICBzd2l0Y2ggKGNvbnRleHQudHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0YXJ0JzogcmV0dXJuIHN1YmplY3QgPT09ICdzdGFydCcgfHwgc3ViamVjdCA9PT0gJ3Jlc3VtZSc7XG4gICAgICAgICAgICAgICAgY2FzZSAncmVzdW1lJzogcmV0dXJuIHN1YmplY3QgPT09ICdyZXN1bWUnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2V2ZW50JzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YmplY3QgIT09ICdldmVudCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlc1RyaWdnZXJzKGNvbnRleHQuZXZlbnROYW1lLCBjb250ZXh0LnBhcmFtcywgdHJpZ2dlcik7XG4gICAgICAgICAgICAgICAgY2FzZSAndXNlckF0dHJpYnV0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJqZWN0ICE9PSAndXNlckF0dHJpYnV0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGFpbnNBdHRyaWJ1dGUgPSB0cmlnZ2VyLm5vdW4gaW4gY29udGV4dC5hdHRyaWJ1dGVzO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlci52ZXJiID09PSAnY2hhbmdlcycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250YWluc0F0dHJpYnV0ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0cmlnZ2VyLnZlcmIgPT09ICdjaGFuZ2VzVG8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5zQXR0cmlidXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRleHRWYWx1ZV8xID0gY29udGV4dC5hdHRyaWJ1dGVzW3RyaWdnZXIubm91bl07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJpZ2dlci5vYmplY3RzLnNvbWUoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsICYmIGNvbnRleHRWYWx1ZV8xID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgJiYgY29udGV4dFZhbHVlXzEgJiYgaWdub3JlQ2FzZUVxdWFscyh2YWx1ZSwgY29udGV4dFZhbHVlXzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RhdGUnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoc3ViamVjdCAhPT0gJ3N0YXRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVzVHJpZ2dlcnMoY29udGV4dC5zdGF0ZSwgY29udGV4dC5wYXJhbXMsIHRyaWdnZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1lc3NhZ2VzLnByb3RvdHlwZS5tYXRjaGVzTGltaXRzID0gZnVuY3Rpb24gKGlkLCB3aGVuTGltaXRzLCB0cmlnZ2VyT2NjdXJyZW5jZXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF3aGVuTGltaXRzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2hlbkxpbWl0cy5jaGlsZHJlbi5ldmVyeShmdW5jdGlvbiAobGltaXQpIHtcbiAgICAgICAgICAgIHZhciBzdWJqZWN0ID0gbGltaXQuc3ViamVjdCwgdmVyYiA9IGxpbWl0LnZlcmI7XG4gICAgICAgICAgICB2YXIgbm91biA9IHBhcnNlSW50KGxpbWl0Lm5vdW4udG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBpZiAoc3ViamVjdCA9PT0gJ3RpbWVzJykge1xuICAgICAgICAgICAgICAgIGlmICh2ZXJiID09PSAnbGltaXRTZXNzaW9uJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2Vzc2lvbk9jY3VycmVuY2VzID0gX3RoaXMub2NjdXJyZW5jZVRyYWNrZXIuZ2V0U2Vzc2lvbk9jY3VycmFuY2VDb3VudChpZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXNzaW9uT2NjdXJyZW5jZXMgKyAxID09PSBub3VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2ZXJiID09PSAnbGltaXRVc2VyJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2NjdXJyZW5jZXMgPSBfdGhpcy5vY2N1cnJlbmNlVHJhY2tlci5nZXRPY2N1cnJlbmNlcyhpZCkubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2NjdXJyZW5jZXMgKyAxIDw9IG5vdW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBYIGluIFkgKHNlY29uZHN8bWludXRlc3xkYXlzfGhvdXJzKVxuICAgICAgICAgICAgICAgICAgICB2YXIgcGVySW50ZXJ2YWwgPSBwYXJzZUludChsaW1pdC5vYmplY3RzWzBdLnRvU3RyaW5nKCkpIHx8IDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aW1lU2xvdCA9IHZlcmJUb0ludGVydmFsKHZlcmIpICogcGVySW50ZXJ2YWw7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvY2N1cnJlbmNlcyA9IF90aGlzLm9jY3VycmVuY2VUcmFja2VyLmdldE9jY3VycmVuY2VzKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gb2NjdXJyZW5jZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgPCBub3VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzbGljZSA9IG9jY3VycmVuY2VzLnNsaWNlKGNvdW50IC0gbm91biwgY291bnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgdGhlIHRpbWUgb2YgdGhlIGZpcnN0IG9mIHRoZSBsYXN0IE4gb2NjdXJyZW5jZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzbGljZVswXSA8IERhdGUubm93KCkgLSB0aW1lU2xvdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN1YmplY3QgPT09ICdvbk50aE9jY3VycmVuY2UnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyaWdnZXJPY2N1cnJlbmNlcyA9PT0gbm91bjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN1YmplY3QgPT09ICdldmVyeU50aE9jY3VycmVuY2UnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0cmlnZ2VyT2NjdXJyZW5jZXMgJSBub3VuKSA9PT0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gTWVzc2FnZXM7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTWVzc2FnZXM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBFdmVudEVtaXR0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gW107XG4gICAgfVxuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmhhbmRsZXJzLnB1c2goeyBldmVudE5hbWU6IGV2ZW50TmFtZSwgY2FsbGJhY2s6IGNhbGxiYWNrIH0pO1xuICAgIH07XG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gdGhpcy5oYW5kbGVycy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguZXZlbnROYW1lICE9PSBldmVudE5hbWUgfHwgeC5jYWxsYmFjayAhPT0gY2FsbGJhY2s7IH0pO1xuICAgIH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBhcmdzKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICAgICAgaWYgKGhhbmRsZXIuZXZlbnROYW1lID09PSBldmVudE5hbWUpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmNhbGxiYWNrKGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBFdmVudEVtaXR0ZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRXZlbnRFbWl0dGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQWN0aW9uUGFyYW1ldGVyVHlwZTtcbihmdW5jdGlvbiAoQWN0aW9uUGFyYW1ldGVyVHlwZSkge1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJJbnRlZ2VyXCJdID0gXCJpbnRlZ2VyXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkNvbG9yXCJdID0gXCJjb2xvclwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJGbG9hdFwiXSA9IFwiZmxvYXRcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiRGVjaW1hbFwiXSA9IFwiZGVjaW1hbFwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJOdW1iZXJcIl0gPSBcIm51bWJlclwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJCb29sZWFuXCJdID0gXCJib29sXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIlN0cmluZ1wiXSA9IFwic3RyaW5nXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIlRleHRcIl0gPSBcInRleHRcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiSFRNTFwiXSA9IFwiaHRtbFwiO1xuICAgIEFjdGlvblBhcmFtZXRlclR5cGVbXCJGaWxlXCJdID0gXCJmaWxlXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkxpc3RcIl0gPSBcImxpc3RcIjtcbiAgICBBY3Rpb25QYXJhbWV0ZXJUeXBlW1wiR3JvdXBcIl0gPSBcImdyb3VwXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIkFjdGlvblwiXSA9IFwiYWN0aW9uXCI7XG4gICAgQWN0aW9uUGFyYW1ldGVyVHlwZVtcIlVua25vd25cIl0gPSBcIlwiO1xufSkoQWN0aW9uUGFyYW1ldGVyVHlwZSA9IGV4cG9ydHMuQWN0aW9uUGFyYW1ldGVyVHlwZSB8fCAoZXhwb3J0cy5BY3Rpb25QYXJhbWV0ZXJUeXBlID0ge30pKTtcbjtcbnZhciBNZXNzYWdlS2luZDtcbihmdW5jdGlvbiAoTWVzc2FnZUtpbmQpIHtcbiAgICBNZXNzYWdlS2luZFtNZXNzYWdlS2luZFtcIkFjdGlvblwiXSA9IDJdID0gXCJBY3Rpb25cIjtcbiAgICBNZXNzYWdlS2luZFtNZXNzYWdlS2luZFtcIlRlbXBsYXRlXCJdID0gM10gPSBcIlRlbXBsYXRlXCI7XG59KShNZXNzYWdlS2luZCA9IGV4cG9ydHMuTWVzc2FnZUtpbmQgfHwgKGV4cG9ydHMuTWVzc2FnZUtpbmQgPSB7fSkpO1xuO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogIENvcHlyaWdodCAyMDIwIExlYW5wbHVtIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0OlxuICpcbiAqICAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBcmdzQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL0FyZ3NCdWlsZGVyXCIpKTtcbnZhciBDb25zdGFudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Db25zdGFudHNcIikpO1xudmFyIFN0b3JhZ2VNYW5hZ2VyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vU3RvcmFnZU1hbmFnZXJcIikpO1xudmFyIFZhbHVlVHJhbnNmb3Jtc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1ZhbHVlVHJhbnNmb3Jtc1wiKSk7XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4vLyB0cmFuc2Zvcm1zIHRoZSBzZXJ2ZXIgcmVzcG9uc2UgdG8gdGhlIGZvcm1hdCBleHBlY3RlZCBieSBzZXRWYXJzXG4vLyAtIGxvd2VyY2FzZSBraW5kc1xuLy8gLSBhY3Rpb25zIGFzIGVtcHR5IHN0cmluZ3NcbmZ1bmN0aW9uIHRvU2V0VmFyc0Zvcm1hdChvKSB7XG4gICAgaWYgKCFvKVxuICAgICAgICByZXR1cm4gbztcbiAgICByZXR1cm4gT2JqZWN0LmtleXMobykucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGFjdGlvbikge1xuICAgICAgICBhY2NbYWN0aW9uXSA9IF9fYXNzaWduKHt9LCBvW2FjdGlvbl0pO1xuICAgICAgICB2YXIga2luZHMgPSBvW2FjdGlvbl0ua2luZHM7XG4gICAgICAgIGlmIChraW5kcykge1xuICAgICAgICAgICAgYWNjW2FjdGlvbl0ua2luZHMgPSBPYmplY3Qua2V5cyhraW5kcylcbiAgICAgICAgICAgICAgICAucmVkdWNlKGZ1bmN0aW9uIChrLCBreCkge1xuICAgICAgICAgICAgICAgIHZhciBraW5kID0ga2luZHNba3hdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAga1treF0gPSBraW5kO1xuICAgICAgICAgICAgICAgIGlmIChraW5kID09PSAnYWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBhY2NbYWN0aW9uXS52YWx1ZXNba3hdID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBrO1xuICAgICAgICAgICAgfSwge30pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufVxudmFyIFZhckNhY2hlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZhckNhY2hlKGNyZWF0ZVJlcXVlc3QpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVSZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdDtcbiAgICAgICAgdGhpcy5hY3Rpb25EZWZpbml0aW9ucyA9IHt9O1xuICAgICAgICB0aGlzLmhhc1JlY2VpdmVkRGlmZnMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tZXJnZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudmFyaWFibGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy52YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMgPSBbXTtcbiAgICAgICAgdGhpcy52YXJpYW50RGVidWdJbmZvID0ge307XG4gICAgICAgIHRoaXMuZGlmZnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudG9rZW4gPSAnJztcbiAgICAgICAgdGhpcy52YXJpYW50cyA9IFtdO1xuICAgIH1cbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuYXBwbHlEaWZmcyA9IGZ1bmN0aW9uIChkaWZmcywgdmFyaWFudHMsIGFjdGlvbkRlZmluaXRpb25zKSB7XG4gICAgICAgIHRoaXMuZGlmZnMgPSBkaWZmcztcbiAgICAgICAgdGhpcy52YXJpYW50cyA9IHZhcmlhbnRzO1xuICAgICAgICB0aGlzLmFjdGlvbkRlZmluaXRpb25zID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuYWN0aW9uRGVmaW5pdGlvbnMpLCB0b1NldFZhcnNGb3JtYXQoYWN0aW9uRGVmaW5pdGlvbnMpKTtcbiAgICAgICAgdGhpcy5oYXNSZWNlaXZlZERpZmZzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5tZXJnZWQgPSBtZXJnZUhlbHBlcih0aGlzLnZhcmlhYmxlcywgZGlmZnMpO1xuICAgICAgICB0aGlzLnNhdmVEaWZmcygpO1xuICAgICAgICBpZiAodGhpcy5vblVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5vblVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUubG9hZERpZmZzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5hcHBseURpZmZzKEpTT04ucGFyc2UodGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFCTEVTKSB8fCBudWxsKSwgSlNPTi5wYXJzZSh0aGlzLmxvYWRMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5WQVJJQU5UUykgfHwgbnVsbCksIEpTT04ucGFyc2UodGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuQUNUSU9OX0RFRklOSVRJT05TKSB8fCBudWxsKSk7XG4gICAgICAgICAgICB0aGlzLnRva2VuID0gdGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVE9LRU4pO1xuICAgICAgICAgICAgdGhpcy52YXJpYW50RGVidWdJbmZvID0gdGhpcy5sb2FkTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFOVF9ERUJVR19JTkZPKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJMZWFucGx1bTogSW52YWxpZCBkaWZmczogXCIgKyBlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNhdmVEaWZmcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zYXZlTG9jYWwoQ29uc3RhbnRzXzEuZGVmYXVsdC5ERUZBVUxUX0tFWVMuVkFSSUFCTEVTLCBKU09OLnN0cmluZ2lmeSh0aGlzLmRpZmZzIHx8IHt9KSk7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLlZBUklBTlRTLCBKU09OLnN0cmluZ2lmeSh0aGlzLnZhcmlhbnRzIHx8IFtdKSk7XG4gICAgICAgIHRoaXMuc2F2ZUxvY2FsKENvbnN0YW50c18xLmRlZmF1bHQuREVGQVVMVF9LRVlTLkFDVElPTl9ERUZJTklUSU9OUywgSlNPTi5zdHJpbmdpZnkodGhpcy5hY3Rpb25EZWZpbml0aW9ucyB8fCB7fSkpO1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5WQVJJQU5UX0RFQlVHX0lORk8sIEpTT04uc3RyaW5naWZ5KHRoaXMudmFyaWFudERlYnVnSW5mbyB8fCB7fSkpO1xuICAgICAgICB0aGlzLnNhdmVMb2NhbChDb25zdGFudHNfMS5kZWZhdWx0LkRFRkFVTFRfS0VZUy5UT0tFTiwgdGhpcy50b2tlbik7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuZ2V0VmFyaWFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLmdldFZhcmlhYmxlcygpO1xuICAgICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbYXJnc1tpXV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuZ2V0VmFyaWFibGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXJnZWQgIT09IHVuZGVmaW5lZCA/IHRoaXMubWVyZ2VkIDogdGhpcy52YXJpYWJsZXM7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2V0VmFyaWFibGVzID0gZnVuY3Rpb24gKHZhcmlhYmxlcykge1xuICAgICAgICB0aGlzLnZhcmlhYmxlcyA9IHZhcmlhYmxlcztcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5hZGRWYXJpYWJsZXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIGlmICh0aGlzLmhhc1JlY2VpdmVkRGlmZnMpIHtcbiAgICAgICAgICAgIGhhbmRsZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnJlbW92ZVZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzLmluZGV4T2YoaGFuZGxlcik7XG4gICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy52YXJpYWJsZXNDaGFuZ2VkSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS50cmlnZ2VyVmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudmFyaWFibGVzQ2hhbmdlZEhhbmRsZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnZhcmlhYmxlc0NoYW5nZWRIYW5kbGVyc1tpXSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuZ2V0VmFyaWFudERlYnVnSW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFyaWFudERlYnVnSW5mbztcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zZXRWYXJpYW50RGVidWdJbmZvID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmFyaWFudERlYnVnSW5mbyA9IHZhbHVlO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnNlbmRBY3Rpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghT2JqZWN0LmtleXModGhpcy5hY3Rpb25EZWZpbml0aW9ucykubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRWYXJzKChfYSA9IHt9LFxuICAgICAgICAgICAgX2FbQ29uc3RhbnRzXzEuZGVmYXVsdC5QQVJBTVMuQUNUSU9OX0RFRklOSVRJT05TXSA9IHRoaXMuYWN0aW9uRGVmaW5pdGlvbnMsXG4gICAgICAgICAgICBfYSkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zZW5kVmFyaWFibGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuc2V0VmFycygoX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW0NvbnN0YW50c18xLmRlZmF1bHQuUEFSQU1TLlZBUklBQkxFU10gPSB0aGlzLnZhcmlhYmxlcyxcbiAgICAgICAgICAgIF9hKSk7XG4gICAgfTtcbiAgICBWYXJDYWNoZS5wcm90b3R5cGUuc2V0VmFycyA9IGZ1bmN0aW9uIChib2R5KSB7XG4gICAgICAgIHZhciBhcmdzID0gbmV3IEFyZ3NCdWlsZGVyXzEuZGVmYXVsdCgpLmJvZHkoSlNPTi5zdHJpbmdpZnkoYm9keSkpO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QoQ29uc3RhbnRzXzEuZGVmYXVsdC5NRVRIT0RTLlNFVF9WQVJTLCBhcmdzLCB7XG4gICAgICAgICAgICBzZW5kTm93OiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5jbGVhclVzZXJDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpZmZzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnZhcmlhYmxlcyA9IG51bGw7XG4gICAgICAgIHRoaXMudmFyaWFudHMgPSBbXTtcbiAgICAgICAgdGhpcy52YXJpYW50RGVidWdJbmZvID0ge307XG4gICAgICAgIHRoaXMubWVyZ2VkID0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLnJlZ2lzdGVyQWN0aW9uRGVmaW5pdGlvbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYWN0aW9uRGVmaW5pdGlvbnNbb3B0aW9ucy5uYW1lXSA9IG9wdGlvbnNUb0RlZmluaXRpb25zKG9wdGlvbnMpO1xuICAgIH07XG4gICAgVmFyQ2FjaGUucHJvdG90eXBlLmxvYWRMb2NhbCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIFN0b3JhZ2VNYW5hZ2VyXzEuZGVmYXVsdC5nZXQoa2V5KTtcbiAgICB9O1xuICAgIFZhckNhY2hlLnByb3RvdHlwZS5zYXZlTG9jYWwgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBTdG9yYWdlTWFuYWdlcl8xLmRlZmF1bHQuc2F2ZShrZXksIHZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiBWYXJDYWNoZTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBWYXJDYWNoZTtcbmZ1bmN0aW9uIGFyZ3VtZW50VHJlZShhcmdzKSB7XG4gICAgcmV0dXJuIGFyZ3MucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHgpIHtcbiAgICAgICAgaWYgKHgudmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgYWNjW3gubmFtZV0gPSBhcmd1bWVudFRyZWUoeC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoeC50eXBlID09PSAnYWN0aW9uJykge1xuICAgICAgICAgICAgYWNjW3gubmFtZV0gPSAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh4LnR5cGUgPT09ICdjb2xvcicpIHtcbiAgICAgICAgICAgIGFjY1t4Lm5hbWVdID0gVmFsdWVUcmFuc2Zvcm1zXzEuZGVmYXVsdC5lbmNvZGVDb2xvcih4LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFjY1t4Lm5hbWVdID0geC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn1cbmZ1bmN0aW9uIGFyZ3VtZW50S2luZHMoYXJncywgcHJlZml4KSB7XG4gICAgaWYgKHByZWZpeCA9PT0gdm9pZCAwKSB7IHByZWZpeCA9ICcnOyB9XG4gICAgcmV0dXJuIGFyZ3MucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgcHJvcE5hbWUgPSBcIlwiICsgcHJlZml4ICsgeC5uYW1lO1xuICAgICAgICBpZiAoeC52YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBhY2MgPSBfX2Fzc2lnbigoX2EgPSB7fSwgX2FbcHJvcE5hbWVdID0gJ2dyb3VwJywgX2EpLCBhcmd1bWVudEtpbmRzKHgudmFsdWUsIHByb3BOYW1lICsgXCIuXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFjY1twcm9wTmFtZV0gPSB4LnR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn1cbmZ1bmN0aW9uIG9wdGlvbnNUb0RlZmluaXRpb25zKG9wdGlvbnMpIHtcbiAgICB2YXIgZGVmaW5pdGlvbnMgPSB7XG4gICAgICAgIGtpbmQ6IG9wdGlvbnMua2luZCB8fCAzLFxuICAgICAgICBvcHRpb25zOiBudWxsLFxuICAgICAgICB2YWx1ZXM6IGFyZ3VtZW50VHJlZShvcHRpb25zLmFyZ3MpLFxuICAgICAgICBraW5kczogYXJndW1lbnRLaW5kcyhvcHRpb25zLmFyZ3MpLFxuICAgIH07XG4gICAgcmV0dXJuIGRlZmluaXRpb25zO1xufVxuZnVuY3Rpb24gbWVyZ2VIZWxwZXIodmFycywgZGlmZikge1xuICAgIGlmICh0eXBlb2YgZGlmZiA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGRpZmYgPT09ICdib29sZWFuJyB8fCB0eXBlb2YgZGlmZiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgfVxuICAgIGlmIChkaWZmID09PSBudWxsIHx8IGRpZmYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdmFycztcbiAgICB9XG4gICAgdmFyIG9iakl0ZXJhdG9yID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gaXRlcmF0ZShmKSB7XG4gICAgICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBmKG9ialtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBzZWVtcyB0byBiZSBiZXN0IHByYWN0aWNlOiBodHRwczovL2dpdGh1Yi5jb20vZXNsaW50L2VzbGludC9pc3N1ZXMvNzA3MVxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXJlZmxlY3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwob2JqLCBhdHRyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZihhdHRyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHZhciB2YXJzSXRlcmF0b3IgPSBvYmpJdGVyYXRvcih2YXJzKTtcbiAgICB2YXIgZGlmZkl0ZXJhdG9yID0gb2JqSXRlcmF0b3IoZGlmZik7XG4gICAgLy8gSW5mZXIgdGhhdCB0aGUgZGlmZnMgaXMgYW4gYXJyYXkgaWYgdGhlIHZhcnMgdmFsdWUgZG9lc24ndCBleGlzdCB0byB0ZWxsIHVzIHRoZSB0eXBlLlxuICAgIHZhciBpc0FycmF5ID0gZmFsc2U7XG4gICAgaWYgKHZhcnMgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKCEoZGlmZiBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgICAgaXNBcnJheSA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKHZhciBhdHRyaWJ1dGUgaW4gZGlmZikge1xuICAgICAgICAgICAgICAgIGlmICghZGlmZi5oYXNPd25Qcm9wZXJ0eShhdHRyaWJ1dGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNBcnJheSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpc0FycmF5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCEodHlwZW9mIGF0dHJpYnV0ZSA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUubGVuZ3RoIDwgMyB8fCBhdHRyaWJ1dGUuY2hhckF0KDApICE9PSAnWycgfHxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLmNoYXJBdChhdHRyaWJ1dGUubGVuZ3RoIC0gMSkgIT09ICddJykge1xuICAgICAgICAgICAgICAgICAgICBpc0FycmF5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBNZXJnZSBhcnJheXMuXG4gICAgaWYgKHZhcnMgaW5zdGFuY2VvZiBBcnJheSB8fCBpc0FycmF5KSB7XG4gICAgICAgIHZhciBtZXJnZWRfMSA9IFtdO1xuICAgICAgICB2YXJzSXRlcmF0b3IoZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgICAgICAgIG1lcmdlZF8xLnB1c2goYXR0cik7XG4gICAgICAgIH0pO1xuICAgICAgICBkaWZmSXRlcmF0b3IoZnVuY3Rpb24gKHZhclN1YnNjcmlwdCkge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdCA9IHBhcnNlSW50KHZhclN1YnNjcmlwdC5zdWJzdHJpbmcoMSwgdmFyU3Vic2NyaXB0Lmxlbmd0aCAtIDEpKTtcbiAgICAgICAgICAgIHZhciBkaWZmVmFsdWUgPSBkaWZmW3ZhclN1YnNjcmlwdF07XG4gICAgICAgICAgICB3aGlsZSAoc3Vic2NyaXB0ID49IG1lcmdlZF8xLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIG1lcmdlZF8xLnB1c2gobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXJnZWRfMVtzdWJzY3JpcHRdID0gbWVyZ2VIZWxwZXIobWVyZ2VkXzFbc3Vic2NyaXB0XSwgZGlmZlZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtZXJnZWRfMTtcbiAgICB9XG4gICAgLy8gTWVyZ2UgZGljdGlvbmFyaWVzLlxuICAgIHZhciBtZXJnZWQgPSB7fTtcbiAgICB2YXJzSXRlcmF0b3IoZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgICAgaWYgKGRpZmZbYXR0cl0gPT09IG51bGwgfHwgZGlmZlthdHRyXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBtZXJnZWRbYXR0cl0gPSB2YXJzW2F0dHJdO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgZGlmZkl0ZXJhdG9yKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAgIG1lcmdlZFthdHRyXSA9IG1lcmdlSGVscGVyKHZhcnMgPT09IG51bGwgPyBudWxsIDogdmFyc1thdHRyXSB8fCB7fSwgZGlmZlthdHRyXSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG1lcmdlZDtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=